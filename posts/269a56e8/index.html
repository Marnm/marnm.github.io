<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
    <meta http-equiv="Content-Language" content="zh-cn">
    <meta charset="utf-8">
    
    
    
    <title>MySQL备份与恢复（删库不跑路） | Deops&#39;s blog | 运维开发工程师</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no">
    
    <meta name="theme-color" content="#77AAFF">
    
    
    <meta name="keywords" content="">
    
    

    

    <!-- Baidu Push -->
<script>
	(function(){
		var bp = document.createElement('script');
		var curProtocol = window.location.protocol.split(':')[0];
		if (curProtocol === 'https') {
			bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
		}
		else {
			bp.src = 'http://push.zhanzhang.baidu.com/push.js';
		}
		var s = document.getElementsByTagName("script")[0];
		s.parentNode.insertBefore(bp, s);
	})();

	var _hmt = _hmt || [];
</script>



    
    <meta name="description" content="&amp;#x4E00;&amp;#xFF1A;MySQL&amp;#x5B57;&amp;#x7B26;&amp;#x96C6;1&amp;#xFF1A;&amp;#x5B57;&amp;#x7B26;&amp;#x96C6;&amp;#x4ECB;&amp;#x7ECD;&amp;#x5B57;&amp;#x7B26;&amp;#x96C6;&amp;#x5C31;&amp;#x662F;&amp;#x4E00;&amp;#x5957;&amp;#x6587;&amp;#x5B57;&amp;#x7B26;&amp;#x53F7;&amp;#x53CA;&amp;#x5176;&amp;#">
<meta name="keywords" content="Echo">
<meta property="og:type" content="article">
<meta property="og:title" content="MySQL备份与恢复（删库不跑路）">
<meta property="og:url" content="https://marnm.github.io/posts/269a56e8/index.html">
<meta property="og:site_name" content="Deops&#39;s blog">
<meta property="og:description" content="&amp;#x4E00;&amp;#xFF1A;MySQL&amp;#x5B57;&amp;#x7B26;&amp;#x96C6;1&amp;#xFF1A;&amp;#x5B57;&amp;#x7B26;&amp;#x96C6;&amp;#x4ECB;&amp;#x7ECD;&amp;#x5B57;&amp;#x7B26;&amp;#x96C6;&amp;#x5C31;&amp;#x662F;&amp;#x4E00;&amp;#x5957;&amp;#x6587;&amp;#x5B57;&amp;#x7B26;&amp;#x53F7;&amp;#x53CA;&amp;#x5176;&amp;#">
<meta property="og:locale" content="zh-Hans">
<meta property="og:updated_time" content="2022-06-07T05:13:38.103Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="MySQL备份与恢复（删库不跑路）">
<meta name="twitter:description" content="&amp;#x4E00;&amp;#xFF1A;MySQL&amp;#x5B57;&amp;#x7B26;&amp;#x96C6;1&amp;#xFF1A;&amp;#x5B57;&amp;#x7B26;&amp;#x96C6;&amp;#x4ECB;&amp;#x7ECD;&amp;#x5B57;&amp;#x7B26;&amp;#x96C6;&amp;#x5C31;&amp;#x662F;&amp;#x4E00;&amp;#x5957;&amp;#x6587;&amp;#x5B57;&amp;#x7B26;&amp;#x53F7;&amp;#x53CA;&amp;#x5176;&amp;#">
    
        <link rel="alternate" type="application/atom+xml" title="Deops&#39;s blog" href="/atom.xml">
    
    <link rel="shortcut icon" href="/img/favicon.ico">
    <link id="style" rel="stylesheet" href="/css/style.css?v=3.0">
    <script>window.lazyScripts=[]</script>

    <!-- custom head -->
    
            
</head>

<body>
    <div id="loading" class="active"></div>
    <aside id="menu" class="hide">
  <div class="inner flex-row-vertical">
    <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menu-off">
        <i class="icon icon-lg icon-close"></i>
    </a>
    <div class="brand-wrap">
      <div class="brand">
        <a href="/" class="avatar waves-effect waves-circle waves-light">
          <img src="/img/avatar.gif" alt="avatar">
        </a>
        <hgroup class="introduce">
          <h5 class="nickname" id="name">Echo</h5>
          
            <div id="yiyanmotto" class="motto">&nbsp;</div>
          
        </hgroup>
      </div>
    </div>
    <div class="scroll-wrap flex-col">
      <ul class="nav">
        
              <li class="waves-block waves-effect">
                  <a href="/">
                    <i class="icon icon-lg icon-home"></i>
                    <span>主 页</span><i class="icon icon-lg icon-caret-left"></i>
                  </a>
              </li>
            
              <li class="waves-block waves-effect">
                  <a href="/archives">
                    <i class="icon icon-lg icon-archives"></i>
                    <span>归 档</span><i class="icon icon-lg icon-caret-left"></i>
                  </a>
              </li>
            
              <li class="waves-block waves-effect">
                  <a href="/categories">
                    <i class="icon icon-lg icon-th-list"></i>
                    <span>分 类</span><i class="icon icon-lg icon-caret-left"></i>
                  </a>
              </li>
            
              <li class="waves-block waves-effect">
                  <a href="/tags">
                    <i class="icon icon-lg icon-tags"></i>
                    <span>标 签</span><i class="icon icon-lg icon-caret-left"></i>
                  </a>
              </li>
            
              <li class="waves-block waves-effect">
                  <a href="/about">
                    <i class="icon icon-lg icon-smile-o"></i>
                    <span>关 于</span><i class="icon icon-lg icon-caret-left"></i>
                  </a>
              </li>
            
      <div class="nav2">
          
              <a class="nav2item" data-title="Email" href="http://mail.qq.com/cgi-bin/qm_share?t=qm_mailme&email=442KgIbNhZajhYybjoKKj82AjI4" target="_parent" title="Email">
                <i class="icon icon-lg icon-envelope-o envelope-o"></i>
              </a>
          
              <a class="nav2item" data-title="Github" href="https://github.com/Marnm" target="_blank" title="Github">
                <i class="icon icon-lg icon-github github"></i>
              </a>
          
              <a class="nav2item" data-title="我的哔哩哔哩" href="https://space.bilibili.com/31374976" target="_blank" title="我的哔哩哔哩">
                <i class="icon icon-lg icon-tv tv"></i>
              </a>
          

            </div>
        
      </ul>
        
    </div>
  </div>
 
</aside>


    <main id="main">
        <header class="top-header" id="header">
    <div class="flex-row">
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light on" id="menu-toggle">
          <i class="icon icon-lg icon-navicon"></i>
        </a>
        <div class="flex-col header-title ellipsis">MySQL备份与恢复（删库不跑路）</div>
        
        <div class="search-wrap" id="search-wrap">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="back">
                <i class="icon icon-lg icon-chevron-left"></i>
            </a>
            <input type="text" id="key" class="search-input" autocomplete="off" placeholder="输入感兴趣的关键字">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="search">
                <i class="icon icon-lg icon-search"></i>
            </a>
        </div>
        
        <a href="../../atom.xml" target="_blank" class="header-icon waves-effect waves-circle waves-light" id="Rss">
            <i class="icon icon-lg icon-rss"></i>
        </a>
    </div>
</header>
<header class="content-header post-header">
    
    
    <div class="container fade-scale">
        <div id="myheader">
            <h1 class="title">
                
            </h1>
            <h5 class="subtitle">
                
                
            </h5>
        </div>
    </div>

</header>


<div class="container body-wrap">
    
    <aside class="post-widget">
        <nav class="post-toc-wrap" id="post-toc">
            <h4>TOC</h4>
            <ol class="post-toc"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#一：MySQL字符集"><span class="post-toc-number">1.</span> <span class="post-toc-text">一：MySQL字符集</span></a></li></ol>
        </nav>
    </aside>
   
<article id="post-MySQL备份与恢复（删库不跑路）" class="post-article article-type-post fade" itemprop="blogPost">

    <div class="post-card">
        <h1 class="post-card-title">MySQL备份与恢复（删库不跑路）</h1>
        <div class="post-meta">
            <i class="icon icon-lg icon-calendar-o"></i>
            发表于
            <time class="post-time" title="2022-06-07 12:44:29" datetime="2022-06-07T04:44:29.000Z" itemprop="datePublished">2022-06-07</time>

            <br id="mybreak">
            
<script>
	mybreak.style="display:none";
</script>


            <i>·</i>
            

        </div>
        <div class="post-count-custom">
            <i class="icon icon-lg icon-comment-o"></i>
            阅读本文可能花费您&nbsp;<span class="post-count">107</span>&nbsp;分钟
        </div>
        <div class="post-content" id="post-content" itemprop="postContent">
            <h3 id="&#x4E00;&#xFF1A;MySQL&#x5B57;&#x7B26;&#x96C6;"><a href="#&#x4E00;&#xFF1A;MySQL&#x5B57;&#x7B26;&#x96C6;" class="headerlink" title="&#x4E00;&#xFF1A;MySQL&#x5B57;&#x7B26;&#x96C6;"></a>&#x4E00;&#xFF1A;MySQL&#x5B57;&#x7B26;&#x96C6;</h3><p><strong>1&#xFF1A;&#x5B57;&#x7B26;&#x96C6;&#x4ECB;&#x7ECD;</strong><br>&#x5B57;&#x7B26;&#x96C6;&#x5C31;&#x662F;&#x4E00;&#x5957;&#x6587;&#x5B57;&#x7B26;&#x53F7;&#x53CA;&#x5176;&#x7F16;&#x7801;&#x3001;&#x6BD4;&#x8F83;&#x89C4;&#x5219;&#x7684;&#x96C6;&#x5408;&#xFF0C;&#x7B2C;&#x4E00;&#x4E2A;&#x8BA1;&#x7B97;&#x673A;&#x5B57;&#x7B26;&#x96C6;ASC2&#xFF1B;MySQL&#x6570;&#x636E;&#x5E93;&#x5B57;&#x7B26;&#x96C6;&#x5305;&#x62EC;&#x5B57;&#x7B26;&#x96C6;&#xFF08;CHARACTER&#xFF09;&#x548C;&#x6821;&#x5BF9;&#x89C4;&#x5219;&#xFF08;COLLATION&#xFF09;&#x4E24;&#x4E2A;&#x6982;&#x5FF5;&#xFF0C;&#x5176;&#x4E2D;&#x5B57;&#x7B26;&#x96C6;&#x7528;&#x6765;&#x5B9A;&#x4E49;MySQL&#x6570;&#x636E;&#x5B57;&#x7B26;&#x4E32;&#x7684;&#x5B58;&#x50A8;&#x65B9;&#x5F0F;&#xFF0C;&#x800C;&#x6821;&#x5BF9;&#x89C4;&#x5219;&#x5B9A;&#x4E49;&#x6BD4;&#x8F83;&#x5B57;&#x7B26;&#x4E32;&#x7684;&#x65B9;&#x5F0F;</p>
<p><strong>2&#xFF1A;MySQL&#x6570;&#x636E;&#x5E93;&#x5E38;&#x89C1;&#x5B57;&#x7B26;&#x96C6;&#x4ECB;&#x7ECD;</strong></p>
<p>&#x9009;&#x62E9;&#x5B57;&#x7B26;&#x96C6;&#x5EFA;&#x8BAE;&#x4F7F;&#x7528;&#x56FD;&#x9645;&#x6807;&#x51C6;&#x7684;utf8</p>
<p><strong>3&#xFF1A;MySQL&#x600E;&#x6837;&#x9009;&#x62E9;&#x5408;&#x9002;&#x7684;&#x5B57;&#x7B26;&#x96C6;</strong><br>1&#x3001;&#x5982;&#x679C;&#x5904;&#x7406;&#x5404;&#x79CD;&#x5404;&#x6837;&#x7684;&#x6587;&#x5B57;&#xFF0C;&#x53D1;&#x5E03;&#x5230;&#x4E0D;&#x540C;&#x8BED;&#x8A00;&#x56FD;&#x5BB6;&#x5730;&#x533A;&#xFF0C;&#x5E94;&#x9009;Unicode&#x5B57;&#x7B26;&#x96C6;&#xFF0C;&#x5BF9;MySQL&#x6765;&#x8BF4;&#x5C31;&#x662F;utf8(&#x6BCF;&#x4E2A;&#x6C49;&#x5B57;&#x4E09;&#x4E2A;&#x5B57;&#x8282;)<br>2&#x3001;&#x5982;&#x679C;&#x53EA;&#x662F;&#x9700;&#x8981;&#x652F;&#x6301;&#x4E2D;&#x6587;&#xFF0C;&#x5E76;&#x4E14;&#x6570;&#x636E;&#x91CF;&#x5F88;&#x5927;&#xFF0C;&#x6027;&#x80FD;&#x8981;&#x6C42;&#x4E5F;&#x9AD8;&#xFF0C;&#x53EF;&#x9009;GBK(&#x5B9A;&#x957F;&#xFF0C;&#x6BCF;&#x4E2A;&#x6C49;&#x5B57;&#x5360;&#x53CC;&#x5B57;&#x8282;&#xFF0C;&#x82F1;&#x6587;&#x4E5F;&#x5360;&#x53CC;&#x5B57;&#x8282;)&#xFF0C;&#x5982;&#x679C;&#x662F;&#x5927;&#x91CF;&#x8FD0;&#x7B97;&#xFF0C;&#x6BD4;&#x8F83;&#x6392;&#x5E8F;&#x7B49;&#xFF0C;&#x5B9A;&#x957F;&#x5B57;&#x7B26;&#x96C6;&#x66F4;&#x5FEB;&#xFF0C;&#x6027;&#x80FD;&#x4E5F;&#x9AD8;<br>3&#x3001;&#x5904;&#x7406;&#x79FB;&#x52A8;&#x4E92;&#x8054;&#x7F51;&#x4E1A;&#x52A1;&#xFF0C;&#x53EF;&#x80FD;&#x9700;&#x8981;&#x4F7F;&#x7528;utf8mb4&#x5B57;&#x7B26;&#x96C6;</p>
<p><strong>4&#xFF1A;&#x67E5;&#x770B;&#x5F53;&#x524D;MySQL&#x652F;&#x6301;&#x7684;&#x5B57;&#x7B26;&#x96C6;</strong></p>
<p>MySQL&#x53EF;&#x4EE5;&#x652F;&#x6301;&#x591A;&#x79CD;&#x5B57;&#x7B26;&#x96C6;&#xFF0C;&#x540C;&#x4E00;&#x53F0;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x5E93;&#x6216;&#x8868;&#x7684;&#x4E0D;&#x540C;&#x5B57;&#x6BB5;&#x90FD;&#x53EF;&#x4EE5;&#x6307;&#x5B9A;&#x4E0D;&#x540C;&#x7684;&#x5B57;&#x7B26;&#x96C6;</p>
<pre><code>mysql -uroot -pJaking@vip.163.com -e &quot;show character set \G;&quot;  #&#x67E5;&#x770B;&#x6240;&#x6709;&#x7684;&#x5B57;&#x7B26;&#x96C6;
</code></pre><p>&#x67E5;&#x770B;&#x5E38;&#x7528;&#x7684;&#x5B57;&#x7B26;&#x96C6;&#xFF1A;</p>
<pre><code>mysql -uroot -pJaking@vip.163.com -e &quot;show character set\G;&quot; |egrep &quot;gbk|utf8|latin1&quot;|awk &apos;{print $0}&apos;
</code></pre><figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line">[root@jaking ~]# mysql -uroot -pJaking@vip.163.com -e &quot;show character set\G;&quot; | egrep &quot;gbk|utf8|latin1&quot;|awk &apos;{print $0}&apos;</span><br><span class="line">mysql: [Warning] Using a password on the command line interface can be insecure.</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; Charset: latin1</span><br><span class="line">Default collation: latin1_swedish_ci</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; Charset: gbk</span><br><span class="line">Default collation: gbk_chinese_ci</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; Charset: utf8</span><br><span class="line">Default collation: utf8_general_ci</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; Charset: utf8mb4</span><br><span class="line">Default collation: utf8mb4_general_ci</span><br></pre></td></tr></tbody></table></figure>
<p><strong>5&#xFF1A;&#x67E5;&#x770B;MySQL&#x5F53;&#x524D;&#x7684;&#x5B57;&#x7B26;&#x96C6;&#x8BBE;&#x7F6E;&#x60C5;&#x51B5;</strong><br></p><figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line">mysql&gt; show variables like &apos;character_set%&apos;;</span><br><span class="line">+<span class="comment">--------------------------+------------------------------------+</span></span><br><span class="line">| Variable_name&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | Value&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; |</span><br><span class="line">+<span class="comment">--------------------------+------------------------------------+</span></span><br><span class="line">| character_set_client&#xA0;&#xA0;&#xA0;&#xA0; | utf8&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;|</span><br><span class="line">| character_set_connection | utf8&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; |</span><br><span class="line">| character_set_database&#xA0;&#xA0; | utf8&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; |</span><br><span class="line">| character_set_filesystem | binary&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; |</span><br><span class="line">| character_set_results&#xA0;&#xA0;&#xA0; | utf8&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;|</span><br><span class="line">| character_set_server&#xA0;&#xA0;&#xA0;&#xA0; | utf8&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; |</span><br><span class="line">| character_set_system&#xA0;&#xA0;&#xA0;&#xA0; | utf8&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; |</span><br><span class="line">| character_sets_dir&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | /usr/local/mysql57/share/charsets/ |</span><br><span class="line">+<span class="comment">--------------------------+------------------------------------+</span></span><br><span class="line">8 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line">mysql&gt; <span class="keyword">show</span> <span class="built_in">character</span> <span class="keyword">set</span>;</span><br><span class="line">+<span class="comment">----------+---------------------------------+---------------------+--------+</span></span><br><span class="line">| Charset&#xA0; | Description&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | Default collation&#xA0;&#xA0; | Maxlen |</span><br><span class="line">+<span class="comment">----------+---------------------------------+---------------------+--------+</span></span><br><span class="line">| big5&#xA0;&#xA0;&#xA0;&#xA0; | Big5 Traditional Chinese&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | big5_chinese_ci&#xA0;&#xA0;&#xA0;&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 2 |</span><br><span class="line">| dec8&#xA0;&#xA0;&#xA0;&#xA0; | DEC West European&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | dec8_swedish_ci&#xA0;&#xA0;&#xA0;&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 1 |</span><br><span class="line">| cp850&#xA0;&#xA0;&#xA0; | DOS West European&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | cp850_general_ci&#xA0;&#xA0;&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 1 |</span><br><span class="line">| hp8&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | HP West European&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | hp8_english_ci&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 1 |</span><br><span class="line">| koi8r&#xA0;&#xA0;&#xA0; | KOI8-R Relcom Russian&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | koi8r_general_ci&#xA0;&#xA0;&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 1 |</span><br><span class="line">| latin1&#xA0;&#xA0; | cp1252 West European&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | latin1_swedish_ci&#xA0;&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 1 |</span><br><span class="line">| latin2&#xA0;&#xA0; | ISO 8859-2 Central European&#xA0;&#xA0;&#xA0;&#xA0; | latin2_general_ci&#xA0;&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 1 |</span><br><span class="line">| swe7&#xA0;&#xA0;&#xA0;&#xA0; | 7bit Swedish&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | swe7_swedish_ci&#xA0;&#xA0;&#xA0;&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 1 |</span><br><span class="line">| ascii&#xA0;&#xA0;&#xA0; | US ASCII&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | ascii_general_ci&#xA0;&#xA0;&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 1 |</span><br><span class="line">| ujis&#xA0;&#xA0;&#xA0;&#xA0; | EUC-JP Japanese&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | ujis_japanese_ci&#xA0;&#xA0;&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 3 |</span><br><span class="line">| sjis&#xA0;&#xA0;&#xA0;&#xA0; | Shift-JIS Japanese&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | sjis_japanese_ci&#xA0;&#xA0;&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 2 |</span><br><span class="line">| hebrew&#xA0;&#xA0; | ISO 8859-8 Hebrew&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | hebrew_general_ci&#xA0;&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 1 |</span><br><span class="line">| tis620&#xA0;&#xA0; | TIS620 Thai&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;| tis620_thai_ci&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 1 |</span><br><span class="line">| euckr&#xA0;&#xA0;&#xA0; | EUC-KR Korean&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | euckr_korean_ci&#xA0;&#xA0;&#xA0;&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 2 |</span><br><span class="line">| koi8u&#xA0;&#xA0;&#xA0; | KOI8-U Ukrainian&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | koi8u_general_ci&#xA0;&#xA0;&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 1 |</span><br><span class="line">| gb2312&#xA0;&#xA0; | GB2312 Simplified Chinese&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | gb2312_chinese_ci&#xA0;&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 2 |</span><br><span class="line">| greek&#xA0;&#xA0;&#xA0; | ISO 8859-7 Greek&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | greek_general_ci&#xA0;&#xA0;&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 1 |</span><br><span class="line">| cp1250&#xA0;&#xA0; | Windows Central European&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | cp1250_general_ci&#xA0;&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 1 |</span><br><span class="line">| gbk&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | GBK Simplified Chinese&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | gbk_chinese_ci&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 2 |</span><br><span class="line">| latin5&#xA0;&#xA0; | ISO 8859-9 Turkish&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | latin5_turkish_ci&#xA0;&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 1 |</span><br><span class="line">| armscii8 | ARMSCII-8 Armenian&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | armscii8_general_ci |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 1 |</span><br><span class="line">| utf8&#xA0;&#xA0;&#xA0;&#xA0; | UTF-8 Unicode&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | utf8_general_ci&#xA0;&#xA0;&#xA0;&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 3 |</span><br><span class="line">| ucs2&#xA0;&#xA0;&#xA0;&#xA0; | UCS-2 Unicode&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | ucs2_general_ci&#xA0;&#xA0;&#xA0;&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 2 |</span><br><span class="line">| cp866&#xA0;&#xA0;&#xA0; | DOS Russian&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | cp866_general_ci&#xA0;&#xA0;&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 1 |</span><br><span class="line">| keybcs2&#xA0; | DOS Kamenicky Czech-Slovak&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | keybcs2_general_ci&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 1 |</span><br><span class="line">| macce&#xA0;&#xA0;&#xA0; | Mac Central European&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &#xA0;| macce_general_ci&#xA0;&#xA0;&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 1 |</span><br><span class="line">| macroman | Mac West European&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | macroman_general_ci |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 1 |</span><br><span class="line">| cp852&#xA0;&#xA0;&#xA0; | DOS Central European&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | cp852_general_ci&#xA0;&#xA0;&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 1 |</span><br><span class="line">| latin7&#xA0;&#xA0; | ISO 8859-13 Baltic&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | latin7_general_ci&#xA0; &#xA0;|&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 1 |</span><br><span class="line">| utf8mb4&#xA0; | UTF-8 Unicode&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | utf8mb4_general_ci&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 4 |</span><br><span class="line">| cp1251&#xA0;&#xA0; | Windows Cyrillic&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | cp1251_general_ci&#xA0;&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 1 |</span><br><span class="line">| utf16&#xA0;&#xA0;&#xA0; | UTF-16 Unicode&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | utf16_general_ci&#xA0;&#xA0;&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 4 |</span><br><span class="line">| utf16le &#xA0;| UTF-16LE Unicode&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | utf16le_general_ci&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 4 |</span><br><span class="line">| cp1256&#xA0;&#xA0; | Windows Arabic&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | cp1256_general_ci&#xA0;&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 1 |</span><br><span class="line">| cp1257&#xA0;&#xA0; | Windows Baltic&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | cp1257_general_ci&#xA0;&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 1 |</span><br><span class="line">| utf32&#xA0;&#xA0;&#xA0; | UTF-32 Unicode&#xA0;&#xA0;&#xA0;&#xA0; &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;| utf32_general_ci&#xA0;&#xA0;&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 4 |</span><br><span class="line">| binary&#xA0;&#xA0; | Binary pseudo charset&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | binary&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 1 |</span><br><span class="line">| geostd8&#xA0; | GEOSTD8 Georgian&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | geostd8_general_ci&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 1 |</span><br><span class="line">| cp932&#xA0;&#xA0;&#xA0; | SJIS for Windows Japanese&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | cp932_japanese_ci&#xA0;&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 2 |</span><br><span class="line">| eucjpms&#xA0; | UJIS for Windows Japanese&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | eucjpms_japanese_ci |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 3 |</span><br><span class="line">| gb18030&#xA0; | China National Standard GB18030 | gb18030_chinese_ci&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 4 |</span><br><span class="line">+<span class="comment">----------+---------------------------------+---------------------+--------+</span></span><br><span class="line">41 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"><span class="string">``</span><span class="string">` </span></span><br><span class="line"><span class="string"> </span></span><br><span class="line"><span class="string">**&#x6539;&#x5B57;&#x7B26;&#x7F16;&#x7801;**</span></span><br><span class="line"><span class="string">`</span><span class="string">``</span>shell </span><br><span class="line">[root@jaking ~]<span class="comment"># echo character_set_server=utf8 &gt;&gt; /etc/my.cnf</span></span><br><span class="line">[root@jaking ~]<span class="comment"># cat /etc/my.cnf</span></span><br><span class="line">[<span class="keyword">client</span>]</span><br><span class="line">port=<span class="number">3306</span></span><br><span class="line">socket=/<span class="keyword">data</span>/mysql/mysql.sock</span><br><span class="line"> </span><br><span class="line">[mysqld]</span><br><span class="line"><span class="built_in">character</span>-<span class="keyword">set</span>-<span class="keyword">server</span>=utf8</span><br><span class="line"><span class="keyword">collation</span>-<span class="keyword">server</span>=utf8_general_ci</span><br><span class="line"> </span><br><span class="line"><span class="keyword">skip</span>-<span class="keyword">name</span>-resolve</span><br><span class="line"><span class="keyword">user</span>=mysql</span><br><span class="line">port=<span class="number">3306</span></span><br><span class="line">basedir=/usr/<span class="keyword">local</span>/mysql57</span><br><span class="line">datadir=/<span class="keyword">data</span>/mysql</span><br><span class="line">tmpdir=/tmp</span><br><span class="line">socket=/<span class="keyword">data</span>/mysql/mysql.sock</span><br><span class="line"> </span><br><span class="line"><span class="keyword">log</span>-<span class="keyword">error</span>=/<span class="keyword">data</span>/mysql/mysqld.log</span><br><span class="line">pid-<span class="keyword">file</span>=/<span class="keyword">data</span>/mysql/mysqld.pid </span><br><span class="line"><span class="keyword">default</span>-<span class="keyword">storage</span>-<span class="keyword">engine</span>=<span class="keyword">InnoDB</span></span><br><span class="line">character_set_server=utf8</span><br><span class="line">[root@jaking ~]<span class="comment"># systemctl restart mysqld</span></span><br><span class="line">[root@jaking ~]<span class="comment"># mysql -uroot -pJaking@vip.163.com</span></span><br><span class="line">mysql: [<span class="keyword">Warning</span>] <span class="keyword">Using</span> a <span class="keyword">password</span> <span class="keyword">on</span> the command line <span class="keyword">interface</span> can be insecure.</span><br><span class="line">Welcome <span class="keyword">to</span> the MySQL monitor.&#xA0; Commands <span class="keyword">end</span> <span class="keyword">with</span> ; or \g.</span><br><span class="line">Your MySQL connection id is 4</span><br><span class="line">Server version: 5.7.19 Source distribution</span><br><span class="line"> </span><br><span class="line">Copyright (c) 2000, 2017, Oracle and/or its affiliates. All rights reserved.</span><br><span class="line"> </span><br><span class="line">Oracle is a registered trademark of Oracle Corporation and/or its</span><br><span class="line">affiliates. Other names may be trademarks of their respective</span><br><span class="line">owners.</span><br><span class="line"> </span><br><span class="line">Type &apos;<span class="keyword">help</span>;&apos; or &apos;\h&apos; for help. <span class="keyword">Type</span> <span class="string">&apos;\c&apos;</span> <span class="keyword">to</span> <span class="keyword">clear</span> the <span class="keyword">current</span> <span class="keyword">input</span> statement.</span><br></pre></td></tr></tbody></table></figure><p></p>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line">mysql&gt; show variables like &apos;character_set%&apos;;</span><br><span class="line">+<span class="comment">--------------------------+------------------------------------+</span></span><br><span class="line">| Variable_name&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | Value&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; |</span><br><span class="line">+<span class="comment">--------------------------+------------------------------------+</span></span><br><span class="line">| character_set_client&#xA0;&#xA0;&#xA0;&#xA0; | utf8&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; |</span><br><span class="line">| character_set_connection | utf8&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; |</span><br><span class="line">| character_set_database&#xA0;&#xA0; | utf8&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;|</span><br><span class="line">| character_set_filesystem | binary&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; |</span><br><span class="line">| character_set_results&#xA0;&#xA0;&#xA0; | utf8&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; |</span><br><span class="line">| character_set_server&#xA0;&#xA0;&#xA0;&#xA0; | utf8&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; |</span><br><span class="line">| character_set_system&#xA0;&#xA0;&#xA0;&#xA0; | utf8&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;|</span><br><span class="line">| character_sets_dir&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | /usr/local/mysql57/share/charsets/ |</span><br><span class="line">+<span class="comment">--------------------------+------------------------------------+</span></span><br><span class="line">8 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">create</span> <span class="keyword">database</span> testdb;     </span><br><span class="line">Query OK, 1 row affected (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; show create database testdb;</span><br><span class="line">+<span class="comment">----------+-----------------------------------------------------------------+</span></span><br><span class="line">| Database | <span class="keyword">Create</span> <span class="keyword">Database</span>                                                 |</span><br><span class="line">+<span class="comment">----------+-----------------------------------------------------------------+</span></span><br><span class="line">| testdb   | <span class="keyword">CREATE</span> <span class="keyword">DATABASE</span> <span class="string">`testdb`</span> <span class="comment">/*!40100 DEFAULT CHARACTER SET utf8 */</span> |</span><br><span class="line">+<span class="comment">----------+-----------------------------------------------------------------+</span></span><br><span class="line"><span class="number">1</span> <span class="keyword">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></tbody></table></figure>
<p><strong>6&#xFF1A;&#x5B9E;&#x6218;&#xFF1A;&#x8FC1;&#x79FB;&#x6570;&#x636E;</strong></p>
<p> &#x80CC;&#x666F;&#xFF1A;&#x516C;&#x53F8;&#x4E1A;&#x52A1;&#x6570;&#x636E;book,&#x7531;&#x4E8E;&#x4E4B;&#x524D;&#x5EFA;&#x8868;&#x6CA1;&#x6CE8;&#x610F;&#x5B57;&#x7B26;&#x96C6;&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x5BFC;&#x81F4;&#x4E4B;&#x524D;&#x5199;&#x5165;&#x7684;&#x6570;&#x636E;&#x51FA;&#x73B0;&#x4E71;&#x7801;&#xFF1B;&#x73B0;&#x5728;&#x8981;&#x5C06;&#x4E4B;&#x524D;&#x7684;&#x6570;&#x636E;&#x548C;&#x73B0;&#x5728;&#x6570;&#x636E;&#x7684;&#x5B57;&#x7B26;&#x96C6;&#x4E00;&#x81F4;&#xFF0C;&#x4E0D;&#x51FA;&#x73B0;&#x4E71;&#x7801;&#x60C5;&#x51B5;&#xFF1B;&#x5C06;&#x5B57;&#x7B26;&#x96C6;&#x4E3A;latin1&#x5DF2;&#x6709;&#x8BB0;&#x5F55;&#x7684;&#x6570;&#x636E;&#x8F6C;&#x6210;utf8&#xFF0C;&#x5E76;&#x4E14;&#x5DF2;&#x7ECF;&#x5B58;&#x5728;&#x7684;&#x8BB0;&#x5F55;&#x4E0D;&#x4E71;&#x7801;</p>
<p>&#x6B65;&#x9AA4;<br>                 1&#xFF1A;&#x5EFA;&#x5E93;&#x53CA;&#x5EFA;&#x8868;&#x7684;&#x8BED;&#x53E5;&#x5BFC;&#x51FA;&#xFF0C;sed&#x6279;&#x91CF;&#x4FEE;&#x6539;&#x4E3A;utf8<br>                 2&#xFF1A;&#x5BFC;&#x51FA;&#x4E4B;&#x524D;&#x6240;&#x6709;&#x7684;&#x6570;&#x636E;<br>                 3&#xFF1A;&#x4FEE;&#x6539;mysql&#x670D;&#x52A1;&#x7AEF;&#x548C;&#x5BA2;&#x6237;&#x7AEF;&#x7F16;&#x7801;&#x4E3A;utf8<br>                 4&#xFF1A;&#x5220;&#x9664;&#x539F;&#x6709;&#x7684;&#x5E93;&#x8868;&#x53CA;&#x6570;&#x636E;<br>                 5&#xFF1A;&#x5BFC;&#x5165;&#x65B0;&#x7684;&#x5EFA;&#x5E93;&#x53CA;&#x5EFA;&#x8868;&#x8BED;&#x53E5;<br>                 6&#xFF1A;&#x5BFC;&#x5165;&#x4E4B;&#x524D;&#x7684;&#x6570;&#x636E;</p>
<p> &#x51C6;&#x5907;&#x521B;&#x5EFA;&#x6D4B;&#x8BD5;&#x5E93;&#x548C;&#x8868;&#x7684;SQL&#x8BED;&#x53E5;<br></p><figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">DATABASE</span> testbookdb;</span><br><span class="line"><span class="comment">#CREATE DATABASE `testbookdb` DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci;</span></span><br><span class="line"><span class="keyword">show</span> <span class="keyword">databases</span>;</span><br><span class="line"><span class="keyword">use</span> testbookdb;</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> book1 (bTypeId <span class="built_in">int</span>,bName <span class="built_in">char</span>(<span class="number">16</span>),price <span class="built_in">int</span>,publishing <span class="built_in">char</span>(<span class="number">16</span>));</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> book1(bTypeId,bName,price,publishing) <span class="keyword">VALUES</span>(<span class="string">&apos;1&apos;</span>,<span class="string">&apos;&#x300A;Linux&#x4ECE;&#x5165;&#x95E8;&#x5230;&#x7CBE;&#x901A;&#x300B;&apos;</span>,<span class="string">&apos;66&apos;</span>,<span class="string">&apos;&#x7535;&#x5B50;&#x5DE5;&#x4E1A;&#x51FA;&#x7248;&#x793E;&apos;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> book1(bTypeId,bName,price,publishing) <span class="keyword">VALUES</span>(<span class="string">&apos;2&apos;</span>,<span class="string">&apos;&#x300A;&#x4E91;&#x8BA1;&#x7B97;&#x8D8B;&#x52BF;&#x300B;&apos;</span>,<span class="string">&apos;68&apos;</span>,<span class="string">&apos;&#x4EBA;&#x6C11;&#x90AE;&#x7535;&#x51FA;&#x7248;&#x793E;&apos;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> book1(bTypeId,bName,price,publishing) <span class="keyword">VALUES</span>(<span class="string">&apos;3&apos;</span>,<span class="string">&apos;&#x300A;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x8BBE;&#x8BA1;&#x4E0E;&#x5B9E;&#x73B0;&#x300B;&apos;</span>,<span class="string">&apos;90&apos;</span>,<span class="string">&apos;&#x673A;&#x68B0;&#x5DE5;&#x4E1A;&#x51FA;&#x7248;&#x793E;&apos;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> book1(bTypeId,bName,price,publishing) <span class="keyword">VALUES</span>(<span class="string">&apos;4&apos;</span>,<span class="string">&apos;&#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL&#x300B;&apos;</span>,<span class="string">&apos;71&apos;</span>,<span class="string">&apos;&#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E;&apos;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> book1(bTypeId,bName,price,publishing) <span class="keyword">VALUES</span>(<span class="string">&apos;5&apos;</span>,<span class="string">&apos;&#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL2&#x300B;&apos;</span>,<span class="string">&apos;72&apos;</span>,<span class="string">&apos;&#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E;&apos;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> book1(bTypeId,bName,price,publishing) <span class="keyword">VALUES</span>(<span class="string">&apos;6&apos;</span>,<span class="string">&apos;&#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL3&#x300B;&apos;</span>,<span class="string">&apos;73&apos;</span>,<span class="string">&apos;&#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E;&apos;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> book1(bTypeId,bName,price,publishing) <span class="keyword">VALUES</span>(<span class="string">&apos;7&apos;</span>,<span class="string">&apos;&#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL4&#x300B;&apos;</span>,<span class="string">&apos;74&apos;</span>,<span class="string">&apos;&#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E;&apos;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> book1(bTypeId,bName,price,publishing) <span class="keyword">VALUES</span>(<span class="string">&apos;8&apos;</span>,<span class="string">&apos;&#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL5&#x300B;&apos;</span>,<span class="string">&apos;75&apos;</span>,<span class="string">&apos;&#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E;&apos;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> book1(bTypeId,bName,price,publishing) <span class="keyword">VALUES</span>(<span class="string">&apos;9&apos;</span>,<span class="string">&apos;&#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL6&#x300B;&apos;</span>,<span class="string">&apos;76&apos;</span>,<span class="string">&apos;&#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E;&apos;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> book1(bTypeId,bName,price,publishing) <span class="keyword">VALUES</span>(<span class="string">&apos;10&apos;</span>,<span class="string">&apos;&#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL7&#x300B;&apos;</span>,<span class="string">&apos;77&apos;</span>,<span class="string">&apos;&#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E;&apos;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> book1(bTypeId,bName,price,publishing) <span class="keyword">VALUES</span>(<span class="string">&apos;11&apos;</span>,<span class="string">&apos;&#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL8&#x300B;&apos;</span>,<span class="string">&apos;78&apos;</span>,<span class="string">&apos;&#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E;&apos;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> book1(bTypeId,bName,price,publishing) <span class="keyword">VALUES</span>(<span class="string">&apos;12&apos;</span>,<span class="string">&apos;&#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL9&#x300B;&apos;</span>,<span class="string">&apos;79&apos;</span>,<span class="string">&apos;&#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E;&apos;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> book1 (bTypeId <span class="built_in">int</span>,bName <span class="built_in">char</span>(<span class="number">16</span>),price <span class="built_in">int</span>,publishing <span class="built_in">char</span>(<span class="number">16</span>));</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> book1(bTypeId,bName,price,publishing) <span class="keyword">VALUES</span>(<span class="string">&apos;1&apos;</span>,<span class="string">&apos;Linux&apos;</span>,<span class="string">&apos;66&apos;</span>,<span class="string">&apos;DZ&apos;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> book1(bTypeId,bName,price,publishing) <span class="keyword">VALUES</span>(<span class="string">&apos;2&apos;</span>,<span class="string">&apos;CLD&apos;</span>,<span class="string">&apos;68&apos;</span>,<span class="string">&apos;RM&apos;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> book1(bTypeId,bName,price,publishing) <span class="keyword">VALUES</span>(<span class="string">&apos;3&apos;</span>,<span class="string">&apos;OS&apos;</span>,<span class="string">&apos;90&apos;</span>,<span class="string">&apos;JX&apos;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> book1(bTypeId,bName,price,publishing) <span class="keyword">VALUES</span>(<span class="string">&apos;4&apos;</span>,<span class="string">&apos;MySQL1&apos;</span>,<span class="string">&apos;71&apos;</span>,<span class="string">&apos;QH&apos;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> book1(bTypeId,bName,price,publishing) <span class="keyword">VALUES</span>(<span class="string">&apos;5&apos;</span>,<span class="string">&apos;MySQL2&apos;</span>,<span class="string">&apos;72&apos;</span>,<span class="string">&apos;QH&apos;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> book1(bTypeId,bName,price,publishing) <span class="keyword">VALUES</span>(<span class="string">&apos;6&apos;</span>,<span class="string">&apos;MySQL3&apos;</span>,<span class="string">&apos;73&apos;</span>,<span class="string">&apos;QH&apos;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> book1(bTypeId,bName,price,publishing) <span class="keyword">VALUES</span>(<span class="string">&apos;7&apos;</span>,<span class="string">&apos;MySQL4&apos;</span>,<span class="string">&apos;74&apos;</span>,<span class="string">&apos;QH&apos;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> book1(bTypeId,bName,price,publishing) <span class="keyword">VALUES</span>(<span class="string">&apos;8&apos;</span>,<span class="string">&apos;MySQL5&apos;</span>,<span class="string">&apos;75&apos;</span>,<span class="string">&apos;QH&apos;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> book1(bTypeId,bName,price,publishing) <span class="keyword">VALUES</span>(<span class="string">&apos;9&apos;</span>,<span class="string">&apos;MySQL6&apos;</span>,<span class="string">&apos;76&apos;</span>,<span class="string">&apos;QH&apos;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> book1(bTypeId,bName,price,publishing) <span class="keyword">VALUES</span>(<span class="string">&apos;10&apos;</span>,<span class="string">&apos;MySQL7&apos;</span>,<span class="string">&apos;77&apos;</span>,<span class="string">&apos;QH&apos;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> book1(bTypeId,bName,price,publishing) <span class="keyword">VALUES</span>(<span class="string">&apos;11&apos;</span>,<span class="string">&apos;MySQL8&apos;</span>,<span class="string">&apos;78&apos;</span>,<span class="string">&apos;QH&apos;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> book1(bTypeId,bName,price,publishing) <span class="keyword">VALUES</span>(<span class="string">&apos;12&apos;</span>,<span class="string">&apos;MySQL9&apos;</span>,<span class="string">&apos;79&apos;</span>,<span class="string">&apos;QH&apos;</span>);</span><br><span class="line"></span><br><span class="line">mysql&gt; create database book;</span><br><span class="line">Query OK, 1 row affected (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; show create database book;</span><br><span class="line">+<span class="comment">----------+---------------------------------------------------------------+</span></span><br><span class="line">| Database | <span class="keyword">Create</span> <span class="keyword">Database</span>                                               |</span><br><span class="line">+<span class="comment">----------+---------------------------------------------------------------+</span></span><br><span class="line">| book     | <span class="keyword">CREATE</span> <span class="keyword">DATABASE</span> <span class="string">`book`</span> <span class="comment">/*!40100 DEFAULT CHARACTER SET utf8 */</span> |</span><br><span class="line">+<span class="comment">----------+---------------------------------------------------------------+</span></span><br><span class="line"><span class="number">1</span> <span class="keyword">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">use</span> book;</span><br><span class="line">Database changed</span><br><span class="line"></span><br><span class="line">mysql&gt; CREATE TABLE book1 (bTypeId int,bName char(16),price int,publishing char(16)) character set latin1;</span><br><span class="line">Query OK, 0 rows affected (0.00 sec)</span><br><span class="line"> </span><br><span class="line">mysql&gt; show CREATE TABLE book1;</span><br><span class="line">+<span class="comment">-------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</span></span><br><span class="line">| Table | <span class="keyword">Create</span> <span class="keyword">Table</span>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;|</span><br><span class="line">+<span class="comment">-------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</span></span><br><span class="line">| book1 | <span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="string">`book1`</span> (</span><br><span class="line">&#xA0; <span class="string">`bTypeId`</span> <span class="built_in">int</span>(<span class="number">11</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span>,</span><br><span class="line">&#xA0; <span class="string">`bName`</span> <span class="built_in">char</span>(<span class="number">16</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span>,</span><br><span class="line">&#xA0; <span class="string">`price`</span> <span class="built_in">int</span>(<span class="number">11</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span>,</span><br><span class="line">&#xA0; <span class="string">`publishing`</span> <span class="built_in">char</span>(<span class="number">16</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span></span><br><span class="line">) <span class="keyword">ENGINE</span>=<span class="keyword">InnoDB</span> <span class="keyword">DEFAULT</span> <span class="keyword">CHARSET</span>=latin1 |</span><br><span class="line">+<span class="comment">-------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</span></span><br><span class="line"><span class="number">1</span> <span class="keyword">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.02</span> sec)</span><br></pre></td></tr></tbody></table></figure><p></p>
<p><strong>&#x4FEE;&#x6539;&#x6570;&#x636E;&#x5E93;&#x5B57;&#x7B26;&#x96C6;</strong><br></p><figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line">mysql&gt; show create database book;</span><br><span class="line">+<span class="comment">----------+---------------------------------------------------------------+</span></span><br><span class="line">| Database | <span class="keyword">Create</span> <span class="keyword">Database</span>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; |</span><br><span class="line">+<span class="comment">----------+---------------------------------------------------------------+</span></span><br><span class="line">| book&#xA0;&#xA0;&#xA0;&#xA0; | <span class="keyword">CREATE</span> <span class="keyword">DATABASE</span> <span class="string">`book`</span> <span class="comment">/*!40100 DEFAULT CHARACTER SET utf8 */</span> |</span><br><span class="line">+<span class="comment">----------+---------------------------------------------------------------+</span></span><br><span class="line"><span class="number">1</span> <span class="keyword">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"> </span><br><span class="line">mysql&gt; <span class="keyword">alter</span> <span class="keyword">database</span> book <span class="keyword">default</span> <span class="built_in">character</span> <span class="keyword">set</span> latin1;</span><br><span class="line">Query OK, 1 row affected (0.00 sec)</span><br><span class="line"> </span><br><span class="line">mysql&gt; show create database book;</span><br><span class="line">+<span class="comment">----------+-----------------------------------------------------------------+</span></span><br><span class="line">| Database | <span class="keyword">Create</span> <span class="keyword">Database</span>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; |</span><br><span class="line">+<span class="comment">----------+-----------------------------------------------------------------+</span></span><br><span class="line">| book&#xA0;&#xA0;&#xA0;&#xA0; | <span class="keyword">CREATE</span> <span class="keyword">DATABASE</span> <span class="string">`book`</span> <span class="comment">/*!40100 DEFAULT CHARACTER SET latin1 */</span> |</span><br><span class="line">+<span class="comment">----------+-----------------------------------------------------------------+</span></span><br><span class="line"><span class="number">1</span> <span class="keyword">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.01</span> sec)</span><br></pre></td></tr></tbody></table></figure><p></p>
<p><strong>&#x4FEE;&#x6539;&#x8868;&#x7684;&#x5B57;&#x7B26;&#x96C6;</strong><br> </p><figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line">mysql&gt; show create table book1;</span><br><span class="line">+<span class="comment">-------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</span></span><br><span class="line">| Table | <span class="keyword">Create</span> <span class="keyword">Table</span>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;|</span><br><span class="line">+<span class="comment">-------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</span></span><br><span class="line">| book1 | <span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="string">`book1`</span> (</span><br><span class="line">&#xA0; <span class="string">`bTypeId`</span> <span class="built_in">int</span>(<span class="number">11</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span>,</span><br><span class="line">&#xA0; <span class="string">`bName`</span> <span class="built_in">char</span>(<span class="number">16</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span>,</span><br><span class="line">&#xA0; <span class="string">`price`</span> <span class="built_in">int</span>(<span class="number">11</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span>,</span><br><span class="line">&#xA0; <span class="string">`publishing`</span> <span class="built_in">char</span>(<span class="number">16</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span></span><br><span class="line">) <span class="keyword">ENGINE</span>=<span class="keyword">InnoDB</span> <span class="keyword">DEFAULT</span> <span class="keyword">CHARSET</span>=utf8 |</span><br><span class="line">+<span class="comment">-------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</span></span><br><span class="line"><span class="number">1</span> <span class="keyword">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"> </span><br><span class="line">mysql&gt; <span class="keyword">alter</span> <span class="keyword">table</span> book1 <span class="keyword">default</span> <span class="built_in">character</span> <span class="keyword">set</span> latin1;</span><br><span class="line">Query OK, 0 rows affected (0.00 sec)</span><br><span class="line">Records: 0&#xA0; Duplicates: 0&#xA0; Warnings: 0</span><br><span class="line"> </span><br><span class="line">mysql&gt; show create table book1;</span><br><span class="line">+<span class="comment">-------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</span></span><br><span class="line">| Table | <span class="keyword">Create</span> <span class="keyword">Table</span>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;|</span><br><span class="line">+<span class="comment">-------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</span></span><br><span class="line">| book1 | <span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="string">`book1`</span> (</span><br><span class="line">&#xA0; <span class="string">`bTypeId`</span> <span class="built_in">int</span>(<span class="number">11</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span>,</span><br><span class="line">&#xA0; <span class="string">`bName`</span> <span class="built_in">char</span>(<span class="number">16</span>) <span class="built_in">CHARACTER</span> <span class="keyword">SET</span> utf8 <span class="keyword">DEFAULT</span> <span class="literal">NULL</span>,</span><br><span class="line">&#xA0; <span class="string">`price`</span> <span class="built_in">int</span>(<span class="number">11</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span>,</span><br><span class="line">&#xA0; <span class="string">`publishing`</span> <span class="built_in">char</span>(<span class="number">16</span>) <span class="built_in">CHARACTER</span> <span class="keyword">SET</span> utf8 <span class="keyword">DEFAULT</span> <span class="literal">NULL</span></span><br><span class="line">) <span class="keyword">ENGINE</span>=<span class="keyword">InnoDB</span> <span class="keyword">DEFAULT</span> <span class="keyword">CHARSET</span>=latin1 |</span><br><span class="line">+<span class="comment">-------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</span></span><br><span class="line"><span class="number">1</span> <span class="keyword">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></tbody></table></figure><p></p>
<p><strong>&#x6DF1;&#x5165;&#x7814;&#x7A76;&#x5B57;&#x7B26;&#x96C6;&#xFF1A;</strong><br></p><figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line">mysql&gt; drop table book1;</span><br><span class="line">Query OK, 0 rows affected (0.00 sec)</span><br><span class="line">mysql&gt;&#xA0;CREATE TABLE book1 (bTypeId int,bName char(16),price int,publishing char(16)) character set latin1;</span><br><span class="line">Query OK, 0 rows affected (0.01 sec)</span><br><span class="line"> </span><br><span class="line">mysql&gt; INSERT INTO book1(bTypeId,bName,price,publishing) VALUES(&apos;1&apos;,&apos;&#x300A;Linux&#x4ECE;&#x5165;&#x95E8;&#x5230;&#x7CBE;&#x901A;&#x300B;&apos;,&apos;66&apos;,&apos;&#x7535;&#x5B50;&#x5DE5;&#x4E1A;&#x51FA;&#x7248;&#x793E;&apos;);</span><br><span class="line">ERROR 1366 (HY000): Incorrect string value: &apos;\xE3\x80\x8ALin...&apos; for column &apos;bName&apos; at row 1</span><br><span class="line">mysql&gt; drop table book1;</span><br><span class="line">Query OK, 0 rows affected (0.00 sec)</span><br><span class="line"> </span><br><span class="line">mysql&gt;&#xA0; CREATE TABLE book1 (bTypeId int,bName char(16),price int,publishing char(16));</span><br><span class="line">Query OK, 0 rows affected (0.00 sec)</span><br><span class="line"> </span><br><span class="line">mysql&gt; INSERT INTO book1(bTypeId,bName,price,publishing) VALUES(&apos;1&apos;,&apos;&#x300A;Linux&#x4ECE;&#x5165;&#x95E8;&#x5230;&#x7CBE;&#x901A;&#x300B;&apos;,&apos;66&apos;,&apos;&#x7535;&#x5B50;&#x5DE5;&#x4E1A;&#x51FA;&#x7248;&#x793E;&apos;);</span><br><span class="line">ERROR 1366 (HY000): Incorrect string value: &apos;\xE3\x80\x8ALin...&apos; for column &apos;bName&apos; at row 1</span><br><span class="line">mysql&gt; show create table book1;</span><br><span class="line">+<span class="comment">-------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</span></span><br><span class="line">| Table | <span class="keyword">Create</span> <span class="keyword">Table</span>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;|</span><br><span class="line">+<span class="comment">-------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</span></span><br><span class="line">| book1 | <span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="string">`book1`</span> (</span><br><span class="line">&#xA0; <span class="string">`bTypeId`</span> <span class="built_in">int</span>(<span class="number">11</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span>,</span><br><span class="line">&#xA0; <span class="string">`bName`</span> <span class="built_in">char</span>(<span class="number">16</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span>,</span><br><span class="line">&#xA0; <span class="string">`price`</span> <span class="built_in">int</span>(<span class="number">11</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span>,</span><br><span class="line">&#xA0; <span class="string">`publishing`</span> <span class="built_in">char</span>(<span class="number">16</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span></span><br><span class="line">) <span class="keyword">ENGINE</span>=<span class="keyword">InnoDB</span> <span class="keyword">DEFAULT</span> <span class="keyword">CHARSET</span>=latin1 |</span><br><span class="line">+<span class="comment">-------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</span></span><br><span class="line"><span class="number">1</span> <span class="keyword">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"> </span><br><span class="line">mysql&gt; <span class="keyword">drop</span> <span class="keyword">table</span> book1;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; </span><br><span class="line">Query OK, 0 rows affected (0.01 sec)</span><br><span class="line"> </span><br><span class="line">mysql&gt;&#xA0; CREATE TABLE book1 (bTypeId int,bName char(16),price int,publishing char(16)) character set utf8;</span><br><span class="line">Query OK, 0 rows affected (0.01 sec)</span><br><span class="line"> </span><br><span class="line">mysql&gt; INSERT INTO book1(bTypeId,bName,price,publishing) VALUES(&apos;1&apos;,&apos;&#x300A;Linux&#x4ECE;&#x5165;&#x95E8;&#x5230;&#x7CBE;&#x901A;&#x300B;&apos;,&apos;66&apos;,&apos;&#x7535;&#x5B50;&#x5DE5;&#x4E1A;&#x51FA;&#x7248;&#x793E;&apos;);</span><br><span class="line">Query OK, 1 row affected (0.00 sec)</span><br><span class="line"> </span><br><span class="line">mysql&gt; select * from book1;</span><br><span class="line">+<span class="comment">---------+-------------------------------+-------+-----------------------+</span></span><br><span class="line">| bTypeId | bName&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | price | publishing&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; |</span><br><span class="line">+<span class="comment">---------+-------------------------------+-------+-----------------------+</span></span><br><span class="line">|&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 1 | &#x300A;Linux&#x4ECE;&#x5165;&#x95E8;&#x5230;&#x7CBE;&#x901A;&#x300B;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; |&#xA0;&#xA0;&#xA0; 66 | &#x7535;&#x5B50;&#x5DE5;&#x4E1A;&#x51FA;&#x7248;&#x793E;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; |</span><br><span class="line">+<span class="comment">---------+-------------------------------+-------+-----------------------+</span></span><br><span class="line">1 row in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">show</span> <span class="keyword">tables</span>;</span><br><span class="line">+<span class="comment">-----------------------+</span></span><br><span class="line">| Tables_in_testbookdb2 |</span><br><span class="line">+<span class="comment">-----------------------+</span></span><br><span class="line">| book1                 |</span><br><span class="line">+<span class="comment">-----------------------+</span></span><br><span class="line">1 row in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">CREATE</span> <span class="keyword">TABLE</span> book2 (bTypeId <span class="built_in">int</span>,bName <span class="built_in">char</span>(<span class="number">16</span>),price <span class="built_in">int</span>,publishing <span class="built_in">char</span>(<span class="number">16</span>)) <span class="built_in">character</span> <span class="keyword">set</span> utf8 <span class="keyword">COLLATE</span> utf8_general_ci;</span><br><span class="line">Query OK, 0 rows affected (0.01 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; INSERT INTO book2(bTypeId,bName,price,publishing) VALUES(&apos;1&apos;,&apos;&#x300A;Linux&#x4ECE;&#x5165;&#x95E8;&#x5230;&#x7CBE;&#x901A;&#x300B;&apos;,&apos;66&apos;,&apos;&#x7535;&#x5B50;&#x5DE5;&#x4E1A;&#x51FA;&#x7248;&#x793E;&apos;);</span><br><span class="line">Query OK, 1 row affected (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; show create table book2;</span><br><span class="line">+<span class="comment">-------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</span></span><br><span class="line">| Table | <span class="keyword">Create</span> <span class="keyword">Table</span>                                                                                                                                                                                        |</span><br><span class="line">+<span class="comment">-------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</span></span><br><span class="line">| book2 | <span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="string">`book2`</span> (</span><br><span class="line">  <span class="string">`bTypeId`</span> <span class="built_in">int</span>(<span class="number">11</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span>,</span><br><span class="line">  <span class="string">`bName`</span> <span class="built_in">char</span>(<span class="number">16</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span>,</span><br><span class="line">  <span class="string">`price`</span> <span class="built_in">int</span>(<span class="number">11</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span>,</span><br><span class="line">  <span class="string">`publishing`</span> <span class="built_in">char</span>(<span class="number">16</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span></span><br><span class="line">) <span class="keyword">ENGINE</span>=<span class="keyword">InnoDB</span> <span class="keyword">DEFAULT</span> <span class="keyword">CHARSET</span>=utf8 |</span><br><span class="line">+<span class="comment">-------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</span></span><br><span class="line"><span class="number">1</span> <span class="keyword">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">show</span> <span class="keyword">create</span> <span class="keyword">table</span> book1;</span><br><span class="line">+<span class="comment">-------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</span></span><br><span class="line">| Table | <span class="keyword">Create</span> <span class="keyword">Table</span>                                                                                                                                                                                                                                  |</span><br><span class="line">+<span class="comment">-------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</span></span><br><span class="line">| book1 | <span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="string">`book1`</span> (</span><br><span class="line">  <span class="string">`bTypeId`</span> <span class="built_in">int</span>(<span class="number">11</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span>,</span><br><span class="line">  <span class="string">`bName`</span> <span class="built_in">char</span>(<span class="number">16</span>) <span class="built_in">CHARACTER</span> <span class="keyword">SET</span> latin1 <span class="keyword">DEFAULT</span> <span class="literal">NULL</span>,</span><br><span class="line">  <span class="string">`price`</span> <span class="built_in">int</span>(<span class="number">11</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span>,</span><br><span class="line">  <span class="string">`publishing`</span> <span class="built_in">char</span>(<span class="number">16</span>) <span class="built_in">CHARACTER</span> <span class="keyword">SET</span> latin1 <span class="keyword">DEFAULT</span> <span class="literal">NULL</span></span><br><span class="line">) <span class="keyword">ENGINE</span>=<span class="keyword">InnoDB</span> <span class="keyword">DEFAULT</span> <span class="keyword">CHARSET</span>=utf8 |</span><br><span class="line">+<span class="comment">-------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</span></span><br><span class="line"><span class="number">1</span> <span class="keyword">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.01</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt;</span><br></pre></td></tr></tbody></table></figure><p></p>
<p><strong>1&#xFF09;&#xFF1A;&#x5BFC;&#x51FA;&#x8868;&#x7ED3;&#x6784;</strong></p>
<pre><code>mysqldump -uroot -pJaking@vip.163.com --default-character-set=latin1 -d  testbookdb &gt; booktable.sql 
</code></pre><p><strong>2&#xFF09;: &#x7F16;&#x8F91;booktable.sql &#x5C06;latin1&#x4FEE;&#x6539;&#x6210;utf8</strong></p>
<pre><code>vim booktable.sql &#x4FEE;&#x6539;&#x6240;&#x6709;latin1&#x4E3A;utf8
</code></pre><p><strong>3&#xFF09;: &#x786E;&#x4FDD;&#x6570;&#x636E;&#x5E93;&#x4E0D;&#x518D;&#x66F4;&#x65B0;&#xFF0C;&#x5BFC;&#x51FA;&#x6307;&#x5B9A;&#x5E93;&#x7684;&#x6240;&#x6709;&#x6570;&#x636E;</strong><br></p><figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line">mysqldump -uroot -pJaking@vip.163.com --quick --no-create-info --extended-insert --default-character-set=latin1 --databases  testbookdb &gt; bookdata.sql</span><br><span class="line"></span><br><span class="line">mysqldump -uroot -pJaking@vip.163.com --databases  testbookdb &gt; bookdata.sql         </span><br><span class="line"></span><br><span class="line">mysqldump -uroot -pJaking@vip.163.com --quick --no-create-info --extended-insert --default-character-set=latin1 -B  testbookdb &gt; bookdata.sql</span><br><span class="line"></span><br><span class="line">mysqldump -uroot -pJaking@vip.163.com --quick --no-create-info --extended-insert --default-character-set=latin1 -t testbookdb &gt; bookdata.sql</span><br><span class="line"></span><br><span class="line">mysqldump -uroot -pJaking@vip.163.com --databases  testbookdb &gt; bookdata.sql</span><br><span class="line"></span><br><span class="line">mysqldump -uroot -pJaking@vip.163.com -t testbookdb &gt; bookdata.sql</span><br><span class="line"></span><br><span class="line">mysqldump -uroot -pJaking@vip.163.com --quick --no-create-info --extended-insert --default-character-set=latin1  -A  &gt; ALL.sql</span><br><span class="line"></span><br><span class="line">mysqldump -uroot -pJaking@vip.163.com --quick --no-create-info --extended-insert  -A  &gt; ALL.sql</span><br><span class="line"> </span><br><span class="line">mysqldump -uroot -pJaking@vip.163.com --quick --no-create-info --extended-insert --default-character-set=utf8  --all-databases  &gt; ALL.sql</span><br><span class="line"></span><br><span class="line">mysqldump -uroot -pJaking@vip.163.com --all-databases  &gt; ALL.sql</span><br><span class="line"></span><br><span class="line">mysql -uroot -pJaking@vip.163.com &lt; ALL.sql</span><br></pre></td></tr></tbody></table></figure><p></p>
<p><strong>&#x53C2;&#x6570;&#x8BF4;&#x660E;&#xFF1A;</strong><br><code>--quick</code>:&#x7528;&#x4E8E;&#x8F6C;&#x50A8;&#x5927;&#x7684;&#x8868;&#xFF0C;&#x5F3A;&#x5236;mysqldump&#x4ECE;&#x670D;&#x52A1;&#x5668;&#x4E00;&#x6B21;&#x4E00;&#x884C;&#x7684;&#x68C0;&#x7D22;&#x6570;&#x636E;&#x800C;&#x4E0D;&#x662F;&#x68C0;&#x7D22;&#x6240;&#x6709;&#x884C;&#xFF0C;&#x5E76;&#x8F93;&#x51FA;&#x5F53;&#x524D;cache&#x5230;&#x5185;&#x5B58;&#x4E2D;<br><code>--no-create-info</code>:&#x4E0D;&#x8981;&#x521B;&#x5EFA;create table&#x8BED;&#x53E5;<br><code>--extended-insert</code>:&#x4F7F;&#x7528;&#x5305;&#x62EC;&#x51E0;&#x4E2A;values&#x5217;&#x8868;&#x7684;&#x591A;&#x884C;insert&#x8BED;&#x6CD5;&#xFF0C;&#x8FD9;&#x6837;&#x6587;&#x4EF6;&#x66F4;&#x5C0F;&#xFF0C;IO&#x4E5F;&#x5C0F;&#xFF0C;&#x5BFC;&#x5165;&#x6570;&#x636E;&#x65F6;&#x4F1A;&#x975E;&#x5E38;&#x5FEB;<br><code>--default-character-set=latin1</code>:&#x6309;&#x7167;&#x539F;&#x6709;&#x5B57;&#x7B26;&#x96C6;&#x5BFC;&#x51FA;&#x6570;&#x636E;&#xFF0C;&#x8FD9;&#x6837;&#x5BFC;&#x51FA;&#x7684;&#x6587;&#x4EF6;&#x4E2D;&#xFF0C;&#x6240;&#x6709;&#x4E2D;&#x6587;&#x90FD;&#x662F;&#x53EF;&#x89C1;&#x7684;&#xFF0C;&#x4E0D;&#x4F1A;&#x4FDD;&#x5B58;&#x6210;&#x4E71;&#x7801;<br><strong>4&#xFF09;&#xFF1A;&#x6253;&#x5F00;bookdata.sql &#x5C06;SET NAME latin1 &#x4FEE;&#x6539;&#x6210;SET NAME utf8</strong></p>
<pre><code>vim bookdata.sql 
/*!40101 SET NAMES utf8 */;
</code></pre><p><strong>5&#xFF09;: &#x91CD;&#x65B0;&#x5EFA;&#x5E93;</strong><br></p><figure class="highlight"><table><tbody><tr><td class="code"><pre><span class="line">mysql&gt; create database  testdb default charset utf8;</span><br></pre></td></tr></tbody></table></figure><p></p>
<p><strong>6&#xFF09;&#xFF1A;&#x5EFA;&#x7ACB;&#x8868;&#xFF0C;&#x5BFC;&#x5165;&#x6211;&#x4EEC;&#x4E4B;&#x524D;&#x5BFC;&#x51FA;&#x7684;&#x8868;&#x7684;&#x8868;&#x7ED3;&#x6784;</strong><br></p><figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line">mysql -uroot -pJaking@vip.163.com testdb &lt; booktable.sql</span><br></pre></td></tr></tbody></table></figure><p></p>
<p><strong>7&#xFF09;: &#x5BFC;&#x5165;&#x6570;&#x636E;</strong></p>
<pre><code>mysql -uroot -pJaking@vip.163.com testdb &lt; bookdata.sql
&#x6CE8;&#x610F;&#xFF1A;&#x9009;&#x62E9;&#x76EE;&#x6807;&#x5B57;&#x7B26;&#x96C6;&#x65F6;&#xFF0C;&#x8981;&#x6CE8;&#x610F;&#x6700;&#x597D;&#x5927;&#x4E8E;&#x7B49;&#x4E8E;&#x539F;&#x5B57;&#x7B26;&#x96C6;&#xFF08;&#x5B57;&#x5E93;&#x66F4;&#x5927;&#xFF09;&#xFF0C;&#x5426;&#x5219;&#x53EF;&#x80FD;&#x4F1A;&#x4E22;&#x5931;&#x4E0D;&#x88AB;&#x652F;&#x6301;&#x7684;&#x6570;&#x636E;
</code></pre><p><strong>&#x4E8C;&#xFF1A;MySQL&#x65E5;&#x5E38;&#x7EF4;&#x62A4;</strong></p>
<p><strong>1&#xFF1A;mysqlcheck mysql&#x4FEE;&#x590D;&#x5DE5;&#x5177;</strong></p>
<p>mysqlcheck&#x5BA2;&#x6237;&#x7AEF;&#x5DE5;&#x5177;&#x53EF;&#x4EE5;&#x68C0;&#x67E5;&#x548C;&#x4FEE;&#x590D;MyISAM&#x8868;&#xFF0C;&#x8FD8;&#x53EF;&#x4EE5;&#x4F18;&#x5316;&#x548C;&#x5206;&#x6790;&#x8868;&#x3002;<br>&#x5B9E;&#x9645;&#x4E0A;&#xFF0C;&#x5B83;&#x96C6;&#x6210;&#x4E86;mysql&#x5DE5;&#x5177;&#x4E2D;check&#x3001;repair&#x3001;analyze&#x3001;tmpimize&#x7684;&#x529F;&#x80FD;&#x3002;<br>/usr/local/mysql/bin/mysqlcheck   #&#x6E90;&#x7801;&#x7F16;&#x8BD1;&#x5B89;&#x88C5;&#x4F4D;&#x7F6E;</p>
<figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line">rpm -qf `which mysqlcheck` &#xA0;yum&#x5B89;&#x88C5;&#x67E5;&#x770B;</span><br><span class="line">[root@jaking ~]# rpm -qf `which mysqlcheck`</span><br><span class="line">file /usr/local/mysql57/bin/mysqlcheck is not owned by any package</span><br><span class="line">[root@jaking ~]# yum provides mysqlcheck</span><br><span class="line">Loaded plugins: product-id, search-disabled-repos, subscription-manager</span><br><span class="line">This system is not registered to Red Hat Subscription Management. You can use subscription-manager to register.</span><br><span class="line">1:mariadb-5.5.52-1.el7.x86_64 : A community developed branch of MySQL</span><br><span class="line">Repo&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; : rhel7</span><br><span class="line">Matched from:</span><br><span class="line">Filename&#xA0;&#xA0;&#xA0; : /usr/bin/mysqlcheck</span><br><span class="line">[root@jaking ~]# yum install -y mariadb-5.5.52-1.el7.x86_64</span><br><span class="line">[root@jaking ~]# rpm -qf `which mysqlcheck`</span><br><span class="line">mariadb-5.5.52-1.el7.x86_64</span><br><span class="line">[root@jaking ~]# which mysqlcheck</span><br><span class="line">/usr/bin/mysqlcheck</span><br></pre></td></tr></tbody></table></figure>
<p>&#x53C2;&#x6570;&#x9009;&#x9879;&#xFF1A;<br>mysqlcheck &#x2013;help &#x67E5;&#x770B;&#x5E2E;&#x52A9;<br><code>-c</code>, &#x2013;check (&#x68C0;&#x67E5;&#x8868;)&#xFF1B;<br><code>-r</code>, &#x2013;repair&#xFF08;&#x4FEE;&#x590D;&#x8868;)&#xFF1B;<br><code>-a</code>, &#x2013;analyze (&#x5206;&#x6790;&#x8868;)&#xFF1B;<br><code>-o</code>, &#x2013;tmpimize(&#x4F18;&#x5316;&#x8868;)&#xFF1B; //&#x5176;&#x4E2D;&#xFF0C;&#x9ED8;&#x8BA4;&#x9009;&#x9879;&#x662F;-c(&#x68C0;&#x67E5;&#x8868;)<br><code>-u</code>&#xFF0C; &#x4F7F;&#x7528;mysql&#x4E2D;&#x54EA;&#x4E2A;&#x7528;&#x6237;&#x8FDB;&#x884C;&#x64CD;&#x4F5C;</p>
<p>mysqlcheck&#x4F7F;&#x7528;&#x8BED;&#x6CD5;&#xFF1A;<br>&#x4F7F;&#x7528;&#x4EE5;&#x4E0B;3&#x79CD;&#x65B9;&#x5F0F;&#x6765;&#x8C03;&#x7528;mysqlcheck&#xFF1A;<br>mysqlcheck[tmpions] db_name [tables]<br>mysqlcheck[tmpions] &#x2014;database DB1 [DB2 DB3&#x2026;]<br>mysqlcheck[tmpions] &#x2013;all&#x2013;databases<br>&#x5982;&#x679C;&#x6CA1;&#x6709;&#x6307;&#x5B9A;&#x4EFB;&#x4F55;&#x8868;&#x6216;&#x4F7F;&#x7528;&#x2014;databases(-B)&#x6216;&#x2013;all&#x2013;databases(-A)&#x9009;&#x9879;&#xFF0C;&#x5219;&#x68C0;&#x67E5;&#x6574;&#x4E2A;&#x6570;&#x636E;&#x5E93;&#x3002;</p>
<p>&#x4E3E;&#x4F8B;&#x8BF4;&#x660E;&#xFF1A;</p>
<p>1&#xFF1A;&#x68C0;&#x67E5;&#x8868;(check)<br></p><figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line">[root@jaking ~]# mysqlcheck -uroot -pJaking@vip.163.com -c testdb book1</span><br><span class="line">mysqlcheck: [Warning] Using a password on the command line interface can be insecure.</span><br><span class="line">testdb.book1                                       OK</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>2:  &#x4FEE;&#x590D;&#x8868;&#xFF08;repair&#xFF09;<br></p><figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line">[root@jaking ~]# mysqlcheck -uroot -pJaking@vip.163.com -r testdb book1</span><br><span class="line">mysqlcheck: [Warning] Using a password on the command line interface can be insecure.</span><br><span class="line">testdb.book1</span><br><span class="line">note     : The storage engine for the table doesn&apos;t support repair</span><br><span class="line"></span><br><span class="line">[root@jaking ~]# mysql -uroot -pJaking@vip.163.com</span><br><span class="line">mysql: [Warning] Using a password on the command line interface can be insecure.</span><br><span class="line">Welcome to the MySQL monitor.&#xA0; Commands end with ; or \g.</span><br><span class="line">Your MySQL connection id is 12</span><br><span class="line">Server version: 5.7.19 Source distribution</span><br><span class="line"> </span><br><span class="line">Copyright (c) 2000, 2017, Oracle and/or its affiliates. All rights reserved.</span><br><span class="line"> </span><br><span class="line">Oracle is a registered trademark of Oracle Corporation and/or its</span><br><span class="line">affiliates. Other names may be trademarks of their respective</span><br><span class="line">owners.</span><br><span class="line"> </span><br><span class="line">Type &apos;help;&apos; or &apos;\h&apos; for help. Type &apos;\c&apos; to clear the current input statement.</span><br></pre></td></tr></tbody></table></figure><p></p>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line">mysql&gt; show create table testdb.book1;</span><br><span class="line">+<span class="comment">-------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</span></span><br><span class="line">| Table | <span class="keyword">Create</span> <span class="keyword">Table</span>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; |</span><br><span class="line">+<span class="comment">-------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</span></span><br><span class="line">| book1 | <span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="string">`book1`</span> (</span><br><span class="line">&#xA0; <span class="string">`bTypeId`</span> <span class="built_in">int</span>(<span class="number">11</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span>,</span><br><span class="line">&#xA0;&#xA0;<span class="string">`bName`</span> <span class="built_in">char</span>(<span class="number">16</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span>,</span><br><span class="line">&#xA0; <span class="string">`price`</span> <span class="built_in">int</span>(<span class="number">11</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span>,</span><br><span class="line">&#xA0; <span class="string">`publishing`</span> <span class="built_in">char</span>(<span class="number">16</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span></span><br><span class="line">) <span class="keyword">ENGINE</span>=<span class="keyword">InnoDB</span> <span class="keyword">DEFAULT</span> <span class="keyword">CHARSET</span>=utf8 |</span><br><span class="line">+<span class="comment">-------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</span></span><br><span class="line"><span class="number">1</span> <span class="keyword">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"> </span><br><span class="line">mysql&gt; <span class="keyword">alter</span> <span class="keyword">table</span> testdb.book1 <span class="keyword">engine</span> = MyISAM;</span><br><span class="line">Query OK, 0 rows affected (0.00 sec)</span><br><span class="line">Records: 0&#xA0; Duplicates: 0&#xA0; Warnings: 0</span><br><span class="line"> </span><br><span class="line">mysql&gt; show create table testdb.book1;</span><br><span class="line">+<span class="comment">-------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</span></span><br><span class="line">| Table | <span class="keyword">Create</span> <span class="keyword">Table</span> &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;|</span><br><span class="line">+<span class="comment">-------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</span></span><br><span class="line">| book1 | <span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="string">`book1`</span> (</span><br><span class="line">&#xA0; <span class="string">`bTypeId`</span> <span class="built_in">int</span>(<span class="number">11</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span>,</span><br><span class="line">&#xA0; <span class="string">`bName`</span> <span class="built_in">char</span>(<span class="number">16</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span>,</span><br><span class="line">&#xA0; <span class="string">`price`</span> <span class="built_in">int</span>(<span class="number">11</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span>,</span><br><span class="line">&#xA0; <span class="string">`publishing`</span> <span class="built_in">char</span>(<span class="number">16</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span></span><br><span class="line">) <span class="keyword">ENGINE</span>=MyISAM <span class="keyword">DEFAULT</span> <span class="keyword">CHARSET</span>=utf8 |</span><br><span class="line">+<span class="comment">-------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</span></span><br><span class="line"><span class="number">1</span> <span class="keyword">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line">mysql&gt; <span class="keyword">exit</span></span><br><span class="line">Bye</span><br></pre></td></tr></tbody></table></figure>
<figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line">[root@jaking ~]# mysqlcheck -uroot -pJaking@vip.163.com -r testdb book1</span><br><span class="line">mysqlcheck: [Warning] Using a password on the command line interface can be insecure.</span><br><span class="line">testdb.book1                                       OK</span><br><span class="line"> </span><br><span class="line">3:&#x4FEE;&#x590D;&#x6307;&#x5B9A;&#x7684;&#x6570;&#x636E;&#x5E93;</span><br><span class="line">[root@jaking ~]# mysqlcheck -uroot -pJaking@vip.163.com -r testdb book1</span><br><span class="line">mysqlcheck: [Warning] Using a password on the command line interface can be insecure.</span><br><span class="line">testdb.book1                                       OK&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;</span><br><span class="line"></span><br><span class="line">[root@jaking ~]# mysqlcheck -uroot -p  -r --databases testdb</span><br><span class="line">Enter password: </span><br><span class="line">testdb.book1                                       OK</span><br><span class="line">testdb.book2</span><br><span class="line">note     : The storage engine for the table doesn&apos;t support repair</span><br></pre></td></tr></tbody></table></figure>
<p>&#x6269;&#x5C55;&#xFF1A; &#x4FEE;&#x590D;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#xFF0C;&#x5BB9;&#x6613;&#x6389;&#x5931;&#x6570;&#x636E;</p>
<pre><code>fsck -y -f /dev/sdbx
</code></pre><p>4:  &#x68C0;&#x67E5;&#x4FEE;&#x590D;&#x6240;&#x6709;&#x6570;&#x636E;&#x5E93;<br></p><figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line">[root@jaking ~]# mysqlcheck -uroot -pJaking@vip.163.com -A -r</span><br><span class="line">book.book1&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; OK</span><br><span class="line">book2.book1</span><br><span class="line">note&#xA0;&#xA0;&#xA0;&#xA0; : The storage engine for the table doesn&apos;t support repair</span><br><span class="line">market.order</span><br><span class="line">note&#xA0;&#xA0;&#xA0;&#xA0; : The storage engine for the table doesn&apos;t support repair</span><br><span class="line">market.order1</span><br><span class="line">note&#xA0;&#xA0;&#xA0;&#xA0; : The storage engine for the table doesn&apos;t support repair</span><br><span class="line">market.user</span><br><span class="line">note&#xA0;&#xA0;&#xA0;&#xA0; : The storage engine for the table doesn&apos;t support repair</span><br><span class="line">mysql.columns_priv&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; OK</span><br><span class="line">mysql.db&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; OK</span><br><span class="line">mysql.engine_cost</span><br><span class="line">note&#xA0;&#xA0;&#xA0;&#xA0; : The storage engine for the table doesn&apos;t support repair</span><br><span class="line">mysql.event&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; OK</span><br><span class="line">mysql.func&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; OK</span><br><span class="line">mysql.gtid_executed</span><br><span class="line">Warning&#xA0; : Please do not modify the gtid_executed table. This is a mysql internal system table to store GTIDs for committed transactions. Modifying it can lead to an inconsistent GTID state.</span><br><span class="line">note&#xA0;&#xA0;&#xA0;&#xA0; : The storage engine for the table doesn&apos;t support repair</span><br><span class="line">mysql.help_category</span><br><span class="line">note&#xA0;&#xA0;&#xA0;&#xA0; : The storage engine for the table doesn&apos;t support repair</span><br><span class="line">mysql.help_keyword</span><br><span class="line">note&#xA0;&#xA0;&#xA0;&#xA0; : The storage engine for the table doesn&apos;t support repair</span><br><span class="line">mysql.help_relation</span><br><span class="line">note&#xA0;&#xA0;&#xA0;&#xA0; : The storage engine for the table doesn&apos;t support repair</span><br><span class="line">mysql.help_topic</span><br><span class="line">note&#xA0;&#xA0;&#xA0;&#xA0; : The storage engine for the table doesn&apos;t support repair</span><br><span class="line">mysql.innodb_index_stats</span><br><span class="line">note&#xA0;&#xA0;&#xA0;&#xA0; : The storage engine for the table doesn&apos;t support repair</span><br><span class="line">mysql.innodb_table_stats</span><br><span class="line">note&#xA0;&#xA0;&#xA0;&#xA0; : The storage engine for the table doesn&apos;t support repair</span><br><span class="line">mysql.ndb_binlog_index&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; OK</span><br><span class="line">mysql.plugin</span><br><span class="line">note&#xA0;&#xA0;&#xA0;&#xA0; : The storage engine for the table doesn&apos;t support repair</span><br><span class="line">mysql.proc&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; OK</span><br><span class="line">mysql.procs_priv&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; OK</span><br><span class="line">mysql.proxies_priv&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; OK</span><br><span class="line">mysql.server_cost</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>&#x53C2;&#x6570;-A &#x7B49;&#x4E8E;  &#x2013;all-databases  </p>
<p>5&#xFF1A;&#x6BCF;&#x5929;&#x5B9A;&#x65F6;&#x5BF9;mysql&#x6570;&#x636E;&#x5E93;&#x8FDB;&#x884C;&#x4F18;&#x5316;</p>
<p>&#x4F7F;&#x7528;&#x8BA1;&#x5212;&#x4EFB;&#x52A1;<br></p><figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line">crontab -e</span><br><span class="line"><span class="meta">#</span><span class="bash">0 1 * * * /usr/bin/mysqlcheck -A -o -r&#xA0; -u&#x4F60;&#x7684;&#x7528;&#x6237;&#x540D; -p&#x4F60;&#x7684;&#x5BC6;&#x7801; &gt; /dev/null 2&gt;&amp;1</span></span><br><span class="line"></span><br><span class="line">0 3 * * *&#xA0; /usr/bin/mysqlcheck -uroot -pJaking@vip.163.com -r -o -A &gt; /dev/null 2&gt;&amp;1 #&#x6BCF;&#x5929;3&#x70B9;&#x4F18;&#x5316;</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>2&#xFF1A;MySQL&#x5907;&#x4EFD;&#x4E0E;&#x6062;&#x590D;</p>
<p>1)MySQL&#x5907;&#x4EFD;&#x7684;&#x7C7B;&#x578B;<br>&#x6309;&#x7167;&#x5907;&#x4EFD;&#x65F6;&#x5BF9;&#x6570;&#x636E;&#x5E93;&#x7684;&#x5F71;&#x54CD;&#x8303;&#x56F4;&#x5206;&#x4E3A;&#xFF1A;<br>Hot backup(&#x70ED;&#x5907;)  Cold Backup&#xFF08;&#x51B7;&#x5907;&#xFF09;Warm Backup&#xFF08;&#x6E29;&#x5907;&#xFF09;<br>Hot backup&#xFF1A;&#x70ED;&#x5907;&#x6307;&#x5728;&#x6570;&#x636E;&#x5E93;&#x8FD0;&#x884C;&#x4E2D;&#x76F4;&#x63A5;&#x5907;&#x4EFD;&#xFF0C;&#x5BF9;&#x6B63;&#x5728;&#x8FD0;&#x884C;&#x7684;&#x6570;&#x636E;&#x5E93;&#x6CA1;&#x6709;&#x4EFB;&#x4F55;&#x5F71;&#x54CD;&#xFF0C;&#xFF08;Online Backup&#xFF09;&#x5B98;&#x65B9;&#x624B;&#x518C;&#x4E3A;&#x5728;&#x7EBF;&#x5907;&#x4EFD;<br>Cold Backup&#xFF1A;&#x51B7;&#x5907;&#x6307;&#x5728;&#x6570;&#x636E;&#x5E93;&#x505C;&#x6B62;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#x8FDB;&#x884C;&#x5907;&#x4EFD;&#xFF0C;(OfflineBackup) &#x5B98;&#x65B9;&#x624B;&#x518C;&#x79F0;&#x4E3A;&#x79BB;&#x7EBF;&#x5907;&#x4EFD;<br>Warm Backup&#xFF1A;&#x6E29;&#x5907;&#x6307;&#x5907;&#x4EFD;&#x540C;&#x6837;&#x5728;&#x6570;&#x636E;&#x5E93;&#x8FD0;&#x884C;&#x65F6;&#x8FDB;&#x884C;&#xFF0C;&#x4F46;&#x662F;&#x4F1A;&#x5BF9;&#x5F53;&#x524D;&#x6570;&#x636E;&#x5E93;&#x7684;&#x64CD;&#x4F5C;&#x6709;&#x6240;&#x5F71;&#x54CD;&#xFF0C;&#x4F8B;&#x5982;&#x52A0;&#x4E00;&#x4E2A;&#x5168;&#x5C40;&#x8BFB;&#x9501;&#x4EE5;&#x4FDD;&#x8BC1;&#x5907;&#x4EFD;&#x6570;&#x636E;&#x7684;&#x4E00;&#x81F4;&#x6027;</p>
<p>&#x6309;&#x7167;&#x5907;&#x4EFD;&#x540E;&#x6587;&#x4EF6;&#x5185;&#x5BB9;&#xFF1A;</p>
<p>&#x903B;&#x8F91;&#x5907;&#x4EFD; &#x2013;&gt;<br>&#x6307;&#x5907;&#x4EFD;&#x540E;&#x7684;&#x6587;&#x4EF6;&#x5185;&#x5BB9;&#x662F;&#x53EF;&#x8BFB;&#x7684;&#xFF0C;&#x901A;&#x5E38;&#x4E3A;&#x6587;&#x672C;&#x6587;&#x4EF6;&#xFF0C;&#x5185;&#x5BB9;&#x4E00;&#x822C;&#x662F;SQL&#x8BED;&#x53E5;&#xFF0C;&#x6216;&#x8005;&#x662F;&#x8868;&#x5185;&#x7684;&#x5B9E;&#x9645;&#x6570;&#x636E;&#xFF0C;&#x5982;mysqldump&#x548C;SELECT * INTO OUTFILE&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x4E00;&#x822C;&#x9002;&#x7528;&#x4E8E;&#x6570;&#x636E;&#x5E93;&#x7684;&#x5347;&#x7EA7;&#x548C;&#x8FC1;&#x79FB;&#xFF0C;&#x6062;&#x590D;&#x65F6;&#x95F4;&#x8F83;&#x957F;</p>
<p>&#x88F8;&#x6587;&#x4EF6;&#x5907;&#x4EFD;&#x2013;&gt;<br>&#x62F7;&#x8D1D;&#x6570;&#x636E;&#x5E93;&#x7684;&#x7269;&#x7406;&#x6587;&#x4EF6;&#xFF0C;&#x6570;&#x636E;&#x5E93;&#x65E2;&#x53EF;&#x4EE5;&#x5904;&#x4E8E;&#x8FD0;&#x884C;&#x72B6;&#x6001;&#xFF08;mysqlhotcopy &#x3001;ibbackup&#x3001;xtrabackup&#x8FD9;&#x7C7B;&#x5DE5;&#x5177;&#xFF09;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x5904;&#x4E8E;&#x505C;&#x6B62;&#x72B6;&#x6001;&#xFF0C;&#x6062;&#x590D;&#x65F6;&#x95F4;&#x8F83;&#x77ED;&#x3002;</p>
<p>&#x6309;&#x7167;&#x5907;&#x4EFD;&#x6570;&#x636E;&#x5E93;&#x7684;&#x5185;&#x5BB9;&#x6765;&#x5206;&#xFF0C;&#x53C8;&#x53EF;&#x4EE5;&#x5206;&#x4E3A;&#xFF1A;<br>&#x5B8C;&#x5168;&#x5907;&#x4EFD;&#xFF1A;&#x5BF9;&#x6570;&#x636E;&#x5E93;&#x5B8C;&#x6574;&#x7684;&#x5907;&#x4EFD;<br>&#x589E;&#x91CF;&#x5907;&#x4EFD;&#xFF1A;&#x5728;&#x4E0A;&#x4E00;&#x6B21;&#x5B8C;&#x5168;&#x5907;&#x4EFD;&#x57FA;&#x7840;&#x4E0A;&#xFF0C;&#x5BF9;&#x66F4;&#x65B0;&#x7684;&#x6570;&#x636E;&#x8FDB;&#x884C;&#x5907;&#x4EFD;&#xFF08;xtrabackup&#xFF09;<br>&#x65E5;&#x5FD7;&#x5907;&#x4EFD;&#xFF1A;&#x4E8C;&#x8FDB;&#x5236;&#x65E5;&#x5FD7;&#x5907;&#x4EFD;&#xFF0C;&#x4E3B;&#x4ECE;&#x590D;&#x5236;</p>
<p>2)&#x903B;&#x8F91;&#x5907;&#x4EFD;&#x5DE5;&#x5177;mysqldump<br>&#x4F7F;&#x7528;&#x7684;&#x65F6;&#x5019;MySQL&#x5F53;&#x8981;&#x5BFC;&#x5165;&#x6216;&#x8005;&#x5BFC;&#x51FA;&#x6570;&#x636E;&#x91CF;&#x5927;&#x7684;&#x5E93;&#x7684;&#x65F6;&#x5019;,&#x7528;PHPMYADMIN&#x751A;&#x81F3;MySQL Administrator&#x8FD9;&#x4E9B;&#x5DE5;&#x5177;&#x90FD;&#x4F1A;&#x529B;&#x4E0D;&#x4ECE;&#x5FC3;,&#x8FD9;&#x65F6;&#x53EA;&#x80FD;&#x4F7F;&#x7528;MySQL&#x6240;&#x63D0;&#x4F9B;&#x7684;&#x547D;&#x4EE4;&#x884C;&#x5DE5;&#x5177;mysqldump&#x8FDB;&#x884C;&#x5907;&#x4EFD;&#x6062;&#x590D;&#xFF1B;&#x6570;&#x636E;&#x91CF;&#x5927;&#x7684;&#x65F6;&#x5019;&#x4E0D;&#x63A8;&#x8350;&#x4F7F;&#x7528;&#xFF0C;&#x53EF;&#x652F;&#x6301;MyISAM,InnoDB</p>
<p>MySQL&#x6570;&#x636E;&#x7684;&#x5BFC;&#x51FA;&#x548C;&#x5BFC;&#x5165;&#x5DE5;&#x5177;: mysqldump</p>
<p>&#x5BFC;&#x51FA;&#x6570;&#x636E;&#xFF1A;<br>&#x8BED;&#x6CD5;&#xFF1A; mysqldump [TMPIONS] database [tables] &gt;&#x5BFC;&#x51FA;&#x7684;&#x6587;&#x4EF6;&#x540D;.sql</p>
<p>A:&#x5BFC;&#x51FA;&#x6240;&#x6709;&#x6570;&#x636E;&#x5E93;<br></p><figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line">mysqldump -uroot -pJaking@vip.163.com -A &gt;all.sql</span><br><span class="line">mysqldump -uroot -pJaking@vip.163.com --all-databases &gt;all2.sql</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>&#x53C2;&#x6570;-A&#x4EE3;&#x8868;&#x6240;&#x6709;&#xFF0C;&#x7B49;&#x540C;&#x4E8E; &#x2013;all-databases</p>
<p>B:&#x5BFC;&#x51FA;&#x67D0;&#x4E2A;&#x6570;&#x636E;&#x5E93;<br></p><figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line">mysqldump -u &#x7528;&#x6237;&#x540D; -p&#x5BC6;&#x7801; &#x6570;&#x636E;&#x5E93;&#x540D; &gt; &#x5BFC;&#x51FA;&#x7684;&#x6587;&#x4EF6;&#x540D;.sql&#xA0; </span><br><span class="line">mysqldump -uroot -pJaking@vip.163.com testdb &gt; testdb.sql</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>C:&#x5BFC;&#x51FA;&#x5355;&#x5F20;&#x8868;<br></p><figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line">mysqldump -uroot -pJaking@vip.163.com testdb book1 &gt; testdb.book1.sql&#xA0; #&#x5BFC;&#x51FA;testdb&#x5E93;book1&#x8868;</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>D:&#x5BFC;&#x51FA;&#x5E93;&#x7684;&#x8868;&#x7ED3;&#x6784;<br></p><figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line">mysqldump -uroot -pJaking@vip.163.com -d testdb &gt; testdbtable.sql&#xA0; #&#x53EA;&#x5BFC;&#x51FA;testdb&#x5E93;&#x7684;&#x8868;&#x7ED3;&#x6784;</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>E:&#x53EA;&#x5BFC;&#x51FA;&#x6570;&#x636E;<br></p><figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line">mysqldump -uroot -pJaking@vip.163.com -t testdb &gt; testdbdata.sql&#xA0; #&#x53EA;&#x5BFC;&#x51FA;testdb&#x5E93;&#x4E2D;&#x7684;&#x6570;&#x636E;</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>F:&#x5BFC;&#x51FA;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x5E76;&#x81EA;&#x52A8;&#x751F;&#x6210;&#x5E93;&#x7684;&#x521B;&#x5EFA;&#x8BED;&#x53E5;<br></p><figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line">mysqldump -uroot -pJaking@vip.163.com -B testdb &gt; testdb.sql  #&#x751F;&#x6210;&#x5EFA;&#x5E93;&#x8BED;&#x53E5;</span><br><span class="line">mysql -uroot -pJaking@vip.163.com &lt; testdb.sql  #&#x5BFC;&#x5165;&#x4E0D;&#x7528;&#x6307;&#x5B9A;&#x6570;&#x636E;&#x540D;</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>&#x5BFC;&#x5165;&#x6570;&#x636E;&#xFF1A;<br>A&#xFF1A;&#x5BFC;&#x5165;&#x6240;&#x6709;&#x6570;&#x636E;&#x5E93;</p>
<pre><code>mysql -uroot -pJaking@vip.163.com &lt; all.sql
</code></pre><p>B&#xFF1A;&#x5BFC;&#x5165;&#x6570;&#x636E;&#x5E93;<br></p><figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line">mysql -uroot -pJaking@vip.163.com testdb &lt; testdb.sql&#xA0; #&#x5982;&#x679C;&#x5BFC;&#x5165;&#x65F6;&#xFF0C;&#x6CA1;&#x6709;&#x5BF9;&#x5E94;&#x7684;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x9700;&#x8981;&#x4F60;&#x624B;&#x52A8;&#x521B;&#x5EFA;&#x4E00;&#x4E0B;</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>mysql&gt; create database testdb;</p>
<p>&#x4F7F;&#x7528;source&#x5BFC;&#x5165;<br>mysql&gt; drop database testdb;<br>mysql&gt; create database testdb;<br>mysql&gt; use testdb;<br>mysql&gt; source /tmp/testdb.sql</p>
<p>C:&#x5BFC;&#x5165;&#x8868;<br>mysql&gt; drop table testdb.book1;<br>mysql&gt; source /tmp/testdb.book1.sql;   #&#x5BFC;&#x5165;&#x8868;&#x65F6;&#xFF0C;&#x4E0D;&#x9700;&#x8981;&#x91CD;&#x65B0;&#x521B;&#x5EFA;&#x8868;&#xFF0C;&#x8981;&#x5148;&#x8FDB;&#x5230;&#x76F8;&#x5E94;&#x7684;&#x6570;&#x636E;&#x5E93;&#x4E2D;<br>mysql&gt; select * from testdb.book1;</p>
<p>D&#xFF1A;&#x5BFC;&#x5165;&#x8868;&#x7ED3;&#x6784;&#x548C;&#x6570;&#x636E;<br>mysql&gt; create database testdb;<br>mysql -uroot <a href="mailto:-pJaking@vip.163.com" target="_blank" rel="noopener">-pJaking@vip.163.com</a> testdb &lt; testdbtable.sql<br>mysql -uroot <a href="mailto:-pJaking@vip.163.com" target="_blank" rel="noopener">-pJaking@vip.163.com</a> testdb &lt; testdbdata.sql</p>
<p>mysqldump&#x8FDC;&#x7A0B;&#x5907;&#x4EFD;&#x4E0E;&#x6062;&#x590D;&#x6570;&#x636E;</p>
<p>&#x6587;&#x6863;&#xFF1A;10 mysqldump&#x8FDC;&#x7A0B;&#x5907;&#x4EFD;&#x4E0E;&#x6062;&#x590D;&#x6570;&#x636E;.md<br>&#x94FE;&#x63A5;&#xFF1A;<a href="http://note.youdao.com/noteshare?id=7af3e7cda297defe01228ed798e72c02&amp;sub=E2F44DF8E1BC4B9287EA434DEA3B670C" target="_blank" rel="noopener">http://note.youdao.com/noteshare?id=7af3e7cda297defe01228ed798e72c02&amp;sub=E2F44DF8E1BC4B9287EA434DEA3B670C</a></p>
<p>&#x8FDC;&#x7A0B;&#x5907;&#x4EFD;<br>mysqldump -h ip_addr -u db_user -p db_name &gt; file_name.sql<br>&#x8FDC;&#x7A0B;&#x6062;&#x590D;<br>mysql -h ip_addr -u db_user -p &lt; db_file.sql</p>
<p>3) mysqlhotcopy &#x88F8;&#x6587;&#x4EF6;&#x5907;&#x4EFD;    </p>
<p>&#x6CE8;&#x610F;&#xFF1A;5.7&#x7248;&#x672C;&#x5DF2;&#x7ECF;&#x53BB;&#x6389;&#x6B64;&#x547D;&#x4EE4;&#xFF0C;&#x8BF7;&#x5728;5.5&#x53CA;&#x4EE5;&#x4E0B;&#x7248;&#x672C;&#x6D4B;&#x8BD5;&#xFF01;<br>mysqlhotcopy&#x4F7F;&#x7528;lock tables&#x3001;flush tables&#x548C;cp&#x6216;scp&#x6765;&#x5FEB;&#x901F;&#x5907;&#x4EFD;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x5B83;&#x662F;&#x5907;&#x4EFD;&#x6570;&#x636E;&#x5E93;&#x6216;&#x5355;&#x4E2A;&#x8868;&#x6700;&#x5FEB;&#x7684;&#x9014;&#x5F84;,&#x5B8C;&#x5168;&#x5C5E;&#x4E8E;&#x7269;&#x7406;&#x5907;&#x4EFD;,&#x4F46;&#x53EA;&#x80FD;&#x7528;&#x4E8E;&#x5907;&#x4EFD;MyISAM&#x5B58;&#x50A8;&#x5F15;&#x64CE;&#x548C;&#x8FD0;&#x884C;&#x5728;&#x6570;&#x636E;&#x5E93;&#x76EE;&#x5F55;&#x6240;&#x5728;&#x7684;&#x673A;&#x5668;&#x4E0A;&#xFF0C;&#x4E0E;mysqldump&#x5907;&#x4EFD;&#x4E0D;&#x540C;,mysqldump&#x5C5E;&#x4E8E;&#x903B;&#x8F91;&#x5907;&#x4EFD;,&#x6062;&#x590D;&#x65F6;&#x662F;&#x6267;&#x884C;&#x7684;sql&#x8BED;&#x53E5;&#x3002;</p>
<p>mysqlhotcopy&#x672C;&#x8D28;&#x662F;&#x4F7F;&#x7528;&#x9501;&#x8868;&#x8BED;&#x53E5;&#x540E;&#x518D;&#x4F7F;&#x7528;cp&#x6216;scp&#x62F7;&#x8D1D;&#x6570;&#x636E;&#x5E93;</p>
<p>1.&#x5B89;&#x88C5;mysqlhotcopy</p>
<p>yum provides mysqlhotcopy<br>yum install -y mariadb-server</p>
<p>2.&#x67E5;&#x770B;mysqlhotcopy&#x5E2E;&#x52A9;&#x4FE1;&#x606F;</p>
<p>mysqlhotcopy &#x2013;help<br>  &#x2013;allowold   don&#x2019;t abort if target dir already exists (rename it _old) &#x2013;&#x4E0D;&#x8986;&#x76D6;&#x4EE5;&#x524D;&#x5907;&#x4EFD;&#x7684;&#x6587;&#x4EF6;<br>  &#x2013;addtodest  don&#x2019;t rename target dir if it exists, just add files to it      &#x2013;&#x5C5E;&#x4E8E;&#x589E;&#x91CF;&#x5907;&#x4EFD;<br>  &#x2013;noindices   don&#x2019;t include full index files in copy          &#x2013;&#x4E0D;&#x5907;&#x4EFD;&#x7D22;&#x5F15;&#x6587;&#x4EF6;<br>  &#x2013;debug     enable debug                                 &#x2013;&#x542F;&#x7528;&#x8C03;&#x8BD5;&#x8F93;&#x51FA;<br>  &#x2013;regexp=#   copy all databases with names matching regexp  &#x2013;&#x4F7F;&#x7528;&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F;<br>  &#x2013;checkpoint=#  insert checkpoint entry into specified db.table    &#x2013;&#x63D2;&#x5165;&#x68C0;&#x67E5;&#x70B9;&#x6761;&#x76EE;<br>  &#x2013;flushlog      flush logs once all tables are locked          &#x2013;&#x6240;&#x6709;&#x8868;&#x9501;&#x5B9A;&#x540E;&#x5237;&#x65B0;&#x65E5;&#x5FD7;<br>  &#x2013;resetmaster    reset the binlog once all tables are locked     &#x2013;&#x4E00;&#x65E6;&#x9501;&#x8868;&#x91CD;&#x7F6E;binlog&#x6587;&#x4EF6;<br>  &#x2013;resetslave  reset the master.info once all tables are locked  &#x2013;&#x4E00;&#x65E6;&#x9501;&#x8868;&#x91CD;&#x7F6E;master.info&#x6587;&#x4EF6; </p>
<p>&#x4E3E;&#x4F8B;&#x8BF4;&#x660E;&#xFF1A;<br>A&#xFF1A;&#x5907;&#x4EFD;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x5E93;&#x5230;&#x4E00;&#x4E2A;&#x76EE;&#x5F55;&#x4E2D;<br>mysqlhotcopy -u root -p <a href="mailto:Jaking@vip.163.com" target="_blank" rel="noopener">Jaking@vip.163.com</a> BOOK /tmp  #-u -p &#x540E;&#x9762;&#x90FD;&#x6709;&#x7A7A;&#x683C;</p>
<p>[root@jaking ~]# mysqlhotcopy -u root -p <a href="mailto:Jaking@vip.163.com" target="_blank" rel="noopener">Jaking@vip.163.com</a> BOOK /tmp<br>Flushed 1 tables with read lock (<code>BOOK</code>.<code>book</code>) in 0 seconds.<br>Locked 0 views () in 0 seconds.<br>Copying 2 files&#x2026;<br>Copying indices for 0 files&#x2026;<br>Unlocked tables.<br>mysqlhotcopy copied 1 tables (2 files) in 0 seconds (0 seconds overall).<br>[root@jaking ~]# ls /tmp<br>BOOK<br>[root@jaking ~]# ls /tmp/BOOK/<br>book.frm  db.opt</p>
<p>&#x5BF9;&#x6BD4;&#x4E0B;&#x5927;&#x5C0F;</p>
<p>[root@jaking ~]# du -sh /var/lib/mysql/BOOK/ /tmp/BOOK/<br>16K     /var/lib/mysql/BOOK/<br>16K     /tmp/BOOK/</p>
<p>B&#xFF1A;&#x5907;&#x4EFD;&#x591A;&#x4E2A;&#x6570;&#x636E;&#x5E93;&#x5230;&#x4E00;&#x4E2A;&#x76EE;&#x5F55;<br></p><figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line">[root@jaking ~]# rm -rf /tmp/*</span><br><span class="line">[root@jaking ~]# mysqlhotcopy -u root -p Jaking@vip.163.com BOOK mysql /tmp/</span><br><span class="line">mysqlhotcopy -u root -p Jaking@vip.163.com BOOK mysql /tmp/</span><br><span class="line">Flushed 23 tables with read lock (`BOOK`.`book`, `mysql`.`columns_priv`, `mysql`.`db`, `mysql`.`event`, `mysql`.`func`, `mysql`.`help_category`, `mysql`.`help_keyword`, `mysql`.`help_relation`, `mysql`.`help_topic`, `mysql`.`host`, `mysql`.`ndb_binlog_index`, `mysql`.`plugin`, `mysql`.`proc`, `mysql`.`procs_priv`, `mysql`.`proxies_priv`, `mysql`.`servers`, `mysql`.`tables_priv`, `mysql`.`time_zone`, `mysql`.`time_zone_leap_second`, `mysql`.`time_zone_name`, `mysql`.`time_zone_transition`, `mysql`.`time_zone_transition_type`, `mysql`.`user`) in 0 seconds.</span><br><span class="line">Locked 0 views () in 0 seconds.</span><br><span class="line">Copying 2 files...</span><br><span class="line">Copying indices for 0 files...</span><br><span class="line">Copying 72 files...</span><br><span class="line">Copying indices for 0 files...</span><br><span class="line">Unlocked tables.</span><br><span class="line">mysqlhotcopy copied 24 tables (74 files) in 0 seconds (0 seconds overall).</span><br><span class="line"></span><br><span class="line">[root@jaking ~]# ls /tmp</span><br><span class="line">BOOK  mysql</span><br><span class="line">[root@jaking ~]# du -h /tmp </span><br><span class="line">0       /tmp/.X11-unix</span><br><span class="line">0       /tmp/.font-unix</span><br><span class="line">0       /tmp/.ICE-unix</span><br><span class="line">0       /tmp/.XIM-unix</span><br><span class="line">0       /tmp/.Test-unix</span><br><span class="line">16K     /tmp/BOOK</span><br><span class="line">1004K   /tmp/mysql</span><br><span class="line">1020K   /tmp</span><br><span class="line">[root@jaking ~]# du -h /var/lib/mysql/</span><br><span class="line">1004K   /var/lib/mysql/mysql</span><br><span class="line">212K    /var/lib/mysql/performance_schema</span><br><span class="line">16K     /var/lib/mysql/BOOK</span><br><span class="line">30M     /var/lib/mysql/</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>C&#xFF1A;&#x5907;&#x4EFD;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x7684;&#x67D0;&#x4E2A;&#x8868;<br>&#x8BED;&#x6CD5;&#xFF1A;mysqlhotcopy -u &#x7528;&#x6237; -p &#x5BC6;&#x7801; &#x6570;&#x636E;&#x5E93;&#x540D;./&#x8981;&#x5907;&#x4EFD;&#x7684;&#x8868;&#x540D;/  &#x8981;&#x5907;&#x4EFD;&#x7684;&#x8DEF;&#x5F84;</p>
<p>mysqlhotcopy -u root -p <a href="mailto:Jaking@vip.163.com" target="_blank" rel="noopener">Jaking@vip.163.com</a> BOOK./book/ /tmp/   #&#x6CE8;&#x610F;&#x6700;&#x540E;&#x7684; / &#x4E00;&#x5B9A;&#x8981;&#x6709;&#xFF01;<br>&#x5B9E;&#x9645;&#x4E0A;&#x662F;&#x628A;&#x5BF9;&#x5E94;&#x7684;&#x8868;&#x6587;&#x4EF6;&#x590D;&#x5236;&#x5230;/tmp&#x76EE;&#x5F55;&#x4E0B;<br></p><figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line">[root@jaking ~]# rm -rf *</span><br><span class="line">[root@jaking ~]# mysqlhotcopy -u root -p Jaking@vip.163.com BOOK./book/ /tmp/   Flushed 1 tables with read lock (`BOOK`.`book`) in 0 seconds.</span><br><span class="line">Locked 0 views () in 0 seconds.</span><br><span class="line">Copying 1 files...</span><br><span class="line">Copying indices for 0 files...</span><br><span class="line">Unlocked tables.</span><br><span class="line">mysqlhotcopy copied 1 tables (1 files) in 0 seconds (0 seconds overall).</span><br><span class="line">[root@jaking ~]# ls BOOK/</span><br><span class="line">book.frm</span><br><span class="line">[root@jaking ~]# ll /tmp/BOOK/</span><br><span class="line">total 12</span><br><span class="line">-rw-rw---- 1 mysql mysql 8624 Apr 22 14:31 book.frm</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>D:&#x6062;&#x590D;&#x6570;&#x636E;</p>
<p>&#x7834;&#x574F;&#x6570;&#x636E;<br></p><figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line">[root@jaking tmp]# cd /var/lib/mysql/</span><br><span class="line">[root@jaking mysql]# ls</span><br><span class="line">aria_log.00000001  BOOK     ib_logfile0  mysql       performance_schema</span><br><span class="line">aria_log_control   ibdata1  ib_logfile1  mysql.sock</span><br><span class="line">[root@jaking mysql]# rm -rf BOOK/</span><br><span class="line">[root@jaking mysql]# ls</span><br><span class="line">aria_log.00000001  ibdata1      ib_logfile1  mysql.sock</span><br><span class="line">aria_log_control   ib_logfile0  mysql        performance_schema</span><br><span class="line">[root@jaking mysql]#</span><br><span class="line"></span><br><span class="line">[root@jaking ~]# mysql -uroot -pJaking@vip.163.com</span><br><span class="line">Welcome to the MariaDB monitor.  Commands end with ; or \g.</span><br><span class="line">Your MariaDB connection id is 39</span><br><span class="line">Server version: 5.5.52-MariaDB MariaDB Server</span><br><span class="line"></span><br><span class="line">Copyright (c) 2000, 2016, Oracle, MariaDB Corporation Ab and others.</span><br><span class="line"></span><br><span class="line">Type &apos;help;&apos; or &apos;\h&apos; for help. Type &apos;\c&apos; to clear the current input statement.</span><br></pre></td></tr></tbody></table></figure><p></p>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line">MariaDB [(none)]&gt; show databases;</span><br><span class="line">+<span class="comment">--------------------+</span></span><br><span class="line">| Database           |</span><br><span class="line">+<span class="comment">--------------------+</span></span><br><span class="line">| information_schema |</span><br><span class="line">| mysql              |</span><br><span class="line">| performance_schema |</span><br><span class="line">+<span class="comment">--------------------+</span></span><br><span class="line">3 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">MariaDB [(<span class="keyword">none</span>)]&gt;</span><br></pre></td></tr></tbody></table></figure>
<p>&#x5F00;&#x59CB;&#x6062;&#x590D;<br></p><figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line">[root@jaking mysql]# cp -ra /tmp/BOOK/ /var/lib/mysql/</span><br><span class="line">[root@jaking mysql]# ll /var/lib/mysql/</span><br><span class="line">total 28700</span><br><span class="line">-rw-rw---- 1 mysql mysql    16384 Apr 22 14:29 aria_log.00000001</span><br><span class="line">-rw-rw---- 1 mysql mysql       52 Apr 22 14:29 aria_log_control</span><br><span class="line">drwxr-x--- 2 mysql mysql       22 Apr 22 14:53 BOOK</span><br><span class="line">-rw-rw---- 1 mysql mysql 18874368 Apr 22 14:53 ibdata1</span><br><span class="line">-rw-rw---- 1 mysql mysql  5242880 Apr 22 14:53 ib_logfile0</span><br><span class="line">-rw-rw---- 1 mysql mysql  5242880 Apr 22 14:29 ib_logfile1</span><br><span class="line">drwx------ 2 mysql mysql     4096 Apr 22 14:29 mysql</span><br><span class="line">srwxrwxrwx 1 mysql mysql        0 Apr 22 14:29 mysql.sock</span><br><span class="line">drwx------ 2 mysql mysql     4096 Apr 22 14:29 performance_schema</span><br><span class="line">[root@jaking mysql]# chown -Rf mysql:mysql /var/lib/mysql/BOOK/</span><br><span class="line"></span><br><span class="line">[root@jaking ~]# mysql -uroot -pJaking@vip.163.com</span><br><span class="line">Welcome to the MariaDB monitor.  Commands end with ; or \g.</span><br><span class="line">Your MariaDB connection id is 40</span><br><span class="line">Server version: 5.5.52-MariaDB MariaDB Server</span><br><span class="line"></span><br><span class="line">Copyright (c) 2000, 2016, Oracle, MariaDB Corporation Ab and others.</span><br><span class="line"></span><br><span class="line">Type &apos;help;&apos; or &apos;\h&apos; for help. Type &apos;\c&apos; to clear the current input statement.</span><br></pre></td></tr></tbody></table></figure><p></p>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line">MariaDB [(none)]&gt; show databases;</span><br><span class="line">+<span class="comment">--------------------+</span></span><br><span class="line">| Database           |</span><br><span class="line">+<span class="comment">--------------------+</span></span><br><span class="line">| information_schema |</span><br><span class="line">| BOOK               |</span><br><span class="line">| mysql              |</span><br><span class="line">| performance_schema |</span><br><span class="line">+<span class="comment">--------------------+</span></span><br><span class="line">4 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">MariaDB [(<span class="keyword">none</span>)]&gt; <span class="keyword">use</span> BOOK;</span><br><span class="line">Reading table information for completion of table and column names</span><br><span class="line">You can turn off this feature to get a quicker startup <span class="keyword">with</span> -A</span><br><span class="line"></span><br><span class="line"><span class="keyword">Database</span> <span class="keyword">changed</span></span><br><span class="line">MariaDB [BOOK]&gt; <span class="keyword">show</span> <span class="keyword">tables</span>;</span><br><span class="line">+<span class="comment">----------------+</span></span><br><span class="line">| Tables_in_BOOK |</span><br><span class="line">+<span class="comment">----------------+</span></span><br><span class="line">| book           |</span><br><span class="line">+<span class="comment">----------------+</span></span><br><span class="line">1 row in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">MariaDB [BOOK]&gt; <span class="keyword">select</span> * <span class="keyword">from</span> book;</span><br><span class="line">+<span class="comment">-------------------------+-------+-------+</span></span><br><span class="line">| name                    | price | pages |</span><br><span class="line">+<span class="comment">-------------------------+-------+-------+</span></span><br><span class="line">| Linux                   |    30 |   666 |</span><br><span class="line">| Cloud Computing         |    60 |   666 |</span><br><span class="line">| Operation System        |    80 |   666 |</span><br><span class="line">| Artificial Intelligence |   166 |   666 |</span><br><span class="line">+<span class="comment">-------------------------+-------+-------+</span></span><br><span class="line">4 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">MariaDB [BOOK]&gt;</span><br></pre></td></tr></tbody></table></figure>
<p>&#x603B;&#x7ED3;&#xFF1A;<br>mysqldump&#x548C;mysqlhotcopy&#x7684;&#x6BD4;&#x8F83;&#xFF1A;<br>1&#x3001;mysqldump &#x662F;&#x91C7;&#x7528;SQL&#x7EA7;&#x522B;&#x7684;&#x5907;&#x4EFD;&#x673A;&#x5236;&#xFF0C;&#x5B83;&#x5C06;&#x6570;&#x636E;&#x8868;&#x5BFC;&#x6210; SQL &#x811A;&#x672C;&#x6587;&#x4EF6;&#xFF0C;&#x6570;&#x636E;&#x5E93;&#x5927;&#x65F6;&#xFF0C;&#x5360;&#x7528;&#x7CFB;&#x7EDF;&#x8D44;&#x6E90;&#x8F83;&#x591A;&#xFF0C;&#x652F;&#x6301;&#x5E38;&#x7528;&#x7684;MyISAM&#xFF0C;Innodb<br>2&#x3001;mysqlhotcopy&#x53EA;&#x662F;&#x7B80;&#x5355;&#x7684;&#x7F13;&#x5B58;&#x5199;&#x5165;&#x548C;&#x6587;&#x4EF6;&#x590D;&#x5236;&#x7684;&#x8FC7;&#x7A0B;&#xFF0C;&#x5360;&#x7528;&#x8D44;&#x6E90;&#x548C;&#x5907;&#x4EFD;&#x901F;&#x5EA6;&#x6BD4;mysqldump&#x5FEB;&#x5F88;&#x591A;&#xFF1B;&#x7279;&#x522B;&#x9002;&#x5408;&#x5927;&#x7684;&#x6570;&#x636E;&#x5E93;<br>3&#x3001;mysqlhotcopy&#x53EA;&#x80FD;&#x8FD0;&#x884C;&#x5728;&#x6570;&#x636E;&#x5E93;&#x6570;&#x636E;&#x76EE;&#x5F55;&#x6240;&#x5728;&#x7684;&#x673A;&#x5668;&#x4E0A;&#xFF0C;mysqldump&#x53EF;&#x4EE5;&#x7528;&#x5728;&#x8FDC;&#x7A0B;&#x5BA2;&#x6237;&#x7AEF;<br>4&#x3001;&#x76F8;&#x540C;&#x7684;&#x5730;&#x65B9;&#x90FD;&#x662F;&#x5728;&#x7EBF;&#x6267;&#x884C;LOCK TABLES &#x4EE5;&#x53CA; UNLOCK TABLES<br>5&#x3001;mysqlhotcopy&#x6062;&#x590D;&#x53EA;&#x9700;&#x8981;COPY&#x5907;&#x4EFD;&#x6587;&#x4EF6;&#x5230;&#x6E90;&#x76EE;&#x5F55;&#x8986;&#x76D6;&#x5373;&#x53EF;&#xFF0C;mysqldump&#x9700;&#x8981;&#x5BFC;&#x5165;SQL&#x6587;&#x4EF6;&#x5230;&#x539F;&#x6765;&#x5E93;&#x4E2D;</p>
<p>&#x5B9E;&#x6218;&#xFF1A;&#x5199;&#x4E2A;&#x81EA;&#x52A8;&#x5907;&#x4EFD;MySQL&#x6570;&#x636E;&#x5E93;shell&#x811A;&#x672C;<br>vim  mysql-autoback.sh </p>
<p>#!/bin/bash<br>export LANG=en_US.UTF-8<br>mkdir /database_back &amp;&gt;/dev/null<br>savedir=/database_back<br>cd &#x201C;$savedir&#x201D;<br>time=&#x201D;$(date +&#x201D;%Y-%m-%d&#x201D;)&#x201D;<br>mysqldump -u root <a href="mailto:-pJaking@vip.163.com" target="_blank" rel="noopener">-pJaking@vip.163.com</a> book &gt; book-&#x201C;$time&#x201D;.sql  </p>
<p>&#x518D;&#x6DFB;&#x52A0;&#x8BA1;&#x5212;&#x4EFB;&#x52A1; crontab &#x5C31;&#x884C;</p>
<p>xtrabackup&#x5907;&#x4EFD;&#x5DE5;&#x5177;&#x4F7F;&#x7528;</p>
<p>1&#x3001;xtrabackup&#x7B80;&#x4ECB;</p>
<p>Xtrabackup&#x5305;&#x62EC;&#x4E24;&#x4E2A;&#x4E3B;&#x8981;&#x5DE5;&#x5177;&#xFF1A;Xtrabackup&#x548C;innobackupex&#xFF1A;<br>Xtrabackup&#x53EA;&#x80FD;&#x5907;&#x4EFD;InnoDB&#x548C;XtraDB&#x4E24;&#x79CD;&#x5F15;&#x64CE;&#x8868;&#xFF0C;&#x800C;&#x4E0D;&#x80FD;&#x5907;&#x4EFD;MyISAM&#x6570;&#x636E;&#x8868;</p>
<p>&#x6211;&#x4EEC;&#x77E5;&#x9053;&#xFF0C;&#x9488;&#x5BF9;InnoDB&#x5B58;&#x50A8;&#x5F15;&#x64CE;&#xFF0C;MySQL&#x672C;&#x8EAB;&#x6CA1;&#x6709;&#x63D0;&#x4F9B;&#x5408;&#x9002;&#x7684;&#x70ED;&#x5907;&#x5DE5;&#x5177;&#xFF0C;ibbackup&#x867D;&#x662F;&#x4E00;&#x6B3E;&#x9AD8;&#x6548;&#x7684;&#x9996;&#x9009;&#x70ED;&#x5907;&#x65B9;&#x5F0F;&#xFF0C;&#x4F46;&#x5B83;&#x662F;&#x662F;&#x6536;&#x8D39;&#x7684;&#x3002;&#x597D;&#x5728;Percona&#x516C;&#x53F8;&#x7ED9;&#x5927;&#x5BB6;&#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x4E2A;&#x5F00;&#x6E90;&#x3001;&#x514D;&#x8D39;&#x7684;Xtrabackup&#x70ED;&#x5907;&#x5DE5;&#x5177;&#xFF0C;&#x5B83;&#x53EF;&#x5B9E;&#x73B0;ibbackup&#x7684;&#x6240;&#x6709;&#x529F;&#x80FD;&#xFF0C;&#x5E76;&#x4E14;&#x8FD8;&#x6269;&#x5C55;&#x652F;&#x6301;&#x771F;&#x6B63;&#x7684;&#x589E;&#x91CF;&#x5907;&#x4EFD;&#x529F;&#x80FD;&#xFF0C;&#x662F;&#x5546;&#x4E1A;&#x5907;&#x4EFD;&#x5DE5;&#x5177;InnoDB Hotbackup&#x7684;&#x4E00;&#x4E2A;&#x5F88;&#x597D;&#x7684;&#x66FF;&#x4EE3;&#x54C1;&#x3002;</p>
<p>2&#x3001;Percona-XtraBackup &#x5B89;&#x88C5; &#xFF08;mysql5.7.20&#x9700;&#x5B89;&#x88C5;XtraBackup2.4.9&#xFF09;</p>
<p>&#x4E0B;&#x8F7D;&#x5B89;&#x88C5;&#x5305;<br> [root@jaking ~]# wget <a href="https://www.percona.com/downloads/XtraBackup/Percona-XtraBackup-2.4.9/binary/redhat/7/x86_64/Percona-XtraBackup-2.4.9-ra467167cdd4-el7-x86_64-bundle.tar" target="_blank" rel="noopener">https://www.percona.com/downloads/XtraBackup/Percona-XtraBackup-2.4.9/binary/redhat/7/x86_64/Percona-XtraBackup-2.4.9-ra467167cdd4-el7-x86_64-bundle.tar</a> </p>
<p>&#x89E3;&#x538B;&#x5305;<br>[root@jaking ~]# tar -xvf Percona-XtraBackup-2.4.9-ra467167cdd4-el7-x86_64-bundle.tar </p>
<p>yum&#x5B89;&#x88C5;&#x5E76;&#x89E3;&#x51B3;&#x4F9D;&#x8D56;&#xFF1A;<br>yum -y localinstall percona-xtrabackup-24-2.4.9-1.el7.x86_64.rpm </p>
<p>&#x6216;&#x8005;<br>yum install -y <a href="https://repo.percona.com/yum/percona-release-latest.noarch.rpm" target="_blank" rel="noopener">https://repo.percona.com/yum/percona-release-latest.noarch.rpm</a></p>
<p>&#x6216;&#x8005;<br>rpm -ivh percona-release-latest.noarch.rpm</p>
<p>yum install -y percona-xtrabackup-24.x86_64</p>
<p>&#x5982;&#x679C;&#x51FA;&#x73B0;&#x4EE5;&#x4E0B;&#x62A5;&#x9519;&#xFF1A;<br>Error: Package: percona-xtrabackup-24-2.4.22-1.el7.x86_64 (percona-release-x86_64)<br>           Requires: libev.so.4()(64bit)</p>
<p>&#x89E3;&#x51B3;&#x65B9;&#x6CD5;&#xFF1A;<br></p><figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line">[root@jaking ~]# wget ftp://rpmfind.net/linux/atrpms/el6-x86_64/atrpms/stable/libev-4.04-2.el6.x86_64.rpm</span><br><span class="line">[root@jaking ~]# rpm -ivh libev-4.04-2.el6.x86_64.rpm </span><br><span class="line">[root@jaking ~]# rz</span><br><span class="line">rz waiting to receive.</span><br><span class="line">&#xA0;zmodem trl+C &#x221;</span><br><span class="line"></span><br><span class="line"><span class="meta">&#xA0; 100%</span><span class="bash">&#xA0;&#xA0;&#xA0; 7805 KB 7805 KB/s 00:00:01&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 0 Errors2.4.22-1.el7.x86_64.rpm...</span></span><br><span class="line"> </span><br><span class="line">[root@jaking ~]# ls -hl</span><br><span class="line">total 7.7M</span><br><span class="line">-rw-r--r--&#xA0; 1 root root&#xA0; 38K May 13 09:36 libev-4.04-2.el6.x86_64.rpm</span><br><span class="line">-rwxr-xr-x. 1 root root&#xA0; 937 Apr 23 03:57 named.sh</span><br><span class="line">-rw-r--r--&#xA0; 1 root root 7.7M Mar 10 04:56 percona-xtrabackup-24-2.4.22-1.el7.x86_64.rpm</span><br><span class="line"></span><br><span class="line">&#x6216;&#x8005;</span><br><span class="line">[root@jaking ~]# yum install -y percona-xtrabackup #&#x5907;&#x9009;&#x65B9;&#x6848;</span><br><span class="line"></span><br><span class="line">&#x6216;&#x8005;</span><br><span class="line"></span><br><span class="line">[root@jaking ~]# rpm -ivh mysql-community-libs-compat-5.7.20-1.el7.x86_64.rpm</span><br><span class="line">[root@jaking ~]# yum install -y cmake gcc gcc-c++ libaio libaio-devel automake autoconf bzr rsync</span><br><span class="line">[root@jaking ~]# yum  install -y perl perl-devel libaio libaio-devel perl-Time-HiRes perl-DBD-MySQL  perl-Digest-MD5</span><br><span class="line">[root@jaking ~]# rpm -ivh percona-xtrabackup-24-2.4.22-1.el7.x86_64.rpm</span><br><span class="line">Preparing...&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; ################################# [100%]</span><br><span class="line">Updating / installing...</span><br><span class="line">&#xA0;&#xA0; 1:percona-xtrabackup-24-2.4.22-1.el################################# [100%]</span><br><span class="line">[root@jaking ~]# which xtrabackup</span><br><span class="line">/usr/bin/xtrabackup</span><br><span class="line">[root@jaking ~]# xtrabackup --version</span><br><span class="line">xtrabackup: recognized server arguments: --datadir=/var/lib/mysql </span><br><span class="line">xtrabackup version 2.4.22 based on MySQL server 5.7.32 Linux (x86_64) (revision id: c99a781)</span><br><span class="line"></span><br><span class="line">&#x6CE8;&#x610F;&#xFF1A;my.cnf&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x91CC;datadir&#x6307;&#x5B9A;&#x7684;MySQL&#x6570;&#x636E;&#x8DEF;&#x5F84;</span><br><span class="line"></span><br><span class="line">[root@jaking ~]#cat /etc/my.cnf</span><br><span class="line">[mysqld]</span><br><span class="line">datadir=/var/lib/mysql</span><br><span class="line">socket=/var/lib/mysql/mysql.sock</span><br><span class="line">symbolic-links=0</span><br><span class="line"></span><br><span class="line">log-error=/var/log/mysqld.log</span><br><span class="line">pid-file=/var/run/mysqld/mysqld.pid</span><br><span class="line">skip-name-resolve</span><br><span class="line"></span><br><span class="line">[root@jaking ~]# systemctl restart mysqld</span><br></pre></td></tr></tbody></table></figure><p></p>
<p><span style="color:orange">fnaichu:</span><br>&#x5148;&#x5B89;&#x88C5;epel&#x6E90;<br>yum install -y epel-release</p>
<p>&#x5B89;&#x88C5;MySQL&#xFF0C;&#x786E;&#x4FDD;&#x81F3;&#x5C11;&#x5B89;&#x88C5;&#x6709;&#x4EE5;&#x4E0B;5&#x4E2A;&#x5305;&#xFF1A;</p>
<p>&#x5B89;&#x88C5;xtrabackup:<br>&#x53C2;&#x8003;&#x5B98;&#x65B9;&#x6587;&#x6863;&#xFF1A;<a href="https://docs.percona.com/percona-xtrabackup/2.4/installation/yum_repo.html" target="_blank" rel="noopener">https://docs.percona.com/percona-xtrabackup/2.4/installation/yum_repo.html</a></p>
<p>&#x5B89;&#x88C5;xtrabackup&#x4F9D;&#x8D56;&#x5305;<br>yum install <a href="https://repo.percona.com/yum/percona-release-latest.noarch.rpm" target="_blank" rel="noopener">https://repo.percona.com/yum/percona-release-latest.noarch.rpm</a></p>
<p>&#x4E0B;&#x8F7D;xtrabackup&#x5B89;&#x88C5;&#x5305;<br>wget <a href="https://www.percona.com/downloads/XtraBackup/Percona-XtraBackup-2.4.4/\" target="_blank" rel="noopener">https://www.percona.com/downloads/XtraBackup/Percona-XtraBackup-2.4.4/\</a><br>binary/redhat/7/x86_64/percona-xtrabackup-24-2.4.4-1.el7.x86_64.rpm</p>
<p>&#x5B89;&#x88C5;xtrabackup<br>yum localinstall percona-xtrabackup-24-2.4.4-1.el7.x86_64.rpm</p>
<p>3&#x3001;xtrbackup&#x4F7F;&#x7528;<br>&#x4E00;&#x822C;&#x4F7F;&#x7528;innobackupex&#x811A;&#x672C;<br>innobackupex&#x662F;perl&#x811A;&#x672C;&#x5BF9;xtrabackup&#x7684;&#x5C01;&#x88C5;&#x548C;&#x529F;&#x80FD;&#x6269;&#x5C55;</p>
<p>&#x5907;&#x4EFD;&#x51C6;&#x5907;&#x5DE5;&#x4F5C;&#xFF1A;<br>&#x6743;&#x9650;&#x548C;&#x8FDE;&#x63A5;<br>xtrabackup&#x9700;&#x8981;&#x8FDE;&#x63A5;&#x5230;&#x6570;&#x636E;&#x5E93;&#x548C;datadir&#x64CD;&#x4F5C;&#x6743;&#x9650;<br>xtrabackup&#x6216;&#x8005;innobackupex&#x5728;&#x4F7F;&#x7528;&#x8FC7;&#x7A0B;&#x4E2D;&#x6D89;&#x53CA;&#x5230;&#x4E24;&#x7C7B;&#x7528;&#x6237;&#x6743;&#x9650;</p>
<p>1.&#x7CFB;&#x7EDF;&#x7528;&#x6237;&#xFF0C;&#x7528;&#x6765;&#x8C03;&#x7528;innobackupex&#x6216;&#x8005;xtrabackup</p>
<p>2.&#x6570;&#x636E;&#x5E93;&#x7528;&#x6237;&#xFF0C;&#x6570;&#x636E;&#x5E93;&#x5185;&#x4F7F;&#x7528;&#x7684;&#x7528;&#x6237;</p>
<pre><code>&#x5176;&#x4ED6;&#x8FDE;&#x63A5;&#x9009;&#x9879;&#xFF1A;
</code></pre><p>| &#x70B9;&#x51FB;&#x8FD9;&#x91CC; | &#x70B9;&#x51FB;&#x8FD9;&#x91CC; |<br>|    Tmpion<br>    |    Description<br>    |<br>|   &#x2013;port<br>   |   The port to use when connecting to the database   server with TCP/IP.<br>   |<br>|   &#x2013;socket<br>   |   The socket to use when   connecting to the local database.<br>   |<br>|   &#x2013;host<br>   |   The host to use when connecting   to the database server with TCP/IP.<br>   |</p>
<p>&#x53EF;&#x4EE5;&#x5355;&#x72EC;&#x521B;&#x5EFA;&#x7528;&#x6765;&#x5907;&#x4EFD;&#x6570;&#x636E;&#x5E93;&#x7684;&#x7528;&#x6237;&#xFF0C;&#x5B89;&#x5168;&#xFF0C;&#x5E76;&#x8D4B;&#x4E88;&#x5BF9;&#x5E94;&#x7684;&#x6743;&#x9650;</p>
<p>4&#x3001;&#x5168;&#x5907;&#x548C;&#x5168;&#x5907;&#x8FD8;&#x539F;</p>
<p>&#x4F7F;&#x7528;innobackupex&#x521B;&#x5EFA;&#x5168;&#x5907;</p>
<p>&#x521B;&#x5EFA;&#x5168;&#x5907;&#xFF1A;<br>innobackupex &#x2013;user=root <a href="mailto:--password=Jaking@vip.163.com" target="_blank" rel="noopener">--password=Jaking@vip.163.com</a> /tmp/db_backup/<br>innobackupex &#x2013;user=root <a href="mailto:--password=Jaking@vip.163.com" target="_blank" rel="noopener">--password=Jaking@vip.163.com</a> /tmp/db_backup/ &amp;&gt;&gt;/tmp/db_backup.log<br>&amp;&gt;&gt;/tmp/db_backup.log   #&#x4E0D;&#x663E;&#x793A;&#x8F93;&#x51FA;&#x4FE1;&#x606F;&#xFF0C;&#x8F93;&#x51FA;&#x4FE1;&#x606F;&#x91CD;&#x5B9A;&#x5411;&#x5230;db_backup.log</p>
<p>[root@jaking ~]# ls /tmp<br>db_backup  db_backup.log  percona-version-check<br>[root@jaking ~]# ls /tmp/db_backup<br>2021-05-14_08-08-38<br>[root@jaking ~]# ls /tmp/db_backup/2021-05-14_08-08-38/<br>backup-my.cnf   ibdata1             sys                     xtrabackup_info<br>book1           market              testbookdb              xtrabackup_logfile<br>book2           mysql               testdb<br>ib_buffer_pool  performance_schema  xtrabackup_checkpoints </p>
<p>&#x5185;&#x90E8;&#x673A;&#x5236;&#xFF1A;&#x5728;&#x5907;&#x4EFD;&#x7684;&#x65F6;&#x5019;innobackupex&#x4F1A;&#x8C03;&#x7528;xtrabackup&#x6765;&#x5907;&#x4EFD;innodb&#x8868;&#xFF0C;&#x5E76;&#x590D;&#x5236;&#x6240;&#x6709;&#x7684;&#x8868;&#x5B9A;&#x4E49;&#xFF0C;&#x5176;&#x4ED6;&#x5F15;&#x64CE;&#x7684;&#x8868;(MyISAM,MERGE,CSV,ARCHIVE)<br>innobackupex&#x662F;&#x4E00;&#x4E2A;&#x5C01;&#x88C5;&#x4E86;xtrabackup&#x7684;&#x811A;&#x672C;&#xFF0C;&#x80FD;&#x540C;&#x65F6;&#x5904;&#x7406;innodb&#x548C;myisam&#xFF0C;&#x4F46;&#x5728;&#x5904;&#x7406;myisam&#x65F6;&#x9700;&#x8981;&#x52A0;&#x4E00;&#x4E2A;&#x8BFB;&#x9501;</p>
<p>&#x5176;&#x4ED6;&#x9009;&#x9879;:<br>&#x2013;no-timestamp&#xFF0C;&#x6307;&#x5B9A;&#x4E86;&#x8FD9;&#x4E2A;&#x9009;&#x9879;&#x5907;&#x4EFD;&#x4F1A;&#x76F4;&#x63A5;&#x5907;&#x4EFD;&#x5728;BACKUP-DIR&#xFF0C;&#x4E0D;&#x518D;&#x521B;&#x5EFA;&#x65F6;&#x95F4;&#x6233;&#x6587;&#x4EF6;&#x5939;<br>&#x2013;default-file&#xFF0C;&#x6307;&#x5B9A;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;&#x7528;&#x6765;&#x914D;&#x7F6E;innobackupex&#x7684;&#x9009;&#x9879;&#xFF0C;&#x8BE5;&#x9009;&#x9879;&#x6307;&#x5B9A;&#x4E86;&#x4ECE;&#x54EA;&#x4E2A;&#x6587;&#x4EF6;&#x8BFB;&#x53D6;MySQL&#x914D;&#x7F6E;</p>
<p>innobackupex &#x2013;user=root <a href="mailto:--password=Jaking@vip.163.com" target="_blank" rel="noopener">--password=Jaking@vip.163.com</a> &#x2013;no-timestamp /tmp/db_backup/full (&#x4F7F;&#x7528;&#x2013;no-timestamp&#x65F6;&#xFF0C;&#x540E;&#x9762;&#x7684;&#x8FD9;&#x4E2A;full&#x76EE;&#x5F55;&#x5FC5;&#x987B;&#x8DDF;&#x4E0A;&#x4E14;&#x4E0D;&#x80FD;&#x63D0;&#x524D;&#x81EA;&#x5DF1;&#x5EFA;&#x7ACB;&#xFF0C;&#x5B83;&#x7531;innobackupex&#x81EA;&#x52A8;&#x5EFA;&#x7ACB;&#xFF0C;&#x5426;&#x5219;&#x53EF;&#x80FD;&#x4F1A;&#x62A5;&#x9519;innobackupex: Error: Failed to create backup directory) (Errcode: 17 - File exists)</p>
<p>[root@jaking ~]# innobackupex &#x2013;default-file=/etc/my.cnf &#x2013;user=root <a href="mailto:--password=Jaking@vip.163.com" target="_blank" rel="noopener">--password=Jaking@vip.163.com</a> &#x2013;no-timestamp /tmp/db_backup/full<br>[root@jaking ~]# ls /tmp/db_backup/<br>full</p>
<p>&#x4F7F;&#x7528;innobackupex&#x8FD8;&#x539F;&#x5907;&#x4EFD;</p>
<p>&#x4F7F;&#x7528;innobackupex &#x2013;copy-back &#x6765;&#x8FD8;&#x539F;&#x5907;&#x4EFD;</p>
<p>&#x505C;&#x6B62;MySQL&#x670D;&#x52A1;</p>
<p>systemctl stop mysqld</p>
<p>&#x5220;&#x9664;&#x6570;&#x636E;&#xFF1A;&#xFF08;&#x5371;&#x9669;&#x52A8;&#x4F5C;&#xFF09;<br></p><figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line">[root@jaking ~]# systemctl stop mysqld</span><br><span class="line">[root@jaking ~]# ls /var/lib/mysql</span><br><span class="line">auto.cnf    client-cert.pem  ib_logfile0         private_key.pem  sys</span><br><span class="line">BOOK        client-key.pem   ib_logfile1         public_key.pem   testbookdb</span><br><span class="line">ca-key.pem  ib_buffer_pool   mysql               server-cert.pem</span><br><span class="line">ca.pem      ibdata1          performance_schema  server-key.pem</span><br><span class="line">[root@jaking ~]# rm -rf /var/lib/mysql/*</span><br><span class="line">[root@jaking ~]# ls /var/lib/mysql</span><br><span class="line"></span><br><span class="line">&#x8FD8;&#x539F;:</span><br><span class="line">[root@jaking ~]# innobackupex --copy-back /tmp/db_backup/full/&#xA0;</span><br><span class="line">[root@jaking ~]# ls /var/lib/mysql</span><br><span class="line">BOOK            ibdata1  performance_schema  testbookdb</span><br><span class="line">ib_buffer_pool  mysql    sys                 xtrabackup_info</span><br><span class="line"> </span><br><span class="line">&#x67E5;&#x770B;&#x6743;&#x9650;</span><br><span class="line">[root@jaking ~]# ll /var/lib/mysql</span><br><span class="line">total 12324</span><br><span class="line">drwxr-x--- 2 root root       52 Apr 23 04:53 BOOK</span><br><span class="line">-rw-r----- 1 root root      310 Apr 23 04:53 ib_buffer_pool</span><br><span class="line">-rw-r----- 1 root root 12582912 Apr 23 04:53 ibdata1</span><br><span class="line">drwxr-x--- 2 root root     4096 Apr 23 04:53 mysql</span><br><span class="line">drwxr-x--- 2 root root     8192 Apr 23 04:53 performance_schema</span><br><span class="line">drwxr-x--- 2 root root     8192 Apr 23 04:53 sys</span><br><span class="line">drwxr-x--- 2 root root       88 Apr 23 04:53 testbookdb</span><br><span class="line">-rw-r----- 1 root root      472 Apr 23 04:53 xtrabackup_info</span><br><span class="line"></span><br><span class="line">&#x91CD;&#x65B0;&#x6388;&#x6743;</span><br><span class="line">[root@jaking ~]# chown -Rf mysql:mysql /var/lib/mysql&#xA0;&#xA0; #&#x8981;&#x4E0D;&#x7136;MySQL&#x670D;&#x52A1;&#x4E0D;&#x80FD;&#x542F;&#x52A8;</span><br><span class="line">[root@jaking ~]# ll /var/lib/mysql                   </span><br><span class="line">total 12324</span><br><span class="line">drwxr-x--- 2 mysql mysql       52 Apr 23 04:53 BOOK</span><br><span class="line">-rw-r----- 1 mysql mysql      310 Apr 23 04:53 ib_buffer_pool</span><br><span class="line">-rw-r----- 1 mysql mysql 12582912 Apr 23 04:53 ibdata1</span><br><span class="line">drwxr-x--- 2 mysql mysql     4096 Apr 23 04:53 mysql</span><br><span class="line">drwxr-x--- 2 mysql mysql     8192 Apr 23 04:53 performance_schema</span><br><span class="line">drwxr-x--- 2 mysql mysql     8192 Apr 23 04:53 sys</span><br><span class="line">drwxr-x--- 2 mysql mysql       88 Apr 23 04:53 testbookdb</span><br><span class="line">-rw-r----- 1 mysql mysql      472 Apr 23 04:53 xtrabackup_info</span><br><span class="line">[root@jaking ~]# systemctl start mysqld</span><br><span class="line"></span><br><span class="line">&#x6CE8;&#xFF1A;datadir&#x5FC5;&#x987B;&#x662F;&#x4E3A;&#x7A7A;&#x7684;&#xFF0C;innobackupex &#x2013;copy-back&#x4E0D;&#x4F1A;&#x8986;&#x76D6;&#x5DF2;&#x5B58;&#x5728;&#x7684;&#x6587;&#x4EF6;&#xFF0C;&#x8FD8;&#x8981;&#x6CE8;&#x610F;&#xFF0C;&#x8FD8;&#x539F;&#x65F6;&#x9700;&#x8981;&#x5148;&#x5173;&#x95ED;&#x670D;&#x52A1;&#xFF0C;&#x5982;&#x679C;&#x670D;&#x52A1;&#x662F;&#x542F;&#x52A8;&#x7684;&#xFF0C;&#x90A3;&#x4E48;&#x5C31;&#x4E0D;&#x80FD;&#x8FD8;&#x539F;&#x5230;datadir</span><br><span class="line"></span><br><span class="line">[root@jaking ~]# ls /var/lib/mysql</span><br><span class="line">auto.cnf  mysql  performance_schema  sys</span><br><span class="line"></span><br><span class="line">[root@jaking ~]# innobackupex --copy-back /tmp/db_backup/full/</span><br><span class="line">xtrabackup: recognized server arguments: --datadir=/var/lib/mysql </span><br><span class="line">xtrabackup: recognized client arguments: </span><br><span class="line">220423 05:01:30 innobackupex: Starting the copy-back operation</span><br><span class="line"></span><br><span class="line">IMPORTANT: Please check that the copy-back run completes successfully.</span><br><span class="line">           At the end of a successful copy-back run innobackupex</span><br><span class="line">           prints &quot;completed OK!&quot;.</span><br><span class="line"></span><br><span class="line">innobackupex version 2.4.22 based on MySQL server 5.7.32 Linux (x86_64) (revision id: c99a781)</span><br><span class="line">Original data directory /var/lib/mysql is not empty!</span><br><span class="line"></span><br><span class="line">[root@jaking ~]# mysql -uroot -pJaking@vip.163.com</span><br><span class="line">mysql: [Warning] Using a password on the command line interface can be insecure.</span><br><span class="line">Welcome to the MySQL monitor.  Commands end with ; or \g.</span><br><span class="line">Your MySQL connection id is 3</span><br><span class="line">Server version: 5.7.20 MySQL Community Server (GPL)</span><br><span class="line"></span><br><span class="line">Copyright (c) 2000, 2017, Oracle and/or its affiliates. All rights reserved.</span><br><span class="line"></span><br><span class="line">Oracle is a registered trademark of Oracle Corporation and/or its</span><br><span class="line">affiliates. Other names may be trademarks of their respective</span><br><span class="line">owners.</span><br><span class="line"></span><br><span class="line">Type &apos;help;&apos; or &apos;\h&apos; for help. Type &apos;\c&apos; to clear the current input statement.</span><br></pre></td></tr></tbody></table></figure><p></p>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line">mysql&gt; show databases;</span><br><span class="line">+<span class="comment">--------------------+</span></span><br><span class="line">| Database           |</span><br><span class="line">+<span class="comment">--------------------+</span></span><br><span class="line">| information_schema |</span><br><span class="line">| BOOK               |</span><br><span class="line">| mysql              |</span><br><span class="line">| performance_schema |</span><br><span class="line">| sys                |</span><br><span class="line">| testbookdb         |</span><br><span class="line">+<span class="comment">--------------------+</span></span><br><span class="line">6 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">use</span> BOOK;</span><br><span class="line">Reading table information for completion of table and column names</span><br><span class="line">You can turn off this feature to get a quicker startup <span class="keyword">with</span> -A</span><br><span class="line"></span><br><span class="line"><span class="keyword">Database</span> <span class="keyword">changed</span></span><br><span class="line">mysql&gt; <span class="keyword">show</span> <span class="keyword">tables</span>;</span><br><span class="line">+<span class="comment">----------------+</span></span><br><span class="line">| Tables_in_BOOK |</span><br><span class="line">+<span class="comment">----------------+</span></span><br><span class="line">| book           |</span><br><span class="line">+<span class="comment">----------------+</span></span><br><span class="line">1 row in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">select</span> * <span class="keyword">from</span> book;</span><br><span class="line">+<span class="comment">-------------------------+-------+-------+</span></span><br><span class="line">| name                    | price | pages |</span><br><span class="line">+<span class="comment">-------------------------+-------+-------+</span></span><br><span class="line">| Linux                   |    30 |   666 |</span><br><span class="line">| Cloud Computing         |    60 |   666 |</span><br><span class="line">| Operation System        |    80 |   666 |</span><br><span class="line">| Artificial Intelligence |   166 |   666 |</span><br><span class="line">+<span class="comment">-------------------------+-------+-------+</span></span><br><span class="line">4 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">use</span> testbookdb;</span><br><span class="line">Reading table information for completion of table and column names</span><br><span class="line">You can turn off this feature to get a quicker startup <span class="keyword">with</span> -A</span><br><span class="line"></span><br><span class="line"><span class="keyword">Database</span> <span class="keyword">changed</span></span><br><span class="line">mysql&gt; <span class="keyword">show</span> <span class="keyword">tables</span>;</span><br><span class="line">+<span class="comment">----------------------+</span></span><br><span class="line">| Tables_in_testbookdb |</span><br><span class="line">+<span class="comment">----------------------+</span></span><br><span class="line">| book1                |</span><br><span class="line">| book2                |</span><br><span class="line">+<span class="comment">----------------------+</span></span><br><span class="line">2 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">select</span> * <span class="keyword">from</span> book1;</span><br><span class="line">+<span class="comment">---------+-----------------------------------+-------+-----------------------+</span></span><br><span class="line">| bTypeId | bName                             | price | publishing            |</span><br><span class="line">+<span class="comment">---------+-----------------------------------+-------+-----------------------+</span></span><br><span class="line">|       1 | &#x300A;Linux&#x4ECE;&#x5165;&#x95E8;&#x5230;&#x7CBE;&#x901A;&#x300B;             |    66 | &#x7535;&#x5B50;&#x5DE5;&#x4E1A;&#x51FA;&#x7248;&#x793E;        |</span><br><span class="line">|       2 | &#x300A;&#x4E91;&#x8BA1;&#x7B97;&#x8D8B;&#x52BF;&#x300B;                    |    68 | &#x4EBA;&#x6C11;&#x90AE;&#x7535;&#x51FA;&#x7248;&#x793E;        |</span><br><span class="line">|       3 | &#x300A;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x8BBE;&#x8BA1;&#x4E0E;&#x5B9E;&#x73B0;&#x300B;            |    90 | &#x673A;&#x68B0;&#x5DE5;&#x4E1A;&#x51FA;&#x7248;&#x793E;        |</span><br><span class="line">|       4 | &#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL&#x300B;                   |    71 | &#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E;        |</span><br><span class="line">|       5 | &#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL2&#x300B;                  |    72 | &#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E;        |</span><br><span class="line">|       6 | &#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL3&#x300B;                  |    73 | &#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E;        |</span><br><span class="line">|       7 | &#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL4&#x300B;                  |    74 | &#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E;        |</span><br><span class="line">|       8 | &#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL5&#x300B;                  |    75 | &#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E;        |</span><br><span class="line">|       9 | &#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL6&#x300B;                  |    76 | &#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E;        |</span><br><span class="line">|      10 | &#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL7&#x300B;                  |    77 | &#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E;        |</span><br><span class="line">|      11 | &#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL8&#x300B;                  |    78 | &#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E;        |</span><br><span class="line">|      12 | &#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL9&#x300B;                  |    79 | &#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E;        |</span><br><span class="line">+<span class="comment">---------+-----------------------------------+-------+-----------------------+</span></span><br><span class="line">12 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">select</span> * <span class="keyword">from</span> book2;</span><br><span class="line">+<span class="comment">-----------------------------------+-------+-------+</span></span><br><span class="line">| name                              | price | pages |</span><br><span class="line">+<span class="comment">-----------------------------------+-------+-------+</span></span><br><span class="line">| &#x300A;Linux&#x4ECE;&#x5165;&#x95E8;&#x5230;&#x7CBE;&#x901A;&#x300B;             |    30 |   666 |</span><br><span class="line">| &#x300A;&#x4E91;&#x8BA1;&#x7B97;&#x8D8B;&#x52BF;&#x300B;                    |    60 |   666 |</span><br><span class="line">| &#x300A;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x8BBE;&#x8BA1;&#x4E0E;&#x5B9E;&#x73B0;&#x300B;            |    80 |   666 |</span><br><span class="line">| &#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL&#x300B;                   |   166 |   666 |</span><br><span class="line">+<span class="comment">-----------------------------------+-------+-------+</span></span><br><span class="line">4 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt;</span><br></pre></td></tr></tbody></table></figure>
<p>5&#xFF1A;&#x521B;&#x5EFA;&#x589E;&#x91CF;&#x5907;&#x4EFD;&#x4E0E;&#x8FD8;&#x539F;<br>&#x589E;&#x91CF;&#x5907;&#x4EFD;&#x4F5C;&#x7528;&#xFF1A;&#x51CF;&#x5C11;&#x5907;&#x4EFD;&#x6570;&#x636E;&#x91CD;&#x590D;&#xFF0C;&#x8282;&#x7701;&#x78C1;&#x76D8;&#x7A7A;&#x95F4;&#xFF0C;&#x7F29;&#x77ED;&#x5907;&#x4EFD;&#x65F6;&#x95F4;<br>&#x589E;&#x91CF;&#x5907;&#x4EFD;&#x7684;&#x5B9E;&#x73B0;&#xFF0C;&#x4F9D;&#x8D56;&#x4E8E;innodb&#x9875;&#x4E0A;&#x9762;&#x7684;LSN&#xFF08;log sequence number&#xFF09;&#xFF0C;&#x6BCF;&#x6B21;&#x5BF9;&#x6570;&#x636E;&#x5E93;&#x7684;&#x4FEE;&#x6539;&#x90FD;&#x4F1A;&#x5BFC;&#x81F4;LSN&#x81EA;&#x589E;&#xFF0C;&#x589E;&#x91CF;&#x5907;&#x4EFD;&#x4F1A;&#x590D;&#x5236;&#x6307;&#x5B9A;LSN&lt;&#x65E5;&#x5FD7;&#x5E8F;&#x5217;&#x53F7;&gt;&#x4E4B;&#x540E;&#x7684;&#x6240;&#x6709;&#x6570;&#x636E;&#x9875;</p>
<p>&#x521B;&#x5EFA;&#x589E;&#x91CF;&#x5907;&#x4EFD;</p>
<ol>
<li>&#x9996;&#x5148;&#x521B;&#x5EFA;&#x5168;&#x5907;<br>&#x5728;&#x521B;&#x5EFA;&#x589E;&#x91CF;&#x5907;&#x4EFD;&#x4E4B;&#x524D;&#x9700;&#x8981;&#x4E00;&#x4E2A;&#x5168;&#x5907;&#xFF0C;&#x4E0D;&#x7136;&#x589E;&#x91CF;&#x5907;&#x4EFD;&#x662F;&#x6CA1;&#x6709;&#x610F;&#x4E49;&#x7684;<figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line">innobackupex --user=root --password=Jaking@vip.163.com /tmp/db_backup/</span><br><span class="line">[root@jaking ~]# ls /tmp</span><br><span class="line">db_backup&#xA0; percona-version-check</span><br><span class="line">[root@jaking ~]# ls /tmp/db_backup/</span><br><span class="line">2022-04-24_21-23-58</span><br></pre></td></tr></tbody></table></figure>
</li>
</ol>
<p>&#x63D2;&#x5165;&#x4E00;&#x4E9B;&#x6570;&#x636E;&#x5230;&#x8868;&#x91CC;&#x9762;<br></p><figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line">[root@jaking ~]# mysql -uroot -pJaking@vip.163.com</span><br><span class="line">mysql: [Warning] Using a password on the command line interface can be insecure.</span><br><span class="line">Welcome to the MySQL monitor.  Commands end with ; or \g.</span><br><span class="line">Your MySQL connection id is 7</span><br><span class="line">Server version: 5.7.20 MySQL Community Server (GPL)</span><br><span class="line"></span><br><span class="line">Copyright (c) 2000, 2017, Oracle and/or its affiliates. All rights reserved.</span><br><span class="line"></span><br><span class="line">Oracle is a registered trademark of Oracle Corporation and/or its</span><br><span class="line">affiliates. Other names may be trademarks of their respective</span><br><span class="line">owners.</span><br><span class="line"></span><br><span class="line">Type &apos;help;&apos; or &apos;\h&apos; for help. Type &apos;\c&apos; to clear the current input statement.</span><br></pre></td></tr></tbody></table></figure><p></p>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line">mysql&gt; show databases;</span><br><span class="line">+<span class="comment">--------------------+</span></span><br><span class="line">| Database           |</span><br><span class="line">+<span class="comment">--------------------+</span></span><br><span class="line">| information_schema |</span><br><span class="line">| BOOK               |</span><br><span class="line">| mysql              |</span><br><span class="line">| performance_schema |</span><br><span class="line">| sys                |</span><br><span class="line">| testbookdb         |</span><br><span class="line">+<span class="comment">--------------------+</span></span><br><span class="line">6 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">DATABASE</span> TESTDB;</span><br><span class="line"><span class="keyword">show</span> <span class="keyword">databases</span>;</span><br><span class="line"><span class="keyword">use</span> TESTDB;</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> TABLE1 (bTypeId <span class="built_in">int</span>,bName <span class="built_in">char</span>(<span class="number">16</span>),price <span class="built_in">int</span>,publishing <span class="built_in">char</span>(<span class="number">16</span>));</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> TABLE1(bTypeId,bName,price,publishing) <span class="keyword">VALUES</span>(<span class="string">&apos;1&apos;</span>,<span class="string">&apos;Linux&apos;</span>,<span class="string">&apos;66&apos;</span>,<span class="string">&apos;DZ&apos;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> TABLE1(bTypeId,bName,price,publishing) <span class="keyword">VALUES</span>(<span class="string">&apos;2&apos;</span>,<span class="string">&apos;CLD&apos;</span>,<span class="string">&apos;68&apos;</span>,<span class="string">&apos;RM&apos;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> TABLE1(bTypeId,bName,price,publishing) <span class="keyword">VALUES</span>(<span class="string">&apos;3&apos;</span>,<span class="string">&apos;SYS&apos;</span>,<span class="string">&apos;90&apos;</span>,<span class="string">&apos;JX&apos;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> TABLE1(bTypeId,bName,price,publishing) <span class="keyword">VALUES</span>(<span class="string">&apos;4&apos;</span>,<span class="string">&apos;MySQL1&apos;</span>,<span class="string">&apos;71&apos;</span>,<span class="string">&apos;QH&apos;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> TABLE1(bTypeId,bName,price,publishing) <span class="keyword">VALUES</span>(<span class="string">&apos;5&apos;</span>,<span class="string">&apos;MySQL2&apos;</span>,<span class="string">&apos;72&apos;</span>,<span class="string">&apos;QH&apos;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> TABLE1(bTypeId,bName,price,publishing) <span class="keyword">VALUES</span>(<span class="string">&apos;6&apos;</span>,<span class="string">&apos;MySQL3&apos;</span>,<span class="string">&apos;73&apos;</span>,<span class="string">&apos;QH&apos;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> TABLE1(bTypeId,bName,price,publishing) <span class="keyword">VALUES</span>(<span class="string">&apos;7&apos;</span>,<span class="string">&apos;MySQL4&apos;</span>,<span class="string">&apos;74&apos;</span>,<span class="string">&apos;QH&apos;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> TABLE1(bTypeId,bName,price,publishing) <span class="keyword">VALUES</span>(<span class="string">&apos;8&apos;</span>,<span class="string">&apos;MySQL5&apos;</span>,<span class="string">&apos;75&apos;</span>,<span class="string">&apos;QH&apos;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> TABLE1(bTypeId,bName,price,publishing) <span class="keyword">VALUES</span>(<span class="string">&apos;9&apos;</span>,<span class="string">&apos;MySQL6&apos;</span>,<span class="string">&apos;76&apos;</span>,<span class="string">&apos;QH&apos;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> TABLE1(bTypeId,bName,price,publishing) <span class="keyword">VALUES</span>(<span class="string">&apos;10&apos;</span>,<span class="string">&apos;MySQL7&apos;</span>,<span class="string">&apos;77&apos;</span>,<span class="string">&apos;QH&apos;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> TABLE1(bTypeId,bName,price,publishing) <span class="keyword">VALUES</span>(<span class="string">&apos;11&apos;</span>,<span class="string">&apos;MySQL8&apos;</span>,<span class="string">&apos;78&apos;</span>,<span class="string">&apos;QH&apos;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> TABLE1(bTypeId,bName,price,publishing) <span class="keyword">VALUES</span>(<span class="string">&apos;12&apos;</span>,<span class="string">&apos;MySQL9&apos;</span>,<span class="string">&apos;79&apos;</span>,<span class="string">&apos;QH&apos;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> TABLE2 (<span class="keyword">name</span> <span class="built_in">char</span>(<span class="number">16</span>),price <span class="built_in">int</span>,pages <span class="built_in">int</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> TABLE2(<span class="keyword">name</span>,price,pages) <span class="keyword">VALUES</span>(<span class="string">&apos;Linux&apos;</span>,<span class="string">&apos;30&apos;</span>,<span class="string">&apos;666&apos;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> TABLE2(<span class="keyword">name</span>,price,pages) <span class="keyword">VALUES</span>(<span class="string">&apos;CLD&apos;</span>,<span class="string">&apos;60&apos;</span>,<span class="string">&apos;666&apos;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> TABLE2(<span class="keyword">name</span>,price,pages) <span class="keyword">VALUES</span>(<span class="string">&apos;SYS&apos;</span>,<span class="string">&apos;80&apos;</span>,<span class="string">&apos;666&apos;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> TABLE2(<span class="keyword">name</span>,price,pages) <span class="keyword">VALUES</span>(<span class="string">&apos;MySQL1&apos;</span>,<span class="string">&apos;166&apos;</span>,<span class="string">&apos;666&apos;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">show</span> <span class="keyword">tables</span>;</span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> TABLE1;</span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> TABLE2;</span><br><span class="line"></span><br><span class="line">mysql&gt; show tables;</span><br><span class="line">+<span class="comment">------------------+</span></span><br><span class="line">| Tables_in_TESTDB |</span><br><span class="line">+<span class="comment">------------------+</span></span><br><span class="line">| TABLE1           |</span><br><span class="line">| TABLE2           |</span><br><span class="line">+<span class="comment">------------------+</span></span><br><span class="line">2 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">select</span> * <span class="keyword">from</span> TABLE1;</span><br><span class="line">+<span class="comment">---------+--------+-------+------------+</span></span><br><span class="line">| bTypeId | bName  | price | publishing |</span><br><span class="line">+<span class="comment">---------+--------+-------+------------+</span></span><br><span class="line">|       1 | Linux  |    66 | DZ         |</span><br><span class="line">|       2 | CLD    |    68 | RM         |</span><br><span class="line">|       3 | SYS    |    90 | JX         |</span><br><span class="line">|       4 | MySQL1 |    71 | QH         |</span><br><span class="line">|       5 | MySQL2 |    72 | QH         |</span><br><span class="line">|       6 | MySQL3 |    73 | QH         |</span><br><span class="line">|       7 | MySQL4 |    74 | QH         |</span><br><span class="line">|       8 | MySQL5 |    75 | QH         |</span><br><span class="line">|       9 | MySQL6 |    76 | QH         |</span><br><span class="line">|      10 | MySQL7 |    77 | QH         |</span><br><span class="line">|      11 | MySQL8 |    78 | QH         |</span><br><span class="line">|      12 | MySQL9 |    79 | QH         |</span><br><span class="line">+<span class="comment">---------+--------+-------+------------+</span></span><br><span class="line">12 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">select</span> * <span class="keyword">from</span> TABLE2;</span><br><span class="line">+<span class="comment">--------+-------+-------+</span></span><br><span class="line">| name   | price | pages |</span><br><span class="line">+<span class="comment">--------+-------+-------+</span></span><br><span class="line">| Linux  |    30 |   666 |</span><br><span class="line">| CLD    |    60 |   666 |</span><br><span class="line">| SYS    |    80 |   666 |</span><br><span class="line">| MySQL1 |   166 |   666 |</span><br><span class="line">+<span class="comment">--------+-------+-------+</span></span><br><span class="line">4 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">show</span> <span class="keyword">databases</span>;</span><br><span class="line">+<span class="comment">--------------------+</span></span><br><span class="line">| Database           |</span><br><span class="line">+<span class="comment">--------------------+</span></span><br><span class="line">| information_schema |</span><br><span class="line">| BOOK               |</span><br><span class="line">| TESTDB             |</span><br><span class="line">| mysql              |</span><br><span class="line">| performance_schema |</span><br><span class="line">| sys                |</span><br><span class="line">| testbookdb         |</span><br><span class="line">+<span class="comment">--------------------+</span></span><br><span class="line">7 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line"><span class="number">4</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></tbody></table></figure>
<ol start="2">
<li>&#x4F7F;&#x7528; &#x2013;incremental&#x521B;&#x5EFA;&#x589E;&#x91CF;&#x5907;&#x4EFD;<figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line">innobackupex --user=root --password=Jaking@vip.163.com --incremental /&#x589E;&#x91CF;1&#x8DEF;&#x5F84; --incremental-basedir=&#x5168;&#x5907;&#x8DEF;&#x5F84;&#xFF0C;&#x6307;&#x5B9A;&#x5728;&#x54EA;&#x4E2A;&#x5168;&#x5907;&#x4E0A;&#x8FDB;&#x884C;&#x589E;&#x91CF;&#x5907;&#x4EFD;</span><br><span class="line">[root@jaking ~]# ls /tmp/db_backup/</span><br><span class="line">2021-05-14_08-33-57</span><br><span class="line">[root@jaking ~]#&#xA0;innobackupex --user=root --password=Jaking@vip.163.com --incremental /tmp/db_backup/ --incremental-basedir=/tmp/db_backup/2022-04-24_21-23-58/</span><br><span class="line">[root@jaking ~]# ls /tmp/db_backup/</span><br><span class="line">2022-04-24_21-23-58  2022-04-24_21-31-38</span><br><span class="line">[root@jaking ~]# ls /tmp/db_backup/2022-04-24_21-23-58/</span><br><span class="line">backup-my.cnf   mysql               xtrabackup_checkpoints</span><br><span class="line">BOOK            performance_schema  xtrabackup_info</span><br><span class="line">ib_buffer_pool  sys                 xtrabackup_logfile</span><br><span class="line">ibdata1         testbookdb</span><br><span class="line">[root@jaking ~]# ls /tmp/db_backup/2022-04-24_21-31-38/</span><br><span class="line">backup-my.cnf   mysql               xtrabackup_checkpoints</span><br><span class="line">BOOK            performance_schema  xtrabackup_info</span><br><span class="line">ib_buffer_pool  sys                 xtrabackup_logfile</span><br><span class="line">ibdata1.delta   testbookdb</span><br><span class="line">ibdata1.meta    TESTDB</span><br><span class="line">[root@jaking ~]# du -sh /tmp/db_backup/2022-04-24_21-23-58/</span><br><span class="line">26M     /tmp/db_backup/2022-04-24_21-23-58/</span><br><span class="line">[root@jaking ~]# du -sh /tmp/db_backup/2022-04-24_21-31-38/ </span><br><span class="line">5.1M    /tmp/db_backup/2022-04-24_21-31-38/</span><br></pre></td></tr></tbody></table></figure>
</li>
</ol>
<p>&#x518D;&#x67E5;&#x770B;LSN&lt;&#x65E5;&#x5FD7;&#x5E8F;&#x5217;&#x53F7;&gt;<br>[root@jaking ~]# cat /tmp/db_backup/2022-04-24_21-23-58/xtrabackup_checkpoints<br>backup_type = full-backuped<br>from_lsn = 0<br>to_lsn = 2566100<br>last_lsn = 2566109<br>compact = 0<br>recover_binlog_info = 0<br>flushed_lsn = 2566109</p>
<p>[root@jaking ~]# cat /tmp/db_backup/2022-04-24_21-31-38/xtrabackup_checkpoints<br>backup_type = incremental<br>from_lsn = 2566100<br>to_lsn = 2588592<br>last_lsn = 2588601<br>compact = 0<br>recover_binlog_info = 0<br>flushed_lsn = 2588601</p>
<ol start="3">
<li>&#x589E;&#x91CF;&#x5907;&#x4EFD;&#x521B;&#x5EFA;&#x7684;&#x66FF;&#x4EE3;&#x65B9;&#x6CD5;<br>&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x6307;&#x5B9A; &#x2013;incremental-lsn&#x6765;&#x4EE3; &#x2013;incremental-basedir&#x7684;&#x65B9;&#x6CD5;&#x521B;&#x5EFA;&#x589E;&#x91CF;&#x5907;&#x4EFD;<br>innobackupex &#x2013;user=root <a href="mailto:--password=Jaking@vip.163.com" target="_blank" rel="noopener">--password=Jaking@vip.163.com</a> &#x2013;incremental /tmp/db_backup/ &#x2013;incremental-lsn=&lt;&#x65E5;&#x5FD7;&#x5E8F;&#x5217;&#x53F7;&gt;  #&#x4ECE;&#x8FD9;&#x4E2A;&#x7F16;&#x53F7;&#x70B9;&#x5F00;&#x59CB;&#x5907;&#x4EFD;<figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line">[root@jaking ~]# ls /tmp/db_backup/</span><br><span class="line">2022-04-24_21-23-58  2022-04-24_21-31-38</span><br><span class="line">[root@jaking ~]# innobackupex --user=root --password=Jaking@vip.163.com --incremental /tmp/db_backup/ --incremental-lsn=2566109</span><br><span class="line">[root@jaking ~]# ls /tmp/db_backup/</span><br><span class="line">2022-04-24_21-23-58  2022-04-24_21-31-38  2022-04-24_21-41-49</span><br><span class="line">[root@jaking ~]# du -sh /tmp/db_backup/2022-04-24_21-23-58</span><br><span class="line">26M     /tmp/db_backup/2022-04-24_21-23-58</span><br><span class="line">[root@jaking ~]# du -sh /tmp/db_backup/2022-04-24_21-31-38</span><br><span class="line">5.1M    /tmp/db_backup/2022-04-24_21-31-38</span><br><span class="line">[root@jaking ~]# du -sh /tmp/db_backup/2022-04-24_21-41-49</span><br><span class="line">5.1M    /tmp/db_backup/2022-04-24_21-41-49</span><br></pre></td></tr></tbody></table></figure>
</li>
</ol>
<p>&#x6CE8;&#x610F;&#xFF1A;xtrabackup&#x53EA;&#x4F1A;&#x5F71;&#x54CD;xtradb&#x6216;&#x8005;innodb&#x7684;&#x8868;&#xFF0C;&#x5176;&#x4ED6;&#x5F15;&#x64CE;&#x7684;&#x8868;&#x5728;&#x589E;&#x91CF;&#x5907;&#x4EFD;&#x7684;&#x65F6;&#x5019;&#x53EA;&#x4F1A;&#x590D;&#x5236;&#x6574;&#x4E2A;&#x6587;&#x4EF6;</p>
<p>&#x8FD8;&#x539F;</p>
<p>&#x505C;&#x6B62;MySQL&#x670D;&#x52A1;,&#x5220;&#x9664;&#x6570;&#x636E; rm -rf /var/lib/mysql/* </p>
<p>&#x8FD8;&#x539F;&#x589E;&#x91CF;&#x5907;&#x4EFD;<br>&#x589E;&#x91CF;&#x5907;&#x4EFD;&#x7684;&#x6062;&#x590D;&#x6BD4;&#x5168;&#x5907;&#x8981;&#x590D;&#x6742;&#x4E00;&#x70B9;&#xFF0C;&#x7B2C;&#x4E00;&#x6B65;&#x662F;&#x5728;&#x6240;&#x6709;&#x5907;&#x4EFD;&#x76EE;&#x5F55;&#x4E0B;&#x91CD;&#x505A;&#x5DF2;&#x63D0;&#x4EA4;&#x7684;&#x65E5;&#x5FD7;&#xFF0C;&#x5982;&#xFF1A;<br>innobackupex &#x2013;apply-log &#x2013;redo-only BASE-DIR  </p>
<p>innobackupex &#x2013;apply-log &#x2013;redo-only BASE-DIR &#x2013;incremental-dir=INCREMENTAL-DIR-1<br>innobackupex &#x2013;apply-log &#x2013;redo-only BASE-DIR &#x2013;incremental-dir=INCREMENTAL-DIR-2<br>&#x2026;<br>&#x2026;<br>&#x2026;<br>innobackupex &#x2013;apply-log BASE-DIR &#x2013;incremental-dir=INCREMENTAL-DIR-last-num</p>
<p>&#x6CE8;&#x610F;&#xFF1A;&#x5982;&#x679C;&#x4EC5;&#x6709;&#x4E00;&#x4EFD;&#x589E;&#x91CF;&#x5907;&#x4EFD;&#xFF0C;&#x7B2C;3&#x6761;&#x8BED;&#x53E5;&#x5FFD;&#x7565;<br>&#x5176;&#x4E2D;BASE-DIR&#x662F;&#x6307;&#x5168;&#x5907;&#x76EE;&#x5F55;&#xFF0C;INCREMENTAL-DIR-1&#x662F;&#x6307;&#x7B2C;&#x4E00;&#x6B21;&#x7684;&#x589E;&#x91CF;&#x5907;&#x4EFD;&#xFF0C;INCREMENTAL-DIR-2&#x662F;&#x6307;&#x7B2C;&#x4E8C;&#x6B21;&#x7684;&#x589E;&#x91CF;&#x5907;&#x4EFD;&#xFF0C;&#x4EE5;&#x6B64;&#x7C7B;&#x63A8;&#x3002;</p>
<p>&#x8FD9;&#x91CC;&#x8981;&#x6CE8;&#x610F;&#x7684;&#x662F;&#xFF1A;&#x6700;&#x540E;&#x4E00;&#x6B65;&#x7684;&#x589E;&#x91CF;&#x5907;&#x4EFD;&#x5E76;&#x6CA1;&#x6709;&#x2013;redo-only&#x9009;&#x9879;&#xFF01;</p>
<p>&#x4EE5;&#x4E0A;&#x8BED;&#x53E5;&#x6267;&#x884C;&#x6210;&#x529F;&#x4E4B;&#x540E;&#xFF0C;&#x6700;&#x7EC8;&#x6570;&#x636E;&#x5728;BASE-DIR&#xFF08;&#x5373;&#x5168;&#x5907;&#x76EE;&#x5F55;&#xFF09;&#x4E0B;</p>
<p>&#x7B2C;&#x4E00;&#x6B65;&#x5B8C;&#x6210;&#x4E4B;&#x540E;&#xFF0C;&#x6211;&#x4EEC;&#x5F00;&#x59CB;&#x7B2C;&#x4E8C;&#x6B65;&#xFF1A;&#x56DE;&#x6EDA;&#x672A;&#x5B8C;&#x6210;&#x7684;&#x65E5;&#x5FD7;&#xFF1A;<br>innobackupex &#x2013;apply-log BASE-DIR</p>
<p>&#x4E0A;&#x9762;&#x6267;&#x884C;&#x5B8C;&#x4E4B;&#x540E;&#xFF0C;BASE-DIR&#x91CC;&#x7684;&#x5907;&#x4EFD;&#x6587;&#x4EF6;&#x5DF2;&#x5B8C;&#x5168;&#x51C6;&#x5907;&#x5C31;&#x7EEA;&#xFF0C;&#x6700;&#x540E;&#x4E00;&#x6B65;&#x662F;&#x62F7;&#x8D1D;&#xFF1A;<br>innobackupex &#x2013;copy-back BASE-DIR</p>
<p>&#x6062;&#x590D;mysql&#x6743;&#x9650; chown -Rf mysql:mysql /var/lib/mysql/</p>
<p>&#x6700;&#x540E;&#x542F;&#x52A8; systemctl start mysqld </p>
<p>&#x68C0;&#x9A8C;&#x6570;&#x636E;&#x662F;&#x5426;&#x6062;&#x590D;&#x6B63;&#x5E38;<br>&#x6CE8;&#x610F;&#xFF1A;innobackupex&#x8FD8;&#x539F;&#x589E;&#x91CF;&#x5907;&#x4EFD;&#x5BB9;&#x6613;&#x51FA;&#x9519;&#xFF0C;&#x4E0D;&#x5EFA;&#x8BAE;&#x4F7F;&#x7528;&#xFF01;</p>
<p>&#x5B9E;&#x6218;&#xFF1A;<br></p><figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line">[root@jaking ~]# ls /var/lib/mysql</span><br><span class="line">auto.cnf        ibdata1      mysql               testbookdb</span><br><span class="line">BOOK            ib_logfile0  performance_schema  TESTDB</span><br><span class="line">ib_buffer_pool  ib_logfile1  sys                 xtrabackup_info</span><br><span class="line">[root@jaking ~]# mkdir /mysql-all-data</span><br><span class="line">[root@jaking ~]# mv /var/lib/mysql/* /mysql-all-data/</span><br><span class="line">[root@jaking ~]# ls /var/lib/mysql                   </span><br><span class="line">[root@jaking ~]# ls /mysql-all-data/</span><br><span class="line">auto.cnf        ibdata1      mysql               testbookdb</span><br><span class="line">BOOK            ib_logfile0  performance_schema  TESTDB</span><br><span class="line">ib_buffer_pool  ib_logfile1  sys                 xtrabackup_info</span><br><span class="line">[root@jaking ~]# ls /tmp/db_backup/</span><br><span class="line">2022-04-24_21-23-58  2022-04-24_21-31-38  2022-04-24_21-41-49</span><br><span class="line">[root@jaking ~]# rm -rf /tmp/db_backup/2022-04-24_21-41-49</span><br><span class="line">[root@jaking ~]# ls /tmp/db_backup/                       </span><br><span class="line">2022-04-24_21-23-58  2022-04-24_21-31-38</span><br><span class="line">[root@jaking ~]# innobackupex --apply-log --redo-only /tmp/db_backup/2022-04-24_21-23-58</span><br><span class="line">[root@jaking ~]# innobackupex --apply-log /tmp/db_backup/2022-04-24_21-23-58 --incremental-dir=/tmp/db_backup/2022-04-24_21-31-38</span><br><span class="line">fnaich:&#xFF01;&#x589E;&#x91CF;&#x5408;&#x5E76;&#x5FC5;&#x987B;&#x4F7F;&#x7528;&#x7EDD;&#x5BF9;&#x8DEF;&#x5F84;&#xFF0C;&#x5426;&#x5219;&#x62A5;&#x9519;</span><br><span class="line">[root@jaking ~]# ls /tmp/db_backup/2022-04-24_21-23-58/</span><br><span class="line">backup-my.cnf   ib_logfile0  performance_schema  xtrabackup_checkpoints</span><br><span class="line">BOOK            ib_logfile1  sys                 xtrabackup_info</span><br><span class="line">ib_buffer_pool  ibtmp1       testbookdb          xtrabackup_logfile</span><br><span class="line">ibdata1         mysql        TESTDB              xtrabackup_master_key_id</span><br><span class="line">[root@jaking ~]# innobackupex --apply-log /tmp/db_backup/2022-04-24_21-23-58/</span><br><span class="line">[root@jaking ~]# innobackupex --copy-back /tmp/db_backup/2022-04-24_21-23-58/</span><br><span class="line">[root@jaking ~]# chown -Rf mysql:mysql /var/lib/mysql/</span><br><span class="line">[root@jaking ~]# ll /var/lib/mysql/</span><br><span class="line">total 122920</span><br><span class="line">drwxr-x--- 2 mysql mysql       88 Apr 24 21:59 BOOK</span><br><span class="line">-rw-r----- 1 mysql mysql      315 Apr 24 21:59 ib_buffer_pool</span><br><span class="line">-rw-r----- 1 mysql mysql 12582912 Apr 24 21:59 ibdata1</span><br><span class="line">-rw-r----- 1 mysql mysql 50331648 Apr 24 21:59 ib_logfile0</span><br><span class="line">-rw-r----- 1 mysql mysql 50331648 Apr 24 21:59 ib_logfile1</span><br><span class="line">-rw-r----- 1 mysql mysql 12582912 Apr 24 21:59 ibtmp1</span><br><span class="line">drwxr-x--- 2 mysql mysql     4096 Apr 24 21:59 mysql</span><br><span class="line">drwxr-x--- 2 mysql mysql     8192 Apr 24 21:59 performance_schema</span><br><span class="line">drwxr-x--- 2 mysql mysql     8192 Apr 24 21:59 sys</span><br><span class="line">drwxr-x--- 2 mysql mysql       88 Apr 24 21:59 testbookdb</span><br><span class="line">drwxr-x--- 2 mysql mysql       92 Apr 24 21:59 TESTDB</span><br><span class="line">-rw-r----- 1 mysql mysql      504 Apr 24 21:59 xtrabackup_info</span><br><span class="line">-rw-r----- 1 mysql mysql        1 Apr 24 21:59 xtrabackup_master_key_id</span><br><span class="line">[root@jaking ~]# systemctl start mysqld</span><br><span class="line">[root@jaking ~]# mysql -uroot -pJaking@vip.163.com</span><br><span class="line">mysql: [Warning] Using a password on the command line interface can be insecure.</span><br><span class="line">Welcome to the MySQL monitor.  Commands end with ; or \g.</span><br><span class="line">Your MySQL connection id is 3</span><br><span class="line">Server version: 5.7.20 MySQL Community Server (GPL)</span><br><span class="line"></span><br><span class="line">Copyright (c) 2000, 2017, Oracle and/or its affiliates. All rights reserved.</span><br><span class="line"></span><br><span class="line">Oracle is a registered trademark of Oracle Corporation and/or its</span><br><span class="line">affiliates. Other names may be trademarks of their respective</span><br><span class="line">owners.</span><br><span class="line"></span><br><span class="line">Type &apos;help;&apos; or &apos;\h&apos; for help. Type &apos;\c&apos; to clear the current input statement.</span><br></pre></td></tr></tbody></table></figure><p></p>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line">mysql&gt; show databases;</span><br><span class="line">+<span class="comment">--------------------+</span></span><br><span class="line">| Database           |</span><br><span class="line">+<span class="comment">--------------------+</span></span><br><span class="line">| information_schema |</span><br><span class="line">| BOOK               |</span><br><span class="line">| TESTDB             |</span><br><span class="line">| mysql              |</span><br><span class="line">| performance_schema |</span><br><span class="line">| sys                |</span><br><span class="line">| testbookdb         |</span><br><span class="line">+<span class="comment">--------------------+</span></span><br><span class="line">7 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">use</span> BOOK;</span><br><span class="line">Reading table information for completion of table and column names</span><br><span class="line">You can turn off this feature to get a quicker startup <span class="keyword">with</span> -A</span><br><span class="line"></span><br><span class="line"><span class="keyword">Database</span> <span class="keyword">changed</span></span><br><span class="line">mysql&gt; <span class="keyword">show</span> <span class="keyword">tables</span>;</span><br><span class="line">+<span class="comment">----------------+</span></span><br><span class="line">| Tables_in_BOOK |</span><br><span class="line">+<span class="comment">----------------+</span></span><br><span class="line">| book           |</span><br><span class="line">+<span class="comment">----------------+</span></span><br><span class="line">2 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">select</span> * <span class="keyword">from</span> book;</span><br><span class="line">+<span class="comment">-------------------------+-------+-------+</span></span><br><span class="line">| name                    | price | pages |</span><br><span class="line">+<span class="comment">-------------------------+-------+-------+</span></span><br><span class="line">| Linux                   |    30 |   666 |</span><br><span class="line">| Cloud Computing         |    60 |   666 |</span><br><span class="line">| Operation System        |    80 |   666 |</span><br><span class="line">| Artificial Intelligence |   166 |   666 |</span><br><span class="line">+<span class="comment">-------------------------+-------+-------+</span></span><br><span class="line">4 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">use</span> testbookdb;</span><br><span class="line">Reading table information for completion of table and column names</span><br><span class="line">You can turn off this feature to get a quicker startup <span class="keyword">with</span> -A</span><br><span class="line"></span><br><span class="line"><span class="keyword">Database</span> <span class="keyword">changed</span></span><br><span class="line">mysql&gt; <span class="keyword">show</span> <span class="keyword">tables</span>;</span><br><span class="line">+<span class="comment">----------------------+</span></span><br><span class="line">| Tables_in_testbookdb |</span><br><span class="line">+<span class="comment">----------------------+</span></span><br><span class="line">| book1                |</span><br><span class="line">| book2                |</span><br><span class="line">+<span class="comment">----------------------+</span></span><br><span class="line">2 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">select</span> * <span class="keyword">from</span> book1;</span><br><span class="line">+<span class="comment">---------+-----------------------------------+-------+-----------------------+</span></span><br><span class="line">| bTypeId | bName                             | price | publishing            |</span><br><span class="line">+<span class="comment">---------+-----------------------------------+-------+-----------------------+</span></span><br><span class="line">|       1 | &#x300A;Linux&#x4ECE;&#x5165;&#x95E8;&#x5230;&#x7CBE;&#x901A;&#x300B;             |    66 | &#x7535;&#x5B50;&#x5DE5;&#x4E1A;&#x51FA;&#x7248;&#x793E;        |</span><br><span class="line">|       2 | &#x300A;&#x4E91;&#x8BA1;&#x7B97;&#x8D8B;&#x52BF;&#x300B;                    |    68 | &#x4EBA;&#x6C11;&#x90AE;&#x7535;&#x51FA;&#x7248;&#x793E;        |</span><br><span class="line">|       3 | &#x300A;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x8BBE;&#x8BA1;&#x4E0E;&#x5B9E;&#x73B0;&#x300B;            |    90 | &#x673A;&#x68B0;&#x5DE5;&#x4E1A;&#x51FA;&#x7248;&#x793E;        |</span><br><span class="line">|       4 | &#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL&#x300B;                   |    71 | &#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E;        |</span><br><span class="line">|       5 | &#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL2&#x300B;                  |    72 | &#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E;        |</span><br><span class="line">|       6 | &#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL3&#x300B;                  |    73 | &#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E;        |</span><br><span class="line">|       7 | &#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL4&#x300B;                  |    74 | &#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E;        |</span><br><span class="line">|       8 | &#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL5&#x300B;                  |    75 | &#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E;        |</span><br><span class="line">|       9 | &#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL6&#x300B;                  |    76 | &#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E;        |</span><br><span class="line">|      10 | &#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL7&#x300B;                  |    77 | &#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E;        |</span><br><span class="line">|      11 | &#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL8&#x300B;                  |    78 | &#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E;        |</span><br><span class="line">|      12 | &#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL9&#x300B;                  |    79 | &#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E;        |</span><br><span class="line">+<span class="comment">---------+-----------------------------------+-------+-----------------------+</span></span><br><span class="line">12 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">select</span> * <span class="keyword">from</span> book2;</span><br><span class="line">+<span class="comment">-----------------------------------+-------+-------+</span></span><br><span class="line">| name                              | price | pages |</span><br><span class="line">+<span class="comment">-----------------------------------+-------+-------+</span></span><br><span class="line">| &#x300A;Linux&#x4ECE;&#x5165;&#x95E8;&#x5230;&#x7CBE;&#x901A;&#x300B;             |    30 |   666 |</span><br><span class="line">| &#x300A;&#x4E91;&#x8BA1;&#x7B97;&#x8D8B;&#x52BF;&#x300B;                    |    60 |   666 |</span><br><span class="line">| &#x300A;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x8BBE;&#x8BA1;&#x4E0E;&#x5B9E;&#x73B0;&#x300B;            |    80 |   666 |</span><br><span class="line">| &#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL&#x300B;                   |   166 |   666 |</span><br><span class="line">+<span class="comment">-----------------------------------+-------+-------+</span></span><br><span class="line">4 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">use</span> TESTDB;</span><br><span class="line">Reading table information for completion of table and column names</span><br><span class="line">You can turn off this feature to get a quicker startup <span class="keyword">with</span> -A</span><br><span class="line"></span><br><span class="line"><span class="keyword">Database</span> <span class="keyword">changed</span></span><br><span class="line">mysql&gt; <span class="keyword">show</span> <span class="keyword">tables</span>;</span><br><span class="line">+<span class="comment">------------------+</span></span><br><span class="line">| Tables_in_TESTDB |</span><br><span class="line">+<span class="comment">------------------+</span></span><br><span class="line">| TABLE1           |</span><br><span class="line">| TABLE2           |</span><br><span class="line">+<span class="comment">------------------+</span></span><br><span class="line">2 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">select</span> * <span class="keyword">from</span> TABLE1;</span><br><span class="line">+<span class="comment">---------+--------+-------+------------+</span></span><br><span class="line">| bTypeId | bName  | price | publishing |</span><br><span class="line">+<span class="comment">---------+--------+-------+------------+</span></span><br><span class="line">|       1 | Linux  |    66 | DZ         |</span><br><span class="line">|       2 | CLD    |    68 | RM         |</span><br><span class="line">|       3 | SYS    |    90 | JX         |</span><br><span class="line">|       4 | MySQL1 |    71 | QH         |</span><br><span class="line">|       5 | MySQL2 |    72 | QH         |</span><br><span class="line">|       6 | MySQL3 |    73 | QH         |</span><br><span class="line">|       7 | MySQL4 |    74 | QH         |</span><br><span class="line">|       8 | MySQL5 |    75 | QH         |</span><br><span class="line">|       9 | MySQL6 |    76 | QH         |</span><br><span class="line">|      10 | MySQL7 |    77 | QH         |</span><br><span class="line">|      11 | MySQL8 |    78 | QH         |</span><br><span class="line">|      12 | MySQL9 |    79 | QH         |</span><br><span class="line">+<span class="comment">---------+--------+-------+------------+</span></span><br><span class="line">12 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">select</span> * <span class="keyword">from</span> TABLE2;</span><br><span class="line">+<span class="comment">--------+-------+-------+</span></span><br><span class="line">| name   | price | pages |</span><br><span class="line">+<span class="comment">--------+-------+-------+</span></span><br><span class="line">| Linux  |    30 |   666 |</span><br><span class="line">| CLD    |    60 |   666 |</span><br><span class="line">| SYS    |    80 |   666 |</span><br><span class="line">| MySQL1 |   166 |   666 |</span><br><span class="line">+<span class="comment">--------+-------+-------+</span></span><br><span class="line">4 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt;</span><br></pre></td></tr></tbody></table></figure>
<p>&#x62D3;&#x5C55;&#xFF1A;&#x8FD8;&#x539F;&#x6570;&#x636E;<br></p><figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line">[root@server12 ~]# rm -rf /tmp/db_backup/*</span><br><span class="line">[root@server12 ~]# innobackupex --default-file=/etc/my.cnf --user=root --password=Jaking@vip.163.com --no-timestamp /tmp/db_backup/all-mysql-data</span><br><span class="line">[root@server12 ~]# mysql -uroot -pJaking@vip.163.com</span><br><span class="line">mysql: [Warning] Using a password on the command line interface can be insecure.</span><br><span class="line">Welcome to the MySQL monitor.  Commands end with ; or \g.</span><br><span class="line">Your MySQL connection id is 5</span><br><span class="line">Server version: 5.7.20 MySQL Community Server (GPL)</span><br><span class="line"></span><br><span class="line">Copyright (c) 2000, 2017, Oracle and/or its affiliates. All rights reserved.</span><br><span class="line"></span><br><span class="line">Oracle is a registered trademark of Oracle Corporation and/or its</span><br><span class="line">affiliates. Other names may be trademarks of their respective</span><br><span class="line">owners.</span><br><span class="line"></span><br><span class="line">Type &apos;help;&apos; or &apos;\h&apos; for help. Type &apos;\c&apos; to clear the current input statement.</span><br></pre></td></tr></tbody></table></figure><p></p>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line">mysql&gt; show databases;</span><br><span class="line">+<span class="comment">--------------------+</span></span><br><span class="line">| Database           |</span><br><span class="line">+<span class="comment">--------------------+</span></span><br><span class="line">| information_schema |</span><br><span class="line">| BOOK               |</span><br><span class="line">| TESTDB             |</span><br><span class="line">| mysql              |</span><br><span class="line">| performance_schema |</span><br><span class="line">| sys                |</span><br><span class="line">| testbookdb         |</span><br><span class="line">+<span class="comment">--------------------+</span></span><br><span class="line">7 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">DATABASE</span> TESTDB666;</span><br><span class="line"><span class="keyword">show</span> <span class="keyword">databases</span>;</span><br><span class="line"><span class="keyword">use</span> TESTDB666;</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> TABLE1 (bTypeId <span class="built_in">int</span>,bName <span class="built_in">char</span>(<span class="number">16</span>),price <span class="built_in">int</span>,publishing <span class="built_in">char</span>(<span class="number">16</span>));</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> TABLE1(bTypeId,bName,price,publishing) <span class="keyword">VALUES</span>(<span class="string">&apos;1&apos;</span>,<span class="string">&apos;Linux&apos;</span>,<span class="string">&apos;66&apos;</span>,<span class="string">&apos;DZ&apos;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> TABLE1(bTypeId,bName,price,publishing) <span class="keyword">VALUES</span>(<span class="string">&apos;2&apos;</span>,<span class="string">&apos;CLD&apos;</span>,<span class="string">&apos;68&apos;</span>,<span class="string">&apos;RM&apos;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> TABLE1(bTypeId,bName,price,publishing) <span class="keyword">VALUES</span>(<span class="string">&apos;3&apos;</span>,<span class="string">&apos;SYS&apos;</span>,<span class="string">&apos;90&apos;</span>,<span class="string">&apos;JX&apos;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> TABLE1(bTypeId,bName,price,publishing) <span class="keyword">VALUES</span>(<span class="string">&apos;4&apos;</span>,<span class="string">&apos;MySQL1&apos;</span>,<span class="string">&apos;71&apos;</span>,<span class="string">&apos;QH&apos;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> TABLE1(bTypeId,bName,price,publishing) <span class="keyword">VALUES</span>(<span class="string">&apos;5&apos;</span>,<span class="string">&apos;MySQL2&apos;</span>,<span class="string">&apos;72&apos;</span>,<span class="string">&apos;QH&apos;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> TABLE1(bTypeId,bName,price,publishing) <span class="keyword">VALUES</span>(<span class="string">&apos;6&apos;</span>,<span class="string">&apos;MySQL3&apos;</span>,<span class="string">&apos;73&apos;</span>,<span class="string">&apos;QH&apos;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> TABLE1(bTypeId,bName,price,publishing) <span class="keyword">VALUES</span>(<span class="string">&apos;7&apos;</span>,<span class="string">&apos;MySQL4&apos;</span>,<span class="string">&apos;74&apos;</span>,<span class="string">&apos;QH&apos;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> TABLE1(bTypeId,bName,price,publishing) <span class="keyword">VALUES</span>(<span class="string">&apos;8&apos;</span>,<span class="string">&apos;MySQL5&apos;</span>,<span class="string">&apos;75&apos;</span>,<span class="string">&apos;QH&apos;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> TABLE1(bTypeId,bName,price,publishing) <span class="keyword">VALUES</span>(<span class="string">&apos;9&apos;</span>,<span class="string">&apos;MySQL6&apos;</span>,<span class="string">&apos;76&apos;</span>,<span class="string">&apos;QH&apos;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> TABLE1(bTypeId,bName,price,publishing) <span class="keyword">VALUES</span>(<span class="string">&apos;10&apos;</span>,<span class="string">&apos;MySQL7&apos;</span>,<span class="string">&apos;77&apos;</span>,<span class="string">&apos;QH&apos;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> TABLE1(bTypeId,bName,price,publishing) <span class="keyword">VALUES</span>(<span class="string">&apos;11&apos;</span>,<span class="string">&apos;MySQL8&apos;</span>,<span class="string">&apos;78&apos;</span>,<span class="string">&apos;QH&apos;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> TABLE1(bTypeId,bName,price,publishing) <span class="keyword">VALUES</span>(<span class="string">&apos;12&apos;</span>,<span class="string">&apos;MySQL9&apos;</span>,<span class="string">&apos;79&apos;</span>,<span class="string">&apos;QH&apos;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> TABLE2 (<span class="keyword">name</span> <span class="built_in">char</span>(<span class="number">16</span>),price <span class="built_in">int</span>,pages <span class="built_in">int</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> TABLE2(<span class="keyword">name</span>,price,pages) <span class="keyword">VALUES</span>(<span class="string">&apos;Linux&apos;</span>,<span class="string">&apos;30&apos;</span>,<span class="string">&apos;666&apos;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> TABLE2(<span class="keyword">name</span>,price,pages) <span class="keyword">VALUES</span>(<span class="string">&apos;CLD&apos;</span>,<span class="string">&apos;60&apos;</span>,<span class="string">&apos;666&apos;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> TABLE2(<span class="keyword">name</span>,price,pages) <span class="keyword">VALUES</span>(<span class="string">&apos;SYS&apos;</span>,<span class="string">&apos;80&apos;</span>,<span class="string">&apos;666&apos;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> TABLE2(<span class="keyword">name</span>,price,pages) <span class="keyword">VALUES</span>(<span class="string">&apos;MySQL1&apos;</span>,<span class="string">&apos;166&apos;</span>,<span class="string">&apos;666&apos;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">show</span> <span class="keyword">tables</span>;</span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> TABLE1;</span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> TABLE2;</span><br><span class="line"></span><br><span class="line">mysql&gt; show tables;</span><br><span class="line">+<span class="comment">---------------------+</span></span><br><span class="line">| Tables_in_TESTDB666 |</span><br><span class="line">+<span class="comment">---------------------+</span></span><br><span class="line">| TABLE1              |</span><br><span class="line">| TABLE2              |</span><br><span class="line">+<span class="comment">---------------------+</span></span><br><span class="line">2 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">select</span> * <span class="keyword">from</span> TABLE1;</span><br><span class="line">+<span class="comment">---------+--------+-------+------------+</span></span><br><span class="line">| bTypeId | bName  | price | publishing |</span><br><span class="line">+<span class="comment">---------+--------+-------+------------+</span></span><br><span class="line">|       1 | Linux  |    66 | DZ         |</span><br><span class="line">|       2 | CLD    |    68 | RM         |</span><br><span class="line">|       3 | SYS    |    90 | JX         |</span><br><span class="line">|       4 | MySQL1 |    71 | QH         |</span><br><span class="line">|       5 | MySQL2 |    72 | QH         |</span><br><span class="line">|       6 | MySQL3 |    73 | QH         |</span><br><span class="line">|       7 | MySQL4 |    74 | QH         |</span><br><span class="line">|       8 | MySQL5 |    75 | QH         |</span><br><span class="line">|       9 | MySQL6 |    76 | QH         |</span><br><span class="line">|      10 | MySQL7 |    77 | QH         |</span><br><span class="line">|      11 | MySQL8 |    78 | QH         |</span><br><span class="line">|      12 | MySQL9 |    79 | QH         |</span><br><span class="line">+<span class="comment">---------+--------+-------+------------+</span></span><br><span class="line">12 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">select</span> * <span class="keyword">from</span> TABLE2;</span><br><span class="line">+<span class="comment">--------+-------+-------+</span></span><br><span class="line">| name   | price | pages |</span><br><span class="line">+<span class="comment">--------+-------+-------+</span></span><br><span class="line">| Linux  |    30 |   666 |</span><br><span class="line">| CLD    |    60 |   666 |</span><br><span class="line">| SYS    |    80 |   666 |</span><br><span class="line">| MySQL1 |   166 |   666 |</span><br><span class="line">+<span class="comment">--------+-------+-------+</span></span><br><span class="line">4 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; </span><br><span class="line"></span><br><span class="line">mysql&gt; ^DBye</span><br></pre></td></tr></tbody></table></figure>
<figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line">[root@server12 ~]# innobackupex --user=root --password=Jaking@vip.163.com --no-timestamp --incremental /tmp/db_backup/incremental-mysql-data --incremental-basedir=/tmp/db_backup/all-mysql-data/</span><br><span class="line">[root@server12 ~]# ls /tmp/db_backup/</span><br><span class="line">all-mysql-data  incremental-mysql-data</span><br><span class="line">[root@server12 ~]# du -sh /tmp/db_backup/all-mysql-data/</span><br><span class="line">27M     /tmp/db_backup/all-mysql-data/</span><br><span class="line">[root@server12 ~]# du -sh /tmp/db_backup/incremental-mysql-data/</span><br><span class="line">4.8M    /tmp/db_backup/incremental-mysql-data/</span><br><span class="line"></span><br><span class="line">[root@server12 ~]# systemctl stop mysqld</span><br><span class="line">[root@server12 ~]# rm -rf /var/lib/mysql/*</span><br><span class="line">[root@server12 ~]# ls /tmp/db_backup/all-mysql-data/</span><br><span class="line">backup-my.cnf   ibdata1             sys         xtrabackup_checkpoints</span><br><span class="line">BOOK            mysql               testbookdb  xtrabackup_info</span><br><span class="line">ib_buffer_pool  performance_schema  TESTDB      xtrabackup_logfile</span><br><span class="line">[root@server12 ~]# ls /tmp/db_backup/incremental-mysql-data/</span><br><span class="line">backup-my.cnf   mysql               TESTDB666</span><br><span class="line">BOOK            performance_schema  xtrabackup_checkpoints</span><br><span class="line">ib_buffer_pool  sys                 xtrabackup_info</span><br><span class="line">ibdata1.delta   testbookdb          xtrabackup_logfile</span><br><span class="line">ibdata1.meta    TESTDB</span><br><span class="line">[root@server12 ~]# cp -ra /tmp/db_backup/incremental-mysql-data/TESTDB666 /tmp/db_backup/all-mysql-data/</span><br><span class="line">[root@server12 ~]# cp -ra /tmp/db_backup/incremental-mysql-data/ibdata1* /tmp/db_backup/all-mysql-data/</span><br><span class="line">[root@server12 ~]# ls /tmp/db_backup/all-mysql-data/</span><br><span class="line">backup-my.cnf   ibdata1.delta       sys         xtrabackup_checkpoints</span><br><span class="line">BOOK            ibdata1.meta        testbookdb  xtrabackup_info</span><br><span class="line">ib_buffer_pool  mysql               TESTDB      xtrabackup_logfile</span><br><span class="line">ibdata1         performance_schema  TESTDB666</span><br><span class="line">[root@server12 ~]# ls /tmp/db_backup/incremental-mysql-data/</span><br><span class="line">backup-my.cnf   mysql               TESTDB666</span><br><span class="line">BOOK            performance_schema  xtrabackup_checkpoints</span><br><span class="line">ib_buffer_pool  sys                 xtrabackup_info</span><br><span class="line">ibdata1.delta   testbookdb          xtrabackup_logfile</span><br><span class="line">ibdata1.meta    TESTDB</span><br><span class="line">[root@server12 ~]# innobackupex --copy-back /tmp/db_backup/all-mysql-data/</span><br><span class="line">[root@server12 ~]# ll /var/lib/mysql</span><br><span class="line">total 13912</span><br><span class="line">drwxr-x--- 2 root root       88 Apr 24 22:26 BOOK</span><br><span class="line">-rw-r----- 1 root root      315 Apr 24 22:26 ib_buffer_pool</span><br><span class="line">-rw-r----- 1 root root 12582912 Apr 24 22:26 ibdata1</span><br><span class="line">-rw-r----- 1 root root  1622016 Apr 24 22:26 ibdata1.delta</span><br><span class="line">-rw-r----- 1 root root       60 Apr 24 22:26 ibdata1.meta</span><br><span class="line">drwxr-x--- 2 root root     4096 Apr 24 22:26 mysql</span><br><span class="line">drwxr-x--- 2 root root     8192 Apr 24 22:26 performance_schema</span><br><span class="line">drwxr-x--- 2 root root     8192 Apr 24 22:26 sys</span><br><span class="line">drwxr-x--- 2 root root       88 Apr 24 22:26 testbookdb</span><br><span class="line">drwxr-x--- 2 root root       92 Apr 24 22:26 TESTDB</span><br><span class="line">drwxr-x--- 2 root root      150 Apr 24 22:26 TESTDB666</span><br><span class="line">-rw-r----- 1 root root      482 Apr 24 22:26 xtrabackup_info</span><br><span class="line">[root@server12 ~]# chown -Rf mysql:mysql /var/lib/mysql</span><br><span class="line">[root@server12 ~]# ll /var/lib/mysql                   </span><br><span class="line">total 13912</span><br><span class="line">drwxr-x--- 2 mysql mysql       88 Apr 24 22:26 BOOK</span><br><span class="line">-rw-r----- 1 mysql mysql      315 Apr 24 22:26 ib_buffer_pool</span><br><span class="line">-rw-r----- 1 mysql mysql 12582912 Apr 24 22:26 ibdata1</span><br><span class="line">-rw-r----- 1 mysql mysql  1622016 Apr 24 22:26 ibdata1.delta</span><br><span class="line">-rw-r----- 1 mysql mysql       60 Apr 24 22:26 ibdata1.meta</span><br><span class="line">drwxr-x--- 2 mysql mysql     4096 Apr 24 22:26 mysql</span><br><span class="line">drwxr-x--- 2 mysql mysql     8192 Apr 24 22:26 performance_schema</span><br><span class="line">drwxr-x--- 2 mysql mysql     8192 Apr 24 22:26 sys</span><br><span class="line">drwxr-x--- 2 mysql mysql       88 Apr 24 22:26 testbookdb</span><br><span class="line">drwxr-x--- 2 mysql mysql       92 Apr 24 22:26 TESTDB</span><br><span class="line">drwxr-x--- 2 mysql mysql      150 Apr 24 22:26 TESTDB666</span><br><span class="line">-rw-r----- 1 mysql mysql      482 Apr 24 22:26 xtrabackup_info</span><br><span class="line">[root@server12 ~]# systemctl start mysqld</span><br><span class="line">[root@server12 ~]# mysql -uroot -pJaking@vip.163.com</span><br><span class="line">mysql: [Warning] Using a password on the command line interface can be insecure.</span><br><span class="line">Welcome to the MySQL monitor.  Commands end with ; or \g.</span><br><span class="line">Your MySQL connection id is 3</span><br><span class="line">Server version: 5.7.20 MySQL Community Server (GPL)</span><br><span class="line"></span><br><span class="line">Copyright (c) 2000, 2017, Oracle and/or its affiliates. All rights reserved.</span><br><span class="line"></span><br><span class="line">Oracle is a registered trademark of Oracle Corporation and/or its</span><br><span class="line">affiliates. Other names may be trademarks of their respective</span><br><span class="line">owners.</span><br><span class="line"></span><br><span class="line">Type &apos;help;&apos; or &apos;\h&apos; for help. Type &apos;\c&apos; to clear the current input statement.</span><br></pre></td></tr></tbody></table></figure>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line">mysql&gt; show databases;</span><br><span class="line">+<span class="comment">--------------------+</span></span><br><span class="line">| Database           |</span><br><span class="line">+<span class="comment">--------------------+</span></span><br><span class="line">| information_schema |</span><br><span class="line">| BOOK               |</span><br><span class="line">| TESTDB             |</span><br><span class="line">| TESTDB666          |</span><br><span class="line">| mysql              |</span><br><span class="line">| performance_schema |</span><br><span class="line">| sys                |</span><br><span class="line">| testbookdb         |</span><br><span class="line">+<span class="comment">--------------------+</span></span><br><span class="line">8 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">use</span> BOOK;</span><br><span class="line">Reading table information for completion of table and column names</span><br><span class="line">You can turn off this feature to get a quicker startup <span class="keyword">with</span> -A</span><br><span class="line"></span><br><span class="line"><span class="keyword">Database</span> <span class="keyword">changed</span></span><br><span class="line">mysql&gt; <span class="keyword">show</span> <span class="keyword">tables</span>;</span><br><span class="line">+<span class="comment">----------------+</span></span><br><span class="line">| Tables_in_BOOK |</span><br><span class="line">+<span class="comment">----------------+</span></span><br><span class="line">| book           |</span><br><span class="line">+<span class="comment">----------------+</span></span><br><span class="line">2 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">select</span> * <span class="keyword">from</span> book;</span><br><span class="line">+<span class="comment">-------------------------+-------+-------+</span></span><br><span class="line">| name                    | price | pages |</span><br><span class="line">+<span class="comment">-------------------------+-------+-------+</span></span><br><span class="line">| Linux                   |    30 |   666 |</span><br><span class="line">| Cloud Computing         |    60 |   666 |</span><br><span class="line">| Operation System        |    80 |   666 |</span><br><span class="line">| Artificial Intelligence |   166 |   666 |</span><br><span class="line">+<span class="comment">-------------------------+-------+-------+</span></span><br><span class="line">4 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">use</span> TESTDB666;</span><br><span class="line">Reading table information for completion of table and column names</span><br><span class="line">You can turn off this feature to get a quicker startup <span class="keyword">with</span> -A</span><br><span class="line"></span><br><span class="line"><span class="keyword">Database</span> <span class="keyword">changed</span></span><br><span class="line">mysql&gt; <span class="keyword">show</span> <span class="keyword">tables</span>;</span><br><span class="line">+<span class="comment">---------------------+</span></span><br><span class="line">| Tables_in_TESTDB666 |</span><br><span class="line">+<span class="comment">---------------------+</span></span><br><span class="line">| TABLE1              |</span><br><span class="line">| TABLE2              |</span><br><span class="line">+<span class="comment">---------------------+</span></span><br><span class="line">2 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">select</span> * <span class="keyword">from</span> TABLE1;</span><br><span class="line">ERROR 1146 (42S02): Table &apos;TESTDB666.TABLE1&apos; doesn&apos;t exist</span><br><span class="line">mysql&gt; select * from TABLE2;</span><br><span class="line">ERROR 1146 (42S02): Table &apos;TESTDB666.TABLE2&apos; doesn&apos;t exist</span><br><span class="line">mysql&gt; use TESTDB;</span><br><span class="line">Reading table information for completion of table and column names</span><br><span class="line">You can turn off this feature to get a quicker startup <span class="keyword">with</span> -A</span><br><span class="line"></span><br><span class="line"><span class="keyword">Database</span> <span class="keyword">changed</span></span><br><span class="line">mysql&gt; <span class="keyword">show</span> <span class="keyword">tables</span>;</span><br><span class="line">+<span class="comment">------------------+</span></span><br><span class="line">| Tables_in_TESTDB |</span><br><span class="line">+<span class="comment">------------------+</span></span><br><span class="line">| TABLE1           |</span><br><span class="line">| TABLE2           |</span><br><span class="line">+<span class="comment">------------------+</span></span><br><span class="line">2 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">select</span> * <span class="keyword">from</span> TABLE1;</span><br><span class="line">+<span class="comment">---------+--------+-------+------------+</span></span><br><span class="line">| bTypeId | bName  | price | publishing |</span><br><span class="line">+<span class="comment">---------+--------+-------+------------+</span></span><br><span class="line">|       1 | Linux  |    66 | DZ         |</span><br><span class="line">|       2 | CLD    |    68 | RM         |</span><br><span class="line">|       3 | SYS    |    90 | JX         |</span><br><span class="line">|       4 | MySQL1 |    71 | QH         |</span><br><span class="line">|       5 | MySQL2 |    72 | QH         |</span><br><span class="line">|       6 | MySQL3 |    73 | QH         |</span><br><span class="line">|       7 | MySQL4 |    74 | QH         |</span><br><span class="line">|       8 | MySQL5 |    75 | QH         |</span><br><span class="line">|       9 | MySQL6 |    76 | QH         |</span><br><span class="line">|      10 | MySQL7 |    77 | QH         |</span><br><span class="line">|      11 | MySQL8 |    78 | QH         |</span><br><span class="line">|      12 | MySQL9 |    79 | QH         |</span><br><span class="line">+<span class="comment">---------+--------+-------+------------+</span></span><br><span class="line">12 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">select</span> * <span class="keyword">from</span> TABLE2;</span><br><span class="line">+<span class="comment">--------+-------+-------+</span></span><br><span class="line">| name   | price | pages |</span><br><span class="line">+<span class="comment">--------+-------+-------+</span></span><br><span class="line">| Linux  |    30 |   666 |</span><br><span class="line">| CLD    |    60 |   666 |</span><br><span class="line">| SYS    |    80 |   666 |</span><br><span class="line">| MySQL1 |   166 |   666 |</span><br><span class="line">+<span class="comment">--------+-------+-------+</span></span><br><span class="line">4 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; ^DBye</span><br></pre></td></tr></tbody></table></figure>
<figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line">[root@server12 ~]#</span><br><span class="line"></span><br><span class="line">[root@server12 ~]# ll /mysql-all-data/</span><br><span class="line">total 110632</span><br><span class="line">-rw-r----- 1 mysql mysql       56 Apr 23 05:15 auto.cnf</span><br><span class="line">drwxr-x--- 2 mysql mysql       88 Apr 24 21:26 BOOK</span><br><span class="line">-rw-r----- 1 mysql mysql      343 Apr 24 21:51 ib_buffer_pool</span><br><span class="line">-rw-r----- 1 mysql mysql 12582912 Apr 24 21:51 ibdata1</span><br><span class="line">-rw-r----- 1 mysql mysql 50331648 Apr 24 21:51 ib_logfile0</span><br><span class="line">-rw-r----- 1 mysql mysql 50331648 Apr 23 05:15 ib_logfile1</span><br><span class="line">drwxr-x--- 2 mysql mysql     4096 Apr 23 05:14 mysql</span><br><span class="line">drwxr-x--- 2 mysql mysql     8192 Apr 23 05:14 performance_schema</span><br><span class="line">drwxr-x--- 2 mysql mysql     8192 Apr 23 05:14 sys</span><br><span class="line">drwxr-x--- 2 mysql mysql       88 Apr 23 05:14 testbookdb</span><br><span class="line">drwxr-x--- 2 mysql mysql       92 Apr 24 21:28 TESTDB</span><br><span class="line">-rw-r----- 1 mysql mysql      472 Apr 23 05:14 xtrabackup_info</span><br><span class="line">[root@server12 ~]# systemctl stop mysqld</span><br><span class="line">[root@server12 ~]# rm -rf /var/lib/mysql/*</span><br><span class="line">[root@server12 ~]# mv /mysql-all-data/* /var/lib/mysql</span><br><span class="line">[root@server12 ~]# ll /var/lib/mysql</span><br><span class="line">total 110632</span><br><span class="line">-rw-r----- 1 mysql mysql       56 Apr 23 05:15 auto.cnf</span><br><span class="line">drwxr-x--- 2 mysql mysql       88 Apr 24 21:26 BOOK</span><br><span class="line">-rw-r----- 1 mysql mysql      343 Apr 24 21:51 ib_buffer_pool</span><br><span class="line">-rw-r----- 1 mysql mysql 12582912 Apr 24 21:51 ibdata1</span><br><span class="line">-rw-r----- 1 mysql mysql 50331648 Apr 24 21:51 ib_logfile0</span><br><span class="line">-rw-r----- 1 mysql mysql 50331648 Apr 23 05:15 ib_logfile1</span><br><span class="line">drwxr-x--- 2 mysql mysql     4096 Apr 23 05:14 mysql</span><br><span class="line">drwxr-x--- 2 mysql mysql     8192 Apr 23 05:14 performance_schema</span><br><span class="line">drwxr-x--- 2 mysql mysql     8192 Apr 23 05:14 sys</span><br><span class="line">drwxr-x--- 2 mysql mysql       88 Apr 23 05:14 testbookdb</span><br><span class="line">drwxr-x--- 2 mysql mysql       92 Apr 24 21:28 TESTDB</span><br><span class="line">-rw-r----- 1 mysql mysql      472 Apr 23 05:14 xtrabackup_info</span><br><span class="line">[root@server12 ~]# systemctl start mysqld</span><br><span class="line">[root@server12 ~]# mysql -uroot -pJaking@vip.163.com</span><br><span class="line">mysql: [Warning] Using a password on the command line interface can be insecure.</span><br><span class="line">Welcome to the MySQL monitor.  Commands end with ; or \g.</span><br><span class="line">Your MySQL connection id is 3</span><br><span class="line">Server version: 5.7.20 MySQL Community Server (GPL)</span><br><span class="line"></span><br><span class="line">Copyright (c) 2000, 2017, Oracle and/or its affiliates. All rights reserved.</span><br><span class="line"></span><br><span class="line">Oracle is a registered trademark of Oracle Corporation and/or its</span><br><span class="line">affiliates. Other names may be trademarks of their respective</span><br><span class="line">owners.</span><br><span class="line"></span><br><span class="line">Type &apos;help;&apos; or &apos;\h&apos; for help. Type &apos;\c&apos; to clear the current input statement.</span><br></pre></td></tr></tbody></table></figure>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line">mysql&gt; show databases;</span><br><span class="line">+<span class="comment">--------------------+</span></span><br><span class="line">| Database           |</span><br><span class="line">+<span class="comment">--------------------+</span></span><br><span class="line">| information_schema |</span><br><span class="line">| BOOK               |</span><br><span class="line">| TESTDB             |</span><br><span class="line">| mysql              |</span><br><span class="line">| performance_schema |</span><br><span class="line">| sys                |</span><br><span class="line">| testbookdb         |</span><br><span class="line">+<span class="comment">--------------------+</span></span><br><span class="line">7 rows in <span class="keyword">set</span> (<span class="number">0.01</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">use</span> BOOK;</span><br><span class="line">Reading table information for completion of table and column names</span><br><span class="line">You can turn off this feature to get a quicker startup <span class="keyword">with</span> -A</span><br><span class="line"></span><br><span class="line"><span class="keyword">Database</span> <span class="keyword">changed</span></span><br><span class="line">mysql&gt; <span class="keyword">show</span> <span class="keyword">tables</span>;</span><br><span class="line">+<span class="comment">----------------+</span></span><br><span class="line">| Tables_in_BOOK |</span><br><span class="line">+<span class="comment">----------------+</span></span><br><span class="line">| book           |</span><br><span class="line">+<span class="comment">----------------+</span></span><br><span class="line">2 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">select</span> * <span class="keyword">from</span> book;</span><br><span class="line">+<span class="comment">-------------------------+-------+-------+</span></span><br><span class="line">| name                    | price | pages |</span><br><span class="line">+<span class="comment">-------------------------+-------+-------+</span></span><br><span class="line">| Linux                   |    30 |   666 |</span><br><span class="line">| Cloud Computing         |    60 |   666 |</span><br><span class="line">| Operation System        |    80 |   666 |</span><br><span class="line">| Artificial Intelligence |   166 |   666 |</span><br><span class="line">+<span class="comment">-------------------------+-------+-------+</span></span><br><span class="line">4 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">use</span> TESTDB;</span><br><span class="line">Reading table information for completion of table and column names</span><br><span class="line">You can turn off this feature to get a quicker startup <span class="keyword">with</span> -A</span><br><span class="line"></span><br><span class="line"><span class="keyword">Database</span> <span class="keyword">changed</span></span><br><span class="line">mysql&gt; <span class="keyword">show</span> <span class="keyword">tables</span>;</span><br><span class="line">+<span class="comment">------------------+</span></span><br><span class="line">| Tables_in_TESTDB |</span><br><span class="line">+<span class="comment">------------------+</span></span><br><span class="line">| TABLE1           |</span><br><span class="line">| TABLE2           |</span><br><span class="line">+<span class="comment">------------------+</span></span><br><span class="line">2 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">select</span> * <span class="keyword">from</span> TABLE1;</span><br><span class="line">+<span class="comment">---------+--------+-------+------------+</span></span><br><span class="line">| bTypeId | bName  | price | publishing |</span><br><span class="line">+<span class="comment">---------+--------+-------+------------+</span></span><br><span class="line">|       1 | Linux  |    66 | DZ         |</span><br><span class="line">|       2 | CLD    |    68 | RM         |</span><br><span class="line">|       3 | SYS    |    90 | JX         |</span><br><span class="line">|       4 | MySQL1 |    71 | QH         |</span><br><span class="line">|       5 | MySQL2 |    72 | QH         |</span><br><span class="line">|       6 | MySQL3 |    73 | QH         |</span><br><span class="line">|       7 | MySQL4 |    74 | QH         |</span><br><span class="line">|       8 | MySQL5 |    75 | QH         |</span><br><span class="line">|       9 | MySQL6 |    76 | QH         |</span><br><span class="line">|      10 | MySQL7 |    77 | QH         |</span><br><span class="line">|      11 | MySQL8 |    78 | QH         |</span><br><span class="line">|      12 | MySQL9 |    79 | QH         |</span><br><span class="line">+<span class="comment">---------+--------+-------+------------+</span></span><br><span class="line">12 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">select</span> * <span class="keyword">from</span> TABLE2;</span><br><span class="line">+<span class="comment">--------+-------+-------+</span></span><br><span class="line">| name   | price | pages |</span><br><span class="line">+<span class="comment">--------+-------+-------+</span></span><br><span class="line">| Linux  |    30 |   666 |</span><br><span class="line">| CLD    |    60 |   666 |</span><br><span class="line">| SYS    |    80 |   666 |</span><br><span class="line">| MySQL1 |   166 |   666 |</span><br><span class="line">+<span class="comment">--------+-------+-------+</span></span><br><span class="line">4 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; ^DBye</span><br><span class="line">[root@server12 ~]<span class="comment">#</span></span><br></pre></td></tr></tbody></table></figure>
<p>&#x7531;&#x4EE5;&#x4E0A;&#x64CD;&#x4F5C;&#x53EF;&#x77E5;innobackupex&#x8FD8;&#x539F;&#x589E;&#x91CF;&#x6570;&#x636E;&#x4E0D;&#x7A33;&#x5B9A;&#xFF01;</p>
<p>6&#xFF1A;&#x5B98;&#x65B9;&#x6587;&#x6863;<br><a href="https://www.percona.com/doc/percona-xtrabackup/2.4/index.html" target="_blank" rel="noopener">https://www.percona.com/doc/percona-xtrabackup/2.4/index.html</a></p>
<p>&#x6587;&#x6863;&#xFF1A;10 mysqldump&#x8FDC;&#x7A0B;&#x5907;&#x4EFD;&#x4E0E;&#x6062;&#x590D;&#x6570;&#x636E;.md<br>&#x94FE;&#x63A5;&#xFF1A;<a href="http://note.youdao.com/noteshare?id=7af3e7cda297defe01228ed798e72c02&amp;sub=E2F44DF8E1BC4B9287EA434DEA3B670C" target="_blank" rel="noopener">http://note.youdao.com/noteshare?id=7af3e7cda297defe01228ed798e72c02&amp;sub=E2F44DF8E1BC4B9287EA434DEA3B670C</a></p>
<p>&#x6587;&#x6863;&#xFF1A;16 innobackupex&#x5907;&#x4EFD;MySQL&#x6570;&#x636E;&#x9047;&#x5230;Can&#x2019;&#x2026;<br>&#x94FE;&#x63A5;&#xFF1A;<a href="http://note.youdao.com/noteshare?id=75c497bba7496b9ec1c61c766e03cca8&amp;sub=F4A9B0EB5E554DB5BB6EF40A12A25512" target="_blank" rel="noopener">http://note.youdao.com/noteshare?id=75c497bba7496b9ec1c61c766e03cca8&amp;sub=F4A9B0EB5E554DB5BB6EF40A12A25512</a></p>
<p>&#x7EC3;&#x4E60;&#xFF1A;1. &#x628A;&#x6570;&#x636E;&#x5B57;&#x5178;&#x5BFC;&#x5165;MySQL&#x6570;&#x636E;&#x5E93; 2. MySQL5.7.20&#x5728;&#x7EBF;&#x5347;&#x7EA7;&#x5230;MySQL5.7.24</p>
<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>
        </div>

        <blockquote class="post-copyright">
    <div class="content">
        
<span class="post-time">
    最后更新：<time datetime="2022-06-07T05:13:38.103Z" itemprop="dateUpdated">2022-06-07 13:13:38</time>
</span>


        
        原文链接：<a href="/posts/269a56e8/" target="_blank" rel="external">https://marnm.github.io/posts/269a56e8/</a>
        
    </div>
    <footer>
        <div onclick="location.href='https://marnm.github.io'">
            <img src="/img/avatar.gif" alt="Echo">
            <a>Echo</a>
        </div>
    </footer>
</blockquote>

        
    <div class="page-reward">
        <nav class="myreward">
            <a id="rewardBtn" href="javascript:;"><span>打&nbsp;赏</span><span>装成好像很多人打赏的样子</span></a>
        </nav>
    </div>



        <div class="post-footer">
            

            
<div class="page-share-wrap">
    

<div class="page-share" id="pageShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=https://marnm.github.io/posts/269a56e8/&title=《MySQL备份与恢复（删库不跑路）》 — Deops's blog&pic=https://marnm.github.io/img/avatar.gif" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=https://marnm.github.io/posts/269a56e8/&title=《MySQL备份与恢复（删库不跑路）》 — Deops's blog&source=Echo" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https://marnm.github.io/posts/269a56e8/" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《MySQL备份与恢复（删库不跑路）》 — Deops's blog&url=https://marnm.github.io/posts/269a56e8/&via=https://marnm.github.io" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=https://marnm.github.io/posts/269a56e8/" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>



    <a href="javascript:;" id="shareFab" class="page-share-fab waves-effect waves-circle">
        <i class="icon icon-share-alt icon-lg"></i>
    </a>
</div>



        </div>
    </div>

    
<nav class="post-nav flex-row flex-justify-between">
  
    <div class="waves-block waves-effect prev">
      <a href="/posts/208cd020/" id="post-prev" class="post-nav-link">
        <h4 class="title">
          上一篇：MySQL调优
        </h4>
      </a>
    </div>
  

  
    <div class="waves-block waves-effect next">
      <a href="/posts/f6e2d114/" id="post-next" class="post-nav-link">
        <h4 class="title" data-hover="下一篇：使用RPM包安装MySQL5.7数据库">下一篇：使用RPM包安装MySQL5.7数据库</h4>
      </a>
    </div>
  
</nav>



    
    

    

    


</article>

</div>

        <footer class="footer">
    <div class="footer-content">
        <span class="power">
            <i class="icon icon-lg icon-copyright"></i>
            2022
            <i class="icon icon-lg icon-heart"></i>
            <a href="https://marnm.github.io">marnm.github.io</a>
            <br>
            Power by
            <a href="https://hexo.io/" target="_blank" rel="external nofollow">Hexo</a>&nbsp;·&nbsp;
            Theme
            <a class="tomotoeslink" href="https://github.com/tomotoes/hexo-theme-tomotoes/" target="_blank" rel="external nofollow">tomotoes</a>
        </span>

        <br>

        <span id="RunTime" style="color:#a7a7a2;"></span>
        <br>

        <span>
            

        </span>
        <br>

        <span class="license"><a target="_blank" rel="license" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh">博客内容遵循 知识共享 署名 - 非商业性 - 相同方式共享 4.0 国际协议</a></span>
    </div>
</footer>

    </main>
    
        
<div id="reward" class="page-modal reward-lay">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <h3 class="reward-title">
        <i class="icon icon-quote-left"></i>
        <span>感谢您的鼓励支持！</span>
        <i class="icon icon-quote-right"></i>
    </h3>
    <div class="reward-content">
        
        <div class="reward-code">
            <img id="rewardCode" data-img="/img/dog.png" alt="打赏二维码">
        </div>
        
        <label class="reward-toggle">
            <input id="rewardToggle" type="checkbox" class="reward-toggle-check" data-wechat="/img/wechat.png" data-alipay="/img/alipay.png">
            <div class="reward-toggle-ctrol">
                <span class="reward-toggle-item wechatPay">&nbsp;&nbsp;微信&nbsp;&nbsp;</span>
                <span class="reward-toggle-item alipayPay">支付宝</span>
            </div>
        </label>
        
        <i class="icon icon-caret-up"></i>
    </div>
</div>


    
    <div class="mask" id="mask"></div>
<a href="javascript:;" id="gotop" class="waves-effect waves-circle waves-light"><span class="icon icon-lg icon-chevron-up"></span></a>



<div class="global-share" id="globalShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=https://marnm.github.io/posts/269a56e8/&title=《MySQL备份与恢复（删库不跑路）》 — Deops's blog&pic=https://marnm.github.io/img/avatar.gif" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=https://marnm.github.io/posts/269a56e8/&title=《MySQL备份与恢复（删库不跑路）》 — Deops's blog&source=Echo" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https://marnm.github.io/posts/269a56e8/" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《MySQL备份与恢复（删库不跑路）》 — Deops's blog&url=https://marnm.github.io/posts/269a56e8/&via=https://marnm.github.io" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=https://marnm.github.io/posts/269a56e8/" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>


<div class="page-modal wx-share" id="wxShare">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <p class="wechatshare">扫一扫，分享到微信</p>
    <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAK4AAACuCAAAAACKZ2kyAAABvklEQVR42u3aQY6EMAwEQP7/6dkXELltEtCqckLaYVNcrLid6yqv33Ld/abyP68dCxcXd8ydUO6e7/66fndtwMXFPc9dF5q0MKWUigEXF/f73HTju3dxcXH/B7e+zZqOi4v7fW79CHJHWRPT5uqBXg0XF3fAraeU+5635Lu4uLgt7i9caSNUL3yl3XFxcY9wnwoy0jYmHcTi4uK+xV2Xm0mQmoaqca+Gi4v7KDc4WCzLWRqMprFIcCLDxcV9iFtpUdJSlbY9pWMTLi7ucW5pwDm4ilEvYbcfjIuLe4Q7CUDnkceoV8PFxd3M7UHTSxI7rnTg4uLu5sbDzrCorT9sTcfFxT3JrY9JJs/1sDXu1XBxcTdw66VnXYB6RbA+ernSSomLi/sQt1JQ6tFnOoYJQhZcXNyXuL1rmvUhShqR4OLivsutjzzT8LR3xLnSUxUuLu6Y22td0sHJ5CNxcXHPc3tXIurlKW1y6vvi4uLu5j5VvHqD1bjA4eLiHuTWRxr1wWqvgpYCU1xc3I9x6xv0VjM1wcXF/QB3EmqMfo+Li3uQWw830yBj/km4uLjnub2Xe5eu6oHIA/kuLi5uh/sHtNMBLzwLzzYAAAAASUVORK5CYII=" alt="微信分享二维码">
</div>




    <!-- waves按钮特效 -->
<script src="//cdn.bootcss.com/node-waves/0.7.4/waves.min.js"></script>

<!-- 主题配置脚本 -->
<script>
var BLOG = { ROOT: '/', SHARE: true, REWARD: true };
</script>

<!-- jquery -->
<script src="/js/jquery.min.js?v=3.0"></script>

<!-- 搜索 -->

<div class="search-panel" id="search-panel">
    <ul class="search-result" id="search-result"></ul>
</div>
<template id="search-tpl">
<li class="item waves-block waves-effect" onclick="location.href='{path}'">
    <div class="title ellipsis" title="{title}">{title}</div>
</li>
</template>


<!-- main博客脚本 -->
<script src="/js/main.min.js?v=3.0"></script>

<!-- 动画&配置 -->
<script src="/js/script.min.js?v=3.0"></script>

<!-- 脚本管理 -->
<script>

if(window.innerWidth > 800){
	/* 3D标题 */
	$(".content-header").on("mousemove", threedee);

	/* 底部追随鼠标 */
	$(".footer").hover(2);

	/* gotop键的涟漪 */
	$("#gotop").hover(1);

	/* 赞赏的粒子雨 */
	$("#reward").hover(3);

	/* 微信公众号的底部渲染 */
	$("#wechat").hover(4);

    /* 标题跳动 */
    $(".archivestitle").bumpyText();

	/* 图片点击放大 */
	const postimg = jQuery(".post-content img:not(.github-emoji)");
	postimg.on("click",function(){

		mask.classList.add("in");
		main.classList.add("Mask");
		menu.classList.add("Mask");
		var myimg = this.cloneNode(true);
		myimg.classList.add("imgShow");

		setTimeout(function(){
			jQuery(myimg).animate({
				opacity:"1"
			},1000);
		},0);

		document.body.appendChild(myimg);

		myimg.onclick=function(){
			document.body.removeChild(myimg);
			mask.classList.remove("in");
			main.classList.remove("Mask");
			menu.classList.remove("Mask");
		};

	});

}

/* 名字跳动 */
$("#name").bumpyText();


/* 网站运行时间 */
setInterval(function () {
	setTime("2019/01/01");
}, 1000);

/* 文章块的淡出 */
postshow();

/* 座右铭 */

   getHitokoto();



/* 粘贴提示 */
G($(".post-content"), location.href, "Echo");


/* 控制台 */
if (window.console && window.console.log) {
	setTimeout(function () {
		console.log("\n %c 一个坏掉的番茄 %c  © Simon Ma  http://tomotoes.com \n\n", "color:#FFFFFB;background:#1abc9c;padding:5px 0;border-radius:.5rem 0 0 .5rem;", "color:#FFFFFB;background:#080808;padding:5px 0;border-radius:0 .5rem .5rem 0;");
	}, 0);
}

</script>




<!-- 公式渲染 -->



<!-- 不蒜子 -->


</body>
</html>
